(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[2550],{43634:(T,f,t)=>{"use strict";t.d(f,{G:()=>p});var c=t(60177),e=t(54438),a=t(7673),r=t(25558),h=t(85500),_=t(80193),v=t(89777),M=t(47561);let p=(()=>{class C{constructor(o,P,n,R){this.linkHeadService=o,this.notifyInfoService=P,this.responseService=n,this.platformId=R,this.inboxLinks=[],this.subs=[]}ngOnInit(){this.subs.push(this.notifyInfoService.isCoarConfigEnabled().pipe((0,r.n)(o=>o?this.notifyInfoService.getCoarLdnLocalInboxUrls():(0,a.of)([]))).subscribe(o=>{o.length>0&&this.initPageLinks(o)}))}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe()),this.inboxLinks.forEach(o=>{this.linkHeadService.removeTag(`href='${o.href}'`)})}initPageLinks(o){const P=this.notifyInfoService.getInboxRelationLink();let n="";o.forEach(R=>{const L={href:R,rel:P};this.inboxLinks.push(L),this.linkHeadService.addTag(L),n=n+((0,v.hj)(n)?", ":"")+`<${R}> ; rel="${P}"`}),(0,c.Vy)(this.platformId)&&this.responseService.setHeader("Link",n)}static{this.\u0275fac=function(P){return new(P||C)(e.rXU(M.m),e.rXU(h.P),e.rXU(_.w),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:C,selectors:[["ds-home-coar"]],standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(P,n){},encapsulation:2})}}return C})()},53634:(T,f,t)=>{"use strict";t.d(f,{v:()=>h});var c=t(29710),e=t(54438);const a=["*"];function r(_,v){}let h=(()=>{class _ extends c.J{getComponentName(){return"HomeNewsComponent"}importThemedComponent(M){return t(56564)(`./${M}/app/home-page/home-news/home-news.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,96762))}static{this.\u0275fac=(()=>{let M;return function(C){return(M||(M=e.xGo(_)))(C||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-home-news"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:a,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,C){1&p&&(e.NAR(),e.DNE(0,r,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},82550:(T,f,t)=>{"use strict";t.r(f),t.d(f,{ROUTES:()=>M});var c=t(19125),e=t(29710),r=(t(81024),t(54438));const h=["*"];function _(p,C){}const M=[{path:"",component:(()=>{class p extends e.J{getComponentName(){return"HomePageComponent"}importThemedComponent(O){return t(78010)(`./${O}/app/home-page/home-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,81024))}static{this.\u0275fac=(()=>{let O;return function(P){return(O||(O=r.xGo(p)))(P||p)}})()}static{this.\u0275cmp=r.VBU({type:p,selectors:[["ds-home-page"]],standalone:!0,features:[r.Vt3,r.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(o,P){1&o&&(r.NAR(),r.DNE(0,_,0,0,"ng-template",null,0,r.C5r),r.j41(2,"div",null,1),r.SdG(4),r.k0s())},encapsulation:2})}}return p})(),pathMatch:"full",data:{title:"home.title",menu:{public:[{id:"statistics_site",active:!0,visible:!0,index:2,model:{type:c.x.LINK,text:"menu.section.statistics",link:"statistics"}}]}}}]},81024:(T,f,t)=>{"use strict";t.r(f),t.d(f,{HomePageComponent:()=>u});var c=t(60177),e=t(68018),a=t(96354),r=t(79096),h=t(33829),_=t(10653),v=t(43144),M=t(43634),p=t(53634),C=t(2e3),O=t(48334),o=t(54438),P=t(7901);function n(l,m){1&l&&o.eu8(0,4)}function R(l,m){if(1&l&&(o.j41(0,"ds-configuration-search-page",1),o.DNE(1,n,1,0,"ng-container",3),o.k0s()),2&l){o.XpG();const i=o.sdS(6);o.Y8G("sideBarWidth",3)("showViewModes",!1)("searchEnabled",!1)("inPlaceSearch",!1)("showScopeSelector",!1),o.R7$(),o.Y8G("ngTemplateOutlet",i)}}function L(l,m){1&l&&o.eu8(0)}function s(l,m){if(1&l&&(o.j41(0,"div",2),o.DNE(1,L,1,0,"ng-container",5),o.k0s()),2&l){o.XpG();const i=o.sdS(6);o.R7$(),o.Y8G("ngTemplateOutlet",i)}}function B(l,m){1&l&&o.nrm(0,"ds-recent-item-list")}function x(l,m){if(1&l&&(o.nrm(0,"ds-search-form",6),o.nI1(1,"translate"),o.nrm(2,"ds-top-level-community-list"),o.DNE(3,B,1,0,"ds-recent-item-list")),2&l){const i=o.XpG();o.Y8G("inPlaceSearch",!1)("searchPlaceholder",o.bMT(1,3,"home.search-form.placeholder")),o.R7$(3),o.vxM(i.recentSubmissionspageSize>0?3:-1)}}let u=(()=>{class l{constructor(i,D){this.appConfig=i,this.route=D,this.recentSubmissionspageSize=this.appConfig.homePage.recentSubmissions.pageSize,this.showDiscoverFilters=this.appConfig.homePage.showDiscoverFilters}ngOnInit(){this.site$=this.route.data.pipe((0,a.T)(i=>i.site))}static{this.\u0275fac=function(D){return new(D||l)(o.rXU(r.vQ),o.rXU(P.nX))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["ds-base-home-page"]],standalone:!0,features:[o.aNF],decls:7,vars:2,consts:[["homeContent",""],[3,"sideBarWidth","showViewModes","searchEnabled","inPlaceSearch","showScopeSelector"],[1,"container"],["searchContentTop","",4,"ngTemplateOutlet"],["searchContentTop",""],[4,"ngTemplateOutlet"],[3,"inPlaceSearch","searchPlaceholder"]],template:function(D,g){1&D&&(o.nrm(0,"ds-home-coar")(1,"ds-home-news"),o.DNE(2,R,2,6,"ds-configuration-search-page",1)(3,s,2,1,"div",2),o.nrm(4,"ds-suggestions-popup"),o.DNE(5,x,4,5,"ng-template",null,0,o.C5r)),2&D&&(o.R7$(2),o.vxM(g.showDiscoverFilters?2:-1),o.R7$(),o.vxM(g.showDiscoverFilters?-1:3))},dependencies:[M.G,c.T3,C.Y,h.t,_.M,p.v,v.d,O.z,e.h,e.D9],styles:["@media (max-width: 767.98px){ds-themed-configuration-search-page[_ngcontent-%COMP%] + .container[_ngcontent-%COMP%]{width:100%;max-width:none}}"]})}}return l})()},2e3:(T,f,t)=>{"use strict";t.d(f,{Y:()=>S});var c=t(60177),e=t(54438),a=t(68018),r=t(79096),h=t(78544),_=t(70998),v=t(31),M=t(93136),p=t(4093),C=t(40645),O=t(74272),o=t(19192),P=t(2180),n=t(14744),R=t(15202),L=t(8447),s=t(8417),B=t(30726),x=t(4600),u=t(93446),l=t(50186);function m(E,y){if(1&E&&(e.j41(0,"li",5),e.nrm(1,"ds-listable-object-component-loader",7),e.k0s()),2&E){const d=y.$implicit,I=e.XpG(3);e.R7$(),e.Y8G("object",d)("viewMode",I.viewMode)}}function i(E,y){if(1&E){const d=e.RV6();e.j41(0,"div",1),e.nrm(1,"div",3),e.j41(2,"h2"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ul",4),e.Z7z(6,m,2,2,"li",5,e.fX1),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){e.eBV(d);const A=e.XpG(2);return e.Njj(A.onLoadMore())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()}if(2&E){const d=e.XpG().ngVar,I=e.XpG();e.Y8G("ngClass",I.placeholderFontClass)("@fadeIn",void 0),e.R7$(3),e.SpI(" ",e.bMT(4,4,"home.recent-submissions.head"),""),e.R7$(3),e.Dyx(null==d||null==d.payload?null:d.payload.page),e.R7$(3),e.SpI(" ",e.bMT(10,6,"vocabulary-treeview.load-more")," ... ")}}function D(E,y){1&E&&(e.nrm(0,"ds-error",2),e.nI1(1,"translate")),2&E&&e.FS9("message",e.bMT(1,1,"error.recent-submissions"))}function g(E,y){1&E&&(e.nrm(0,"ds-loading",2),e.nI1(1,"translate")),2&E&&e.FS9("message",e.bMT(1,1,"loading.recent-submissions"))}function U(E,y){if(1&E&&(e.qex(0),e.DNE(1,i,11,8,"div",1)(2,D,2,3,"ds-error",2)(3,g,2,3,"ds-loading",2),e.bVm()),2&E){const d=y.ngVar;e.R7$(),e.vxM(null!=d&&d.hasSucceeded&&(null==d||null==d.payload?null:d.payload.page.length)>0?1:-1),e.R7$(),e.vxM(null!=d&&d.hasFailed?2:-1),e.R7$(),e.vxM(!d||d.isLoading?3:-1)}}let S=(()=>{class E{constructor(d,I,A,W,K,F){this.searchService=d,this.paginationService=I,this.searchConfigurationService=A,this.elementRef=W,this.appConfig=K,this.platformId=F,this.viewMode=o.n.ListElement,this.paginationConfig=Object.assign(new s.W,{id:"hp",pageSize:h.c.homePage.recentSubmissions.pageSize,currentPage:1,maxSize:1}),this.sortConfig=new _.z(h.c.homePage.recentSubmissions.sortField,_.U.DESC)}ngOnInit(){const d=[];this.appConfig.browseBy.showThumbnails&&d.push((0,x.s)("thumbnail")),this.appConfig.item.showAccessStatuses&&d.push((0,x.s)("accessStatus")),this.itemRD$=this.searchService.search(new B.C({pagination:this.paginationConfig,dsoTypes:[M.W.ITEM],sort:this.sortConfig}),void 0,void 0,void 0,...d).pipe((0,p.jY)())}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}onLoadMore(){this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,["search"],{sortField:h.c.homePage.recentSubmissions.sortField,sortDirection:"DESC",page:1})}get placeholderFontClass(){return void 0===this._placeholderFontClass&&(this._placeholderFontClass=(0,c.UE)(this.platformId)?(0,u.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"),this._placeholderFontClass}static{this.\u0275fac=function(I){return new(I||E)(e.rXU(C.S),e.rXU(v.m),e.rXU(O.g),e.rXU(e.aKT),e.rXU(r.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["ds-recent-item-list"]],standalone:!0,features:[e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-4",3,"ngClass"],[3,"message"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"list-unstyled","m-0","p-0"],[1,"my-4"],["role","link","tabindex","0",1,"btn","btn-primary","search-button","mt-4","float-start",3,"click"],[1,"pb-4",3,"object","viewMode"]],template:function(I,A){1&I&&(e.DNE(0,U,4,3,"ng-container",0),e.nI1(1,"async")),2&I&&e.Y8G("ngVar",e.bMT(1,1,A.itemRD$))},dependencies:[c.Jj,n.A,L.v,c.YU,R.v,a.h,a.D9,l.r],data:{animation:[P.qG,P.Ws]},changeDetection:0})}}return E})()},48334:(T,f,t)=>{"use strict";t.d(f,{z:()=>_});var c=t(29710),a=(t(58574),t(54438));const r=["*"];function h(v,M){}let _=(()=>{class v extends c.J{getComponentName(){return"TopLevelCommunityListComponent"}importThemedComponent(p){return t(30068)(`./${p}/app/home-page/top-level-community-list/top-level-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,58574))}static{this.\u0275fac=(()=>{let p;return function(O){return(p||(p=a.xGo(v)))(O||v)}})()}static{this.\u0275cmp=a.VBU({type:v,selectors:[["ds-top-level-community-list"]],standalone:!0,features:[a.Vt3,a.aNF],ngContentSelectors:r,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(a.NAR(),a.DNE(0,h,0,0,"ng-template",null,0,a.C5r),a.j41(2,"div",null,1),a.SdG(4),a.k0s())},encapsulation:2})}}return v})()},58574:(T,f,t)=>{"use strict";t.r(f),t.d(f,{TopLevelCommunityListComponent:()=>m});var c=t(60177),e=t(68018),a=t(84412),r=t(84572),h=t(25558),_=t(79096),v=t(70998),M=t(30684),p=t(31),C=t(2180),O=t(89777),o=t(14744),P=t(15202),n=t(52186),R=t(8417),L=t(50186),s=t(54438);function B(i,D){if(1&i&&(s.j41(0,"div")(1,"h2"),s.EFF(2),s.nI1(3,"translate"),s.k0s(),s.j41(4,"p",2),s.EFF(5),s.nI1(6,"translate"),s.k0s(),s.nrm(7,"ds-viewable-collection",3),s.nI1(8,"async"),s.k0s()),2&i){const g=s.XpG(2);s.R7$(2),s.SpI(" ",s.bMT(3,7,"home.top-level-communities.head")," "),s.R7$(3),s.JRh(s.bMT(6,9,"home.top-level-communities.help")),s.R7$(2),s.Y8G("config",g.config)("sortConfig",g.sortConfig)("showRSS",g.rssSortConfig)("objects",s.bMT(8,11,g.communitiesRD$))("hideGear",!0)}}function x(i,D){1&i&&(s.nrm(0,"ds-error",1),s.nI1(1,"translate")),2&i&&s.FS9("message",s.bMT(1,1,"error.top-level-communities"))}function u(i,D){1&i&&(s.nrm(0,"ds-loading",1),s.nI1(1,"translate")),2&i&&s.FS9("message",s.bMT(1,1,"loading.top-level-communities"))}function l(i,D){if(1&i&&(s.qex(0),s.DNE(1,B,9,13,"div")(2,x,2,3,"ds-error",1)(3,u,2,3,"ds-loading",1),s.bVm()),2&i){const g=D.ngVar;s.R7$(),s.vxM(null!=g&&g.hasSucceeded?1:-1),s.R7$(),s.vxM(null!=g&&g.hasFailed?2:-1),s.R7$(),s.vxM(null!=g&&g.isLoading?3:-1)}}let m=(()=>{class i{constructor(g,U,S){this.appConfig=g,this.cds=U,this.paginationService=S,this.communitiesRD$=new a.t({}),this.pageId="tl",this.config=new R.W,this.config.id=this.pageId,this.config.pageSize=g.homePage.topLevelCommunityList.pageSize,this.config.currentPage=1,this.sortConfig=new v.z("dc.title",v.U.ASC),this.rssSortConfig=new v.z("dc.date.accessioned",v.U.DESC)}ngOnInit(){this.initPage()}initPage(){const g=this.paginationService.getCurrentPagination(this.config.id,this.config),U=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.currentPageSubscription=(0,r.z)([g,U]).pipe((0,h.n)(([S,E])=>this.cds.findTop({currentPage:S.currentPage,elementsPerPage:S.pageSize,sort:{field:E.field,direction:E.direction}}))).subscribe(S=>{this.communitiesRD$.next(S)})}unsubscribe(){(0,O.a4)(this.currentPageSubscription)&&this.currentPageSubscription.unsubscribe()}ngOnDestroy(){this.unsubscribe(),this.paginationService.clearPagination(this.config.id)}static{this.\u0275fac=function(U){return new(U||i)(s.rXU(_.vQ),s.rXU(M.CommunityDataService),s.rXU(p.m))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["ds-base-top-level-community-list"]],standalone:!0,features:[s.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"message"],[1,"lead"],[3,"config","sortConfig","showRSS","objects","hideGear"]],template:function(U,S){1&U&&(s.DNE(0,l,4,3,"ng-container",0),s.nI1(1,"async")),2&U&&s.Y8G("ngVar",s.bMT(1,1,S.communitiesRD$))},dependencies:[c.Jj,o.A,n.h,P.v,e.h,e.D9,L.r],data:{animation:[C.Ws]},changeDetection:0})}}return i})()},33829:(T,f,t)=>{"use strict";t.d(f,{t:()=>x});var c=t(49969),e=t(60177),a=t(7901),r=t(68018),h=t(21413),_=t(84572),v=t(7673),M=t(96697),p=t(56977),C=t(68887),O=t(89777),o=t(85955),P=t(6207),n=t(54438);function R(u,l){if(1&u&&(n.j41(0,"div"),n.nrm(1,"div",9),n.nI1(2,"translate"),n.EFF(3),n.nI1(4,"translate"),n.j41(5,"a",10),n.EFF(6),n.nI1(7,"translate"),n.k0s()()),2&u){const m=n.XpG().$implicit,i=n.XpG(3);n.R7$(),n.Y8G("innerHTML",n.i5U(2,4,"notification.suggestion",i.getNotificationSuggestionInterpolation(m)),n.npT),n.R7$(2),n.SpI(" ",n.bMT(4,7,"notification.suggestion.please")," "),n.R7$(2),n.Y8G("routerLink",i.getNotificationSuggestionInterpolation(m).url),n.R7$(),n.SpI(" ",n.bMT(7,9,"notification.suggestion.review")," ")}}function L(u,l){if(1&u&&(n.qex(0,8),n.DNE(1,R,8,11,"div"),n.bVm()),2&u){const m=l.$implicit;n.R7$(),n.vxM(m.total>0?1:-1)}}function s(u,l){1&u&&n.Z7z(0,L,2,1,"ng-container",8,n.fX1),2&u&&n.Dyx(l)}function B(u,l){if(1&u){const m=n.RV6();n.j41(0,"div",0)(1,"div",1)(2,"button",2),n.bIt("click",function(){n.eBV(m);const D=n.XpG();return n.Njj(D.removePopup())}),n.k0s(),n.j41(3,"div",3)(4,"div",4)(5,"div",5),n.nrm(6,"i",6),n.k0s()(),n.j41(7,"div",7),n.DNE(8,s,2,0),n.nI1(9,"async"),n.k0s()()()()}if(2&u){let m;const i=n.XpG();n.R7$(8),n.vxM((m=n.bMT(9,1,i.suggestionsRD$))?8:-1,m)}}let x=(()=>{class u{constructor(m,i){this.suggestionTargetsStateService=m,this.suggestionsService=i,this.labelPrefix="notification."}ngOnInit(){this.initializePopup()}initializePopup(){const m=new h.B;this.subscription=(0,_.z)([this.suggestionTargetsStateService.getCurrentUserSuggestionTargets().pipe((0,M.s)(2)),this.suggestionTargetsStateService.hasUserVisitedSuggestions()]).pipe((0,p.Q)(m)).subscribe(([i,D])=>{this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction(),(0,O.hj)(i)&&(D||(this.suggestionsRD$=(0,v.of)(i),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction(),m.next(null),m.complete()))})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getNotificationSuggestionInterpolation(m){return this.suggestionsService.getNotificationSuggestionInterpolation(m)}removePopup(){this.suggestionsRD$=null}static{this.\u0275fac=function(i){return new(i||u)(n.rXU(P.x),n.rXU(o.F))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["ds-suggestions-popup"]],standalone:!0,features:[n.aNF],decls:2,vars:3,consts:[[1,"notifications-wrapper","position-fixed","top","right"],["role","alert",1,"notification","alert","alert-success","alert-dismissible","m-3","shadow"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"close","pt-0","pe-1","pe-0","pb-0",3,"click"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[1,"fas","fa-2x","fa-check-circle"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch","text-start","p-2"],[1,"alert","alert-info"],[3,"innerHTML"],[3,"routerLink"]],template:function(i,D){1&i&&(n.DNE(0,B,10,3,"div",0),n.nI1(1,"async")),2&i&&n.vxM(n.bMT(1,1,D.suggestionsRD$)?0:-1)},dependencies:[e.Jj,a.Wk,r.h,r.D9],data:{animation:[(0,c.hZ)("enterLeave",[C.iP])]}})}}return u})()},56564:(T,f,t)=>{var c={"./custom/app/home-page/home-news/home-news.component":[1765,1765],"./dspace/app/home-page/home-news/home-news.component":[24968]};function e(a){if(!t.o(c,a))return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+a+"'");throw _.code="MODULE_NOT_FOUND",_});var r=c[a],h=r[0];return Promise.all(r.slice(1).map(t.e)).then(()=>t(h))}e.keys=()=>Object.keys(c),e.id=56564,T.exports=e},78010:(T,f,t)=>{var c={"./custom/app/home-page/home-page.component":[64127,4127]};function e(a){if(!t.o(c,a))return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+a+"'");throw _.code="MODULE_NOT_FOUND",_});var r=c[a],h=r[0];return t.e(r[1]).then(()=>t(h))}e.keys=()=>Object.keys(c),e.id=78010,T.exports=e},30068:(T,f,t)=>{var c={"./custom/app/home-page/top-level-community-list/top-level-community-list.component":[63941,3941]};function e(a){if(!t.o(c,a))return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+a+"'");throw _.code="MODULE_NOT_FOUND",_});var r=c[a],h=r[0];return t.e(r[1]).then(()=>t(h))}e.keys=()=>Object.keys(c),e.id=30068,T.exports=e}}]);