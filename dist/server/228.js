exports.id=228,exports.ids=[228,5488,4556,5311,4927,3390,9007,1201,5327],exports.modules={48020:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}},21408:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>DSOBreadcrumbsService});var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60444),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48020),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2794),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76715),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14160),_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11481),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376);let DSOBreadcrumbsService=(()=>{class DSOBreadcrumbsService2{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__.Q(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__.s)(propertyName))[propertyName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I6)(parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.nx)(parentRD=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(parent))}return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([])}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(breadcrumbs=>[...breadcrumbs,crumb]))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DSOBreadcrumbsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:DSOBreadcrumbsService2,factory:DSOBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return DSOBreadcrumbsService2})()},12213:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>i18nBreadcrumbResolver});var core=__webpack_require__(25376),empty_util=__webpack_require__(2794),route_utils=__webpack_require__(93359),cjs=__webpack_require__(9238),breadcrumb_model=__webpack_require__(48020);let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService2{getBreadcrumbs(key,url){return(0,cjs.of)([new breadcrumb_model.Q(key+".breadcrumbs",url)])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||I18nBreadcrumbsService2)}}static{this.\u0275prov=core.jDH({token:I18nBreadcrumbsService2,factory:I18nBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return I18nBreadcrumbsService2})();const i18nBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(I18nBreadcrumbsService))=>{const key=route.data.breadcrumbKey;if((0,empty_util.Tn)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");return{provider:breadcrumbService,key,url:(0,route_utils.F)(route)}}},72684:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>ConfigDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60444),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61640),_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39022);class ConfigDataService extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_0__.W{findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(rd=>{if(rd.hasFailed)throw new Error("Couldn't retrieve the config");return rd}))}findByName(name,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findById(name,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}}},74556:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionAccessesConfigDataService:()=>SubmissionAccessesConfigDataService});var _cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26139),_config_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72684),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376);let SubmissionAccessesConfigDataService=(()=>{class SubmissionAccessesConfigDataService2 extends _config_data_service__WEBPACK_IMPORTED_MODULE_4__.O{constructor(requestService,rdbService,objectCache,halService){super("submissionaccessoptions",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionAccessesConfigDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.jDH({token:SubmissionAccessesConfigDataService2,factory:SubmissionAccessesConfigDataService2.\u0275fac,providedIn:"root"})}}return SubmissionAccessesConfigDataService2})()},1201:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionFormsConfigDataService:()=>SubmissionFormsConfigDataService});var _cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26139),_config_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72684),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376);let SubmissionFormsConfigDataService=(()=>{class SubmissionFormsConfigDataService2 extends _config_data_service__WEBPACK_IMPORTED_MODULE_4__.O{constructor(requestService,rdbService,objectCache,halService){super("submissionforms",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionFormsConfigDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.jDH({token:SubmissionFormsConfigDataService2,factory:SubmissionFormsConfigDataService2.\u0275fac,providedIn:"root"})}}return SubmissionFormsConfigDataService2})()},25488:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionUploadsConfigDataService:()=>SubmissionUploadsConfigDataService});var _cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26139),_config_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72684),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376);let SubmissionUploadsConfigDataService=(()=>{class SubmissionUploadsConfigDataService2 extends _config_data_service__WEBPACK_IMPORTED_MODULE_4__.O{constructor(requestService,rdbService,objectCache,halService){super("submissionuploads",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionUploadsConfigDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.jDH({token:SubmissionUploadsConfigDataService2,factory:SubmissionUploadsConfigDataService2.\u0275fac,providedIn:"root"})}}return SubmissionUploadsConfigDataService2})()},55327:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NotifyRequestsStatusDataService:()=>NotifyRequestsStatusDataService});var rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9238),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26139),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61640),_request_models__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(99381),_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64806),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25376);let NotifyRequestsStatusDataService=(()=>{class NotifyRequestsStatusDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__.W{constructor(requestService,rdbService,objectCache,halService){super("notifyrequests",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}getNotifyRequestsStatus(itemUuid){const href$=this.getEndpoint().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.map)(url=>url+"/"+itemUuid));return href$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.take)(1)).subscribe(url=>{const request=new _request_models__WEBPACK_IMPORTED_MODULE_4__.IP(this.requestService.generateRequestId(),url);this.requestService.send(request,!0)}),this.rdbService.buildFromHref(href$)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||NotifyRequestsStatusDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_5__.B),_angular_core__WEBPACK_IMPORTED_MODULE_7__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_7__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_7__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_7__.jDH({token:NotifyRequestsStatusDataService2,factory:NotifyRequestsStatusDataService2.\u0275fac,providedIn:"root"})}}return NotifyRequestsStatusDataService2})()},43457:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>SignpostingDataService});var rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60444),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3339),_dspace_rest_dspace_rest_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(231),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25376);let SignpostingDataService=(()=>{class SignpostingDataService2{constructor(appConfig,restService){this.appConfig=appConfig,this.restService=restService}getLinks(uuid){return this.restService.get(`${this.appConfig.rest.baseUrl}/signposting/links/${uuid}`).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.WL)(err=>(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.of)([])),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(res=>200===res.statusCode?res.payload:[]))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SignpostingDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_dspace_rest_dspace_rest_service__WEBPACK_IMPORTED_MODULE_1__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:SignpostingDataService2,factory:SignpostingDataService2.\u0275fac,providedIn:"root"})}}return SignpostingDataService2})()},71771:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>JsonPatchOperationsBuilder});var _shared_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13651),_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2794),_shared_form_builder_models_form_field_language_value_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84294),_shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(77493),_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89010),_json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75240),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25376),_ngrx_store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22609);let JsonPatchOperationsBuilder=(()=>{class JsonPatchOperationsBuilder2{constructor(store){this.store=store}add(path,value,first=!1,plain=!1){this.store.dispatch(new _json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__.X2(path.rootElement,path.subRootElement,path.path,this.prepareValue(value,plain,first)))}replace(path,value,plain=!1){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.Tn)(value)||"object"==typeof value&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.Tn)(value.value)?this.remove(path):this.store.dispatch(new _json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__.kM(path.rootElement,path.subRootElement,path.path,this.prepareValue(value,plain,!1)))}move(path,prevPath){this.store.dispatch(new _json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__.td(path.rootElement,path.subRootElement,prevPath,path.path))}remove(path){this.store.dispatch(new _json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__.QZ(path.rootElement,path.subRootElement,path.path))}flushOperation(path){this.store.dispatch(new _json_patch_operations_actions__WEBPACK_IMPORTED_MODULE_3__.qy(path.rootElement,path.subRootElement,path.path))}prepareValue(value,plain,first){let operationValue=null;return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.a4)(value)&&(plain?operationValue=value:Array.isArray(value)?(operationValue=[],value.forEach(entry=>{operationValue.push("object"==typeof entry?this.prepareObjectValue(entry):new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(entry))})):operationValue="object"==typeof value?this.prepareObjectValue(value):new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value)),first&&!Array.isArray(operationValue)?[operationValue]:operationValue}prepareObjectValue(value){let operationValue=Object.create({});return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.Im)(value)||value instanceof _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e?operationValue=value:value instanceof Date?operationValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e((0,_shared_date_util__WEBPACK_IMPORTED_MODULE_0__.Sd)(value)):value instanceof _submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__.b?operationValue=this.prepareAuthorityValue(value):value instanceof _shared_form_builder_models_form_field_language_value_model__WEBPACK_IMPORTED_MODULE_5__.r?operationValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value.value,value.language):value.hasOwnProperty("authority")?operationValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value.value,value.language,value.authority):(0,_shared_date_util__WEBPACK_IMPORTED_MODULE_0__.z5)(value)?operationValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e((0,_shared_date_util__WEBPACK_IMPORTED_MODULE_0__.$T)(value)):value.hasOwnProperty("value")?operationValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value.value):Object.keys(value).forEach(key=>{operationValue[key]="object"==typeof value[key]?this.prepareObjectValue(value[key]):value[key]}),operationValue}prepareAuthorityValue(value){let operationValue;return operationValue=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.hj)(value.authority)?new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value.value,value.language,value.authority):new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.e(value.value,value.language),operationValue}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||JsonPatchOperationsBuilder2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.il))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_6__.jDH({token:JsonPatchOperationsBuilder2,factory:JsonPatchOperationsBuilder2.\u0275fac,providedIn:"root"})}}return JsonPatchOperationsBuilder2})()},23390:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ResourcePolicyDataService:()=>ResourcePolicyDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(98465),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76623),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80996),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(99629),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63311),_data_base_create_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(95985),_data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92788),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61640),_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(41373),_data_base_search_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(98861),_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(59041),_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(72248),_data_request_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(99381),_data_request_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64806),_data_status_code_only_response_parsing_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5641),_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(15318),_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(14557),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(26139),_shared_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(39022),_angular_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(25376);let ResourcePolicyDataService=(()=>{class ResourcePolicyDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator,ePersonService,groupService){super("resourcepolicies",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.ePersonService=ePersonService,this.groupService=groupService,this.searchByEPersonMethod="eperson",this.searchByGroupMethod="group",this.searchByResourceMethod="resource",this.createData=new _data_base_create_data__WEBPACK_IMPORTED_MODULE_3__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_7__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.patchData=new _data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new _data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint)}create(resourcePolicy,resourceUUID,epersonUUID,groupUUID){const params=[];return params.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("resource",resourceUUID)),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(epersonUUID)?params.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("eperson",epersonUUID)):(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(groupUUID)&&params.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("group",groupUUID)),this.createData.create(resourcePolicy,...params)}delete(resourcePolicyID){return this.deleteData.delete(resourcePolicyID).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_15__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(response=>response.hasSucceeded))}update(object){return this.patchData.update(object)}getDefaultAccessConditionsFor(collection,findListOptions){return this.findListByHref(collection._links.defaultAccessConditions.href,findListOptions)}searchByEPerson(UUID,resourceUUID,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_19__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("uuid",UUID)],(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(resourceUUID)&&options.searchParams.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("resource",resourceUUID)),this.searchData.searchBy(this.searchByEPersonMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}searchByGroup(UUID,resourceUUID,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_19__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("uuid",UUID)],(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(resourceUUID)&&options.searchParams.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("resource",resourceUUID)),this.searchData.searchBy(this.searchByGroupMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}searchByResource(UUID,action,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_19__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("uuid",UUID)],(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(action)&&options.searchParams.push(new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("action",action)),this.searchData.searchBy(this.searchByResourceMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}updateTarget(resourcePolicyId,resourcePolicyHref,targetUUID,targetType){const targetEndpoint$=("eperson"===targetType?this.ePersonService:this.groupService).getIDHrefObs(targetUUID),options=Object.create({});let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_20__.Lr;headers=headers.append("Content-Type","text/uri-list"),options.headers=headers;const requestId=this.requestService.generateRequestId();return targetEndpoint$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.$1)()).subscribe(targetEndpoint=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.v_(requestId,resourcePolicyHref+"/"+targetType,targetEndpoint,options);Object.assign(request,{getResponseParser:()=>_data_status_code_only_response_parsing_service__WEBPACK_IMPORTED_MODULE_11__.M}),this.requestService.send(request)}),this.rdbService.buildFromRequestUUIDAndAwait(requestId,()=>this.invalidateByHref(resourcePolicyHref))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ResourcePolicyDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_14__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_12__.EPersonDataService),_angular_core__WEBPACK_IMPORTED_MODULE_21__.KVO(_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_13__.GroupDataService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_21__.jDH({token:ResourcePolicyDataService2,factory:ResourcePolicyDataService2.\u0275fac,providedIn:"root"})}}return ResourcePolicyDataService2})()},54441:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>SubmissionObjectResolver});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60444),_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39022),_submission_links_to_follow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85661);const SubmissionObjectResolver=(route,state,dataService)=>dataService.findById(route.params.id,!0,!1,..._submission_links_to_follow__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.nx)(wfiRD=>wfiRD.payload.item),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.qD)())},56284:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>SubmissionParentBreadcrumbResolver});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60444),_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39022),_submission_links_to_follow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85661);class SubmissionParentBreadcrumbResolver{constructor(dataService,breadcrumbService){this.dataService=dataService,this.breadcrumbService=breadcrumbService}resolve(route,state){return this.dataService.findById(route.params.id,!0,!1,..._submission_links_to_follow__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(submissionObject=>({provider:this.breadcrumbService,key:submissionObject})))}}},64927:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionCcLicenseDataService:()=>SubmissionCcLicenseDataService});var _cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_data_base_base_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99983),_data_base_find_all_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27554),_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26139),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25376);let SubmissionCcLicenseDataService=(()=>{class SubmissionCcLicenseDataService2 extends _data_base_base_data_service__WEBPACK_IMPORTED_MODULE_2__.L{constructor(requestService,rdbService,objectCache,halService){super("submissioncclicenses",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.linkPath="submissioncclicenses",this.findAllData=new _data_base_find_all_data__WEBPACK_IMPORTED_MODULE_3__.H(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.findAllData.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionCcLicenseDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_6__.jDH({token:SubmissionCcLicenseDataService2,factory:SubmissionCcLicenseDataService2.\u0275fac,providedIn:"root"})}}return SubmissionCcLicenseDataService2})()},55311:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionCcLicenseUrlDataService:()=>SubmissionCcLicenseUrlDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(60444),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(99629),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_data_base_base_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99983),_data_base_search_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98861),_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26139),_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39022),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25376);let SubmissionCcLicenseUrlDataService=(()=>{class SubmissionCcLicenseUrlDataService2 extends _data_base_base_data_service__WEBPACK_IMPORTED_MODULE_2__.L{constructor(requestService,rdbService,objectCache,halService){super("submissioncclicenseUrls-search",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_3__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive,(href,searchMethod)=>`${href}/${searchMethod}`)}getCcLicenseLink(ccLicense,options){return this.searchData.getSearchByHref("rightsByQuestions",{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_7__.x("license",ccLicense.id),...ccLicense.fields.map(field=>new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_7__.x(`answer_${field.id}`,options.get(field).id))]}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.nx)(href=>this.findByHref(href)),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_6__.yd)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Tj)(response=>response.url))}searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.searchData.searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionCcLicenseUrlDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B),_angular_core__WEBPACK_IMPORTED_MODULE_9__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_9__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_9__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.jDH({token:SubmissionCcLicenseUrlDataService2,factory:SubmissionCcLicenseUrlDataService2.\u0275fac,providedIn:"root"})}}return SubmissionCcLicenseUrlDataService2})()},48550:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>SubmissionParentBreadcrumbsService});var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9238),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2794),_submission_submission_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78953),_breadcrumbs_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21408),_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11481),_data_collection_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8108),_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39022),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376);let SubmissionParentBreadcrumbsService=(()=>{class SubmissionParentBreadcrumbsService2{constructor(dsoNameService,dsoBreadcrumbsService,submissionService,collectionService){this.dsoNameService=dsoNameService,this.dsoBreadcrumbsService=dsoBreadcrumbsService,this.submissionService=submissionService,this.collectionService=collectionService}getBreadcrumbs(submissionObject){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Im)(submissionObject)?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([]):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.combineLatest)([submissionObject.collection.pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_5__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Bo)()),this.submissionService.getSubmissionCollectionId(submissionObject.id)]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.switchMap)(([collection,latestCollectionId])=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(latestCollectionId)?this.collectionService.findById(latestCollectionId).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_5__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Bo)()):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(collection)),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.switchMap)(collection=>this.dsoBreadcrumbsService.getBreadcrumbs(collection,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(collection))))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionParentBreadcrumbsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_3__.f),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_breadcrumbs_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_2__.U),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_submission_submission_service__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_data_collection_data_service__WEBPACK_IMPORTED_MODULE_4__.CollectionDataService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:SubmissionParentBreadcrumbsService2,factory:SubmissionParentBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return SubmissionParentBreadcrumbsService2})()},97063:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ItemAlertsComponent:()=>ItemAlertsComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87514),_angular_router__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9238),src_app_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39022),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76509),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86583),_core_submission_correctiontype_data_service__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(43575),__webpack_require__(45736)),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6213),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83113),_shared_dso_page_dso_withdrawn_reinstate_service_dso_withdrawn_reinstate_modal_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61780),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376);function ItemAlertsComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(1,"ds-alert",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("type",ctx_r0.AlertTypeEnum.Warning)("content",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(2,2,"item.alerts.private"))}}function ItemAlertsComponent_Conditional_2_Conditional_10_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_8__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"a",9),_angular_core__WEBPACK_IMPORTED_MODULE_8__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_8__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_8__.Njj(ctx_r0.openReinstateModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_8__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(2,1,"item.alerts.reinstate-request")))}function ItemAlertsComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"div",1)(1,"ds-alert",3)(2,"div",4)(3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(6,"div",6)(7,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(10,ItemAlertsComponent_Conditional_2_Conditional_10_Template,3,3,"a",8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()()()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("type",ctx_r0.AlertTypeEnum.Warning),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(5,4,"item.alerts.withdrawn")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(9,6,"404.link.home-page")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(11,8,ctx_r0.showReinstateButton$)?10:-1)}}let ItemAlertsComponent=(()=>{class ItemAlertsComponent2{constructor(authService,dsoWithdrawnReinstateModalService,correctionTypeDataService){this.authService=authService,this.dsoWithdrawnReinstateModalService=dsoWithdrawnReinstateModalService,this.correctionTypeDataService=correctionTypeDataService,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_6__.v}ngOnChanges(changes){changes.item?.currentValue.withdrawn&&this.showReinstateButton$&&(this.showReinstateButton$=this.shouldShowReinstateButton())}shouldShowReinstateButton(){const correction$=this.correctionTypeDataService.findByItem(this.item.uuid,!0).pipe((0,src_app_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.qD)(),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.map)(correctionTypeRD=>correctionTypeRD.hasSucceeded?correctionTypeRD.payload.page:[])),isAdmin$=this.authService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__._.AdministratorOf);return(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.combineLatest)([isAdmin$,correction$]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.map)(([isAdmin,correction])=>!isAdmin&&correction.some(correctionType=>correctionType.topic===_shared_dso_page_dso_withdrawn_reinstate_service_dso_withdrawn_reinstate_modal_service__WEBPACK_IMPORTED_MODULE_7__.el)))}openReinstateModal(){this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(this.item,"request-reinstate",this.item.isArchived)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemAlertsComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_shared_dso_page_dso_withdrawn_reinstate_service_dso_withdrawn_reinstate_modal_service__WEBPACK_IMPORTED_MODULE_7__.Ee),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_submission_correctiontype_data_service__WEBPACK_IMPORTED_MODULE_4__.CorrectionTypeDataService))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.VBU({type:ItemAlertsComponent2,selectors:[["ds-base-item-alerts"]],inputs:{item:"item"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_8__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_8__.aNF],decls:3,vars:2,consts:[[1,"private-warning"],[1,"withdrawn-warning"],[3,"type","content"],[3,"type"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"align-self-center"],[1,"gap-2","d-flex"],["routerLink","/home","role","button","tabindex","0",1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(1,ItemAlertsComponent_Conditional_1_Template,3,4,"div",0)(2,ItemAlertsComponent_Conditional_2_Template,12,10,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.vxM(ctx.item&&!ctx.item.isDiscoverable?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.vxM(ctx.item&&ctx.item.isWithdrawn?2:-1))},dependencies:[_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__.C,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_angular_router__WEBPACK_IMPORTED_MODULE_11__.Wk,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.D9]})}}return ItemAlertsComponent2})()},26065:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>ThemedItemAlertsComponent}),__webpack_require__(43575);var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(97063),__webpack_require__(25376));const _c0=["*"];function ThemedItemAlertsComponent_ng_template_0_Template(rf,ctx){}let ThemedItemAlertsComponent=(()=>{class ThemedItemAlertsComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemAlertsComponent"}importThemedComponent(themeName){return __webpack_require__(42176)(`./${themeName}/app/item-page/alerts/item-alerts.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,97063))}static{this.\u0275fac=(()=>{let \u0275ThemedItemAlertsComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedItemAlertsComponent_BaseFactory||(\u0275ThemedItemAlertsComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(ThemedItemAlertsComponent2)))(__ngFactoryType__||ThemedItemAlertsComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ThemedItemAlertsComponent2,selectors:[["ds-item-alerts"]],inputs:{item:"item"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,ThemedItemAlertsComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s())},encapsulation:2})}}return ThemedItemAlertsComponent2})()},61143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FullFileSectionComponent:()=>FullFileSectionComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(60444),src_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3339),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11481),_core_data_bitstream_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94999),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(31903),_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(43575),__webpack_require__(2794)),_shared_file_download_link_themed_file_download_link_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85091),_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(29095),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76623),_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(42191),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(54396),_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(41279),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(76715),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(17543),_thumbnail_themed_thumbnail_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1147),_simple_field_components_file_section_file_section_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(54992),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25376);function FullFileSectionComponent_div_2_Conditional_1_Conditional_4_For_2_Conditional_23_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(3,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const file_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(2,2,"item.page.filesection.description")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",file_r1.firstMetadataValue("dc.description")," ")}}function FullFileSectionComponent_div_2_Conditional_1_Conditional_4_For_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",4)(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(2,"ds-thumbnail",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"div",7)(5,"dl",8)(6,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(9,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(11,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(12),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(14,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(15),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(16,"dsFileSize"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(17,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(20,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(23,FullFileSectionComponent_div_2_Conditional_1_Conditional_4_For_2_Conditional_23_Template,5,4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(24,"div",11)(25,"ds-file-download-link",12)(26,"span",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(27),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()()),2&rf){let tmp_14_0,tmp_20_0;const file_r1=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("thumbnail",null==(tmp_14_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,12,file_r1.thumbnail))?null:tmp_14_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(8,14,"item.page.filesection.name")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(ctx_r1.dsoNameService.getName(file_r1)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(13,16,"item.page.filesection.size")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(16,18,file_r1.sizeBytes)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(19,20,"item.page.filesection.format")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",null==(tmp_20_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(22,22,file_r1.format))||null==tmp_20_0.payload?null:tmp_20_0.payload.description," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(file_r1.hasMetadata("dc.description")?23:-1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("showIcon",!0)("bitstream",file_r1)("item",ctx_r1.item),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(28,24,"item.page.filesection.download")," ")}}function FullFileSectionComponent_div_2_Conditional_1_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"ds-pagination",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Z7z(1,FullFileSectionComponent_div_2_Conditional_1_Conditional_4_For_2_Template,29,26,"div",4,_angular_core__WEBPACK_IMPORTED_MODULE_11__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const originals_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2).ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",ctx_r1.originalOptions)("collectionSize",null==originals_r3?null:originals_r3.totalElements)("retainScrollPosition",!0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Dyx(null==originals_r3?null:originals_r3.page)}}function FullFileSectionComponent_div_2_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div")(1,"h3",2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(4,FullFileSectionComponent_div_2_Conditional_1_Conditional_4_Template,3,5,"ds-pagination",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const originals_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,2,"item.page.filesection.original.bundle")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM((null==originals_r3||null==originals_r3.page?null:originals_r3.page.length)>0?4:-1)}}function FullFileSectionComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,FullFileSectionComponent_div_2_Conditional_1_Template,5,4,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const originals_r3=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(ctx_r1.hasValuesInBundle(originals_r3)?1:-1)}}function FullFileSectionComponent_div_4_Conditional_1_Conditional_4_For_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",14)(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(2,"ds-thumbnail",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"div",7)(5,"dl",8)(6,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(9,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(11,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(12),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(14,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(15),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(16,"dsFileSize"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(17,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(20,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(23,"dt",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(24),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(26,"dd",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(27),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(28,"div",11)(29,"ds-file-download-link",12)(30,"span",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(31),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(32,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()()),2&rf){let tmp_14_0,tmp_20_0;const file_r4=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("thumbnail",null==(tmp_14_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,13,file_r4.thumbnail))?null:tmp_14_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(8,15,"item.page.filesection.name")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(ctx_r1.dsoNameService.getName(file_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(13,17,"item.page.filesection.size")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(16,19,file_r4.sizeBytes)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(19,21,"item.page.filesection.format")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",null==(tmp_20_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(22,23,file_r4.format))||null==tmp_20_0.payload?null:tmp_20_0.payload.description," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(25,25,"item.page.filesection.description")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",file_r4.firstMetadataValue("dc.description")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("showIcon",!0)("bitstream",file_r4)("item",ctx_r1.item),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(32,27,"item.page.filesection.download")," ")}}function FullFileSectionComponent_div_4_Conditional_1_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"ds-pagination",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Z7z(1,FullFileSectionComponent_div_4_Conditional_1_Conditional_4_For_2_Template,33,29,"div",14,_angular_core__WEBPACK_IMPORTED_MODULE_11__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const licenses_r5=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2).ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",ctx_r1.licenseOptions)("collectionSize",null==licenses_r5?null:licenses_r5.totalElements)("retainScrollPosition",!0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Dyx(null==licenses_r5?null:licenses_r5.page)}}function FullFileSectionComponent_div_4_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div")(1,"h3",2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(4,FullFileSectionComponent_div_4_Conditional_1_Conditional_4_Template,3,5,"ds-pagination",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const licenses_r5=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,2,"item.page.filesection.license.bundle")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM((null==licenses_r5||null==licenses_r5.page?null:licenses_r5.page.length)>0?4:-1)}}function FullFileSectionComponent_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,FullFileSectionComponent_div_4_Conditional_1_Template,5,4,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const licenses_r5=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(ctx_r1.hasValuesInBundle(licenses_r5)?1:-1)}}let FullFileSectionComponent=(()=>{class FullFileSectionComponent2 extends _simple_field_components_file_section_file_section_component__WEBPACK_IMPORTED_MODULE_10__.FileSectionComponent{constructor(bitstreamDataService,notificationsService,translateService,paginationService,dsoNameService,appConfig){super(bitstreamDataService,notificationsService,translateService,dsoNameService,appConfig),this.notificationsService=notificationsService,this.translateService=translateService,this.paginationService=paginationService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.originalOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_12__.W,{id:"obo",currentPage:1,pageSize:this.appConfig.item.bitstream.pageSize}),this.licenseOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_12__.W,{id:"lbo",currentPage:1,pageSize:this.appConfig.item.bitstream.pageSize})}ngOnInit(){this.initialize()}initialize(){this.originals$=this.paginationService.getCurrentPagination(this.originalOptions.id,this.originalOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.nx)(options=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:options.pageSize,currentPage:options.currentPage},!0,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("format"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("thumbnail"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("accessStatus"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.Mi)(rd=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.a4)(rd.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${rd.statusCode} ${rd.errorMessage}`)})),this.licenses$=this.paginationService.getCurrentPagination(this.licenseOptions.id,this.licenseOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.nx)(options=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"LICENSE",{elementsPerPage:options.pageSize,currentPage:options.currentPage},!0,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("format"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("thumbnail"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("accessStatus"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.Mi)(rd=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.a4)(rd.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${rd.statusCode} ${rd.errorMessage}`)}))}hasValuesInBundle(bundle){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.a4)(bundle)&&!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.Im)(bundle.page)}ngOnDestroy(){this.paginationService.clearPagination(this.originalOptions.id),this.paginationService.clearPagination(this.licenseOptions.id)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||FullFileSectionComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_data_bitstream_data_service__WEBPACK_IMPORTED_MODULE_2__.BitstreamDataService),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_3__.m),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(src_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.VBU({type:FullFileSectionComponent2,selectors:[["ds-base-item-page-full-file-section"]],inputs:{item:"item"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_11__.aNF],decls:6,vars:9,consts:[[3,"label"],[4,"ngVar"],[1,"h5","simple-view-element-header"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","collectionSize","retainScrollPosition"],[1,"file-section","row","mb-3"],[1,"col-3"],[3,"thumbnail"],[1,"col-7"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"col-2"],["cssClasses","btn btn-outline-primary btn-download",3,"showIcon","bitstream","item"],[1,"d-none","d-md-inline"],[1,"file-section","row"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(2,FullFileSectionComponent_div_2_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(4,FullFileSectionComponent_div_4_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){let tmp_1_0,tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("label",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(1,3,ctx.label)),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,5,ctx.originals$))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngVar",null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(5,7,ctx.licenses$))?null:tmp_2_0.payload)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.Jj,_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_8__.s,_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_18__.Q,_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_7__.e,_shared_file_download_link_themed_file_download_link_component__WEBPACK_IMPORTED_MODULE_5__.z,_thumbnail_themed_thumbnail_component__WEBPACK_IMPORTED_MODULE_9__.T,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_19__.r],styles:["@media screen and (min-width: 768px){dt[_ngcontent-%COMP%]{text-align:right}}"]})}}return FullFileSectionComponent2})()},61087:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>ThemedFullFileSectionComponent}),__webpack_require__(43575);var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(61143),__webpack_require__(25376));const _c0=["*"];function ThemedFullFileSectionComponent_ng_template_0_Template(rf,ctx){}let ThemedFullFileSectionComponent=(()=>{class ThemedFullFileSectionComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FullFileSectionComponent"}importThemedComponent(themeName){return __webpack_require__(63614)(`./${themeName}/app/item-page/full/field-components/file-section/full-file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,61143))}static{this.\u0275fac=(()=>{let \u0275ThemedFullFileSectionComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedFullFileSectionComponent_BaseFactory||(\u0275ThemedFullFileSectionComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(ThemedFullFileSectionComponent2)))(__ngFactoryType__||ThemedFullFileSectionComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ThemedFullFileSectionComponent2,selectors:[["ds-item-page-full-file-section"]],inputs:{item:"item"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,ThemedFullFileSectionComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s())},encapsulation:2})}}return ThemedFullFileSectionComponent2})()},18725:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FullItemPageComponent:()=>FullItemPageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(60444),_core_coar_notify_notify_info_notify_info_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87505),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76509),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94149),_core_data_signposting_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43457),_core_services_server_response_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41554),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(67441),_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(61564),_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2794),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17561),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(18869),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(17543),_alerts_themed_item_alerts_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(26065),_field_components_collections_collections_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10633),_simple_field_components_specific_field_title_themed_item_page_field_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(37274),_simple_item_page_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(84942),_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(99762),_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(70135),_field_components_file_section_themed_full_file_section_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(61087),_core_services_link_head_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(58698);const _c0=a0=>[a0];function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",8)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(5);_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_16__.eq3(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(2,2,ctx_r0.itemPageRoute$))),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(4,4,"item.page.link.simple")," ")}}function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_For_9_For_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"tr")(1,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(3,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(5,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.EFF(6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()()),2&rf){const mdValue_r2=ctx.$implicit,mdEntry_r3=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.JRh(mdEntry_r3.key),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.JRh(mdValue_r2.value),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.JRh(mdValue_r2.language)}}function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_For_9_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Z7z(0,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_For_9_For_1_Template,7,3,"tr",null,_angular_core__WEBPACK_IMPORTED_MODULE_16__.fX1),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Dyx(ctx.$implicit.value)}function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Conditional_15_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_16__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",12)(1,"div",14)(2,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_16__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_16__.eBV(_r4);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(5);return _angular_core__WEBPACK_IMPORTED_MODULE_16__.Njj(ctx_r0.back())}),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(3,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_16__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(5,1,"item.page.return"),""))}function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",5)(1,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(2,"ds-item-page-title-field",7)(3,"ds-dso-edit-menu"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(4,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Conditional_4_Template,5,8,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(5,"div",9)(6,"table",10)(7,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Z7z(8,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_For_9_Template,2,0,null,null,_angular_core__WEBPACK_IMPORTED_MODULE_16__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(11,"keyvalue"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(12,"ds-item-page-full-file-section",4)(13,"ds-item-page-collections",4)(14,"ds-item-versions",11),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(15,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Conditional_15_Template,6,3,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){const item_r5=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(ctx_r0.fromSubmissionObject?-1:4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Dyx(_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(11,8,_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(10,6,ctx_r0.metadata$))),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(ctx_r0.fromSubmissionObject?15:-1)}}function FullItemPageComponent_div_0_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(1,"ds-item-alerts",4)(2,"ds-item-versions-notice",4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(3,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_3_Template,16,10,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){const item_r5=ctx,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("item",item_r5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(!item_r5.isWithdrawn||_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(4,3,ctx_r0.isAdmin$)?3:-1)}}function FullItemPageComponent_div_0_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(1,FullItemPageComponent_div_0_Conditional_1_Conditional_1_Template,5,5,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){let tmp_4_0;const itemRD_r6=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM((tmp_4_0=null==itemRD_r6?null:itemRD_r6.payload)?1:-1,tmp_4_0)}}function FullItemPageComponent_div_0_Conditional_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(0,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(1,1,"error.item"))}function FullItemPageComponent_div_0_Conditional_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(0,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(1,1,"loading.item"))}function FullItemPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(1,FullItemPageComponent_div_0_Conditional_1_Template,2,2,"div",2)(2,FullItemPageComponent_div_0_Conditional_2_Template,2,3,"ds-error",3)(3,FullItemPageComponent_div_0_Conditional_3_Template,2,3,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){const itemRD_r6=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(null!=itemRD_r6&&itemRD_r6.hasSucceeded?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(null!=itemRD_r6&&itemRD_r6.hasFailed?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(null!=itemRD_r6&&itemRD_r6.isLoading?3:-1)}}let FullItemPageComponent=(()=>{class FullItemPageComponent2 extends _simple_item_page_component__WEBPACK_IMPORTED_MODULE_12__.ItemPageComponent{constructor(route,router,items,authorizationService,_location,responseService,signpostingDataService,linkHeadService,notifyInfoService,platformId){super(route,router,items,authorizationService,responseService,signpostingDataService,linkHeadService,notifyInfoService,platformId),this.route=route,this.router=router,this.items=items,this.authorizationService=authorizationService,this._location=_location,this.responseService=responseService,this.signpostingDataService=signpostingDataService,this.linkHeadService=linkHeadService,this.notifyInfoService=notifyInfoService,this.platformId=platformId,this.fromSubmissionObject=!1,this.subs=[]}ngOnInit(){super.ngOnInit(),this.metadata$=this.itemRD$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Tj)(rd=>rd.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.pb)(item=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.a4)(item)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Tj)(item=>item.metadata)),this.subs.push(this.route.data.subscribe(data=>{this.fromSubmissionObject=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.a4)(data.wfi)||(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.a4)(data.wsi)}))}back(){this._location.back()}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||FullItemPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_2__.ItemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_angular_common__WEBPACK_IMPORTED_MODULE_20__.aZ),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_services_server_response_service__WEBPACK_IMPORTED_MODULE_4__.w),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_data_signposting_data_service__WEBPACK_IMPORTED_MODULE_3__.z),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_services_link_head_service__WEBPACK_IMPORTED_MODULE_21__.m),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_coar_notify_notify_info_notify_info_service__WEBPACK_IMPORTED_MODULE_0__.P),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_16__.Agw))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_16__.VBU({type:FullItemPageComponent2,selectors:[["ds-base-full-item-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_16__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_16__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"item-page"],[3,"message"],[3,"item"],[1,"full-item-info"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"simple-view-link","my-3"],[1,"table-responsive"],[1,"table","table-striped"],[1,"mt-2",3,"item"],[1,"button-row","bottom"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"text-end"],[1,"btn","btn-outline-secondary","me-1",3,"click"],[1,"fas","fa-arrow-left"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(0,FullItemPageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(1,1,ctx.itemRD$))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_field_components_collections_collections_component__WEBPACK_IMPORTED_MODULE_10__.r,_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_6__.T,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_7__.A,_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__.I,_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_14__.s,_angular_common__WEBPACK_IMPORTED_MODULE_20__.lG,_angular_router__WEBPACK_IMPORTED_MODULE_19__.Wk,_field_components_file_section_themed_full_file_section_component__WEBPACK_IMPORTED_MODULE_15__.n,_alerts_themed_item_alerts_component__WEBPACK_IMPORTED_MODULE_9__.R,_simple_field_components_specific_field_title_themed_item_page_field_component__WEBPACK_IMPORTED_MODULE_11__.V,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__.r],styles:["[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:25%}"],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ws]},changeDetection:0})}}return FullItemPageComponent2})()},3423:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>ThemedFullItemPageComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(18725),__webpack_require__(25376));const _c0=["*"];function ThemedFullItemPageComponent_ng_template_0_Template(rf,ctx){}let ThemedFullItemPageComponent=(()=>{class ThemedFullItemPageComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{getComponentName(){return"FullItemPageComponent"}importThemedComponent(themeName){return __webpack_require__(4872)(`./${themeName}/app/item-page/full/full-item-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,18725))}static{this.\u0275fac=(()=>{let \u0275ThemedFullItemPageComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedFullItemPageComponent_BaseFactory||(\u0275ThemedFullItemPageComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedFullItemPageComponent2)))(__ngFactoryType__||ThemedFullItemPageComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedFullItemPageComponent2,selectors:[["ds-full-item-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedFullItemPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}}return ThemedFullItemPageComponent2})()},41154:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>AccessByTokenNotificationComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(60444),_shared_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13651),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2794),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17543),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18134);function AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_0_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",1)(1,"p")(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(4,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(3,3,"bitstream-request-a-copy.access-by-token.alt-text")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(6,5,"bitstream-request-a-copy.access-by-token.not-granted")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(9,7,"bitstream-request-a-copy.access-by-token.re-request")))}function AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",2)(1,"p")(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(4,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()),2&rf){const itemRequest_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG(2).ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(3,4,"bitstream-request-a-copy.access-by-token.alt-text")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Lme("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(6,6,"bitstream-request-a-copy.access-by-token.expired")," ",ctx_r1.formatDate(itemRequest_r1.accessExpiry),""),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(9,8,"bitstream-request-a-copy.access-by-token.re-request"))}}function AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_2_Conditional_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()),2&rf){const itemRequest_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG(3).ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Lme("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(2,2,"bitstream-request-a-copy.access-by-token.expiry-label")," ",ctx_r1.formatDate(itemRequest_r1.accessExpiry),"")}}function AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",3)(1,"p")(2,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(4,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(7,AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_2_Conditional_7_Template,3,4,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()),2&rf){const itemRequest_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG(2).ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(3,3,"bitstream-request-a-copy.access-by-token.alt-text")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(6,5,"bitstream-request-a-copy.access-by-token.warning")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.vxM(ctx_r1.hasValue(itemRequest_r1.accessExpiry)&&!itemRequest_r1.accessExpiry.startsWith("+294276")?7:-1)}}function AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_0_Template,10,9,"div",1)(1,AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_1_Template,10,10,"div",2)(2,AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Conditional_2_Template,8,7,"div",3),2&rf){const itemRequest_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_1__.vxM(itemRequest_r1.acceptRequest?itemRequest_r1.accessExpired?1:2:0)}}function AccessByTokenNotificationComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(1,AccessByTokenNotificationComponent_ng_container_0_Conditional_1_Template,3,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bVm()),2&rf){const itemRequest_r1=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.vxM(ctx_r1.hasValue(itemRequest_r1)?1:-1)}}let AccessByTokenNotificationComponent=(()=>{class AccessByTokenNotificationComponent2{constructor(route){this.route=route,this.hasValue=_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4}ngOnInit(){this.itemRequest$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(data=>data.itemRequest))}formatDate(date){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.hj)(date)?(0,_shared_date_util__WEBPACK_IMPORTED_MODULE_0__.$T)((0,_shared_date_util__WEBPACK_IMPORTED_MODULE_0__.PR)(date)):""}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||AccessByTokenNotificationComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_4__.nX))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:AccessByTokenNotificationComponent2,selectors:[["ds-access-by-token-notification"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"alert","alert-danger","wb-100","mb-2","request-a-copy-access-success"],[1,"alert","alert-danger","wb-100","mb-2","request-a-copy-access-expired"],[1,"alert","alert-warning","wb-100","mb-2","request-a-copy-access-denied"],["role","img",1,"request-a-copy-access-error-icon"],[1,"fa-solid","fa-lock"],["role","img",1,"request-a-copy-access-icon"],[1,"fa-solid","fa-lock-open"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,AccessByTokenNotificationComponent_ng_container_0_Template,2,1,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(1,1,ctx.itemRequest$))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_7__.r],styles:[".request-a-copy-access-icon[_ngcontent-%COMP%]{margin-right:4px;color:var(--bs-success)}.request-a-copy-access-error-icon[_ngcontent-%COMP%]{margin-right:4px}"]})}}return AccessByTokenNotificationComponent2})()},84942:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ItemPageComponent:()=>ItemPageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(25376),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(60444),src_app_core_coar_notify_notify_info_notify_info_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87505),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76509),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86583),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94149),_core_data_signposting_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43457),_core_services_server_response_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41554),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39022),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18839),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(67441),_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2794),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17561),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18869),_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(90690),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(17543),_alerts_themed_item_alerts_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(26065),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(88292),_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(99762),_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(70135),_access_by_token_notification_access_by_token_notification_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(41154),_notify_requests_status_notify_requests_status_component_notify_requests_status_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(46647),_qa_event_notification_qa_event_notification_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(74594),_angular_router__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(18134),_core_services_link_head_service__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(58698);function ItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_6_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_18__.nrm(0,"ds-listable-object-component-loader",6),2&rf){const item_r1=_angular_core__WEBPACK_IMPORTED_MODULE_18__.XpG(),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_18__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("object",item_r1)("viewMode",ctx_r1.viewMode)}}function ItemPageComponent_div_0_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nrm(1,"ds-item-alerts",4)(2,"ds-access-by-token-notification")(3,"ds-qa-event-notification",4)(4,"ds-notify-requests-status",5)(5,"ds-item-versions-notice",4),_angular_core__WEBPACK_IMPORTED_MODULE_18__.DNE(6,ItemPageComponent_div_0_Conditional_1_Conditional_1_Conditional_6_Template,1,2,"ds-listable-object-component-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nrm(8,"ds-item-versions",7),_angular_core__WEBPACK_IMPORTED_MODULE_18__.k0s()),2&rf){const item_r1=ctx,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_18__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("item",item_r1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("item",item_r1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("itemUuid",item_r1.uuid),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("item",item_r1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.vxM(!item_r1.isWithdrawn||_angular_core__WEBPACK_IMPORTED_MODULE_18__.bMT(7,7,ctx_r1.isAdmin$)?6:-1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("item",item_r1)("displayActions",!1)}}function ItemPageComponent_div_0_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_18__.DNE(1,ItemPageComponent_div_0_Conditional_1_Conditional_1_Template,9,9,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_18__.k0s()),2&rf){let tmp_4_0;const itemRD_r3=_angular_core__WEBPACK_IMPORTED_MODULE_18__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.vxM((tmp_4_0=null==itemRD_r3?null:itemRD_r3.payload)?1:-1,tmp_4_0)}}function ItemPageComponent_div_0_Conditional_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.nrm(0,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_18__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_18__.bMT(1,1,"error.item"))}function ItemPageComponent_div_0_Conditional_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.nrm(0,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_18__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_18__.bMT(1,1,"loading.item"))}function ItemPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.j41(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.DNE(1,ItemPageComponent_div_0_Conditional_1_Template,2,2,"div",2)(2,ItemPageComponent_div_0_Conditional_2_Template,2,3,"ds-error",3)(3,ItemPageComponent_div_0_Conditional_3_Template,2,3,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_18__.k0s()),2&rf){const itemRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.vxM(null!=itemRD_r3&&itemRD_r3.hasSucceeded?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.vxM(null!=itemRD_r3&&itemRD_r3.hasFailed?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_18__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_18__.vxM(null!=itemRD_r3&&itemRD_r3.isLoading?3:-1)}}let ItemPageComponent=(()=>{class ItemPageComponent2{constructor(route,router,items,authorizationService,responseService,signpostingDataService,linkHeadService,notifyInfoService,platformId){this.route=route,this.router=router,this.items=items,this.authorizationService=authorizationService,this.responseService=responseService,this.signpostingDataService=signpostingDataService,this.linkHeadService=linkHeadService,this.notifyInfoService=notifyInfoService,this.platformId=platformId,this.viewMode=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_7__.n.StandalonePage,this.signpostingLinks=[],this.inboxTags=[],this.coarRestApiUrls=[],this.hasValue=_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4,this.initPageLinks()}ngOnInit(){this.itemRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.Tj)(data=>data.dso)),this.itemPageRoute$=this.itemRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.Tj)(item=>(0,_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__._o)(item))),this.isAdmin$=this.authorizationService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__._.AdministratorOf)}initPageLinks(){this.route.params.subscribe(params=>{(0,rxjs__WEBPACK_IMPORTED_MODULE_22__.combineLatest)([this.signpostingDataService.getLinks(params.id).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.s)(1)),this.getCoarLdnLocalInboxUrls()]).subscribe(([signpostingLinks,coarRestApiUrls])=>{let links="";if(this.signpostingLinks=signpostingLinks,signpostingLinks.forEach(link=>{links=links+((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(links)?", ":"")+`<${link.href}> ; rel="${link.rel}"`+((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(link.type)?` ; type="${link.type}" `:" ")+((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(link.profile)?` ; profile="${link.profile}" `:"");let tag={href:link.href,rel:link.rel};(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(link.type)&&(tag=Object.assign(tag,{type:link.type})),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(link.profile)&&(tag=Object.assign(tag,{profile:link.profile})),this.linkHeadService.addTag(tag)}),coarRestApiUrls.length>0){const inboxLinks=this.initPageInboxLinks(coarRestApiUrls);links=links+((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(links)?", ":"")+inboxLinks}(0,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Vy)(this.platformId)&&this.responseService.setHeader("Link",links)})})}getCoarLdnLocalInboxUrls(){return this.notifyInfoService.isCoarConfigEnabled().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.nx)(coarLdnEnabled=>coarLdnEnabled?this.notifyInfoService.getCoarLdnLocalInboxUrls():(0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)([])))}initPageInboxLinks(coarRestApiUrls){const rel=this.notifyInfoService.getInboxRelationLink();let links="";return coarRestApiUrls.forEach(coarRestApiUrl=>{const tag={href:coarRestApiUrl,rel};this.inboxTags.push(tag),this.linkHeadService.addTag(tag),links=links+((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(links)?", ":"")+`<${coarRestApiUrl}> ; rel="${rel}"`}),links}ngOnDestroy(){this.signpostingLinks.forEach(link=>{this.linkHeadService.removeTag(`href='${link.href}'`)}),this.inboxTags.forEach(link=>{this.linkHeadService.removeTag(`href='${link.href}'`)})}getAccessPeriodEndDate(accessPeriod,decisionDate){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4)(accessPeriod)&&accessPeriod>0&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4)(decisionDate)){const date=new Date(decisionDate);return date.setUTCSeconds(date.getUTCSeconds()+accessPeriod),date}}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_24__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_24__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__.ItemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_1__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_core_services_server_response_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_core_data_signposting_data_service__WEBPACK_IMPORTED_MODULE_4__.z),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_core_services_link_head_service__WEBPACK_IMPORTED_MODULE_25__.m),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(src_app_core_coar_notify_notify_info_notify_info_service__WEBPACK_IMPORTED_MODULE_0__.P),_angular_core__WEBPACK_IMPORTED_MODULE_18__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_18__.Agw))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_18__.VBU({type:ItemPageComponent2,selectors:[["ds-base-item-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_18__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"item-page"],[3,"message"],[3,"item"],[3,"itemUuid"],[3,"object","viewMode"],[1,"mt-2",3,"item","displayActions"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_18__.DNE(0,ItemPageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_18__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_18__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_18__.bMT(1,1,ctx.itemRD$))},dependencies:[_access_by_token_notification_access_by_token_notification_component__WEBPACK_IMPORTED_MODULE_15__.f,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Jj,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_9__.A,_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__.I,_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_14__.s,_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_11__.v,_notify_requests_status_notify_requests_status_component_notify_requests_status_component__WEBPACK_IMPORTED_MODULE_16__.x,_qa_event_notification_qa_event_notification_component__WEBPACK_IMPORTED_MODULE_17__.f,_alerts_themed_item_alerts_component__WEBPACK_IMPORTED_MODULE_12__.R,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_10__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_27__.r],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}"],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_8__.Ws]},changeDetection:0})}}return ItemPageComponent2})()},46647:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>NotifyRequestsStatusComponent});var common=__webpack_require__(87514),cjs=__webpack_require__(9238),notify_services_status_data_service=__webpack_require__(55327),operators=__webpack_require__(39022),empty_util=__webpack_require__(2794),ngx_translate_core=__webpack_require__(2385),truncatable_component=__webpack_require__(69901),truncatable_part_component=__webpack_require__(31846),RequestStatusEnum=function(RequestStatusEnum2){return RequestStatusEnum2.ACCEPTED="ACCEPTED",RequestStatusEnum2.REJECTED="REJECTED",RequestStatusEnum2.REQUESTED="REQUESTED",RequestStatusEnum2.TENTATIVE_REJECT="TENTATIVE_REJECT",RequestStatusEnum2}(RequestStatusEnum||{}),core=__webpack_require__(25376);const _c0=a0=>({"align-items-center":a0}),_c1=(a0,a1,a2)=>({serviceName:a0,serviceUrl:a1,offerType:a2});function RequestStatusAlertBoxComponent_Conditional_0_For_6_Template(rf,ctx){if(1&rf&&(core.nrm(0,"div",6),core.nI1(1,"translate")),2&rf){const request_r1=ctx.$implicit,ctx_r1=core.XpG(2);core.Y8G("innerHTML",core.i5U(1,1,ctx_r1.displayOptions.text,core.sMw(4,_c1,request_r1.serviceName,request_r1.serviceUrl,request_r1.offerType)),core.npT)}}function RequestStatusAlertBoxComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1),core.nrm(1,"img",2),core.j41(2,"ds-truncatable",3)(3,"ds-truncatable-part",4)(4,"div",5),core.Z7z(5,RequestStatusAlertBoxComponent_Conditional_0_For_6_Template,2,8,"div",6,core.fX1),core.k0s()()()()),2&rf){const ctx_r1=core.XpG();core.ZvI("alert d-flex flex-row sections-gap ",ctx_r1.displayOptions.alertType,""),core.Y8G("ngClass",core.eq3(7,_c0,1===ctx_r1.data.length)),core.R7$(2),core.Y8G("id",ctx_r1.status),core.R7$(),core.Y8G("id",ctx_r1.status)("minLines",1),core.R7$(2),core.Dyx(ctx_r1.data)}}let RequestStatusAlertBoxComponent=(()=>{class RequestStatusAlertBoxComponent2{constructor(){this.data=[]}ngOnInit(){this.prepareDataToDisplay()}prepareDataToDisplay(){switch(this.status){case RequestStatusEnum.ACCEPTED:this.displayOptions={alertType:"alert-info",text:"request-status-alert-box.accepted"};break;case RequestStatusEnum.REJECTED:this.displayOptions={alertType:"alert-danger",text:"request-status-alert-box.rejected"};break;case RequestStatusEnum.TENTATIVE_REJECT:this.displayOptions={alertType:"alert-warning",text:"request-status-alert-box.tentative_rejected"};break;case RequestStatusEnum.REQUESTED:this.displayOptions={alertType:"alert-warning",text:"request-status-alert-box.requested"}}}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||RequestStatusAlertBoxComponent2)}}static{this.\u0275cmp=core.VBU({type:RequestStatusAlertBoxComponent2,selectors:[["ds-request-status-alert-box"]],inputs:{status:"status",data:"data"},standalone:!0,features:[core.aNF],decls:1,vars:1,consts:[[3,"ngClass","class"],[3,"ngClass"],["src","assets/images/qa-coar-notify-logo.png","alt","notify logo",1,"source-logo"],[3,"id"],[3,"id","minLines"],[1,"w-100","d-flex","flex-column"],[3,"innerHTML"]],template:function(rf,ctx){1&rf&&core.DNE(0,RequestStatusAlertBoxComponent_Conditional_0_Template,7,9,"div",0),2&rf&&core.vxM((null==ctx.data?null:ctx.data.length)>0&&ctx.displayOptions?0:-1)},dependencies:[common.YU,ngx_translate_core.h,ngx_translate_core.D9,truncatable_component.d,truncatable_part_component.W],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height)}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return RequestStatusAlertBoxComponent2})();function NotifyRequestsStatusComponent_Conditional_0_For_1_Template(rf,ctx){if(1&rf&&core.nrm(0,"ds-request-status-alert-box",0),2&rf){const entry_r1=ctx.$implicit;core.Y8G("status",entry_r1.key)("data",entry_r1.value)}}function NotifyRequestsStatusComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(core.Z7z(0,NotifyRequestsStatusComponent_Conditional_0_For_1_Template,1,2,"ds-request-status-alert-box",0,core.fX1),core.nI1(2,"async"),core.nI1(3,"keyvalue")),2&rf){const ctx_r1=core.XpG();core.Dyx(core.bMT(3,2,core.bMT(2,0,ctx_r1.requestMap$)))}}let NotifyRequestsStatusComponent=(()=>{class NotifyRequestsStatusComponent2{constructor(notifyInfoService){this.notifyInfoService=notifyInfoService}ngOnInit(){this.requestMap$=this.notifyInfoService.getNotifyRequestsStatus(this.itemUuid).pipe((0,operators.qD)(),(0,cjs.filter)(data=>(0,empty_util.a4)(data)),(0,operators.Bo)(),(0,cjs.filter)(data=>(0,empty_util.a4)(data)),(0,cjs.map)(data=>this.groupDataByStatus(data)))}groupDataByStatus(notifyRequestsStatus){const statusMap=new Map;return notifyRequestsStatus.notifyStatus?.forEach(notifyStatus=>{const status=notifyStatus.status;statusMap.has(status)||statusMap.set(status,[]),statusMap.get(status)?.push(notifyStatus)}),statusMap}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||NotifyRequestsStatusComponent2)(core.rXU(notify_services_status_data_service.NotifyRequestsStatusDataService))}}static{this.\u0275cmp=core.VBU({type:NotifyRequestsStatusComponent2,selectors:[["ds-notify-requests-status"]],inputs:{itemUuid:"itemUuid"},standalone:!0,features:[core.aNF],decls:2,vars:3,consts:[[3,"status","data"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,NotifyRequestsStatusComponent_Conditional_0_Template,4,4),core.nI1(1,"async")),2&rf){let tmp_0_0;core.vxM((null==(tmp_0_0=core.bMT(1,1,ctx.requestMap$))?null:tmp_0_0.size)>0?0:-1)}},dependencies:[common.Jj,common.lG,RequestStatusAlertBoxComponent],changeDetection:0})}}return NotifyRequestsStatusComponent2})()},74594:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>QaEventNotificationComponent});var common=__webpack_require__(87514),router=__webpack_require__(18134),ngx_translate_core=__webpack_require__(2385),operators=__webpack_require__(60444),admin_routing_paths=__webpack_require__(82352),request_param_model=__webpack_require__(99629),quality_assurance_source_data_service=__webpack_require__(30466),shared_operators=(__webpack_require__(43575),__webpack_require__(39022)),core=__webpack_require__(25376);let SplitPipe=(()=>{class SplitPipe2{transform(value,separator){return value.split(separator)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SplitPipe2)}}static{this.\u0275pipe=core.EJ8({name:"dsSplit",type:SplitPipe2,pure:!0,standalone:!0})}}return SplitPipe2})();const _c0=a0=>({num:a0}),_c1=(a0,a1,a2)=>[a0,a1,"target",a2],_c2=()=>({forward:!0});function QaEventNotificationComponent_Conditional_0_For_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1),core.nrm(2,"img",2),core.nI1(3,"dsSplit"),core.k0s(),core.j41(4,"div",3)(5,"div",4),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",5),core.nI1(9,"dsSplit"),core.EFF(10),core.nI1(11,"translate"),core.k0s()()()),2&rf){const source_r1=core.XpG().$implicit,ctx_r1=core.XpG(2);core.R7$(2),core.Mz_("src","assets/images/qa-",core.i5U(3,8,source_r1.id,":")[0],"-logo.png",core.B4B),core.Mz_("alt","",source_r1.id," logo"),core.R7$(4),core.SpI(" ",core.i5U(7,11,"item.qa-event-notification.check.notification-info",core.eq3(19,_c0,source_r1.totalEvents))," "),core.R7$(2),core.Y8G("routerLink",core.sMw(21,_c1,ctx_r1.getQualityAssuranceRoute(),core.i5U(9,14,source_r1.id,":")[0],ctx_r1.item.id))("queryParams",core.lJ4(25,_c2)),core.R7$(2),core.SpI(" ",core.bMT(11,17,"item.qa-event-notification-info.check.button")," ")}}function QaEventNotificationComponent_Conditional_0_For_1_Template(rf,ctx){1&rf&&core.DNE(0,QaEventNotificationComponent_Conditional_0_For_1_Conditional_0_Template,12,26,"div",0),2&rf&&core.vxM(ctx.$implicit.totalEvents>0?0:-1)}function QaEventNotificationComponent_Conditional_0_Template(rf,ctx){1&rf&&core.Z7z(0,QaEventNotificationComponent_Conditional_0_For_1_Template,1,1,null,null,core.fX1),2&rf&&core.Dyx(ctx)}let QaEventNotificationComponent=(()=>{class QaEventNotificationComponent2{constructor(qualityAssuranceSourceDataService){this.qualityAssuranceSourceDataService=qualityAssuranceSourceDataService}ngOnChanges(changes){changes.item&&changes.item.currentValue.uuid!==changes.item.previousValue?.uuid&&(this.sources$=this.getQualityAssuranceSources$())}getQualityAssuranceSources$(){const findListTopicOptions={searchParams:[new request_param_model.x("target",this.item.uuid)]};return this.qualityAssuranceSourceDataService.getSourcesByTarget(findListTopicOptions,!1).pipe((0,shared_operators.qD)(),(0,operators.Tj)(data=>data.hasSucceeded?data.payload.page:[]),(0,operators.WL)(()=>[]))}getQualityAssuranceRoute(){return(0,admin_routing_paths.b7)()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QaEventNotificationComponent2)(core.rXU(quality_assurance_source_data_service.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=core.VBU({type:QaEventNotificationComponent2,selectors:[["ds-qa-event-notification"]],inputs:{item:"item"},standalone:!0,features:[core.Jv_([quality_assurance_source_data_service.QualityAssuranceSourceDataService]),core.OA$,core.aNF],decls:2,vars:3,consts:[[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"ps-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,QaEventNotificationComponent_Conditional_0_Template,2,0),core.nI1(1,"async")),2&rf){let tmp_0_0;core.vxM((tmp_0_0=core.bMT(1,1,ctx.sources$))?0:-1,tmp_0_0)}},dependencies:[common.Jj,router.Wk,SplitPipe,ngx_translate_core.h,ngx_translate_core.D9],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height)}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return QaEventNotificationComponent2})()},99762:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>ItemVersionsComponent});var common=__webpack_require__(87514),fesm2022_forms=__webpack_require__(13054),ngx_translate_core=__webpack_require__(2385),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),configuration_data_service=__webpack_require__(93876),authorization_data_service=__webpack_require__(76509),feature_id=__webpack_require__(86583),version_data_service=__webpack_require__(54610),version_history_data_service=__webpack_require__(47765),pagination_service=__webpack_require__(31903),shared_operators=(__webpack_require__(43575),__webpack_require__(39022)),alert_component=__webpack_require__(6213),alert_type=__webpack_require__(83113),btn_disabled_directive=__webpack_require__(69919),empty_util=__webpack_require__(2794),notifications_service=__webpack_require__(76623),pagination_component=__webpack_require__(42191),pagination_component_options_model=__webpack_require__(54396),paginated_search_options_model=__webpack_require__(86577),follow_link_config_model=__webpack_require__(76715),core=__webpack_require__(25376),router=__webpack_require__(18134),item_data_service=__webpack_require__(94149),workflowitem_data_service=(__webpack_require__(74728),__webpack_require__(56806)),workspaceitem_data_service=__webpack_require__(96148),item_page_routing_paths=__webpack_require__(88292),ng_bootstrap=__webpack_require__(87969);const _c0=a0=>({version:a0});let ItemVersionsDeleteModalComponent=(()=>{class ItemVersionsDeleteModalComponent2{constructor(activeModal){this.activeModal=activeModal,this.response=new core.bkB}onModalClose(){this.response.emit(!1),this.activeModal.dismiss()}onModalSubmit(){this.response.emit(!0),this.activeModal.close()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemVersionsDeleteModalComponent2)(core.rXU(ng_bootstrap.Lw))}}static{this.\u0275cmp=core.VBU({type:ItemVersionsDeleteModalComponent2,selectors:[["ds-item-versions-delete-modal"]],outputs:{response:"response"},standalone:!0,features:[core.aNF],decls:20,vars:21,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"pb-2"],[1,"modal-footer"],[1,"btn","btn-outline-secondary","btn-sm","cancel",3,"click","title"],[1,"fas","fa-times","fa-fw"],[1,"btn","btn-danger","btn-sm","confirm",3,"click","title"],[1,"fas","fa-check","fa-fw"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div")(1,"div",0),core.EFF(2),core.nI1(3,"translate"),core.j41(4,"button",1),core.bIt("click",function(){return ctx.onModalClose()}),core.k0s()(),core.j41(5,"div",2)(6,"p",3),core.EFF(7),core.nI1(8,"translate"),core.k0s()(),core.j41(9,"div",4)(10,"button",5),core.nI1(11,"translate"),core.bIt("click",function(){return ctx.onModalClose()}),core.nrm(12,"i",6),core.EFF(13),core.nI1(14,"translate"),core.k0s(),core.j41(15,"button",7),core.nI1(16,"translate"),core.bIt("click",function(){return ctx.onModalSubmit()}),core.nrm(17,"i",8),core.EFF(18),core.nI1(19,"translate"),core.k0s()()()),2&rf&&(core.R7$(2),core.SpI("",core.bMT(3,6,"item.version.delete.modal.header")," "),core.R7$(5),core.JRh(core.i5U(8,8,"item.version.delete.modal.text",core.eq3(19,_c0,ctx.versionNumber))),core.R7$(3),core.FS9("title",core.bMT(11,11,"item.version.delete.modal.button.cancel.tooltip")),core.R7$(3),core.SpI(" ",core.bMT(14,13,"item.version.delete.modal.button.cancel")," "),core.R7$(2),core.FS9("title",core.bMT(16,15,"item.version.delete.modal.button.confirm.tooltip")),core.R7$(3),core.SpI(" ",core.bMT(19,17,"item.version.delete.modal.button.confirm")," "))},dependencies:[ngx_translate_core.h,ngx_translate_core.D9]})}}return ItemVersionsDeleteModalComponent2})();var item_versions_shared_service=__webpack_require__(60931),item_versions_summary_modal_component=__webpack_require__(42307);function ItemVersionsRowElementVersionComponent_Conditional_1_Template(rf,ctx){if(1&rf&&core.EFF(0),2&rf){const ctx_r0=core.XpG();core.SpI(" ",ctx_r0.version.version," ")}}function ItemVersionsRowElementVersionComponent_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",1),core.EFF(1),core.k0s()),2&rf){const ctx_r0=core.XpG();core.Y8G("routerLink",ctx_r0.getVersionRoute(ctx_r0.version.id)),core.R7$(),core.JRh(ctx_r0.version.version)}}function ItemVersionsRowElementVersionComponent_Conditional_5_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.EFF(1,"*"),core.k0s())}function ItemVersionsRowElementVersionComponent_Conditional_6_Template(rf,ctx){1&rf&&(core.j41(0,"span",2),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.version.history.table.workspaceItem")," "))}function ItemVersionsRowElementVersionComponent_Conditional_8_Template(rf,ctx){1&rf&&(core.j41(0,"span",3),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.version.history.table.workflowItem")," "))}function ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_1_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"button",9),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r2);const ctx_r0=core.XpG(2);return core.Njj(ctx_r0.editWorkspaceItem(ctx_r0.workspaceId$))}),core.nrm(2,"i",10),core.k0s()}2&rf&&core.FS9("title",core.bMT(1,1,"item.version.history.table.action.editWorkspaceItem"))}function ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_3_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"button",11),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r3);const ctx_r0=core.XpG(2);return core.Njj(ctx_r0.createNewVersion(ctx_r0.version))}),core.nrm(2,"i",12),core.k0s()}if(2&rf){const ctx_r0=core.XpG(2);core.FS9("title",core.bMT(1,2,ctx_r0.createVersionTitle)),core.Y8G("dsBtnDisabled",ctx_r0.isAnyBeingEdited()||ctx_r0.hasDraftVersion)}}function ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_5_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"button",13),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r4);const ctx_r0=core.XpG(2);return core.Njj(ctx_r0.deleteVersion(ctx_r0.version,ctx_r0.version.id===ctx_r0.itemVersion.id))}),core.nrm(2,"i",14),core.k0s()}if(2&rf){const ctx_r0=core.XpG(2);core.FS9("title",core.bMT(1,3,"item.version.history.table.action.deleteVersion")),core.Y8G("ngClass",ctx_r0.isAnyBeingEdited()?"btn-outline-primary":"btn-outline-danger")("dsBtnDisabled",ctx_r0.isAnyBeingEdited())}}function ItemVersionsRowElementVersionComponent_Conditional_11_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",5),core.DNE(1,ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_1_Template,3,3,"button",6),core.nI1(2,"async"),core.DNE(3,ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_3_Template,3,4,"button",7),core.nI1(4,"async"),core.DNE(5,ItemVersionsRowElementVersionComponent_Conditional_11_Conditional_5_Template,3,5,"button",8),core.nI1(6,"async"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.R7$(),core.vxM(core.bMT(2,3,ctx_r0.workspaceId$)?1:-1),core.R7$(2),core.vxM(core.bMT(4,5,ctx_r0.canCreateVersion$)?3:-1),core.R7$(2),core.vxM(core.bMT(6,7,ctx_r0.canDeleteVersion$)?5:-1)}}let ItemVersionsRowElementVersionComponent=(()=>{class ItemVersionsRowElementVersionComponent2{constructor(workspaceItemDataService,workflowItemDataService,router2,itemService,authorizationService,itemVersionShared,versionHistoryService,versionService,notificationsService,translateService,modalService){this.workspaceItemDataService=workspaceItemDataService,this.workflowItemDataService=workflowItemDataService,this.router=router2,this.itemService=itemService,this.authorizationService=authorizationService,this.itemVersionShared=itemVersionShared,this.versionHistoryService=versionHistoryService,this.versionService=versionService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.versionsHistoryChange=new core.bkB}ngOnInit(){this.workspaceId$=this.getWorkspaceId(this.version.item),this.workflowId$=this.getWorkflowId(this.version.item),this.canDeleteVersion$=this.canDeleteVersion(this.version),this.canCreateVersion$=this.authorizationService.isAuthorized(feature_id._.CanCreateVersion,this.item.self),this.createVersionTitle=this.hasDraftVersion?"item.version.history.table.action.hasDraft":"item.version.history.table.action.newVersion"}getWorkspaceId(versionItem){return this.hasDraftVersion?versionItem.pipe((0,shared_operators.ak)(),(0,operators.Tj)(item=>item.uuid),(0,operators.nx)(itemUuid=>this.workspaceItemDataService.findByItem(itemUuid,!0)),(0,shared_operators.qD)(),(0,operators.Tj)(res=>res?.payload?.id)):(0,cjs.of)(void 0)}getWorkflowId(versionItem){return this.getWorkspaceId(versionItem).pipe((0,cjs.concatMap)(workspaceId=>workspaceId?(0,cjs.of)(void 0):versionItem.pipe((0,shared_operators.ak)(),(0,operators.Tj)(item=>item.uuid),(0,operators.nx)(itemUuid=>this.workflowItemDataService.findByItem(itemUuid,!0)),(0,shared_operators.qD)(),(0,operators.Tj)(res=>res?.payload?.id))))}editWorkspaceItem(id$){id$.subscribe(id=>{this.router.navigateByUrl("workspaceitems/"+id+"/edit")})}canDeleteVersion(version){return this.authorizationService.isAuthorized(feature_id._.CanDeleteVersion,version.self)}getVersionRoute(versionId){return(0,item_page_routing_paths.vf)(versionId)}createNewVersion(version){const versionNumber=version.version,activeModal=this.modalService.open(item_versions_summary_modal_component.L);activeModal.componentInstance.versionNumber=versionNumber,activeModal.componentInstance.createVersionEvent.pipe((0,operators.ZZ)(summary=>(0,cjs.combineLatest)([(0,cjs.of)(summary),version.item.pipe((0,shared_operators.ak)())])),(0,operators.ZZ)(([summary,item])=>this.versionHistoryService.createVersion(item._links.self.href,summary)),(0,shared_operators.qD)(),(0,operators.Mi)(()=>activeModal.close()),(0,operators.Mi)(newVersionRD=>{if(this.itemVersionShared.notifyCreateNewVersion(newVersionRD),newVersionRD.hasSucceeded){const versionHistory$=this.versionService.getHistoryFromVersion(version).pipe((0,operators.Mi)(versionHistory=>{this.itemService.invalidateItemCache(this.item.uuid),this.versionHistoryService.invalidateVersionHistoryCache(versionHistory.id)}));this.versionsHistoryChange.emit(versionHistory$)}}),(0,shared_operators.ak)(),(0,operators.nx)(newVersion=>this.itemService.findByHref(newVersion._links.item.href)),(0,shared_operators.ak)(),(0,operators.nx)(newVersionItem=>this.workspaceItemDataService.findByItem(newVersionItem.uuid,!0,!1)),(0,shared_operators.ak)()).subscribe(wsItem=>{this.router.navigateByUrl("workspaceitems/"+wsItem.id+"/edit")})}deleteVersion(version,redirectToLatest){const versionNumber=version.version,versionItem$=version.item,activeModal=this.modalService.open(ItemVersionsDeleteModalComponent);activeModal.componentInstance.versionNumber=version.version,activeModal.componentInstance.firstVersion=!1,activeModal.componentInstance.response.pipe((0,operators.s)(1)).subscribe(ok=>{ok&&versionItem$.pipe((0,shared_operators.ak)(),(0,operators.ZZ)(item=>(0,cjs.combineLatest)([(0,cjs.of)(item),this.versionHistoryService.getVersionHistoryFromVersion$(version)])),(0,operators.ZZ)(([item,versionHistory])=>(0,cjs.combineLatest)([this.deleteItemAndGetResult$(item),(0,cjs.of)(versionHistory)])),(0,operators.ZZ)(([deleteItemResult,versionHistory])=>(0,cjs.combineLatest)([(0,cjs.of)(deleteItemResult),this.versionHistoryService.getLatestVersionItemFromHistory$(versionHistory).pipe((0,operators.Mi)(()=>{this.versionsHistoryChange.emit((0,cjs.of)(versionHistory))}))]))).subscribe(([deleteHasSucceeded,newLatestVersionItem])=>{if(deleteHasSucceeded?this.notificationsService.success(null,this.translateService.get("item.version.delete.notification.success",{version:versionNumber})):this.notificationsService.error(null,this.translateService.get("item.version.delete.notification.failure",{version:versionNumber})),redirectToLatest){const path=(0,item_page_routing_paths.nF)(newLatestVersionItem);this.router.navigateByUrl(path)}})})}deleteItemAndGetResult$(item){return this.itemService.delete(item.id).pipe((0,shared_operators.qD)(),(0,operators.Tj)(deleteItemRes=>deleteItemRes.hasSucceeded),(0,operators.s)(1))}isAnyBeingEdited(){return null!=this.versionBeingEditedNumber}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemVersionsRowElementVersionComponent2)(core.rXU(workspaceitem_data_service.WorkspaceitemDataService),core.rXU(workflowitem_data_service.WorkflowItemDataService),core.rXU(router.Ix),core.rXU(item_data_service.ItemDataService),core.rXU(authorization_data_service.AuthorizationDataService),core.rXU(item_versions_shared_service.h),core.rXU(version_history_data_service.VersionHistoryDataService),core.rXU(version_data_service.VersionDataService),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(ng_bootstrap.Bq))}}static{this.\u0275cmp=core.VBU({type:ItemVersionsRowElementVersionComponent2,selectors:[["ds-item-versions-row-element-version"]],inputs:{hasDraftVersion:"hasDraftVersion",version:"version",itemVersion:"itemVersion",item:"item",displayActions:"displayActions",versionBeingEditedNumber:"versionBeingEditedNumber"},outputs:{versionsHistoryChange:"versionsHistoryChange"},standalone:!0,features:[core.aNF],decls:12,vars:13,consts:[[1,"left-column"],[3,"routerLink"],[1,"text-light","badge","bg-primary","ms-3"],[1,"text-light","badge","bg-info","ms-3"],[1,"right-column"],[1,"btn-group","edit-field","space-children-mr"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-edit",3,"title"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-create",3,"dsBtnDisabled","title"],[1,"btn","btn-sm","version-row-element-delete",3,"ngClass","dsBtnDisabled","title"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-edit",3,"click","title"],[1,"fas","fa-pencil-alt","fa-fw"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-create",3,"click","dsBtnDisabled","title"],[1,"fas","fa-code-branch","fa-fw"],[1,"btn","btn-sm","version-row-element-delete",3,"click","ngClass","dsBtnDisabled","title"],[1,"fas","fa-trash","fa-fw"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0),core.DNE(1,ItemVersionsRowElementVersionComponent_Conditional_1_Template,1,1),core.nI1(2,"async"),core.nI1(3,"async"),core.DNE(4,ItemVersionsRowElementVersionComponent_Conditional_4_Template,2,2,"a",1)(5,ItemVersionsRowElementVersionComponent_Conditional_5_Template,2,0,"span")(6,ItemVersionsRowElementVersionComponent_Conditional_6_Template,3,3,"span",2),core.nI1(7,"async"),core.DNE(8,ItemVersionsRowElementVersionComponent_Conditional_8_Template,3,3,"span",3),core.nI1(9,"async"),core.k0s(),core.j41(10,"div",4),core.DNE(11,ItemVersionsRowElementVersionComponent_Conditional_11_Template,7,9,"div",5),core.k0s()),2&rf&&(core.R7$(),core.vxM(core.bMT(2,5,ctx.workspaceId$)||core.bMT(3,7,ctx.workflowId$)?1:4),core.R7$(4),core.vxM((null==ctx.version?null:ctx.version.id)===(null==ctx.itemVersion?null:ctx.itemVersion.id)?5:-1),core.R7$(),core.vxM(core.bMT(7,9,ctx.workspaceId$)?6:-1),core.R7$(2),core.vxM(core.bMT(9,11,ctx.workflowId$)?8:-1),core.R7$(3),core.vxM(ctx.displayActions?11:-1))},dependencies:[common.Jj,btn_disabled_directive.A,common.YU,router.Wk,ngx_translate_core.h,ngx_translate_core.D9],styles:[".left-column[_ngcontent-%COMP%]{float:left;text-align:left}.right-column[_ngcontent-%COMP%]{float:right;text-align:right}"]})}}return ItemVersionsRowElementVersionComponent2})();const item_versions_component_c0=a0=>({version:a0});function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template(rf,ctx){1&rf&&(core.j41(0,"h2",2),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"item.version.history.head")))}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_Conditional_7_Template(rf,ctx){1&rf&&(core.j41(0,"th",7),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"item.version.history.table.editor")))}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"td",11),core.EFF(1),core.k0s()),2&rf){const versionDTO_r4=core.XpG().$implicit;core.R7$(),core.SpI(" ",versionDTO_r4.version.submitterName," ")}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_11_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"input",17),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r5);const ctx_r1=core.XpG(6);return core.DH7(ctx_r1.versionBeingEditedSummary,$event)||(ctx_r1.versionBeingEditedSummary=$event),core.Njj($event)}),core.bIt("keyup.enter",function(){core.eBV(_r5);const ctx_r1=core.XpG(6);return core.Njj(ctx_r1.onSummarySubmit())}),core.k0s()}if(2&rf){const ctx_r1=core.XpG(6);core.R50("ngModel",ctx_r1.versionBeingEditedSummary),core.BMQ("aria-label",core.bMT(1,2,"item.version.history.table.action.editSummary"))}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const versionDTO_r4=core.XpG().$implicit;core.R7$(),core.JRh(versionDTO_r4.version.summary)}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_ng_template_13_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"input",17),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r6);const ctx_r1=core.XpG(6);return core.DH7(ctx_r1.versionBeingEditedSummary,$event)||(ctx_r1.versionBeingEditedSummary=$event),core.Njj($event)}),core.bIt("keyup.enter",function(){core.eBV(_r6);const ctx_r1=core.XpG(6);return core.Njj(ctx_r1.onSummarySubmit())}),core.k0s()}if(2&rf){const ctx_r1=core.XpG(6);core.R50("ngModel",ctx_r1.versionBeingEditedSummary),core.BMQ("aria-label",core.bMT(1,2,"item.version.history.table.action.editSummary"))}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Conditional_1_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"button",19),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG(7);return core.Njj(ctx_r1.disableVersionEditing())}),core.nrm(2,"i",20),core.k0s(),core.j41(3,"button",21),core.nI1(4,"translate"),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG(7);return core.Njj(ctx_r1.onSummarySubmit())}),core.nrm(5,"i",22),core.k0s()}2&rf&&(core.FS9("title",core.bMT(1,2,"item.version.history.table.action.discardSummary")),core.R7$(3),core.FS9("title",core.bMT(4,4,"item.version.history.table.action.saveSummary")))}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Conditional_2_Template(rf,ctx){if(1&rf){const _r8=core.RV6();core.j41(0,"button",23),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r8);const versionDTO_r4=core.XpG(2).$implicit,ctx_r1=core.XpG(5);return core.Njj(ctx_r1.enableVersionEditing(versionDTO_r4.version))}),core.nrm(2,"i",24),core.k0s()}if(2&rf){const ctx_r1=core.XpG(7);core.FS9("title",core.bMT(1,2,"item.version.history.table.action.editSummary")),core.Y8G("dsBtnDisabled",ctx_r1.isAnyBeingEdited())}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",16),core.DNE(1,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Conditional_1_Template,6,6)(2,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Conditional_2_Template,3,4,"button",18),core.k0s()),2&rf){const versionDTO_r4=core.XpG().$implicit,ctx_r1=core.XpG(5);core.R7$(),core.vxM(ctx_r1.isThisBeingEdited(versionDTO_r4.version)?1:2)}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"tr",8)(1,"td",9)(2,"ds-item-versions-row-element-version",10),core.nI1(3,"async"),core.bIt("versionsHistoryChange",function($event){core.eBV(_r3);const ctx_r1=core.XpG(5);return core.Njj(ctx_r1.getAllVersions($event))}),core.k0s()(),core.DNE(4,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_4_Template,2,1,"td",11),core.nI1(5,"async"),core.j41(6,"td",12),core.EFF(7),core.nI1(8,"date"),core.k0s(),core.j41(9,"td",13)(10,"div",14),core.DNE(11,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_11_Template,2,4,"input",15)(12,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_12_Template,2,1,"span")(13,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_ng_template_13_Template,2,4,"ng-template",null,0,core.C5r),core.k0s(),core.DNE(15,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Conditional_15_Template,3,1,"div",16),core.nI1(16,"async"),core.k0s()()}if(2&rf){const versionDTO_r4=ctx.$implicit,itemVersion_r9=core.XpG(3),ctx_r1=core.XpG(2);core.Y8G("id","version-row-"+versionDTO_r4.version.id),core.R7$(2),core.Y8G("hasDraftVersion",core.bMT(3,11,ctx_r1.hasDraftVersion$))("version",versionDTO_r4.version)("item",ctx_r1.item)("displayActions",ctx_r1.displayActions)("itemVersion",itemVersion_r9)("versionBeingEditedNumber",ctx_r1.versionBeingEditedNumber),core.R7$(2),core.vxM(core.bMT(5,13,ctx_r1.showSubmitter$)?4:-1),core.R7$(3),core.SpI(" ",core.i5U(8,15,versionDTO_r4.version.created,"yyyy-MM-dd HH:mm:ss")," "),core.R7$(4),core.vxM(ctx_r1.isThisBeingEdited(versionDTO_r4.version)?11:12),core.R7$(4),core.vxM(core.bMT(16,18,ctx_r1.displayActions&&versionDTO_r4.canEditVersion)?15:-1)}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-pagination",5),core.bIt("paginationChange",function(){core.eBV(_r1);const ctx_r1=core.XpG(4);return core.Njj(ctx_r1.onPageChange())}),core.j41(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.DNE(7,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_Conditional_7_Template,3,3,"th",7),core.nI1(8,"async"),core.j41(9,"th",7),core.EFF(10),core.nI1(11,"translate"),core.k0s(),core.j41(12,"th",7),core.EFF(13),core.nI1(14,"translate"),core.k0s()()(),core.j41(15,"tbody"),core.Z7z(16,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_For_17_Template,17,20,"tr",8,core.fX1),core.k0s()(),core.j41(18,"div"),core.EFF(19),core.nI1(20,"translate"),core.k0s()()}if(2&rf){const versionsDTO_r10=core.XpG(3),ctx_r1=core.XpG();core.Y8G("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",ctx_r1.options)("collectionSize",versionsDTO_r10.totalElements)("retainScrollPosition",!0),core.R7$(5),core.JRh(core.bMT(6,10,"item.version.history.table.version")),core.R7$(2),core.vxM(core.bMT(8,12,ctx_r1.showSubmitter$)?7:-1),core.R7$(3),core.JRh(core.bMT(11,14,"item.version.history.table.date")),core.R7$(3),core.JRh(core.bMT(14,16,"item.version.history.table.summary")),core.R7$(3),core.Dyx(versionsDTO_r10.versionDTOs),core.R7$(3),core.SpI("*\xa0",core.bMT(20,18,"item.version.history.selected"),"")}}function ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1),core.DNE(1,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template,3,3,"h2",2),core.j41(2,"ds-alert",3),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.DNE(5,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Conditional_5_Template,21,20,"ds-pagination",4),core.k0s()),2&rf){const itemVersion_r9=core.XpG(),versionsDTO_r10=core.XpG(),ctx_r1=core.XpG();core.R7$(),core.vxM(ctx_r1.displayTitle?1:-1),core.R7$(),core.Y8G("type",ctx_r1.AlertTypeEnum.Info),core.R7$(),core.SpI(" ",core.i5U(4,4,"item.version.history.selected.alert",core.eq3(7,item_versions_component_c0,itemVersion_r9.version))," "),core.R7$(2),core.vxM(versionsDTO_r10.versionDTOs.length>0?5:-1)}}function ItemVersionsComponent_Conditional_0_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.DNE(1,ItemVersionsComponent_Conditional_0_Conditional_1_Conditional_1_Template,6,9,"div",1),core.k0s()),2&rf){const versionsDTO_r10=core.XpG(),ctx_r1=core.XpG();core.R7$(),core.vxM(versionsDTO_r10.versionDTOs.length>0||ctx_r1.displayWhenEmpty?1:-1)}}function ItemVersionsComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.DNE(1,ItemVersionsComponent_Conditional_0_Conditional_1_Template,2,1,"div"),core.nI1(2,"async"),core.k0s()),2&rf){let tmp_2_0;const ctx_r1=core.XpG();core.R7$(),core.vxM((tmp_2_0=null==(tmp_2_0=core.bMT(2,1,ctx_r1.versionRD$))?null:tmp_2_0.payload)?1:-1,tmp_2_0)}}function ItemVersionsComponent_Conditional_2_Conditional_0_Template(rf,ctx){if(1&rf&&core.nrm(0,"ds-alert",25),2&rf){const ctx_r1=core.XpG(2);core.Y8G("content","item.version.history.empty")("type",ctx_r1.AlertTypeEnum.Info)}}function ItemVersionsComponent_Conditional_2_Template(rf,ctx){if(1&rf&&core.DNE(0,ItemVersionsComponent_Conditional_2_Conditional_0_Template,1,2,"ds-alert",25),2&rf){const ctx_r1=core.XpG();core.vxM(ctx_r1.displayWhenEmpty?0:-1)}}let ItemVersionsComponent=(()=>{class ItemVersionsComponent2{constructor(versionHistoryService,versionService,paginationService,notificationsService,translateService,authorizationService,configurationService){this.versionHistoryService=versionHistoryService,this.versionService=versionService,this.paginationService=paginationService,this.notificationsService=notificationsService,this.translateService=translateService,this.authorizationService=authorizationService,this.configurationService=configurationService,this.displayWhenEmpty=!1,this.displayTitle=!0,this.subs=[],this.AlertTypeEnum=alert_type.v,this.showSubmitter$=this.showSubmitter(),this.pageSize=10,this.options=Object.assign(new pagination_component_options_model.W,{id:"ivo",currentPage:1,pageSize:this.pageSize})}isAnyBeingEdited(){return null!=this.versionBeingEditedNumber}isThisBeingEdited(version){return version?.version===this.versionBeingEditedNumber}enableVersionEditing(version){this.versionBeingEditedSummary=version?.summary,this.versionBeingEditedNumber=version?.version,this.versionBeingEditedId=version?.id}disableVersionEditing(){this.versionBeingEditedSummary=void 0,this.versionBeingEditedNumber=void 0,this.versionBeingEditedId=void 0}onSummarySubmit(){this.versionService.findById(this.versionBeingEditedId).pipe((0,shared_operators.yd)(),(0,operators.nx)(findRes=>{const updatedVersion=Object.assign({},findRes.payload,{summary:this.versionBeingEditedSummary});return this.versionService.update(updatedVersion).pipe((0,shared_operators.qD)())})).subscribe(updatedVersionRD=>{updatedVersionRD.hasSucceeded?(this.notificationsService.success(null,this.translateService.get("item.version.edit.notification.success",{version:this.versionBeingEditedNumber})),this.getAllVersions(this.versionHistory$)):this.notificationsService.warning(null,this.translateService.get("item.version.edit.notification.failure",{version:this.versionBeingEditedNumber})),this.disableVersionEditing()})}canEditVersion$(version){return this.authorizationService.isAuthorized(feature_id._.CanEditVersion,version.self)}showSubmitter(){const includeSubmitter$=this.configurationService.findByPropertyName("versioning.item.history.include.submitter").pipe((0,shared_operators.ak)(),(0,operators.Tj)(configurationProperty=>configurationProperty.values[0]),(0,operators.ql)(!1)),isAdmin$=(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.IsCollectionAdmin),this.authorizationService.isAuthorized(feature_id._.IsCommunityAdmin),this.authorizationService.isAuthorized(feature_id._.AdministratorOf)]).pipe((0,operators.Tj)(([isCollectionAdmin,isCommunityAdmin,isSiteAdmin])=>isCollectionAdmin||isCommunityAdmin||isSiteAdmin),(0,operators.s)(1));return(0,cjs.combineLatest)([includeSubmitter$,isAdmin$]).pipe((0,operators.Tj)(([includeSubmitter,isAdmin])=>includeSubmitter&&isAdmin))}getAllVersions(versionHistory$){const currentPagination=this.paginationService.getCurrentPagination(this.options.id,this.options);this.versionsDTO$=(0,cjs.combineLatest)([versionHistory$,currentPagination]).pipe((0,operators.nx)(([versionHistory,options])=>this.versionHistoryService.getVersions(versionHistory.id,new paginated_search_options_model.C({pagination:Object.assign({},options,{currentPage:options.currentPage})}),!1,!0,(0,follow_link_config_model.s)("item"),(0,follow_link_config_model.s)("eperson"))),(0,shared_operators.qD)(),(0,shared_operators.Bo)(),(0,operators.Tj)(versions=>({totalElements:versions.totalElements,versionDTOs:(versions?.page??[]).map(version=>({version,canEditVersion:this.canEditVersion$(version)}))})))}onPageChange(){this.getAllVersions(this.versionHistory$)}ngOnInit(){(0,empty_util.a4)(this.item.version)&&(this.versionRD$=this.item.version,this.versionHistoryRD$=this.versionRD$.pipe((0,shared_operators.v7)(),(0,shared_operators.Bo)(),(0,empty_util.Az)(),(0,operators.nx)(version=>version.versionhistory)),this.versionHistory$=this.versionHistoryRD$.pipe((0,shared_operators.ak)(),(0,empty_util.Az)()),this.hasDraftVersion$=this.versionHistoryRD$.pipe((0,shared_operators.ak)(),(0,operators.Tj)(res=>!!res?.draftVersion)),this.getAllVersions(this.versionHistory$))}ngOnDestroy(){this.cleanupSubscribes(),this.paginationService.clearPagination(this.options.id)}cleanupSubscribes(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemVersionsComponent2)(core.rXU(version_history_data_service.VersionHistoryDataService),core.rXU(version_data_service.VersionDataService),core.rXU(pagination_service.m),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(authorization_data_service.AuthorizationDataService),core.rXU(configuration_data_service.ConfigurationDataService))}}static{this.\u0275cmp=core.VBU({type:ItemVersionsComponent2,selectors:[["ds-item-versions"]],inputs:{item:"item",displayWhenEmpty:"displayWhenEmpty",displayTitle:"displayTitle",displayActions:"displayActions"},standalone:!0,features:[core.aNF],decls:3,vars:3,consts:[["editSummary",""],[1,"mb-2"],[1,"h4"],[3,"type"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","collectionSize","retainScrollPosition"],[3,"paginationChange","hideGear","hidePagerWhenSinglePage","paginationOptions","collectionSize","retainScrollPosition"],[1,"table","table-striped","table-bordered","align-middle","my-2"],["scope","col"],[3,"id"],[1,"version-row-element-version"],[3,"versionsHistoryChange","hasDraftVersion","version","item","displayActions","itemVersion","versionBeingEditedNumber"],[1,"version-row-element-editor"],[1,"version-row-element-date"],[1,"version-row-element-summary"],[1,"float-start"],["type","text",1,"form-control",3,"ngModel"],[1,"float-end","btn-group","edit-field","space-children-mr"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-edit",3,"dsBtnDisabled","title"],[1,"btn","btn-sm","btn-outline-warning",3,"click","title"],[1,"fas","fa-undo-alt","fa-fw"],[1,"btn","btn-outline-success","btn-sm",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"btn","btn-outline-primary","btn-sm","version-row-element-edit",3,"click","dsBtnDisabled","title"],[1,"fas","fa-edit","fa-fw"],[3,"content","type"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,ItemVersionsComponent_Conditional_0_Template,3,3,"div"),core.nI1(1,"async"),core.DNE(2,ItemVersionsComponent_Conditional_2_Template,1,1)),2&rf){let tmp_0_0;core.vxM((tmp_0_0=core.bMT(1,1,ctx.versionsDTO$))?0:2,tmp_0_0)}},dependencies:[alert_component.C,common.Jj,btn_disabled_directive.A,common.vh,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,ItemVersionsRowElementVersionComponent,pagination_component.e,ngx_translate_core.h,ngx_translate_core.D9]})}}return ItemVersionsComponent2})()},70135:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ItemVersionsNoticeComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60444),_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47765),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(43575),__webpack_require__(39022)),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6213),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83113),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2794),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(88292),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376);const _c0=a0=>({destination:a0});function ItemVersionsNoticeComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(0,"ds-alert",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(3,"translate")),2&rf){let tmp_1_0;const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("content",_angular_core__WEBPACK_IMPORTED_MODULE_5__.i5U(3,7,"item.version.notice",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(10,_c0,ctx_r0.getItemPage(null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(2,5,null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(1,3,ctx_r0.latestVersion$))?null:tmp_1_0.item))?null:tmp_1_0.payload))))("dismissible",!1)("type",ctx_r0.AlertTypeEnum.Warning)}}let ItemVersionsNoticeComponent=(()=>{class ItemVersionsNoticeComponent2{constructor(versionHistoryService){this.versionHistoryService=versionHistoryService,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_4__.v}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(this.item.version)&&(this.versionRD$=this.item.version,this.versionHistoryRD$=this.versionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.v7)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Bo)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(version=>version.versionhistory)),this.latestVersion$=this.versionHistoryRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(vhRD=>vhRD.hasSucceeded?this.versionHistoryService.getLatestVersionFromHistory$(vhRD.payload):rxjs__WEBPACK_IMPORTED_MODULE_8__.EMPTY)),this.showLatestVersionNotice$=this.versionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(versionRD=>versionRD.hasSucceeded?this.versionHistoryService.isLatest$(versionRD.payload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(isLatest=>null!=isLatest&&!isLatest)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.ql)(!1)))}getItemPage(item){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(item))return(0,_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__._o)(item)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemVersionsNoticeComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_0__.VersionHistoryDataService))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.VBU({type:ItemVersionsNoticeComponent2,selectors:[["ds-item-versions-notice"]],inputs:{item:"item"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.aNF],decls:2,vars:3,consts:[[3,"content","dismissible","type"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(0,ItemVersionsNoticeComponent_Conditional_0_Template,4,12,"ds-alert",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.vxM(!0===_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(1,1,ctx.showLatestVersionNotice$)?0:-1)},dependencies:[_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__.C,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.D9],encapsulation:2})}}return ItemVersionsNoticeComponent2})()},84294:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>FormFieldLanguageValueObject});class FormFieldLanguageValueObject{constructor(value,language){this.value=value,this.language=language}}},13761:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionEditComponent:()=>SubmissionEditComponent});var rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60444),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94149),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39022),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53921),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76623),_form_themed_submission_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63015),_submission_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(78953),_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(39247),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385);let SubmissionEditComponent=(()=>{class SubmissionEditComponent2{constructor(changeDetectorRef,notificationsService,route,router,itemDataService,submissionService,translate,submissionJsonPatchOperationsService){this.changeDetectorRef=changeDetectorRef,this.notificationsService=notificationsService,this.route=route,this.router=router,this.itemDataService=itemDataService,this.submissionService=submissionService,this.translate=translate,this.submissionJsonPatchOperationsService=submissionJsonPatchOperationsService,this.collectionModifiable=null,this.subs=[],this.itemLink$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(void 0)}ngOnInit(){this.collectionModifiable=this.route.snapshot.data?.collectionModifiable??null,this.subs.push(this.route.paramMap.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(params=>this.submissionService.retrieveSubmission(params.get("id"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.pb)(submissionObjectRD=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Pe)(submissionObjectRD))).subscribe(submissionObjectRD=>{if(submissionObjectRD.hasSucceeded)if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Im)(submissionObjectRD.payload))this.notificationsService.info(null,this.translate.get("submission.general.cannot_submit")),this.router.navigate(["/mydspace"]);else{const{errors}=submissionObjectRD.payload;this.submissionErrors=(0,_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_9__.A)(errors),this.submissionId=submissionObjectRD.payload.id.toString(),this.collectionId=submissionObjectRD.payload.collection.id,this.selfUrl=submissionObjectRD.payload._links.self.href,this.sections=submissionObjectRD.payload.sections,this.itemLink$.next(submissionObjectRD.payload._links.item.href),this.item=submissionObjectRD.payload.item,this.submissionDefinition=submissionObjectRD.payload.submissionDefinition}else 404===submissionObjectRD.statusCode&&this.router.navigate(["/404"],{skipLocationChange:!0})}),this.itemLink$.pipe((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(itemLink=>this.itemDataService.findByHref(itemLink)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.v7)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.BL)(300)).subscribe(itemRd=>{this.item=itemRd.payload,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.a4)(sub)).forEach(sub=>sub.unsubscribe()),this.submissionJsonPatchOperationsService.deletePendingJsonPatchOperations()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionEditComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_10__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_11__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_11__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__.ItemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_5__.E),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_2__.U))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:SubmissionEditComponent2,selectors:[["ds-base-submission-edit"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:2,vars:8,consts:[[1,"submission-submit-container"],[3,"collectionId","sections","selfUrl","submissionDefinition","submissionErrors","item","collectionModifiable","submissionId"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(1,"ds-submission-form",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("collectionId",ctx.collectionId)("sections",ctx.sections)("selfUrl",ctx.selfUrl)("submissionDefinition",ctx.submissionDefinition)("submissionErrors",ctx.submissionErrors)("item",ctx.item)("collectionModifiable",ctx.collectionModifiable)("submissionId",ctx.submissionId))},dependencies:[_form_themed_submission_form_component__WEBPACK_IMPORTED_MODULE_4__.p]})}}return SubmissionEditComponent2})()},7147:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>ThemedSubmissionEditComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(13761),__webpack_require__(25376));const _c0=["*"];function ThemedSubmissionEditComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionEditComponent=(()=>{class ThemedSubmissionEditComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{getComponentName(){return"SubmissionEditComponent"}importThemedComponent(themeName){return __webpack_require__(9048)(`./${themeName}/app/submission/edit/submission-edit.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,13761))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionEditComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionEditComponent_BaseFactory||(\u0275ThemedSubmissionEditComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedSubmissionEditComponent2)))(__ngFactoryType__||ThemedSubmissionEditComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedSubmissionEditComponent2,selectors:[["ds-submission-edit"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedSubmissionEditComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}}return ThemedSubmissionEditComponent2})()},2265:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>SubmissionFormCollectionComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25376),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(87969),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(60444),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11481),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8108),_core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6816),_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71771),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39022),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53921),_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69919),_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32813),_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83629),_shared_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2794),_sections_sections_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90174),_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1884),_submission_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(78953);function SubmissionFormCollectionComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",1)(1,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,2,"submission.sections.general.collection")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(6,4,ctx_r0.selectedCollectionName$))}}function SubmissionFormCollectionComponent_Conditional_3_Conditional_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(1,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s())}function SubmissionFormCollectionComponent_Conditional_3_Conditional_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(2,1,ctx_r0.selectedCollectionName$))}}function SubmissionFormCollectionComponent_Conditional_3_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",4,0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("openChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r0.toggled($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(2,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(5,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("blur",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r0.onClose())})("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r0.onClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(7,SubmissionFormCollectionComponent_Conditional_3_Conditional_7_Template,2,0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(9,SubmissionFormCollectionComponent_Conditional_3_Conditional_9_Template,3,3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(11,"div",7)(12,"ds-collection-dropdown",8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("selectionChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r0.onSelect($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(4,4,"submission.sections.general.collection")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("dsBtnDisabled",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(6,6,ctx_r0.processingChange$)||!1===ctx_r0.collectionModifiable||ctx_r0.isReadonly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(8,8,ctx_r0.processingChange$)?7:-1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(10,10,ctx_r0.processingChange$)?9:-1)}}let SubmissionFormCollectionComponent=(()=>{class SubmissionFormCollectionComponent2{constructor(cdr,collectionDataService,operationsBuilder,operationsService,submissionService,sectionsService,dsoNameService){this.cdr=cdr,this.collectionDataService=collectionDataService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.submissionService=submissionService,this.sectionsService=sectionsService,this.dsoNameService=dsoNameService,this.collectionModifiable=null,this.isReadonly=!1,this.collectionChange=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.bkB,this.processingChange$=new rxjs__WEBPACK_IMPORTED_MODULE_12__.BehaviorSubject(!1),this.subs=[]}ngOnChanges(changes){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(changes.currentCollectionId)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(changes.currentCollectionId.currentValue)&&(this.selectedCollectionId=this.currentCollectionId,this.selectedCollectionName$=this.collectionDataService.findById(this.currentCollectionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.I6)(collectionRD=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(collectionRD.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.Tj)(collectionRD=>this.dsoNameService.getName(collectionRD.payload))))}ngOnInit(){this.pathCombiner=new _core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_2__.S("sections","collection"),this.available$=this.sectionsService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__.l.Collection)}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(sub)).forEach(sub=>sub.unsubscribe())}onSelect(event){this.processingChange$.next(!0),this.operationsBuilder.replace(this.pathCombiner.getPath(),event.collection.id,!0),this.subs.push(this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,"sections","collection").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.ZZ)(submissionObject=>this.submissionService.retrieveSubmission(submissionObject[0].id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)()))).subscribe(submissionObject=>{this.selectedCollectionId=event.collection.id,this.selectedCollectionName$=(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(event.collection.name),this.collectionChange.emit(submissionObject),this.submissionService.changeSubmissionCollection(this.submissionId,event.collection.id),this.processingChange$.next(!1),this.cdr.detectChanges()}))}onClose(){this.collectionDropdown?.reset()}toggled(isOpen){isOpen||this.collectionDropdown?.reset()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionFormCollectionComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_11__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_1__.CollectionDataService),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_5__.U),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_10__.E),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_sections_sections_service__WEBPACK_IMPORTED_MODULE_8__.c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.VBU({type:SubmissionFormCollectionComponent2,selectors:[["ds-submission-form-collection"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.GBs(_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_6__.CollectionDropdownComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_11__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_11__.lsd())&&(ctx.collectionDropdown=_t.first)}},inputs:{currentCollectionId:"currentCollectionId",currentDefinition:"currentDefinition",collectionModifiable:"collectionModifiable",submissionId:"submissionId",isReadonly:"isReadonly"},outputs:{collectionChange:"collectionChange"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_11__.aNF],decls:5,vars:6,consts:[["collectionControls","ngbDropdown"],[1,"input-group","mb-3"],["ngbDropdown","",1,"btn-group","input-group"],[1,"input-group-text"],["ngbDropdown","",1,"btn-group","input-group",3,"openChange"],["id","collectionControlsMenuLabel",1,"input-group-text"],["aria-describedby","collectionControlsMenuLabel","id","collectionControlsMenuButton","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"blur","click","dsBtnDisabled"],["ngbDropdownMenu","","id","collectionControlsDropdownMenu","aria-labelledby","collectionControlsMenuButton",1,"dropdown-menu","p-0"],[3,"selectionChange"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,SubmissionFormCollectionComponent_Conditional_1_Template,7,6,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(3,SubmissionFormCollectionComponent_Conditional_3_Template,13,12,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(2,2,ctx.available$)?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(4,4,ctx.available$)?3:-1))},dependencies:[_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_15__.A,_angular_common__WEBPACK_IMPORTED_MODULE_16__.MD,_angular_common__WEBPACK_IMPORTED_MODULE_16__.Jj,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.zH,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.tg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.do,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.U0,_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_7__.m,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return SubmissionFormCollectionComponent2})()},46783:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionFormFooterComponent:()=>SubmissionFormFooterComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(60444),_core_submission_submission_rest_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61914),_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14810),_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(69919),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2794),_shared_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(96340),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(78953),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87969);function SubmissionFormFooterComponent_Conditional_0_Conditional_2_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r2);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2),content_r4=_angular_core__WEBPACK_IMPORTED_MODULE_3__.sdS(2);return $event.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.confirmDiscard(content_r4))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(4,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsBtnDisabled",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,3,ctx_r2.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,5,ctx_r2.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,7,"discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(6,9,"submission.general.discard.submit")," ")}}function SubmissionFormFooterComponent_Conditional_0_Conditional_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(1,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,1,"submission.general.info.saved")," "))}function SubmissionFormFooterComponent_Conditional_0_Conditional_9_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(1,"i",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,1,"submission.general.info.pending-changes")," "))}function SubmissionFormFooterComponent_Conditional_0_Conditional_13_Conditional_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1,"Saving..."),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.xc7("width","100%")}function SubmissionFormFooterComponent_Conditional_0_Conditional_13_Conditional_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1,"Depositing..."),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.xc7("width","100%")}function SubmissionFormFooterComponent_Conditional_0_Conditional_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",5)(1,"div",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(2,SubmissionFormFooterComponent_Conditional_0_Conditional_13_Conditional_2_Template,2,2,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(4,SubmissionFormFooterComponent_Conditional_0_Conditional_13_Conditional_4_Template,2,2,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,2,ctx_r2.processingSaveStatus)?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(5,4,ctx_r2.processingDepositStatus)?4:-1)}}function SubmissionFormFooterComponent_Conditional_0_Conditional_35_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r5);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.deposit($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(5,"i",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsBtnDisabled",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,3,ctx_r2.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,5,ctx_r2.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,7,"deposit")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(7,9,"submission.general.deposit"),"")}}function SubmissionFormFooterComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",1)(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(2,SubmissionFormFooterComponent_Conditional_0_Conditional_2_Template,7,11,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(4,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(5,SubmissionFormFooterComponent_Conditional_0_Conditional_5_Template,4,3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(9,SubmissionFormFooterComponent_Conditional_0_Conditional_9_Template,4,3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(13,SubmissionFormFooterComponent_Conditional_0_Conditional_13_Template,6,6,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(16,"div",6)(17,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(18,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(19,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(20,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.save($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(21,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(22,"i",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(23),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(24,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(25,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(26,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(27,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(29,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(30,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.saveLater($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(31,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(32,"i",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(33),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(34,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(35,SubmissionFormFooterComponent_Conditional_0_Conditional_35_Template,8,11,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(36,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,15,ctx_r2.showDepositAndDiscard)?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(6,17,ctx_r2.hasUnsavedModification)&&!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(7,19,ctx_r2.processingSaveStatus)&&!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(8,21,ctx_r2.processingDepositStatus)?5:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(10,23,ctx_r2.hasUnsavedModification)&&!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(11,25,ctx_r2.processingSaveStatus)&&!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(12,27,ctx_r2.processingDepositStatus)?9:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(14,29,ctx_r2.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(15,31,ctx_r2.processingDepositStatus)?13:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsBtnDisabled",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(18,33,ctx_r2.processingSaveStatus)||!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(19,35,ctx_r2.hasUnsavedModification)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(20,37,"save")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(24,39,"submission.general.save"),""),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.AVh("btn-primary",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(26,41,ctx_r2.showDepositAndDiscard))("btn-secondary",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(27,43,ctx_r2.showDepositAndDiscard)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsBtnDisabled",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(28,45,ctx_r2.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(29,47,ctx_r2.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(30,49,"save-for-later")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(34,51,"submission.general.save-later"),""),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(36,53,ctx_r2.showDepositAndDiscard)?35:-1)}}function SubmissionFormFooterComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",20)(1,"h4",21),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(4,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function(){const d_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r6).dismiss;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(d_r7("cancel"))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(5,"div",23)(6,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(9,"div",24)(10,"button",25),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function(){const c_r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r6).close;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(c_r8("cancel"))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(13,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function(){const c_r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r6).close;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(c_r8("ok"))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(14),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,4,"submission.general.discard.confirm.title")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(8,6,"submission.general.discard.confirm.info")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(12,8,"submission.general.discard.confirm.cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(15,10,"submission.general.discard.confirm.submit")))}let SubmissionFormFooterComponent=(()=>{class SubmissionFormFooterComponent2{constructor(modalService,restService,submissionService){this.modalService=modalService,this.restService=restService,this.submissionService=submissionService,this.submissionIsInvalid=(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(!0)}ngOnChanges(changes){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.hj)(this.submissionId)&&(this.submissionIsInvalid=this.submissionService.getSubmissionStatus(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.Tj)(isValid=>!1===isValid)),this.processingSaveStatus=this.submissionService.getSubmissionSaveProcessingStatus(this.submissionId),this.processingDepositStatus=this.submissionService.getSubmissionDepositProcessingStatus(this.submissionId),this.showDepositAndDiscard=(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(this.submissionService.getSubmissionScope()===_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_1__.L.WorkspaceItem),this.hasUnsavedModification=this.submissionService.hasUnsavedModification())}save(event){this.submissionService.dispatchSave(this.submissionId,!0)}saveLater(event){this.submissionService.dispatchSaveForLater(this.submissionId)}deposit(event){this.submissionService.dispatchDeposit(this.submissionId)}confirmDiscard(content){this.modalService.open(content).result.then(result=>{"ok"===result&&this.submissionService.dispatchDiscard(this.submissionId)})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionFormFooterComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Bq),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_submission_submission_rest_service__WEBPACK_IMPORTED_MODULE_0__.O),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_2__.E))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:SubmissionFormFooterComponent2,selectors:[["ds-base-submission-form-footer"]],inputs:{submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:3,vars:1,consts:[["content",""],[1,"d-flex","flex-row","gap-1","justify-content-between"],[1,"flex-grow-0"],["type","button","id","discard",1,"btn","btn-danger",3,"dsBtnDisabled"],[1,"text-end","d-flex","justify-content-end","align-items-center"],[1,"col","d-flex","justify-content-end","align-items-center"],[1,"ms-2","space-children-mr"],["type","button","id","save",1,"btn","btn-secondary",3,"click","dsBtnDisabled"],[1,"fas","fa-save"],["type","button","id","saveForLater",1,"btn",3,"click","dsBtnDisabled"],["type","button","id","deposit",1,"btn","btn-success",3,"dsBtnDisabled"],["type","button","id","discard",1,"btn","btn-danger",3,"click","dsBtnDisabled"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"progress","w-75"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-info",3,"width"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-info"],["type","button","id","deposit",1,"btn","btn-success",3,"click","dsBtnDisabled"],[1,"fas","fa-plus"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","space-children-mr"],["type","button","id","discard_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","discard_submit",1,"btn","btn-danger",3,"click"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,SubmissionFormFooterComponent_Conditional_0_Template,37,55,"div",1)(1,SubmissionFormFooterComponent_ng_template_1_Template,16,12,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(ctx.submissionId?0:-1)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.Jj,_shared_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_9__.L,_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_10__.A,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.D9]})}}return SubmissionFormFooterComponent2})()},55981:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ThemedSubmissionFormFooterComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(46783),__webpack_require__(25376));const _c0=["*"];function ThemedSubmissionFormFooterComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionFormFooterComponent=(()=>{class ThemedSubmissionFormFooterComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["submissionId"]}getComponentName(){return"SubmissionFormFooterComponent"}importThemedComponent(themeName){return __webpack_require__(46274)(`./${themeName}/app/submission/form/footer/submission-form-footer.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,46783))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionFormFooterComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionFormFooterComponent_BaseFactory||(\u0275ThemedSubmissionFormFooterComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedSubmissionFormFooterComponent2)))(__ngFactoryType__||ThemedSubmissionFormFooterComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedSubmissionFormFooterComponent2,selectors:[["ds-submission-form-footer"]],inputs:{submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedSubmissionFormFooterComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}}return ThemedSubmissionFormFooterComponent2})()},14043:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>SubmissionFormSectionAddComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87514),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87969),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60444),_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(69919),_shared_host_window_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29215),_sections_sections_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90174),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(78953),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376);const _c0=a0=>({"w-100":a0});function SubmissionFormSectionAddComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(5,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsBtnDisabled",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,3,ctx_r0.hasSections$))("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.eq3(9,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,5,ctx_r0.isXs$))),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(4,7,"submission.sections.general.add-more")," ")}}function SubmissionFormSectionAddComponent_Conditional_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,1,"submission.sections.general.no-sections")," "))}function SubmissionFormSectionAddComponent_For_9_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("click",function(){const listItem_r3=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r2).$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r0.addSection(listItem_r3.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()}if(2&rf){const listItem_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,1,"submission.sections."+listItem_r3.header)," ")}}let SubmissionFormSectionAddComponent=(()=>{class SubmissionFormSectionAddComponent2{constructor(sectionService,submissionService,windowService){this.sectionService=sectionService,this.submissionService=submissionService,this.windowService=windowService}ngOnInit(){this.sectionList$=this.submissionService.getDisabledSectionsList(this.submissionId),this.hasSections$=this.sectionList$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(list=>list.length>0)),this.isXs$=this.windowService.isXs()}addSection(sectionId){this.sectionService.addSection(this.submissionId,sectionId)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionFormSectionAddComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_sections_sections_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_2__.E),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_shared_host_window_service__WEBPACK_IMPORTED_MODULE_0__.CV))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:SubmissionFormSectionAddComponent2,selectors:[["ds-submission-form-section-add"]],inputs:{collectionId:"collectionId",submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:11,vars:16,consts:[["sectionAdd","ngbDropdown"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block",3,"ngClass"],["id","sectionControls","ngbDropdownToggle","",1,"btn","btn-outline-primary","dropdown-toggle",3,"dsBtnDisabled","ngClass"],["ngbDropdownMenu","","aria-labelledby","sectionControls",1,"sections-dropdown-menu",3,"ngClass"],[1,"dropdown-item","disabled"],[1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-plus"],[1,"dropdown-item",3,"click"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",1,0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(2,SubmissionFormSectionAddComponent_Conditional_2_Template,6,11,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(4,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(6,SubmissionFormSectionAddComponent_Conditional_6_Template,3,3,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Z7z(8,SubmissionFormSectionAddComponent_For_9_Template,3,3,"button",5,_angular_core__WEBPACK_IMPORTED_MODULE_3__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.eq3(12,_c0,ctx.isXs$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,4,ctx.hasSections$)?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.eq3(14,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(5,6,ctx.isXs$))),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(7,8,ctx.hasSections$)?6:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Dyx(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(10,10,ctx.sectionList$)))},dependencies:[_shared_btn_disabled_directive__WEBPACK_IMPORTED_MODULE_5__.A,_angular_common__WEBPACK_IMPORTED_MODULE_6__.MD,_angular_common__WEBPACK_IMPORTED_MODULE_6__.YU,_angular_common__WEBPACK_IMPORTED_MODULE_6__.Jj,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.zH,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.tg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.do,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.U0,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.sections-dropdown-menu[_ngcontent-%COMP%]{z-index:var(--ds-submission-header-z-index)}"]})}}return SubmissionFormSectionAddComponent2})()},15373:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionFormComponent:()=>SubmissionFormComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2385),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90326),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(60444),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(54545),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(54090),__webpack_require__(26139)),_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(43575),__webpack_require__(2794)),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18869),_shared_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(99464),_sections_container_themed_section_container_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(80189),_sections_sections_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90174),_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1884),_sections_visibility_type__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1356),_submission_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(78953),_collection_submission_form_collection_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2265),_footer_themed_submission_form_footer_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(55981),_section_add_submission_form_section_add_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(14043),_submission_upload_files_themed_submission_upload_files_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(28271),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(25376);function SubmissionFormComponent_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(1,"ds-submission-upload-files",11)(2,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("submissionId",ctx_r0.submissionId)("collectionId",ctx_r0.collectionId)("uploadFilesOptions",ctx_r0.uploadFilesOptions)}}function SubmissionFormComponent_Conditional_1_Conditional_4_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_16__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"ds-submission-form-collection",13),_angular_core__WEBPACK_IMPORTED_MODULE_16__.bIt("collectionChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_16__.eBV(_r2);const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_16__.Njj(ctx_r0.onCollectionChange($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("currentCollectionId",ctx_r0.collectionId)("currentDefinition",ctx_r0.definitionId)("submissionId",ctx_r0.submissionId)("collectionModifiable",ctx_r0.collectionModifiable)("isReadonly",ctx_r0.isSectionReadonly)}}function SubmissionFormComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(1,SubmissionFormComponent_Conditional_1_Conditional_1_Template,3,3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(4,SubmissionFormComponent_Conditional_1_Conditional_4_Template,1,5,"ds-submission-form-collection",8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(5,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(6,"ds-submission-form-section-add",10),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(2,4,ctx_r0.uploadEnabled$)?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(ctx_r0.isSectionHidden?-1:4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("collectionId",ctx_r0.collectionId)("submissionId",ctx_r0.submissionId)}}function SubmissionFormComponent_Conditional_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(0,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(1,1,"form.loading"))}function SubmissionFormComponent_For_7_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(0,"ds-submission-section-container",4),2&rf){const object_r3=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("collectionId",ctx_r0.collectionId)("submissionId",ctx_r0.submissionId)("sectionData",object_r3)}}function SubmissionFormComponent_Conditional_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nrm(1,"ds-submission-form-footer",14),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y8G("submissionId",ctx_r0.submissionId)}}let SubmissionFormComponent=(()=>{class SubmissionFormComponent2{constructor(authService,changeDetectorRef,halService,submissionService,sectionsService){this.authService=authService,this.changeDetectorRef=changeDetectorRef,this.halService=halService,this.submissionService=submissionService,this.sectionsService=sectionsService,this.collectionModifiable=null,this.isLoading$=(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(!0),this.uploadFilesOptions=new _shared_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_6__.H,this.subs=[],this.isActive=!0}ngOnChanges(changes){changes.collectionId&&this.collectionId&&changes.submissionId&&this.submissionId&&(this.isActive=!0,this.submissionSections=this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.pb)(()=>this.isActive),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(submission=>submission.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(isLoading=>isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.nx)(isLoading=>isLoading?(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)([]):this.getSectionsList())),this.uploadEnabled$=this.sectionsService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__.l.Upload),this.isLoading$=this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.pb)(()=>this.isActive),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(submission=>submission.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(isLoading=>isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.F)()),this.subs.push(this.halService.getEndpoint(this.submissionService.getSubmissionObjectLinkName()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.pb)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.F)()).subscribe(endpointURL=>{this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.uploadFilesOptions.impersonatingID=this.authService.getImpersonateID(),this.uploadFilesOptions.url=endpointURL.concat(`/${this.submissionId}`),this.definitionId=this.submissionDefinition.name,this.submissionService.dispatchInit(this.collectionId,this.submissionId,this.selfUrl,this.submissionDefinition,this.sections,this.item,this.submissionErrors),this.changeDetectorRef.detectChanges()})),this.submissionService.startAutoSave(this.submissionId))}getCollectionVisibility(){const submissionSectionModel=this.submissionDefinition.sections.page.find(section=>lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(section.sectionType,_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__.l.Collection));return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.EA)(submissionSectionModel.visibility)?submissionSectionModel.visibility:null}get isSectionHidden(){const visibility=this.getCollectionVisibility();return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4)(visibility)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(visibility.main,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_10__.x.HIDDEN)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(visibility.other,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_10__.x.HIDDEN)}get isSectionReadonly(){const visibility=this.getCollectionVisibility();return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4)(visibility)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(visibility.main,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_10__.x.READONLY)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(visibility.other,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_10__.x.READONLY)}ngOnDestroy(){this.isActive=!1,this.submissionService.stopAutoSave(),this.submissionService.resetAllSubmissionObjects(),this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}onCollectionChange(submissionObject){this.definitionId!==submissionObject.submissionDefinition.name?(this.sections=submissionObject.sections,this.submissionDefinition=submissionObject.submissionDefinition,this.definitionId=this.submissionDefinition.name,this.submissionService.resetSubmissionObject(submissionObject.collection.id,this.submissionId,submissionObject._links.self.href,this.submissionDefinition,this.sections,this.item)):this.changeDetectorRef.detectChanges()}getSectionsList(){return this.submissionService.getSubmissionSections(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.pb)(sections=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.hj)(sections)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.Tj)(sections=>sections.filter(section=>!lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(section.sectionType,_sections_sections_type__WEBPACK_IMPORTED_MODULE_9__.l.Collection))))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionFormComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_16__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_11__.E),_angular_core__WEBPACK_IMPORTED_MODULE_16__.rXU(_sections_sections_service__WEBPACK_IMPORTED_MODULE_8__.c))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_16__.VBU({type:SubmissionFormComponent2,selectors:[["ds-base-submission-form"]],inputs:{collectionId:"collectionId",item:"item",collectionModifiable:"collectionModifiable",sections:"sections",submissionErrors:"submissionErrors",selfUrl:"selfUrl",submissionDefinition:"submissionDefinition",submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_16__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_16__.aNF],decls:11,vars:11,consts:[[1,"container-fluid"],[1,"submission-form-header","mb-3","d-flex","flex-wrap","position-sticky"],[1,"submission-form-content"],[3,"message"],[3,"collectionId","submissionId","sectionData"],[1,"submission-form-footer","mt-3","mb-3","position-sticky"],[1,"w-100"],[1,"submission-form-header-item","mb-3","mb-sm-0","flex-sm-grow-1","flex-md-grow-0"],[3,"currentCollectionId","currentDefinition","submissionId","collectionModifiable","isReadonly"],[1,"submission-form-header-item","text-end"],[3,"collectionId","submissionId"],[3,"submissionId","collectionId","uploadFilesOptions"],[1,"clearfix"],[3,"collectionChange","currentCollectionId","currentDefinition","submissionId","collectionModifiable","isReadonly"],[3,"submissionId"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(1,SubmissionFormComponent_Conditional_1_Template,7,6,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.j41(3,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(4,SubmissionFormComponent_Conditional_4_Template,2,3,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Z7z(6,SubmissionFormComponent_For_7_Template,1,3,"ds-submission-section-container",4,_angular_core__WEBPACK_IMPORTED_MODULE_16__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.DNE(9,SubmissionFormComponent_Conditional_9_Template,2,1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(2,3,ctx.isLoading$)?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(5,5,ctx.isLoading$)?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Dyx(_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(8,7,ctx.submissionSections)),_angular_core__WEBPACK_IMPORTED_MODULE_16__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.vxM(!0!==_angular_core__WEBPACK_IMPORTED_MODULE_16__.bMT(10,9,ctx.isLoading$)?9:-1))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.MD,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_collection_submission_form_collection_component__WEBPACK_IMPORTED_MODULE_12__.Q,_section_add_submission_form_section_add_component__WEBPACK_IMPORTED_MODULE_14__.E,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__.v,_footer_themed_submission_form_footer_component__WEBPACK_IMPORTED_MODULE_13__.a,_sections_container_themed_section_container_component__WEBPACK_IMPORTED_MODULE_7__.P,_submission_upload_files_themed_submission_upload_files_component__WEBPACK_IMPORTED_MODULE_15__.H,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.D9],styles:[".submission-form-header[_ngcontent-%COMP%]{background-color:#fffffff7;padding:calc(var(--bs-spacer) / 2) 0 calc(var(--bs-spacer) / 2) 0;top:0;z-index:var(--ds-submission-header-z-index)}.submission-form-header-item[_ngcontent-%COMP%]{flex-grow:1}.submission-form-footer[_ngcontent-%COMP%]{border-radius:var(--bs-card-border-radius);bottom:0;background-color:var(--bs-gray-400);padding:calc(var(--bs-spacer) / 2);z-index:var(--ds-submission-footer-z-index)}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#066;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return SubmissionFormComponent2})()},11015:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionUploadFilesComponent:()=>SubmissionUploadFilesComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(60444),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53921),_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(77040),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76623),_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73649),_sections_sections_service__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(99464),__webpack_require__(90174)),_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1884),_submission_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78953),_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(39247),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2385);function SubmissionUploadFilesComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"ds-uploader",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.bIt("onCompleteItem",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_8__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_8__.Njj(ctx_r1.onCompleteItem($event))})("onUploadError",function(){_angular_core__WEBPACK_IMPORTED_MODULE_8__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_8__.Njj(ctx_r1.onUploadError())}),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("dropMsg",ctx_r1.dropMsg)("dropOverDocumentMsg",ctx_r1.dropOverDocumentMsg)("enableDragOverDocument",ctx_r1.enableDragOverDocument)("onBeforeUpload",ctx_r1.onBeforeUpload)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}let SubmissionUploadFilesComponent=(()=>{class SubmissionUploadFilesComponent2{constructor(notificationsService,operationsService,sectionService,submissionService,translate){this.notificationsService=notificationsService,this.operationsService=operationsService,this.sectionService=sectionService,this.submissionService=submissionService,this.translate=translate,this.enableDragOverDocument=!0,this.dropOverDocumentMsg="submission.sections.upload.drop-message",this.dropMsg="submission.sections.upload.drop-message",this.subs=[],this.uploadEnabled=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(!1),this.onBeforeUpload=()=>{const sub=this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,"sections").subscribe();return this.subs.push(sub),sub}}ngOnChanges(){this.uploadEnabled=this.sectionService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.l.Upload)}onCompleteItem(workspaceitem){this.subs.push(this.uploadEnabled.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.$1)()).subscribe(isUploadEnabled=>{if(isUploadEnabled){const{sections}=workspaceitem,{errors}=workspaceitem,errorsList=(0,_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_11__.A)(errors);sections&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.hj)(sections)&&Object.keys(sections).forEach(sectionId=>{const sectionData=(0,_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_1__.Z5)(sections[sectionId]),sectionErrors=errorsList[sectionId];this.sectionService.isSectionType(this.submissionId,sectionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.l.Upload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.s)(1)).subscribe(isUpload=>{isUpload&&((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Im)(sectionErrors)?this.notificationsService.success(null,this.translate.get("submission.sections.upload.upload-successful")):this.notificationsService.error(null,this.translate.get("submission.sections.upload.upload-failed")))}),this.sectionService.updateSectionData(this.submissionId,sectionId,sectionData,sectionErrors,sectionErrors)})}}))}onUploadError(){this.notificationsService.error(null,this.translate.get("submission.sections.upload.upload-failed"))}ngOnDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionUploadFilesComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_2__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_0__.U),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_sections_sections_service__WEBPACK_IMPORTED_MODULE_5__.c),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_7__.E),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.c$))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.VBU({type:SubmissionUploadFilesComponent2,selectors:[["ds-base-submission-upload-files"]],inputs:{collectionId:"collectionId",submissionId:"submissionId",uploadFilesOptions:"uploadFilesOptions"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_8__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_8__.aNF],decls:1,vars:1,consts:[[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","onBeforeUpload","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","dropMsg","dropOverDocumentMsg","enableDragOverDocument","onBeforeUpload","uploadFilesOptions"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(0,SubmissionUploadFilesComponent_Conditional_0_Template,1,5,"ds-uploader",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.vxM(ctx.uploadFilesOptions.url?0:-1)},dependencies:[_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_3__.y],encapsulation:2})}}return SubmissionUploadFilesComponent2})()},28271:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ThemedSubmissionUploadFilesComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(99464),__webpack_require__(11015),__webpack_require__(25376));const _c0=["*"];function ThemedSubmissionUploadFilesComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionUploadFilesComponent=(()=>{class ThemedSubmissionUploadFilesComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["collectionId","submissionId","uploadFilesOptions"]}getComponentName(){return"SubmissionUploadFilesComponent"}importThemedComponent(themeName){return __webpack_require__(28767)(`./${themeName}/app/submission/form/submission-upload-files/submission-upload-files.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,11015))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionUploadFilesComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionUploadFilesComponent_BaseFactory||(\u0275ThemedSubmissionUploadFilesComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(ThemedSubmissionUploadFilesComponent2)))(__ngFactoryType__||ThemedSubmissionUploadFilesComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ThemedSubmissionUploadFilesComponent2,selectors:[["ds-submission-upload-files"]],inputs:{collectionId:"collectionId",submissionId:"submissionId",uploadFilesOptions:"uploadFilesOptions"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,ThemedSubmissionUploadFilesComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s())},encapsulation:2})}}return ThemedSubmissionUploadFilesComponent2})()},63015:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>ThemedSubmissionFormComponent}),__webpack_require__(54090),__webpack_require__(43575);var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(15373),__webpack_require__(25376));const _c0=["*"];function ThemedSubmissionFormComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionFormComponent=(()=>{class ThemedSubmissionFormComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_2__.J{constructor(){super(...arguments),this.inAndOutputNames=["collectionId","item","collectionModifiable","sections","submissionErrors","selfUrl","submissionDefinition","submissionId"]}getComponentName(){return"SubmissionFormComponent"}importThemedComponent(themeName){return __webpack_require__(21392)(`./${themeName}/app/submission/form/submission-form.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,15373))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionFormComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionFormComponent_BaseFactory||(\u0275ThemedSubmissionFormComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_4__.xGo(ThemedSubmissionFormComponent2)))(__ngFactoryType__||ThemedSubmissionFormComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:ThemedSubmissionFormComponent2,selectors:[["ds-submission-form"]],inputs:{collectionId:"collectionId",item:"item",collectionModifiable:"collectionModifiable",sections:"sections",submissionErrors:"submissionErrors",selfUrl:"selfUrl",submissionDefinition:"submissionDefinition",submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_4__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(0,ThemedSubmissionFormComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s())},encapsulation:2})}}return ThemedSubmissionFormComponent2})()},53052:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionSectionContainerComponent:()=>SubmissionSectionContainerComponent});var common=__webpack_require__(87514),core=__webpack_require__(25376),ng_bootstrap=__webpack_require__(87969),ngx_translate_core=__webpack_require__(2385),alert_component=__webpack_require__(6213),alert_type=__webpack_require__(83113),sections_directive=__webpack_require__(20984),fesm2020_core=__webpack_require__(19519),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),submission_accesses_config_data_service=__webpack_require__(74556),json_patch_operation_path_combiner=__webpack_require__(6816),json_patch_operations_builder=__webpack_require__(71771),shared_operators=__webpack_require__(39022),submission_json_patch_operations_service=__webpack_require__(53921),date_util=__webpack_require__(13651),empty_util=__webpack_require__(2794),form_builder_service=__webpack_require__(84697),form_component=__webpack_require__(27790),form_service=__webpack_require__(83148),fast_json_patch=__webpack_require__(58911),isEqual=__webpack_require__(90326),isEqual_default=__webpack_require__.n(isEqual),isObject=__webpack_require__(96027),isObject_default=__webpack_require__.n(isObject),vocabulary_entry_model=__webpack_require__(89010),vocabulary_entry_detail_model=__webpack_require__(14672),form_field_language_value_model=__webpack_require__(84294),form_field_metadata_value_model=__webpack_require__(77493);let SectionFormOperationsService=(()=>{class SectionFormOperationsService2{constructor(formBuilder,operationsBuilder){this.formBuilder=formBuilder,this.operationsBuilder=operationsBuilder}dispatchOperationsFromEvent(pathCombiner,event,previousValue,hasStoredValue){switch(event.type){case"remove":this.dispatchOperationsFromRemoveEvent(pathCombiner,event,previousValue);break;case"change":this.dispatchOperationsFromChangeEvent(pathCombiner,event,previousValue,hasStoredValue);break;case"move":this.dispatchOperationsFromMoveEvent(pathCombiner,event,previousValue)}}getArrayIndexFromEvent(event){let fieldIndex;return(0,empty_util.hj)(event)&&((0,fesm2020_core.hDs)(event)?(0,empty_util.kZ)(event.context)?this.isPartOfArrayOfGroup(event.model)&&(fieldIndex=event.model.parent.parent.index):fieldIndex=event.context.index:fieldIndex=event?.index),(0,empty_util.EA)(fieldIndex)?fieldIndex:0}isPartOfArrayOfGroup(model){return(0,empty_util.Pe)(model.parent)&&model.parent.type===fesm2020_core.wnr&&model.parent.parent&&model.parent.parent.context&&model.parent.parent.context.type===fesm2020_core.WlY}getQualdropValueMap(event){const metadataValueMap=new Map;return(this.formBuilder.isQualdropGroup(event.model)?event.model.parent.context:event.model.parent.parent.context).groups.forEach(arrayModel=>{const groupModel=arrayModel.group[0],metadataValueList=metadataValueMap.get(groupModel.qualdropId)?metadataValueMap.get(groupModel.qualdropId):[];groupModel.value&&(metadataValueList.push(groupModel.value),metadataValueMap.set(groupModel.qualdropId,metadataValueList))}),metadataValueMap}getFieldPathFromEvent(event){const fieldIndex=this.getArrayIndexFromEvent(event),fieldId=this.getFieldPathSegmentedFromChangeEvent(event);return(0,empty_util.EA)(fieldIndex)?fieldId+"/"+fieldIndex:fieldId}getQualdropItemPathFromEvent(event){const fieldIndex=this.getArrayIndexFromEvent(event),metadataValueMap=new Map;let path=null;return(this.formBuilder.isQualdropGroup(event.model)?event.model.parent.context:event.model.parent.parent.context).groups.forEach((arrayModel,index)=>{const groupModel=arrayModel.group[0],metadataValueList=metadataValueMap.get(groupModel.qualdropId)?metadataValueMap.get(groupModel.qualdropId):[];groupModel.value&&(metadataValueList.push(groupModel.value),metadataValueMap.set(groupModel.qualdropId,metadataValueList)),index===fieldIndex&&(path=groupModel.qualdropId+"/"+(metadataValueList.length-1))}),path}getFieldPathSegmentedFromChangeEvent(event){let fieldId;return fieldId=this.formBuilder.isQualdropGroup(event.model)?event.model.qualdropId:this.formBuilder.isQualdropGroup(event.model.parent)?event.model.parent.qualdropId:this.formBuilder.getId(event.model),fieldId}getFieldValueFromChangeEvent(event){let fieldValue;const value=event.model.value;if(this.formBuilder.isModelInCustomGroup(event.model))fieldValue=event.model.parent.value;else if(this.formBuilder.isRelationGroup(event.model))fieldValue=event.model.getGroupValue();else if(event.model.hasLanguages){const language=event.model.language;event.model.hasAuthority?Array.isArray(value)?(value.forEach((authority,index)=>{authority=Object.assign(new vocabulary_entry_model.b,authority,{language}),value[index]=authority}),fieldValue=value):fieldValue=Object.assign(new vocabulary_entry_model.b,value,{language}):fieldValue=new form_field_metadata_value_model.e(value,language)}else fieldValue=(0,date_util.z5)(value)?new form_field_metadata_value_model.e((0,date_util.$T)(value)):value instanceof form_field_language_value_model.r||value instanceof vocabulary_entry_model.b||value instanceof vocabulary_entry_detail_model.M||isObject_default()(value)?value:new form_field_metadata_value_model.e(value);return fieldValue}getValueMap(items){const metadataValueMap=new Map;return items.forEach(item=>{Object.keys(item).forEach(key=>{const metadataValueList=metadataValueMap.get(key)?metadataValueMap.get(key):[];metadataValueList.push(item[key]),metadataValueMap.set(key,metadataValueList)})}),metadataValueMap}dispatchOperationsFromRemoveEvent(pathCombiner,event,previousValue){const path=this.getFieldPathFromEvent(event),value=this.getFieldValueFromChangeEvent(event);this.formBuilder.isQualdropGroup(event.model)?this.dispatchOperationsFromMap(this.getQualdropValueMap(event),pathCombiner,event,previousValue):event.context&&event.context instanceof fesm2020_core.fHx?this.handleArrayGroupPatch(pathCombiner,event,event.context.context,previousValue):((0,empty_util.hj)(value)&&"string"==typeof value||(0,empty_util.hj)(value)&&value instanceof form_field_metadata_value_model.e&&value.hasValue())&&this.operationsBuilder.remove(pathCombiner.getPath(path))}dispatchOperationsFromAddEvent(pathCombiner,event){const path=this.getFieldPathSegmentedFromChangeEvent(event),value=(0,fast_json_patch.Go)(this.getFieldValueFromChangeEvent(event));(0,empty_util.hj)(value)&&(value.place=this.getArrayIndexFromEvent(event),(0,empty_util.a4)(event.group)&&(0,empty_util.a4)(event.group.value)&&(1===event.group.value.map(g=>Object.values(g)).reduce((accumulator,currentValue)=>accumulator.concat(currentValue)).filter(v=>(0,empty_util.hj)(v)).length?this.operationsBuilder.add(pathCombiner.getPath([path]),[value],!1):this.operationsBuilder.add(pathCombiner.getPath([path,"-"]),value,!1)))}dispatchOperationsFromChangeEvent(pathCombiner,event,previousValue,hasStoredValue){if(event.context&&event.context instanceof fesm2020_core.fHx)return void this.handleArrayGroupPatch(pathCombiner,event,event.context.context,previousValue);const path=this.getFieldPathFromEvent(event),segmentedPath=this.getFieldPathSegmentedFromChangeEvent(event),value=this.getFieldValueFromChangeEvent(event);if(this.formBuilder.isQualdropGroup(event.model.parent)||this.formBuilder.isQualdropGroup(event.model))this.dispatchOperationsFromMap(this.getQualdropValueMap(event),pathCombiner,event,previousValue);else if(this.formBuilder.isRelationGroup(event.model))this.dispatchOperationsFromMap(this.getValueMap(value),pathCombiner,event,previousValue);else if(this.formBuilder.hasArrayGroupValue(event.model))this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0);else if(previousValue.isPathEqual(this.formBuilder.getPath(event.model))||hasStoredValue&&(0,empty_util.hj)(previousValue.value)){if((0,empty_util.a4)(event.$event)&&(0,empty_util.a4)(event.$event.previousIndex))if(event.$event.previousIndex<0)this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0);else{const moveTo=pathCombiner.getPath(path),moveFrom=pathCombiner.getPath(segmentedPath+"/"+event.$event.previousIndex);(0,empty_util.hj)(moveFrom.path)&&(0,empty_util.hj)(moveTo.path)&&moveFrom.path!==moveTo.path&&this.operationsBuilder.move(moveTo,moveFrom.path)}else(0,empty_util.hj)(value)&&!value.hasValue()?0===this.getArrayIndexFromEvent(event)?this.operationsBuilder.remove(pathCombiner.getPath(segmentedPath)):this.operationsBuilder.remove(pathCombiner.getPath(path)):this.operationsBuilder.replace(pathCombiner.getPath(path),value);previousValue.delete()}else value.hasValue()&&((0,empty_util.b0)(this.getArrayIndexFromEvent(event))||0===this.getArrayIndexFromEvent(event)?this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0):this.operationsBuilder.add(pathCombiner.getPath(path),value))}dispatchOperationsFromMap(valueMap,pathCombiner,event,previousValue){const currentValueMap=valueMap;if("remove"===event.type){const path=this.getQualdropItemPathFromEvent(event);this.operationsBuilder.remove(pathCombiner.getPath(path))}else previousValue.isPathEqual(this.formBuilder.getPath(event.model))&&previousValue.value.forEach((entry,index)=>{const currentValue=currentValueMap.get(index);currentValue?(isEqual_default()(entry,currentValue)||this.operationsBuilder.add(pathCombiner.getPath(index),currentValue,!0),currentValueMap.delete(index)):currentValue||this.operationsBuilder.remove(pathCombiner.getPath(index))}),currentValueMap.forEach((entry,index)=>{1===entry.length&&(0,empty_util.kZ)(entry[0])?this.operationsBuilder.remove(pathCombiner.getPath(index)):this.operationsBuilder.add(pathCombiner.getPath(index),entry,!0)});previousValue.delete()}dispatchOperationsFromMoveEvent(pathCombiner,event,previousValue){return this.handleArrayGroupPatch(pathCombiner,event.$event,event.$event.arrayModel,previousValue)}handleArrayGroupPatch(pathCombiner,event,model,previousValue){const arrayValue=this.formBuilder.getValueFromModel([model]),segmentedPath=this.getFieldPathSegmentedFromChangeEvent(event);(0,empty_util.hj)(arrayValue)?this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),arrayValue[segmentedPath],!1):previousValue.isPathEqual(this.formBuilder.getPath(event.model))&&this.operationsBuilder.remove(pathCombiner.getPath(segmentedPath))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SectionFormOperationsService2)(core.KVO(form_builder_service.j),core.KVO(json_patch_operations_builder.C))}}static{this.\u0275prov=core.jDH({token:SectionFormOperationsService2,factory:SectionFormOperationsService2.\u0275fac,providedIn:"root"})}}return SectionFormOperationsService2})(),SectionModelComponent=(()=>{class SectionModelComponent2{constructor(injectedCollectionId,injectedSectionData,injectedSubmissionId){this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.collectionId=injectedCollectionId,this.sectionData=injectedSectionData,this.submissionId=injectedSubmissionId}ngOnInit(){this.onSectionInit(),this.updateSectionStatus()}updateSectionStatus(){this.sectionStatusSub=this.getSectionStatus().pipe((0,operators.pb)(sectionStatus=>(0,empty_util.EA)(sectionStatus)),(0,operators.ql)(!0)).subscribe(sectionStatus=>{this.sectionService.setSectionStatus(this.submissionId,this.sectionData.id,sectionStatus)})}ngOnDestroy(){(0,empty_util.a4)(this.sectionStatusSub)&&this.sectionStatusSub.unsubscribe(),this.onSectionDestroy()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SectionModelComponent2)(core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SectionModelComponent2,selectors:[["ds-section-model"]],standalone:!0,features:[core.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}}return SectionModelComponent2})();var sections_service=__webpack_require__(90174);const ACCESS_FORM_CHECKBOX_CONFIG={id:"discoverable",name:"discoverable"},ACCESS_FORM_CHECKBOX_LAYOUT={element:{container:"custom-control custom-checkbox ps-1",control:"custom-control-input",label:"custom-control-label pt-1"}},ACCESS_CONDITION_GROUP_CONFIG={id:"accessConditionGroup",group:[]},ACCESS_CONDITION_GROUP_LAYOUT={element:{host:"mb-3 access-condition-group col",container:"ps-1 pe-1",control:"row "}},ACCESS_CONDITIONS_FORM_ARRAY_CONFIG={id:"accessCondition",groupFactory:null},ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT={grid:{group:"row pt-4"}},FORM_ACCESS_CONDITION_TYPE_CONFIG={id:"name",label:"submission.sections.accesses.form.access-condition-label",hint:"submission.sections.accesses.form.access-condition-hint",options:[]},FORM_ACCESS_CONDITION_TYPE_LAYOUT={element:{host:"col-12",label:"col-form-label name-label"}},FORM_ACCESS_CONDITION_START_DATE_CONFIG={id:"startDate",label:"submission.sections.accesses.form.from-label",hint:"submission.sections.accesses.form.from-hint",placeholder:"submission.sections.accesses.form.from-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:fesm2020_core.AjF,operator:fesm2020_core.fXj,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.accesses.form.date-required-from"}},FORM_ACCESS_CONDITION_START_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}},FORM_ACCESS_CONDITION_END_DATE_CONFIG={id:"endDate",label:"submission.sections.accesses.form.until-label",hint:"submission.sections.accesses.form.until-hint",placeholder:"submission.sections.accesses.form.until-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:fesm2020_core.AjF,operator:fesm2020_core.fXj,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.accesses.form.date-required-until"}},FORM_ACCESS_CONDITION_END_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}};var selectors=__webpack_require__(64808),ngrx_store=__webpack_require__(22609);let SectionAccessesService=(()=>{class SectionAccessesService2{constructor(store){this.store=store}getAccessesData(submissionId,sectionId){return this.store.select((0,selectors.on)(submissionId,sectionId)).pipe((0,operators.pb)(state=>(0,empty_util.EA)(state)),(0,operators.F)())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SectionAccessesService2)(core.KVO(ngrx_store.il))}}static{this.\u0275prov=core.jDH({token:SectionAccessesService2,factory:SectionAccessesService2.\u0275fac,providedIn:"root"})}}return SectionAccessesService2})();const _c0=["formRef"];function SubmissionSectionAccessesComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-form",2,0),core.bIt("dfChange",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onChange($event))})("removeArrayItem",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onRemove($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("formId",ctx_r1.formId)("formModel",ctx_r1.formModel)("displaySubmit",!1)("displayCancel",!1)}}let SubmissionSectionAccessesComponent=(()=>{class SubmissionSectionAccessesComponent2 extends SectionModelComponent{constructor(sectionService,formBuilderService,accessesConfigService,accessesService,formOperationsService,operationsBuilder,formService,translate,operationsService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.sectionService=sectionService,this.formBuilderService=formBuilderService,this.accessesConfigService=accessesConfigService,this.accessesService=accessesService,this.formOperationsService=formOperationsService,this.operationsBuilder=operationsBuilder,this.formService=formService,this.translate=translate,this.operationsService=operationsService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.subs=[]}initModelData(formModel){this.accessesData.accessConditions.forEach((accessCondition,index)=>{Array.of("name","startDate","endDate").filter(key=>accessCondition.hasOwnProperty(key)&&(0,empty_util.hj)(accessCondition[key])).forEach(key=>{const metadataModel=this.formBuilderService.findById(key,formModel,index);if(metadataModel)if(metadataModel.type===fesm2020_core.fQD){const date=new Date(accessCondition[key]);metadataModel.value={year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate()}}else metadataModel.value=accessCondition[key]})})}onChange(event){if(event.model.type===fesm2020_core.eU4){const path=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event),value=this.formOperationsService.getFieldValueFromChangeEvent(event);this.operationsBuilder.replace(this.pathCombiner.getPath(path),value.value,!0)}else{if(event.model.id===FORM_ACCESS_CONDITION_TYPE_CONFIG.id){const startDateControl=event.control.parent.get("startDate"),endDateControl=event.control.parent.get("endDate");startDateControl?.markAsUntouched(),endDateControl?.markAsUntouched(),startDateControl?.setValue(null),endDateControl?.setValue(null),event.control.parent.markAsDirty()}this.formService.validateAllFormFields(this.formRef.formGroup),this.formService.isValid(this.formId).pipe((0,operators.s)(1),(0,operators.pb)(isValid=>isValid),(0,operators.ZZ)(()=>this.formService.getFormData(this.formId)),(0,operators.s)(1)).subscribe(formData=>{const accessConditionsToSave=[];formData.accessCondition.map(accessConditions=>accessConditions.accessConditionGroup).filter(accessCondition=>(0,empty_util.hj)(accessCondition)).forEach(accessCondition=>{let accessConditionOpt;if(this.availableAccessConditionOptions.filter(element=>(0,empty_util.Pe)(accessCondition.name)&&element.name===accessCondition.name[0].value).forEach(element=>accessConditionOpt=element),accessConditionOpt){const currentAccessCondition=Object.assign({},accessCondition);if(currentAccessCondition.name=this.retrieveValueFromField(accessCondition.name),accessConditionOpt.hasStartDate){if(accessCondition.startDate){const startDate=this.retrieveValueFromField(accessCondition.startDate);currentAccessCondition.startDate=(0,date_util.Sd)(startDate)}}else delete currentAccessCondition.startDate;if(accessConditionOpt.hasEndDate){if(accessCondition.endDate){const endDate=this.retrieveValueFromField(accessCondition.endDate);currentAccessCondition.endDate=(0,date_util.Sd)(endDate)}}else delete currentAccessCondition.endDate;accessConditionsToSave.push(currentAccessCondition)}}),this.operationsBuilder.add(this.pathCombiner.getPath("accessConditions"),accessConditionsToSave,!0)})}}onRemove(event){const fieldPath="accessConditions/"+this.formOperationsService.getArrayIndexFromEvent(event);this.operationsBuilder.remove(this.pathCombiner.getPath(fieldPath))}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id);const config$=this.accessesConfigService.findByHref(this.sectionData.config,!0,!1).pipe((0,shared_operators.yd)(),(0,operators.Tj)(config=>config.payload)),accessData$=this.accessesService.getAccessesData(this.submissionId,this.sectionData.id);(0,cjs.combineLatest)([config$,accessData$]).subscribe(([config,accessData])=>{this.availableAccessConditionOptions=(0,empty_util.hj)(config.accessConditionOptions)?config.accessConditionOptions:[],this.canChangeDiscoverable=!!config.canChangeDiscoverable,this.accessesData=accessData,this.formModel=this.buildFileEditForm()})}getSectionStatus(){return(0,cjs.of)(!0)}buildFileEditForm(){const formModel=[];if(this.canChangeDiscoverable){const discoverableCheckboxConfig=Object.assign({},ACCESS_FORM_CHECKBOX_CONFIG,{label:this.translate.instant("submission.sections.accesses.form.discoverable-label"),hint:this.translate.instant("submission.sections.accesses.form.discoverable-description"),value:this.accessesData.discoverable});formModel.push(new fesm2020_core.M7d(discoverableCheckboxConfig,ACCESS_FORM_CHECKBOX_LAYOUT))}const accessConditionTypeModelConfig=Object.assign({},FORM_ACCESS_CONDITION_TYPE_CONFIG),accessConditionsArrayConfig=Object.assign({},ACCESS_CONDITIONS_FORM_ARRAY_CONFIG),accessConditionTypeOptions=[];for(const accessCondition of this.availableAccessConditionOptions)accessConditionTypeOptions.push({label:accessCondition.name,value:accessCondition.name});accessConditionTypeModelConfig.options=accessConditionTypeOptions;const startDateCondition=[],endDateCondition=[];let maxStartDate,maxEndDate;this.availableAccessConditionOptions.forEach(condition=>{if(condition.hasStartDate&&(startDateCondition.push({id:"name",value:condition.name}),condition.maxStartDate)){const min=new Date(condition.maxStartDate);maxStartDate={year:min.getUTCFullYear(),month:min.getUTCMonth()+1,day:min.getUTCDate()}}if(condition.hasEndDate&&(endDateCondition.push({id:"name",value:condition.name}),condition.maxEndDate)){const max=new Date(condition.maxEndDate);maxEndDate={year:max.getUTCFullYear(),month:max.getUTCMonth()+1,day:max.getUTCDate()}}});const confStart={relations:[{match:fesm2020_core.AjF,operator:fesm2020_core.fXj,when:startDateCondition}]},confEnd={relations:[{match:fesm2020_core.AjF,operator:fesm2020_core.fXj,when:endDateCondition}]},hasStartDate=startDateCondition.length>0,hasEndDate=endDateCondition.length>0;return accessConditionsArrayConfig.groupFactory=()=>{const type=new fesm2020_core.z4z(accessConditionTypeModelConfig,FORM_ACCESS_CONDITION_TYPE_LAYOUT),startDateConfig=Object.assign({},FORM_ACCESS_CONDITION_START_DATE_CONFIG,confStart);maxStartDate&&(startDateConfig.max=maxStartDate);const endDateConfig=Object.assign({},FORM_ACCESS_CONDITION_END_DATE_CONFIG,confEnd);maxEndDate&&(endDateConfig.max=maxEndDate);const startDate=new fesm2020_core.dku(startDateConfig,FORM_ACCESS_CONDITION_START_DATE_LAYOUT),endDate=new fesm2020_core.dku(endDateConfig,FORM_ACCESS_CONDITION_END_DATE_LAYOUT),accessConditionGroupConfig=Object.assign({},ACCESS_CONDITION_GROUP_CONFIG);return accessConditionGroupConfig.group=[type],hasStartDate&&accessConditionGroupConfig.group.push(startDate),hasEndDate&&accessConditionGroupConfig.group.push(endDate),[new fesm2020_core.iO5(accessConditionGroupConfig,ACCESS_CONDITION_GROUP_LAYOUT)]},accessConditionsArrayConfig.initialCount=(0,empty_util.hj)(this.accessesData.accessConditions)?this.accessesData.accessConditions.length:1,formModel.push(new fesm2020_core.UqU(accessConditionsArrayConfig,ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT)),this.initModelData(formModel),formModel}retrieveValueFromField(field){const temp=Array.isArray(field)?field[0]:field;return temp?temp.value:void 0}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionAccessesComponent2)(core.rXU(sections_service.c),core.rXU(form_builder_service.j),core.rXU(submission_accesses_config_data_service.SubmissionAccessesConfigDataService),core.rXU(SectionAccessesService),core.rXU(SectionFormOperationsService),core.rXU(json_patch_operations_builder.C),core.rXU(form_service.u),core.rXU(ngx_translate_core.c$),core.rXU(submission_json_patch_operations_service.U),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionAccessesComponent2,selectors:[["ds-section-accesses"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(_c0,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.formRef=_t.first)}},standalone:!0,features:[core.Vt3,core.aNF],decls:1,vars:1,consts:[["formRef","formComponent"],[3,"formId","formModel","displaySubmit","displayCancel"],[3,"dfChange","removeArrayItem","formId","formModel","displaySubmit","displayCancel"]],template:function(rf,ctx){1&rf&&core.DNE(0,SubmissionSectionAccessesComponent_Conditional_0_Template,2,4,"ds-form",1),2&rf&&core.vxM(ctx.formModel?0:-1)},dependencies:[form_component.s],styles:[".access-condition-group{position:relative;top:-2.3rem;margin-bottom:-2.3rem}"]})}}return SubmissionSectionAccessesComponent2})();var fesm2022_forms=__webpack_require__(13054),ngx_infinite_scroll=__webpack_require__(68109),configuration_data_service=__webpack_require__(93876),submission_cc_license_model=__webpack_require__(78905),submission_cc_license_data_service=__webpack_require__(64927),submission_cc_license_url_data_service=__webpack_require__(55311),btn_disabled_directive=__webpack_require__(69919);const ds_select_component_c0=[[["",8,"selection"]],[["",8,"menu"]]],_c1=[".selection",".menu"];function DsSelectComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"span",1),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.R7$(),core.SpI(" ",core.bMT(2,1,ctx_r0.label)," ")}}let DsSelectComponent=(()=>{class DsSelectComponent2{constructor(){this.toggled=new core.bkB,this.close=new core.bkB}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsSelectComponent2)}}static{this.\u0275cmp=core.VBU({type:DsSelectComponent2,selectors:[["ds-select"]],inputs:{label:"label",disabled:"disabled"},outputs:{toggled:"toggled",close:"close"},standalone:!0,features:[core.aNF],ngContentSelectors:_c1,decls:8,vars:2,consts:[["ngbDropdown","",1,"btn-group",3,"openChange"],["id","dsSelectMenuLabel",1,"input-group-text"],["aria-describedby","dsSelectMenuLabel","id","dsSelectMenuButton","ngbDropdownToggle","",1,"btn","btn-outline-primary","selection",3,"blur","click","dsBtnDisabled"],["ngbDropdownMenu","","id","dsSelectDropdownMenu","aria-labelledby","dsSelectMenuButton",1,"dropdown-menu"]],template:function(rf,ctx){1&rf&&(core.NAR(ds_select_component_c0),core.j41(0,"div")(1,"div",0),core.bIt("openChange",function($event){return ctx.toggled.emit($event)}),core.DNE(2,DsSelectComponent_Conditional_2_Template,3,3,"span",1),core.j41(3,"button",2),core.bIt("blur",function($event){return ctx.close.emit($event)})("click",function($event){return ctx.close.emit($event)}),core.SdG(4),core.k0s(),core.j41(5,"div",3)(6,"div"),core.SdG(7,1),core.k0s()()()()),2&rf&&(core.R7$(2),core.vxM(ctx.label?2:-1),core.R7$(),core.Y8G("dsBtnDisabled",ctx.disabled))},dependencies:[btn_disabled_directive.A,ng_bootstrap.zH,ng_bootstrap.tg,ng_bootstrap.do,ng_bootstrap.U0,ngx_translate_core.h,ngx_translate_core.D9]})}}return DsSelectComponent2})();var themed_loading_component=__webpack_require__(18869),var_directive=__webpack_require__(17543),sections_type=__webpack_require__(1884);const _forTrack0=($index,$item)=>$item.id,submission_section_cc_licenses_component_c0=()=>({standalone:!0});function SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_7_Template(rf,ctx){1&rf&&(core.j41(0,"button",6),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.sections.ccLicense.none")," "))}function SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_8_For_1_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"button",8),core.bIt("click",function(){const license_r4=core.eBV(_r3).$implicit,ctx_r1=core.XpG(3);return core.Njj(ctx_r1.selectCcLicense(license_r4))}),core.EFF(1),core.k0s()}if(2&rf){const license_r4=ctx.$implicit;core.R7$(),core.SpI(" ",license_r4.name," ")}}function SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_8_Template(rf,ctx){if(1&rf&&core.Z7z(0,SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_8_For_1_Template,2,1,"button",7,_forTrack0),2&rf){const ctx_r1=core.XpG(2);core.Dyx(ctx_r1.submissionCcLicenses)}}function SubmissionSectionCcLicensesComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",2)(1,"div",3)(2,"input",4,0),core.nI1(4,"translate"),core.nI1(5,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.DH7(ctx_r1.selectedCcLicense.name,$event)||(ctx_r1.selectedCcLicense.name=$event),core.Njj($event)}),core.k0s(),core.j41(6,"div",5),core.bIt("scroll",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onScroll($event))}),core.DNE(7,SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_7_Template,3,3,"button",6)(8,SubmissionSectionCcLicensesComponent_Conditional_0_Conditional_8_Template,2,0),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(2),core.FS9("placeholder",ctx_r1.storedCcLicenseLink?core.bMT(5,11,"submission.sections.ccLicense.change"):core.bMT(4,9,"submission.sections.ccLicense.select")),core.R50("ngModel",ctx_r1.selectedCcLicense.name),core.Y8G("ngModelOptions",core.lJ4(13,submission_section_cc_licenses_component_c0)),core.R7$(4),core.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),core.R7$(),core.vxM(0===(null==ctx_r1.submissionCcLicenses?null:ctx_r1.submissionCcLicenses.length)?7:8)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_ng_template_6_For_9_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",9)(1,"h5"),core.EFF(2),core.k0s(),core.nrm(3,"div",18),core.k0s()),2&rf){const value_r8=ctx.$implicit;core.R7$(2),core.SpI(" ",value_r8.label," "),core.R7$(),core.Y8G("innerHTML",value_r8.description,core.npT)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_ng_template_6_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"div")(1,"div",14)(2,"div")(3,"h4"),core.EFF(4),core.k0s(),core.nrm(5,"div",15),core.k0s(),core.j41(6,"button",16),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG(3);return core.Njj(ctx_r1.closeInfoModal())}),core.k0s()(),core.j41(7,"div",17),core.Z7z(8,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_ng_template_6_For_9_Template,4,2,"div",9,core.fX1),core.k0s()()}if(2&rf){const field_r9=core.XpG().$implicit;core.R7$(4),core.SpI(" ",field_r9.label," "),core.R7$(),core.Y8G("innerHTML",field_r9.description,core.npT),core.R7$(3),core.Dyx(field_r9.enums)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const option_r10=core.XpG().ngVar;core.R7$(),core.SpI(" ",option_r10.label," ")}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Conditional_2_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.sections.ccLicense.option.select")," "))}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Template(rf,ctx){if(1&rf&&(core.qex(0,22),core.DNE(1,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Conditional_1_Template,2,1,"span")(2,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Conditional_2_Template,3,3,"span"),core.bVm()),2&rf){const option_r10=ctx.ngVar;core.R7$(),core.vxM(option_r10?1:-1),core.R7$(),core.vxM(option_r10?-1:2)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_For_5_Template(rf,ctx){if(1&rf){const _r11=core.RV6();core.j41(0,"button",8),core.bIt("click",function(){const option_r12=core.eBV(_r11).$implicit,field_r9=core.XpG(2).$implicit,ctx_r1=core.XpG(2);return core.Njj(ctx_r1.selectOption(ctx_r1.getSelectedCcLicense(),field_r9,option_r12))}),core.EFF(1),core.k0s()}if(2&rf){const option_r12=ctx.$implicit;core.R7$(),core.SpI(" ",option_r12.label," ")}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-select",13),core.DNE(1,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_ng_container_1_Template,3,2,"ng-container",19),core.qex(2,20),core.j41(3,"div",21),core.Z7z(4,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_For_5_Template,2,1,"button",7,core.fX1),core.k0s(),core.bVm(),core.k0s()),2&rf){const field_r9=core.XpG().$implicit,ctx_r1=core.XpG(2);core.Y8G("disabled","jurisdiction"===field_r9.id&&void 0!==ctx_r1.defaultJurisdiction&&"none"!==ctx_r1.defaultJurisdiction),core.R7$(),core.Y8G("ngVar",ctx_r1.getSelectedOption(ctx_r1.getSelectedCcLicense(),field_r9)),core.R7$(3),core.Dyx(field_r9.enums)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_9_For_1_Template(rf,ctx){if(1&rf){const _r13=core.RV6();core.j41(0,"div",23)(1,"div",24),core.bIt("click",function(){const option_r14=core.eBV(_r13).$implicit,field_r9=core.XpG(2).$implicit,ctx_r1=core.XpG(2);return core.Njj(ctx_r1.selectOption(ctx_r1.getSelectedCcLicense(),field_r9,option_r14))}),core.nrm(2,"input",25),core.j41(3,"span"),core.EFF(4),core.k0s()()()}if(2&rf){const option_r14=ctx.$implicit,field_r9=core.XpG(2).$implicit,ctx_r1=core.XpG(2);core.R7$(2),core.FS9("title",option_r14.label),core.Y8G("checked",ctx_r1.isSelectedOption(ctx_r1.getSelectedCcLicense(),field_r9,option_r14)),core.R7$(2),core.JRh(option_r14.label)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_9_Template(rf,ctx){if(1&rf&&core.Z7z(0,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_9_For_1_Template,5,3,"div",23,core.fX1),2&rf){const field_r9=core.XpG().$implicit;core.Dyx(field_r9.enums)}}function SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"div",9)(1,"div",10)(2,"div"),core.EFF(3),core.k0s(),core.j41(4,"button",11),core.bIt("click",function(){core.eBV(_r5);const infoModal_r6=core.sdS(7),ctx_r1=core.XpG(2);return core.Njj(ctx_r1.openInfoModal(infoModal_r6))}),core.nrm(5,"i",12),core.k0s()(),core.DNE(6,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_ng_template_6_Template,10,2,"ng-template",null,1,core.C5r)(8,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_8_Template,6,2,"ds-select",13)(9,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Conditional_9_Template,2,0),core.k0s()}if(2&rf){const field_r9=ctx.$implicit;core.R7$(2),core.ZvI("fw-bold ",field_r9.id,""),core.R7$(),core.SpI(" ",field_r9.label," "),core.R7$(5),core.vxM((null==field_r9.enums?null:field_r9.enums.length)>5?8:-1),core.R7$(),core.vxM((null==field_r9.enums?null:field_r9.enums.length)<=5?9:-1)}}function SubmissionSectionCcLicensesComponent_Conditional_1_Template(rf,ctx){if(1&rf&&core.Z7z(0,SubmissionSectionCcLicensesComponent_Conditional_1_For_1_Template,10,6,"div",9,core.fX1),2&rf){const ctx_r1=core.XpG();core.Dyx(ctx_r1.getSelectedCcLicense().fields)}}function SubmissionSectionCcLicensesComponent_Conditional_2_Conditional_2_Template(rf,ctx){if(1&rf){const _r15=core.RV6();core.j41(0,"div",26)(1,"div"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"a",27),core.EFF(5),core.k0s(),core.j41(6,"div",28)(7,"div",24),core.bIt("click",function(){core.eBV(_r15);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.setAccepted(!ctx_r1.accepted))}),core.nrm(8,"input",29),core.j41(9,"span"),core.EFF(10),core.nI1(11,"translate"),core.k0s()()()()}if(2&rf){core.XpG();const licenseLink_r16=core.r8f(0),ctx_r1=core.XpG();core.R7$(2),core.SpI(" ",core.bMT(3,5,"submission.sections.ccLicense.link")," "),core.R7$(2),core.FS9("href",licenseLink_r16,core.B4B),core.R7$(),core.SpI(" ",licenseLink_r16," "),core.R7$(3),core.Y8G("checked",ctx_r1.accepted),core.R7$(2),core.SpI(" ",core.bMT(11,7,"submission.sections.ccLicense.confirmation"),"")}}function SubmissionSectionCcLicensesComponent_Conditional_2_Conditional_3_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}function SubmissionSectionCcLicensesComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.SS7(0),core.nI1(1,"async"),core.DNE(2,SubmissionSectionCcLicensesComponent_Conditional_2_Conditional_2_Template,12,9,"div",26)(3,SubmissionSectionCcLicensesComponent_Conditional_2_Conditional_3_Template,1,0,"ds-loading")),2&rf){const licenseLink_r17=core.bH3(core.bMT(1,1,core.XpG().ccLicenseLink$));core.R7$(2),core.vxM(licenseLink_r17?2:3)}}let SubmissionSectionCcLicensesComponent=(()=>{class SubmissionSectionCcLicensesComponent2 extends SectionModelComponent{get storedCcLicenseLink(){return this.data.uri}get accepted(){return void 0===this.data.accepted?!!this.data.uri:this.data.accepted}constructor(modalService,sectionService,submissionCcLicensesDataService,submissionCcLicenseUrlDataService,operationsBuilder,configService,ref,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.modalService=modalService,this.sectionService=sectionService,this.submissionCcLicensesDataService=submissionCcLicensesDataService,this.submissionCcLicenseUrlDataService=submissionCcLicenseUrlDataService,this.operationsBuilder=operationsBuilder,this.configService=configService,this.ref=ref,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.isLoading=!0,this.subscriptions=[],this.submissionCcLicenses=[],this.selectedCcLicense=new submission_cc_license_model.C,this.ccLicenceOptions={elementsPerPage:20,currentPage:1}}ngOnInit(){super.ngOnInit(),(0,empty_util.Tn)(this.ccLicenseLink$)&&(this.ccLicenseLink$=this.getCcLicenseLink$())}ngOnChanges(changes){((0,empty_util.a4)(changes.sectionData)||(0,empty_util.a4)(changes.submissionCcLicenses))&&(this.ccLicenseLink$=this.getCcLicenseLink$())}get data(){return this.sectionData.data}selectCcLicense(ccLicense){this.selectedCcLicense.id!==ccLicense.id&&(this.selectedCcLicense=ccLicense,this.setAccepted(!1),this.updateSectionData({ccLicense:{id:ccLicense.id,fields:{}},uri:void 0}),this.ccLicenseLink$=this.getCcLicenseLink$())}getSelectedCcLicense(){return this.submissionCcLicenses&&this.data.ccLicense?this.submissionCcLicenses.filter(ccLicense=>ccLicense.id===this.data.ccLicense.id)[0]:null}selectOption(ccLicense,field,option){this.isSelectedOption(ccLicense,field,option)||(this.updateSectionData({ccLicense:{id:ccLicense.id,fields:Object.assign({},this.data.ccLicense.fields,{[field.id]:option})},accepted:!1}),this.ccLicenseLink$=this.getCcLicenseLink$())}getSelectedOption(ccLicense,field){return"jurisdiction"===field.id&&void 0!==this.defaultJurisdiction&&"none"!==this.defaultJurisdiction?field.enums.find(option=>option.id===this.defaultJurisdiction):this.data.ccLicense.fields[field.id]}isSelectedOption(ccLicense,field,option){return this.getSelectedOption(ccLicense,field)&&this.getSelectedOption(ccLicense,field).id===option.id}getCcLicenseLink$(){if(this.storedCcLicenseLink)return(0,cjs.of)(this.storedCcLicenseLink);if(!this.getSelectedCcLicense()||this.getSelectedCcLicense().fields.some(field=>!this.getSelectedOption(this.getSelectedCcLicense(),field)))return;const selectedCcLicense=this.getSelectedCcLicense();return this.submissionCcLicenseUrlDataService.getCcLicenseLink(selectedCcLicense,new Map(selectedCcLicense.fields.map(field=>[field,this.getSelectedOption(selectedCcLicense,field)])))}openInfoModal(content){this.modalRef=this.modalService.open(content)}closeInfoModal(){this.modalRef.close()}getSectionStatus(){return(0,cjs.of)(this.accepted)}onSectionDestroy(){this.subscriptions.forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id),this.subscriptions.push(this.sectionService.getSectionState(this.submissionId,this.sectionData.id,sections_type.l.CcLicense).pipe((0,operators.pb)(sectionState=>(0,empty_util.hj)(sectionState)&&((0,empty_util.hj)(sectionState.data)||(0,empty_util.hj)(sectionState.errorsToShow))),(0,operators.F)(),(0,operators.Tj)(sectionState=>sectionState.data)).subscribe(data=>{if(this.data.accepted!==data.accepted){const path=this.pathCombiner.getPath("uri");data.accepted?this.getCcLicenseLink$().pipe((0,operators.s)(1)).subscribe(link=>{this.operationsBuilder.add(path,link.toString(),!1,!0)}):this.data.uri&&this.operationsBuilder.remove(path)}this.sectionData.data=data}),this.configService.findByPropertyName("cc.license.jurisdiction").pipe((0,shared_operators.qD)(),(0,shared_operators.Bo)()).subscribe(remoteData=>{this.defaultJurisdiction=void 0===remoteData||0===remoteData.values.length?"":remoteData.values[0]})),this.loadCcLicences()}setAccepted(accepted){this.updateSectionData({accepted}),this.updateSectionStatus()}updateSectionData(data){this.sectionService.updateSectionData(this.submissionId,this.sectionData.id,Object.assign({},this.data,data))}onScroll(event){event.target.scrollTop+event.target.clientHeight>=event.target.scrollHeight&&!this.isLoading&&!this._isLastPage&&(this.ccLicenceOptions.currentPage++,this.loadCcLicences())}loadCcLicences(){this.isLoading=!0,this.subscriptions.push(this.submissionCcLicensesDataService.findAll(this.ccLicenceOptions).pipe((0,shared_operators.ak)(),(0,operators.Mi)(response=>this._isLastPage=response.pageInfo.currentPage===response.pageInfo.totalPages),(0,operators.Tj)(list=>list.page)).subscribe(licenses=>{this.submissionCcLicenses=[...this.submissionCcLicenses,...licenses],this.isLoading=!1,this.ref.detectChanges()}))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionCcLicensesComponent2)(core.rXU(ng_bootstrap.Bq),core.rXU(sections_service.c),core.rXU(submission_cc_license_data_service.SubmissionCcLicenseDataService),core.rXU(submission_cc_license_url_data_service.SubmissionCcLicenseUrlDataService),core.rXU(json_patch_operations_builder.C),core.rXU(configuration_data_service.ConfigurationDataService),core.rXU(core.gRc),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionCcLicensesComponent2,selectors:[["ds-submission-section-cc-licenses"]],standalone:!0,features:[core.Vt3,core.OA$,core.aNF],decls:3,vars:3,consts:[["script","ngModel"],["infoModal",""],[1,"mb-4","ccLicense-select"],["ngbDropdown",""],["id","cc-license-dropdown","ngbDropdownToggle","","role","combobox",1,"form-control",3,"ngModelChange","ngModel","placeholder","ngModelOptions"],["ngbDropdownMenu","","aria-labelledby","cc-license-dropdown","role","menu","infiniteScroll","",1,"w-100","scrollable-menu",3,"scroll","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[1,"dropdown-item","disabled"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"mb-4"],[1,"d-flex","flex-row"],[1,"btn","btn-outline-info","btn-sm","ms-2",3,"click"],[1,"fas","fa-question"],[3,"disabled"],[1,"modal-header","mb-4"],[3,"innerHTML"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-light",3,"innerHTML"],["class","selection",4,"ngVar"],[1,"menu"],[1,"options-select-menu","overflow-auto"],[1,"selection"],[1,"d-flex","flex-row","m-1"],[3,"click"],["type","radio",1,"me-1",3,"title","checked"],[1,"mt-2","p-4","bg-light","text-dark"],["target","_blank","rel","noopener noreferrer",1,"license-link",3,"href"],[1,"m-2"],["type","checkbox","title","accepted",1,"me-2",3,"checked"]],template:function(rf,ctx){1&rf&&core.DNE(0,SubmissionSectionCcLicensesComponent_Conditional_0_Template,9,14,"div",2)(1,SubmissionSectionCcLicensesComponent_Conditional_1_Template,2,0)(2,SubmissionSectionCcLicensesComponent_Conditional_2_Template,4,4),2&rf&&(core.vxM(ctx.submissionCcLicenses?0:-1),core.R7$(),core.vxM(ctx.getSelectedCcLicense()?1:-1),core.R7$(),core.vxM(ctx.ccLicenseLink$?2:-1))},dependencies:[common.Jj,DsSelectComponent,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,ngx_infinite_scroll.e,ngx_infinite_scroll.D,ng_bootstrap.zH,ng_bootstrap.tg,ng_bootstrap.do,ng_bootstrap.U0,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r],styles:[".options-select-menu[_ngcontent-%COMP%]{max-height:25vh}.ccLicense-select[_ngcontent-%COMP%]{width:fit-content}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}"]})}}return SubmissionSectionCcLicensesComponent2})();var metadata_utils=__webpack_require__(28121),url_combiner=__webpack_require__(51202),item_page_routing_paths=__webpack_require__(88292),submission_service=__webpack_require__(78953);function SubmissionSectionDuplicatesComponent_div_0_Conditional_1_Template(rf,ctx){1&rf&&(core.j41(0,"div",2),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.duplicates.none")))}function SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_For_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const metadatum_r1=ctx.$implicit;core.R7$(),core.Lme(" ",core.bMT(2,2,"item.preview."+metadatum_r1.key)," ",metadatum_r1.value," ")}}function SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Conditional_5_Template(rf,ctx){1&rf&&(core.j41(0,"p"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.duplicates.in-workspace")))}function SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Conditional_6_Template(rf,ctx){1&rf&&(core.j41(0,"p"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.duplicates.in-workflow")))}function SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",4)(1,"a",5),core.EFF(2),core.k0s(),core.Z7z(3,SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_For_4_Template,3,4,"div",null,core.fX1),core.DNE(5,SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Conditional_5_Template,3,3,"p")(6,SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Conditional_6_Template,3,3,"p"),core.k0s()),2&rf){const dupe_r2=ctx.$implicit,ctx_r2=core.XpG(3);core.R7$(),core.Y8G("href",ctx_r2.getItemLink(dupe_r2.uuid),core.B4B),core.R7$(),core.JRh(dupe_r2.title),core.R7$(),core.Dyx(ctx_r2.Metadata.toViewModelList(dupe_r2.metadata)),core.R7$(2),core.vxM(dupe_r2.workspaceItemId?5:-1),core.R7$(),core.vxM(dupe_r2.workflowItemId?6:-1)}}function SubmissionSectionDuplicatesComponent_div_0_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",3),core.EFF(1),core.nI1(2,"translate"),core.k0s(),core.Z7z(3,SubmissionSectionDuplicatesComponent_div_0_Conditional_2_For_4_Template,7,4,"div",4,core.fX1)),2&rf){const data_r4=core.XpG().ngVar;core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.duplicates.detected")),core.R7$(2),core.Dyx(null==data_r4?null:data_r4.potentialDuplicates)}}function SubmissionSectionDuplicatesComponent_div_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1),core.DNE(1,SubmissionSectionDuplicatesComponent_div_0_Conditional_1_Template,3,3,"div",2)(2,SubmissionSectionDuplicatesComponent_div_0_Conditional_2_Template,5,3),core.k0s()),2&rf){const data_r4=ctx.ngVar;core.R7$(),core.vxM(0===(null==data_r4?null:data_r4.potentialDuplicates.length)?1:-1),core.R7$(),core.vxM((null==data_r4?null:data_r4.potentialDuplicates.length)>0?2:-1)}}let SubmissionSectionDuplicatesComponent=(()=>{class SubmissionSectionDuplicatesComponent2 extends SectionModelComponent{constructor(translate,sectionService,submissionService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.translate=translate,this.sectionService=sectionService,this.submissionService=submissionService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.Metadata=metadata_utils.O,this.AlertTypeEnum=alert_type.v,this.isLoading=!0,this.subs=[]}ngOnInit(){super.ngOnInit()}onSectionInit(){this.isLoading=!1}isReadOnly(){return!0}onSectionDestroy(){}getSectionStatus(){return(0,cjs.of)(!this.isLoading)}getDuplicateData(){return this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType)}getItemLink(uuid){return new url_combiner.t((0,item_page_routing_paths.Fy)(),uuid).toString()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionDuplicatesComponent2)(core.rXU(ngx_translate_core.c$),core.rXU(sections_service.c),core.rXU(submission_service.E),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionDuplicatesComponent2,selectors:[["ds-submission-section-duplicates"]],standalone:!0,features:[core.Vt3,core.aNF],decls:2,vars:3,consts:[["class","text-sm-start",4,"ngVar"],[1,"text-sm-start"],[1,"alert","alert-success","w-100"],[1,"alert","alert-warning","w-100"],[1,"ds-duplicate"],["target","_blank",3,"href"]],template:function(rf,ctx){1&rf&&(core.DNE(0,SubmissionSectionDuplicatesComponent_div_0_Template,3,2,"div",0),core.nI1(1,"async")),2&rf&&core.Y8G("ngVar",core.bMT(1,1,ctx.getDuplicateData()))},dependencies:[common.Jj,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r],encapsulation:2})}}return SubmissionSectionDuplicatesComponent2})();var findIndex=__webpack_require__(91603),findIndex_default=__webpack_require__.n(findIndex),environment=__webpack_require__(64369),object_cache_service=__webpack_require__(63311),submission_forms_config_data_service=__webpack_require__(1201),request_service=__webpack_require__(64806),workflowitem_model=__webpack_require__(97500),workspaceitem_model=__webpack_require__(90220),submission_object_data_service=__webpack_require__(4282),submission_scope_type=__webpack_require__(14810);class FormFieldPreviousValueObject{constructor(path=null,value=null){this._path=path,this._value=value}get path(){return this._path}set path(path){this._path=path}get value(){return this._value}set value(value){this._value=value}delete(){this._value=null,this._path=null}isPathEqual(path){return this._path&&isEqual_default()(this._path,path)}}var notifications_service=__webpack_require__(76623),object_util=__webpack_require__(79676),follow_link_config_model=__webpack_require__(76715);const section_form_component_c0=["formRef"];function SubmissionSectionFormComponent_Conditional_0_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading",1)}function SubmissionSectionFormComponent_Conditional_1_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-form",3,0),core.bIt("dfChange",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onChange($event))})("dfFocus",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onFocus($event))})("remove",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onRemove($event))})("ngbEvent",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onCustomEvent($event))})("removeArrayItem",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onRemove($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("formId",ctx_r1.formId)("formModel",ctx_r1.formModel)("displaySubmit",!1)("displayCancel",!1)}}let SubmissionSectionFormComponent=(()=>{class SubmissionSectionFormComponent2 extends SectionModelComponent{constructor(cdr,formBuilderService,formOperationsService,formService,formConfigService,notificationsService,sectionService,submissionService,translate,submissionObjectService,objectCache,requestService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.cdr=cdr,this.formBuilderService=formBuilderService,this.formOperationsService=formOperationsService,this.formService=formService,this.formConfigService=formConfigService,this.notificationsService=notificationsService,this.sectionService=sectionService,this.submissionService=submissionService,this.translate=translate,this.submissionObjectService=submissionObjectService,this.objectCache=objectCache,this.requestService=requestService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.isUpdating=!1,this.isLoading=!0,this.fieldsOnTheirWayToBeRemoved=new Map,this.formData=Object.create({}),this.previousValue=new FormFieldPreviousValueObject,this.subs=[],this.isSectionReadonly=!1}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id),this.sectionService.dispatchSetSectionFormId(this.submissionId,this.sectionData.id,this.formId),this.formConfigService.findByHref(this.sectionData.config).pipe((0,operators.Tj)(configData=>configData.payload),(0,operators.Mi)(config=>this.formConfig=config),(0,operators.ZZ)(()=>(0,cjs.combineLatest)([this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType),this.submissionObjectService.findById(this.submissionId,!0,!1,(0,follow_link_config_model.s)("item")).pipe((0,shared_operators.yd)(),(0,shared_operators.Bo)()),this.sectionService.isSectionReadOnly(this.submissionId,this.sectionData.id,this.submissionService.getSubmissionScope())])),(0,operators.s)(1)).subscribe(([sectionData,submissionObject,isSectionReadOnly])=>{(0,empty_util.b0)(this.formModel)&&(this.submissionObject=submissionObject,this.isSectionReadonly=isSectionReadOnly,this.initForm(sectionData,this.sectionData.errorsToShow,this.sectionData.serverValidationErrors),this.sectionData.data=sectionData,this.subscriptions(),this.isLoading=!1,this.cdr.detectChanges())})}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}getSectionStatus(){const formStatus$=this.formService.isValid(this.formId),serverValidationStatus$=this.sectionService.getSectionServerErrors(this.submissionId,this.sectionData.id).pipe((0,operators.Tj)(validationErrors=>(0,empty_util.Im)(validationErrors)));return(0,cjs.combineLatest)([formStatus$,serverValidationStatus$]).pipe((0,operators.Tj)(([formValidation,serverSideValidation])=>formValidation&&serverSideValidation))}hasMetadataEnrichment(sectionData){const sectionDataToCheck={};Object.keys(sectionData).forEach(key=>{this.inCurrentSubmissionScope(key)&&(sectionDataToCheck[key]=sectionData[key])});const diffResult=[],diffObj=(0,object_util.iv)(sectionDataToCheck,this.formData);return Object.keys(diffObj).forEach(key=>{diffObj[key].forEach(value=>{value.hasOwnProperty("value")&&findIndex_default()(this.formData[key],{value:value.value})<0&&diffResult.push(value)})}),(0,empty_util.hj)(diffResult)}inCurrentSubmissionScope(field){switch(this.formConfig?.rows.find(row=>row.fields?.[0]?.selectableMetadata?row.fields?.[0]?.selectableMetadata?.[0]?.metadata===field:!!row.fields?.[0]?.selectableRelationship&&row.fields?.[0]?.selectableRelationship.relationshipType===field.replace(/^relationship\./g,""))?.fields?.[0]?.scope){case submission_scope_type.L.WorkspaceItem.valueOf():return this.submissionObject.type===workspaceitem_model.F.type.value;case submission_scope_type.L.WorkflowItem.valueOf():return this.submissionObject.type===workflowitem_model.t.type.value;default:return!0}}initForm(sectionData,errorsToShow,serverValidationErrors){try{this.formModel=this.formBuilderService.modelFromConfiguration(this.submissionId,this.formConfig,this.collectionId,sectionData,this.submissionService.getSubmissionScope(),this.isSectionReadonly);const sectionMetadata=this.sectionService.computeSectionConfiguredMetadata(this.formConfig);this.sectionService.updateSectionData(this.submissionId,this.sectionData.id,sectionData,errorsToShow,serverValidationErrors,sectionMetadata)}catch(e){const sectionError={message:this.translate.instant("error.submission.sections.init-form-error")+e.toString(),path:"/sections/"+this.sectionData.id};e instanceof Error&&console.error(e.stack),this.sectionService.setSectionError(this.submissionId,this.sectionData.id,sectionError)}}updateForm(sectionState){const sectionData=sectionState.data,errors=sectionState.errorsToShow;(0,empty_util.hj)(sectionData)&&!isEqual_default()(sectionData,this.sectionData.data)?(this.sectionData.data=sectionData,this.hasMetadataEnrichment(sectionData)?(this.isUpdating=!0,this.formModel=null,this.cdr.detectChanges(),this.initForm(sectionData,errors,sectionState.serverValidationErrors),this.checksForErrors(errors),this.isUpdating=!1,this.cdr.detectChanges()):((0,empty_util.hj)(errors)||(0,empty_util.hj)(this.sectionData.errorsToShow))&&this.checksForErrors(errors)):((0,empty_util.hj)(errors)||(0,empty_util.hj)(this.sectionData.errorsToShow))&&this.checksForErrors(errors)}checksForErrors(errors){this.formService.isFormInitialized(this.formId).pipe((0,operators.I6)(status=>!0===status&&!this.isUpdating)).subscribe(()=>{this.sectionService.checkSectionErrors(this.submissionId,this.sectionData.id,this.formId,errors,this.sectionData.errorsToShow),this.sectionData.errorsToShow=errors,this.cdr.detectChanges()})}subscriptions(){this.subs.push(this.formService.getFormData(this.formId).pipe((0,operators.F)()).subscribe(formData=>{this.formData=formData}),this.sectionService.getSectionState(this.submissionId,this.sectionData.id,this.sectionData.sectionType).pipe((0,operators.pb)(sectionState=>(0,empty_util.hj)(sectionState)&&((0,empty_util.hj)(sectionState.data)||(0,empty_util.hj)(sectionState.errorsToShow))),(0,operators.F)()).subscribe(sectionState=>{this.fieldsOnTheirWayToBeRemoved=new Map,this.sectionMetadata=sectionState.metadata,this.updateForm(sectionState)}))}onChange(event){this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event,this.previousValue,this.hasStoredValue(this.formBuilderService.getId(event.model),this.formOperationsService.getArrayIndexFromEvent(event)));const metadata=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event),value=this.formOperationsService.getFieldValueFromChangeEvent(event);(-1!==environment.c.submission.autosave.metadata.indexOf(metadata)&&(0,empty_util.hj)(value)||this.hasRelatedCustomError(metadata))&&this.submissionService.dispatchSave(this.submissionId)}hasRelatedCustomError(medatata){const index=findIndex_default()(this.sectionData.errorsToShow,{path:this.pathCombiner.getPath(medatata).path});if(-1!==index){const validator=this.sectionData.errorsToShow[index].message.replace("error.validation.","");return!environment.c.form.validatorMap.hasOwnProperty(validator)}return!1}onFocus(event){const value=this.formOperationsService.getFieldValueFromChangeEvent(event),path=this.formBuilderService.getPath(event.model);this.formBuilderService.hasMappedGroupValue(event.model)?(this.previousValue.path=path,this.previousValue.value=this.formOperationsService.getQualdropValueMap(event)):(0,empty_util.hj)(value)&&("object"==typeof value&&(0,empty_util.hj)(value.value)||"string"==typeof value)&&(this.previousValue.path=path,this.previousValue.value=value)}onRemove(event){const fieldId=this.formBuilderService.getId(event.model),fieldIndex=this.formOperationsService.getArrayIndexFromEvent(event);if(this.fieldsOnTheirWayToBeRemoved.has(fieldId)){const indexes=this.fieldsOnTheirWayToBeRemoved.get(fieldId);indexes.push(fieldIndex),this.fieldsOnTheirWayToBeRemoved.set(fieldId,indexes)}else this.fieldsOnTheirWayToBeRemoved.set(fieldId,[fieldIndex]);this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event,this.previousValue,this.hasStoredValue(fieldId,fieldIndex))}hasStoredValue(fieldId,index){return!!(0,empty_util.hj)(this.sectionData.data)&&this.sectionData.data.hasOwnProperty(fieldId)&&(0,empty_util.hj)(this.sectionData.data[fieldId][index])&&!this.isFieldToRemove(fieldId,index)}isFieldToRemove(fieldId,index){return this.fieldsOnTheirWayToBeRemoved.has(fieldId)&&this.fieldsOnTheirWayToBeRemoved.get(fieldId).includes(index)}onCustomEvent(event){this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event,this.previousValue,null)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionFormComponent2)(core.rXU(core.gRc),core.rXU(form_builder_service.j),core.rXU(SectionFormOperationsService),core.rXU(form_service.u),core.rXU(submission_forms_config_data_service.SubmissionFormsConfigDataService),core.rXU(notifications_service.I),core.rXU(sections_service.c),core.rXU(submission_service.E),core.rXU(ngx_translate_core.c$),core.rXU(submission_object_data_service.$),core.rXU(object_cache_service.$),core.rXU(request_service.B),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionFormComponent2,selectors:[["ds-submission-section-form"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(section_form_component_c0,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.formRef=_t.first)}},standalone:!0,features:[core.Vt3,core.aNF],decls:2,vars:2,consts:[["formRef","formComponent"],["message","Loading..."],[3,"formId","formModel","displaySubmit","displayCancel"],[3,"dfChange","dfFocus","remove","ngbEvent","removeArrayItem","formId","formModel","displaySubmit","displayCancel"]],template:function(rf,ctx){1&rf&&core.DNE(0,SubmissionSectionFormComponent_Conditional_0_Template,1,0,"ds-loading",1)(1,SubmissionSectionFormComponent_Conditional_1_Template,2,4,"ds-form",2),2&rf&&(core.vxM(ctx.isLoading?0:-1),core.R7$(),core.vxM(!ctx.isLoading&&ctx.formModel?1:-1))},dependencies:[form_component.s,themed_loading_component.v]})}}return SubmissionSectionFormComponent2})();function SubmissionSectionIdentifiersComponent_Conditional_2_For_6_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"li"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const identifier_r1=core.XpG().$implicit;core.R7$(),core.Lme("",core.bMT(2,2,"submission.sections.identifiers."+identifier_r1.identifierType+"_label")," ",identifier_r1.value,"")}}function SubmissionSectionIdentifiersComponent_Conditional_2_For_6_Template(rf,ctx){if(1&rf&&core.DNE(0,SubmissionSectionIdentifiersComponent_Conditional_2_For_6_Conditional_0_Template,3,4,"li"),2&rf){const identifier_r1=ctx.$implicit;core.XpG(2);const identifierData_r2=core.r8f(0);core.vxM(identifierData_r2.displayTypes.includes(identifier_r1.identifierType)&&identifier_r1.value?0:-1)}}function SubmissionSectionIdentifiersComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"span"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"ul"),core.Z7z(5,SubmissionSectionIdentifiersComponent_Conditional_2_For_6_Template,1,1,null,null,core.fX1),core.k0s()()),2&rf){core.XpG();const identifierData_r2=core.r8f(0);core.R7$(2),core.JRh(core.bMT(3,1,"submission.sections.identifiers.info")),core.R7$(3),core.Dyx(identifierData_r2.identifiers)}}let SubmissionSectionIdentifiersComponent=(()=>{class SubmissionSectionIdentifiersComponent2 extends SectionModelComponent{constructor(translate,sectionService,submissionService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.translate=translate,this.sectionService=sectionService,this.submissionService=submissionService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.isLoading=!0}onSectionInit(){this.isLoading=!1,this.identifierData$=this.getIdentifierData()}onSectionDestroy(){}getSectionStatus(){return(0,cjs.of)(!this.isLoading)}getIdentifierData(){return this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionIdentifiersComponent2)(core.rXU(ngx_translate_core.c$),core.rXU(sections_service.c),core.rXU(submission_service.E),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionIdentifiersComponent2,selectors:[["ds-submission-section-identifiers"]],standalone:!0,features:[core.Vt3,core.aNF],decls:3,vars:4,template:function(rf,ctx){if(1&rf&&(core.SS7(0),core.nI1(1,"async"),core.DNE(2,SubmissionSectionIdentifiersComponent_Conditional_2_Template,7,3,"div")),2&rf){const identifierData_r3=core.bH3(core.bMT(1,1,ctx.identifierData$));core.R7$(2),core.vxM(identifierData_r3&&identifierData_r3.identifiers?2:-1)}},dependencies:[common.Jj,ngx_translate_core.h,ngx_translate_core.D9],encapsulation:2})}}return SubmissionSectionIdentifiersComponent2})();var collection_data_service=__webpack_require__(8108);const SECTION_LICENSE_FORM_LAYOUT={granted:{element:{container:"custom-control custom-checkbox ps-1",control:"custom-control-input",label:"custom-control-label pt-1"}}},SECTION_LICENSE_FORM_MODEL=[{id:"granted",label:"submission.sections.license.granted-label",required:!0,value:!1,validators:{required:null},errorMessages:{required:"submission.sections.license.required",notgranted:"submission.sections.license.notgranted"},type:"CHECKBOX"}],section_license_component_c0=["formRef"];function SubmissionSectionLicenseComponent_Conditional_4_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-form",3,0),core.bIt("dfChange",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onChange($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("formId",ctx_r1.formId)("formModel",ctx_r1.formModel)("formLayout",ctx_r1.formLayout)("displaySubmit",ctx_r1.displaySubmit)("displayCancel",!1)}}let SubmissionSectionLicenseComponent=(()=>{class SubmissionSectionLicenseComponent2 extends SectionModelComponent{constructor(changeDetectorRef,collectionDataService,formBuilderService,formOperationsService,formService,operationsBuilder,sectionService,submissionService,translateService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.changeDetectorRef=changeDetectorRef,this.collectionDataService=collectionDataService,this.formBuilderService=formBuilderService,this.formOperationsService=formOperationsService,this.formService=formService,this.operationsBuilder=operationsBuilder,this.sectionService=sectionService,this.submissionService=submissionService,this.translateService=translateService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.formLayout=SECTION_LICENSE_FORM_LAYOUT,this.displaySubmit=!1,this.subs=[]}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id),this.formModel=this.formBuilderService.fromJSON(SECTION_LICENSE_FORM_MODEL);const model=this.formBuilderService.findById("granted",this.formModel);model.label&&(model.label=this.translateService.instant(model.label)),model.value=this.sectionData.data.granted,this.licenseText$=this.collectionDataService.findById(this.collectionId,!0,!0,(0,follow_link_config_model.s)("license")).pipe((0,operators.pb)(collectionData=>(0,empty_util.EA)(collectionData.payload)),(0,operators.ZZ)(collectionData=>collectionData.payload.license),(0,operators.I6)(licenseData=>(0,empty_util.EA)(licenseData.payload)),(0,operators.Tj)(licenseData=>licenseData.payload.text),(0,operators.ql)("")),this.subs.push(this.sectionService.isSectionReadOnly(this.submissionId,this.sectionData.id,this.submissionService.getSubmissionScope()).pipe((0,operators.s)(1),(0,operators.pb)(isReadOnly=>isReadOnly)).subscribe(()=>{model.disabled=!0}),this.sectionService.getSectionErrors(this.submissionId,this.sectionData.id).pipe((0,operators.pb)(errors=>(0,empty_util.hj)(errors)),(0,operators.F)()).subscribe(errors=>{const newErrors=errors.map(error=>"/sections/license"===error.path?model.checked?null:Object.assign({},error,{path:"/sections/license/granted"}):error).filter(error=>(0,empty_util.Pe)(error));(0,empty_util.hj)(newErrors)?(this.sectionService.checkSectionErrors(this.submissionId,this.sectionData.id,this.formId,newErrors),this.sectionData.errors=errors):this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id)}))}ngAfterViewChecked(){this.changeDetectorRef.detectChanges()}getSectionStatus(){const model=this.formBuilderService.findById("granted",this.formModel);return model.valueChanges.pipe((0,operators.Tj)(value=>!0===value),(0,operators.ql)(model.value))}onChange(event){const path=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event),value=this.formOperationsService.getFieldValueFromChangeEvent(event);value?(this.operationsBuilder.add(this.pathCombiner.getPath(path),value.value.toString(),!1,!0),this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id)):this.operationsBuilder.remove(this.pathCombiner.getPath(path)),this.submissionService.dispatchSaveSection(this.submissionId,this.sectionData.id)}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionLicenseComponent2)(core.rXU(core.gRc),core.rXU(collection_data_service.CollectionDataService),core.rXU(form_builder_service.j),core.rXU(SectionFormOperationsService),core.rXU(form_service.u),core.rXU(json_patch_operations_builder.C),core.rXU(sections_service.c),core.rXU(submission_service.E),core.rXU(ngx_translate_core.c$),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionLicenseComponent2,selectors:[["ds-submission-section-license"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(section_license_component_c0,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.formRef=_t.first)}},standalone:!0,features:[core.Jv_([]),core.Vt3,core.aNF],decls:5,vars:4,consts:[["formRef","formComponent"],[1,"mb-5","preserve-line-breaks",3,"innerHTML"],[3,"formId","formModel","formLayout","displaySubmit","displayCancel"],[3,"dfChange","formId","formModel","formLayout","displaySubmit","displayCancel"]],template:function(rf,ctx){1&rf&&(core.nrm(0,"span",1),core.nI1(1,"async"),core.nrm(2,"br")(3,"br"),core.DNE(4,SubmissionSectionLicenseComponent_Conditional_4_Template,2,5,"ds-form",2)),2&rf&&(core.Y8G("innerHTML",core.bMT(1,2,ctx.licenseText$),core.npT),core.R7$(4),core.vxM(ctx.formModel?4:-1))},dependencies:[common.Jj,form_component.s]})}}return SubmissionSectionLicenseComponent2})();var ldn_services_data_service=__webpack_require__(11599),coar_notify_config_data_service=__webpack_require__(69007);const section_coar_notify_component_c0=a0=>({"border-danger":a0}),section_coar_notify_component_c1=a0=>({"bg-light":a0}),_c2=a0=>({pattern:a0});function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_10_Template(rf,ctx){1&rf&&(core.j41(0,"button",11),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.section.section-coar-notify.dropdown.no-data")," "))}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_12_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"button",17),core.bIt("click",function(){core.eBV(_r3);const \u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);return core.Njj(ctx_r5.onChange(ldnPattern_r5.pattern,\u0275$index_18_r4,null))}),core.EFF(1),core.nI1(2,"translate"),core.k0s()}2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.section.section-coar-notify.dropdown.select-none")," "))}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_For_15_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"button",18),core.bIt("click",function(){const serviceOption_r8=core.eBV(_r7).$implicit,\u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);return core.Njj(ctx_r5.onChange(ldnPattern_r5.pattern,\u0275$index_18_r4,serviceOption_r8))}),core.j41(1,"b"),core.EFF(2),core.k0s(),core.nrm(3,"br"),core.EFF(4),core.k0s()}if(2&rf){const serviceOption_r8=ctx.$implicit,\u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);core.Y8G("ngClass",core.eq3(3,section_coar_notify_component_c1,(null==ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4]?null:ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4].id)===serviceOption_r8.id)),core.R7$(2),core.SpI(" ",serviceOption_r8.name," "),core.R7$(2),core.SpI(" ",serviceOption_r8.description," ")}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_17_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",19),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r9);const \u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);return core.Njj(ctx_r5.removeService(ldnPattern_r5,\u0275$index_18_r4))}),core.j41(3,"span"),core.nrm(4,"i",20),core.k0s()()}if(2&rf){const \u0275$index_18_r4=core.XpG().$index;core.AVh("mt-2",\u0275$index_18_r4>0),core.FS9("title",core.bMT(1,4,"form.remove")),core.BMQ("aria-label",core.bMT(2,6,"form.remove"))}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_18_Template(rf,ctx){if(1&rf&&(core.j41(0,"small",14),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ldnPattern_r5=core.XpG(4).$implicit;core.R7$(),core.SpI(" ",core.i5U(2,1,"submission.section.section-coar-notify.small.notification",core.eq3(4,_c2,ldnPattern_r5.pattern))," ")}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_19_For_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"small",21),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const error_r10=ctx.$implicit;core.R7$(),core.SpI(" ",core.bMT(2,1,error_r10.message)," ")}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_19_Template(rf,ctx){if(1&rf&&(core.Z7z(0,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_19_For_1_Template,3,3,"small",21,core.fX1),core.nI1(2,"async")),2&rf){const \u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);core.Dyx(core.bMT(2,0,ctx_r5.getShownSectionErrors$(ldnPattern_r5.pattern,\u0275$index_18_r4)))}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.EFF(1),core.k0s()),2&rf){const \u0275$index_18_r4=core.XpG(2).$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);core.R7$(),core.SpI(" ",ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4].description," ")}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Conditional_8_Template(rf,ctx){1&rf&&(core.j41(0,"span",25),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.section.section-coar-notify.selection.no-description")," "))}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",15)(1,"div",22),core.nrm(2,"i",23),core.j41(3,"div",24)(4,"div"),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.DNE(7,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Conditional_7_Template,2,1,"div")(8,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Conditional_8_Template,3,3,"span",25),core.k0s()()()),2&rf){const \u0275$index_18_r4=core.XpG().$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);core.R7$(5),core.JRh(core.bMT(6,2,"submission.section.section-coar-notify.selection.description")),core.R7$(2),core.vxM(null!=ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4]&&ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4].description?7:8)}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_22_Template(rf,ctx){1&rf&&(core.j41(0,"div",4)(1,"div",26)(2,"div",24)(3,"span"),core.EFF(4),core.nI1(5,"translate"),core.k0s()()()()),2&rf&&(core.R7$(4),core.SpI(" ",core.bMT(5,1,"submission.section.section-coar-notify.notification.error")," "))}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_25_Template(rf,ctx){if(1&rf){const _r11=core.RV6();core.j41(0,"div",27),core.bIt("click",function(){core.eBV(_r11);const ldnPattern_r5=core.XpG(4).$implicit,ctx_r5=core.XpG(2);return core.Njj(ctx_r5.addNewService(ldnPattern_r5))}),core.nrm(1,"i",28),core.EFF(2),core.nI1(3,"translate"),core.k0s()}2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"submission.sections.general.add-more")," "))}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div")(1,"div",4)(2,"div",5,0)(4,"div",6),core.nrm(5,"i",7),core.j41(6,"input",8),core.nI1(7,"async"),core.bIt("click",function(){core.eBV(_r1);const myDropdown_r2=core.sdS(3);return core.Njj(myDropdown_r2.open())}),core.k0s()(),core.j41(8,"div",9)(9,"div",10),core.DNE(10,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_10_Template,3,3,"button",11),core.nI1(11,"async"),core.DNE(12,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_12_Template,3,3,"button",11),core.nI1(13,"async"),core.Z7z(14,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_For_15_Template,5,5,"button",12,core.fX1),core.nI1(16,"async"),core.k0s()()(),core.DNE(17,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_17_Template,5,8,"button",13),core.k0s(),core.DNE(18,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_18_Template,3,6,"small",14)(19,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_19_Template,3,2),core.nI1(20,"async"),core.DNE(21,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_21_Template,9,4,"div",15)(22,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_22_Template,6,3,"div",4),core.nI1(23,"async"),core.j41(24,"div",4),core.DNE(25,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Conditional_25_Template,4,3,"div",16),core.k0s()()}if(2&rf){let tmp_29_0,tmp_35_0,tmp_36_0,tmp_40_0,tmp_42_0;const \u0275$index_18_r4=ctx.$index,ldnPattern_r5=core.XpG(3).$implicit,ctx_r5=core.XpG(2);core.R7$(2),core.AVh("mt-2",\u0275$index_18_r4>0),core.R7$(2),core.BMQ("aria-label",ldnPattern_r5.pattern+".dropdown"),core.R7$(2),core.Y8G("readonly",!0)("ngClass",core.eq3(30,section_coar_notify_component_c0,(null==(tmp_29_0=core.bMT(7,18,ctx_r5.getShownSectionErrors$(ldnPattern_r5.pattern,\u0275$index_18_r4)))?null:tmp_29_0.length)>0))("value",null==ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4]?null:ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4].name),core.BMQ("aria-label",ldnPattern_r5.pattern+".dropdownanchor"),core.R7$(3),core.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),core.R7$(),core.vxM(0===(null==(tmp_35_0=core.bMT(11,20,ctx_r5.filterServices(ldnPattern_r5.pattern)))?null:tmp_35_0.length)?10:-1),core.R7$(2),core.vxM((null==(tmp_36_0=core.bMT(13,22,ctx_r5.filterServices(ldnPattern_r5.pattern)))?null:tmp_36_0.length)>0?12:-1),core.R7$(2),core.Dyx(core.bMT(16,24,ctx_r5.filterServices(ldnPattern_r5.pattern))),core.R7$(3),core.vxM(ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services.length>1?17:-1),core.R7$(),core.vxM(ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4]||\u0275$index_18_r4!==ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services.length-1?-1:18),core.R7$(),core.vxM((null==(tmp_40_0=core.bMT(20,26,ctx_r5.getShownSectionErrors$(ldnPattern_r5.pattern,\u0275$index_18_r4)))?null:tmp_40_0.length)>0?19:-1),core.R7$(2),core.vxM(ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services[\u0275$index_18_r4]?21:-1),core.R7$(),core.vxM((null==(tmp_42_0=core.bMT(23,28,ctx_r5.getShownSectionErrors$(ldnPattern_r5.pattern,\u0275$index_18_r4)))?null:tmp_42_0.length)>0?22:-1),core.R7$(3),core.vxM(ldnPattern_r5.multipleRequest&&\u0275$index_18_r4===ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services.length-1?25:-1)}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.Z7z(1,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_For_2_Template,26,32,"div",null,core.fX1),core.k0s()),2&rf){const ldnPattern_r5=core.XpG(2).$implicit,ctx_r5=core.XpG(2);core.R7$(),core.Dyx(ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services)}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"label",3),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.DNE(4,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Conditional_4_Template,3,0,"div"),core.k0s()),2&rf){const ldnPattern_r5=core.XpG().$implicit,ctx_r5=core.XpG(2);core.R7$(2),core.SpI(" ",core.bMT(3,2,"submission.section.section-coar-notify.control."+ldnPattern_r5.pattern+".label")," "),core.R7$(2),core.vxM(null!=ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern]&&ctx_r5.ldnServiceByPattern[ldnPattern_r5.pattern].services.length?4:-1)}}function SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",2),core.DNE(1,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Conditional_1_Template,5,4,"div"),core.nI1(2,"async"),core.k0s()),2&rf){let tmp_12_0;const ldnPattern_r5=ctx.$implicit,ctx_r5=core.XpG(2);core.R7$(),core.vxM((null==(tmp_12_0=core.bMT(2,1,ctx_r5.filterServices(ldnPattern_r5.pattern)))?null:tmp_12_0.length)>0?1:-1)}}function SubmissionSectionCoarNotifyComponent_Conditional_1_Template(rf,ctx){if(1&rf&&core.Z7z(0,SubmissionSectionCoarNotifyComponent_Conditional_1_For_1_Template,3,3,"div",2,core.fX1),2&rf){const ctx_r5=core.XpG();core.Dyx(ctx_r5.patterns)}}function SubmissionSectionCoarNotifyComponent_Conditional_2_Template(rf,ctx){1&rf&&(core.j41(0,"p"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"submission.section.section-coar-notify.info.no-pattern")," "))}let SubmissionSectionCoarNotifyComponent=(()=>{class SubmissionSectionCoarNotifyComponent2 extends SectionModelComponent{constructor(ldnServicesService,operationsBuilder,sectionService,coarNotifyConfigDataService,chd,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.ldnServicesService=ldnServicesService,this.operationsBuilder=operationsBuilder,this.sectionService=sectionService,this.coarNotifyConfigDataService=coarNotifyConfigDataService,this.chd=chd,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.hasSectionData=!1,this.patterns=[],this.ldnServiceByPattern={},this.previousServices={},this.fieldsOnTheirWayToBeRemoved=new Map,this.subs=[],this.filteredServicesByPattern={}}onSectionInit(){this.setCoarNotifyConfig(),this.getSectionServerErrorsAndSetErrorsToDisplay(),this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id)}setCoarNotifyConfig(){this.subs.push(this.coarNotifyConfigDataService.findAll().pipe((0,shared_operators.qD)()).subscribe(data=>{data.hasSucceeded&&(this.patterns=data.payload.page[0].patterns,this.initSelectedServicesByPattern())}))}onChange(pattern,index,selectedService){if(this.ldnServiceByPattern[pattern].services[index]?.id===selectedService?.id)return;this.previousServices[pattern]||(this.previousServices[pattern]={services:[],allowsMultipleRequests:this.patterns.find(ldnPattern=>ldnPattern.pattern===pattern)?.multipleRequest}),this.previousServices[pattern].services[index]=this.ldnServiceByPattern[pattern].services[index],this.ldnServiceByPattern[pattern].services[index]=selectedService;const hasPrevValueStored=(0,empty_util.a4)(this.previousServices[pattern].services[index])&&this.previousServices[pattern].services[index].id!==selectedService?.id;hasPrevValueStored&&(this.operationsBuilder.flushOperation(this.pathCombiner.getPath([pattern,"-"])),this.filteredServicesByPattern[pattern]?.includes(this.previousServices[pattern].services[index])&&this.operationsBuilder.remove(this.pathCombiner.getPath([pattern,index.toString()]))),(!hasPrevValueStored||selectedService?.id&&hasPrevValueStored)&&this.operationsBuilder.add(this.pathCombiner.getPath([pattern,"-"]),[selectedService.id],!1,!0),this.previousServices[pattern].services[index]=this.ldnServiceByPattern[pattern].services[index],this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id),this.chd.detectChanges()}initSelectedServicesByPattern(){this.patterns.forEach(ldnPattern=>{(0,empty_util.a4)(this.sectionData.data[ldnPattern.pattern])?this.subs.push(this.filterServices(ldnPattern.pattern).subscribe(services=>{this.ldnServiceByPattern[ldnPattern.pattern]||(this.ldnServiceByPattern[ldnPattern.pattern]={services:[],allowsMultipleRequests:ldnPattern.multipleRequest}),this.ldnServiceByPattern[ldnPattern.pattern].services=services.filter(service=>{const selection=this.sectionData.data[ldnPattern.pattern].find(s=>s.id===service.id);return this.addService(ldnPattern,selection),this.sectionData.data[ldnPattern.pattern].includes(service.uuid)})})):(this.ldnServiceByPattern[ldnPattern.pattern]={services:[],allowsMultipleRequests:ldnPattern.multipleRequest},this.addService(ldnPattern,null))})}addService(ldnPattern,newService){this.ldnServiceByPattern[ldnPattern.pattern]||(this.ldnServiceByPattern[ldnPattern.pattern]={services:[],allowsMultipleRequests:ldnPattern.multipleRequest}),this.ldnServiceByPattern[ldnPattern.pattern].services.push(newService)}removeService(ldnPattern,serviceIndex){this.ldnServiceByPattern[ldnPattern.pattern]&&(this.ldnServiceByPattern[ldnPattern.pattern].services.splice(serviceIndex,1),this.previousServices[ldnPattern.pattern]?.services.splice(serviceIndex,1),this.operationsBuilder.flushOperation(this.pathCombiner.getPath([ldnPattern.pattern,"-"])),this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id)),this.ldnServiceByPattern[ldnPattern.pattern].services.length||this.addNewService(ldnPattern)}filterServices(pattern){return this.ldnServicesService.findByInboundPattern(pattern).pipe((0,shared_operators.qD)(),(0,operators.Mi)(rd=>{if(rd.hasFailed)throw new Error(`Failed to retrieve services for pattern ${pattern}`)}),(0,operators.pb)(rd=>rd.hasSucceeded),(0,shared_operators.Bo)(),(0,shared_operators.W8)(),(0,operators.Mi)(res=>{this.filteredServicesByPattern[pattern]||(this.filteredServicesByPattern[pattern]=[]),0===this.filteredServicesByPattern[pattern].length&&this.filteredServicesByPattern[pattern].push(...res)}),(0,operators.Tj)(res=>res.filter(service=>(this.hasSectionData||(this.hasSectionData=this.hasInboundPattern(service,pattern)),this.hasInboundPattern(service,pattern)))))}hasInboundPattern(service,patternType){return service.notifyServiceInboundPatterns.some(pattern=>pattern.pattern===patternType)}getSectionServerErrorsAndSetErrorsToDisplay(){this.subs.push(this.sectionService.getSectionServerErrors(this.submissionId,this.sectionData.id).pipe((0,operators.s)(1),(0,operators.pb)(validationErrors=>(0,empty_util.hj)(validationErrors))).subscribe(validationErrors=>{(0,empty_util.hj)(validationErrors)&&validationErrors.forEach(error=>{this.sectionService.setSectionError(this.submissionId,this.sectionData.id,error)})}))}getShownSectionErrors$(pattern,index){return this.sectionService.getShownSectionErrors(this.submissionId,this.sectionData.id,this.sectionData.sectionType).pipe((0,operators.s)(1),(0,operators.pb)(validationErrors=>(0,empty_util.hj)(validationErrors)),(0,operators.Tj)(validationErrors=>validationErrors.filter(error=>error.path.includes(`${pattern}/${index}`))))}getSectionStatus(){return this.sectionService.getSectionServerErrors(this.submissionId,this.sectionData.id).pipe((0,operators.Tj)(validationErrors=>(0,empty_util.Im)(validationErrors)))}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}addNewService(ldnPattern){this.ldnServiceByPattern[ldnPattern.pattern].services.push(null)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionCoarNotifyComponent2)(core.rXU(ldn_services_data_service.LdnServicesService),core.rXU(json_patch_operations_builder.C),core.rXU(sections_service.c),core.rXU(coar_notify_config_data_service.CoarNotifyConfigDataService),core.rXU(core.gRc),core.rXU("collectionIdProvider"),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionCoarNotifyComponent2,selectors:[["ds-submission-section-coar-notify"]],standalone:!0,features:[core.Jv_([ng_bootstrap.tg]),core.Vt3,core.aNF],decls:3,vars:2,consts:[["myDropdown","ngbDropdown"],[1,"container-fluid"],[1,"col"],[1,"row","col-form-label"],[1,"row"],["ngbDropdown","",1,"flex-grow-1"],[1,"position-relative","right-addon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["type","text",1,"form-control","w-100","scrollable-dropdown-input",3,"click","readonly","ngClass","value"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],[1,"dropdown-item","collection-item","text-truncate","w-100"],[1,"dropdown-item","collection-item","text-truncate","w-100",3,"ngClass"],["type","button","role","button",1,"btn","btn-secondary","ms-2",3,"mt-2","title"],[1,"row","text-muted"],[1,"row","mt-1"],[1,"btn","btn-link","mt-2","ps-0"],[1,"dropdown-item","collection-item","text-truncate","w-100",3,"click"],[1,"dropdown-item","collection-item","text-truncate","w-100",3,"click","ngClass"],["type","button","role","button",1,"btn","btn-secondary","ms-2",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"row","text-danger"],[1,"alert","alert-info","w-100","d-flex","align-items-center","flex-row"],[1,"fa-solid","fa-circle-info","fa-xl","ms-2"],[1,"ms-4"],[1,"text-muted"],[1,"alert","alert-danger","w-100","d-flex","align-items-center","flex-row"],[1,"btn","btn-link","mt-2","ps-0",3,"click"],[1,"fas","fa-plus"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",1),core.DNE(1,SubmissionSectionCoarNotifyComponent_Conditional_1_Template,2,0)(2,SubmissionSectionCoarNotifyComponent_Conditional_2_Template,3,3,"p"),core.k0s()),2&rf&&(core.R7$(),core.vxM((null==ctx.patterns?null:ctx.patterns.length)>0?1:-1),core.R7$(),core.vxM(ctx.hasSectionData?-1:2))},dependencies:[common.Jj,ngx_infinite_scroll.e,ngx_infinite_scroll.D,ng_bootstrap.zH,ng_bootstrap.tg,ng_bootstrap.do,ng_bootstrap.U0,common.YU,ngx_translate_core.h,ngx_translate_core.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%], .toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"]})}}return SubmissionSectionCoarNotifyComponent2})();function MetadataInformationComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",4)(6,"p",3),core.EFF(7),core.k0s()()()),2&rf){const ctx_r0=core.XpG();core.R7$(3),core.JRh(core.bMT(4,2,"submission.sections.sherpa.record.information.id")),core.R7$(4),core.SpI("",ctx_r0.metadata.id," ")}}function MetadataInformationComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",4)(6,"p",3),core.EFF(7),core.nI1(8,"date"),core.k0s()()()),2&rf){const ctx_r0=core.XpG();core.R7$(3),core.JRh(core.bMT(4,2,"submission.sections.sherpa.record.information.date.created")),core.R7$(4),core.SpI("",core.i5U(8,4,ctx_r0.metadata.dateCreated,"d MMMM Y H:mm:ss zzzz")," ")}}function MetadataInformationComponent_Conditional_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",4)(6,"p",3),core.EFF(7),core.nI1(8,"date"),core.k0s()()()),2&rf){const ctx_r0=core.XpG();core.R7$(3),core.JRh(core.bMT(4,2,"submission.sections.sherpa.record.information.date.modified")),core.R7$(4),core.SpI("",core.i5U(8,4,ctx_r0.metadata.dateModified,"d MMMM Y H:mm:ss zzzz")," ")}}function MetadataInformationComponent_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",4)(6,"p",3)(7,"a",5),core.EFF(8),core.k0s()()()()),2&rf){const ctx_r0=core.XpG();core.R7$(3),core.JRh(core.bMT(4,3,"submission.sections.sherpa.record.information.uri")),core.R7$(4),core.Y8G("href",ctx_r0.metadata.uri,core.B4B),core.R7$(),core.JRh(ctx_r0.metadata.uri)}}let MetadataInformationComponent=(()=>{class MetadataInformationComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||MetadataInformationComponent2)}}static{this.\u0275cmp=core.VBU({type:MetadataInformationComponent2,selectors:[["ds-metadata-information"]],inputs:{metadata:"metadata"},standalone:!0,features:[core.aNF],decls:5,vars:4,consts:[[1,"ms-4"],[1,"row"],[1,"col-4"],[1,"m-1"],[1,"col-8"],["target","_blank",3,"href"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0),core.DNE(1,MetadataInformationComponent_Conditional_1_Template,8,4,"div",1)(2,MetadataInformationComponent_Conditional_2_Template,9,7,"div",1)(3,MetadataInformationComponent_Conditional_3_Template,9,7,"div",1)(4,MetadataInformationComponent_Conditional_4_Template,9,5,"div",1),core.k0s()),2&rf&&(core.R7$(),core.vxM(null!=ctx.metadata&&ctx.metadata.id?1:-1),core.R7$(),core.vxM(null!=ctx.metadata&&ctx.metadata.dateCreated?2:-1),core.R7$(),core.vxM(null!=ctx.metadata&&ctx.metadata.dateModified?3:-1),core.R7$(),core.vxM(null!=ctx.metadata&&ctx.metadata.uri?4:-1))},dependencies:[common.vh,ngx_translate_core.h,ngx_translate_core.D9]})}}return MetadataInformationComponent2})();function PublicationInformationComponent_Conditional_1_For_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",3),core.EFF(1),core.k0s()),2&rf){const title_r1=ctx.$implicit;core.R7$(),core.SpI("",title_r1," ")}}function PublicationInformationComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",2),core.Z7z(6,PublicationInformationComponent_Conditional_1_For_7_Template,2,1,"p",3,core.fX1),core.k0s()()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,1,"submission.sections.sherpa.publication.information.title")),core.R7$(3),core.Dyx(ctx_r1.journal.titles)}}function PublicationInformationComponent_Conditional_2_For_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",3),core.EFF(1),core.k0s()),2&rf){const issn_r3=ctx.$implicit;core.R7$(),core.SpI("",issn_r3," ")}}function PublicationInformationComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",2),core.Z7z(6,PublicationInformationComponent_Conditional_2_For_7_Template,2,1,"p",3,core.fX1),core.k0s()()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,1,"submission.sections.sherpa.publication.information.issns")),core.R7$(3),core.Dyx(ctx_r1.journal.issns)}}function PublicationInformationComponent_Conditional_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",2)(6,"p",3)(7,"a",4),core.EFF(8),core.k0s()()()()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,3,"submission.sections.sherpa.publication.information.url")),core.R7$(4),core.FS9("href",ctx_r1.journal.url,core.B4B),core.R7$(),core.SpI(" ",ctx_r1.journal.url," ")}}function PublicationInformationComponent_Conditional_4_For_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",2)(1,"p",3)(2,"a",4),core.EFF(3),core.k0s()()()),2&rf){const publisher_r4=ctx.$implicit;core.R7$(2),core.FS9("href",publisher_r4.uri,core.B4B),core.R7$(),core.SpI(" ",publisher_r4.name," ")}}function PublicationInformationComponent_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.Z7z(5,PublicationInformationComponent_Conditional_4_For_6_Template,4,2,"div",2,core.fX1),core.k0s()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,1,"submission.sections.sherpa.publication.information.publishers")),core.R7$(2),core.Dyx(ctx_r1.journal.publishers)}}function PublicationInformationComponent_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",2)(6,"p",3),core.EFF(7),core.k0s()()()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,2,"submission.sections.sherpa.publication.information.romeoPub")),core.R7$(4),core.SpI(" ",ctx_r1.journal.romeoPub," ")}}function PublicationInformationComponent_Conditional_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"p",3),core.EFF(3),core.nI1(4,"translate"),core.k0s()(),core.j41(5,"div",2)(6,"p",3),core.EFF(7),core.k0s()()()),2&rf){const ctx_r1=core.XpG();core.R7$(3),core.JRh(core.bMT(4,2,"submission.sections.sherpa.publication.information.zetoPub")),core.R7$(4),core.SpI(" ",ctx_r1.journal.zetoPub," ")}}let PublicationInformationComponent=(()=>{class PublicationInformationComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||PublicationInformationComponent2)}}static{this.\u0275cmp=core.VBU({type:PublicationInformationComponent2,selectors:[["ds-publication-information"]],inputs:{journal:"journal"},standalone:!0,features:[core.aNF],decls:7,vars:6,consts:[[1,"ms-4"],[1,"row"],[1,"col-4"],[1,"m-1"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0),core.DNE(1,PublicationInformationComponent_Conditional_1_Template,8,3,"div",1)(2,PublicationInformationComponent_Conditional_2_Template,8,3,"div",1)(3,PublicationInformationComponent_Conditional_3_Template,9,5,"div",1)(4,PublicationInformationComponent_Conditional_4_Template,7,3,"div",1)(5,PublicationInformationComponent_Conditional_5_Template,8,4,"div",1)(6,PublicationInformationComponent_Conditional_6_Template,8,4,"div",1),core.k0s()),2&rf&&(core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.titles&&ctx.journal.titles.length>0?1:-1),core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.issns&&ctx.journal.issns.length>0?2:-1),core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.url?3:-1),core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.publishers&&ctx.journal.publishers.length>0?4:-1),core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.romeoPub?5:-1),core.R7$(),core.vxM(null!=ctx.journal&&ctx.journal.zetoPub?6:-1))},dependencies:[ngx_translate_core.h,ngx_translate_core.D9]})}}return PublicationInformationComponent2})();function ContentAccordionComponent_Conditional_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.nrm(1,"i",12),core.EFF(2),core.k0s()),2&rf){const ctx_r2=core.XpG();core.R7$(2),core.Lme(" ",ctx_r2.version.embargo.amount," ",null==ctx_r2.version.embargo?null:ctx_r2.version.embargo.units[0],"")}}function ContentAccordionComponent_Conditional_9_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",12),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"submission.sections.sherpa.publisher.policy.noembargo"),""))}function ContentAccordionComponent_Conditional_12_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const ctx_r2=core.XpG(2);core.R7$(),core.SpI("+",ctx_r2.version.locations.length-1,"")}}function ContentAccordionComponent_Conditional_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.DNE(2,ContentAccordionComponent_Conditional_12_Conditional_2_Template,2,1,"span"),core.k0s()),2&rf){const ctx_r2=core.XpG();core.R7$(),core.SpI(" ",ctx_r2.version.locations[0]," "),core.R7$(),core.vxM(ctx_r2.version.locations.length>1?2:-1)}}function ContentAccordionComponent_Conditional_13_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.sherpa.publisher.policy.nolocation")))}function ContentAccordionComponent_Conditional_15_Template(rf,ctx){1&rf&&core.nrm(0,"span",8)}function ContentAccordionComponent_Conditional_16_Template(rf,ctx){1&rf&&core.nrm(0,"span",9)}function ContentAccordionComponent_Conditional_19_Conditional_1_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",15),core.EFF(1),core.k0s()),2&rf){const ctx_r2=core.XpG(3);core.R7$(),core.Lme("",ctx_r2.version.embargo.amount," ",ctx_r2.version.embargo.units,"")}}function ContentAccordionComponent_Conditional_19_Conditional_1_Conditional_8_Template(rf,ctx){1&rf&&(core.j41(0,"p",15),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"submission.sections.sherpa.publisher.policy.noembargo")))}function ContentAccordionComponent_Conditional_19_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",13)(1,"div",14)(2,"p",15),core.nrm(3,"i",12),core.EFF(4),core.nI1(5,"translate"),core.k0s()(),core.j41(6,"div",16),core.DNE(7,ContentAccordionComponent_Conditional_19_Conditional_1_Conditional_7_Template,2,2,"p",15)(8,ContentAccordionComponent_Conditional_19_Conditional_1_Conditional_8_Template,3,3,"p",15),core.k0s()()),2&rf){const ctx_r2=core.XpG(2);core.R7$(4),core.SpI(" ",core.bMT(5,2,"submission.sections.sherpa.publisher.policy.embargo"),""),core.R7$(3),core.vxM(ctx_r2.version.embargo?7:8)}}function ContentAccordionComponent_Conditional_19_Conditional_2_For_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",15),core.EFF(1),core.k0s()),2&rf){const license_r4=ctx.$implicit;core.R7$(),core.JRh(license_r4)}}function ContentAccordionComponent_Conditional_19_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",13)(1,"div",14)(2,"p",15),core.nrm(3,"i",17),core.EFF(4),core.nI1(5,"translate"),core.k0s()(),core.j41(6,"div",16),core.Z7z(7,ContentAccordionComponent_Conditional_19_Conditional_2_For_8_Template,2,1,"p",15,core.fX1),core.k0s()()),2&rf){const ctx_r2=core.XpG(2);core.R7$(4),core.SpI(" ",core.bMT(5,1,"submission.sections.sherpa.publisher.policy.license"),""),core.R7$(3),core.Dyx(ctx_r2.version.licenses)}}function ContentAccordionComponent_Conditional_19_Conditional_3_For_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",15),core.EFF(1),core.k0s()),2&rf){const prerequisite_r5=ctx.$implicit;core.R7$(),core.JRh(prerequisite_r5)}}function ContentAccordionComponent_Conditional_19_Conditional_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",13)(1,"div",14)(2,"p",15),core.nrm(3,"i",18),core.EFF(4),core.nI1(5,"translate"),core.k0s()(),core.j41(6,"div",16),core.Z7z(7,ContentAccordionComponent_Conditional_19_Conditional_3_For_8_Template,2,1,"p",15,core.fX1),core.k0s()()),2&rf){const ctx_r2=core.XpG(2);core.R7$(4),core.SpI(" ",core.bMT(5,1,"submission.sections.sherpa.publisher.policy.prerequisites"),""),core.R7$(3),core.Dyx(ctx_r2.version.prerequisites)}}function ContentAccordionComponent_Conditional_19_Conditional_4_For_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",15),core.EFF(1),core.k0s()),2&rf){const location_r6=ctx.$implicit;core.R7$(),core.JRh(location_r6)}}function ContentAccordionComponent_Conditional_19_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",13)(1,"div",14)(2,"p",15),core.nrm(3,"i",6),core.EFF(4),core.nI1(5,"translate"),core.k0s()(),core.j41(6,"div",16),core.Z7z(7,ContentAccordionComponent_Conditional_19_Conditional_4_For_8_Template,2,1,"p",15,core.fX1),core.k0s()()),2&rf){const ctx_r2=core.XpG(2);core.R7$(4),core.SpI(" ",core.bMT(5,1,"submission.sections.sherpa.publisher.policy.location"),""),core.R7$(3),core.Dyx(ctx_r2.version.locations)}}function ContentAccordionComponent_Conditional_19_Conditional_5_For_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"p",15),core.EFF(1),core.k0s()),2&rf){const condition_r7=ctx.$implicit;core.R7$(),core.JRh(condition_r7)}}function ContentAccordionComponent_Conditional_19_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",13)(1,"div",14)(2,"p",15),core.nrm(3,"i",19),core.EFF(4),core.nI1(5,"translate"),core.k0s()(),core.j41(6,"div",16),core.Z7z(7,ContentAccordionComponent_Conditional_19_Conditional_5_For_8_Template,2,1,"p",15,core.fX1),core.k0s()()),2&rf){const ctx_r2=core.XpG(2);core.R7$(4),core.SpI(" ",core.bMT(5,1,"submission.sections.sherpa.publisher.policy.conditions"),""),core.R7$(3),core.Dyx(ctx_r2.version.conditions)}}function ContentAccordionComponent_Conditional_19_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",11),core.DNE(1,ContentAccordionComponent_Conditional_19_Conditional_1_Template,9,4,"div",13)(2,ContentAccordionComponent_Conditional_19_Conditional_2_Template,9,3,"div",13)(3,ContentAccordionComponent_Conditional_19_Conditional_3_Template,9,3,"div",13)(4,ContentAccordionComponent_Conditional_19_Conditional_4_Template,9,3,"div",13)(5,ContentAccordionComponent_Conditional_19_Conditional_5_Template,9,3,"div",13),core.k0s()),2&rf){const ctx_r2=core.XpG();core.R7$(),core.vxM(null!=ctx_r2.version&&ctx_r2.version.embargo&&null!=ctx_r2.version&&ctx_r2.version.embargo.amount?1:-1),core.R7$(),core.vxM(null!=ctx_r2.version&&ctx_r2.version.licenses&&ctx_r2.version.licenses.length>0?2:-1),core.R7$(),core.vxM(null!=ctx_r2.version&&ctx_r2.version.prerequisites&&ctx_r2.version.prerequisites.length>0?3:-1),core.R7$(),core.vxM(null!=ctx_r2.version&&ctx_r2.version.locations&&ctx_r2.version.locations.length>0?4:-1),core.R7$(),core.vxM(null!=ctx_r2.version&&ctx_r2.version.conditions&&ctx_r2.version.conditions.length>0?5:-1)}}let ContentAccordionComponent=(()=>{class ContentAccordionComponent2{constructor(){this.isCollapsed=!0}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ContentAccordionComponent2)}}static{this.\u0275cmp=core.VBU({type:ContentAccordionComponent2,selectors:[["ds-content-accordion"]],inputs:{version:"version"},standalone:!0,features:[core.aNF],decls:20,vars:13,consts:[["collapse","ngbCollapse"],["data-test","collapse",1,"mb-3","border-bottom"],[1,"w-100","d-flex","justify-content-between","collapse-toggle",3,"click"],[1,"d-flex"],["type","button","aria-controls","collapseExample",1,"btn","btn-link","p-0","me-4",3,"click"],[1,"m-1","ms-4"],[1,"far","fa-folder-open"],[1,"d-inline-block"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[3,"ngbCollapse"],[1,"ms-4"],[1,"fas","fa-hourglass-half"],[1,"row"],[1,"col-4"],[1,"m-1"],[1,"col-6"],[1,"fas","fa-certificate"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-tasks"]],template:function(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",1)(1,"div",2),core.bIt("click",function(){core.eBV(_r1);const collapse_r2=core.sdS(18);return core.Njj(collapse_r2.toggle())}),core.j41(2,"div",3)(3,"button",4),core.bIt("click",function($event){return core.eBV(_r1),core.Njj($event.preventDefault())}),core.EFF(4),core.nI1(5,"titlecase"),core.nI1(6,"translate"),core.k0s(),core.j41(7,"div"),core.DNE(8,ContentAccordionComponent_Conditional_8_Template,3,2,"span")(9,ContentAccordionComponent_Conditional_9_Template,4,3,"span"),core.j41(10,"span",5),core.nrm(11,"i",6),core.DNE(12,ContentAccordionComponent_Conditional_12_Template,3,2,"span")(13,ContentAccordionComponent_Conditional_13_Template,3,3,"span"),core.k0s()()(),core.j41(14,"div",7),core.DNE(15,ContentAccordionComponent_Conditional_15_Template,1,0,"span",8)(16,ContentAccordionComponent_Conditional_16_Template,1,0,"span",9),core.k0s()(),core.j41(17,"div",10,0),core.DNE(19,ContentAccordionComponent_Conditional_19_Template,6,5,"div",11),core.k0s()()}if(2&rf){const collapse_r2=core.sdS(18);core.R7$(3),core.BMQ("aria-expanded",!collapse_r2.collapsed),core.R7$(),core.Lme(" ",core.bMT(5,9,ctx.version.articleVersion)," ",core.bMT(6,11,"submission.sections.sherpa.publisher.policy.version")," "),core.R7$(4),core.vxM(null!=ctx.version&&ctx.version.embargo&&null!=ctx.version&&ctx.version.embargo.amount?8:9),core.R7$(4),core.vxM(null!=ctx.version&&ctx.version.locations&&ctx.version.locations.length>0?12:13),core.R7$(3),core.vxM(collapse_r2.collapsed?15:-1),core.R7$(),core.vxM(collapse_r2.collapsed?-1:16),core.R7$(),core.Y8G("ngbCollapse",ctx.isCollapsed),core.R7$(2),core.vxM(ctx.version?19:-1)}},dependencies:[ng_bootstrap.HC,ng_bootstrap.$G,common.PV,ngx_translate_core.h,ngx_translate_core.D9]})}}return ContentAccordionComponent2})();function PublisherPolicyComponent_For_2_Template(rf,ctx){1&rf&&core.nrm(0,"ds-content-accordion",1),2&rf&&core.Y8G("version",ctx.$implicit)}function PublisherPolicyComponent_Conditional_3_For_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"li")(1,"a",5),core.EFF(2),core.k0s()()),2&rf){const url_r2=ctx.$implicit;core.R7$(),core.FS9("href",url_r2.key,core.B4B),core.R7$(),core.JRh(url_r2.value)}}function PublisherPolicyComponent_Conditional_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",2)(1,"div",3)(2,"p",4),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"ul"),core.Z7z(6,PublisherPolicyComponent_Conditional_3_For_7_Template,3,2,"li",null,core.fX1),core.nI1(8,"keyvalue"),core.k0s()()()),2&rf){const ctx_r2=core.XpG();core.R7$(3),core.SpI(" ",core.bMT(4,1,"submission.sections.sherpa.publisher.policy.more.information")," "),core.R7$(3),core.Dyx(core.bMT(8,3,ctx_r2.policy.urls))}}let PublisherPolicyComponent=(()=>{class PublisherPolicyComponent2{constructor(){this.AlertTypeEnum=alert_type.v}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||PublisherPolicyComponent2)}}static{this.\u0275cmp=core.VBU({type:PublisherPolicyComponent2,selectors:[["ds-publisher-policy"]],inputs:{policy:"policy"},standalone:!0,features:[core.aNF],decls:4,vars:1,consts:[[1,"ms-4"],[3,"version"],[1,"row"],[1,"col-12"],[1,"m-1"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0),core.Z7z(1,PublisherPolicyComponent_For_2_Template,1,1,"ds-content-accordion",1,core.fX1),core.DNE(3,PublisherPolicyComponent_Conditional_3_Template,9,5,"div",2),core.k0s()),2&rf&&(core.R7$(),core.Dyx(ctx.policy.permittedVersions),core.R7$(2),core.vxM(null!=ctx.policy&&ctx.policy.urls?3:-1))},dependencies:[ContentAccordionComponent,common.lG,ngx_translate_core.h,ngx_translate_core.D9]})}}return PublisherPolicyComponent2})();function SubmissionSectionSherpaPoliciesComponent_Conditional_0_Template(rf,ctx){1&rf&&core.nrm(0,"ds-alert",1),2&rf&&core.Y8G("type","alert-info")("content","submission.sections.sherpa-policy.title-empty")}function SubmissionSectionSherpaPoliciesComponent_Conditional_1_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",2)(1,"ds-alert",4),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"div")(5,"button",5),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.refresh())}),core.j41(6,"span"),core.nrm(7,"i",6),core.EFF(8),core.nI1(9,"translate"),core.k0s()()()()}2&rf&&(core.R7$(),core.Y8G("type","alert-info"),core.R7$(),core.SpI(" ",core.bMT(3,3,"submission.sections.sherpa.publisher.policy.description")," "),core.R7$(6),core.SpI(" ",core.bMT(9,5,"submission.sections.sherpa.publisher.policy.refresh")," "))}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Conditional_6_Template(rf,ctx){1&rf&&core.nrm(0,"span",11)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Conditional_7_Template(rf,ctx){1&rf&&core.nrm(0,"span",12)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Conditional_6_Template(rf,ctx){1&rf&&core.nrm(0,"span",11)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Conditional_7_Template(rf,ctx){1&rf&&core.nrm(0,"span",12)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"div",7)(1,"div",8),core.bIt("click",function(){core.eBV(_r6);const collapse_r7=core.sdS(9);return core.Njj(collapse_r7.toggle())}),core.j41(2,"button",9),core.bIt("click",function($event){return core.eBV(_r6),core.Njj($event.preventDefault())}),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"div",10),core.DNE(6,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Conditional_6_Template,1,0,"span",11)(7,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Conditional_7_Template,1,0,"span",12),core.k0s()(),core.j41(8,"div",13,0),core.nrm(10,"ds-publisher-policy",16),core.k0s()()}if(2&rf){const policy_r8=ctx.$implicit,collapse_r7=core.sdS(9),ctx_r1=core.XpG(4);core.R7$(2),core.BMQ("aria-expanded",!collapse_r7.collapsed),core.R7$(),core.SpI(" ",core.bMT(4,6,"submission.sections.sherpa.publisher.policy")," "),core.R7$(3),core.vxM(collapse_r7.collapsed?6:-1),core.R7$(),core.vxM(collapse_r7.collapsed?-1:7),core.R7$(),core.Y8G("ngbCollapse",ctx_r1.isCollapsed),core.R7$(2),core.Y8G("policy",policy_r8)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"div",7)(1,"div",8),core.bIt("click",function(){core.eBV(_r4);const collapse_r5=core.sdS(9);return core.Njj(collapse_r5.toggle())}),core.j41(2,"button",9),core.bIt("click",function($event){return core.eBV(_r4),core.Njj($event.preventDefault())}),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"div",10),core.DNE(6,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Conditional_6_Template,1,0,"span",11)(7,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Conditional_7_Template,1,0,"span",12),core.k0s()(),core.j41(8,"div",13,0),core.nrm(10,"ds-publication-information",15),core.k0s()(),core.Z7z(11,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_For_12_Template,11,8,"div",7,core.fX1)}if(2&rf){const journal_r9=ctx.$implicit,collapse_r5=core.sdS(9),ctx_r1=core.XpG(3);core.R7$(2),core.BMQ("aria-expanded",!collapse_r5.collapsed),core.R7$(),core.SpI(" ",core.bMT(4,6,"submission.sections.sherpa.publication.information")," "),core.R7$(3),core.vxM(collapse_r5.collapsed?6:-1),core.R7$(),core.vxM(collapse_r5.collapsed?-1:7),core.R7$(),core.Y8G("ngbCollapse",ctx_r1.isCollapsed),core.R7$(2),core.Y8G("journal",journal_r9),core.R7$(),core.Dyx(journal_r9.policies)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Conditional_8_Template(rf,ctx){1&rf&&core.nrm(0,"span",11)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Conditional_9_Template(rf,ctx){1&rf&&core.nrm(0,"span",12)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.Z7z(0,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_For_1_Template,13,8,null,null,core.fX1),core.j41(2,"div",7)(3,"div",8),core.bIt("click",function(){core.eBV(_r3);const collapse_r10=core.sdS(11);return core.Njj(collapse_r10.toggle())}),core.j41(4,"button",9),core.bIt("click",function($event){return core.eBV(_r3),core.Njj($event.preventDefault())}),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"div",10),core.DNE(8,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Conditional_8_Template,1,0,"span",11)(9,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Conditional_9_Template,1,0,"span",12),core.k0s()(),core.j41(10,"div",13,0),core.nrm(12,"ds-metadata-information",14),core.k0s()()}if(2&rf){const collapse_r10=core.sdS(11),sherpaData_r11=core.XpG().ngVar,ctx_r1=core.XpG();core.Dyx(sherpaData_r11.journals),core.R7$(4),core.BMQ("aria-expanded",!collapse_r10.collapsed),core.R7$(),core.SpI(" ",core.bMT(6,6,"submission.sections.sherpa.record.information")," "),core.R7$(3),core.vxM(collapse_r10.collapsed?8:-1),core.R7$(),core.vxM(collapse_r10.collapsed?-1:9),core.R7$(),core.Y8G("ngbCollapse",ctx_r1.isCollapsed),core.R7$(2),core.Y8G("metadata",sherpaData_r11.metadata)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_2_Template(rf,ctx){if(1&rf&&(core.nrm(0,"ds-alert",1),core.nI1(1,"translate")),2&rf){const sherpaData_r11=core.XpG().ngVar,ctx_r1=core.XpG();core.Y8G("type",ctx_r1.AlertTypeEnum.Error)("content",sherpaData_r11.message?sherpaData_r11.message:core.bMT(1,2,"submission.sections.sherpa.error.message"))}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_1_Template,13,8,"div",7)(2,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Conditional_2_Template,2,4,"ds-alert",1),core.bVm()),2&rf){const sherpaData_r11=ctx.ngVar,ctx_r1=core.XpG();core.R7$(),core.vxM(ctx_r1.hasNoData()||!sherpaData_r11||sherpaData_r11.error?-1:1),core.R7$(),core.vxM(sherpaData_r11&&sherpaData_r11.error?2:-1)}}let SubmissionSectionSherpaPoliciesComponent=(()=>{class SubmissionSectionSherpaPoliciesComponent2 extends SectionModelComponent{constructor(sectionService,operationsBuilder,submissionService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.sectionService=sectionService,this.operationsBuilder=operationsBuilder,this.submissionService=submissionService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.sherpaPoliciesData$=new cjs.BehaviorSubject(null),this.subs=[],this.isCollapsed=!1,this.AlertTypeEnum=alert_type.v}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionData.id),this.subs.push(this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType).subscribe(sherpaPolicies=>{this.sherpaPoliciesData$.next(sherpaPolicies)}))}getSectionStatus(){return(0,cjs.of)(!0)}hasNoData(){return(0,empty_util.Im)(this.sherpaPoliciesData$.value)}refresh(){this.operationsBuilder.remove(this.pathCombiner.getPath("retrievalTime")),this.submissionService.dispatchSaveSection(this.submissionId,this.sectionData.id)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionSherpaPoliciesComponent2)(core.rXU(sections_service.c),core.rXU(json_patch_operations_builder.C),core.rXU(submission_service.E),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionSherpaPoliciesComponent2,selectors:[["ds-section-sherpa-policies"]],standalone:!0,features:[core.Vt3,core.aNF],decls:4,vars:5,consts:[["collapse","ngbCollapse"],[3,"type","content"],[1,"d-flex","flex-column","flex-nowrap","mt-2","mb-4"],[4,"ngVar"],[3,"type"],["type","button","data-test","refresh-btn",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-sync"],["data-test","collapse",1,"mb-3","border-bottom"],[1,"w-100","d-flex","justify-content-between","collapse-toggle","mb-3",3,"click"],["type","button","aria-controls","collapseExample",1,"btn","btn-link","p-0",3,"click"],[1,"d-inline-block"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[3,"ngbCollapse"],[3,"metadata"],[3,"journal"],[3,"policy"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,SubmissionSectionSherpaPoliciesComponent_Conditional_0_Template,1,2,"ds-alert",1)(1,SubmissionSectionSherpaPoliciesComponent_Conditional_1_Template,10,7,"div",2)(2,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template,3,2,"ng-container",3),core.nI1(3,"async")),2&rf){let tmp_2_0;core.vxM(ctx.hasNoData()?0:-1),core.R7$(),core.vxM(ctx.hasNoData()?-1:1),core.R7$(),core.Y8G("ngVar",null==(tmp_2_0=core.bMT(3,3,ctx.sherpaPoliciesData$))?null:tmp_2_0.sherpaResponse)}},dependencies:[alert_component.C,common.Jj,MetadataInformationComponent,ng_bootstrap.HC,ng_bootstrap.$G,PublicationInformationComponent,PublisherPolicyComponent,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r]})}}return SubmissionSectionSherpaPoliciesComponent2})();var dso_name_service=__webpack_require__(11481),submission_uploads_config_data_service=__webpack_require__(25488),group_data_service=__webpack_require__(14557),resource_policy_data_service=__webpack_require__(23390),submission_section_upload_access_conditions_component=__webpack_require__(13005),themed_component=(__webpack_require__(14607),__webpack_require__(79241));__webpack_require__(80016);const themed_section_upload_file_component_c0=["*"];function ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionSectionUploadFileComponent=(()=>{class ThemedSubmissionSectionUploadFileComponent2 extends themed_component.J{constructor(){super(...arguments),this.inAndOutputNames=["availableAccessConditionOptions","isPrimary","collectionId","collectionPolicyType","configMetadataForm","fileId","fileIndex","fileName","sectionId","submissionId"]}getComponentName(){return"SubmissionSectionUploadFileComponent"}importThemedComponent(themeName){return __webpack_require__(96682)(`./${themeName}/app/submission/sections/upload/file/section-upload-file.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,80016))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory||(\u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory=core.xGo(ThemedSubmissionSectionUploadFileComponent2)))(__ngFactoryType__||ThemedSubmissionSectionUploadFileComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedSubmissionSectionUploadFileComponent2,selectors:[["ds-submission-upload-section-file"]],inputs:{availableAccessConditionOptions:"availableAccessConditionOptions",isPrimary:"isPrimary",collectionId:"collectionId",collectionPolicyType:"collectionPolicyType",configMetadataForm:"configMetadataForm",fileId:"fileId",fileIndex:"fileIndex",fileName:"fileName",sectionId:"sectionId",submissionId:"submissionId"},standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_section_upload_file_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedSubmissionSectionUploadFileComponent2})();var section_upload_service=__webpack_require__(19923);const section_upload_component_c0=a0=>({collectionName:a0});function SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Conditional_3_Template(rf,ctx){if(1&rf&&(core.EFF(0),core.nI1(1,"translate")),2&rf){const ctx_r0=core.XpG(3);core.SpI(" ",core.i5U(1,1,"submission.sections.upload.header.policy.default.nolist",core.eq3(4,section_upload_component_c0,ctx_r0.collectionName))," ")}}function SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Conditional_4_Template(rf,ctx){if(1&rf&&(core.EFF(0),core.nI1(1,"translate")),2&rf){const ctx_r0=core.XpG(3);core.SpI(" ",core.i5U(1,1,"submission.sections.upload.header.policy.default.withlist",core.eq3(4,section_upload_component_c0,ctx_r0.collectionName))," ")}}function SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"div",5)(2,"ds-alert",6),core.DNE(3,SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Conditional_3_Template,2,6)(4,SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Conditional_4_Template,2,6),core.nrm(5,"span",7)(6,"ds-submission-section-upload-access-conditions",8),core.k0s()()()),2&rf){const ctx_r0=core.XpG(2);core.R7$(2),core.Y8G("type",ctx_r0.AlertTypeEnum.Warning),core.R7$(),core.vxM(1===ctx_r0.collectionPolicyType?3:-1),core.R7$(),core.vxM(2===ctx_r0.collectionPolicyType?4:-1),core.R7$(2),core.Y8G("accessConditions",ctx_r0.collectionDefaultAccessConditions)}}function SubmissionSectionUploadComponent_Conditional_1_For_10_Template(rf,ctx){if(1&rf&&(core.nrm(0,"ds-submission-upload-section-file",9),core.nI1(1,"async"),core.j41(2,"div",1)(3,"div",4),core.nrm(4,"hr"),core.k0s()()),2&rf){const fileEntry_r2=ctx.$implicit,\u0275$index_35_r3=ctx.$index,ctx_r0=core.XpG(2);core.Y8G("isPrimary",ctx_r0.primaryBitstreamUUID?ctx_r0.primaryBitstreamUUID===fileEntry_r2.uuid:null)("availableAccessConditionOptions",ctx_r0.availableAccessConditionOptions)("collectionId",ctx_r0.collectionId)("collectionPolicyType",ctx_r0.collectionPolicyType)("configMetadataForm",core.bMT(1,10,ctx_r0.configMetadataForm$))("fileId",fileEntry_r2.uuid)("fileIndex",\u0275$index_35_r3)("fileName",ctx_r0.fileNames[\u0275$index_35_r3])("sectionId",ctx_r0.sectionData.id)("submissionId",ctx_r0.submissionId)}}function SubmissionSectionUploadComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(core.DNE(0,SubmissionSectionUploadComponent_Conditional_1_Conditional_0_Template,7,4,"div",1),core.j41(1,"div",1)(2,"div",2)(3,"span",3),core.EFF(4),core.nI1(5,"translate"),core.k0s()()(),core.j41(6,"div",1)(7,"div",4),core.nrm(8,"hr"),core.k0s()(),core.Z7z(9,SubmissionSectionUploadComponent_Conditional_1_For_10_Template,5,12,null,null,core.fX1)),2&rf){const ctx_r0=core.XpG();core.vxM(ctx_r0.collectionDefaultAccessConditions.length>0?0:-1),core.R7$(4),core.JRh(core.bMT(5,2,"bitstream.edit.form.primaryBitstream.label")),core.R7$(5),core.Dyx(ctx_r0.fileList)}}function SubmissionSectionUploadComponent_Conditional_2_Template(rf,ctx){1&rf&&(core.j41(0,"div",1)(1,"div",4)(2,"div",10)(3,"span",11),core.EFF(4),core.nI1(5,"translate"),core.k0s()()()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,1,"submission.sections.upload.no-file-uploaded")))}let SubmissionSectionUploadComponent=(()=>{class SubmissionSectionUploadComponent2 extends SectionModelComponent{constructor(bitstreamService,changeDetectorRef,collectionDataService,groupService,resourcePolicyService,sectionService,submissionService,uploadsConfigService,dsoNameService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.bitstreamService=bitstreamService,this.changeDetectorRef=changeDetectorRef,this.collectionDataService=collectionDataService,this.groupService=groupService,this.resourcePolicyService=resourcePolicyService,this.sectionService=sectionService,this.submissionService=submissionService,this.uploadsConfigService=uploadsConfigService,this.dsoNameService=dsoNameService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.AlertTypeEnum=alert_type.v,this.primaryBitstreamUUID=null,this.fileList=[],this.fileNames=[],this.collectionDefaultAccessConditions=[],this.required$=new cjs.BehaviorSubject(!0),this.subs=[]}onSectionInit(){const config$=this.uploadsConfigService.findByHref(this.sectionData.config,!0,!1,(0,follow_link_config_model.s)("metadata")).pipe((0,shared_operators.yd)(),(0,operators.Tj)(config=>config.payload));this.configMetadataForm$=config$.pipe((0,operators.nx)(config=>config.metadata.pipe((0,shared_operators.yd)(),(0,operators.Tj)(remoteData=>remoteData.payload)))),this.subs.push(this.submissionService.getSubmissionObject(this.submissionId).pipe((0,operators.pb)(submissionObject=>(0,empty_util.EA)(submissionObject)&&!submissionObject.isLoading),(0,operators.pb)(submissionObject=>(0,empty_util.b0)(this.collectionId)||this.collectionId!==submissionObject.collection),(0,operators.Mi)(submissionObject=>this.collectionId=submissionObject.collection),(0,operators.ZZ)(submissionObject=>this.collectionDataService.findById(submissionObject.collection)),(0,operators.pb)(rd=>(0,empty_util.EA)(rd.payload)),(0,operators.Mi)(collectionRemoteData=>this.collectionName=this.dsoNameService.getName(collectionRemoteData.payload)),(0,operators.ZZ)(()=>config$)).subscribe(config=>{this.required$.next(config.required),this.availableAccessConditionOptions=(0,empty_util.hj)(config.accessConditionOptions)?config.accessConditionOptions:[],this.collectionPolicyType=this.availableAccessConditionOptions.length>0?2:1,this.changeDetectorRef.detectChanges()}),(0,cjs.combineLatest)([this.configMetadataForm$,this.bitstreamService.getUploadedFilesData(this.submissionId,this.sectionData.id)]).pipe((0,operators.pb)(([configMetadataForm,sectionUploadObject])=>(0,empty_util.hj)(configMetadataForm)&&(0,empty_util.hj)(sectionUploadObject)),(0,operators.F)()).subscribe(([configMetadataForm,{primary,files}])=>{this.primaryBitstreamUUID=primary,this.fileList=files,this.fileNames=Array.from(files,file=>this.getFileName(configMetadataForm,file)),this.changeDetectorRef.detectChanges()}))}getFileName(configMetadataForm,fileData){const metadataName=configMetadataForm.rows[0].fields[0].selectableMetadata[0].metadata;let title;return title=(0,empty_util.hj)(fileData.metadata)&&(0,empty_util.hj)(fileData.metadata[metadataName])?fileData.metadata[metadataName][0].display:fileData.uuid,title}getSectionStatus(){return(0,cjs.combineLatest)(this.required$,this.bitstreamService.getUploadedFileList(this.submissionId,this.sectionData.id),(required,fileList)=>!required||(0,empty_util.EA)(fileList)&&fileList.length>0)}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionUploadComponent2)(core.rXU(section_upload_service.i),core.rXU(core.gRc),core.rXU(collection_data_service.CollectionDataService),core.rXU(group_data_service.GroupDataService),core.rXU(resource_policy_data_service.ResourcePolicyDataService),core.rXU(sections_service.c),core.rXU(submission_service.E),core.rXU(submission_uploads_config_data_service.SubmissionUploadsConfigDataService),core.rXU(dso_name_service.f),core.rXU("sectionDataProvider"),core.rXU("submissionIdProvider"))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionUploadComponent2,selectors:[["ds-submission-section-upload"]],standalone:!0,features:[core.Vt3,core.aNF],decls:3,vars:4,consts:[[3,"content","dismissible","type"],[1,"row"],[1,"col-md-2"],[1,"text-start","fw-bold"],[1,"col-md-12"],[1,"col-sm-12"],[3,"type"],[1,"clearfix"],[3,"accessConditions"],[3,"isPrimary","availableAccessConditionOptions","collectionId","collectionPolicyType","configMetadataForm","fileId","fileIndex","fileName","sectionId","submissionId"],[1,"text-center","h3"],[1,"text-muted"]],template:function(rf,ctx){1&rf&&(core.nrm(0,"ds-alert",0),core.DNE(1,SubmissionSectionUploadComponent_Conditional_1_Template,11,4)(2,SubmissionSectionUploadComponent_Conditional_2_Template,6,3,"div",1)),2&rf&&(core.Y8G("content","submission.sections.upload.info")("dismissible",!0)("type",ctx.AlertTypeEnum.Info),core.R7$(),core.vxM(ctx.fileList.length>0?1:2))},dependencies:[alert_component.C,common.Jj,submission_section_upload_access_conditions_component._,ThemedSubmissionSectionUploadFileComponent,ngx_translate_core.h,ngx_translate_core.D9]})}}return SubmissionSectionUploadComponent2})();const submissionSectionsMap=new Map;submissionSectionsMap.set(sections_type.l.AccessesCondition,SubmissionSectionAccessesComponent),submissionSectionsMap.set(sections_type.l.License,SubmissionSectionLicenseComponent),submissionSectionsMap.set(sections_type.l.CcLicense,SubmissionSectionCcLicensesComponent),submissionSectionsMap.set(sections_type.l.SherpaPolicies,SubmissionSectionSherpaPoliciesComponent),submissionSectionsMap.set(sections_type.l.Upload,SubmissionSectionUploadComponent),submissionSectionsMap.set(sections_type.l.SubmissionForm,SubmissionSectionFormComponent),submissionSectionsMap.set(sections_type.l.Identifiers,SubmissionSectionIdentifiersComponent),submissionSectionsMap.set(sections_type.l.CoarNotify,SubmissionSectionCoarNotifyComponent),submissionSectionsMap.set(sections_type.l.Duplicates,SubmissionSectionDuplicatesComponent);const section_container_component_c0=["sectionRef"],section_container_component_c1=a0=>({"section-focus":a0}),section_container_component_c2=a0=>({"text-white":a0});function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_4_Template(rf,ctx){1&rf&&(core.nrm(0,"i",10),core.nI1(1,"translate"),core.nI1(2,"translate")),2&rf&&(core.FS9("title",core.bMT(1,2,"submission.sections.status.warnings.title")),core.BMQ("aria-label",core.bMT(2,4,"submission.sections.status.warnings.aria")))}function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_6_Template(rf,ctx){1&rf&&(core.nrm(0,"i",11),core.nI1(1,"translate"),core.nI1(2,"translate")),2&rf&&(core.FS9("title",core.bMT(1,2,"submission.sections.status.errors.title")),core.BMQ("aria-label",core.bMT(2,4,"submission.sections.status.errors.aria")))}function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_7_Template(rf,ctx){1&rf&&(core.nrm(0,"i",12),core.nI1(1,"translate"),core.nI1(2,"translate")),2&rf&&(core.FS9("title",core.bMT(1,2,"submission.sections.status.valid.title")),core.BMQ("aria-label",core.bMT(2,4,"submission.sections.status.valid.aria")))}function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_9_Template(rf,ctx){1&rf&&(core.nrm(0,"i",13),core.nI1(1,"translate"),core.nI1(2,"translate")),2&rf&&(core.FS9("title",core.bMT(1,2,"submission.sections.status.info.title")),core.BMQ("aria-label",core.bMT(2,4,"submission.sections.status.info.aria")))}function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_10_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"a",15),core.bIt("click",function($event){core.eBV(_r3);const ctx_r3=core.XpG(3);return core.Njj(ctx_r3.removeSection($event))}),core.nrm(1,"i",16),core.k0s()}}function SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"span",8),core.EFF(1),core.nI1(2,"translate"),core.k0s(),core.j41(3,"div",9),core.DNE(4,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_4_Template,3,6,"i",10),core.nI1(5,"async"),core.DNE(6,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_6_Template,3,6,"i",11)(7,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_7_Template,3,6,"i",12),core.nI1(8,"async"),core.DNE(9,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_9_Template,3,6,"i",13)(10,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Conditional_10_Template,2,0,"a",14),core.k0s()),2&rf){const ctx_r3=core.XpG(2),sectionRef_r2=core.sdS(1);core.Y8G("ngClass",core.eq3(13,section_container_component_c2,sectionRef_r2.isInfo())),core.R7$(),core.JRh(core.bMT(2,7,"submission.sections."+ctx_r3.sectionData.header)),core.R7$(3),core.vxM(!0===core.bMT(5,9,sectionRef_r2.isValid())||sectionRef_r2.hasErrors()||sectionRef_r2.isInfo()?-1:4),core.R7$(2),core.vxM(sectionRef_r2.hasErrors()&&!sectionRef_r2.isInfo()?6:-1),core.R7$(),core.vxM(!core.bMT(8,11,sectionRef_r2.isValid())||sectionRef_r2.hasErrors()||sectionRef_r2.isInfo()?-1:7),core.R7$(2),core.vxM(sectionRef_r2.isInfo()?9:-1),core.R7$(),core.vxM(sectionRef_r2.isMandatory()?-1:10)}}function SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Conditional_0_For_2_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"ds-alert",21),core.bIt("close",function(){const \u0275$index_49_r7=core.eBV(_r6).$index;core.XpG(4);const sectionRef_r2=core.sdS(1);return core.Njj(sectionRef_r2.removeError(\u0275$index_49_r7))}),core.k0s()}if(2&rf){const error_r8=ctx.$implicit,ctx_r3=core.XpG(4);core.Y8G("content",error_r8)("dismissible",!0)("type",ctx_r3.AlertTypeEnum.Error)}}function SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",17),core.Z7z(1,SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Conditional_0_For_2_Template,1,3,"ds-alert",20,core.fX1),core.k0s()),2&rf){const ctx_r3=core.XpG(3),sectionRef_r2=core.sdS(1);core.Mz_("id","sectionGenericError_",ctx_r3.sectionData.id,""),core.R7$(),core.Dyx(sectionRef_r2.getErrors())}}function SubmissionSectionContainerComponent_Conditional_2_ng_template_4_ng_container_2_Template(rf,ctx){1&rf&&core.eu8(0)}function SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.DNE(0,SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Conditional_0_Template,3,2,"div",17),core.j41(1,"div",18),core.bIt("click",function($event){core.eBV(_r5),core.XpG(2);const sectionRef_r2=core.sdS(1);return core.Njj(sectionRef_r2.setFocus($event))}),core.DNE(2,SubmissionSectionContainerComponent_Conditional_2_ng_template_4_ng_container_2_Template,1,0,"ng-container",19),core.k0s()}if(2&rf){const ctx_r3=core.XpG(2),sectionRef_r2=core.sdS(1);core.vxM(sectionRef_r2.hasGenericErrors()?0:-1),core.R7$(),core.Mz_("id","sectionContent_",ctx_r3.sectionData.id,""),core.R7$(),core.Y8G("ngComponentOutlet",ctx_r3.getSectionContent())("ngComponentOutletInjector",ctx_r3.objectInjector)}}function SubmissionSectionContainerComponent_Conditional_2_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ngb-accordion",4,1),core.bIt("panelChange",function($event){core.eBV(_r1),core.XpG();const sectionRef_r2=core.sdS(1);return core.Njj(sectionRef_r2.sectionChange($event))}),core.j41(2,"ngb-panel",5),core.DNE(3,SubmissionSectionContainerComponent_Conditional_2_ng_template_3_Template,11,15,"ng-template",6)(4,SubmissionSectionContainerComponent_Conditional_2_ng_template_4_Template,3,5,"ng-template",7),core.k0s()()}if(2&rf){const ctx_r3=core.XpG(),sectionRef_r2=core.sdS(1);core.FS9("activeIds",ctx_r3.sectionData.id),core.Y8G("destroyOnHide",!1),core.R7$(2),core.FS9("id",ctx_r3.sectionData.id),core.Y8G("type",sectionRef_r2.isInfo()?"info":"")}}let SubmissionSectionContainerComponent=(()=>{class SubmissionSectionContainerComponent2{constructor(injector){this.injector=injector,this.AlertTypeEnum=alert_type.v}ngOnInit(){this.objectInjector=core.zZn.create({providers:[{provide:"collectionIdProvider",useFactory:()=>this.collectionId,deps:[]},{provide:"sectionDataProvider",useFactory:()=>this.sectionData,deps:[]},{provide:"submissionIdProvider",useFactory:()=>this.submissionId,deps:[]}],parent:this.injector})}removeSection(event){event.preventDefault(),event.stopPropagation(),this.sectionRef.removeSection(this.submissionId,this.sectionData.id)}getSectionContent(){return function rendersSectionType(sectionType){return submissionSectionsMap.get(sectionType)}(this.sectionData.sectionType)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionContainerComponent2)(core.rXU(core.zZn))}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionContainerComponent2,selectors:[["ds-base-submission-section-container"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(section_container_component_c0,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.sectionRef=_t.first)}},inputs:{collectionId:"collectionId",sectionData:"sectionData",submissionId:"submissionId"},standalone:!0,features:[core.aNF],decls:4,vars:11,consts:[["sectionRef","sectionRef"],["acc","ngbAccordion"],["dsSection","",1,"mb-2",3,"ngClass","mandatory","submissionId","sectionType","sectionId"],[3,"activeIds","destroyOnHide"],[3,"panelChange","activeIds","destroyOnHide"],[3,"id","type"],["ngbPanelTitle","",1,"d-flex"],["ngbPanelContent",""],["tabindex","0",1,"flex-grow-1","section-title",3,"ngClass"],[1,"d-inline-block"],["role","img",1,"fas","fa-exclamation-circle","text-warning","me-3",3,"title"],["role","img",1,"fas","fa-exclamation-circle","text-danger","me-3",3,"title"],["role","img",1,"fas","fa-check-circle","text-success","me-3",3,"title"],["role","img",1,"fas","fa-info-circle","me-3","text-white",3,"title"],["href","javascript:void(0);",1,"me-3"],["href","javascript:void(0);",1,"me-3",3,"click"],["aria-hidden","true","tabindex","0",1,"fas","fa-trash-o"],[3,"id"],[3,"click","id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"content","dismissible","type"],[3,"close","content","dismissible","type"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",2,0),core.DNE(2,SubmissionSectionContainerComponent_Conditional_2_Template,5,4,"ngb-accordion",3),core.nI1(3,"async"),core.k0s()),2&rf){const sectionRef_r2=core.sdS(1);core.Y8G("ngClass",core.eq3(9,section_container_component_c1,sectionRef_r2.isSectionActive()))("mandatory",ctx.sectionData.mandatory)("submissionId",ctx.submissionId)("sectionType",ctx.sectionData.sectionType)("sectionId",ctx.sectionData.id),core.BMQ("id","section_"+ctx.sectionData.id),core.R7$(2),core.vxM(core.bMT(3,7,sectionRef_r2.isEnabled())?2:-1)}},dependencies:[alert_component.C,common.Jj,ng_bootstrap._f,ng_bootstrap.W1,ng_bootstrap.CT,ng_bootstrap.sb,ng_bootstrap.t3,common.YU,common.OI,sections_directive.m,ngx_translate_core.h,ngx_translate_core.D9],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return SubmissionSectionContainerComponent2})()},80189:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>ThemedSubmissionSectionContainerComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(53052),__webpack_require__(25376));const _c0=["*"];function ThemedSubmissionSectionContainerComponent_ng_template_0_Template(rf,ctx){}let ThemedSubmissionSectionContainerComponent=(()=>{class ThemedSubmissionSectionContainerComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["collectionId","sectionData","submissionId"]}getComponentName(){return"SubmissionSectionContainerComponent"}importThemedComponent(themeName){return __webpack_require__(20174)(`./${themeName}/app/submission/sections/container/section-container.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,53052))}static{this.\u0275fac=(()=>{let \u0275ThemedSubmissionSectionContainerComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedSubmissionSectionContainerComponent_BaseFactory||(\u0275ThemedSubmissionSectionContainerComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedSubmissionSectionContainerComponent2)))(__ngFactoryType__||ThemedSubmissionSectionContainerComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedSubmissionSectionContainerComponent2,selectors:[["ds-submission-section-container"]],inputs:{collectionId:"collectionId",sectionData:"sectionData",submissionId:"submissionId"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedSubmissionSectionContainerComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}}return ThemedSubmissionSectionContainerComponent2})()},69007:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CoarNotifyConfigDataService:()=>CoarNotifyConfigDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60444),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_core_data_base_create_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95985),_core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(92788),_core_data_base_find_all_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27554),_core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61640),_core_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(41373),_core_data_request_models__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(99381),_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64806),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(26139),_core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(51202),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76623),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(25376);let CoarNotifyConfigDataService=(()=>{class CoarNotifyConfigDataService2 extends _core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("submissioncoarnotifyconfigs",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.findAllData=new _core_data_base_find_all_data__WEBPACK_IMPORTED_MODULE_4__.H(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _core_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__.n(this.linkPath,requestService,rdbService,objectCache,halService,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new _core_data_base_create_data__WEBPACK_IMPORTED_MODULE_2__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive)}create(object,...params){return this.createData.create(object,...params)}patch(object,operations){return this.patchData.patch(object,operations)}update(object){return this.patchData.update(object)}commitUpdates(method){return this.patchData.commitUpdates(method)}createPatchFromCache(object){return this.patchData.createPatchFromCache(object)}findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.findAllData.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}delete(objectId,copyVirtualMetadata){return this.deleteData.delete(objectId,copyVirtualMetadata)}deleteByHref(href,copyVirtualMetadata){return this.deleteData.deleteByHref(href,copyVirtualMetadata)}invoke(serviceName,serviceId,files){const requestId=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(endpoint=>new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_12__.t(endpoint,serviceName,"submissioncoarnotifyconfigmodel",serviceId).toString()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(endpoint=>{const body=this.getInvocationFormData(files);return new _core_data_request_models__WEBPACK_IMPORTED_MODULE_7__.E0(requestId,endpoint,body)})).subscribe(request=>this.requestService.send(request)),this.rdbService.buildFromRequestUUID(requestId)}getInvocationFormData(files){const form=new FormData;return files.forEach(file=>{form.append("file",file)}),form}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||CoarNotifyConfigDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__.B),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__.I))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_13__.jDH({token:CoarNotifyConfigDataService2,factory:CoarNotifyConfigDataService2.\u0275fac,providedIn:"root"})}}return CoarNotifyConfigDataService2})()},20984:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>SectionsDirective});var lodash_uniq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(909),lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_0__),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2794),_submission_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78953),_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(63042),_sections_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(90174),_angular_core__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(1884),__webpack_require__(25376));let SectionsDirective=(()=>{class SectionsDirective2{constructor(changeDetectorRef,submissionService,sectionService){this.changeDetectorRef=changeDetectorRef,this.submissionService=submissionService,this.sectionService=sectionService,this.mandatory=!0,this.genericSectionErrors=[],this.allSectionErrors=[],this.active=!0,this.sectionState=this.mandatory,this.subs=[]}ngOnInit(){this.valid=this.sectionService.isSectionValid(this.submissionId,this.sectionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(valid=>(valid&&this.resetErrors(),valid))),this.subs.push(this.sectionService.getShownSectionErrors(this.submissionId,this.sectionId,this.sectionType).subscribe(errors=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.hj)(errors)?errors.forEach(errorItem=>{(0,_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_6__.A)(errorItem.path).forEach(error=>{error.fieldId?this.allSectionErrors.push(errorItem.message):this.genericSectionErrors=lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default()(this.genericSectionErrors.concat(errorItem.message))})}):this.resetErrors()}),this.submissionService.getActiveSectionId(this.submissionId).subscribe(activeSectionId=>{const previousActive=this.active;this.active=activeSectionId===this.sectionId,previousActive!==this.active&&(this.changeDetectorRef.detectChanges(),!this.active&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.Pe)(activeSectionId)&&this.submissionService.dispatchSave(this.submissionId))})),this.enabled=this.sectionService.isSectionEnabled(this.submissionId,this.sectionId)}ngOnDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}sectionChange(event){this.sectionState=event.nextState}isOpen(){return this.sectionState}isMandatory(){return this.mandatory}isSectionActive(){return this.active}isEnabled(){return this.enabled}isValid(){return this.valid}removeSection(submissionId,sectionId){this.sectionService.removeSection(submissionId,sectionId)}hasGenericErrors(){return this.genericSectionErrors&&this.genericSectionErrors.length>0}hasErrors(){return this.genericSectionErrors&&this.genericSectionErrors.length>0||this.allSectionErrors&&this.allSectionErrors.length>0}getErrors(){return this.genericSectionErrors}setFocus(event){this.active||this.submissionService.setActiveSection(this.submissionId,this.sectionId)}isInfo(){return this.sectionService.getIsInformational(this.sectionType)}removeError(index){this.genericSectionErrors.splice(index)}resetErrors(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.hj)(this.genericSectionErrors)&&this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionId),this.genericSectionErrors=[],this.allSectionErrors=[]}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SectionsDirective2)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_7__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_submission_service__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_sections_service__WEBPACK_IMPORTED_MODULE_2__.c))}}static{this.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_7__.FsC({type:SectionsDirective2,selectors:[["","dsSection",""]],inputs:{mandatory:"mandatory",sectionId:"sectionId",sectionType:"sectionType",submissionId:"submissionId"},exportAs:["sectionRef"],standalone:!0})}}return SectionsDirective2})()},13005:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>SubmissionSectionUploadAccessConditionsComponent});var _core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11481),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14557),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2794),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376);function SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"span",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.E5c(" ",accessCondition_r1.name," ",accessCondition_r1.startDate," ",accessCondition_r1.endDate," ")}}function SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"span",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lme("",accessCondition_r1.name," from ",accessCondition_r1.endDate,"")}}function SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lme("",accessCondition_r1.name," until ",accessCondition_r1.startDate,"")}}function SubmissionSectionUploadAccessConditionsComponent_For_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_0_Template,2,3,"span",0)(1,SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_1_Template,2,2,"span",0)(2,SubmissionSectionUploadAccessConditionsComponent_For_1_Conditional_2_Template,2,2,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(3,"br")),2&rf){const accessCondition_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM("DEFAULT_BITSTREAM_READ"===accessCondition_r1.action?0:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM("lease"===accessCondition_r1.name?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM("embargo"===accessCondition_r1.name?2:-1)}}let SubmissionSectionUploadAccessConditionsComponent=(()=>{class SubmissionSectionUploadAccessConditionsComponent2{constructor(dsoNameService,groupService){this.dsoNameService=dsoNameService,this.groupService=groupService,this.accessConditionsList=[]}ngOnInit(){this.accessConditions.forEach(accessCondition=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.Im)(accessCondition.name)?this.groupService.findByHref(accessCondition._links.group.href).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)()).subscribe(rd=>{if(rd.hasSucceeded){const group=rd.payload,accessConditionEntry=Object.assign({},accessCondition);accessConditionEntry.name=this.dsoNameService.getName(group),this.accessConditionsList.push(accessConditionEntry)}}):this.accessConditionsList.push(accessCondition)})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionUploadAccessConditionsComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_1__.GroupDataService))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:SubmissionSectionUploadAccessConditionsComponent2,selectors:[["ds-submission-section-upload-access-conditions"]],inputs:{accessConditions:"accessConditions"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:2,vars:0,consts:[[1,"badge","bg-primary","mt-3","me-2"],[1,"badge","bg-dark","mt-3","me-2"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Z7z(0,SubmissionSectionUploadAccessConditionsComponent_For_1_Template,4,3,"br",null,_angular_core__WEBPACK_IMPORTED_MODULE_3__.fX1),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Dyx(ctx.accessConditionsList)},encapsulation:2})}}return SubmissionSectionUploadAccessConditionsComponent2})()},80016:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionSectionUploadFileComponent:()=>SubmissionSectionUploadFileComponent});var common=__webpack_require__(87514),ngx_translate_core=__webpack_require__(2385),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),json_patch_operation_path_combiner=(__webpack_require__(14607),__webpack_require__(6816)),json_patch_operations_builder=__webpack_require__(71771),bitstream_model=__webpack_require__(51419),submission_json_patch_operations_service=__webpack_require__(53921),btn_disabled_directive=__webpack_require__(69919),empty_util=__webpack_require__(2794),themed_file_download_link_component=__webpack_require__(85091),form_service=__webpack_require__(83148),submission_service=__webpack_require__(78953),section_upload_service=__webpack_require__(19923),core=__webpack_require__(19519),custom_switch_model=__webpack_require__(33799),date_util=__webpack_require__(13651),form_builder_service=__webpack_require__(84697),form_component=__webpack_require__(27790);const BITSTREAM_METADATA_FORM_GROUP_CONFIG={id:"metadata",group:[]},BITSTREAM_METADATA_FORM_GROUP_LAYOUT={element:{container:"mb-3",label:"col-form-label"},grid:{label:"col-sm-3"}},BITSTREAM_ACCESS_CONDITION_GROUP_CONFIG={id:"accessConditionGroup",group:[]},BITSTREAM_ACCESS_CONDITION_GROUP_LAYOUT={element:{host:"mb-3 access-condition-group col",container:"ps-1 pe-1",control:"row "}},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_CONFIG={id:"accessConditions",groupFactory:null},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT={grid:{group:"row pt-4"}},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_CONFIG={id:"name",label:"submission.sections.upload.form.access-condition-label",hint:"submission.sections.upload.form.access-condition-hint",options:[]},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_LAYOUT={element:{host:"col-12",label:"col-form-label name-label"}},BITSTREAM_FORM_PRIMARY_LAYOUT={element:{host:"col-12",container:"text-right"}},BITSTREAM_FORM_PRIMARY={id:"primary",name:"primary",label:"bitstream.edit.form.primaryBitstream.label"},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_CONFIG={id:"startDate",label:"submission.sections.upload.form.from-label",hint:"submission.sections.upload.form.from-hint",placeholder:"submission.sections.upload.form.from-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:core.AjF,operator:core.fXj,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.upload.form.date-required-from"}},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_CONFIG={id:"endDate",label:"submission.sections.upload.form.until-label",hint:"submission.sections.upload.form.until-hint",placeholder:"submission.sections.upload.form.until-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:core.AjF,operator:core.fXj,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.upload.form.date-required-until"}},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}};var fesm2022_core=__webpack_require__(25376),ng_bootstrap=__webpack_require__(87969);const _c0=["formRef"];function SubmissionSectionUploadFileEditComponent_Conditional_7_Template(rf,ctx){if(1&rf){const _r1=fesm2022_core.RV6();fesm2022_core.j41(0,"ds-form",6,0),fesm2022_core.bIt("submitForm",function(){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.onSubmit())})("cancel",function(){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.onModalClose())})("dfChange",function($event){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.onChange($event))}),fesm2022_core.k0s()}if(2&rf){const ctx_r1=fesm2022_core.XpG();fesm2022_core.Y8G("formId",ctx_r1.formId)("formModel",ctx_r1.formModel)("displaySubmit",!ctx_r1.isSaving)("displayCancel",!ctx_r1.isSaving)}}let SubmissionSectionUploadFileEditComponent=(()=>{class SubmissionSectionUploadFileEditComponent2{constructor(activeModal,cdr,formBuilderService,formService,submissionService,operationsBuilder,operationsService,uploadService){this.activeModal=activeModal,this.cdr=cdr,this.formBuilderService=formBuilderService,this.formService=formService,this.submissionService=submissionService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.uploadService=uploadService,this.formMetadata=[],this.isSaving=!1,this.subscriptions=[]}initModelData(formModel){this.formBuilderService.findById("primary",formModel,this.fileIndex).value=this.isPrimary||!1,this.fileData.accessConditions.forEach((accessCondition,index)=>{Array.of("name","startDate","endDate").filter(key=>accessCondition.hasOwnProperty(key)&&(0,empty_util.hj)(accessCondition[key])).forEach(key=>{const metadataModel=this.formBuilderService.findById(key,formModel,index);if(metadataModel)if(metadataModel.type===core.fQD){const date=new Date(accessCondition[key]);metadataModel.value={year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate()}}else metadataModel.value=accessCondition[key]})})}onChange(event){"name"===event.model.id&&this.setOptions(event.model,event.control)}onModalClose(){this.activeModal.dismiss()}onSubmit(){this.isSaving=!0,this.saveBitstreamData()}setOptions(model,control){let accessCondition=null;if(this.availableAccessConditionOptions.filter(element=>element.name===control.value).forEach(element=>accessCondition=element),(0,empty_util.hj)(accessCondition)){const startDateControl=control.parent.get("startDate"),endDateControl=control.parent.get("endDate");startDateControl?.markAsUntouched(),endDateControl?.markAsUntouched(),startDateControl?.setValue(null),control.parent.markAsDirty(),endDateControl?.setValue(null)}}ngOnInit(){this.fileData&&this.formId&&(this.formModel=this.buildFileEditForm(),this.cdr.detectChanges())}ngOnDestroy(){this.unsubscribeAll()}retrieveValueFromField(field){const temp=Array.isArray(field)?field[0]:field;return temp?temp.value:void 0}buildFileEditForm(){const configDescr=Object.assign({},this.configMetadataForm.rows[0].fields[0]);configDescr.repeatable=!1;const configForm=Object.assign({},this.configMetadataForm,{fields:Object.assign([],this.configMetadataForm.rows[0].fields[0],[this.configMetadataForm.rows[0].fields[0],configDescr])}),formModel=[];formModel.push(new custom_switch_model.i(BITSTREAM_FORM_PRIMARY,BITSTREAM_FORM_PRIMARY_LAYOUT));const metadataGroupModelConfig=Object.assign({},BITSTREAM_METADATA_FORM_GROUP_CONFIG);metadataGroupModelConfig.group=this.formBuilderService.modelFromConfiguration(this.submissionId,configForm,this.collectionId,this.fileData.metadata,this.submissionService.getSubmissionScope()),formModel.push(new core.iO5(metadataGroupModelConfig,BITSTREAM_METADATA_FORM_GROUP_LAYOUT));const accessConditionTypeModelConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_CONFIG),accessConditionsArrayConfig=Object.assign({},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_CONFIG),accessConditionTypeOptions=[];if(2===this.collectionPolicyType){for(const accessCondition of this.availableAccessConditionOptions)accessConditionTypeOptions.push({label:accessCondition.name,value:accessCondition.name});accessConditionTypeModelConfig.options=accessConditionTypeOptions;const startDateCondition=[],endDateCondition=[];let maxStartDate,maxEndDate;this.availableAccessConditionOptions.forEach(condition=>{if(condition.hasStartDate&&(startDateCondition.push({id:"name",value:condition.name}),condition.maxStartDate)){const min=new Date(condition.maxStartDate);maxStartDate={year:min.getUTCFullYear(),month:min.getUTCMonth()+1,day:min.getUTCDate()}}if(condition.hasEndDate&&(endDateCondition.push({id:"name",value:condition.name}),condition.maxEndDate)){const max=new Date(condition.maxEndDate);maxEndDate={year:max.getUTCFullYear(),month:max.getUTCMonth()+1,day:max.getUTCDate()}}});const confStart={relations:[{match:core.AjF,operator:core.fXj,when:startDateCondition}]},confEnd={relations:[{match:core.AjF,operator:core.fXj,when:endDateCondition}]},hasStartDate=startDateCondition.length>0,hasEndDate=endDateCondition.length>0;accessConditionsArrayConfig.groupFactory=()=>{const type=new core.z4z(accessConditionTypeModelConfig,BITSTREAM_FORM_ACCESS_CONDITION_TYPE_LAYOUT),startDateConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_CONFIG,confStart);maxStartDate&&(startDateConfig.max=maxStartDate);const endDateConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_CONFIG,confEnd);maxEndDate&&(endDateConfig.max=maxEndDate);const startDate=new core.dku(startDateConfig,BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_LAYOUT),endDate=new core.dku(endDateConfig,BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_LAYOUT),accessConditionGroupConfig=Object.assign({},BITSTREAM_ACCESS_CONDITION_GROUP_CONFIG);return accessConditionGroupConfig.group=[type],hasStartDate&&accessConditionGroupConfig.group.push(startDate),hasEndDate&&accessConditionGroupConfig.group.push(endDate),[new core.iO5(accessConditionGroupConfig,BITSTREAM_ACCESS_CONDITION_GROUP_LAYOUT)]},accessConditionsArrayConfig.initialCount=(0,empty_util.hj)(this.fileData.accessConditions)?this.fileData.accessConditions.length:1,formModel.push(new core.UqU(accessConditionsArrayConfig,BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT))}return this.initModelData(formModel),formModel}saveBitstreamData(){const pathFragment=["files",this.fileIndex];this.formService.validateAllFormFields(this.formRef.formGroup);const saveBitstreamDataSubscription=this.formService.isValid(this.formId).pipe((0,operators.s)(1),(0,operators.pb)(isValid=>isValid),(0,operators.ZZ)(()=>this.formService.getFormData(this.formId)),(0,operators.s)(1),(0,operators.ZZ)(formData=>{this.uploadService.updatePrimaryBitstreamOperation(this.pathCombiner.getPath("primary"),this.isPrimary,formData.primary[0],this.fileId),Object.keys(formData.metadata).filter(key=>(0,empty_util.hj)(formData.metadata[key])).forEach(key=>{const path=`metadata/${key.replace(/_/g,".")}`;this.operationsBuilder.add(this.pathCombiner.getPath([...pathFragment,path]),formData.metadata[key],!0)}),Object.keys(this.fileData.metadata).filter(key=>(0,empty_util.hj)(this.fileData.metadata[key])).filter(key=>(0,empty_util.Tn)(formData.metadata[key])).filter(key=>this.formMetadata.includes(key)).forEach(key=>{const path=`metadata/${key.replace(/_/g,".")}`;this.operationsBuilder.remove(this.pathCombiner.getPath([...pathFragment,path]))});const accessConditionsToSave=[];return formData.hasOwnProperty("accessConditions")&&formData.accessConditions.filter(accessConditions=>(0,empty_util.Pe)(accessConditions)).map(accessConditions=>accessConditions.accessConditionGroup).filter(accessCondition=>(0,empty_util.hj)(accessCondition)).forEach(accessCondition=>{let accessConditionOpt;if(this.availableAccessConditionOptions.filter(element=>(0,empty_util.Pe)(accessCondition.name)&&element.name===accessCondition.name[0].value).forEach(element=>accessConditionOpt=element),accessConditionOpt){const currentAccessCondition=Object.assign({},accessCondition);if(currentAccessCondition.name=this.retrieveValueFromField(accessCondition.name),accessConditionOpt.hasStartDate){if(accessCondition.startDate){const startDate=this.retrieveValueFromField(accessCondition.startDate);let startDateDate=new Date(startDate);if(accessConditionOpt.maxStartDate){const maxStartDateDate=new Date(accessConditionOpt.maxStartDate);startDateDate>maxStartDateDate&&(startDateDate=maxStartDateDate)}currentAccessCondition.startDate=(0,date_util.Sd)(startDateDate)}}else delete currentAccessCondition.startDate;if(accessConditionOpt.hasEndDate){if(accessCondition.endDate){const endDate=this.retrieveValueFromField(accessCondition.endDate);let endDateDate=new Date(endDate);if(accessConditionOpt.maxEndDate){const maxEndDateDate=new Date(accessConditionOpt.maxEndDate);endDateDate>maxEndDateDate&&(endDateDate=maxEndDateDate)}currentAccessCondition.endDate=(0,date_util.Sd)(endDateDate)}}else delete currentAccessCondition.endDate;accessConditionsToSave.push(currentAccessCondition)}}),(0,empty_util.hj)(accessConditionsToSave)&&this.operationsBuilder.add(this.pathCombiner.getPath([...pathFragment,"accessConditions"]),accessConditionsToSave,!0),this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,this.pathCombiner.rootElement,this.pathCombiner.subRootElement)})).subscribe(result=>{const section=result[0].sections[this.sectionId];if(!section)return;const uploadSection=section;this.uploadService.updateFilePrimaryBitstream(this.submissionId,this.sectionId,uploadSection.primary),Object.keys(uploadSection.files).filter(key=>uploadSection.files[key].uuid===this.fileId).forEach(key=>this.uploadService.updateFileData(this.submissionId,this.sectionId,this.fileId,uploadSection.files[key])),this.isSaving=!1,this.activeModal.close()});this.subscriptions.push(saveBitstreamDataSubscription)}unsubscribeAll(){this.subscriptions.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionUploadFileEditComponent2)(fesm2022_core.rXU(ng_bootstrap.Lw),fesm2022_core.rXU(fesm2022_core.gRc),fesm2022_core.rXU(form_builder_service.j),fesm2022_core.rXU(form_service.u),fesm2022_core.rXU(submission_service.E),fesm2022_core.rXU(json_patch_operations_builder.C),fesm2022_core.rXU(submission_json_patch_operations_service.U),fesm2022_core.rXU(section_upload_service.i))}}static{this.\u0275cmp=fesm2022_core.VBU({type:SubmissionSectionUploadFileEditComponent2,selectors:[["ds-submission-section-upload-file-edit"]],viewQuery:function(rf,ctx){if(1&rf&&fesm2022_core.GBs(_c0,5),2&rf){let _t;fesm2022_core.mGM(_t=fesm2022_core.lsd())&&(ctx.formRef=_t.first)}},standalone:!0,features:[fesm2022_core.aNF],decls:8,vars:5,consts:[["formRef","formComponent"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click","dsBtnDisabled"],[1,"modal-body"],[3,"formId","formModel","displaySubmit","displayCancel"],[3,"submitForm","cancel","dfChange","formId","formModel","displaySubmit","displayCancel"]],template:function(rf,ctx){1&rf&&(fesm2022_core.j41(0,"div")(1,"div",1)(2,"h4",2),fesm2022_core.EFF(3),fesm2022_core.nI1(4,"translate"),fesm2022_core.k0s(),fesm2022_core.j41(5,"button",3),fesm2022_core.bIt("click",function(){return ctx.onModalClose()}),fesm2022_core.k0s()(),fesm2022_core.j41(6,"div",4),fesm2022_core.DNE(7,SubmissionSectionUploadFileEditComponent_Conditional_7_Template,2,4,"ds-form",5),fesm2022_core.k0s()()),2&rf&&(fesm2022_core.R7$(3),fesm2022_core.JRh(fesm2022_core.bMT(4,3,"submission.sections.upload.edit.title")),fesm2022_core.R7$(2),fesm2022_core.Y8G("dsBtnDisabled",ctx.isSaving),fesm2022_core.R7$(2),fesm2022_core.vxM(ctx.formModel?7:-1))},dependencies:[btn_disabled_directive.A,form_component.s,ngx_translate_core.h,ngx_translate_core.D9],styles:[".access-condition-group{position:relative;top:-2.3rem;margin-bottom:-2.3rem}"]})}}return SubmissionSectionUploadFileEditComponent2})();var section_upload_file_view_component=__webpack_require__(6858);const section_upload_file_component_c0=a0=>({fileName:a0});function SubmissionSectionUploadFileComponent_Conditional_0_Conditional_6_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"span",6),fesm2022_core.EFF(1),fesm2022_core.nI1(2,"translate"),fesm2022_core.k0s()),2&rf){const ctx_r1=fesm2022_core.XpG(2);fesm2022_core.R7$(),fesm2022_core.JRh(fesm2022_core.i5U(2,1,"submission.sections.upload.primary.make",fesm2022_core.eq3(4,section_upload_file_component_c0,ctx_r1.fileName)))}}function SubmissionSectionUploadFileComponent_Conditional_0_Conditional_7_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"span",6),fesm2022_core.EFF(1),fesm2022_core.nI1(2,"translate"),fesm2022_core.k0s()),2&rf){const ctx_r1=fesm2022_core.XpG(2);fesm2022_core.R7$(),fesm2022_core.JRh(fesm2022_core.i5U(2,1,"submission.sections.upload.primary.remove",fesm2022_core.eq3(4,section_upload_file_component_c0,ctx_r1.fileName)))}}function SubmissionSectionUploadFileComponent_Conditional_0_Conditional_23_Template(rf,ctx){1&rf&&fesm2022_core.nrm(0,"i",16)}function SubmissionSectionUploadFileComponent_Conditional_0_Conditional_25_Template(rf,ctx){1&rf&&fesm2022_core.nrm(0,"i",17)}function SubmissionSectionUploadFileComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=fesm2022_core.RV6();fesm2022_core.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"input",4),fesm2022_core.nI1(4,"async"),fesm2022_core.bIt("change",function($event){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.togglePrimaryBitstream($event))}),fesm2022_core.k0s(),fesm2022_core.j41(5,"label",5),fesm2022_core.DNE(6,SubmissionSectionUploadFileComponent_Conditional_0_Conditional_6_Template,3,6,"span",6)(7,SubmissionSectionUploadFileComponent_Conditional_0_Conditional_7_Template,3,6,"span",6),fesm2022_core.k0s()()(),fesm2022_core.j41(8,"div",7)(9,"div",8),fesm2022_core.nrm(10,"ds-submission-section-upload-file-view",9),fesm2022_core.k0s(),fesm2022_core.j41(11,"div",10),fesm2022_core.qex(12),fesm2022_core.j41(13,"ds-file-download-link",11),fesm2022_core.nrm(14,"i",12),fesm2022_core.k0s(),fesm2022_core.j41(15,"button",13),fesm2022_core.nI1(16,"translate"),fesm2022_core.nI1(17,"translate"),fesm2022_core.bIt("click",function($event){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG();return $event.preventDefault(),fesm2022_core.Njj(ctx_r1.editBitstreamData())}),fesm2022_core.nrm(18,"i",14),fesm2022_core.k0s(),fesm2022_core.j41(19,"button",15),fesm2022_core.nI1(20,"translate"),fesm2022_core.nI1(21,"async"),fesm2022_core.nI1(22,"translate"),fesm2022_core.bIt("click",function($event){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG(),content_r3=fesm2022_core.sdS(2);return $event.preventDefault(),fesm2022_core.Njj(ctx_r1.confirmDelete(content_r3))}),fesm2022_core.DNE(23,SubmissionSectionUploadFileComponent_Conditional_0_Conditional_23_Template,1,0,"i",16),fesm2022_core.nI1(24,"async"),fesm2022_core.DNE(25,SubmissionSectionUploadFileComponent_Conditional_0_Conditional_25_Template,1,0,"i",17),fesm2022_core.nI1(26,"async"),fesm2022_core.k0s(),fesm2022_core.bVm(),fesm2022_core.k0s(),fesm2022_core.nrm(27,"div",18),fesm2022_core.k0s()()}if(2&rf){const ctx_r1=fesm2022_core.XpG();fesm2022_core.R7$(3),fesm2022_core.Mz_("id","primaryBitstream",ctx_r1.fileIndex,""),fesm2022_core.Y8G("disabled",fesm2022_core.bMT(4,21,ctx_r1.processingSaveStatus$))("checked",ctx_r1.isPrimary),fesm2022_core.R7$(2),fesm2022_core.Mz_("for","primaryBitstream",ctx_r1.fileIndex,""),fesm2022_core.R7$(),fesm2022_core.vxM(ctx_r1.isPrimary?-1:6),fesm2022_core.R7$(),fesm2022_core.vxM(ctx_r1.isPrimary?7:-1),fesm2022_core.R7$(3),fesm2022_core.Y8G("fileData",ctx_r1.fileData),fesm2022_core.R7$(3),fesm2022_core.Y8G("cssClasses","btn btn-link-focus")("isBlank",!0)("bitstream",ctx_r1.getBitstream())("enableRequestACopy",!1)("showAccessStatusBadge",!1),fesm2022_core.R7$(2),fesm2022_core.FS9("title",fesm2022_core.bMT(16,23,"submission.sections.upload.edit.title")),fesm2022_core.BMQ("aria-label",fesm2022_core.bMT(17,25,"submission.sections.upload.edit.title")),fesm2022_core.R7$(4),fesm2022_core.FS9("title",fesm2022_core.bMT(20,27,"submission.sections.upload.delete.confirm.title")),fesm2022_core.Y8G("dsBtnDisabled",fesm2022_core.bMT(21,29,ctx_r1.processingDelete$)),fesm2022_core.BMQ("aria-label",fesm2022_core.bMT(22,31,"submission.sections.upload.delete.confirm.title")),fesm2022_core.R7$(4),fesm2022_core.vxM(fesm2022_core.bMT(24,33,ctx_r1.processingDelete$)?23:-1),fesm2022_core.R7$(2),fesm2022_core.vxM(!0!==fesm2022_core.bMT(26,35,ctx_r1.processingDelete$)?25:-1)}}function SubmissionSectionUploadFileComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r4=fesm2022_core.RV6();fesm2022_core.j41(0,"div",19)(1,"h4",20),fesm2022_core.EFF(2),fesm2022_core.nI1(3,"translate"),fesm2022_core.k0s(),fesm2022_core.j41(4,"button",21),fesm2022_core.bIt("click",function(){const d_r5=fesm2022_core.eBV(_r4).dismiss;return fesm2022_core.Njj(d_r5("cancel"))}),fesm2022_core.k0s()(),fesm2022_core.j41(5,"div",22)(6,"p"),fesm2022_core.EFF(7),fesm2022_core.nI1(8,"translate"),fesm2022_core.k0s()(),fesm2022_core.j41(9,"div",23)(10,"button",24),fesm2022_core.bIt("click",function(){const c_r6=fesm2022_core.eBV(_r4).close;return fesm2022_core.Njj(c_r6("cancel"))}),fesm2022_core.EFF(11),fesm2022_core.nI1(12,"translate"),fesm2022_core.k0s(),fesm2022_core.j41(13,"button",25),fesm2022_core.bIt("click",function(){const c_r6=fesm2022_core.eBV(_r4).close;return fesm2022_core.Njj(c_r6("ok"))}),fesm2022_core.EFF(14),fesm2022_core.nI1(15,"translate"),fesm2022_core.k0s()()}2&rf&&(fesm2022_core.R7$(2),fesm2022_core.JRh(fesm2022_core.bMT(3,4,"submission.sections.upload.delete.confirm.title")),fesm2022_core.R7$(5),fesm2022_core.JRh(fesm2022_core.bMT(8,6,"submission.sections.upload.delete.confirm.info")),fesm2022_core.R7$(4),fesm2022_core.JRh(fesm2022_core.bMT(12,8,"submission.sections.upload.delete.confirm.cancel")),fesm2022_core.R7$(3),fesm2022_core.JRh(fesm2022_core.bMT(15,10,"submission.sections.upload.delete.confirm.submit")))}let SubmissionSectionUploadFileComponent=(()=>{class SubmissionSectionUploadFileComponent2{constructor(formService,modalService,operationsBuilder,operationsService,submissionService,uploadService){this.formService=formService,this.modalService=modalService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.submissionService=submissionService,this.uploadService=uploadService,this.processingDelete$=new cjs.BehaviorSubject(!1),this.subscriptions=[],this.formMetadata=[],this.readMode=!0}ngOnChanges(changes){this.availableAccessConditionOptions&&this.subscriptions.push(this.uploadService.getFileData(this.submissionId,this.sectionId,this.fileId).pipe((0,operators.pb)(bitstream=>(0,empty_util.EA)(bitstream))).subscribe(bitstream=>{this.fileData=bitstream}))}ngOnInit(){this.formId=this.formService.getUniqueId(this.fileId),this.processingSaveStatus$=this.submissionService.getSubmissionSaveProcessingStatus(this.submissionId),this.pathCombiner=new json_patch_operation_path_combiner.S("sections",this.sectionId),this.loadFormMetadata()}confirmDelete(content){this.modalService.open(content).result.then(result=>{"ok"===result&&(this.processingDelete$.next(!0),this.deleteFile())})}getBitstream(){return Object.assign(new bitstream_model._,{uuid:this.fileData.uuid})}editBitstreamData(){const activeModal=this.modalService.open(SubmissionSectionUploadFileEditComponent,{size:"xl",backdrop:"static"});activeModal.componentInstance.availableAccessConditionOptions=this.availableAccessConditionOptions,activeModal.componentInstance.collectionId=this.collectionId,activeModal.componentInstance.collectionPolicyType=this.collectionPolicyType,activeModal.componentInstance.configMetadataForm=this.configMetadataForm,activeModal.componentInstance.fileData=this.fileData,activeModal.componentInstance.fileId=this.fileId,activeModal.componentInstance.fileIndex=this.fileIndex,activeModal.componentInstance.formId=this.formId,activeModal.componentInstance.sectionId=this.sectionId,activeModal.componentInstance.formMetadata=this.formMetadata,activeModal.componentInstance.pathCombiner=this.pathCombiner,activeModal.componentInstance.submissionId=this.submissionId,activeModal.componentInstance.isPrimary=this.isPrimary}togglePrimaryBitstream(event){this.uploadService.updatePrimaryBitstreamOperation(this.pathCombiner.getPath("primary"),this.isPrimary,event.target.checked,this.fileId),this.submissionService.dispatchSaveSection(this.submissionId,this.sectionId)}ngOnDestroy(){this.unsubscribeAll()}unsubscribeAll(){this.subscriptions.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}loadFormMetadata(){this.configMetadataForm.rows.forEach(row=>{row.fields.forEach(field=>{field.selectableMetadata.forEach(metadatum=>{this.formMetadata.push(metadatum.metadata)})})})}deleteFile(){this.operationsBuilder.remove(this.pathCombiner.getPath(["files",this.fileIndex])),this.isPrimary&&this.operationsBuilder.remove(this.pathCombiner.getPath("primary")),this.subscriptions.push(this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,this.pathCombiner.rootElement,this.pathCombiner.subRootElement).subscribe(()=>{this.isPrimary&&this.uploadService.updateFilePrimaryBitstream(this.submissionId,this.sectionId,null),this.uploadService.removeUploadedFile(this.submissionId,this.sectionId,this.fileId),this.processingDelete$.next(!1)}))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionUploadFileComponent2)(fesm2022_core.rXU(form_service.u),fesm2022_core.rXU(ng_bootstrap.Bq),fesm2022_core.rXU(json_patch_operations_builder.C),fesm2022_core.rXU(submission_json_patch_operations_service.U),fesm2022_core.rXU(submission_service.E),fesm2022_core.rXU(section_upload_service.i))}}static{this.\u0275cmp=fesm2022_core.VBU({type:SubmissionSectionUploadFileComponent2,selectors:[["ds-base-submission-upload-section-file"]],viewQuery:function(rf,ctx){if(1&rf&&fesm2022_core.GBs(SubmissionSectionUploadFileEditComponent,5),2&rf){let _t;fesm2022_core.mGM(_t=fesm2022_core.lsd())&&(ctx.fileEditComp=_t.first)}},inputs:{isPrimary:"isPrimary",availableAccessConditionOptions:"availableAccessConditionOptions",collectionId:"collectionId",collectionPolicyType:"collectionPolicyType",configMetadataForm:"configMetadataForm",fileId:"fileId",fileIndex:"fileIndex",fileName:"fileName",sectionId:"sectionId",submissionId:"submissionId"},standalone:!0,features:[fesm2022_core.OA$,fesm2022_core.aNF],decls:3,vars:1,consts:[["content",""],[1,"row"],[1,"col-md-2","d-flex","justify-content-center","align-items-center"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"change","id","disabled","checked"],[1,"form-check-label",3,"for"],[1,"sr-only"],[1,"col-md-10"],[1,"float-start","w-75"],[3,"fileData"],[1,"float-end","w-15"],[3,"cssClasses","isBlank","bitstream","enableRequestACopy","showAccessStatusBadge"],["aria-hidden","true",1,"fa","fa-download","fa-2x","text-normal"],[1,"btn","btn-link-focus",3,"click","title"],[1,"fa","fa-edit","fa-2x","text-normal"],[1,"btn","btn-link-focus",3,"click","title","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin","fa-2x","link-danger"],[1,"fa","fa-trash","fa-2x","link-danger"],[1,"clearfix"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(rf,ctx){1&rf&&fesm2022_core.DNE(0,SubmissionSectionUploadFileComponent_Conditional_0_Template,28,37,"div",1)(1,SubmissionSectionUploadFileComponent_ng_template_1_Template,16,12,"ng-template",null,0,fesm2022_core.C5r),2&rf&&fesm2022_core.vxM(ctx.fileData?0:-1)},dependencies:[common.Jj,btn_disabled_directive.A,section_upload_file_view_component.h,themed_file_download_link_component.z,ngx_translate_core.h,ngx_translate_core.D9]})}}return SubmissionSectionUploadFileComponent2})()},6858:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>SubmissionSectionUploadFileViewComponent});var ngx_translate_core=__webpack_require__(2385),metadata_utils=__webpack_require__(28121),empty_util=__webpack_require__(2794),file_size_pipe=__webpack_require__(41279),core=__webpack_require__(25376);let TruncatePipe=(()=>{class TruncatePipe2{transform(value,args){if((0,empty_util.a4)(value)){const limit=args&&args.length>0?parseInt(args[0],10):10;return value.length>limit?value.substring(0,limit)+"...":value}return value}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||TruncatePipe2)}}static{this.\u0275pipe=core.EJ8({name:"dsTruncate",type:TruncatePipe2,pure:!0,standalone:!0})}}return TruncatePipe2})();var submission_section_upload_access_conditions_component=__webpack_require__(13005);const _c0=()=>["150"],_c1=a0=>({format:a0});function SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"h3"),core.EFF(1),core.j41(2,"span",3),core.EFF(3),core.nI1(4,"dsFileSize"),core.k0s()()),2&rf){const entry_r1=core.XpG().$implicit,ctx_r1=core.XpG(2);core.R7$(),core.SpI(" ",entry_r1.value," "),core.R7$(2),core.SpI("(",core.bMT(4,2,null==ctx_r1.fileData?null:ctx_r1.fileData.sizeBytes),")")}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"h5")(1,"span",3),core.EFF(2),core.nI1(3,"translate"),core.k0s()()),2&rf){const ctx_r1=core.XpG(4);core.R7$(2),core.Lme("",core.bMT(3,2,"submission.sections.upload.no-entry")," ",ctx_r1.fileTitleKey,"")}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_1_Template(rf,ctx){if(1&rf&&core.DNE(0,SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_1_Conditional_0_Template,4,4,"h5"),2&rf){const entry_r1=core.XpG().$implicit,ctx_r1=core.XpG(2);core.vxM(0===ctx_r1.metadata[ctx_r1.fileTitleKey].indexOf(entry_r1)?0:-1)}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Template(rf,ctx){if(1&rf&&(core.DNE(0,SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_0_Template,5,4,"h3")(1,SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Conditional_1_Template,1,1),core.nrm(2,"span",1)),2&rf){const entry_r1=ctx.$implicit;core.vxM(""!==entry_r1.value?0:-1),core.R7$(),core.vxM(""===entry_r1.value?1:-1)}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_0_Template(rf,ctx){if(1&rf&&(core.EFF(0),core.nI1(1,"dsTruncate")),2&rf){const entry_r3=core.XpG().$implicit;core.SpI(" ",core.i5U(1,1,entry_r3.value,core.lJ4(4,_c0))," ")}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"span",3),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r1=core.XpG(4);core.R7$(),core.Lme("",core.bMT(2,2,"submission.sections.upload.no-entry")," ",ctx_r1.fileDescrKey,"")}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_1_Template(rf,ctx){if(1&rf&&core.DNE(0,SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_1_Conditional_0_Template,3,4,"span",3),2&rf){const entry_r3=core.XpG().$implicit,ctx_r1=core.XpG(2);core.vxM(0===ctx_r1.metadata[ctx_r1.fileDescrKey].indexOf(entry_r3)?0:-1)}}function SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Template(rf,ctx){if(1&rf&&(core.DNE(0,SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_0_Template,2,5)(1,SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Conditional_1_Template,1,1),core.nrm(2,"span",1)),2&rf){const entry_r3=ctx.$implicit;core.vxM(""!==entry_r3.value?0:-1),core.R7$(),core.vxM(""===entry_r3.value?1:-1)}}function SubmissionSectionUploadFileViewComponent_Conditional_1_Template(rf,ctx){if(1&rf&&(core.Z7z(0,SubmissionSectionUploadFileViewComponent_Conditional_1_For_1_Template,3,2,"span",1,core.fX1),core.Z7z(2,SubmissionSectionUploadFileViewComponent_Conditional_1_For_3_Template,3,2,"span",1,core.fX1)),2&rf){const ctx_r1=core.XpG();core.Dyx(ctx_r1.getAllMetadataValue(ctx_r1.fileTitleKey)),core.R7$(2),core.Dyx(ctx_r1.getAllMetadataValue(ctx_r1.fileDescrKey))}}function SubmissionSectionUploadFileViewComponent_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",0),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r1=core.XpG();core.R7$(),core.SpI(" ",core.i5U(2,1,"admin.registries.bitstream-formats.edit.head",core.eq3(4,_c1,ctx_r1.fileFormat))," ")}}function SubmissionSectionUploadFileViewComponent_Conditional_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",0),core.EFF(1),core.k0s()),2&rf){const ctx_r1=core.XpG();core.R7$(),core.Lme(" Checksum ",ctx_r1.fileCheckSum.checkSumAlgorithm,": ",ctx_r1.fileCheckSum.value," ")}}let SubmissionSectionUploadFileViewComponent=(()=>{class SubmissionSectionUploadFileViewComponent2{constructor(){this.metadata=Object.create({}),this.fileTitleKey="Title",this.fileDescrKey="Description"}ngOnInit(){(0,empty_util.hj)(this.fileData.metadata)&&(this.metadata[this.fileTitleKey]=metadata_utils.O.all(this.fileData.metadata,"dc.title"),this.metadata[this.fileDescrKey]=metadata_utils.O.all(this.fileData.metadata,"dc.description")),this.fileCheckSum=this.fileData.checkSum,this.fileFormat=this.fileData.format.shortDescription}getAllMetadataValue(metadataKey){return metadata_utils.O.all(this.metadata,metadataKey)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SubmissionSectionUploadFileViewComponent2)}}static{this.\u0275cmp=core.VBU({type:SubmissionSectionUploadFileViewComponent2,selectors:[["ds-submission-section-upload-file-view"]],inputs:{fileData:"fileData"},standalone:!0,features:[core.aNF],decls:6,vars:4,consts:[[1,"mt-1"],[1,"clearfix"],[3,"accessConditions"],[1,"text-muted"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div"),core.DNE(1,SubmissionSectionUploadFileViewComponent_Conditional_1_Template,4,0)(2,SubmissionSectionUploadFileViewComponent_Conditional_2_Template,3,6,"div",0)(3,SubmissionSectionUploadFileViewComponent_Conditional_3_Template,2,2,"div",0),core.nrm(4,"span",1)(5,"ds-submission-section-upload-access-conditions",2),core.k0s()),2&rf&&(core.R7$(),core.vxM(ctx.metadata?1:-1),core.R7$(),core.vxM(ctx.fileFormat?2:-1),core.R7$(),core.vxM(ctx.fileCheckSum?3:-1),core.R7$(2),core.Y8G("accessConditions",ctx.fileData.accessConditions))},dependencies:[file_size_pipe.s,submission_section_upload_access_conditions_component._,ngx_translate_core.h,ngx_translate_core.D9,TruncatePipe],encapsulation:2})}}return SubmissionSectionUploadFileViewComponent2})()},19923:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>SectionUploadService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(60444),src_app_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(71771),_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2794),_objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28373),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64808),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376),_ngrx_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22609);let SectionUploadService=(()=>{class SectionUploadService2{constructor(store,operationsBuilder){this.store=store,this.operationsBuilder=operationsBuilder}updatePrimaryBitstreamOperation(path,intitialPrimary,primary,fileId){if(null===intitialPrimary&&primary)this.operationsBuilder.add(path,fileId,!1,!0);else if(intitialPrimary!==primary){if(primary)return void this.operationsBuilder.replace(path,fileId,!0);this.operationsBuilder.remove(path)}}getUploadedFilesData(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_2__.on)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(state=>state),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.F)())}getUploadedFileList(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_2__.Uh)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(state=>state),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.F)())}getFileData(submissionId,sectionId,fileUUID){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_2__.Uh)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.pb)(state=>!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.b0)(state)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(state=>{let fileState;return Object.keys(state).filter(key=>state[key].uuid===fileUUID).forEach(key=>fileState=state[key]),fileState}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.F)())}getDefaultPolicies(submissionId,sectionId,fileUUID){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_2__.hi)(submissionId,sectionId,fileUUID)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(state=>state),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.F)())}addUploadedFile(submissionId,sectionId,fileUUID,data){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_1__.Bo(submissionId,sectionId,fileUUID,data))}updateFilePrimaryBitstream(submissionId,sectionId,fileUUID){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_1__.w7(submissionId,sectionId,fileUUID))}updateFileData(submissionId,sectionId,fileUUID,data){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_1__.nt(submissionId,sectionId,fileUUID,data))}removeUploadedFile(submissionId,sectionId,fileUUID){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_1__.IE(submissionId,sectionId,fileUUID))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SectionUploadService2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_6__.il),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KVO(src_app_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_0__.C))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.jDH({token:SectionUploadService2,factory:SectionUploadService2.\u0275fac,providedIn:"root"})}}return SectionUploadService2})()},16802:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WorkspaceItemsDeletePageComponent:()=>WorkspaceItemsDeletePageComponent});var E_Projeto_DSpsace_JoaoXXI_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74523),_angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9238),_core_services_route_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87964),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39022),_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96148),_item_page_edit_item_page_modify_item_overview_modify_item_overview_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6324),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76623),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(18134),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87969);function WorkspaceItemsDeletePageComponent_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(0,"ds-modify-item-overview",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(1,"async")),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("item",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(1,1,ctx_r1.dso$))}}function WorkspaceItemsDeletePageComponent_ng_template_12_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",6)(1,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(4,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){const d_r5=_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r4).dismiss;return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(d_r5("cancel"))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(5,"div",9)(6,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(9,"div",10)(10,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){const c_r6=_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r4).close;return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(c_r6("cancel"))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(13,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){const c_r6=_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r4).close;return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(c_r6("ok"))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(3,4,"workspace-item.delete.header")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(8,6,"submission.general.discard.confirm.info")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(12,8,"submission.general.discard.confirm.cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(15,10,"submission.general.discard.confirm.submit")))}let WorkspaceItemsDeletePageComponent=(()=>{class WorkspaceItemsDeletePageComponent2{constructor(activatedRoute,router,routeService,workspaceItemService,notificationsService,translationService,location,modalService){this.activatedRoute=activatedRoute,this.router=router,this.routeService=routeService,this.workspaceItemService=workspaceItemService,this.notificationsService=notificationsService,this.translationService=translationService,this.location=location,this.modalService=modalService}ngOnInit(){this.wsi$=this.activatedRoute.data.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.map)(data=>data.wsi),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Bo)()),this.dso$=this.activatedRoute.data.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.map)(data=>data.dso),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Bo)()),this.previousQueryParameters=this.location.getState().previousQueryParams}previousPage(){this.routeService.getPreviousUrl().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.take)(1)).subscribe(url=>{let params={};if(url||(url="/mydspace",params=this.previousQueryParameters),url.split("?").length>1)for(const param of url.split("?")[1].split("&"))params[param.split("=")[0]]=decodeURIComponent(param.split("=")[1]);this.router.navigate([url.split("?")[0]],{queryParams:params})})}confirmDelete(content){var _this=this;return(0,E_Projeto_DSpsace_JoaoXXI_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.A)(function*(){yield _this.modalService.open(content).result.then(result=>{"ok"===result&&_this.sendDeleteRequest()})})()}sendDeleteRequest(){this.wsi$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.switchMap)(wsi=>this.workspaceItemService.delete(wsi.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)()))).subscribe(response=>{if(response.hasSucceeded){const title=this.translationService.get("workspace-item.delete.notification.success.title"),content=this.translationService.get("workspace-item.delete.title");this.notificationsService.success(title,content),this.previousPage()}else{const title=this.translationService.get("workspace-item.delete.notification.error.title"),content=this.translationService.get("workspace-item.delete.notification.error.content");this.notificationsService.error(title,content)}})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||WorkspaceItemsDeletePageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_8__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_8__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_core_services_route_service__WEBPACK_IMPORTED_MODULE_0__.v$),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_2__.WorkspaceitemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__.I),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_angular_common__WEBPACK_IMPORTED_MODULE_10__.aZ),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__.Bq))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.VBU({type:WorkspaceItemsDeletePageComponent2,selectors:[["ds-base-workspaceitems-delete-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.aNF],decls:14,vars:12,consts:[["content",""],[1,"container"],[3,"item"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],["id","delete-modal"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",1)(1,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(4,WorkspaceItemsDeletePageComponent_Conditional_4_Template,2,3,"ds-modify-item-overview",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.previousPage())}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(9,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1);const content_r3=_angular_core__WEBPACK_IMPORTED_MODULE_5__.sdS(13);return $event.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.confirmDelete(content_r3))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(12,WorkspaceItemsDeletePageComponent_ng_template_12_Template,16,12,"ng-template",5,0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.C5r)}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(3,4,"workspace-item.delete.header")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(5,6,ctx.dso$)?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(8,8,"workspace-item.delete.button.cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(11,10,"workspace-item.delete.button.confirm")))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_item_page_edit_item_page_modify_item_overview_modify_item_overview_component__WEBPACK_IMPORTED_MODULE_3__.W,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.D9],styles:["[_nghost-%COMP%]     ds-modify-item-overview table{display:inline-table!important}"]})}}return WorkspaceItemsDeletePageComponent2})()},30228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var authenticated_guard=__webpack_require__(38056),i18n_breadcrumb_resolver=__webpack_require__(12213),themed_full_item_page_component=__webpack_require__(3423),themed_submission_edit_component=__webpack_require__(7147),core=__webpack_require__(25376),submission_object_resolver=__webpack_require__(54441),workspaceitem_data_service=__webpack_require__(96148);const itemFromWorkspaceResolver=(route,state,workspaceItemService=(0,core.WQX)(workspaceitem_data_service.WorkspaceitemDataService))=>(0,submission_object_resolver.S)(route,state,workspaceItemService);var submission_parent_breadcrumb_resolver=__webpack_require__(56284),submission_parent_breadcrumb_service=__webpack_require__(48550);let ItemFromWorkspaceBreadcrumbResolver=(()=>{class ItemFromWorkspaceBreadcrumbResolver2 extends submission_parent_breadcrumb_resolver.q{constructor(dataService,breadcrumbService){super(dataService,breadcrumbService),this.dataService=dataService,this.breadcrumbService=breadcrumbService}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemFromWorkspaceBreadcrumbResolver2)(core.KVO(workspaceitem_data_service.WorkspaceitemDataService),core.KVO(submission_parent_breadcrumb_service.i))}}static{this.\u0275prov=core.jDH({token:ItemFromWorkspaceBreadcrumbResolver2,factory:ItemFromWorkspaceBreadcrumbResolver2.\u0275fac,providedIn:"root"})}}return ItemFromWorkspaceBreadcrumbResolver2})();var operators=__webpack_require__(39022),submission_links_to_follow=__webpack_require__(85661),themed_component=__webpack_require__(79241);__webpack_require__(16802);const _c0=["*"];function ThemedWorkspaceItemsDeletePageComponent_ng_template_0_Template(rf,ctx){}const ROUTES=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:":id",resolve:{breadcrumb:ItemFromWorkspaceBreadcrumbResolver,wsi:(route,state,workspaceItemService=(0,core.WQX)(workspaceitem_data_service.WorkspaceitemDataService))=>workspaceItemService.findById(route.params.id,!0,!1,...submission_links_to_follow.X).pipe((0,operators.qD)())},children:[{canActivate:[authenticated_guard.t],path:"edit",component:themed_submission_edit_component.r,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{title:"submission.edit.title",breadcrumbKey:"submission.edit"}},{canActivate:[authenticated_guard.t],path:"view",component:themed_full_item_page_component.i,resolve:{dso:itemFromWorkspaceResolver,breadcrumb:i18n_breadcrumb_resolver.S},data:{title:"workspace-item.view.title",breadcrumbKey:"workspace-item.view"}},{canActivate:[authenticated_guard.t],path:"delete",component:(()=>{class ThemedWorkspaceItemsDeletePageComponent2 extends themed_component.J{getComponentName(){return"WorkspaceItemsDeletePageComponent"}importThemedComponent(themeName){return __webpack_require__(72447)(`./${themeName}/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,16802))}static{this.\u0275fac=(()=>{let \u0275ThemedWorkspaceItemsDeletePageComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedWorkspaceItemsDeletePageComponent_BaseFactory||(\u0275ThemedWorkspaceItemsDeletePageComponent_BaseFactory=core.xGo(ThemedWorkspaceItemsDeletePageComponent2)))(__ngFactoryType__||ThemedWorkspaceItemsDeletePageComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedWorkspaceItemsDeletePageComponent2,selectors:[["ds-workspace-items-delete"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedWorkspaceItemsDeletePageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedWorkspaceItemsDeletePageComponent2})(),resolve:{dso:itemFromWorkspaceResolver,breadcrumb:i18n_breadcrumb_resolver.S},data:{title:"workspace-item.delete",breadcrumbKey:"workspace-item.delete"}}]}]},909:(module,__unused_webpack_exports,__webpack_require__)=>{var baseUniq=__webpack_require__(55739);module.exports=function uniq(array){return array&&array.length?baseUniq(array):[]}},42176:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/alerts/item-alerts.component":[34238,4238]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=42176,module.exports=webpackAsyncContext},63614:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/full/field-components/file-section/full-file-section.component":[17054,7054]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=63614,module.exports=webpackAsyncContext},4872:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/full/full-item-page.component":[22230,2230]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=4872,module.exports=webpackAsyncContext},9048:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/edit/submission-edit.component":[54942,4942]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=9048,module.exports=webpackAsyncContext},46274:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/form/footer/submission-form-footer.component":[14184,4184]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=46274,module.exports=webpackAsyncContext},21392:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/form/submission-form.component":[8442,8442]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=21392,module.exports=webpackAsyncContext},28767:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/form/submission-upload-files/submission-upload-files.component.ts":[56572,6572]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=28767,module.exports=webpackAsyncContext},20174:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/sections/container/section-container.component":[9060,9060]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=20174,module.exports=webpackAsyncContext},96682:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/sections/upload/file/section-upload-file.component":[19494,9494]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=96682,module.exports=webpackAsyncContext},72447:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component":[16235,6235]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=72447,module.exports=webpackAsyncContext}};