exports.id=368,exports.ids=[368,7871,6196],exports.modules={48020:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}},86026:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>browseByGuard});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60444),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(34420),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2794);const browseByGuard=(route,state,browseDefinitionService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__.BrowseDefinitionDataService),router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_angular_router__WEBPACK_IMPORTED_MODULE_4__.Ix),translate=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.c$))=>{const title=route.data.title,id=route.params.id||route.queryParams.id||route.data.id;let browseDefinition$;browseDefinition$=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Tn)(route.data.browseDefinition)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(id)?browseDefinitionService.findById(id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(browseDefinitionRD=>browseDefinitionRD.payload)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(route.data.browseDefinition);const scope=route.queryParams.scope??route.parent?.params.id,value=route.queryParams.value,metadataTranslated=translate.instant(`browse.metadata.${id}`);return browseDefinition$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(browseDefinition=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(browseDefinition)?(route.data=function createData(title,id,browseDefinition,field,value,route,scope){return Object.assign({},route.data,{title,id,browseDefinition,field,value:(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(value)?`"${value}"`:"",scope})}(title,id,browseDefinition,metadataTranslated,value,route,scope),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)):(router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.RD]),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!1))))}},2077:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>browseByI18nBreadcrumbResolver});var _core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12213);const browseByI18nBreadcrumbResolver=(route,state)=>(route.data=Object.assign({},route.data,{breadcrumbKey:route.data.breadcrumbKey+"."+route.params.id}),(0,_core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__.S)(route,state))},58006:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>BrowseBySwitcherComponent}),__webpack_require__(21571);var _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36021),_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48872),_browse_by_decorator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25788),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376);function BrowseBySwitcherComponent_ng_template_0_Template(rf,ctx){}let BrowseBySwitcherComponent=(()=>{class BrowseBySwitcherComponent2 extends _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["context","browseByType"],this.inputNames=["context","browseByType","displayTitle","scope"]}getComponent(){return(0,_browse_by_decorator__WEBPACK_IMPORTED_MODULE_2__.cv)(this.browseByType.type,this.context,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let \u0275BrowseBySwitcherComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275BrowseBySwitcherComponent_BaseFactory||(\u0275BrowseBySwitcherComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(BrowseBySwitcherComponent2)))(__ngFactoryType__||BrowseBySwitcherComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:BrowseBySwitcherComponent2,selectors:[["ds-browse-by-switcher"]],inputs:{context:"context",browseByType:"browseByType",displayTitle:"displayTitle",scope:"scope"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,BrowseBySwitcherComponent_ng_template_0_Template,0,0,"ng-template",1,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r)},dependencies:[_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_4__.z],encapsulation:2})}}return BrowseBySwitcherComponent2})()},94819:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>CollectionFormComponent});var common=__webpack_require__(87514),core=__webpack_require__(19519),ngx_translate_core=__webpack_require__(2385),empty_util=__webpack_require__(2794),auth_service=__webpack_require__(54545),object_cache_service=__webpack_require__(63311),collection_data_service=__webpack_require__(8108),entity_type_data_service=__webpack_require__(62744),request_service=__webpack_require__(64806),collection_model=__webpack_require__(70652),item_type_resource_type=__webpack_require__(94330),operators=__webpack_require__(39022),comcol_form_component=__webpack_require__(63175),comcol_page_logo_component=__webpack_require__(14011),form_component=__webpack_require__(27790),notifications_service=__webpack_require__(76623),uploader_component=__webpack_require__(73649),var_directive=__webpack_require__(17543),environment=__webpack_require__(64369);const collectionFormEntityTypeSelectionConfig={id:"entityType",name:"dspace.entity.type",disabled:!1},collectionFormModels=[new core.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new core.Zex({id:"description",name:"dc.description",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"rights",name:"dc.rights",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"license",name:"dc.rights.license",spellCheck:environment.c.form.spellCheck})];var fesm2022_core=__webpack_require__(25376),ng_bootstrap=__webpack_require__(87969);function CollectionFormComponent_ng_container_6_Conditional_1_Conditional_5_Template(rf,ctx){if(1&rf){const _r1=fesm2022_core.RV6();fesm2022_core.j41(0,"div",10)(1,"button",11),fesm2022_core.bIt("click",function(){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.confirmLogoDeleteWithModal())}),fesm2022_core.EFF(2),fesm2022_core.nI1(3,"translate"),fesm2022_core.k0s()()}2&rf&&(fesm2022_core.R7$(2),fesm2022_core.SpI("",fesm2022_core.bMT(3,1,"community.edit.logo.delete.title")," "))}function CollectionFormComponent_ng_container_6_Conditional_1_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",6)(1,"div",1)(2,"div",7),fesm2022_core.nrm(3,"ds-comcol-page-logo",8),fesm2022_core.k0s(),fesm2022_core.j41(4,"div",9),fesm2022_core.DNE(5,CollectionFormComponent_ng_container_6_Conditional_1_Conditional_5_Template,4,3,"div",10),fesm2022_core.k0s()()()),2&rf){const logo_r3=fesm2022_core.XpG().ngVar,ctx_r1=fesm2022_core.XpG();fesm2022_core.R7$(3),fesm2022_core.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),fesm2022_core.R7$(2),fesm2022_core.vxM(logo_r3?5:-1)}}function CollectionFormComponent_ng_container_6_Conditional_2_Conditional_1_Template(rf,ctx){if(1&rf){const _r4=fesm2022_core.RV6();fesm2022_core.j41(0,"ds-uploader",13),fesm2022_core.bIt("onCompleteItem",function(){fesm2022_core.eBV(_r4);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){fesm2022_core.eBV(_r4);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.onUploadError())}),fesm2022_core.k0s()}if(2&rf){const ctx_r1=fesm2022_core.XpG(3);fesm2022_core.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function CollectionFormComponent_ng_container_6_Conditional_2_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",2),fesm2022_core.DNE(1,CollectionFormComponent_ng_container_6_Conditional_2_Conditional_1_Template,1,5,"ds-uploader",12),fesm2022_core.nI1(2,"async"),fesm2022_core.k0s()),2&rf){const ctx_r1=fesm2022_core.XpG(2);fesm2022_core.R7$(),fesm2022_core.vxM(fesm2022_core.bMT(2,1,ctx_r1.initializedUploaderOptions)?1:-1)}}function CollectionFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(fesm2022_core.qex(0),fesm2022_core.DNE(1,CollectionFormComponent_ng_container_6_Conditional_1_Template,6,3,"div",6)(2,CollectionFormComponent_ng_container_6_Conditional_2_Template,3,3,"div",2),fesm2022_core.bVm()),2&rf){const logo_r3=ctx.ngVar;fesm2022_core.R7$(),fesm2022_core.vxM(logo_r3?1:-1),fesm2022_core.R7$(),fesm2022_core.vxM(logo_r3?-1:2)}}function CollectionFormComponent_Conditional_8_Template(rf,ctx){if(1&rf){const _r5=fesm2022_core.RV6();fesm2022_core.j41(0,"ds-form",14),fesm2022_core.bIt("submitForm",function(){fesm2022_core.eBV(_r5);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.onSubmit())}),fesm2022_core.j41(1,"button",15),fesm2022_core.bIt("click",function(){fesm2022_core.eBV(_r5);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.back.emit())}),fesm2022_core.nrm(2,"i",16),fesm2022_core.EFF(3),fesm2022_core.nI1(4,"translate"),fesm2022_core.k0s()()}if(2&rf){const ctx_r1=fesm2022_core.XpG();fesm2022_core.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),fesm2022_core.R7$(3),fesm2022_core.SpI(" ",fesm2022_core.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let CollectionFormComponent=(()=>{class CollectionFormComponent2 extends comcol_form_component.V{constructor(formService,translate,notificationsService,authService,dsoService,requestService,objectCache,entityTypeService,chd,modalService){super(formService,translate,notificationsService,authService,requestService,objectCache,modalService),this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.dsoService=dsoService,this.requestService=requestService,this.objectCache=objectCache,this.entityTypeService=entityTypeService,this.chd=chd,this.modalService=modalService,this.dso=new collection_model.p,this.type=collection_model.p.type,this.entityTypeSelection=new core.z4z(collectionFormEntityTypeSelectionConfig)}ngOnInit(){(0,empty_util.Tn)(this.formModel)&&(0,empty_util.Pe)(this.dso)&&this.initializeForm()}ngOnChanges(changes){const dsoChange=changes.dso;this.dso&&dsoChange&&!dsoChange.isFirstChange()&&this.initializeForm()}initializeForm(){let currentRelationshipValue;this.dso&&this.dso.metadata&&(currentRelationshipValue=this.dso.metadata["dspace.entity.type"]),this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe((0,operators.Ar)()).subscribe(entityTypes=>{(entityTypes=entityTypes.filter(type=>type.label!==item_type_resource_type.k)).forEach((type,index)=>{this.entityTypeSelection.add({disabled:!1,label:type.label,value:type.label}),currentRelationshipValue&&currentRelationshipValue.length>0&&currentRelationshipValue[0].value===type.label&&(this.entityTypeSelection.select(index),this.entityTypeSelection.disabled=!0)}),this.formModel=0===entityTypes.length?collectionFormModels:[...collectionFormModels,this.entityTypeSelection],super.ngOnInit(),this.chd.detectChanges()})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||CollectionFormComponent2)(fesm2022_core.rXU(core.J9r),fesm2022_core.rXU(ngx_translate_core.c$),fesm2022_core.rXU(notifications_service.I),fesm2022_core.rXU(auth_service.uR),fesm2022_core.rXU(collection_data_service.CollectionDataService),fesm2022_core.rXU(request_service.B),fesm2022_core.rXU(object_cache_service.$),fesm2022_core.rXU(entity_type_data_service.f),fesm2022_core.rXU(fesm2022_core.gRc),fesm2022_core.rXU(ng_bootstrap.Bq))}}static{this.\u0275cmp=fesm2022_core.VBU({type:CollectionFormComponent2,selectors:[["ds-collection-form"]],inputs:{dso:"dso"},standalone:!0,features:[fesm2022_core.Vt3,fesm2022_core.OA$,fesm2022_core.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[1,"form-label"],[4,"ngVar"],[3,"formId","formModel","displayCancel"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],[1,"float-end"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),fesm2022_core.EFF(4),fesm2022_core.nI1(5,"translate"),fesm2022_core.k0s()(),fesm2022_core.DNE(6,CollectionFormComponent_ng_container_6_Template,3,2,"ng-container",4),fesm2022_core.nI1(7,"async"),fesm2022_core.k0s()(),fesm2022_core.DNE(8,CollectionFormComponent_Conditional_8_Template,5,6,"ds-form",5)),2&rf){let tmp_1_0;fesm2022_core.R7$(4),fesm2022_core.JRh(fesm2022_core.bMT(5,3,ctx.type.value+".edit.logo.label")),fesm2022_core.R7$(2),fesm2022_core.Y8G("ngVar",null==(tmp_1_0=fesm2022_core.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),fesm2022_core.R7$(2),fesm2022_core.vxM(ctx.formModel?8:-1)}},dependencies:[common.Jj,comcol_page_logo_component.X,form_component.s,ngx_translate_core.h,ngx_translate_core.D9,uploader_component.y,var_directive.r]})}}return CollectionFormComponent2})()},50368:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var browse_by_guard=__webpack_require__(86026),browse_by_i18n_breadcrumb_resolver=__webpack_require__(2077),authenticated_guard=__webpack_require__(38056),core=__webpack_require__(25376),collection_page_resolver=__webpack_require__(57436),collection_data_service=__webpack_require__(8108),dso_breadcrumb_resolver=__webpack_require__(92200),dso_breadcrumbs_service=__webpack_require__(21408),community_breadcrumb_resolver=__webpack_require__(65315),i18n_breadcrumb_resolver=__webpack_require__(12213),comcol_browse_by_component=__webpack_require__(53838),comcol_search_section_component=__webpack_require__(59292),menu_route_model=__webpack_require__(44583),view_tracker_resolver=__webpack_require__(3117),cjs=__webpack_require__(9238),dso_page_single_feature_guard=__webpack_require__(47339),feature_id=__webpack_require__(86583);const collectionPageAdministratorGuard=(0,dso_page_single_feature_guard.L)(()=>collection_page_resolver.Q,()=>(0,cjs.of)(feature_id._.AdministratorOf));var collection_page_routing_paths=__webpack_require__(35408),common=__webpack_require__(87514),ngx_translate_core=__webpack_require__(2385),dso_name_service=__webpack_require__(11481),community_data_service=__webpack_require__(42349),request_service=__webpack_require__(64806),route_service=__webpack_require__(87964),collection_model=__webpack_require__(70652),create_comcol_page_component=__webpack_require__(87661),themed_loading_component=__webpack_require__(18869),notifications_service=__webpack_require__(76623),collection_form_component=__webpack_require__(94819),fesm2022_router=__webpack_require__(18134);const _c0=a0=>({parent:a0});function CreateCollectionPageComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"async"),core.nI1(6,"translate"),core.k0s()()(),core.j41(7,"ds-collection-form",4),core.bIt("submitForm",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onSubmit($event))})("back",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.navigateToHome())}),core.k0s()()}if(2&rf){let tmp_1_0;const ctx_r1=core.XpG();core.R7$(4),core.JRh(core.i5U(6,4,"collection.create.sub-head",core.eq3(7,_c0,ctx_r1.dsoNameService.getName(null==(tmp_1_0=core.bMT(5,2,ctx_r1.parentRD$))?null:tmp_1_0.payload)))),core.R7$(3),core.Y8G("isCreation",!0)}}function CreateCollectionPageComponent_Conditional_3_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}let CreateCollectionPageComponent=(()=>{class CreateCollectionPageComponent2 extends create_comcol_page_component.Q{constructor(dsoNameService,communityDataService,collectionDataService,routeService,router,notificationsService,translate,requestService){super(collectionDataService,dsoNameService,communityDataService,routeService,router,notificationsService,translate,requestService),this.dsoNameService=dsoNameService,this.communityDataService=communityDataService,this.collectionDataService=collectionDataService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.frontendURL="/collections/",this.type=collection_model.p.type}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||CreateCollectionPageComponent2)(core.rXU(dso_name_service.f),core.rXU(community_data_service.CommunityDataService),core.rXU(collection_data_service.CollectionDataService),core.rXU(route_service.v$),core.rXU(fesm2022_router.Ix),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(request_service.B))}}static{this.\u0275cmp=core.VBU({type:CreateCollectionPageComponent2,selectors:[["ds-create-collection"]],standalone:!0,features:[core.Vt3,core.aNF],decls:5,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"submitForm","back","isCreation"]],template:function(rf,ctx){1&rf&&(core.DNE(0,CreateCollectionPageComponent_Conditional_0_Template,8,9,"div",0),core.nI1(1,"async"),core.j41(2,"div",0),core.DNE(3,CreateCollectionPageComponent_Conditional_3_Template,1,0,"ds-loading"),core.nI1(4,"async"),core.k0s()),2&rf&&(core.vxM(!1===core.bMT(1,2,ctx.isLoading$)?0:-1),core.R7$(3),core.vxM(core.bMT(4,4,ctx.isLoading$)?3:-1))},dependencies:[common.Jj,collection_form_component.q,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9]})}}return CreateCollectionPageComponent2})();var operators=__webpack_require__(60444),shared_operators=__webpack_require__(39022),empty_util=__webpack_require__(2794),btn_disabled_directive=__webpack_require__(69919),delete_comcol_page_component=__webpack_require__(24371),var_directive=__webpack_require__(17543);const delete_collection_page_component_c0=a0=>({dso:a0});function DeleteCollectionPageComponent_ng_container_2_Conditional_17_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",11),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"collection.delete.processing"),""))}function DeleteCollectionPageComponent_ng_container_2_Conditional_19_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",12),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"collection.delete.confirm"),""))}function DeleteCollectionPageComponent_ng_container_2_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.qex(0),core.j41(1,"div",3)(2,"h1",4),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"p",5),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"div",6)(9,"div",7)(10,"button",8),core.nI1(11,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onCancel(dso_r2))}),core.nrm(12,"i",9),core.EFF(13),core.nI1(14,"translate"),core.k0s(),core.j41(15,"button",10),core.nI1(16,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onConfirm(dso_r2))}),core.DNE(17,DeleteCollectionPageComponent_ng_container_2_Conditional_17_Template,4,3,"span"),core.nI1(18,"async"),core.DNE(19,DeleteCollectionPageComponent_ng_container_2_Conditional_19_Template,4,3,"span"),core.nI1(20,"async"),core.k0s()()()(),core.bVm()}if(2&rf){const dso_r2=ctx.ngVar,ctx_r2=core.XpG();core.R7$(3),core.JRh(core.bMT(4,7,"collection.delete.head")),core.R7$(3),core.JRh(core.i5U(7,9,"collection.delete.text",core.eq3(22,delete_collection_page_component_c0,ctx_r2.dsoNameService.getName(dso_r2)))),core.R7$(4),core.Y8G("dsBtnDisabled",core.bMT(11,12,ctx_r2.processing$)),core.R7$(3),core.SpI(" ",core.bMT(14,14,"collection.delete.cancel")," "),core.R7$(2),core.Y8G("dsBtnDisabled",core.bMT(16,16,ctx_r2.processing$)),core.R7$(2),core.vxM(core.bMT(18,18,ctx_r2.processing$)?17:-1),core.R7$(2),core.vxM(!0!==core.bMT(20,20,ctx_r2.processing$)?19:-1)}}let DeleteCollectionPageComponent=(()=>{class DeleteCollectionPageComponent2 extends delete_comcol_page_component.D{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){super(dsoDataService,dsoNameService,router,route,notifications,translate),this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.frontendURL="/collections/"}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DeleteCollectionPageComponent2)(core.rXU(collection_data_service.CollectionDataService),core.rXU(dso_name_service.f),core.rXU(fesm2022_router.Ix),core.rXU(fesm2022_router.nX),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$))}}static{this.\u0275cmp=core.VBU({type:DeleteCollectionPageComponent2,selectors:[["ds-delete-collection"]],standalone:!0,features:[core.Vt3,core.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1),core.DNE(2,DeleteCollectionPageComponent_ng_container_2_Template,21,24,"ng-container",2),core.nI1(3,"async"),core.k0s()()),2&rf){let tmp_0_0;core.R7$(2),core.Y8G("ngVar",null==(tmp_0_0=core.bMT(3,1,ctx.dsoRD$))?null:tmp_0_0.payload)}},dependencies:[common.Jj,btn_disabled_directive.A,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r]})}}return DeleteCollectionPageComponent2})();var item_template_data_service=__webpack_require__(79986),follow_link_config_model=__webpack_require__(76715),themed_component=__webpack_require__(79241);__webpack_require__(60144);const themed_edit_item_template_page_component_c0=["*"];function ThemedEditItemTemplatePageComponent_ng_template_0_Template(rf,ctx){}let ThemedEditItemTemplatePageComponent=(()=>{class ThemedEditItemTemplatePageComponent2 extends themed_component.J{getComponentName(){return"EditItemTemplatePageComponent"}importThemedComponent(themeName){return __webpack_require__(46563)(`./${themeName}/app/collection-page/edit-item-template-page/edit-item-template-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,60144))}static{this.\u0275fac=(()=>{let \u0275ThemedEditItemTemplatePageComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedEditItemTemplatePageComponent_BaseFactory||(\u0275ThemedEditItemTemplatePageComponent_BaseFactory=core.xGo(ThemedEditItemTemplatePageComponent2)))(__ngFactoryType__||ThemedEditItemTemplatePageComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedEditItemTemplatePageComponent2,selectors:[["ds-edit-item-template-page"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_edit_item_template_page_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedEditItemTemplatePageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedEditItemTemplatePageComponent2})();__webpack_require__(70319);const themed_collection_page_component_c0=["*"];function ThemedCollectionPageComponent_ng_template_0_Template(rf,ctx){}const ROUTES=[{path:collection_page_routing_paths.gj,canActivate:[authenticated_guard.t,(route,state,communityService=(0,core.WQX)(community_data_service.CommunityDataService),router=(0,core.WQX)(fesm2022_router.Ix))=>{const parentID=route.queryParams.parent;return(0,empty_util.Tn)(parentID)?(router.navigate(["/404"]),(0,cjs.of)(!1)):communityService.findById(parentID).pipe((0,shared_operators.qD)(),(0,operators.Tj)(communityRD=>(0,empty_util.a4)(communityRD)&&communityRD.hasSucceeded&&(0,empty_util.a4)(communityRD.payload)),(0,operators.Mi)(isValid=>{isValid||router.navigate(["/404"])}))}],children:[{path:"",component:CreateCollectionPageComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"collection.create"}}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:community_breadcrumb_resolver.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:collection_page_resolver.Q,breadcrumb:(route,state,breadcrumbService=(0,core.WQX)(dso_breadcrumbs_service.U),dataService=(0,core.WQX)(collection_data_service.CollectionDataService))=>(0,dso_breadcrumb_resolver.G)(route,state,breadcrumbService,dataService,...collection_page_resolver.R)},runGuardsAndResolvers:"always",children:[{path:collection_page_routing_paths._,loadChildren:()=>__webpack_require__.e(6988).then(__webpack_require__.bind(__webpack_require__,46988)).then(m=>m.ROUTES),canActivate:[collectionPageAdministratorGuard]},{path:"delete",pathMatch:"full",component:DeleteCollectionPageComponent,canActivate:[authenticated_guard.t]},{path:collection_page_routing_paths.WJ,component:ThemedEditItemTemplatePageComponent,canActivate:[authenticated_guard.t],resolve:{item:(route,state,itemTemplateService=(0,core.WQX)(item_template_data_service.d))=>itemTemplateService.findByCollectionID(route.params.id,!0,!1,(0,follow_link_config_model.s)("templateItemOf")).pipe((0,shared_operators.qD)()),breadcrumb:i18n_breadcrumb_resolver.S},data:{title:"collection.edit.template.title",breadcrumbKey:"collection.edit.template"}},{path:"",component:(()=>{class ThemedCollectionPageComponent2 extends themed_component.J{getComponentName(){return"CollectionPageComponent"}importThemedComponent(themeName){return __webpack_require__(19862)(`./${themeName}/app/collection-page/collection-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,70319))}static{this.\u0275fac=(()=>{let \u0275ThemedCollectionPageComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedCollectionPageComponent_BaseFactory||(\u0275ThemedCollectionPageComponent_BaseFactory=core.xGo(ThemedCollectionPageComponent2)))(__ngFactoryType__||ThemedCollectionPageComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedCollectionPageComponent2,selectors:[["ds-collection-page"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_collection_page_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedCollectionPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedCollectionPageComponent2})(),data:{menuRoute:menu_route_model.r.COLLECTION_PAGE},children:[{path:"",pathMatch:"full",component:comcol_search_section_component.E},{path:"search",pathMatch:"full",component:comcol_search_section_component.E,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"collection.search",menuRoute:menu_route_model.r.COLLECTION_PAGE,enableRSS:!0}},{path:"browse/:id",pathMatch:"full",component:comcol_browse_by_component.O,canActivate:[browse_by_guard.h],resolve:{breadcrumb:browse_by_i18n_breadcrumb_resolver.p},data:{breadcrumbKey:"browse.metadata",menuRoute:menu_route_model.r.COLLECTION_PAGE}}],resolve:{tracking:view_tracker_resolver.Y}}]}]},70319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CollectionPageComponent:()=>CollectionPageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(87514),_angular_router__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60444),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54545),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11481),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76509),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86583),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36113),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39022),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(67441),_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(27239),_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(21201),_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12505),_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(28351),_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(14011),_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(61564),_shared_empty_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2794),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(17561),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(18869),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(17543),_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(35408),_angular_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(25376);function CollectionPageComponent_div_1_Conditional_1_Conditional_1_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(0,"ds-comcol-page-logo",7),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nI1(2,"translate")),2&rf){let tmp_6_0;const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("logo",null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.bMT(1,2,ctx_r0.logoRD$))?null:tmp_6_0.payload)("alternateText",_angular_core__WEBPACK_IMPORTED_MODULE_14__.bMT(2,4,"collection.logo"))}}function CollectionPageComponent_div_1_Conditional_1_Conditional_1_Conditional_12_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(0,"footer",13),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(1,"ds-comcol-page-content",9),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s()),2&rf){const collection_r2=_angular_core__WEBPACK_IMPORTED_MODULE_14__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("content",collection_r2.copyrightText)("hasInnerHtml",!0)}}function CollectionPageComponent_div_1_Conditional_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(0,"div")(1,"div",4)(2,"header",5),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(3,"ds-comcol-page-header",6),_angular_core__WEBPACK_IMPORTED_MODULE_14__.DNE(4,CollectionPageComponent_div_1_Conditional_1_Conditional_1_Conditional_4_Template,3,6,"ds-comcol-page-logo",7),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(5,"ds-comcol-page-handle",8)(6,"ds-comcol-page-content",9)(7,"ds-comcol-page-content",10),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(8,"ds-dso-edit-menu"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(9,"section",11),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(10,"ds-comcol-page-browse-by",12)(11,"router-outlet"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.DNE(12,CollectionPageComponent_div_1_Conditional_1_Conditional_1_Conditional_12_Template,2,2,"footer",13),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s()),2&rf){const collection_r2=ctx,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("name",ctx_r0.dsoNameService.getName(collection_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM(ctx_r0.logoRD$?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("content",collection_r2.handle)("title","collection.page.handle"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("content",collection_r2.introductoryText)("hasInnerHtml",!0),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("content",collection_r2.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("id",collection_r2.id)("contentType",collection_r2.type),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM(collection_r2.copyrightText?12:-1)}}function CollectionPageComponent_div_1_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.DNE(1,CollectionPageComponent_div_1_Conditional_1_Conditional_1_Template,13,12,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s()),2&rf){let tmp_4_0;const collectionRD_r3=_angular_core__WEBPACK_IMPORTED_MODULE_14__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM((tmp_4_0=null==collectionRD_r3?null:collectionRD_r3.payload)?1:-1,tmp_4_0)}}function CollectionPageComponent_div_1_Conditional_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(0,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_14__.bMT(1,1,"error.collection"))}function CollectionPageComponent_div_1_Conditional_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.nrm(0,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_14__.bMT(1,1,"loading.collection"))}function CollectionPageComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.DNE(1,CollectionPageComponent_div_1_Conditional_1_Template,2,2,"div")(2,CollectionPageComponent_div_1_Conditional_2_Template,2,3,"ds-error",3)(3,CollectionPageComponent_div_1_Conditional_3_Template,2,3,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s()),2&rf){const collectionRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM(null!=collectionRD_r3&&collectionRD_r3.hasSucceeded?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM(null!=collectionRD_r3&&collectionRD_r3.hasFailed?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.vxM(null!=collectionRD_r3&&collectionRD_r3.isLoading?3:-1)}}let CollectionPageComponent=(()=>{class CollectionPageComponent2{constructor(route,router,authService,authorizationDataService,dsoNameService){this.route=route,this.router=router,this.authService=authService,this.authorizationDataService=authorizationDataService,this.dsoNameService=dsoNameService}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(data=>data.dso),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__.QD)(this.router,this.authService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.s)(1)),this.logoRD$=this.collectionRD$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(rd=>rd.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.pb)(collection=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_16__.a4)(collection)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.ZZ)(collection=>collection.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__._.IsCollectionAdmin),this.collectionPageRoute$=this.collectionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(collection=>(0,_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_17__.JW)(collection.id)))}isNotEmpty(object){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_16__.hj)(object)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||CollectionPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_14__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_18__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_14__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_18__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_14__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_14__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_14__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_14__.VBU({type:CollectionPageComponent2,selectors:[["ds-base-collection-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_14__.aNF],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[3,"message"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","me-auto"],[3,"name"],[3,"logo","alternateText"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[1,"border-top","my-5","pt-4"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_14__.DNE(1,CollectionPageComponent_div_1_Template,4,3,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_14__.bMT(2,1,ctx.collectionRD$)))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.Jj,_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_20__.H,_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__.X,_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__.T,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__.A,_angular_router__WEBPACK_IMPORTED_MODULE_18__.n3,_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__.g,_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__.s,_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__.T,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_22__.r],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__.qG,_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__.Ws]},changeDetection:0})}}return CollectionPageComponent2})()},57436:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>collectionPageResolver,R:()=>COLLECTION_PAGE_LINKS_TO_FOLLOW});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25376),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22609),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8108),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14998),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76715);const COLLECTION_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity",{},(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity")),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("logo")],collectionPageResolver=(route,state,collectionService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__.CollectionDataService),store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il))=>{const collectionRD$=collectionService.findById(route.params.id,!0,!1,...COLLECTION_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)());return collectionRD$.subscribe(collectionRD=>{store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__.j(state.url,collectionRD.payload))}),collectionRD$}},60144:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditItemTemplatePageComponent:()=>EditItemTemplatePageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87514),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(60444),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11481),_core_data_item_template_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79986),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_dso_shared_dso_edit_metadata_themed_dso_edit_metadata_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7012),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6213),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(83113),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18869),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(17543),_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(35408),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25376);const _c0=a0=>({collection:a0});function EditItemTemplatePageComponent_div_0_div_2_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"h1",7),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(3,"ds-dso-edit-metadata",8),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(4,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()),2&rf){const itemRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG().ngVar,collection_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.i5U(2,5,"collection.edit.template.head",_angular_core__WEBPACK_IMPORTED_MODULE_7__.eq3(10,_c0,ctx_r2.dsoNameService.getName(collection_r2)))),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("updateDataService",ctx_r2.itemTemplateService)("dso",null==itemRD_r1?null:itemRD_r1.payload),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("routerLink",ctx_r2.getCollectionEditUrl(collection_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(6,8,"collection.edit.template.cancel"))}}function EditItemTemplatePageComponent_div_0_div_2_Conditional_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(0,"ds-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("message",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,1,"collection.edit.template.loading"))}function EditItemTemplatePageComponent_div_0_div_2_Conditional_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(0,"ds-alert",6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"translate")),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("type",ctx_r2.AlertTypeEnum.Error)("content",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,2,"collection.edit.template.error"))}}function EditItemTemplatePageComponent_div_0_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(1,EditItemTemplatePageComponent_div_0_div_2_Conditional_1_Template,7,12)(2,EditItemTemplatePageComponent_div_0_div_2_Conditional_2_Template,2,3,"ds-loading",5)(3,EditItemTemplatePageComponent_div_0_div_2_Conditional_3_Template,2,4,"ds-alert",6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()),2&rf){const itemRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(null!=itemRD_r1&&itemRD_r1.hasSucceeded?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(null!=itemRD_r1&&itemRD_r1.isLoading?2:-1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(null!=itemRD_r1&&itemRD_r1.hasFailed?3:-1)}}function EditItemTemplatePageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div",1)(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(2,EditItemTemplatePageComponent_div_0_div_2_Template,4,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(3,1,ctx_r2.itemRD$))}}let EditItemTemplatePageComponent=(()=>{class EditItemTemplatePageComponent2{constructor(route,itemTemplateService,dsoNameService){this.route=route,this.itemTemplateService=itemTemplateService,this.dsoNameService=dsoNameService,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_5__.v}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.$1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Tj)(data=>data.dso)),this.itemRD$=this.collectionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.nx)(collection=>this.itemTemplateService.findByCollectionID(collection.id)))}getCollectionEditUrl(collection){return collection?(0,_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__._E)(collection.uuid):""}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||EditItemTemplatePageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_10__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_data_item_template_data_service__WEBPACK_IMPORTED_MODULE_1__.d),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.VBU({type:EditItemTemplatePageComponent2,selectors:[["ds-base-edit-item-template-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[3,"message"],[3,"type","content"],[1,"border-bottom"],[3,"updateDataService","dso"],[1,"btn","btn-outline-secondary",3,"routerLink"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(0,EditItemTemplatePageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"async")),2&rf){let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngVar",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,1,ctx.collectionRD$))?null:tmp_0_0.payload)}},dependencies:[_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_4__.C,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Jj,_angular_router__WEBPACK_IMPORTED_MODULE_10__.Wk,_dso_shared_dso_edit_metadata_themed_dso_edit_metadata_component__WEBPACK_IMPORTED_MODULE_3__.Q,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_13__.r],encapsulation:2})}}return EditItemTemplatePageComponent2})()},8812:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>communityPageResolver,w:()=>COMMUNITY_PAGE_LINKS_TO_FOLLOW});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25376),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22609),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(42349),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14998),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76715);const COMMUNITY_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("logo"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("subcommunities"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("collections"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity")],communityPageResolver=(route,state,communityService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__.CommunityDataService),store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il))=>{const communityRD$=communityService.findById(route.params.id,!0,!1,...COMMUNITY_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)());return communityRD$.subscribe(communityRD=>{store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__.j(state.url,communityRD.payload))}),communityRD$}},65315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>communityBreadcrumbResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25376),_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8812),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2794),_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42349),_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92200),_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21408);const communityBreadcrumbResolver=(route,state,breadcrumbService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__.U),dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__.CommunityDataService))=>{const linksToFollow=_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__.w;return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.data.breadcrumbQueryParam)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.queryParams[route.data.breadcrumbQueryParam])?(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.o)(route,state,route.queryParams[route.data.breadcrumbQueryParam],breadcrumbService,dataService,...linksToFollow):(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.G)(route,state,breadcrumbService,dataService,...linksToFollow)}},92200:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>DSOBreadcrumbResolver,o:()=>DSOBreadcrumbResolverByUuid});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60444),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2794),_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39022);const DSOBreadcrumbResolver=(route,state,breadcrumbService,dataService,...linksToFollow)=>DSOBreadcrumbResolverByUuid(route,state,route.params.id,breadcrumbService,dataService,...linksToFollow),DSOBreadcrumbResolverByUuid=(route,state,uuid,breadcrumbService,dataService,...linksToFollow)=>dataService.findById(uuid,!0,!1,...linksToFollow).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(object=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.a4)(object))return{provider:breadcrumbService,key:object,url:(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(object)}}))},21408:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>DSOBreadcrumbsService});var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60444),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48020),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2794),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76715),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14160),_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11481),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376);let DSOBreadcrumbsService=(()=>{class DSOBreadcrumbsService2{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__.Q(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__.s)(propertyName))[propertyName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I6)(parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.nx)(parentRD=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(parent))}return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([])}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(breadcrumbs=>[...breadcrumbs,crumb]))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DSOBreadcrumbsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:DSOBreadcrumbsService2,factory:DSOBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return DSOBreadcrumbsService2})()},12213:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>i18nBreadcrumbResolver});var core=__webpack_require__(25376),empty_util=__webpack_require__(2794),route_utils=__webpack_require__(93359),cjs=__webpack_require__(9238),breadcrumb_model=__webpack_require__(48020);let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService2{getBreadcrumbs(key,url){return(0,cjs.of)([new breadcrumb_model.Q(key+".breadcrumbs",url)])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||I18nBreadcrumbsService2)}}static{this.\u0275prov=core.jDH({token:I18nBreadcrumbsService2,factory:I18nBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return I18nBreadcrumbsService2})();const i18nBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(I18nBreadcrumbsService))=>{const key=route.data.breadcrumbKey;if((0,empty_util.Tn)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");return{provider:breadcrumbService,key,url:(0,route_utils.F)(route)}}},47339:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>dsoPageSingleFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(60444),_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48827);const dsoPageSingleFeatureGuard=(getResolveFn,getFeatureID)=>(0,_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__.FO)(getResolveFn,(route,state)=>getFeatureID(route,state).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(featureID=>[featureID])))},48827:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FO:()=>dsoPageSomeFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2794),_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39022),_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52884);const defaultDSOGetObjectUrl=resolve=>(route,state)=>{const routeWithObjectID=(route=>{let routeWithDSOId=route;for(;(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.Tn)(routeWithDSOId.params.id)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4)(routeWithDSOId.parent);)routeWithDSOId=routeWithDSOId.parent;return routeWithDSOId})(route);return resolve(routeWithObjectID,state).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(dso=>dso.self))},dsoPageSomeFeatureGuard=(getResolveFn,getFeatureIDs,getObjectUrl=defaultDSOGetObjectUrl,getEPersonUuid)=>(0,_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__.h)((route,state)=>getFeatureIDs(route,state),getObjectUrl(getResolveFn()),getEPersonUuid)},79986:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ItemTemplateDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(60444),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76623),_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99753),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(63311),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26139),_base_create_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(95985),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(61640),_bundle_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(51024),_collection_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8108),_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(78229),_item_data_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(94149),_request_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(64806),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(25376);class CollectionItemTemplateDataService extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,collectionService){super("itemtemplates",requestService,rdbService,objectCache,halService,void 0),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.collectionService=collectionService,this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_5__.V(void 0,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive)}getIDHrefObs(collectionID){return this.collectionService.getIDHrefObs(collectionID).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.nx)(href=>this.halService.getEndpoint("itemtemplate",href)))}createTemplate(item,collectionID){return this.createData.createOnEndpoint(item,this.getIDHrefObs(collectionID))}}let ItemTemplateDataService=(()=>{class ItemTemplateDataService2 extends _item_data_service__WEBPACK_IMPORTED_MODULE_10__.BaseItemDataService{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator,browseService,bundleService,collectionService){super("itemtemplates",requestService,rdbService,objectCache,halService,notificationsService,comparator,browseService,bundleService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.browseService=browseService,this.bundleService=bundleService,this.collectionService=collectionService,this.byCollection=new CollectionItemTemplateDataService(requestService,rdbService,objectCache,halService,notificationsService,collectionService)}findByCollectionID(collectionID,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.byCollection.findById(collectionID,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}createByCollectionID(item,collectionID){return this.byCollection.createTemplate(item,collectionID)}getCollectionEndpoint(collectionID){return this.byCollection.getIDHrefObs(collectionID)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemTemplateDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_11__.B),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_2__.o),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__.$),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_4__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_9__.j),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__.q),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_bundle_data_service__WEBPACK_IMPORTED_MODULE_7__.BundleDataService),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_collection_data_service__WEBPACK_IMPORTED_MODULE_8__.CollectionDataService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_13__.jDH({token:ItemTemplateDataService2,factory:ItemTemplateDataService2.\u0275fac,providedIn:"root"})}}return ItemTemplateDataService2})()},46196:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetadataFieldDataService:()=>MetadataFieldDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76623),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80996),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(99629),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63311),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26139),_base_create_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(95985),_base_delete_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92788),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(61640),_base_put_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9752),_base_search_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(98861),_find_list_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(72248),_request_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(64806),_angular_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(25376);let MetadataFieldDataService=(()=>{class MetadataFieldDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("metadatafields",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.searchBySchemaLinkPath="bySchema",this.searchByFieldNameLinkPath="byFieldName",this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_4__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.searchData=new _base_search_data__WEBPACK_IMPORTED_MODULE_8__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.putData=new _base_put_data__WEBPACK_IMPORTED_MODULE_7__.W(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _base_delete_data__WEBPACK_IMPORTED_MODULE_5__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint)}findBySchema(schema,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const optionsWithSchema=Object.assign(new _find_list_options_model__WEBPACK_IMPORTED_MODULE_10__._,options,{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("schema",schema.prefix)]});return this.searchBy(this.searchBySchemaLinkPath,optionsWithSchema,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}searchByFieldNameParams(schema,element,qualifier,query,exactName,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const optionParams=Object.assign(new _find_list_options_model__WEBPACK_IMPORTED_MODULE_10__._,options,{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("schema",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(schema)?schema:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("element",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(element)?element:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("qualifier",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(qualifier)?qualifier:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("query",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(query)?query:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("exactName",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(exactName)?exactName:"")]});return this.searchBy(this.searchByFieldNameLinkPath,optionParams,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}findByExactFieldName(exactFieldName){return this.searchByFieldNameParams(null,null,null,null,exactFieldName,null)}clearRequests(){this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.s)(1)).subscribe(href=>{this.requestService.setStaleByHrefSubstring(href)})}delete(objectId,copyVirtualMetadata){return this.deleteData.delete(objectId,copyVirtualMetadata)}deleteByHref(href,copyVirtualMetadata){return this.deleteData.deleteByHref(href,copyVirtualMetadata)}put(object){return this.putData.put(object)}create(object,...params){return this.createData.create(object,...params)}searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.searchData.searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||MetadataFieldDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_9__.B),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_14__.jDH({token:MetadataFieldDataService2,factory:MetadataFieldDataService2.\u0275fac,providedIn:"root"})}}return MetadataFieldDataService2})()},97871:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetadataSchemaDataService:()=>MetadataSchemaDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76623),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63311),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26139),_base_create_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(95985),_base_delete_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92788),_base_find_all_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27554),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61640),_base_put_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9752),_request_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(64806),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(25376);let MetadataSchemaDataService=(()=>{class MetadataSchemaDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_7__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("metadataschemas",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_4__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.putData=new _base_put_data__WEBPACK_IMPORTED_MODULE_8__.W(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _base_delete_data__WEBPACK_IMPORTED_MODULE_5__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.findAllData=new _base_find_all_data__WEBPACK_IMPORTED_MODULE_6__.H(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}createOrUpdateMetadataSchema(schema){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(schema.id)?this.putData.put(schema):this.createData.create(schema)}clearRequests(){return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Mi)(href=>this.requestService.removeByHrefSubstring(href)))}findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.findAllData.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}delete(objectId,copyVirtualMetadata){return this.deleteData.delete(objectId,copyVirtualMetadata)}deleteByHref(href,copyVirtualMetadata){return this.deleteData.deleteByHref(href,copyVirtualMetadata)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||MetadataSchemaDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_9__.B),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_12__.jDH({token:MetadataSchemaDataService2,factory:MetadataSchemaDataService2.\u0275fac,providedIn:"root"})}}return MetadataSchemaDataService2})()},69911:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>RegistryService});var _ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22609),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60444),_admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18981),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2794),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76623),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(99629),_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(72248),_data_metadata_field_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(46196),_data_metadata_schema_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(97871),_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39022),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25376),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385);const metadataRegistryStateSelector=state=>state.metadataRegistry,editMetadataSchemaSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.editSchema),selectedMetadataSchemasSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.selectedSchemas),editMetadataFieldSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.editField),selectedMetadataFieldsSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.selectedFields);let RegistryService=(()=>{class RegistryService2{constructor(store,notificationsService,translateService,metadataSchemaService,metadataFieldService){this.store=store,this.notificationsService=notificationsService,this.translateService=translateService,this.metadataSchemaService=metadataSchemaService,this.metadataFieldService=metadataFieldService}getMetadataSchemas(options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataSchemaService.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}getMetadataSchemaByPrefix(prefix,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const options=Object.assign(new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_6__._,{elementsPerPage:1e4});return this.getMetadataSchemas(options).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(schemas=>schemas.page),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(schemas=>schemas.filter(schema=>schema.prefix===prefix)[0]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.ZZ)(schema=>this.metadataSchemaService.findById(`${schema.id}`,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)))}getMetadataFieldsBySchema(schema,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataFieldService.findBySchema(schema,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}editMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.w2(schema))}cancelEditMetadataSchema(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Wi)}getActiveMetadataSchema(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(editMetadataSchemaSelector))}selectMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Q6(schema))}deselectMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.zn(schema))}deselectAllMetadataSchema(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Gr)}getSelectedMetadataSchemas(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(selectedMetadataSchemasSelector))}editMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.dF(field))}cancelEditMetadataField(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Tf)}getActiveMetadataField(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(editMetadataFieldSelector))}selectMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.jC(field))}deselectMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.yb(field))}deselectAllMetadataField(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.TE)}getSelectedMetadataFields(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(selectedMetadataFieldsSelector))}createOrUpdateMetadataSchema(schema){const isUpdate=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.a4)(schema.id);return this.metadataSchemaService.createOrUpdateMetadataSchema(schema).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,isUpdate,!1,{prefix:schema.prefix})}))}deleteMetadataSchema(id){return this.metadataSchemaService.delete(`${id}`)}clearMetadataSchemaRequests(){return this.metadataSchemaService.clearRequests()}createMetadataField(field,schema){return field.qualifier||(field.qualifier=null),this.metadataFieldService.create(field,new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("schemaId",schema.id)).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,!1,!0,{field:field.toString()})}))}updateMetadataField(field){return field.qualifier||(field.qualifier=null),this.metadataFieldService.put(field).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,!0,!0,{field:field.toString()})}))}deleteMetadataField(id){return this.metadataFieldService.delete(`${id}`)}clearMetadataFieldRequests(){this.metadataFieldService.clearRequests()}showNotifications(success,edited,isField,options){const prefix="admin.registries.schema.notification",editedString=edited?"edited":"created";(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.combineLatest)(this.translateService.get(`${prefix}.${success?"success":"failure"}`),this.translateService.get(`${prefix}${isField?".field":""}.${editedString}`,options)).subscribe(([head,content])=>{success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)})}queryMetadataFields(query,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataFieldService.searchByFieldNameParams(null,null,null,query,null,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||RegistryService2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.I),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_metadata_schema_data_service__WEBPACK_IMPORTED_MODULE_3__.MetadataSchemaDataService),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_metadata_field_data_service__WEBPACK_IMPORTED_MODULE_2__.MetadataFieldDataService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_11__.jDH({token:RegistryService2,factory:RegistryService2.\u0275fac,providedIn:"root"})}}return RegistryService2})()},14998:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>ResolvedAction});const ResolverActionTypes={RESOLVED:(0,__webpack_require__(29841).N)("dspace/resolver/RESOLVED")};class ResolvedAction{constructor(url,dso){this.type=ResolverActionTypes.RESOLVED,this.payload={url,dso}}}},68838:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>DsoEditMetadataFieldValuesComponent});var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53647),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25376),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21571),_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(27434),__webpack_require__(42489)),_dso_edit_metadata_value_dso_edit_metadata_value_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10992),_dso_edit_metadata_value_headers_dso_edit_metadata_value_headers_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(82);function DsoEditMetadataFieldValuesComponent_For_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"ds-dso-edit-metadata-value",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("edit",function(){const mdValue_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(mdValue_r2.editing=!0)})("confirm",function($event){const mdValue_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1).$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return mdValue_r2.confirmChanges($event),ctx_r2.form.resetReinstatable(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx_r2.valueSaved.emit())})("remove",function(){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1),mdValue_r2=ctx_r3.$implicit,\u0275$index_7_r5=ctx_r3.$index,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return mdValue_r2.change===ctx_r2.DsoEditMetadataChangeTypeEnum.ADD?ctx_r2.form.remove(ctx_r2.mdField,\u0275$index_7_r5):mdValue_r2.change=ctx_r2.DsoEditMetadataChangeTypeEnum.REMOVE,ctx_r2.form.resetReinstatable(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx_r2.valueSaved.emit())})("undo",function(){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1),mdValue_r2=ctx_r5.$implicit,\u0275$index_7_r5=ctx_r5.$index,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return mdValue_r2.change===ctx_r2.DsoEditMetadataChangeTypeEnum.ADD?ctx_r2.form.remove(ctx_r2.mdField,\u0275$index_7_r5):mdValue_r2.discard(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx_r2.valueSaved.emit())})("dragging",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx_r2.draggingMdField$.next($event?ctx_r2.mdField:null))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}if(2&rf){const mdValue_r2=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("dso",ctx_r2.dso)("context",ctx_r2.Context.EditMetadata)("mdValue",mdValue_r2)("mdField",ctx_r2.mdField)("dsoType",ctx_r2.dsoType)("saving$",ctx_r2.saving$)("isOnlyValue",1===ctx_r2.form.fields[ctx_r2.mdField].length)}}let DsoEditMetadataFieldValuesComponent=(()=>{class DsoEditMetadataFieldValuesComponent2{constructor(){this.valueSaved=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.bkB,this.DsoEditMetadataChangeTypeEnum=_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_2__.QR,this.Context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_0__.o}drop(event){(0,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_5__.HD)(this.form.fields[this.mdField],event.previousIndex,event.currentIndex),this.form.fields[this.mdField].forEach((value,index)=>{value.newValue.place=index,value.confirmChanges()}),this.form.resetReinstatable(),this.valueSaved.emit()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataFieldValuesComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:DsoEditMetadataFieldValuesComponent2,selectors:[["ds-dso-edit-metadata-field-values"]],inputs:{dso:"dso",form:"form",mdField:"mdField",dsoType:"dsoType",saving$:"saving$",draggingMdField$:"draggingMdField$"},outputs:{valueSaved:"valueSaved"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.aNF],decls:6,vars:7,consts:[["cdkDropList","","role","table",1,"flex-grow-1","ds-drop-list","h-100",3,"cdkDropListDropped"],["role","presentation",3,"dsoType"],["role","presentation",3,"dso","context","mdValue","mdField","dsoType","saving$","isOnlyValue"],["role","presentation",3,"edit","confirm","remove","undo","dragging","dso","context","mdValue","mdField","dsoType","saving$","isOnlyValue"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("cdkDropListDropped",function($event){return ctx.drop($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(3,"ds-dso-edit-metadata-value-headers",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Z7z(4,DsoEditMetadataFieldValuesComponent_For_5_Template,1,7,"ds-dso-edit-metadata-value",2,_angular_core__WEBPACK_IMPORTED_MODULE_4__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.AVh("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(1,3,ctx.draggingMdField$)&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(2,5,ctx.draggingMdField$)!==ctx.mdField),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("dsoType",ctx.dsoType),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Dyx(ctx.form.fields[ctx.mdField]))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.Jj,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_5__.O7,_dso_edit_metadata_value_dso_edit_metadata_value_component__WEBPACK_IMPORTED_MODULE_3__.o,_dso_edit_metadata_value_headers_dso_edit_metadata_value_headers_component__WEBPACK_IMPORTED_MODULE_7__.c],styles:[".ds-drop-list[_ngcontent-%COMP%]{background-color:var(--bs-gray-500)}.ds-drop-list.disabled[_ngcontent-%COMP%]{opacity:.3}"]})}}return DsoEditMetadataFieldValuesComponent2})()},42489:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QR:()=>DsoEditMetadataChangeType,qf:()=>DsoEditMetadataForm});class MetadataPatchOperation{constructor(op,field){this.op=op,this.field=field}}let MetadataPatchAddOperation=(()=>{class MetadataPatchAddOperation2 extends MetadataPatchOperation{static{this.operationType="add"}constructor(field,value){super(MetadataPatchAddOperation2.operationType,field),this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/-`,value:this.value}}}return MetadataPatchAddOperation2})(),MetadataPatchMoveOperation=(()=>{class MetadataPatchMoveOperation2 extends MetadataPatchOperation{static{this.operationType="move"}constructor(field,from,to){super(MetadataPatchMoveOperation2.operationType,field),this.from=from,this.to=to}toOperation(){return{op:this.op,from:`/metadata/${this.field}/${this.from}`,path:`/metadata/${this.field}/${this.to}`}}}return MetadataPatchMoveOperation2})(),MetadataPatchRemoveOperation=(()=>{class MetadataPatchRemoveOperation2 extends MetadataPatchOperation{static{this.operationType="remove"}constructor(field,place){super(MetadataPatchRemoveOperation2.operationType,field),this.place=place}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`}}}return MetadataPatchRemoveOperation2})(),MetadataPatchReplaceOperation=(()=>{class MetadataPatchReplaceOperation2 extends MetadataPatchOperation{static{this.operationType="replace"}constructor(field,place,value){super(MetadataPatchReplaceOperation2.operationType,field),this.place=place,this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`,value:this.value}}}return MetadataPatchReplaceOperation2})();var metadata_models=__webpack_require__(32084),empty_util=__webpack_require__(2794),DsoEditMetadataChangeType=function(DsoEditMetadataChangeType2){return DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.UPDATE=1]="UPDATE",DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.ADD=2]="ADD",DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.REMOVE=3]="REMOVE",DsoEditMetadataChangeType2}(DsoEditMetadataChangeType||{});class DsoEditMetadataValue{constructor(value,added=!1){this.editing=!1,this.reordered=!1,this.originalValue=value,this.newValue=Object.assign(new metadata_models.vD,value),added&&(this.change=DsoEditMetadataChangeType.ADD,this.editing=!0)}confirmChanges(finishEditing=!1){this.reordered=this.originalValue.place!==this.newValue.place,((0,empty_util.Tn)(this.change)||this.change===DsoEditMetadataChangeType.UPDATE)&&(this.change=this.originalValue.value!==this.newValue.value||this.originalValue.language!==this.newValue.language||this.originalValue.authority!==this.newValue.authority||this.originalValue.confidence!==this.newValue.confidence?DsoEditMetadataChangeType.UPDATE:void 0),finishEditing&&(this.editing=!1)}hasChanges(){return(0,empty_util.a4)(this.change)||this.reordered}discardAndMarkReinstatable(){(this.change===DsoEditMetadataChangeType.UPDATE||this.reordered)&&(this.reinstatableValue=this.newValue),this.reinstatableChange=this.change,this.discard(!1)}discard(keepPlace=!0){this.change=void 0;const place=this.newValue.place;this.newValue=Object.assign(new metadata_models.vD,this.originalValue),keepPlace&&(this.newValue.place=place),this.confirmChanges(!0)}reinstate(){(0,empty_util.a4)(this.reinstatableValue)&&(this.newValue=this.reinstatableValue,this.reinstatableValue=void 0),(0,empty_util.a4)(this.reinstatableChange)&&(this.change=this.reinstatableChange,this.reinstatableChange=void 0),this.confirmChanges()}isReinstatable(){return(0,empty_util.a4)(this.reinstatableValue)||(0,empty_util.a4)(this.reinstatableChange)}resetReinstatable(){this.reinstatableValue=void 0,this.reinstatableChange=void 0}}class DsoEditMetadataForm{constructor(metadata){this.originalFieldKeys=[],this.fieldKeys=[],this.fields={},this.reinstatableNewValues={},Object.entries(metadata).forEach(([mdField,values])=>{this.originalFieldKeys.push(mdField),this.fieldKeys.push(mdField),this.setValuesForFieldSorted(mdField,values.map(value=>new DsoEditMetadataValue(value)))}),this.sortFieldKeys()}add(){(0,empty_util.Tn)(this.newValue)&&(this.newValue=new DsoEditMetadataValue(new metadata_models.vD,!0))}setMetadataField(mdField){this.newValue.editing=!1,this.addValueToField(this.newValue,mdField);const place=this.fields[mdField].length-1;this.fields[mdField][place].originalValue.place=place,this.fields[mdField][place].newValue.place=place,this.newValue=void 0}addValueToField(value,mdField){(0,empty_util.Im)(this.fields[mdField])&&(this.fieldKeys.push(mdField),this.sortFieldKeys(),this.fields[mdField]=[]),this.fields[mdField].push(value)}remove(mdField,index){(0,empty_util.hj)(this.fields[mdField])&&(this.fields[mdField].splice(index,1),0===this.fields[mdField].length&&(this.fieldKeys.splice(this.fieldKeys.indexOf(mdField),1),delete this.fields[mdField]))}hasChanges(){return Object.values(this.fields).some(values=>values.some(value=>value.hasChanges()))}hasOrderChanges(mdField){return this.fields[mdField].some(value=>value.originalValue.place!==value.newValue.place)}discard(){this.resetReinstatable(),Object.entries(this.fields).forEach(([field,values])=>{let removeFromIndex=-1;values.forEach((value,index)=>{value.change===DsoEditMetadataChangeType.ADD?((0,empty_util.Im)(this.reinstatableNewValues[field])&&(this.reinstatableNewValues[field]=[]),this.reinstatableNewValues[field].push(value),-1===removeFromIndex&&(removeFromIndex=index)):value.discardAndMarkReinstatable()}),removeFromIndex>-1&&this.fields[field].splice(removeFromIndex,this.fields[field].length-removeFromIndex)}),this.fieldKeys.forEach(field=>{this.originalFieldKeys.indexOf(field)<0&&delete this.fields[field]}),this.fieldKeys=[...this.originalFieldKeys],this.sortFieldKeys(),this.fieldKeys.forEach(field=>{this.setValuesForFieldSorted(field,this.fields[field])})}resetOrder(mdField){this.fields[mdField].forEach(value=>{value.newValue.place=value.originalValue.place,value.confirmChanges()}),this.setValuesForFieldSorted(mdField,this.fields[mdField])}sortFieldKeys(){this.fieldKeys.sort((a,b)=>a.localeCompare(b))}reinstate(){Object.values(this.fields).forEach(values=>{values.forEach(value=>{value.reinstate()})}),Object.entries(this.reinstatableNewValues).forEach(([field,values])=>{values.forEach(value=>{this.addValueToField(value,field)})}),this.fieldKeys.forEach(field=>{this.setValuesForFieldSorted(field,this.fields[field])}),this.reinstatableNewValues={}}isReinstatable(){return(0,empty_util.hj)(this.reinstatableNewValues)||Object.values(this.fields).some(values=>values.some(value=>value.isReinstatable()))}resetReinstatable(){this.reinstatableNewValues={},Object.values(this.fields).forEach(values=>{values.forEach(value=>{value.resetReinstatable()})})}setValuesForFieldSorted(mdField,values){this.fields[mdField]=values.sort((a,b)=>a.newValue.place-b.newValue.place)}getOperations(moveAnalyser){const operations=[];return Object.entries(this.fields).forEach(([field,values])=>{const replaceOperations=[],removeOperations=[],addOperations=[];[...values].sort((a,b)=>a.originalValue.place-b.originalValue.place).forEach(value=>{(0,empty_util.a4)(value.change)&&(value.change===DsoEditMetadataChangeType.UPDATE?(value.originalValue.value!==value.newValue.value||value.originalValue.language!==value.newValue.language||value.originalValue.authority!==value.newValue.authority||value.originalValue.confidence!==value.newValue.confidence)&&replaceOperations.push(new MetadataPatchReplaceOperation(field,value.originalValue.place,{value:value.newValue.value,language:value.newValue.language,authority:value.newValue.authority,confidence:value.newValue.confidence})):value.change===DsoEditMetadataChangeType.REMOVE?removeOperations.push(new MetadataPatchRemoveOperation(field,value.originalValue.place)):value.change===DsoEditMetadataChangeType.ADD?addOperations.push(new MetadataPatchAddOperation(field,{value:value.newValue.value,language:value.newValue.language,authority:value.newValue.authority,confidence:value.newValue.confidence})):console.warn("Illegal metadata change state detected for",value))}),operations.push(...replaceOperations.map(operation=>operation.toOperation())),operations.push(...removeOperations.sort((a,b)=>b.place-a.place).map(operation=>operation.toOperation())),operations.push(...addOperations.map(operation=>operation.toOperation()))}),Object.entries(this.fields).forEach(([field,values])=>{const valuesWithoutRemoved=values.filter(value=>value.change!==DsoEditMetadataChangeType.REMOVE),moveOperations=moveAnalyser.diff([...valuesWithoutRemoved].sort((a,b)=>a.originalValue.place-b.originalValue.place).map(value=>value.originalValue.place),[...valuesWithoutRemoved].sort((a,b)=>a.newValue.place-b.newValue.place).map(value=>value.originalValue.place)).map(operation=>new MetadataPatchMoveOperation(field,+operation.from.substr(1),+operation.path.substr(1)).toOperation());operations.push(...moveOperations)}),operations}}},36482:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>DsoEditMetadataHeadersComponent});var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2385),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);let DsoEditMetadataHeadersComponent=(()=>{class DsoEditMetadataHeadersComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataHeadersComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:DsoEditMetadataHeadersComponent2,selectors:[["ds-dso-edit-metadata-headers"]],inputs:{dsoType:"dsoType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:18,vars:12,consts:[[1,"d-flex","flex-row","ds-field-row","ds-header-row"],[1,"lbl-cell"],[1,"flex-grow-1"],[1,"d-flex","flex-row"],[1,"flex-grow-1","ds-flex-cell","ds-value-cell"],[1,"dont-break-out","preserve-line-breaks"],[1,"ds-flex-cell","ds-lang-cell"],[1,"text-center","ds-flex-cell","ds-edit-cell"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"b",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(10,"div",6)(11,"b"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(14,"div",7)(15,"b"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()()()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(3,4,ctx.dsoType+".edit.metadata.headers.field")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(9,6,ctx.dsoType+".edit.metadata.headers.value")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(13,8,ctx.dsoType+".edit.metadata.headers.language")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(17,10,ctx.dsoType+".edit.metadata.headers.edit")))},dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.ds-header-row[_ngcontent-%COMP%]{background-color:var(--bs-gray-100)}",".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg-subtle)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning-border-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger-border-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success-border-subtle)}"]})}}return DsoEditMetadataHeadersComponent2})()},82:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>DsoEditMetadataValueHeadersComponent});var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2385),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);let DsoEditMetadataValueHeadersComponent=(()=>{class DsoEditMetadataValueHeadersComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataValueHeadersComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:DsoEditMetadataValueHeadersComponent2,selectors:[["ds-dso-edit-metadata-value-headers"]],inputs:{dsoType:"dsoType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:10,vars:9,consts:[["role","row",1,"visually-hidden"],["role","columnheader"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(4,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(7,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(3,3,ctx.dsoType+".edit.metadata.headers.value")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(6,5,ctx.dsoType+".edit.metadata.headers.language")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(9,7,ctx.dsoType+".edit.metadata.headers.edit")))},dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.D9],styles:[".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg-subtle)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning-border-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger-border-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success-border-subtle)}"]})}}return DsoEditMetadataValueHeadersComponent2})()},10992:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>DsoEditMetadataValueComponent});var drag_drop=__webpack_require__(53647),common=__webpack_require__(87514),core=__webpack_require__(25376),fesm2022_forms=__webpack_require__(13054),router=__webpack_require__(18134),ng_bootstrap=__webpack_require__(87969),ngx_translate_core=__webpack_require__(2385),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),dso_name_service=__webpack_require__(11481),relationship_data_service=__webpack_require__(31158),metadata_service=__webpack_require__(28067),confidence_type=__webpack_require__(77480),metadata_representation_model=(__webpack_require__(21571),__webpack_require__(27434),__webpack_require__(87919)),item_page_routing_paths=__webpack_require__(88292),btn_disabled_directive=__webpack_require__(69919),empty_util=__webpack_require__(2794),authority_confidence_state_directive=__webpack_require__(37850),themed_type_badge_component=__webpack_require__(88395),debounce_directive=__webpack_require__(91041),dso_edit_metadata_form=__webpack_require__(42489),item_data_service=__webpack_require__(94149),shared_operators=__webpack_require__(39022),vocabulary_service=__webpack_require__(99508),follow_link_config_model=__webpack_require__(76715);let DsoEditMetadataFieldService=(()=>{class DsoEditMetadataFieldService2{constructor(itemService,vocabularyService){this.itemService=itemService,this.vocabularyService=vocabularyService}findDsoFieldVocabulary(dso,mdField){return(0,empty_util.hj)(mdField)?this.itemService.findByHref(dso._links.self.href,!0,!0,(0,follow_link_config_model.s)("owningCollection")).pipe((0,shared_operators.ak)(),(0,operators.nx)(item=>item.owningCollection),(0,shared_operators.ak)()).pipe((0,operators.nx)(c=>this.vocabularyService.getVocabularyByMetadataAndCollection(mdField,c.uuid).pipe((0,shared_operators.ak)()))):(0,cjs.of)(void 0)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataFieldService2)(core.KVO(item_data_service.ItemDataService),core.KVO(vocabulary_service.g))}}static{this.\u0275prov=core.jDH({token:DsoEditMetadataFieldService2,factory:DsoEditMetadataFieldService2.\u0275fac,providedIn:"root"})}}return DsoEditMetadataFieldService2})();var EditMetadataValueFieldType=function(EditMetadataValueFieldType2){return EditMetadataValueFieldType2.PLAIN_TEXT="PLAIN_TEXT",EditMetadataValueFieldType2.ENTITY_TYPE="ENTITY_TYPE",EditMetadataValueFieldType2.AUTHORITY="AUTHORITY",EditMetadataValueFieldType2}(EditMetadataValueFieldType||{}),abstract_component_loader_component=__webpack_require__(36021),dynamic_component_loader_directive=__webpack_require__(48872),listable_object_decorator=__webpack_require__(10102),registry_service=__webpack_require__(69911),dynamic_onebox_component=__webpack_require__(74009),dynamic_onebox_model=__webpack_require__(25067),dynamic_scrollable_dropdown_component=__webpack_require__(87293),dynamic_scrollable_dropdown_model=__webpack_require__(83935),form_field_metadata_value_model=__webpack_require__(77493),notifications_service=__webpack_require__(76623);let AbstractDsoEditMetadataValueFieldComponent=(()=>{class AbstractDsoEditMetadataValueFieldComponent2{constructor(){this.confirm=new core.bkB}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||AbstractDsoEditMetadataValueFieldComponent2)}}static{this.\u0275cmp=core.VBU({type:AbstractDsoEditMetadataValueFieldComponent2,selectors:[["ds-abstract-dso-edit-metadata-value-field"]],inputs:{context:"context",dso:"dso",dsoType:"dsoType",type:"type",mdField:"mdField",mdValue:"mdValue"},outputs:{confirm:"confirm"},standalone:!0,features:[core.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}}return AbstractDsoEditMetadataValueFieldComponent2})();function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"textarea",5),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r1);const ctx_r1=core.XpG(2);return core.DH7(ctx_r1.mdValue.newValue.value,$event)||(ctx_r1.mdValue.newValue.value=$event),core.Njj($event)}),core.bIt("onDebounce",function(){core.eBV(_r1);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.confirm.emit(!1))}),core.EFF(2,"    "),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.R50("ngModel",ctx_r1.mdValue.newValue.value),core.Y8G("dsDebounce",300),core.BMQ("aria-label",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.value"))}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_3_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"ds-dynamic-scrollable-dropdown",6),core.bIt("change",function($event){core.eBV(_r3);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.onChangeAuthorityField($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("bindId",ctx_r1.mdField)("group",ctx_r1.group)("model",ctx_r1.getModel())}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_5_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"ds-dynamic-onebox",7),core.bIt("change",function($event){core.eBV(_r4);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.onChangeAuthorityField($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("group",ctx_r1.group)("model",ctx_r1.getModel())}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_8_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"button",8),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.toggleFreeTextEdition())}),core.nrm(2,"i",9),core.EFF(3),core.nI1(4,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("title",ctx_r1.enabledFreeTextEditing?ctx_r1.dsoType+".edit.metadata.edit.buttons.disable-free-text-editing":core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.buttons.enable-free-text-editing")),core.R7$(2),core.Y8G("ngClass",ctx_r1.enabledFreeTextEditing?"fa-lock":"fa-unlock"),core.R7$(),core.SpI(" ",core.bMT(4,5,ctx_r1.enabledFreeTextEditing?ctx_r1.dsoType+".edit.metadata.edit.buttons.disable-free-text-editing":ctx_r1.dsoType+".edit.metadata.edit.buttons.enable-free-text-editing")," ")}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Conditional_5_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"button",15),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG(3);return core.Njj(ctx_r1.onChangeEditingAuthorityStatus(!1))}),core.nrm(3,"i",16),core.k0s()}if(2&rf){const ctx_r1=core.XpG(3);core.FS9("ngbTooltip",core.bMT(1,2,ctx_r1.dsoType+".edit.metadata.edit.buttons.close-authority-edition")),core.Y8G("title",core.bMT(2,4,ctx_r1.dsoType+".edit.metadata.edit.buttons.close-authority-edition"))}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Conditional_6_Template(rf,ctx){if(1&rf){const _r8=core.RV6();core.j41(0,"button",17),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r8);const ctx_r1=core.XpG(3);return core.Njj(ctx_r1.onChangeEditingAuthorityStatus(!0))}),core.nrm(3,"i",18),core.k0s()}if(2&rf){const ctx_r1=core.XpG(3);core.FS9("ngbTooltip",core.bMT(1,2,ctx_r1.dsoType+".edit.metadata.edit.buttons.open-authority-edition")),core.Y8G("title",core.bMT(2,4,ctx_r1.dsoType+".edit.metadata.edit.buttons.open-authority-edition"))}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"div",4)(1,"div",10),core.nrm(2,"i",11),core.j41(3,"input",12),core.nI1(4,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r6);const ctx_r1=core.XpG(2);return core.DH7(ctx_r1.mdValue.newValue.authority,$event)||(ctx_r1.mdValue.newValue.authority=$event),core.Njj($event)}),core.bIt("change",function(){core.eBV(_r6);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.onChangeAuthorityKey())}),core.k0s(),core.DNE(5,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Conditional_5_Template,4,6,"button",13)(6,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Conditional_6_Template,4,6,"button",14),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(2);core.R7$(2),core.Y8G("authorityValue",ctx_r1.mdValue.newValue.confidence)("iconMode",!0),core.R7$(),core.R50("ngModel",ctx_r1.mdValue.newValue.authority),core.Y8G("disabled",!ctx_r1.editingAuthority),core.BMQ("aria-label",core.bMT(4,6,ctx_r1.dsoType+".edit.metadata.edit.authority.key")),core.R7$(2),core.vxM(ctx_r1.editingAuthority?5:6)}}function DsoEditMetadataAuthorityFieldComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(core.DNE(0,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_0_Template,3,5,"textarea",0),core.nI1(1,"async"),core.nI1(2,"async"),core.DNE(3,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_3_Template,1,3,"ds-dynamic-scrollable-dropdown",1),core.nI1(4,"async"),core.DNE(5,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_5_Template,1,2,"ds-dynamic-onebox",2),core.nI1(6,"async"),core.nI1(7,"async"),core.DNE(8,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_8_Template,5,7,"button",3),core.nI1(9,"async"),core.nI1(10,"async"),core.DNE(11,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Conditional_11_Template,7,8,"div",4),core.nI1(12,"async"),core.nI1(13,"async")),2&rf){const ctx_r1=core.XpG();core.vxM(!0!==core.bMT(1,5,ctx_r1.isAuthorityControlled$)||ctx_r1.enabledFreeTextEditing&&!0!==core.bMT(2,7,ctx_r1.isSuggesterVocabulary$)?0:-1),core.R7$(3),core.vxM(core.bMT(4,9,ctx_r1.isScrollableVocabulary$)&&!ctx_r1.enabledFreeTextEditing?3:-1),core.R7$(2),core.vxM(core.bMT(6,11,ctx_r1.isHierarchicalVocabulary$)&&!ctx_r1.enabledFreeTextEditing||core.bMT(7,13,ctx_r1.isSuggesterVocabulary$)?5:-1),core.R7$(3),core.vxM(core.bMT(9,15,ctx_r1.isHierarchicalVocabulary$)||core.bMT(10,17,ctx_r1.isScrollableVocabulary$)?8:-1),core.R7$(3),core.vxM(core.bMT(12,19,ctx_r1.isAuthorityControlled$)&&core.bMT(13,21,ctx_r1.isSuggesterVocabulary$)?11:-1)}}let DsoEditMetadataAuthorityFieldComponent=(()=>{class DsoEditMetadataAuthorityFieldComponent2 extends AbstractDsoEditMetadataValueFieldComponent{constructor(cdr,dsoEditMetadataFieldService,itemService,notificationsService,registryService,translate){super(),this.cdr=cdr,this.dsoEditMetadataFieldService=dsoEditMetadataFieldService,this.itemService=itemService,this.notificationsService=notificationsService,this.registryService=registryService,this.translate=translate,this.editingAuthority=!1,this.enabledFreeTextEditing=!1,this.group=new fesm2022_forms.J3({authorityField:new fesm2022_forms.hs}),this.model$=new cjs.BehaviorSubject(null)}ngOnInit(){this.initAuthorityProperties()}initAuthorityProperties(){this.vocabulary$=this.dsoEditMetadataFieldService.findDsoFieldVocabulary(this.dso,this.mdField),this.isAuthorityControlled$=this.vocabulary$.pipe((0,operators.Mi)(v=>this.model$.next(this.createModel(v))),(0,operators.Tj)(result=>(0,empty_util.hj)(result))),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,operators.Tj)(result=>(0,empty_util.hj)(result)&&result.hierarchical)),this.isScrollableVocabulary$=this.vocabulary$.pipe((0,operators.Tj)(result=>(0,empty_util.hj)(result)&&result.scrollable)),this.isSuggesterVocabulary$=this.vocabulary$.pipe((0,operators.Tj)(result=>(0,empty_util.hj)(result)&&!result.hierarchical&&!result.scrollable))}createModel(vocabulary){if((0,empty_util.hj)(vocabulary)){let formFieldValue;(0,empty_util.hj)(this.mdValue.newValue.value)?(formFieldValue=new form_field_metadata_value_model.e,formFieldValue.value=this.mdValue.newValue.value,formFieldValue.display=this.mdValue.newValue.value,this.mdValue.newValue.authority&&(formFieldValue.authority=this.mdValue.newValue.authority,formFieldValue.confidence=this.mdValue.newValue.confidence)):formFieldValue=this.mdValue.newValue.value;const vocabularyOptions=vocabulary?{closed:!1,name:vocabulary.name}:null;return vocabulary.scrollable?new dynamic_scrollable_dropdown_model.j({id:"authorityField",label:`${this.dsoType}.edit.metadata.edit.value`,placeholder:`${this.dsoType}.edit.metadata.edit.value`,vocabularyOptions,metadataFields:[this.mdField],value:formFieldValue,repeatable:!1,submissionId:"edit-metadata",hasSelectableMetadata:!1,maxOptions:10}):new dynamic_onebox_model.K({id:"authorityField",label:`${this.dsoType}.edit.metadata.edit.value`,vocabularyOptions,metadataFields:[this.mdField],value:formFieldValue,repeatable:!1,submissionId:"edit-metadata",hasSelectableMetadata:!1})}return null}ngOnChanges(changes){(0,empty_util.hj)(changes.mdField)&&!changes.mdField.firstChange&&(0,empty_util.hj)(changes.mdField.currentValue)&&((0,empty_util.hj)(changes.mdField.previousValue)&&changes.mdField.previousValue!==changes.mdField.currentValue&&(this.mdValue.newValue.authority=null,this.mdValue.newValue.confidence=confidence_type.l.CF_UNSET),changes.mdField.currentValue.includes(".")&&this.validateMetadataField().subscribe(isValid=>{isValid&&(this.initAuthorityProperties(),this.cdr.detectChanges())}))}validateMetadataField(){return this.registryService.queryMetadataFields(this.mdField,null,!0,!1,(0,follow_link_config_model.s)("schema")).pipe((0,shared_operators.qD)(),(0,operators.nx)(rd=>rd.hasSucceeded?(0,cjs.of)(rd).pipe((0,shared_operators.LB)(),(0,operators.s)(1),(0,operators.Tj)(fields=>fields.indexOf(this.mdField)>-1)):(this.notificationsService.error(this.translate.instant(`${this.dsoType}.edit.metadata.metadatafield.error`),rd.errorMessage),[!1])))}onChangeAuthorityField(event){event?(this.mdValue.newValue.value=event.value,event.authority?(this.mdValue.newValue.authority=event.authority,this.mdValue.newValue.confidence=confidence_type.l.CF_ACCEPTED):(this.mdValue.newValue.authority=null,this.mdValue.newValue.confidence=confidence_type.l.CF_UNSET),this.confirm.emit(!1)):(this.mdValue.newValue.value="",this.mdValue.newValue.authority=null,this.mdValue.newValue.confidence=confidence_type.l.CF_UNSET,this.confirm.emit(!1))}getModel(){return this.model$.value}onChangeEditingAuthorityStatus(status){this.editingAuthority=status}onChangeAuthorityKey(){""===this.mdValue.newValue.authority?(this.mdValue.newValue.confidence=confidence_type.l.CF_NOVALUE,this.confirm.emit(!1)):this.mdValue.newValue.authority!==this.mdValue.originalValue.authority&&(this.mdValue.newValue.confidence=confidence_type.l.CF_ACCEPTED,this.confirm.emit(!1))}toggleFreeTextEdition(){this.enabledFreeTextEditing&&this.getModel().value!==this.mdValue.newValue.value&&this.initAuthorityProperties(),this.enabledFreeTextEditing=!this.enabledFreeTextEditing}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataAuthorityFieldComponent2)(core.rXU(core.gRc),core.rXU(DsoEditMetadataFieldService),core.rXU(item_data_service.ItemDataService),core.rXU(notifications_service.I),core.rXU(registry_service.x),core.rXU(ngx_translate_core.c$))}}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataAuthorityFieldComponent2,selectors:[["ds-dso-edit-metadata-authority-field"]],standalone:!0,features:[core.Vt3,core.OA$,core.aNF],decls:1,vars:1,consts:[["rows","5",1,"form-control",3,"ngModel","dsDebounce"],[3,"bindId","group","model"],[3,"group","model"],[1,"btn","btn-secondary","w-100","mt-2",3,"title"],[1,"mt-2"],["rows","5",1,"form-control",3,"ngModelChange","onDebounce","ngModel","dsDebounce"],[3,"change","bindId","group","model"],[3,"change","group","model"],[1,"btn","btn-secondary","w-100","mt-2",3,"click","title"],[1,"fas","fa-fw",3,"ngClass"],[1,"btn-group","w-75"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"fas","fa-fw","p-0","me-1","mt-auto","mb-auto",3,"authorityValue","iconMode"],["data-test","authority-input",1,"form-control","form-outline",3,"ngModelChange","change","ngModel","disabled"],["id","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"title","ngbTooltip"],["id","metadata-confirm-btn",1,"btn","btn-outline-secondary","btn-sm","ng-star-inserted",3,"title","ngbTooltip"],["id","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip"],[1,"fas","fa-lock-open","fa-fw"],["id","metadata-confirm-btn",1,"btn","btn-outline-secondary","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip"],[1,"fas","fa-lock","fa-fw"]],template:function(rf,ctx){1&rf&&core.DNE(0,DsoEditMetadataAuthorityFieldComponent_Conditional_0_Template,14,23),2&rf&&core.vxM(ctx.mdValue.editing?0:-1)},dependencies:[common.Jj,authority_confidence_state_directive.K,debounce_directive.R,dynamic_onebox_component.d,dynamic_scrollable_dropdown_component.s,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,ng_bootstrap.n8,ng_bootstrap.md,common.YU,ngx_translate_core.h,ngx_translate_core.D9]})}}return DsoEditMetadataAuthorityFieldComponent2})();var entity_type_data_service=__webpack_require__(62744);const _forTrack0=($index,$item)=>$item.label;function DsoEditMetadataEntityFieldComponent_For_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"option",1),core.EFF(1),core.k0s()),2&rf){const entity_r1=ctx.$implicit;core.Y8G("value","none"===entity_r1.label?void 0:entity_r1.label),core.R7$(),core.SpI(" ",entity_r1.label," ")}}let DsoEditMetadataEntityFieldComponent=(()=>{class DsoEditMetadataEntityFieldComponent2 extends AbstractDsoEditMetadataValueFieldComponent{constructor(entityTypeService){super(),this.entityTypeService=entityTypeService}ngOnInit(){this.entities$=this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe((0,shared_operators.Ar)())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataEntityFieldComponent2)(core.rXU(entity_type_data_service.f))}}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataEntityFieldComponent2,selectors:[["ds-dso-edit-metadata-entity-field"]],standalone:!0,features:[core.Vt3,core.aNF],decls:5,vars:6,consts:[[1,"form-select",3,"ngModelChange","ngModel"],[3,"value"]],template:function(rf,ctx){1&rf&&(core.j41(0,"select",0),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){return core.DH7(null==ctx.mdValue?null:ctx.mdValue.newValue.value,$event)||((null==ctx.mdValue?null:ctx.mdValue.newValue).value=$event),$event}),core.bIt("ngModelChange",function(){return ctx.confirm.emit(!1)}),core.Z7z(2,DsoEditMetadataEntityFieldComponent_For_3_Template,2,2,"option",1,_forTrack0),core.nI1(4,"async"),core.k0s()),2&rf&&(core.R50("ngModel",null==ctx.mdValue?null:ctx.mdValue.newValue.value),core.BMQ("aria-label",core.bMT(1,2,ctx.dsoType+".edit.metadata.edit.value")),core.R7$(2),core.Dyx(core.bMT(4,4,ctx.entities$)))},dependencies:[common.Jj,fesm2022_forms.YN,fesm2022_forms.xH,fesm2022_forms.y7,fesm2022_forms.wz,fesm2022_forms.BC,fesm2022_forms.vS,ngx_translate_core.h,ngx_translate_core.D9]})}}return DsoEditMetadataEntityFieldComponent2})();const map=new Map([[EditMetadataValueFieldType.PLAIN_TEXT,new Map([[listable_object_decorator.A2,new Map([[listable_object_decorator.SS,(()=>{class DsoEditMetadataTextFieldComponent2 extends AbstractDsoEditMetadataValueFieldComponent{static{this.\u0275fac=(()=>{let \u0275DsoEditMetadataTextFieldComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275DsoEditMetadataTextFieldComponent_BaseFactory||(\u0275DsoEditMetadataTextFieldComponent_BaseFactory=core.xGo(DsoEditMetadataTextFieldComponent2)))(__ngFactoryType__||DsoEditMetadataTextFieldComponent2)}})()}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataTextFieldComponent2,selectors:[["ds-dso-edit-metadata-text-field"]],standalone:!0,features:[core.Vt3,core.aNF],decls:2,vars:5,consts:[["rows","5",1,"form-control",3,"ngModelChange","onDebounce","ngModel","dsDebounce"]],template:function(rf,ctx){1&rf&&(core.j41(0,"textarea",0),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){return core.DH7(null==ctx.mdValue?null:ctx.mdValue.newValue.value,$event)||((null==ctx.mdValue?null:ctx.mdValue.newValue).value=$event),$event}),core.bIt("onDebounce",function(){return ctx.confirm.emit(!1)}),core.k0s()),2&rf&&(core.R50("ngModel",null==ctx.mdValue?null:ctx.mdValue.newValue.value),core.Y8G("dsDebounce",300),core.BMQ("aria-label",core.bMT(1,3,ctx.dsoType+".edit.metadata.edit.value")))},dependencies:[debounce_directive.R,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,ngx_translate_core.h,ngx_translate_core.D9]})}}return DsoEditMetadataTextFieldComponent2})()]])]])],[EditMetadataValueFieldType.ENTITY_TYPE,new Map([[listable_object_decorator.A2,new Map([[listable_object_decorator.SS,DsoEditMetadataEntityFieldComponent]])]])],[EditMetadataValueFieldType.AUTHORITY,new Map([[listable_object_decorator.A2,new Map([[listable_object_decorator.SS,DsoEditMetadataAuthorityFieldComponent]])]])]]),DEFAULT_EDIT_METADATA_FIELD_TYPE=EditMetadataValueFieldType.PLAIN_TEXT;function DsoEditMetadataValueFieldLoaderComponent_ng_template_0_Template(rf,ctx){}let DsoEditMetadataValueFieldLoaderComponent=(()=>{class DsoEditMetadataValueFieldLoaderComponent2 extends abstract_component_loader_component.e{constructor(){super(...arguments),this.confirm=new core.bkB,this.inputNamesDependentForComponent=["context","type"],this.inputNames=["context","dso","dsoType","type","mdField","mdValue"],this.outputNames=["confirm"]}getComponent(){return function getDsoEditMetadataValueFieldComponent(type,context=listable_object_decorator.A2,theme=listable_object_decorator.SS){if(type){const mapForEntity=map.get(type);if((0,empty_util.a4)(mapForEntity)){const contextMap=mapForEntity.get(context);if((0,empty_util.a4)(contextMap)){const match=(0,listable_object_decorator.eW)(contextMap,theme);if((0,empty_util.a4)(match))return match;if((0,empty_util.a4)(contextMap.get(listable_object_decorator.SS)))return contextMap.get(listable_object_decorator.SS)}if((0,empty_util.a4)(mapForEntity.get(listable_object_decorator.A2))&&(0,empty_util.a4)(mapForEntity.get(listable_object_decorator.A2).get(listable_object_decorator.SS)))return mapForEntity.get(listable_object_decorator.A2).get(listable_object_decorator.SS)}}return map.get(DEFAULT_EDIT_METADATA_FIELD_TYPE).get(listable_object_decorator.A2).get(listable_object_decorator.SS)}(this.type,this.context,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let \u0275DsoEditMetadataValueFieldLoaderComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275DsoEditMetadataValueFieldLoaderComponent_BaseFactory||(\u0275DsoEditMetadataValueFieldLoaderComponent_BaseFactory=core.xGo(DsoEditMetadataValueFieldLoaderComponent2)))(__ngFactoryType__||DsoEditMetadataValueFieldLoaderComponent2)}})()}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataValueFieldLoaderComponent2,selectors:[["ds-dso-edit-metadata-value-field-loader"]],inputs:{context:"context",dso:"dso",dsoType:"dsoType",type:"type",mdField:"mdField",mdValue:"mdValue"},outputs:{confirm:"confirm"},standalone:!0,features:[core.Vt3,core.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(rf,ctx){1&rf&&core.DNE(0,DsoEditMetadataValueFieldLoaderComponent_ng_template_0_Template,0,0,"ng-template",1,0,core.C5r)},dependencies:[dynamic_component_loader_directive.z],encapsulation:2})}}return DsoEditMetadataValueFieldLoaderComponent2})();const _c0=(a0,a1,a2,a3)=>({"ds-warning":a0,"ds-danger":a1,"ds-success":a2,"h-100":a3});function DsoEditMetadataValueComponent_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",2),core.EFF(1),core.k0s()),2&rf){const ctx_r1=core.XpG();core.R7$(),core.JRh(ctx_r1.mdValue.newValue.value)}}function DsoEditMetadataValueComponent_Conditional_6_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"ds-dso-edit-metadata-value-field-loader",19),core.nI1(1,"async"),core.bIt("confirm",function($event){core.eBV(_r3);const ctx_r1=core.XpG();return core.Njj(ctx_r1.confirm.emit($event))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("context",ctx_r1.context)("dso",ctx_r1.dso)("dsoType",ctx_r1.dsoType)("mdField",ctx_r1.mdField)("mdValue",ctx_r1.mdValue)("type",core.bMT(1,6,ctx_r1.fieldType$))}}function DsoEditMetadataValueComponent_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"span",20),core.nrm(2,"i",21),core.EFF(3),core.nI1(4,"translate"),core.k0s()()),2&rf){const ctx_r1=core.XpG();core.R7$(2),core.Y8G("authorityValue",ctx_r1.mdValue.newValue)("iconMode",!0),core.R7$(),core.Lme(" ",core.bMT(4,4,ctx_r1.dsoType+".edit.metadata.authority.label")," ",ctx_r1.mdValue.newValue.authority," ")}}function DsoEditMetadataValueComponent_Conditional_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",4)(1,"a",22),core.nI1(2,"async"),core.EFF(3),core.nI1(4,"async"),core.k0s(),core.nrm(5,"ds-type-badge",23),core.k0s()),2&rf){const ctx_r1=core.XpG(),mdRepresentation_r4=core.r8f(2);core.R7$(),core.Y8G("routerLink",core.bMT(2,3,ctx_r1.mdRepresentationItemRoute$)),core.R7$(2),core.JRh(core.bMT(4,5,ctx_r1.mdRepresentationName$)),core.R7$(2),core.Y8G("object",mdRepresentation_r4)}}function DsoEditMetadataValueComponent_Conditional_10_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"input",24),core.nI1(1,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r5);const ctx_r1=core.XpG();return core.DH7(ctx_r1.mdValue.newValue.language,$event)||(ctx_r1.mdValue.newValue.language=$event),core.Njj($event)}),core.bIt("onDebounce",function(){core.eBV(_r5);const ctx_r1=core.XpG();return core.Njj(ctx_r1.confirm.emit(!1))}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.R50("ngModel",ctx_r1.mdValue.newValue.language),core.Y8G("dsDebounce",300),core.BMQ("aria-label",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.language"))}}function DsoEditMetadataValueComponent_Conditional_11_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",2),core.EFF(1),core.k0s()),2&rf){const ctx_r1=core.XpG();core.R7$(),core.JRh(ctx_r1.mdValue.newValue.language)}}function DsoEditMetadataValueComponent_Conditional_19_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"button",25),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r6);const ctx_r1=core.XpG();return core.Njj(ctx_r1.confirm.emit(!0))}),core.nrm(3,"i",26),core.k0s()}if(2&rf){const ctx_r1=core.XpG(),isVirtual_r7=core.r8f(0),saving_r8=core.r8f(17);core.FS9("ngbTooltip",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.buttons.confirm")),core.Y8G("title",core.bMT(2,5,ctx_r1.dsoType+".edit.metadata.edit.buttons.confirm"))("dsBtnDisabled",isVirtual_r7||saving_r8)}}function DsoEditMetadataValueComponent_Conditional_20_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",27),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r9);const ctx_r1=core.XpG();return core.Njj(ctx_r1.edit.emit())}),core.nrm(3,"i",28),core.k0s()}if(2&rf){const ctx_r1=core.XpG(),isVirtual_r7=core.r8f(0),saving_r8=core.r8f(17);core.FS9("ngbTooltip",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.buttons.edit")),core.Y8G("title",core.bMT(2,5,ctx_r1.dsoType+".edit.metadata.edit.buttons.edit"))("dsBtnDisabled",isVirtual_r7||ctx_r1.mdValue.change===ctx_r1.DsoEditMetadataChangeTypeEnum.REMOVE||saving_r8)}}let DsoEditMetadataValueComponent=(()=>{class DsoEditMetadataValueComponent2{constructor(relationshipService,dsoNameService,metadataService,dsoEditMetadataFieldService){this.relationshipService=relationshipService,this.dsoNameService=dsoNameService,this.metadataService=metadataService,this.dsoEditMetadataFieldService=dsoEditMetadataFieldService,this.isOnlyValue=!1,this.edit=new core.bkB,this.confirm=new core.bkB,this.remove=new core.bkB,this.undo=new core.bkB,this.dragging=new core.bkB,this.DsoEditMetadataChangeTypeEnum=dso_edit_metadata_form.QR,this.ConfidenceTypeEnum=confidence_type.l}ngOnInit(){this.initVirtualProperties()}ngOnChanges(changes){changes.mdField&&(this.fieldType$=this.getFieldType())}initVirtualProperties(){this.mdRepresentation$=this.metadataService.isVirtual(this.mdValue.newValue)?this.relationshipService.resolveMetadataRepresentation(this.mdValue.newValue,this.dso,"Item").pipe((0,operators.Tj)(mdRepresentation=>mdRepresentation.representationType===metadata_representation_model.d.Item?mdRepresentation:null)):cjs.EMPTY,this.mdRepresentationItemRoute$=this.mdRepresentation$.pipe((0,operators.Tj)(mdRepresentation=>mdRepresentation?(0,item_page_routing_paths._o)(mdRepresentation):null)),this.mdRepresentationName$=this.mdRepresentation$.pipe((0,operators.Tj)(mdRepresentation=>mdRepresentation?this.dsoNameService.getName(mdRepresentation):null))}getFieldType(){return this.dsoEditMetadataFieldService.findDsoFieldVocabulary(this.dso,this.mdField).pipe((0,operators.Tj)(vocabulary=>(0,empty_util.a4)(vocabulary)?EditMetadataValueFieldType.AUTHORITY:"dspace.entity.type"===this.mdField?EditMetadataValueFieldType.ENTITY_TYPE:EditMetadataValueFieldType.PLAIN_TEXT))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataValueComponent2)(core.rXU(relationship_data_service.RelationshipDataService),core.rXU(dso_name_service.f),core.rXU(metadata_service.T),core.rXU(DsoEditMetadataFieldService))}}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataValueComponent2,selectors:[["ds-dso-edit-metadata-value"]],inputs:{context:"context",dso:"dso",mdField:"mdField",mdValue:"mdValue",dsoType:"dsoType",saving$:"saving$",isOnlyValue:"isOnlyValue"},outputs:{edit:"edit",confirm:"confirm",remove:"remove",undo:"undo",dragging:"dragging"},standalone:!0,features:[core.OA$,core.aNF],decls:33,vars:46,consts:[["role","row","cdkDrag","",1,"d-flex","flex-row","ds-value-row",3,"cdkDragStarted","cdkDragEnded","ngClass"],["role","cell",1,"flex-grow-1","ds-flex-cell","ds-value-cell","d-flex","flex-column"],[1,"dont-break-out","preserve-line-breaks"],[1,"w-100",3,"context","dso","dsoType","mdField","mdValue","type"],[1,"d-flex"],["role","cell",1,"ds-flex-cell","ds-lang-cell"],["type","text",1,"form-control",3,"ngModel","dsDebounce"],["role","cell",1,"text-center","ds-flex-cell","ds-edit-cell"],[1,"btn-group"],[1,"edit-field"],[1,"btn-group","edit-buttons",3,"ngbTooltip"],["data-test","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"title","ngbTooltip","dsBtnDisabled"],["data-test","metadata-edit-btn",1,"btn","btn-outline-primary","btn-sm","ng-star-inserted",3,"title","ngbTooltip","dsBtnDisabled"],["data-test","metadata-remove-btn",1,"btn","btn-outline-danger","btn-sm",3,"click","title","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-trash-alt","fa-fw"],["data-test","metadata-undo-btn",1,"btn","btn-outline-warning","btn-sm",3,"click","title","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-undo-alt","fa-fw"],["data-test","metadata-drag-btn","cdkDragHandle","",1,"btn","btn-outline-secondary","ds-drag-handle","btn-sm",3,"cdkDragHandleDisabled","dsBtnDisabled","title","ngbTooltip"],[1,"fas","fa-grip-vertical","fa-fw"],[1,"w-100",3,"confirm","context","dso","dsoType","mdField","mdValue","type"],[1,"badge","bg-light","border"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"fas","fa-fw","p-0",3,"authorityValue","iconMode"],["target","_blank",1,"me-2",3,"routerLink"],[3,"object"],["type","text",1,"form-control",3,"ngModelChange","onDebounce","ngModel","dsDebounce"],["data-test","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-check","fa-fw"],["data-test","metadata-edit-btn",1,"btn","btn-outline-primary","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-edit","fa-fw"]],template:function(rf,ctx){if(1&rf){const _r1=core.RV6();core.SS7(0),core.j41(1,"div",0),core.bIt("cdkDragStarted",function(){return core.eBV(_r1),core.Njj(ctx.dragging.emit(!0))})("cdkDragEnded",function(){return core.eBV(_r1),core.Njj(ctx.dragging.emit(!1))}),core.SS7(2),core.nI1(3,"async"),core.j41(4,"div",1),core.DNE(5,DsoEditMetadataValueComponent_Conditional_5_Template,2,1,"div",2)(6,DsoEditMetadataValueComponent_Conditional_6_Template,2,8,"ds-dso-edit-metadata-value-field-loader",3)(7,DsoEditMetadataValueComponent_Conditional_7_Template,5,6,"div")(8,DsoEditMetadataValueComponent_Conditional_8_Template,6,7,"div",4),core.k0s(),core.j41(9,"div",5),core.DNE(10,DsoEditMetadataValueComponent_Conditional_10_Template,2,5,"input",6)(11,DsoEditMetadataValueComponent_Conditional_11_Template,2,1,"div",2),core.k0s(),core.j41(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),core.nI1(16,"translate"),core.SS7(17),core.nI1(18,"async"),core.DNE(19,DsoEditMetadataValueComponent_Conditional_19_Template,4,7,"button",11)(20,DsoEditMetadataValueComponent_Conditional_20_Template,4,7,"button",12),core.j41(21,"button",13),core.nI1(22,"translate"),core.nI1(23,"translate"),core.bIt("click",function(){return core.eBV(_r1),core.Njj(ctx.remove.emit())}),core.nrm(24,"i",14),core.k0s(),core.j41(25,"button",15),core.nI1(26,"translate"),core.nI1(27,"translate"),core.bIt("click",function(){return core.eBV(_r1),core.Njj(ctx.undo.emit())}),core.nrm(28,"i",16),core.k0s(),core.j41(29,"button",17),core.nI1(30,"translate"),core.nI1(31,"translate"),core.nrm(32,"i",18),core.k0s()()()()()()}if(2&rf){const isVirtual_r10=core.bH3(ctx.metadataService.isVirtual(ctx.mdValue.newValue));core.R7$(),core.Y8G("ngClass",core.ziG(41,_c0,ctx.mdValue.reordered||ctx.mdValue.change===ctx.DsoEditMetadataChangeTypeEnum.UPDATE,ctx.mdValue.change===ctx.DsoEditMetadataChangeTypeEnum.REMOVE,ctx.mdValue.change===ctx.DsoEditMetadataChangeTypeEnum.ADD,ctx.isOnlyValue)),core.R7$();const mdRepresentation_r11=core.bH3(core.bMT(3,21,ctx.mdRepresentation$));core.R7$(3),core.vxM(ctx.mdValue.editing||mdRepresentation_r11?-1:5),core.R7$(),core.vxM(ctx.mdValue.editing&&!mdRepresentation_r11?6:-1),core.R7$(),core.vxM(isVirtual_r10||ctx.mdValue.editing||!ctx.mdValue.newValue.authority||ctx.mdValue.newValue.confidence===ctx.ConfidenceTypeEnum.CF_UNSET||ctx.mdValue.newValue.confidence===ctx.ConfidenceTypeEnum.CF_NOVALUE?-1:7),core.R7$(),core.vxM(mdRepresentation_r11?8:-1),core.R7$(2),core.vxM(ctx.mdValue.editing?10:11),core.R7$(5),core.Y8G("ngbTooltip",isVirtual_r10?core.bMT(16,24,ctx.dsoType+".edit.metadata.edit.buttons.virtual"):null),core.R7$(2);const saving_r12=core.bH3(core.bMT(18,26,ctx.saving$));core.R7$(2),core.vxM(ctx.mdValue.editing?19:20),core.R7$(2),core.FS9("ngbTooltip",core.bMT(22,29,ctx.dsoType+".edit.metadata.edit.buttons.remove")),core.Y8G("title",core.bMT(23,31,ctx.dsoType+".edit.metadata.edit.buttons.remove"))("dsBtnDisabled",isVirtual_r10||ctx.mdValue.change&&ctx.mdValue.change!==ctx.DsoEditMetadataChangeTypeEnum.ADD||ctx.mdValue.editing||saving_r12),core.R7$(4),core.FS9("ngbTooltip",core.bMT(26,33,ctx.dsoType+".edit.metadata.edit.buttons.undo")),core.Y8G("title",core.bMT(27,35,ctx.dsoType+".edit.metadata.edit.buttons.undo"))("dsBtnDisabled",isVirtual_r10||!ctx.mdValue.change&&ctx.mdValue.reordered||!ctx.mdValue.change&&!ctx.mdValue.editing||saving_r12),core.R7$(4),core.AVh("disabled",ctx.isOnlyValue||saving_r12),core.FS9("ngbTooltip",core.bMT(30,37,ctx.dsoType+".edit.metadata.edit.buttons.drag")),core.Y8G("cdkDragHandleDisabled",ctx.isOnlyValue||saving_r12)("dsBtnDisabled",ctx.isOnlyValue||saving_r12)("title",core.bMT(31,39,ctx.dsoType+".edit.metadata.edit.buttons.drag"))}},dependencies:[common.Jj,authority_confidence_state_directive.K,btn_disabled_directive.A,drag_drop.T1,drag_drop.Fb,debounce_directive.R,DsoEditMetadataValueFieldLoaderComponent,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,ng_bootstrap.n8,ng_bootstrap.md,common.YU,router.Wk,themed_type_badge_component.C,ngx_translate_core.h,ngx_translate_core.D9],styles:[".ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-drag-handle[_ngcontent-%COMP%]:not(.disabled){cursor:grab}  .edit-field>ngb-tooltip-window .tooltip-inner{min-width:var(--ds-dso-edit-virtual-tooltip-min-width)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.badge.bg-light[_ngcontent-%COMP%]{color:var(--bs-gray-900)}",".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg-subtle)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning-border-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg-subtle)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger-border-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg-subtle)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success-border-subtle)}"]})}}return DsoEditMetadataValueComponent2})()},42395:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DsoEditMetadataComponent:()=>DsoEditMetadataComponent});var common=__webpack_require__(87514),ngx_translate_core=__webpack_require__(2385),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),app_config_interface=__webpack_require__(3339),lazy_data_service=__webpack_require__(78658),context_model=__webpack_require__(21571),shared_operators=(__webpack_require__(27434),__webpack_require__(39022)),resource_type=__webpack_require__(87456),alert_component=__webpack_require__(6213),alert_type=__webpack_require__(83113),btn_disabled_directive=__webpack_require__(69919),empty_util=__webpack_require__(2794),themed_loading_component=__webpack_require__(18869),notifications_service=__webpack_require__(76623),dso_edit_metadata_field_values_component=__webpack_require__(68838),dso_edit_metadata_form=__webpack_require__(42489),dso_edit_metadata_headers_component=__webpack_require__(36482),dso_edit_metadata_value_component=__webpack_require__(10992),dso_edit_metadata_value_headers_component=__webpack_require__(82),metadata_field_selector_component=__webpack_require__(52842),core=__webpack_require__(25376),router=__webpack_require__(18134),drag_drop=__webpack_require__(53647);let ArrayMoveChangeAnalyzer=(()=>{class ArrayMoveChangeAnalyzer2{diff(array1,array2){return this.getMoves(array1,array2).map(move=>Object.assign({op:"move",from:"/"+move[0],path:"/"+move[1]}))}getMoves(array1,array2){const moved=[...array2];return array1.reduce((moves,item,index)=>{if((0,empty_util.a4)(item)&&item!==moved[index]){const last=moved.lastIndexOf(item);(0,drag_drop.HD)(moved,last,index),moves.unshift([index,last])}return moves},[])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ArrayMoveChangeAnalyzer2)}}static{this.\u0275prov=core.jDH({token:ArrayMoveChangeAnalyzer2,factory:ArrayMoveChangeAnalyzer2.\u0275fac,providedIn:"root"})}}return ArrayMoveChangeAnalyzer2})();function DsoEditMetadataComponent_Conditional_0_Conditional_10_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"button",17),core.nI1(1,"async"),core.nI1(2,"translate"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r3);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.reinstate())}),core.nrm(4,"i",18),core.j41(5,"span",4),core.EFF(6),core.nI1(7,"translate"),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("dsBtnDisabled",core.bMT(1,4,ctx_r1.saving$))("title",core.bMT(2,6,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.BMQ("aria-label",core.bMT(3,8,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.R7$(6),core.SpI("\xa0",core.bMT(7,10,ctx_r1.dsoType+".edit.metadata.reinstate-button"),"")}}function DsoEditMetadataComponent_Conditional_0_Conditional_19_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"button",19),core.nI1(1,"translate"),core.nI1(2,"async"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r4);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.discard())}),core.nrm(4,"i",20),core.j41(5,"span",4),core.EFF(6),core.nI1(7,"translate"),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("title",core.bMT(1,4,ctx_r1.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!ctx_r1.hasChanges||core.bMT(2,6,ctx_r1.saving$)),core.BMQ("aria-label",core.bMT(3,8,ctx_r1.dsoType+".edit.metadata.discard-button")),core.R7$(6),core.SpI("\xa0",core.bMT(7,10,ctx_r1.dsoType+".edit.metadata.discard-button"),"")}}function DsoEditMetadataComponent_Conditional_0_Conditional_23_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"div",11)(1,"div",21)(2,"ds-metadata-field-selector",22),core.mxI("mdFieldChange",function($event){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.DH7(ctx_r1.newMdField,$event)||(ctx_r1.newMdField=$event),core.Njj($event)}),core.k0s()(),core.j41(3,"div",23)(4,"div",9),core.nrm(5,"ds-dso-edit-metadata-value-headers",24),core.j41(6,"ds-dso-edit-metadata-value",25),core.bIt("confirm",function($event){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.confirmNewValue($event))})("remove",function(){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.form.newValue=void 0)})("undo",function(){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.form.newValue=void 0)}),core.k0s()()()()}if(2&rf){const ctx_r1=core.XpG(2);core.R7$(2),core.Y8G("dsoType",ctx_r1.dsoType),core.R50("mdField",ctx_r1.newMdField),core.Y8G("autofocus",!0),core.R7$(3),core.Y8G("dsoType",ctx_r1.dsoType),core.R7$(),core.Y8G("dso",ctx_r1.dso)("context",ctx_r1.Context.AddMetadata)("mdValue",ctx_r1.form.newValue)("dsoType",ctx_r1.dsoType)("saving$",ctx_r1.savingOrLoadingFieldValidation$)("isOnlyValue",!0)("mdField",ctx_r1.newMdField)}}function DsoEditMetadataComponent_Conditional_0_For_25_Conditional_4_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"div",30),core.bIt("click",function(){core.eBV(_r7);const mdField_r8=core.XpG().$implicit,ctx_r1=core.XpG(2);return ctx_r1.form.resetOrder(mdField_r8),core.Njj(ctx_r1.onValueSaved())}),core.EFF(1),core.nI1(2,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(3);core.R7$(),core.SpI(" ",core.bMT(2,1,ctx_r1.dsoType+".edit.metadata.reset-order-button")," ")}}function DsoEditMetadataComponent_Conditional_0_For_25_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"div",11)(1,"div",26)(2,"span",27),core.EFF(3),core.k0s(),core.DNE(4,DsoEditMetadataComponent_Conditional_0_For_25_Conditional_4_Template,3,3,"div",28),core.k0s(),core.j41(5,"ds-dso-edit-metadata-field-values",29),core.bIt("valueSaved",function(){core.eBV(_r6);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.onValueSaved())}),core.k0s()()}if(2&rf){const mdField_r8=ctx.$implicit,ctx_r1=core.XpG(2);core.R7$(3),core.JRh(mdField_r8),core.R7$(),core.vxM(ctx_r1.form.hasOrderChanges(mdField_r8)?4:-1),core.R7$(),core.Y8G("dso",ctx_r1.dso)("form",ctx_r1.form)("dsoType",ctx_r1.dsoType)("saving$",ctx_r1.saving$)("draggingMdField$",ctx_r1.draggingMdField$)("mdField",mdField_r8)}}function DsoEditMetadataComponent_Conditional_0_Conditional_26_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.nrm(1,"ds-alert",31),core.k0s()),2&rf){const ctx_r1=core.XpG(2);core.R7$(),core.Y8G("content",ctx_r1.dsoType+".edit.metadata.empty")("type",ctx_r1.AlertTypeEnum.Info)}}function DsoEditMetadataComponent_Conditional_0_Conditional_29_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",32),core.nI1(1,"async"),core.nI1(2,"translate"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r9);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.reinstate())}),core.nrm(4,"i",18),core.EFF(5),core.nI1(6,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("dsBtnDisabled",core.bMT(1,4,ctx_r1.saving$))("title",core.bMT(2,6,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.BMQ("aria-label",core.bMT(3,8,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.R7$(5),core.SpI(" ",core.bMT(6,10,ctx_r1.dsoType+".edit.metadata.reinstate-button")," ")}}function DsoEditMetadataComponent_Conditional_0_Conditional_37_Template(rf,ctx){if(1&rf){const _r10=core.RV6();core.j41(0,"button",33),core.nI1(1,"translate"),core.nI1(2,"async"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r10);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.discard())}),core.nrm(4,"i",20),core.EFF(5),core.nI1(6,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("title",core.bMT(1,4,ctx_r1.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!ctx_r1.hasChanges||core.bMT(2,6,ctx_r1.saving$)),core.BMQ("aria-label",core.bMT(3,8,ctx_r1.dsoType+".edit.metadata.discard-button")),core.R7$(5),core.SpI(" ",core.bMT(6,10,ctx_r1.dsoType+".edit.metadata.discard-button")," ")}}function DsoEditMetadataComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",0)(1,"div",1)(2,"button",2),core.nI1(3,"async"),core.nI1(4,"translate"),core.nI1(5,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.add())}),core.nrm(6,"i",3),core.j41(7,"span",4),core.EFF(8),core.nI1(9,"translate"),core.k0s()(),core.DNE(10,DsoEditMetadataComponent_Conditional_0_Conditional_10_Template,8,12,"button",5),core.j41(11,"button",6),core.nI1(12,"async"),core.nI1(13,"translate"),core.nI1(14,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.submit())}),core.nrm(15,"i",7),core.j41(16,"span",4),core.EFF(17),core.nI1(18,"translate"),core.k0s()(),core.DNE(19,DsoEditMetadataComponent_Conditional_0_Conditional_19_Template,8,12,"button",8),core.k0s(),core.j41(20,"div",9),core.nI1(21,"translate"),core.nrm(22,"ds-dso-edit-metadata-headers",10),core.DNE(23,DsoEditMetadataComponent_Conditional_0_Conditional_23_Template,7,11,"div",11),core.Z7z(24,DsoEditMetadataComponent_Conditional_0_For_25_Template,6,8,"div",11,core.fX1),core.k0s(),core.DNE(26,DsoEditMetadataComponent_Conditional_0_Conditional_26_Template,2,2,"div"),core.j41(27,"div",12)(28,"div",13),core.DNE(29,DsoEditMetadataComponent_Conditional_0_Conditional_29_Template,7,12,"button",14),core.j41(30,"button",15),core.nI1(31,"async"),core.nI1(32,"translate"),core.nI1(33,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.submit())}),core.nrm(34,"i",7),core.EFF(35),core.nI1(36,"translate"),core.k0s(),core.DNE(37,DsoEditMetadataComponent_Conditional_0_Conditional_37_Template,7,12,"button",16),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(2),core.Y8G("dsBtnDisabled",ctx_r1.form.newValue||core.bMT(3,20,ctx_r1.saving$))("title",core.bMT(4,22,ctx_r1.dsoType+".edit.metadata.add-button")),core.BMQ("aria-label",core.bMT(5,24,ctx_r1.dsoType+".edit.metadata.add-button")),core.R7$(6),core.SpI("\xa0",core.bMT(9,26,ctx_r1.dsoType+".edit.metadata.add-button"),""),core.R7$(2),core.vxM(ctx_r1.isReinstatable?10:-1),core.R7$(),core.Y8G("dsBtnDisabled",!ctx_r1.hasChanges||core.bMT(12,28,ctx_r1.saving$))("title",core.bMT(13,30,ctx_r1.dsoType+".edit.metadata.save-button")),core.BMQ("aria-label",core.bMT(14,32,ctx_r1.dsoType+".edit.metadata.save-button")),core.R7$(6),core.SpI("\xa0",core.bMT(18,34,ctx_r1.dsoType+".edit.metadata.save-button"),""),core.R7$(2),core.vxM(ctx_r1.isReinstatable?-1:19),core.R7$(),core.BMQ("aria-label",core.bMT(21,36,"item.edit.head")),core.R7$(2),core.Y8G("dsoType",ctx_r1.dsoType),core.R7$(),core.vxM(ctx_r1.form.newValue?23:-1),core.R7$(),core.Dyx(ctx_r1.form.fieldKeys),core.R7$(2),core.vxM(ctx_r1.isEmpty&&!ctx_r1.form.newValue?26:-1),core.R7$(3),core.vxM(ctx_r1.isReinstatable?29:-1),core.R7$(),core.Y8G("dsBtnDisabled",!ctx_r1.hasChanges||core.bMT(31,38,ctx_r1.saving$))("title",core.bMT(32,40,ctx_r1.dsoType+".edit.metadata.save-button")),core.BMQ("aria-label",core.bMT(33,42,ctx_r1.dsoType+".edit.metadata.save-button")),core.R7$(5),core.SpI(" ",core.bMT(36,44,ctx_r1.dsoType+".edit.metadata.save-button")," "),core.R7$(2),core.vxM(ctx_r1.isReinstatable?-1:37)}}function DsoEditMetadataComponent_Conditional_1_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}let DsoEditMetadataComponent=(()=>{class DsoEditMetadataComponent2{constructor(route,notificationsService,translateService,parentInjector,arrayMoveChangeAnalyser,cdr,dataServiceMap){this.route=route,this.notificationsService=notificationsService,this.translateService=translateService,this.parentInjector=parentInjector,this.arrayMoveChangeAnalyser=arrayMoveChangeAnalyser,this.cdr=cdr,this.dataServiceMap=dataServiceMap,this.saving$=new cjs.BehaviorSubject(!1),this.draggingMdField$=new cjs.BehaviorSubject(null),this.loadingFieldValidation$=new cjs.BehaviorSubject(!1),this.AlertTypeEnum=alert_type.v,this.Context=context_model.o}ngOnInit(){(0,empty_util.Tn)(this.dso)?this.dsoUpdateSubscription=(0,cjs.combineLatest)([this.route.data,this.route.parent.data]).pipe((0,operators.Tj)(([data,parentData])=>Object.assign({},data,parentData)),(0,operators.Mi)(data=>this.initDSO(data.dso.payload)),(0,operators.ZZ)(()=>this.retrieveDataService())).subscribe(dataService=>{this.initDataService(dataService),this.initForm()}):(this.initDSOType(this.dso),this.retrieveDataService().subscribe(dataService=>{this.initDataService(dataService),this.initForm()})),this.savingOrLoadingFieldValidation$=(0,cjs.combineLatest)([this.saving$,this.loadingFieldValidation$]).pipe((0,operators.Tj)(([saving,loading])=>saving||loading))}retrieveDataService(){return(0,empty_util.Tn)(this.updateDataService)?(0,lazy_data_service.M)(this.dataServiceMap,this.dsoType,this.parentInjector):(0,cjs.of)(this.updateDataService)}initDSO(object){this.dso=object,this.initDSOType(object)}initDSOType(object){let type;type="string"==typeof object.type?new resource_type.v(object.type):object.type,this.dsoType=type.value}initDataService(dataService){(0,empty_util.hj)(dataService)&&(this.updateDataService=dataService)}initForm(){this.form=new dso_edit_metadata_form.qf(this.dso.metadata),this.onValueSaved(),this.cdr.detectChanges()}onValueSaved(){this.hasChanges=this.form.hasChanges(),this.isReinstatable=this.form.isReinstatable(),this.isEmpty=0===Object.keys(this.form.fields).length}submit(){this.saving$.next(!0),this.updateDataService.patch(this.dso,this.form.getOperations(this.arrayMoveChangeAnalyser)).pipe((0,shared_operators.qD)()).subscribe(rd=>{this.saving$.next(!1),rd.hasFailed?this.notificationsService.error(this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.error.title`),rd.errorMessage):(this.notificationsService.success(this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.saved.title`),this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.saved.content`)),this.dso=rd.payload,this.initForm())})}confirmNewValue(saved){saved&&this.setMetadataField()}setMetadataField(){this.form.resetReinstatable(),this.loadingFieldValidation$.next(!0),this.metadataFieldSelectorComponent.validate().subscribe(valid=>{this.loadingFieldValidation$.next(!1),valid&&(this.form.setMetadataField(this.newMdField),this.onValueSaved())})}add(){this.newMdField=void 0,this.form.add()}discard(){this.form.discard(),this.onValueSaved()}reinstate(){this.form.reinstate(),this.onValueSaved()}ngOnDestroy(){(0,empty_util.a4)(this.dsoUpdateSubscription)&&this.dsoUpdateSubscription.unsubscribe()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DsoEditMetadataComponent2)(core.rXU(router.nX),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(core.zZn),core.rXU(ArrayMoveChangeAnalyzer),core.rXU(core.gRc),core.rXU(app_config_interface.l9))}}static{this.\u0275cmp=core.VBU({type:DsoEditMetadataComponent2,selectors:[["ds-base-dso-edit-metadata"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(metadata_field_selector_component.g,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.metadataFieldSelectorComponent=_t.first)}},inputs:{dso:"dso",updateDataService:"updateDataService"},standalone:!0,features:[core.aNF],decls:2,vars:2,consts:[[1,"item-metadata"],[1,"button-row","top","d-flex","my-2","space-children-mr","ms-gap"],["id","dso-add-btn",1,"me-auto","btn","btn-success",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["id","dso-reinstate-btn",1,"btn","btn-warning","ms-1",3,"dsBtnDisabled","title"],["id","dso-save-btn",1,"btn","btn-primary","ms-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-save"],["id","dso-discard-btn",1,"btn","btn-danger","ms-1",3,"title","dsBtnDisabled"],["role","table"],[3,"dsoType"],["role","row",1,"d-flex","flex-row","ds-field-row"],[1,"button-row","bottom","d-inline-block","w-100"],[1,"mt-2","float-end","space-children-mr","ms-gap"],[1,"btn","btn-warning",3,"dsBtnDisabled","title"],[1,"btn","btn-primary",3,"click","dsBtnDisabled","title"],[1,"btn","btn-danger",3,"title","dsBtnDisabled"],["id","dso-reinstate-btn",1,"btn","btn-warning","ms-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-undo-alt"],["id","dso-discard-btn",1,"btn","btn-danger","ms-1",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-times"],["role","rowheader",1,"lbl-cell","ds-success"],[3,"mdFieldChange","dsoType","mdField","autofocus"],["role","cell",1,"flex-grow-1","ds-drop-list"],["role","presentation",3,"dsoType"],[3,"confirm","remove","undo","dso","context","mdValue","dsoType","saving$","isOnlyValue","mdField"],["role","rowheader",1,"lbl-cell"],[1,"dont-break-out","preserve-line-breaks"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100"],["role","cell",1,"flex-grow-1",3,"valueSaved","dso","form","dsoType","saving$","draggingMdField$","mdField"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100",3,"click"],[3,"content","type"],[1,"btn","btn-warning",3,"click","dsBtnDisabled","title"],[1,"btn","btn-danger",3,"click","title","dsBtnDisabled"]],template:function(rf,ctx){1&rf&&core.DNE(0,DsoEditMetadataComponent_Conditional_0_Template,38,46,"div",0)(1,DsoEditMetadataComponent_Conditional_1_Template,1,0,"ds-loading"),2&rf&&(core.vxM(ctx.form?0:-1),core.R7$(),core.vxM(ctx.form?-1:1))},dependencies:[alert_component.C,common.Jj,btn_disabled_directive.A,dso_edit_metadata_field_values_component.t,dso_edit_metadata_headers_component.L,dso_edit_metadata_value_component.o,dso_edit_metadata_value_headers_component.c,metadata_field_selector_component.g,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.lbl-cell.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.reset-order-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return DsoEditMetadataComponent2})()},52842:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>MetadataFieldSelectorComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25376),_angular_forms__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13054),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2385),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(68109),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(60444),_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(60795),_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69911),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2794),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18869),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76623),_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(70092),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76715);const _c0=["mdFieldInput"],_c1=a0=>({"is-invalid":a0}),_c2=a0=>({show:a0});function MetadataFieldSelectorComponent_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(2,1,ctx_r1.dsoType+".edit.metadata.metadatafield.invalid"))}}function MetadataFieldSelectorComponent_Conditional_9_For_1_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"button",10,1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){const listEntry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r3).$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx_r1.select(listEntry_r4))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(2,"span",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()}if(2&rf){const listEntry_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("innerHTML",listEntry_r4,_angular_core__WEBPACK_IMPORTED_MODULE_5__.npT)}}function MetadataFieldSelectorComponent_Conditional_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Z7z(0,MetadataFieldSelectorComponent_Conditional_9_For_1_Template,3,1,"button",9,_angular_core__WEBPACK_IMPORTED_MODULE_5__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(2,"async")),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Dyx(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(2,0,ctx_r1.mdFieldOptions$))}}function MetadataFieldSelectorComponent_Conditional_11_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(1,"ds-loading",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("showMessage",!1))}let MetadataFieldSelectorComponent=(()=>{class MetadataFieldSelectorComponent2{constructor(registryService,notificationsService,translate){this.registryService=registryService,this.notificationsService=notificationsService,this.translate=translate,this.autofocus=!1,this.mdFieldChange=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.bkB,this.mdFieldOptions$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject([]),this.input=new _angular_forms__WEBPACK_IMPORTED_MODULE_7__.hs,this.query$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(null),this.debounceTime=300,this.selectedValueLoading=!1,this.showInvalid=!1,this.subs=[],this.currentPage$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(1),this.hasNextPage=!1,this.loading=!1,this.pageOptions={elementsPerPage:20,sort:new _core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.z("fieldName",_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U.ASC)}}ngOnInit(){this.subs.push(this.input.valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.BL)(this.debounceTime),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.ql)("")).subscribe(valueChange=>{this.currentPage$.next(1),this.selectedValueLoading||this.query$.next(valueChange),this.mdField=valueChange,this.mdFieldChange.emit(this.mdField)})),this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.combineLatest)(this.query$,this.currentPage$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.nx)(([query,page])=>(this.loading=!0,1===page&&this.mdFieldOptions$.next([]),this.search(query,page)))).subscribe(rd=>{this.selectedValueLoading||this.updateList(rd)}))}ngAfterViewInit(){this.autofocus&&this.mdFieldInput.nativeElement.focus()}validate(){return this.registryService.queryMetadataFields(this.mdField,Object.assign({},this.pageOptions,{currentPage:1}),!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__.s)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.nx)(rd=>rd.hasSucceeded?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(rd).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.LB)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Tj)(fields=>fields.indexOf(this.mdField)>-1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Mi)(exists=>this.showInvalid=!exists)):(this.notificationsService.error(this.translate.instant(`${this.dsoType}.edit.metadata.metadatafield.error`),rd.errorMessage),[!1])))}select(mdFieldOption){this.selectedValueLoading=!0,this.input.setValue(mdFieldOption)}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}updateList(list){this.loading=!1,this.hasNextPage=list.length>0;const currentEntries=this.mdFieldOptions$.getValue();this.mdFieldOptions$.next([...currentEntries,...list]),this.selectedValueLoading=!1}search(query,page,useCache=!0){return this.registryService.queryMetadataFields(query,Object.assign({},this.pageOptions,{currentPage:page}),useCache,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__.s)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.v7)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.LB)())}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||MetadataFieldSelectorComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__.x),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__.I),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.c$))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.VBU({type:MetadataFieldSelectorComponent2,selectors:[["ds-metadata-field-selector"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.GBs(_c0,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_5__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_5__.lsd())&&(ctx.mdFieldInput=_t.first)}},inputs:{dsoType:"dsoType",mdField:"mdField",autofocus:"autofocus"},outputs:{mdFieldChange:"mdFieldChange"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.aNF],decls:12,vars:22,consts:[["mdFieldInput",""],["listEntryElement",""],[1,"w-100","position-relative"],["type","text",1,"form-control",3,"focusin","dsClickOutside","click","keyup","ngClass","value","formControl"],[1,"invalid-feedback","show-feedback"],["id","scrollable-metadata-field-selector",1,"dropdown-menu","scrollable-menu",3,"ngClass"],[1,"dropdown-list"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry"],["dsHoverClass","ds-hover",1,"d-block","dropdown-item"],["dsHoverClass","ds-hover",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"],[3,"showMessage"]],template:function(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",2)(1,"input",3,0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("focusin",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.query$.next(ctx.mdField))})("dsClickOutside",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.query$.next(null))})("click",function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj($event.stopPropagation())})("keyup",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.selectedValueLoading=!1)}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(4,MetadataFieldSelectorComponent_Conditional_4_Template,3,3,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(5,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(7,"div",6)(8,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("scrolled",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx.onScrollDown())}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(9,MetadataFieldSelectorComponent_Conditional_9_Template,3,2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(11,MetadataFieldSelectorComponent_Conditional_11_Template,2,1,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()()()}if(2&rf){let tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(18,_c1,ctx.showInvalid))("value",ctx.mdField)("formControl",ctx.input),_angular_core__WEBPACK_IMPORTED_MODULE_5__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(3,12,ctx.dsoType+".edit.metadata.metadatafield")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.vxM(ctx.showInvalid?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(20,_c2,(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(6,14,ctx.mdFieldOptions$))?null:tmp_6_0.length)>0)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-metadata-field-selector")("fromRoot",!0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(10,16,ctx.mdFieldOptions$)?9:-1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.vxM(ctx.loading?11:-1)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.Jj,_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_13__.z,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.BC,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_14__.e,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_14__.D,_angular_common__WEBPACK_IMPORTED_MODULE_12__.YU,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.X1,_angular_forms__WEBPACK_IMPORTED_MODULE_7__.l_,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_3__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow:scroll}"]})}}return MetadataFieldSelectorComponent2})()},7012:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ThemedDsoEditMetadataComponent}),__webpack_require__(27434);var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(42395),__webpack_require__(25376));const _c0=["*"];function ThemedDsoEditMetadataComponent_ng_template_0_Template(rf,ctx){}let ThemedDsoEditMetadataComponent=(()=>{class ThemedDsoEditMetadataComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__.J{constructor(){super(...arguments),this.inAndOutputNames=["dso","updateDataService"]}getComponentName(){return"DsoEditMetadataComponent"}importThemedComponent(themeName){return __webpack_require__(30207)(`./${themeName}/app/dso-shared/dso-edit-metadata/dso-edit-metadata.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,42395))}static{this.\u0275fac=(()=>{let \u0275ThemedDsoEditMetadataComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedDsoEditMetadataComponent_BaseFactory||(\u0275ThemedDsoEditMetadataComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(ThemedDsoEditMetadataComponent2)))(__ngFactoryType__||ThemedDsoEditMetadataComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ThemedDsoEditMetadataComponent2,selectors:[["ds-dso-edit-metadata"]],inputs:{dso:"dso",updateDataService:"updateDataService"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,ThemedDsoEditMetadataComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s())},encapsulation:2})}}return ThemedDsoEditMetadataComponent2})()},63175:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>ComColFormComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(25376),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2385),ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(14841),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(60444),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54545),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64806),_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(36541),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39022),_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3849),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2794),_form_form_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(27790),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76623),_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(73649),_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(99464),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(76715),_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(17543),_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(14011),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(19519),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(87969);function ComColFormComponent_ng_container_6_Conditional_1_Conditional_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",10)(1,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.confirmLogoDeleteWithModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,1,"community.edit.logo.delete.title")," "))}function ComColFormComponent_ng_container_6_Conditional_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",6)(1,"div",1)(2,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(3,"ds-comcol-page-logo",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(4,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(5,ComColFormComponent_ng_container_6_Conditional_1_Conditional_5_Template,4,3,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()()),2&rf){const logo_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.vxM(logo_r3?5:-1)}}function ComColFormComponent_ng_container_6_Conditional_2_Conditional_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-uploader",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("onCompleteItem",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onUploadError())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function ComColFormComponent_ng_container_6_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_Conditional_2_Conditional_1_Template,1,5,"ds-uploader",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.vxM(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,ctx_r1.initializedUploaderOptions)?1:-1)}}function ComColFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_Conditional_1_Template,6,3,"div",6)(2,ComColFormComponent_ng_container_6_Conditional_2_Template,3,3,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bVm()),2&rf){const logo_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.vxM(logo_r3?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.vxM(logo_r3?-1:2)}}function ComColFormComponent_Conditional_8_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-form",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("submitForm",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(1,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.back.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(2,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let ComColFormComponent=(()=>{class ComColFormComponent2{constructor(formService,translate,notificationsService,authService,requestService,objectCache,modalService){this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.requestService=requestService,this.objectCache=objectCache,this.modalService=modalService,this.LABEL_KEY_PREFIX=".form.",this.ERROR_KEY_PREFIX=".form.errors.",this.uploadFilesOptions=Object.assign(new _upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__.H,{autoUpload:!1}),this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.back=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.finish=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.initializedUploaderOptions=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.subs=[],this.uploader=new ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__.l0(this.uploadFilesOptions),this.refreshDSO$=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB}ngOnInit(){this.uploadFilesOptions.autoUpload=!this.isCreation,(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.formModel)&&(this.formModel.forEach(fieldModel=>{fieldModel.value=this.dso.firstMetadataValue(fieldModel.name)}),this.formGroup=this.formService.createFormGroup(this.formModel),this.updateFieldTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)?this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([this.dsoService.getLogoEndpoint(this.dso.id),this.dso.logo]).subscribe(([href,logoRD])=>{this.uploadFilesOptions.url=href,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0)})):(this.uploadFilesOptions.url="placeholder",this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0))),this.subs.push(this.refreshDSO$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.switchMap)(()=>this.refreshDsoCache()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.pb)(rd=>rd.hasSucceeded)).subscribe(({payload})=>this.dso=payload))}onSubmit(){const formMetadata={};this.formModel.forEach(fieldModel=>{const value={value:fieldModel.value,language:null};formMetadata.hasOwnProperty(fieldModel.name)?formMetadata[fieldModel.name].push(value):formMetadata[fieldModel.name]=[value]});const updatedDSO=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...formMetadata},type:_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__.E.type}),operations=[];this.formModel.forEach(fieldModel=>{fieldModel.value!==this.dso.firstMetadataValue(fieldModel.name)&&operations.push({op:"replace",path:`/metadata/${fieldModel.name}`,value:{value:fieldModel.value,language:null}})}),this.submitForm.emit(this.isCreation?{dso:updatedDSO,uploader:(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.uploaderComponent)?this.uploaderComponent.uploader:void 0,operations}:{dso:updatedDSO,operations})}updateFieldTranslations(){this.formModel.forEach(fieldModel=>{fieldModel.label=this.translate.instant(this.type.value+this.LABEL_KEY_PREFIX+fieldModel.id),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(fieldModel.validators)&&(fieldModel.errorMessages={},Object.keys(fieldModel.validators).forEach(key=>{fieldModel.errorMessages[key]=this.translate.instant(this.type.value+this.ERROR_KEY_PREFIX+fieldModel.id+"."+key)}))})}confirmLogoDeleteWithModal(){const modalRef=this.createConfirmationModal();this.subscribeToConfirmationResponse(modalRef)}createConfirmationModal(){const modalRef=this.modalService.open(_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__.M);return modalRef.componentInstance.headerLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.infoLabel="confirmation-modal.delete-community-collection-logo.info",modalRef.componentInstance.cancelLabel="form.cancel",modalRef.componentInstance.confirmLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.brandColor="danger",modalRef}subscribeToConfirmationResponse(modalRef){modalRef.componentInstance.response.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.s)(1)).subscribe(confirmed=>{confirmed&&this.handleLogoDeletion()})}handleLogoDeletion(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso._links.logo)&&this.dsoService.deleteLogo(this.dso).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)()).subscribe(response=>{const errorMessageKey=`${this.type.value}.edit.logo.notifications.delete.error`;response.hasSucceeded?this.handleSuccessfulDeletion(`${this.type.value}.edit.logo.notifications.delete.success`):this.handleFailedDeletion(errorMessageKey,response.errorMessage)})}handleSuccessfulDeletion(successMessageKey){this.refreshDSO$.next(),this.notificationsService.success(this.translate.get(`${successMessageKey}.title`),this.translate.get(`${successMessageKey}.content`))}handleFailedDeletion(errorMessageKey,errorMessage){this.notificationsService.error(this.translate.get(`${errorMessageKey}.title`),errorMessage)}refreshDsoCache(){return this.clearDsoCache(),this.fetchUpdatedDso()}clearDsoCache(){this.requestService.setStaleByHrefSubstring(this.dso.id),this.objectCache.remove(this.dso._links.self.href)}fetchUpdatedDso(){return this.dsoService.findById(this.dso.id,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__.s)("logo")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())}onCompleteItem(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&this.refreshDSO$.next(),this.isCreation&&this.finish.emit(),this.notificationsService.success(null,this.translate.get(this.type.value+".edit.logo.notifications.add.success"))}onUploadError(){this.notificationsService.error(null,this.translate.get(this.type.value+".edit.logo.notifications.add.error"))}ngOnDestroy(){this.refreshDSO$.complete(),this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComColFormComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__.J9r),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__.Bq))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:ComColFormComponent2,selectors:[["ds-comcol-form"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GBs(_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lsd())&&(ctx.uploaderComponent=_t.first)}},inputs:{dso:"dso",isCreation:"isCreation"},outputs:{submitForm:"submitForm",back:"back",finish:"finish"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[1,"form-label"],[4,"ngVar"],[3,"formId","formModel","displayCancel"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],[1,"float-end"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(6,ComColFormComponent_ng_container_6_Template,3,2,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(8,ComColFormComponent_Conditional_8_Template,5,6,"ds-form",5)),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(5,3,ctx.type.value+".edit.logo.label")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.vxM(ctx.formModel?8:-1)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__.X,_form_form_component__WEBPACK_IMPORTED_MODULE_5__.s,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.D9,_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__.r]})}}return ComColFormComponent2})()},87661:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>CreateComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60444),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31788),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11481),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(99629),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34211),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42349),_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64806),_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87964),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39022),_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2794),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(76623),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2385);let CreateComColPageComponent=(()=>{class CreateComColPageComponent2{constructor(dsoDataService,dsoNameService,parentDataService,routeService,router,notificationsService,translate,requestService){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.parentDataService=parentDataService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.BehaviorSubject(!1)}ngOnInit(){this.parentUUID$=this.routeService.getQueryParameterValue("parent"),this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1)).subscribe(parentID=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.hj)(parentID)&&(this.parentRD$=this.parentDataService.findById(parentID))})}onSubmit(event){this.isLoading$.next(!0);const dso=event.dso,uploader=event.uploader;this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(uuid=>{const params=uuid?[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("parent",uuid)]:[];return this.dsoDataService.create(dso,...params).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.ak)())}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(dsoRD=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.EA)(dsoRD))return this.newUUID=dsoRD.uuid,uploader.queue.length>0?this.dsoDataService.getLogoEndpoint(this.newUUID).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Mi)(href=>{uploader.options.url=href,uploader.onCompleteAll=()=>{this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success"))},uploader.uploadAll()}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(()=>!1)):(this.dsoDataService.refreshCache(dsoRD),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))})).subscribe(notify=>{notify&&(this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success")))})}navigateToHome(){this.router.navigate([(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.sB)()])}navigateToNewPage(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(this.newUUID)&&this.router.navigate([this.frontendURL+this.newUUID])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||CreateComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__.x),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__.CommunityDataService),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__.v$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__.I),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.VBU({type:CreateComColPageComponent2,selectors:[["ds-create-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}}return CreateComColPageComponent2})()},24371:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DeleteComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60444),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11481),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(34211),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76623),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2385);let DeleteComColPageComponent=(()=>{class DeleteComColPageComponent2{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(!1)}ngOnInit(){this.dsoRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.$1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(data=>data.dso))}onConfirm(dso){this.processing$.next(!0),this.dsoDataService.delete(dso.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)()).subscribe(response=>{if(response.hasSucceeded){const successMessage=this.translate.instant(dso.type+".delete.notification.success");this.notifications.success(successMessage)}else{const errorMessage=this.translate.instant(dso.type+".delete.notification.fail");this.notifications.error(errorMessage)}this.router.navigate(["/"])})}onCancel(dso){this.router.navigate([this.frontendURL+"/"+dso.uuid+"/edit"])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DeleteComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__.x),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.I),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.c$))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:DeleteComColPageComponent2,selectors:[["ds-delete-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}}return DeleteComColPageComponent2})()},4371:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ComcolPageBrowseByComponent:()=>ComcolPageBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87514),_angular_forms__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(13054),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(18134),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60444),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3339),_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35408),_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(92064),_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99753),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2794),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25376);function ComcolPageBrowseByComponent_Conditional_3_For_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"a",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){let tmp_12_0,tmp_15_0;const option_r2=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.AVh("active",(null==(tmp_12_0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,6,ctx_r2.currentOption$))?null:tmp_12_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("routerLink",option_r2.routerLink)("queryParams",option_r2.params),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("aria-current",(null==(tmp_15_0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,8,ctx_r2.currentOption$))?null:tmp_15_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(4,10,option_r2.label)," ")}}function ComcolPageBrowseByComponent_Conditional_3_For_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"option",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf){let tmp_13_0;const option_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("value",option_r4.id),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BMQ("selected",(null==(tmp_13_0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,3,ctx_r2.currentOption$))?null:tmp_13_0.id)===option_r4.id?"selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(3,5,option_r4.label)," ")}}function ComcolPageBrowseByComponent_Conditional_3_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"nav",1)(1,"div",2)(2,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Z7z(3,ComcolPageBrowseByComponent_Conditional_3_For_4_Template,5,12,"a",4,_angular_core__WEBPACK_IMPORTED_MODULE_3__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(5,"div",5)(6,"select",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("change",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.onSelectChange($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Z7z(7,ComcolPageBrowseByComponent_Conditional_3_For_8_Template,4,7,"option",7,_angular_core__WEBPACK_IMPORTED_MODULE_3__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()()()}if(2&rf){const allOptions_r5=ctx;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Dyx(allOptions_r5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Dyx(allOptions_r5)}}let ComcolPageBrowseByComponent=(()=>{class ComcolPageBrowseByComponent2{constructor(appConfig,router,browseService){this.appConfig=appConfig,this.router=router,this.browseService=browseService,this.currentOption$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(void 0),this.subs=[]}ngOnInit(){let comColRoute;this.allOptions$=this.browseService.getBrowseDefinitions().pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(browseDefListRD=>{const allOptions=[];if(browseDefListRD.hasSucceeded){let comColRoute2;"collection"===this.contentType?(comColRoute2=(0,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__.JW)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:`${comColRoute2}/search`})):"community"===this.contentType&&(comColRoute2=(0,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.c5)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:`${comColRoute2}/search`}),allOptions.push({id:"comcols",label:"community.all-lists.head",routerLink:`${comColRoute2}/subcoms-cols`})),allOptions.push(...browseDefListRD.payload.page.map(config=>({id:`browse_${config.id}`,label:`browse.comcol.by.${config.id}`,routerLink:`${comColRoute2}/browse/${config.id}`}))),"search"!==this.appConfig[this.contentType].defaultBrowseTab&&allOptions.push(allOptions.shift())}return allOptions})),"collection"===this.contentType?comColRoute=(0,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__.JW)(this.id):"community"===this.contentType&&(comColRoute=(0,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.c5)(this.id)),this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.combineLatest)([this.allOptions$,this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.ql)(this.router),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.pb)(next=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.hj)(next?.url)||next?.type===_angular_router__WEBPACK_IMPORTED_MODULE_9__.Bx.Scroll),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(next=>next?.url||next.routerEvent.urlAfterRedirects),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.F)())]).subscribe(([navOptions,url])=>{for(const option of navOptions){if(url?.split("?")[0]===comColRoute&&option.id===this.appConfig[this.contentType].defaultBrowseTab){this.router.navigate([option.routerLink],{queryParams:option.params});break}if(option.routerLink===url?.split("?")[0]){this.currentOption$.next(option);break}}})),this.router.url?.split("?")[0]===comColRoute&&this.allOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.s)(1)).subscribe(allOptions=>{for(const option of allOptions)if(option.id===this.appConfig[this.contentType].defaultBrowseTab){this.currentOption$.next(option[0]),this.router.navigate([option.routerLink],{queryParams:option.params});break}})}ngOnDestroy(){this.subs.forEach(sub=>sub.unsubscribe())}onSelectChange(event){this.allOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.s)(1)).subscribe(allOptions=>{for(const option of allOptions)if(option.id===event.target.value){this.currentOption$.next(option[0]),this.router.navigate([option.routerLink],{queryParams:option.params});break}})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComcolPageBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_9__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__.q))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ComcolPageBrowseByComponent2,selectors:[["ds-base-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:5,vars:6,consts:[[1,"comcol-browse-label"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],["role","tablist",1,"list-group","list-group-horizontal"],["role","tab","role","tab","tabindex","0",1,"list-group-item",3,"routerLink","queryParams","active"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-select",3,"change"],[3,"value"],["role","tab","role","tab","tabindex","0",1,"list-group-item",3,"routerLink","queryParams"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(3,ComcolPageBrowseByComponent_Conditional_3_Template,9,0,"nav",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(4,"async")),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,2,"browse.comcol.head")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.vxM((tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(4,4,ctx.allOptions$))?3:-1,tmp_1_0)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_angular_forms__WEBPACK_IMPORTED_MODULE_11__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_11__.xH,_angular_forms__WEBPACK_IMPORTED_MODULE_11__.y7,_angular_router__WEBPACK_IMPORTED_MODULE_9__.Wk,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.D9]})}}return ComcolPageBrowseByComponent2})()},27239:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ThemedComcolPageBrowseByComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(4371),__webpack_require__(25376));const _c0=["*"];function ThemedComcolPageBrowseByComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageBrowseByComponent=(()=>{class ThemedComcolPageBrowseByComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["id","contentType"]}getComponentName(){return"ComcolPageBrowseByComponent"}importThemedComponent(themeName){return __webpack_require__(7754)(`./${themeName}/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4371))}static{this.\u0275fac=(()=>{let \u0275ThemedComcolPageBrowseByComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedComcolPageBrowseByComponent_BaseFactory||(\u0275ThemedComcolPageBrowseByComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedComcolPageBrowseByComponent2)))(__ngFactoryType__||ThemedComcolPageBrowseByComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedComcolPageBrowseByComponent2,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedComcolPageBrowseByComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}}return ThemedComcolPageBrowseByComponent2})()},21201:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ThemedComcolPageContentComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25376);const _c0=["*"];function ThemedComcolPageContentComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageContentComponent=(()=>{class ThemedComcolPageContentComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content","hasInnerHtml"]}getComponentName(){return"ComcolPageContentComponent"}importThemedComponent(themeName){return __webpack_require__(41454)(`./${themeName}/app/shared/comcol/comcol-page-content/comcol-page-content.component`)}importUnthemedComponent(){return __webpack_require__.e(7439).then(__webpack_require__.bind(__webpack_require__,77439))}static{this.\u0275fac=(()=>{let \u0275ThemedComcolPageContentComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedComcolPageContentComponent_BaseFactory||(\u0275ThemedComcolPageContentComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageContentComponent2)))(__ngFactoryType__||ThemedComcolPageContentComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageContentComponent2,selectors:[["ds-comcol-page-content"]],inputs:{title:"title",content:"content",hasInnerHtml:"hasInnerHtml"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageContentComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}}return ThemedComcolPageContentComponent2})()},12505:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>ThemedComcolPageHandleComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25376);const _c0=["*"];function ThemedComcolPageHandleComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageHandleComponent=(()=>{class ThemedComcolPageHandleComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content"]}getComponentName(){return"ComcolPageHandleComponent"}importThemedComponent(themeName){return __webpack_require__(85830)(`./${themeName}/app/shared/comcol/comcol-page-handle/comcol-page-handle.component`)}importUnthemedComponent(){return __webpack_require__.e(1713).then(__webpack_require__.bind(__webpack_require__,51713))}static{this.\u0275fac=(()=>{let \u0275ThemedComcolPageHandleComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedComcolPageHandleComponent_BaseFactory||(\u0275ThemedComcolPageHandleComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageHandleComponent2)))(__ngFactoryType__||ThemedComcolPageHandleComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageHandleComponent2,selectors:[["ds-comcol-page-handle"]],inputs:{title:"title",content:"content"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageHandleComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}}return ThemedComcolPageHandleComponent2})()},28351:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ComcolPageHeaderComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);function ComcolPageHeaderComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(ctx_r0.name)}}let ComcolPageHeaderComponent=(()=>{class ComcolPageHeaderComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComcolPageHeaderComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:ComcolPageHeaderComponent2,selectors:[["ds-comcol-page-header"]],inputs:{name:"name"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:1,vars:1,template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.DNE(0,ComcolPageHeaderComponent_Conditional_0_Template,2,1,"h1"),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.vxM(ctx.name?0:-1)}})}}return ComcolPageHeaderComponent2})()},14011:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>ComcolPageLogoComponent}),__webpack_require__(51419);var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25376);function ComcolPageLogoComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",0)(1,"img",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("error",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.errorHandler($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("src",ctx_r1.logo._links.content.href,_angular_core__WEBPACK_IMPORTED_MODULE_1__.B4B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("alt",ctx_r1.alternateText?ctx_r1.alternateText:null)}}let ComcolPageLogoComponent=(()=>{class ComcolPageLogoComponent2{constructor(){this.holderSource="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2293%22%20height%3D%22120%22%20viewBox%3D%220%200%2093%20120%22%20preserveAspectRatio%3D%22none%22%3E%3C!--%0ASource%20URL%3A%20holder.js%2F93x120%3Ftext%3DNo%20Thumbnail%0ACreated%20with%20Holder.js%202.8.2.%0ALearn%20more%20at%20http%3A%2F%2Fholderjs.com%0A(c)%202012-2015%20Ivan%20Malopinsky%20-%20http%3A%2F%2Fimsky.co%0A--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C!%5BCDATA%5B%23holder_1543e460b05%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%5D%5D%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1543e460b05%22%3E%3Crect%20width%3D%2293%22%20height%3D%22120%22%20fill%3D%22%23EEEEEE%22%2F%3E%3Cg%3E%3Ctext%20x%3D%2235.6171875%22%20y%3D%2257%22%3ENo%3C%2Ftext%3E%3Ctext%20x%3D%2210.8125%22%20y%3D%2272%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}errorHandler(event){event.currentTarget.src=this.holderSource}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComcolPageLogoComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ComcolPageLogoComponent2,selectors:[["ds-comcol-page-logo"]],inputs:{logo:"logo",alternateText:"alternateText"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:1,vars:1,consts:[[1,"dso-logo","mb-3"],[1,"w-100","img-fluid",3,"error","src"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ComcolPageLogoComponent_Conditional_0_Template,2,2,"div",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.vxM(ctx.logo?0:-1)},styles:["img[_ngcontent-%COMP%]{max-width:var(--ds-comcol-logo-max-width);max-height:var(--ds-comcol-logo-max-height)}"]})}}return ComcolPageLogoComponent2})()},53838:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>ComcolBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87514),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(60444),_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58006),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18134);let ComcolBrowseByComponent=(()=>{class ComcolBrowseByComponent2{constructor(route){this.route=route}ngOnInit(){this.browseByType$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>({type:data.browseDefinition.getRenderType()}))),this.scope$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>data.scope))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComcolBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_3__.nX))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ComcolBrowseByComponent2,selectors:[["ds-comcol-browse-by"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:3,vars:7,consts:[[3,"browseByType","displayTitle","scope"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.nrm(0,"ds-browse-by-switcher",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("browseByType",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,3,ctx.browseByType$))("displayTitle",!1)("scope",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,5,ctx.scope$))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Jj,_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__.e]})}}return ComcolBrowseByComponent2})()},59292:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ComcolSearchSectionComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(87514),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60444),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3339),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11013),_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16948),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2794),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32647),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18134);let ComcolSearchSectionComponent=(()=>{class ComcolSearchSectionComponent2{constructor(appConfig,route){this.appConfig=appConfig,this.route=route}ngOnInit(){this.comcol$=this.route.parent.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(data=>data.dso.payload)),this.showSidebar$=this.comcol$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(comcol=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(comcol)&&this.appConfig[comcol.type].searchSection.showSidebar))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ComcolSearchSectionComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:ComcolSearchSectionComponent2,selectors:[["ds-comcol-search-section"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.Jv_([{provide:_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__.EN,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.g}]),_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:4,vars:11,consts:[[3,"configuration","showSidebar","showScopeSelector","hideScopeInUrl","scope"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.nrm(0,"ds-search",0),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(3,"async")),2&rf){let tmp_0_0,tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y8G("configuration",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(1,5,ctx.comcol$))?null:tmp_0_0.type)("showSidebar",_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(2,7,ctx.showSidebar$))("showScopeSelector",!1)("hideScopeInUrl",!0)("scope",null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(3,9,ctx.comcol$))?null:tmp_4_0.id)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.Jj,_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__.N]})}}return ComcolSearchSectionComponent2})()},19862:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/collection-page/collection-page.component":[17292,7292]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=19862,module.exports=webpackAsyncContext},46563:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/collection-page/edit-item-template-page/edit-item-template-page.component":[96339,6339]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=46563,module.exports=webpackAsyncContext},30207:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/dso-shared/dso-edit-metadata/dso-edit-metadata.component":[16889,6889]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=30207,module.exports=webpackAsyncContext},7754:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component":[35952,5952]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=7754,module.exports=webpackAsyncContext},41454:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-content/comcol-page-content.component":[80556,556]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=41454,module.exports=webpackAsyncContext},85830:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-handle/comcol-page-handle.component":[54006,4006]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=85830,module.exports=webpackAsyncContext}};