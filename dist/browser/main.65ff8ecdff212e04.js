(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{42589:(U,b,n)=>{"use strict";n.d(b,{Ax:()=>f,P5:()=>c,bL:()=>e,mK:()=>p,w4:()=>m,xl:()=>y});var i=n(15343),t=n(5127);const c="epeople";function e(){return new t.t((0,i.XG)(),c).toString()}function f(E){return new t.t(e(),E,"edit").toString()}const m="groups";function p(){return new t.t((0,i.XG)(),m).toString()}function y(E){return new t.t(p(),E,"edit").toString()}},49601:(U,b,n)=>{"use strict";n.d(b,{_c:()=>c,bA:()=>t,oQ:()=>e});var i=n(6800);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class c{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},68164:(U,b,n)=>{"use strict";n.d(b,{v:()=>se});var i=n(60177),t=n(89417),c=n(7901),e=n(68018),f=n(84412),m=n(84572),p=n(7673),y=n(25558),E=n(96354),v=n(39901),O=n(96697),C=n(43446),I=n(58956),D=n(13817),R=n(2086),h=n(23681),S=n(31),T=n(4093),w=n(79104),M=n(32413),L=n(9847),N=n(2175),j=n(8417),$=n(42589),k=n(54438);const K=()=>["top","right","bottom"],z=be=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:be}),V=be=>({name:be}),G=be=>["btn btn-sm",be];function X(be,me){if(1&be){const re=k.RV6();k.j41(0,"button",20),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(re);const le=k.XpG().$implicit,ce=k.XpG(2);return k.Njj(ce.deleteMemberFromGroup(le.eperson))}),k.nrm(2,"i",21),k.k0s()}if(2&be){const re=k.XpG().$implicit,Z=k.XpG(2);k.FS9("title",k.i5U(1,4,Z.messagePrefix+".table.edit.buttons.remove",k.eq3(7,V,Z.dsoNameService.getName(re.eperson)))),k.Y8G("dsBtnDisabled",Z.actionConfig.remove.disabled)("ngClass",k.eq3(9,G,Z.actionConfig.remove.css)),k.R7$(2),k.Y8G("ngClass",Z.actionConfig.remove.icon)}}function J(be,me){if(1&be){const re=k.RV6();k.j41(0,"button",20),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(re);const le=k.XpG().$implicit,ce=k.XpG(2);return k.Njj(ce.addMemberToGroup(le.eperson))}),k.nrm(2,"i",21),k.k0s()}if(2&be){const re=k.XpG().$implicit,Z=k.XpG(2);k.FS9("title",k.i5U(1,4,Z.messagePrefix+".table.edit.buttons.add",k.eq3(7,V,Z.dsoNameService.getName(re.eperson)))),k.Y8G("dsBtnDisabled",Z.actionConfig.add.disabled)("ngClass",k.eq3(9,G,Z.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",Z.actionConfig.add.icon)}}function q(be,me){if(1&be&&(k.j41(0,"tr")(1,"td",16),k.EFF(2),k.k0s(),k.j41(3,"td",16)(4,"a",17),k.EFF(5),k.k0s()(),k.j41(6,"td",16),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",16)(13,"div",18),k.DNE(14,X,3,11,"button",19)(15,J,3,11,"button",19),k.k0s()()()),2&be){const re=me.$implicit,Z=k.XpG(2);k.R7$(2),k.JRh(re.eperson.id),k.R7$(2),k.Y8G("routerLink",Z.getEPersonEditRoute(re.eperson.id)),k.R7$(),k.SpI(" ",Z.dsoNameService.getName(re.eperson)," "),k.R7$(2),k.Lme(" ",k.bMT(8,9,Z.messagePrefix+".table.email"),": ",re.eperson.email?re.eperson.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,11,Z.messagePrefix+".table.netid"),": ",re.eperson.netid?re.eperson.netid:"-"," "),k.R7$(4),k.vxM(re.ableToDelete?14:-1),k.R7$(),k.vxM(re.ableToDelete?-1:15)}}function ne(be,me){if(1&be&&(k.j41(0,"ds-pagination",1),k.nI1(1,"async"),k.j41(2,"div",13)(3,"table",14)(4,"thead")(5,"tr")(6,"th",15),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",15),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",15),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",16),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.Z7z(19,q,16,13,"tr",null,k.fX1),k.nI1(21,"async"),k.k0s()()()()),2&be){let re,Z;const le=k.XpG();k.Y8G("paginationOptions",le.config)("collectionSize",null==(re=k.bMT(1,8,le.ePeopleMembersOfGroup))?null:re.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,10,le.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,12,le.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,14,le.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,16,le.messagePrefix+".table.edit")),k.R7$(3),k.Dyx(null==(Z=k.bMT(21,18,le.ePeopleMembersOfGroup))?null:Z.page)}}function ee(be,me){if(1&be&&(k.j41(0,"div",2),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&be){const re=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,re.messagePrefix+".no-members-yet")," ")}}function fe(be,me){if(1&be&&(k.j41(0,"span"),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&be){const re=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,re.messagePrefix+".search.head")," ")}}function ye(be,me){if(1&be){const re=k.RV6();k.j41(0,"tr")(1,"td",16),k.EFF(2),k.k0s(),k.j41(3,"td",16)(4,"a",17),k.EFF(5),k.k0s()(),k.j41(6,"td",16),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",16)(13,"div",18)(14,"button",20),k.nI1(15,"translate"),k.bIt("click",function(){const le=k.eBV(re).$implicit,ce=k.XpG(2);return k.Njj(ce.addMemberToGroup(le))}),k.nrm(16,"i",21),k.k0s()()()()}if(2&be){const re=me.$implicit,Z=k.XpG(2);k.R7$(2),k.JRh(re.id),k.R7$(2),k.Y8G("routerLink",Z.getEPersonEditRoute(re.id)),k.R7$(),k.SpI(" ",Z.dsoNameService.getName(re)," "),k.R7$(2),k.Lme(" ",k.bMT(8,11,Z.messagePrefix+".table.email"),": ",re.email?re.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,13,Z.messagePrefix+".table.netid"),": ",re.netid?re.netid:"-"," "),k.R7$(4),k.FS9("title",k.i5U(15,15,Z.messagePrefix+".table.edit.buttons.add",k.eq3(18,V,Z.dsoNameService.getName(re)))),k.Y8G("dsBtnDisabled",Z.actionConfig.add.disabled)("ngClass",k.eq3(20,G,Z.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",Z.actionConfig.add.icon)}}function oe(be,me){if(1&be&&(k.j41(0,"ds-pagination",1),k.nI1(1,"async"),k.j41(2,"div",13)(3,"table",22)(4,"thead")(5,"tr")(6,"th",15),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",15),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",15),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",16),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.Z7z(19,ye,17,22,"tr",null,k.fX1),k.nI1(21,"async"),k.k0s()()()()),2&be){let re,Z;const le=k.XpG();k.Y8G("paginationOptions",le.configSearch)("collectionSize",null==(re=k.bMT(1,8,le.ePeopleSearch))?null:re.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,10,le.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,12,le.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,14,le.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,16,le.messagePrefix+".table.edit")),k.R7$(3),k.Dyx(null==(Z=k.bMT(21,18,le.ePeopleSearch))?null:Z.page)}}function ue(be,me){if(1&be&&(k.j41(0,"div",2),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&be){const re=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,re.messagePrefix+".no-items")," ")}}var te=function(be){return be[be.ActiveGroup=0]="ActiveGroup",be[be.Members=1]="Members",be[be.SearchResults=2]="SearchResults",be}(te||{});let se=(()=>{class be{constructor(re,Z,le,ce,ve,ze,Se,et){this.groupDataService=re,this.ePersonDataService=Z,this.translateService=le,this.notificationsService=ce,this.formBuilder=ve,this.paginationService=ze,this.router=Se,this.dsoNameService=et,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new f.t(void 0),this.ePeopleMembersOfGroup=new f.t(void 0),this.configSearch=Object.assign(new j.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new j.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=$.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(te.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(re=>{null!=re&&(this.groupBeingEdited=re,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(re){this.unsubFrom(te.Members),this.subs.set(te.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,y.n)(Z=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:Z.currentPage,elementsPerPage:Z.pageSize})),(0,T.bD)(),(0,E.T)(Z=>{if(!Z.hasFailed)return Z;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:Z.errorMessage}))}),(0,y.n)(Z=>(0,m.z)([...Z.payload.page.map(ce=>(0,m.z)(this.isMemberOfGroup(ce),ze=>{const Se=new h.h;return Se.eperson=ce,Se.ableToDelete=ze,Se}))]).pipe((0,v.U)([]),(0,E.T)(ce=>(0,I.g)(Z.payload.pageInfo,ce))))).subscribe(Z=>{this.ePeopleMembersOfGroup.next(Z)}))}isMemberOfGroup(re){return(0,p.of)(!0)}unsubFrom(re){this.subs.has(re)&&(this.subs.get(re).unsubscribe(),this.subs.delete(re))}deleteMemberFromGroup(re){this.groupDataService.getActiveGroup().pipe((0,O.s)(1)).subscribe(Z=>{if(null!=Z){const le=this.groupDataService.deleteMemberFromGroup(Z,re);this.showNotifications("deleteMember",le,this.dsoNameService.getName(re),Z),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(re){this.groupDataService.getActiveGroup().pipe((0,O.s)(1)).subscribe(Z=>{if(null!=Z){const le=this.groupDataService.addMemberToGroup(Z,re);this.showNotifications("addMember",le,this.dsoNameService.getName(re),Z),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(re){this.unsubFrom(te.SearchResults),this.subs.set(te.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,y.n)(Z=>{const le=re.query;return null!=le&&this.currentSearchQuery!==le&&this.groupBeingEdited&&(this.currentSearchQuery=le,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:Z.currentPage,elementsPerPage:Z.pageSize},!1,!0)}),(0,T.bD)(),(0,E.T)(Z=>{if(!Z.hasFailed)return Z;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:Z.errorMessage}))}),(0,T.Bo)()).subscribe(Z=>{this.ePeopleSearch.next(Z)}))}ngOnDestroy(){for(const re of this.subs.keys())this.unsubFrom(re);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(re,Z,le,ce){Z.pipe((0,T.qD)()).subscribe(ve=>{ve.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+re,{name:le})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+re,{name:le}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(Z){return new(Z||be)(k.rXU(R.GroupDataService),k.rXU(D.EPersonDataService),k.rXU(e.c$),k.rXU(L.I),k.rXU(t.ze),k.rXU(S.m),k.rXU(c.Ix),k.rXU(C.f))}}static{this.\u0275cmp=k.VBU({type:be,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[k.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(Z,le){if(1&Z&&(k.qex(0),k.j41(1,"h2",0),k.EFF(2),k.nI1(3,"translate"),k.k0s(),k.j41(4,"h3"),k.EFF(5),k.nI1(6,"translate"),k.k0s(),k.DNE(7,ne,22,20,"ds-pagination",1),k.nI1(8,"async"),k.DNE(9,ee,3,3,"div",2),k.nI1(10,"async"),k.nI1(11,"async"),k.j41(12,"h3",3),k.DNE(13,fe,3,3,"span",4),k.k0s(),k.j41(14,"form",5),k.bIt("ngSubmit",function(){return le.search(le.searchForm.value)}),k.j41(15,"div",6)(16,"div",7),k.nrm(17,"input",8),k.j41(18,"span",9)(19,"button",10),k.nrm(20,"i",11),k.EFF(21),k.nI1(22,"translate"),k.k0s()()()(),k.j41(23,"div")(24,"button",12),k.bIt("click",function(){return le.clearFormAndResetResult()}),k.EFF(25),k.nI1(26,"translate"),k.k0s()()(),k.DNE(27,oe,22,20,"ds-pagination",1),k.nI1(28,"async"),k.DNE(29,ue,3,3,"div",2),k.nI1(30,"async"),k.bVm()),2&Z){let ce,ve,ze,Se;k.R7$(2),k.JRh(k.bMT(3,10,le.messagePrefix+".head")),k.R7$(3),k.JRh(k.bMT(6,12,le.messagePrefix+".headMembers")),k.R7$(2),k.vxM((null==(ce=k.bMT(8,14,le.ePeopleMembersOfGroup))?null:ce.totalElements)>0?7:-1),k.R7$(2),k.vxM(void 0===k.bMT(10,16,le.ePeopleMembersOfGroup)||0===(null==(ve=k.bMT(11,18,le.ePeopleMembersOfGroup))?null:ve.totalElements)?9:-1),k.R7$(4),k.Y8G("dsContextHelp",k.eq3(29,z,k.lJ4(28,K))),k.R7$(),k.Y8G("formGroup",le.searchForm),k.R7$(7),k.SpI(" ",k.bMT(22,20,le.messagePrefix+".search.button"),""),k.R7$(4),k.JRh(k.bMT(26,22,le.messagePrefix+".button.see-all")),k.R7$(2),k.vxM((null==(ze=k.bMT(28,24,le.ePeopleSearch))?null:ze.totalElements)>0?27:-1),k.R7$(2),k.vxM(0===(null==(Se=k.bMT(30,26,le.ePeopleSearch))?null:Se.totalElements)&&le.searchDone?29:-1)}},dependencies:[i.Jj,w.A,M.G,i.YU,N.e,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,c.Wk,e.h,e.D9],encapsulation:2})}}return be})()},42319:(U,b,n)=>{"use strict";n.d(b,{C:()=>c,O3:()=>t,Sb:()=>e});var i=n(6800);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class c{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},75398:(U,b,n)=>{"use strict";n.d(b,{SH:()=>T,jJ:()=>L});var i=n(84418),t=n.n(i),c=n(25558),e=n(7673),f=n(84572),m=n(96354),p=n(96697),y=n(79096),E=n(78544),v=n(94196),O=n(13817),C=n(4093),I=n(89777),D=n(34180),R=n(54438),h=n(67138),S=n(89564);const T="dsAccessibilityCookie",w="dspace.accessibility.settings",M=["notificationTimeOut","liveRegionTimeOut"];let L=(()=>{class K{constructor(V,G,X,J,q){this.cookieService=V,this.authService=G,this.ePersonService=X,this.orejimeService=J,this.appConfig=q}get(V,G=null){return this.getAll().pipe((0,m.T)(X=>X[V]),(0,m.T)(X=>(0,I.hj)(X)?X:G))}getAsNumber(V,G=null){return this.get(V).pipe((0,m.T)(X=>(0,I.a4)(X)?parseInt(X,10):NaN),(0,m.T)(X=>isNaN(X)?G:X))}getAll(){return this.getAllSettingsFromAuthenticatedUserMetadata().pipe((0,m.T)(V=>(0,I.hj)(V)?V:this.getAllSettingsFromCookie()),(0,m.T)(V=>(0,I.hj)(V)?V:{}))}getAllSettingsFromCookie(){return this.cookieService.get(T)}getAllSettingsFromAuthenticatedUserMetadata(){return this.authService.getAuthenticatedUserFromStoreIfAuthenticated().pipe((0,p.s)(1),(0,m.T)(V=>(0,I.a4)(V)&&(0,I.a4)(V.firstMetadataValue(w))?JSON.parse(V.firstMetadataValue(w)):{}))}set(V,G){return this.updateSettings({[V]:G})}setSettings(V){return this.setSettingsInAuthenticatedUserMetadata(V).pipe((0,p.s)(1),(0,m.T)(G=>"metadata"===G),(0,c.n)(G=>G?$():this.setSettingsInCookie(V)))}updateSettings(V){return this.getAll().pipe((0,p.s)(1),(0,m.T)(G=>Object.assign({},G,V)),(0,c.n)(G=>this.setSettings(G)))}setSettingsInAuthenticatedUserMetadata(V){return this.authService.getAuthenticatedUserFromStoreIfAuthenticated().pipe((0,p.s)(1),(0,c.n)(G=>{if((0,I.a4)(G)){const X=t()(G);return this.setSettingsInMetadata(X,V)}return k()}))}setSettingsInMetadata(V,G){return(0,I.hj)(G)?V.setMetadata(w,null,JSON.stringify(G)):V.removeMetadata(w),this.ePersonService.createPatchFromCache(V).pipe((0,p.s)(1),(0,c.n)(X=>(0,I.hj)(X)?this.ePersonService.patch(V,X):(0,D.CX)({})),(0,C.qD)(),(0,c.n)(X=>X.hasSucceeded?$():k()))}setSettingsInCookie(V){return(0,I.Tn)(this.orejimeService)?(0,e.of)("failed"):this.orejimeService.getSavedPreferences().pipe((0,m.T)(G=>G.accessibility),(0,m.T)(G=>G?((0,I.hj)(V)?this.cookieService.set(T,V,{expires:this.appConfig.accessibility.cookieExpirationDuration}):this.cookieService.remove(T),"cookie"):"failed"))}clearSettings(){return(0,f.z)([this.setSettingsInCookie({}),this.setSettingsInAuthenticatedUserMetadata({})])}getDefaultValue(V){switch(V){case"notificationTimeOut":return j(E.c.notifications.timeOut.toString());case"liveRegionTimeOut":return j(E.c.liveRegion.messageTimeOutDurationMs.toString());default:return""}}convertFormValuesToStoredValues(V){const G={notificationTimeOut:V.notificationTimeOutEnabled?N(V.notificationTimeOut):"0",liveRegionTimeOut:N(V.liveRegionTimeOut)};return V.notificationTimeOutEnabled&&"0"===V.notificationTimeOut&&delete G.notificationTimeOut,G}convertStoredValuesToFormValues(V){return{notificationTimeOutEnabled:0!==parseFloat(V.notificationTimeOut),notificationTimeOut:j(V.notificationTimeOut),liveRegionTimeOut:j(V.liveRegionTimeOut)}}isValid(V,G){switch(V){case"notificationTimeOut":return!G.notificationTimeOutEnabled||(0,I.Tn)(G.notificationTimeOut)||parseFloat(G.notificationTimeOut)>0;case"liveRegionTimeOut":return(0,I.Tn)(G.liveRegionTimeOut)||parseFloat(G.liveRegionTimeOut)>0;default:throw new Error(`Unhandled accessibility setting during validity check: ${V}`)}}formValuesValid(V){return M.every(G=>this.isValid(G,V))}static{this.\u0275fac=function(G){return new(G||K)(R.KVO(h.O),R.KVO(v.uR),R.KVO(O.EPersonDataService),R.KVO(S.B,8),R.KVO(y.vQ))}}static{this.\u0275prov=R.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function N(K){const z=parseFloat(K);return isNaN(z)?null:(1e3*z).toString()}function j(K){const z=parseFloat(K);return isNaN(z)?null:(z/1e3).toString()}function $(){return(0,e.of)("metadata")}function k(){return(0,e.of)("failed")}},43374:(U,b,n)=>{"use strict";n.r(b),n.d(b,{LdnServicesService:()=>w});var i=n(96697),t=n(96354),c=n(57775),e=n(10186),f=n(81948),m=n(18328),p=n(72073),y=n(88667),E=n(20881),v=n(4318),O=n(60796),C=n(36343),I=n(49755),D=n(3601),R=n(7094),h=n(5127),S=n(9847),T=n(54438);let w=(()=>{class M extends E.W{constructor(N,j,$,k,K){super("ldnservices",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.notificationsService=K,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new y.H(this.linkPath,N,j,$,k,this.responseMsToLive),this.searchData=new O.X(this.linkPath,N,j,$,k,this.responseMsToLive),this.deleteData=new p.I(this.linkPath,N,j,$,k,K,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new v.n(this.linkPath,N,j,$,k,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,N,j,$,k,K,this.responseMsToLive)}create(N,...j){return this.createData.create(N,...j)}patch(N,j){return this.patchData.patch(N,j)}update(N){return this.patchData.update(N)}commitUpdates(N){return this.patchData.commitUpdates(N)}createPatchFromCache(N){return this.patchData.createPatchFromCache(N)}findAll(N,j,$,...k){return this.findAllData.findAll(N,j,$,...k)}findByInboundPattern(N,j,$,k,...K){const z=[new e.x("pattern",N)],V=Object.assign(new C._,j,{searchParams:z});return this.searchBy(this.findByPatternEndpoint,V,$,k,...K)}delete(N,j){return this.deleteData.delete(N,j)}deleteByHref(N,j){return this.deleteData.deleteByHref(N,j)}searchBy(N,j,$,k,...K){return this.searchData.searchBy(N,j,$,k,...K)}invoke(N,j,$,k){const K=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(z=>new h.t(z,N,"processes",j).toString()),(0,t.T)(z=>{const V=this.getInvocationFormData($,k);return new I.E0(K,z,V)})).subscribe(z=>this.requestService.send(z)),this.rdbService.buildFromRequestUUID(K)}getInvocationFormData(N,j){const $=new FormData;return $.set("properties",JSON.stringify(N)),j.forEach(k=>{$.append("file",k)}),$}static{this.\u0275fac=function(j){return new(j||M)(T.KVO(D.B),T.KVO(c.o),T.KVO(f.$),T.KVO(R.Y),T.KVO(S.I))}}static{this.\u0275prov=T.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},89465:(U,b,n)=>{"use strict";n.d(b,{tc:()=>c,uC:()=>e,zd:()=>t});var i=n(44043);const t=new i.v("ldnservice"),c=new i.v("itemfilters"),e=new i.v("itemfilter")},80883:(U,b,n)=>{"use strict";n.d(b,{VZ:()=>t,rn:()=>i,wU:()=>c});const i="quality-assurance",t="publication-claim";function c(){return`/${i}`}},74831:(U,b,n)=>{"use strict";n.d(b,{o:()=>t});var i=n(49891);class t extends i.q{}},12560:(U,b,n)=>{"use strict";n.d(b,{a:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(73685),m=n(94152),p=n(78022);let y=class extends f.M{constructor(){super(...arguments),this.type=p.g}static{this.type=p.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",c.c)],y.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",c.c)],y.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],y)},78022:(U,b,n)=>{"use strict";n.d(b,{g:()=>t});const t=new(n(44043).v)("message")},12673:(U,b,n)=>{"use strict";n.r(b),n.d(b,{AdminNotifyMessagesService:()=>w});var i=n(22806),t=n(7673),c=n(31943),e=n(73028),f=n(96354),m=n(88141),p=n(25558),y=n(57775),E=n(81948),v=n(20881),O=n(61206),C=n(49755),I=n(3601),D=n(7094),R=n(4093),h=n(9847),S=n(43374),T=n(54438);let w=(()=>{class M extends v.W{constructor(N,j,$,k,K,z,V){super("messages",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.notificationsService=K,this.ldnServicesService=z,this.itemDataService=V,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(N){return(0,i.H)(N).pipe((0,e.Z)(j=>j.target||j.origin?this.ldnServicesService.findById((j.target||j.origin).toString()).pipe((0,R.Hz)(),(0,f.T)($=>({...j,ldnService:$.name}))):(0,t.of)(j)),(0,e.Z)(j=>j.object||j.context?this.itemDataService.findById(j.object||j.context).pipe((0,R.Hz)(),(0,f.T)($=>({...j,relatedItem:$.name}))):(0,t.of)(j)),(0,c.S)((j,$)=>[...j,$],[]))}reprocessMessage(N,j){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,f.T)(k=>k.replace("{id}",N.id)),(0,f.T)(k=>new C.Qf($,k)),(0,m.M)(k=>this.requestService.send(k)),(0,p.n)(k=>this.rdbService.buildFromRequestUUID(k.uuid)),(0,R.qD)(),(0,R.Hz)(),(0,e.Z)(k=>this.getDetailedMessages([k]))).pipe((0,e.Z)(k=>j.pipe((0,f.T)(K=>{const z=k[0],V=K.find(X=>X.id===N.id),G=K.indexOf(V);return z.target=N.target,z.object=N.object,z.origin=N.origin,z.context=N.context,K[G]=z,K}))))}static{this.\u0275fac=function(j){return new(j||M)(T.KVO(I.B),T.KVO(y.o),T.KVO(E.$),T.KVO(D.Y),T.KVO(h.I),T.KVO(S.LdnServicesService),T.KVO(O.ItemDataService))}}static{this.\u0275prov=T.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},45879:(U,b,n)=>{"use strict";n.d(b,{Cv:()=>e,Sh:()=>t,ZU:()=>f,hO:()=>c});var i=n(6800);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class c{constructor(p){this.type=t.SELECT_FORMAT,this.bitstreamFormat=p}}class e{constructor(p){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=p}}class f{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},75676:(U,b,n)=>{"use strict";n.d(b,{Gr:()=>p,Kt:()=>t,Q6:()=>f,TE:()=>C,Tf:()=>E,Wi:()=>e,dF:()=>y,jC:()=>v,w2:()=>c,yb:()=>O,zn:()=>m});var i=n(6800);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class c{constructor(D){this.type=t.EDIT_SCHEMA,this.schema=D}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class f{constructor(D){this.type=t.SELECT_SCHEMA,this.schema=D}}class m{constructor(D){this.type=t.DESELECT_SCHEMA,this.schema=D}}class p{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class y{constructor(D){this.type=t.EDIT_FIELD,this.field=D}}class E{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class v{constructor(D){this.type=t.SELECT_FIELD,this.field=D}}class O{constructor(D){this.type=t.DESELECT_FIELD,this.field=D}}class C{constructor(){this.type=t.DESELECT_ALL_FIELD}}},83:(U,b,n)=>{"use strict";n.d(b,{P$:()=>E,b7:()=>C,iF:()=>y,jE:()=>e,p8:()=>p,uD:()=>f,z$:()=>m});var i=n(15343),t=n(5127),c=n(80883);const e="registries",f="notifications",m="ldn",p="reports",y="notify-dashboard";function E(){return new t.t((0,i.D6)(),e).toString()}function C(){return new t.t(`/${f}`,(0,c.wU)()).toString()}},581:(U,b,n)=>{"use strict";n.d(b,{g:()=>O});var i=n(60177),t=n(7901),c=n(68018),e=n(89777),f=n(96132),m=n(66372),p=n(77983),y=n(33745),E=n(54438);const v=C=>({disabled:C});let O=(()=>{class C extends p.U{constructor(D,R,h,S){super(R,h),this.section=D,this.menuService=R,this.injector=h,this.router=S,this.menuID=m.D.ADMIN,this.itemModel=D.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(D){D.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(D){return`admin-menu-section-${D.accessibilityHandle??D.id}`}adminMenuSectionTitleAccessibilityHandle(D){return`admin-menu-section-${D.accessibilityHandle??D.id}-title`}static{this.\u0275fac=function(R){return new(R||C)(E.rXU("sectionDataProvider"),E.rXU(f.$),E.rXU(E.zZn),E.rXU(t.Ix))}}static{this.\u0275cmp=E.VBU({type:C,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:16,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(R,h){1&R&&(E.j41(0,"div")(1,"a",0),E.bIt("keyup.space",function(T){return h.navigate(T)})("keyup.enter",function(T){return h.navigate(T)}),E.j41(2,"div",1),E.nrm(3,"i"),E.k0s(),E.j41(4,"div",2)(5,"div",3)(6,"span",4),E.nI1(7,"dsBrowserOnly"),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()()()),2&R&&(E.R7$(),E.Y8G("ngClass",E.eq3(14,v,h.isDisabled))("routerLink",h.itemModel.link),E.BMQ("aria-disabled",h.isDisabled)("aria-labelledby",h.adminMenuSectionTitleAccessibilityHandle(h.section)),E.R7$(2),E.ZvI("fas fa-",h.section.icon," fa-fw"),E.R7$(3),E.Y8G("id",h.adminMenuSectionTitleAccessibilityHandle(h.section)),E.BMQ("data-test",E.bMT(7,10,h.adminMenuSectionTitleAccessibilityHandle(h.section))),E.R7$(2),E.SpI(" ",E.bMT(9,12,h.itemModel.text)," "))},dependencies:[y.L,i.YU,t.Wk,c.h,c.D9]})}}return C})()},60432:(U,b,n)=>{"use strict";n.r(b),n.d(b,{AdminSidebarComponent:()=>X});var i=n(60177),t=n(58003),c=n(68018),e=n(84412),f=n(84572),m=n(61594),p=n(96354),y=n(70152),E=n(23294),v=n(53993),O=n(94196),C=n(11873),I=n(13957),D=n(15181),R=n(96132),h=n(66372),S=n(87837),T=n(73838),w=n(33745),M=n(54438),L=n(7901);const N=(J,q,ne)=>({expanded:J,collapsed:q,transitioning:ne}),j=(J,q)=>({collapsedWidth:J,expandedWidth:q}),$=(J,q)=>({value:J,params:q});function k(J,q){1&J&&M.eu8(0)}function K(J,q){if(1&J&&(M.DNE(0,k,1,0,"ng-container",15),M.nI1(1,"async"),M.nI1(2,"async")),2&J){const ne=q.$implicit,ee=M.XpG(2);M.Y8G("ngComponentOutlet",M.bMT(1,2,ee.sectionMap$).get(ne.id).component)("ngComponentOutletInjector",M.bMT(2,4,ee.sectionMap$).get(ne.id).injector)}}function z(J,q){1&J&&(M.nrm(0,"i",13),M.nI1(1,"translate")),2&J&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.pin"))}function V(J,q){1&J&&(M.nrm(0,"i",14),M.nI1(1,"translate")),2&J&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.unpin"))}function G(J,q){if(1&J){const ne=M.RV6();M.j41(0,"nav",1),M.nI1(1,"async"),M.nI1(2,"async"),M.nI1(3,"async"),M.nI1(4,"translate"),M.bIt("@slideSidebar.done",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.finishSlide(fe))})("@slideSidebar.start",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.startSlide(fe))})("mouseenter",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.handleMouseEnter(fe))})("mouseleave",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.handleMouseLeave(fe))}),M.j41(5,"div",2)(6,"div",3)(7,"div",4),M.nrm(8,"img",5),M.nI1(9,"translate"),M.k0s(),M.j41(10,"div",6)(11,"div",7)(12,"h4",8),M.EFF(13),M.nI1(14,"translate"),M.k0s()()()()(),M.j41(15,"div",9)(16,"div",10),M.nI1(17,"translate"),M.Z7z(18,K,3,6,"ng-container",null,M.fX1),M.nI1(20,"async"),M.k0s()(),M.j41(21,"div",11)(22,"a",12),M.nI1(23,"dsBrowserOnly"),M.bIt("click",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.toggle(fe))})("keyup.space",function(fe){M.eBV(ne);const ye=M.XpG();return M.Njj(ye.toggle(fe))}),M.j41(24,"div",4),M.DNE(25,z,2,3,"i",13),M.nI1(26,"async"),M.DNE(27,V,2,3,"i",14),M.nI1(28,"async"),M.k0s(),M.j41(29,"div",6)(30,"div",7),M.EFF(31),M.nI1(32,"async"),M.nI1(33,"translate"),M.k0s()()()()()}if(2&J){const ne=M.XpG();M.Y8G("ngClass",M.sMw(36,N,ne.sidebarOpen,ne.sidebarClosed,ne.sidebarTransitioning))("@slideSidebar",M.l_i(43,$,!0!==M.bMT(1,10,ne.sidebarExpanded)?"collapsed":"expanded",M.l_i(40,j,M.bMT(2,12,ne.collapsedSidebarWidth$),M.bMT(3,14,ne.expandedSidebarWidth$)))),M.BMQ("aria-label",M.bMT(4,16,"menu.header.nav.description")),M.R7$(8),M.Y8G("alt",M.bMT(9,18,"menu.header.image.logo")),M.R7$(5),M.JRh(M.bMT(14,20,"menu.header.admin")),M.R7$(3),M.BMQ("aria-label",M.bMT(17,22,"menu.header.admin.description")),M.R7$(2),M.Dyx(M.bMT(20,24,ne.sections)),M.R7$(4),M.BMQ("data-test",M.bMT(23,26,"sidebar-collapse-toggle")),M.R7$(3),M.vxM(M.bMT(26,28,ne.menuCollapsed)?25:-1),M.R7$(2),M.vxM(!0!==M.bMT(28,30,ne.menuCollapsed)?27:-1),M.R7$(4),M.SpI(" ",M.bMT(33,34,M.bMT(32,32,ne.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let X=(()=>{class J extends D.Z{constructor(ne,ee,fe,ye,oe,ue,te){super(ne,ee,oe,ue,te),this.menuService=ne,this.injector=ee,this.variableService=fe,this.authService=ye,this.authorizationService=oe,this.route=ue,this.themeService=te,this.menuID=h.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(ne=>{ne&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(ne=>{this.sidebarOpen=!ne,this.sidebarClosed=ne}),this.sidebarExpanded=(0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,p.T)(([ne,ee])=>!ne||!ee)),this.inFocus$.pipe((0,y.B)(50),(0,E.F)(),(0,v.E)((0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([ne,[ee,fe]])=>{ee&&(ne&&fe?this.expandPreview(new Event("focusin \u2192 expand")):!ne&&!fe&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(ne){this.inFocus$.getValue()?ne.preventDefault():this.expandPreview(ne)}handleMouseLeave(ne){this.inFocus$.getValue()?ne.preventDefault():this.collapsePreview(ne)}startSlide(ne){this.sidebarTransitioning=!0,"expanded"===ne.toState?this.sidebarClosed=!1:"collapsed"===ne.toState&&(this.sidebarOpen=!1)}finishSlide(ne){this.sidebarTransitioning=!1,"expanded"===ne.fromState?this.sidebarClosed=!0:"collapsed"===ne.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(ee){return new(ee||J)(M.rXU(R.$),M.rXU(M.zZn),M.rXU(S.J),M.rXU(O.uR),M.rXU(C.AuthorizationDataService),M.rXU(L.nX),M.rXU(T.Fs))}}static{this.\u0275cmp=M.VBU({type:J,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(ee,fe){1&ee&&M.bIt("focusin",function(){return fe.handleFocusIn()})("focusout",function(){return fe.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[M.Vt3,M.aNF],decls:2,vars:3,consts:[["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"ngClass"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(ee,fe){1&ee&&(M.DNE(0,G,34,46,"nav",0),M.nI1(1,"async")),2&ee&&M.vxM(M.bMT(1,1,fe.menuVisible)?0:-1)},dependencies:[i.Jj,w.L,t.zH,t.QE,i.YU,i.OI,c.D9],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[I.ck]}})}}return J})()},18705:(U,b,n)=>{"use strict";n.d(b,{W:()=>z});var i=n(60177),t=n(68018),c=n(84572),e=n(96354),f=n(49969);const m=(0,f.iF)({backgroundColor:"{{ startColor }}"}),p=(0,f.iF)({backgroundColor:"{{ endColor }}"}),y=(0,f.hZ)("bgColor",[(0,f.wk)("startBackground",m,{params:{startColor:"*"}}),(0,f.wk)("endBackground",p,{params:{endColor:"*"}}),(0,f.kY)("startBackground <=> endBackground",(0,f.Os)([(0,f.P)("@*",(0,f.MA)()),(0,f.i0)("200ms")]))]);var E=n(59713),v=n(13957),O=n(89777),C=n(96132),I=n(66372),D=n(87837),R=n(33745),h=n(581),S=n(54438),T=n(7901);const w=V=>({expanded:V}),M=V=>({endColor:V}),L=(V,G)=>({value:V,params:G});function N(V,G){1&V&&S.eu8(0)}function j(V,G){1&V&&S.eu8(0)}function $(V,G){if(1&V&&(S.j41(0,"div",12),S.DNE(1,j,1,0,"ng-container",6),S.nI1(2,"async"),S.nI1(3,"async"),S.k0s()),2&V){const X=G.$implicit,J=S.XpG(3);S.R7$(),S.Y8G("ngComponentOutlet",S.bMT(2,2,J.sectionMap$).get(X.id).component)("ngComponentOutletInjector",S.bMT(3,4,J.sectionMap$).get(X.id).injector)}}function k(V,G){if(1&V&&(S.j41(0,"div",8),S.nrm(1,"div",9),S.j41(2,"div",3)(3,"div",10)(4,"div",11),S.nI1(5,"translate"),S.Z7z(6,$,4,6,"div",12,S.fX1),S.nI1(8,"async"),S.k0s()()()()),2&V){const X=S.XpG(2);S.Y8G("@slide",void 0),S.R7$(4),S.Y8G("id",X.adminMenuSectionId(X.section)),S.BMQ("aria-label",S.bMT(5,3,"menu.section."+X.section.id)),S.R7$(2),S.Dyx(S.bMT(8,5,X.subSections$))}}function K(V,G){if(1&V){const X=S.RV6();S.j41(0,"div",0),S.nI1(1,"async"),S.nI1(2,"async"),S.nI1(3,"async"),S.j41(4,"a",1),S.nI1(5,"async"),S.nI1(6,"translate"),S.bIt("click",function(q){S.eBV(X);const ne=S.XpG();return S.Njj(ne.toggleSection(q))})("keyup.space",function(q){S.eBV(X);const ne=S.XpG();return S.Njj(ne.toggleSection(q))}),S.j41(7,"div",2),S.nrm(8,"i"),S.k0s(),S.j41(9,"div",3)(10,"div",4)(11,"span",5),S.nI1(12,"dsBrowserOnly"),S.DNE(13,N,1,0,"ng-container",6),S.nI1(14,"async"),S.nI1(15,"async"),S.k0s(),S.nrm(16,"i",7),S.nI1(17,"async"),S.k0s()()(),S.DNE(18,k,9,7,"div",8),S.nI1(19,"async"),S.k0s()}if(2&V){let X;const J=S.XpG();S.Y8G("ngClass",S.eq3(36,w,S.bMT(1,16,J.isExpanded$)))("@bgColor",S.l_i(40,L,S.bMT(2,18,J.isExpanded$)?"endBackground":"startBackground",S.eq3(38,M,S.bMT(3,20,J.sidebarActiveBg$)))),S.R7$(4),S.AVh("disabled",null==J.section.model?null:J.section.model.disabled),S.BMQ("aria-controls",J.adminMenuSectionId(J.section))("aria-expanded",S.bMT(5,22,J.isExpanded$))("aria-label",S.bMT(6,24,"menu.section.toggle."+J.section.id)),S.R7$(4),S.ZvI("fas fa-",null!==(X=J.section.icon)&&void 0!==X?X:"notdef"," fa-fw"),S.R7$(3),S.Y8G("id",J.adminMenuSectionTitleAccessibilityHandle(J.section)),S.BMQ("data-test",S.bMT(12,26,J.adminMenuSectionTitleAccessibilityHandle(J.section))),S.R7$(2),S.Y8G("ngComponentOutlet",S.bMT(14,28,J.sectionMap$).get(J.section.id).component)("ngComponentOutletInjector",S.bMT(15,30,J.sectionMap$).get(J.section.id).injector),S.R7$(3),S.Y8G("@rotate",S.bMT(17,32,J.isExpanded$)?"expanded":"collapsed"),S.R7$(2),S.vxM(S.bMT(19,34,J.isExpanded$)?18:-1)}}let z=(()=>{class V extends h.g{constructor(X,J,q,ne,ee){super(X,J,ne,ee),this.section=X,this.menuService=J,this.variableService=q,this.injector=ne,this.router=ee,this.menuID=I.D.ADMIN}ngOnInit(){super.ngOnInit(),this.hasSubSections$=this.subSections$.pipe((0,e.T)(X=>(0,O.hj)(X))),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,c.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([X,J,q])=>X&&(!J||!q)))}toggleSection(X){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(X)}adminMenuSubsectionId(X,J){return`admin-menu-section-${X}-${J}`}static{this.\u0275fac=function(J){return new(J||V)(S.rXU("sectionDataProvider"),S.rXU(C.$),S.rXU(D.J),S.rXU(S.zZn),S.rXU(T.Ix))}}static{this.\u0275cmp=S.VBU({type:V,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:3,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],[1,"sidebar-item"]],template:function(J,q){1&J&&(S.DNE(0,K,20,43,"div",0),S.nI1(1,"async")),2&J&&S.vxM(S.bMT(1,1,q.hasSubSections$)?0:-1)},dependencies:[i.Jj,R.L,i.YU,i.OI,t.h,t.D9],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[E.e$,v.M6,y]}})}}return V})()},370:(U,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(29710),c=(n(60432),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(E){return n(48832)(`./${E}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,60432))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},15343:(U,b,n)=>{"use strict";n.d(b,{D6:()=>w,Do:()=>j,EI:()=>re,ET:()=>I,EX:()=>ee,Eo:()=>h,Ep:()=>ue,H_:()=>v,N2:()=>ye,OC:()=>J,Q:()=>z,RC:()=>oe,RD:()=>ne,RZ:()=>me,Th:()=>L,UP:()=>se,Vv:()=>K,XG:()=>be,al:()=>k,bZ:()=>q,cp:()=>G,dF:()=>O,e_:()=>te,gf:()=>ce,hV:()=>C,il:()=>N,l2:()=>E,lH:()=>Z,n:()=>fe,pU:()=>T,pX:()=>M,sB:()=>S,sT:()=>$,uz:()=>D,wN:()=>X});var i=n(47067),t=n(39015),c=n(48145),e=n(10406),f=n(15862),m=n(5127),p=n(92767),y=n(89777);const E="bitstreams",v="bitstream";function O(){return`/${E}`}function C(et){return new m.t(O(),et.uuid,"download").toString()}function I(et,$e){return{routerLink:new m.t((0,p.Fy)(),et.uuid,"request-a-copy").toString(),queryParams:{bitstream:$e.uuid}}}function D(et,$e){const We={routerLink:new m.t(O(),et.uuid,"download").toString(),queryParams:{}};return(0,y.a4)($e)&&(We.queryParams={accessToken:$e}),We}const h="home";function S(){return`/${h}`}const T="admin";function w(){return`/${T}`}const M="profile";function L(){return`/${M}`}const N="register";function j(){return`/${N}`}const $="forgot";function k(){return`/${$}`}const K="workflowitems";function z(){return`/${K}`}const V="workspaceitems";function G(){return`/${V}`}function X(et){if((0,y.a4)(et))switch(et.type){case e.E.type.value:return(0,t.c5)(et.uuid);case c.p.type.value:return(0,i.JW)(et.uuid);case f.q.type.value:return(0,p._o)(et)}}const J="403";function q(){return`/${J}`}const ne="404";function ee(){return`/${ne}`}const fe="500";function ye(){return`/${fe}`}const oe="error",ue="info";function te(){return`/${ue}`}const se="access-control";function be(){return`/${se}`}const me="request-a-copy";function re(){return`/${me}`}const Z="health",le="subscriptions";function ce(){return`/${le}`}},23679:(U,b,n)=>{"use strict";n.d(b,{rd:()=>At,pc:()=>Vn,ox:()=>On,wP:()=>bi});var i=n(20766),t=n(59640),c=n(49601);const e={editEPerson:null};var m=n(42319);const p={editGroup:null};var E=n(75676);const v={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var C=n(94404);const I={expandedNodes:[],loadingNode:null};var R=n(77270),T=n(1300);const w={allIconsVisible:!1,models:{}};function L(Dt,vt,yn){const{[vt]:Dn,...ni}=Dt.models,oi={...Dn,isTooltipVisible:yn(Dn.isTooltipVisible)},ai={...ni,[vt]:oi};return{...Dt,models:ai}}var N=n(89777),j=n(19209);function k(Dt,vt,yn){return Object.assign({},Dt,{[vt]:yn})}var K=n(48125),z=n.n(K),V=n(63448),G=n.n(V),X=n(59726);const J=Object.create(null);var be=n(66372);const me={[be.D.ADMIN]:{id:be.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[be.D.PUBLIC]:{id:be.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[be.D.DSO_EDIT]:{id:be.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}}};var re=n(25428);function De(Dt,vt,yn){const Dn=Dt[vt.menuID],ni=Object.assign({},Dn.sections,{[yn.id]:yn}),oi=Object.assign({},Dn,{sections:ni});return Object.assign({},Dt,{[vt.menuID]:oi})}function ut(Dt,vt,yn){const ni=Dt[vt.menuID].sections[vt.id];return(0,N.a4)(ni)?De(Dt,vt,Object.assign({},ni,yn)):Dt}var Ge=n(37688);const wt=[];var Ee=n(56361);function St(Dt){return{id:Dt,selection:[]}}function Nt(Dt,vt){return Dt.findIndex(yn=>yn.equals(vt))>=0}var gt=n(53844);const an=Object.create(null);var Ct=n(84733);const $t=Object.create({});var Zt=n(53186);const on={width:null,height:null};var Ht=n(75548);const Qe=Object.create(null);var Le=n(16464);const Xe={sidebarCollapsed:!0};var Wt=n(97402);const fn={currentTheme:null};var nn=n(59788);const ht=Object.create(null),At={router:i.C_,hostWindow:function Yt(Dt=on,vt){return vt.type===Zt.O.RESIZE?Object.assign({},Dt,vt.payload):Dt},forms:function q(Dt=J,vt){switch(vt.type){case X.AI.FORM_INIT:return function ye(Dt,vt){const yn={data:vt.payload.formData,valid:vt.payload.valid,touched:{},errors:[]};if((0,N.a4)(Dt[vt.payload.formId])){const Dn=Object.assign({},Dt);return Dn[vt.payload.formId]=Object.assign({},Dn[vt.payload.formId],yn),Dn}return Object.assign({},Dt,{[vt.payload.formId]:yn})}(Dt,vt);case X.AI.FORM_CHANGE:return function oe(Dt,vt){if((0,N.a4)(Dt[vt.payload.formId])){const yn=Object.assign({},Dt);return yn[vt.payload.formId]=Object.assign({},yn[vt.payload.formId],{data:vt.payload.formData,valid:Dt[vt.payload.formId].valid}),yn}return Dt}(Dt,vt);case X.AI.FORM_ADD_TOUCHED:return function se(Dt,vt){if((0,N.a4)(Dt[vt.payload.formId])){const yn=Object.assign({},Dt),Dn=Object.assign({},yn[vt.payload.formId]);return yn[vt.payload.formId]=Dn,Dn.touched={...Dn.touched},vt.payload.touched.forEach(ni=>Dn.touched[ni]=!0),yn}return Dt}(Dt,vt);case X.AI.FORM_REMOVE:return function te(Dt,vt){if((0,N.a4)(Dt[vt.payload.formId])){const yn=Object.assign({},Dt);return delete yn[vt.payload.formId],yn}return Dt}(Dt,vt);case X.AI.FORM_STATUS_CHANGE:return function ue(Dt,vt){if((0,N.a4)(Dt[vt.payload.formId])){const yn=Object.assign({},Dt);return yn[vt.payload.formId]=Object.assign({},yn[vt.payload.formId],{data:Dt[vt.payload.formId].data,valid:vt.payload.valid}),yn}return Object.assign({},Dt,{[vt.payload.formId]:{data:Dt[vt.payload.formId].data,valid:vt.payload.valid}})}(Dt,vt);case X.AI.FORM_ADD_ERROR:return function ne(Dt,vt){const yn=vt.payload.formId;if((0,N.a4)(Dt[yn])){const Dn={fieldId:vt.payload.fieldId,fieldIndex:vt.payload.fieldIndex,message:vt.payload.errorMessage},ni=vt.payload.fieldId.replace(/\_/g,"."),oi=Object.assign({},Dt[yn].touched,{[ni]:!0});return Object.assign({},Dt,{[yn]:{data:Dt[yn].data,valid:Dt[yn].valid,errors:Dt[yn].errors?G()(Dt[yn].errors.concat(Dn),z()):[].concat(Dn),touched:oi}})}return Dt}(Dt,vt);case X.AI.FORM_REMOVE_ERROR:return function ee(Dt,vt){const yn=vt.payload.formId,Dn=vt.payload.fieldId,ni=vt.payload.fieldIndex;if((0,N.a4)(Dt[yn])){const oi=Dt[yn].errors.filter(ts=>ts.fieldId!==Dn||ts.fieldIndex!==ni),ai=Object.assign({},Dt);return ai[yn]=Object.assign({},Dt[yn],{errors:oi}),ai}return Dt}(Dt,vt);case X.AI.FORM_CLEAR_ERRORS:return function fe(Dt,vt){const yn=vt.payload.formId;if((0,N.a4)(Dt[yn])){const Dn=[],ni=Object.assign({},Dt);return ni[yn]=Object.assign({},Dt[yn],{errors:Dn}),ni}return Dt}(Dt,vt);default:return Dt}},metadataRegistry:function O(Dt=v,vt){switch(vt.type){case E.Kt.EDIT_SCHEMA:return Object.assign({},Dt,{editSchema:vt.schema});case E.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},Dt,{editSchema:null});case E.Kt.SELECT_SCHEMA:return Object.assign({},Dt,{selectedSchemas:[...Dt.selectedSchemas,vt.schema]});case E.Kt.DESELECT_SCHEMA:return Object.assign({},Dt,{selectedSchemas:Dt.selectedSchemas.filter(yn=>yn!==vt.schema)});case E.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},Dt,{selectedSchemas:[]});case E.Kt.EDIT_FIELD:return Object.assign({},Dt,{editField:vt.field});case E.Kt.CANCEL_EDIT_FIELD:return Object.assign({},Dt,{editField:null});case E.Kt.SELECT_FIELD:return Object.assign({},Dt,{selectedFields:[...Dt.selectedFields,vt.field]});case E.Kt.DESELECT_FIELD:return Object.assign({},Dt,{selectedFields:Dt.selectedFields.filter(yn=>yn!==vt.field)});case E.Kt.DESELECT_ALL_FIELD:return Object.assign({},Dt,{selectedFields:[]});default:return Dt}},notifications:function ot(Dt=wt,vt){switch(vt.type){case Ge.Is.NEW_NOTIFICATION:return[...Dt,vt.payload];case Ge.Is.REMOVE_ALL_NOTIFICATIONS:return[];case Ge.Is.REMOVE_NOTIFICATION:return((Dt,vt)=>Dt.filter(yn=>yn.id!==vt.payload))(Dt,vt);default:return Dt}},sidebar:function ct(Dt=Xe,vt){switch(vt.type){case Le.Kd.COLLAPSE:return Object.assign({},Dt,{sidebarCollapsed:!0});case Le.Kd.EXPAND:return Object.assign({},Dt,{sidebarCollapsed:!1});case Le.Kd.TOGGLE:return Object.assign({},Dt,{sidebarCollapsed:!Dt.sidebarCollapsed});default:return Dt}},searchFilter:function ke(Dt=Qe,vt){switch(vt.type){case Ht.y$.INITIALIZE:{const yn=vt;return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:!yn.initiallyExpanded,minimized:!1,page:1}})}case Ht.y$.COLLAPSE:return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:!0,minimized:Dt[vt.filterName].minimized,page:Dt[vt.filterName].page}});case Ht.y$.EXPAND:return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:!1,minimized:Dt[vt.filterName].minimized,page:Dt[vt.filterName].page}});case Ht.y$.DECREMENT_PAGE:{const yn=Dt[vt.filterName].page-1;return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:Dt[vt.filterName].filterCollapsed,minimized:Dt[vt.filterName].minimized,page:yn>=1?yn:1}})}case Ht.y$.INCREMENT_PAGE:return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:Dt[vt.filterName].filterCollapsed,minimized:Dt[vt.filterName].minimized,page:Dt[vt.filterName].page+1}});case Ht.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(Dt).map(([yn,Dn])=>({[yn]:{...Dn,minimized:!0}})));case Ht.y$.RESET_PAGE:return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:Dt[vt.filterName].filterCollapsed,minimized:!1,page:1}});case Ht.y$.TOGGLE:return Object.assign({},Dt,{[vt.filterName]:{filterCollapsed:!Dt[vt.filterName].filterCollapsed,minimized:Dt[vt.filterName].minimized,page:Dt[vt.filterName].page}});default:return Dt}},truncatable:function Ft(Dt=ht,vt){switch(vt.type){case nn.VR.COLLAPSE:return Object.assign({},Dt,{[vt.id]:{collapsed:!0}});case nn.VR.EXPAND:return Object.assign({},Dt,{[vt.id]:{collapsed:!1}});case nn.VR.TOGGLE:return Dt[vt.id]||(Dt[vt.id]={collapsed:!1}),Object.assign({},Dt,{[vt.id]:{collapsed:!Dt[vt.id].collapsed}});default:return Dt}},cssVariables:function yt(Dt=$t,vt){switch(vt.type){case Ct.$s.ADD:{const yn=vt.payload;return Object.assign({},Dt,{[yn.name]:yn.value})}case Ct.$s.ADD_ALL:return Object.assign({},Dt,...vt.payload.map(({key:Dn,value:ni})=>({[Dn]:ni})));case Ct.$s.CLEAR:return $t;default:return Dt}},theme:function xt(Dt=fn,vt){return vt.type===Wt.t.SET?{currentTheme:vt.payload.name}:Dt},menus:function Z(Dt=me,vt){switch(vt.type){case re.jZ.COLLAPSE_MENU:{const yn=Object.assign({},Dt[vt.menuID],{collapsed:!0});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.EXPAND_MENU:{const yn=Object.assign({},Dt[vt.menuID],{collapsed:!1});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.COLLAPSE_MENU_PREVIEW:{const yn=Object.assign({},Dt[vt.menuID],{previewCollapsed:!0});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.EXPAND_MENU_PREVIEW:{const yn=Object.assign({},Dt[vt.menuID],{previewCollapsed:!1});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.TOGGLE_MENU:{const yn=Dt[vt.menuID],Dn=Object.assign({},yn,{collapsed:!yn.collapsed});return Object.assign({},Dt,{[vt.menuID]:Dn})}case re.jZ.SHOW_MENU:{const yn=Object.assign({},Dt[vt.menuID],{visible:!0});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.HIDE_MENU:{const yn=Object.assign({},Dt[vt.menuID],{visible:!1});return Object.assign({},Dt,{[vt.menuID]:yn})}case re.jZ.REINIT_MENUS:return Object.assign({},me);case re.jZ.ADD_SECTION:return function le(Dt,vt){return function ce(Dt,vt){const yn=Dt[vt.menuID],Dn={},ni={};Object.values(yn.sections).sort((ai,ts)=>(ai.index||0)-(ts.index||0)).forEach(ai=>{if(Dn[ai.id]=ai,(0,N.a4)(ai.parentID)){const ts=(0,N.a4)(ni[ai.parentID])?ni[ai.parentID]:[];ni[ai.parentID]=[...ts,ai.id]}});const oi=Object.assign({},yn,{sections:Dn,sectionToSubsectionIndex:ni});return Object.assign({},Dt,{[vt.menuID]:oi})}(De(Dt,vt,vt.section),vt)}(Dt,vt);case re.jZ.REMOVE_SECTION:return function ve(Dt,vt){const Dn=vt.id,ni=function ze(Dt,vt,yn){const Dn=vt.id,ni=vt.parentID;if((0,N.a4)(ni)){const oi=Dt[yn],ai=oi.sectionToSubsectionIndex,ts=(0,N.a4)(ai[ni])?ai[ni]:[],ns=Object.assign({},ai,{[ni]:ts.filter(ci=>ci!==Dn)}),si=Object.assign({},oi,{sectionToSubsectionIndex:ns});return Object.assign({},Dt,{[yn]:si})}return Dt}(Dt,Dt[vt.menuID].sections[vt.id],vt.menuID),oi=Object.assign({},ni[vt.menuID],{sections:Object.assign({},ni[vt.menuID].sections)});return delete oi.sections[Dn],Object.assign({},ni,{[vt.menuID]:oi})}(Dt,vt);case re.jZ.ACTIVATE_SECTION:return function st(Dt,vt){if((0,N.a4)(Dt[vt.menuID].sections[vt.id]))return ut(Dt,vt,{active:!0})}(Dt,vt);case re.jZ.DEACTIVATE_SECTION:return function $e(Dt,vt){if((0,N.a4)(Dt[vt.menuID].sections[vt.id]))return ut(Dt,vt,{active:!1})}(Dt,vt);case re.jZ.TOGGLE_ACTIVE_SECTION:return function We(Dt,vt){const yn=Dt[vt.menuID].sections[vt.id];return(0,N.a4)(yn)?ut(Dt,vt,{active:!yn.active}):Dt}(Dt,vt);case re.jZ.HIDE_SECTION:return function Se(Dt,vt){return ut(Dt,vt,{visible:!1})}(Dt,vt);case re.jZ.SHOW_SECTION:return function et(Dt,vt){return ut(Dt,vt,{visible:!0})}(Dt,vt);default:return Dt}},objectSelection:function we(Dt=an,vt){switch(vt.type){case gt.T8.INITIAL_SELECT:return(0,N.Im)(Dt)||(0,N.Im)(Dt[vt.key])||(0,N.Im)(Dt[vt.key][vt.id])?Object.assign({},Dt,{[vt.key]:Object.assign({},Dt[vt.key],{[vt.id]:{checked:!0}})}):Dt;case gt.T8.INITIAL_DESELECT:return(0,N.Im)(Dt)||(0,N.Im)(Dt[vt.key])||(0,N.Im)(Dt[vt.key][vt.id])?Object.assign({},Dt,{[vt.key]:Object.assign({},Dt[vt.key],{[vt.id]:{checked:!1}})}):Dt;case gt.T8.SELECT:return Object.assign({},Dt,{[vt.key]:Object.assign({},Dt[vt.key],{[vt.id]:{checked:!0}})});case gt.T8.DESELECT:return Object.assign({},Dt,{[vt.key]:Object.assign({},Dt[vt.key],{[vt.id]:{checked:!1}})});case gt.T8.SWITCH:return Object.assign({},Dt,{[vt.key]:Object.assign({},Dt[vt.key],{[vt.id]:{checked:!!((0,N.Im)(Dt)||(0,N.Im)(Dt[vt.key])||(0,N.Im)(Dt[vt.key][vt.id]))||!Dt[vt.key][vt.id].checked}})});case gt.T8.RESET:return(0,N.Im)(vt.key)?{}:Object.assign({},Dt,{[vt.key]:{}});default:return Dt}},selectableLists:function je(Dt={},vt){const yn=Dt[vt.id]||St(vt.id);switch(vt.type){case Ee.Sg.SELECT:{const Dn=function mt(Dt,vt){const yn=vt.payload.filter(ni=>!Nt(Dt.selection,ni)),Dn=[...Dt.selection,...yn];return Object.assign({},Dt,{selection:Dn})}(yn,vt);return Object.assign({},Dt,{[vt.id]:Dn})}case Ee.Sg.SELECT_SINGLE:{const Dn=function vn(Dt,vt){let yn=Dt.selection;return Nt(Dt.selection,vt.payload.object)||(yn=[...Dt.selection,vt.payload.object]),Object.assign({},Dt,{selection:yn})}(yn,vt);return Object.assign({},Dt,{[vt.id]:Dn})}case Ee.Sg.DESELECT:{const Dn=function hn(Dt,vt){const yn=Dt.selection.filter(Dn=>(0,N.Tn)(vt.payload.find(ni=>ni.equals(Dn))));return Object.assign({},Dt,{selection:yn})}(yn,vt);return Object.assign({},Dt,{[vt.id]:Dn})}case Ee.Sg.DESELECT_SINGLE:{const Dn=function jn(Dt,vt){const yn=Dt.selection.filter(Dn=>!Dn.equals(vt.payload));return Object.assign({},Dt,{selection:yn})}(yn,vt);return Object.assign({},Dt,{[vt.id]:Dn})}case Ee.Sg.SET_SELECTION:{const Dn=function bt(Dt,vt){return Object.assign({},Dt,{selection:vt.payload})}(yn,vt);return Object.assign({},Dt,{[vt.id]:Dn})}case Ee.Sg.DESELECT_ALL:{const Dn=St(vt.id);return Object.assign({},Dt,{[vt.id]:Dn})}default:return Dt}},relationshipLists:function $(Dt={},vt){switch(vt.type){case j.SF.SET_NAME_VARIANT:{const ni=k(Dt[vt.payload.listID]||{},vt.payload.itemID,vt.payload.nameVariant);return Object.assign({},Dt,{[vt.payload.listID]:ni})}case j.SF.REMOVE_NAME_VARIANT:{const yn=Dt[vt.payload.listID];if((0,N.a4)(yn)&&(0,N.a4)(yn[vt.payload.itemID])){const Dn=k(yn,vt.payload.itemID,void 0);return Object.assign({},Dt,{[vt.payload.listID]:Dn})}return Dt}default:return Dt}},communityList:function D(Dt=I,vt){return vt.type===C.x.SAVE?Object.assign({},Dt,{expandedNodes:vt.payload.expandedNodes,loadingNode:vt.payload.loadingNode}):Dt},epeopleRegistry:function f(Dt=e,vt){switch(vt.type){case c.bA.EDIT_EPERSON:return Object.assign({},Dt,{editEPerson:vt.eperson});case c.bA.CANCEL_EDIT_EPERSON:return Object.assign({},Dt,{editEPerson:null});default:return Dt}},groupRegistry:function y(Dt=p,vt){switch(vt.type){case m.O3.EDIT_GROUP:return Object.assign({},Dt,{editGroup:vt.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},Dt,{editGroup:null});default:return Dt}},correlationId:(Dt=null,vt)=>vt.type===R.N.SET?vt.payload:Dt,contextHelp:function M(Dt=w,vt){switch(vt.type){case T.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...Dt,allIconsVisible:!Dt.allIconsVisible};case T.y5.CONTEXT_HELP_ADD:{const yn={...Dt.models,[vt.model.id]:vt.model};return{...Dt,models:yn}}case T.y5.CONTEXT_HELP_REMOVE:{const{[vt.id]:yn,...Dn}=Dt.models;return{...Dt,models:Dn}}case T.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return L(Dt,vt.id,yn=>!yn);case T.y5.CONTEXT_HELP_SHOW_TOOLTIP:return L(Dt,vt.id,yn=>!0);case T.y5.CONTEXT_HELP_HIDE_TOOLTIP:return L(Dt,vt.id,yn=>!1);default:return Dt}}},On=Dt=>Dt.router;function Vn(Dt,vt){return(0,t.Mz)(vt,yn=>{if((0,N.a4)(yn))return yn[Dt]})}const bi={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},12816:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BreadcrumbsComponent:()=>h});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),f=n(50186),m=n(54438),p=n(38248);const y=()=>({text:"home.breadcrumbs",url:"/"});function E(S,T){1&S&&m.eu8(0)}function v(S,T){1&S&&m.eu8(0)}function O(S,T){if(1&S&&m.DNE(0,v,1,0,"ng-container",5),2&S){const w=T.$implicit,M=T.$index,L=T.$count;m.XpG(2);const N=m.sdS(4),j=m.sdS(6);m.Y8G("ngTemplateOutlet",M!==L-1?N:j)("ngTemplateOutletContext",w)}}function C(S,T){if(1&S&&(m.j41(0,"nav",3)(1,"ol",4),m.DNE(2,E,1,0,"ng-container",5),m.Z7z(3,O,1,2,"ng-container",null,m.fX1),m.k0s()()),2&S){const w=m.XpG().ngVar,M=m.sdS(4),L=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==w?null:w.length)>0?M:L)("ngTemplateOutletContext",m.lJ4(2,y)),m.R7$(),m.Dyx(w)}}function I(S,T){if(1&S&&(m.j41(0,"li",6)(1,"div",7)(2,"a",8),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&S){const w=T.text,M=T.url;m.R7$(2),m.Y8G("routerLink",M)("ngbTooltip",m.bMT(3,3,w)),m.R7$(2),m.JRh(m.bMT(5,5,w))}}function D(S,T){if(1&S&&(m.j41(0,"li",9)(1,"div",7)(2,"div",10),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&S){const w=T.text;m.R7$(3),m.JRh(m.bMT(4,1,w))}}function R(S,T){if(1&S&&(m.qex(0),m.DNE(1,C,5,3,"nav",3),m.nI1(2,"async"),m.DNE(3,I,6,7,"ng-template",null,0,m.C5r)(5,D,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&S){const w=m.XpG();m.R7$(),m.vxM(m.bMT(2,1,w.showBreadcrumbs$)?1:-1)}}let h=(()=>{class S{constructor(w){this.breadcrumbsService=w,this.breadcrumbs$=w.breadcrumbs$,this.showBreadcrumbs$=w.showBreadcrumbs$}static{this.\u0275fac=function(M){return new(M||S)(m.rXU(p.E))}}static{this.\u0275cmp=m.VBU({type:S,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom","role","link","tabindex","0",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,L){1&M&&(m.DNE(0,R,7,3,"ng-container",2),m.nI1(1,"async")),2&M&&m.Y8G("ngVar",m.bMT(1,1,L.breadcrumbs$))},dependencies:[i.Jj,c.n8,c.md,i.T3,t.Wk,e.h,e.D9,f.r],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)!important}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)!important;padding-left:calc(var(--bs-spacer) * .75);padding-right:calc(var(--bs-spacer) * .75)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return S})()},38248:(U,b,n)=>{"use strict";n.d(b,{E:()=>O});var i=n(7901),t=n(92771),c=n(84572),e=n(7673),f=n(5964),m=n(88141),p=n(25558),y=n(96354),E=n(89777),v=n(54438);let O=(()=>{class C{constructor(D,R){this.route=D,this.router=R,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,f.p)(D=>D instanceof i.wF),(0,m.M)(()=>this.reset()),(0,p.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(D){const R=D.snapshot.data,h=D.snapshot.routeConfig,S=(0,E.Tn)(D.firstChild);if(S&&((0,E.a4)(R.showBreadcrumbs)?this.showBreadcrumbs$.next(R.showBreadcrumbs):(0,E.b0)(R.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,E.a4)(R)&&(0,E.a4)(R.breadcrumb)&&(0,E.a4)(h)&&(0,E.a4)(h.resolve)&&(0,E.a4)(h.resolve.breadcrumb)){const{provider:T,key:w,url:M}=R.breadcrumb;return S?T.getBreadcrumbs(w,M):(0,c.z)(T.getBreadcrumbs(w,M),this.resolveBreadcrumbs(D.firstChild)).pipe((0,y.T)(L=>[].concat.apply([],L)))}return S?(0,e.of)([]):this.resolveBreadcrumbs(D.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(R){return new(R||C)(v.KVO(i.nX),v.KVO(i.Ix))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},32954:(U,b,n)=>{"use strict";n.d(b,{B:()=>f});var i=n(29710),t=n(54438);const c=["*"];function e(m,p){}let f=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(y){return n(32012)(`./${y}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12816))}static{this.\u0275fac=(()=>{let y;return function(v){return(y||(y=t.xGo(m)))(v||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,v){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},16743:(U,b,n)=>{"use strict";n.d(b,{v0:()=>J,el:()=>q,M0:()=>ee});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),f=n(7673),m=n(84572),p=n(96354),y=n(23294),E=n(92046),v=n(79096),O=n(78544),C=n(43446),I=n(57168);class D{constructor(ye,oe,ue,te,se,be){this.metadataDefinition=ye,this.pagination=oe,this.sort=ue,this.startsWith=te,this.scope=se,this.fetchThumbnail=be}}var R=n(70998),h=n(98733),S=n(31),w=(n(40940),n(4093)),M=n(89777),L=n(15202),N=n(8417),j=n(41358),k=(n(55104),n(7901));const K=fe=>({startsWith:fe}),z=(fe,ye,oe)=>({field:fe,startsWith:ye,value:oe});function V(fe,ye){if(1&fe){const oe=t.RV6();t.j41(0,"ds-browse-by",4),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(oe);const te=t.XpG(2);return t.Njj(te.goPrev())})("next",function(){t.eBV(oe);const te=t.XpG(2);return t.Njj(te.goNext())}),t.k0s()}if(2&fe){const oe=t.XpG(2);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,z,t.bMT(1,7,"browse.metadata."+oe.browseId),oe.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,K,'"'+oe.startsWith+'"')):"",oe.value?'"'+oe.value+'"':""))),t.Y8G("displayTitle",oe.displayTitle)("objects$",void 0!==oe.items$?oe.items$:oe.browseEntries$)("paginationConfig",t.bMT(4,15,oe.currentPagination$))("sortConfig",t.bMT(5,17,oe.currentSort$))("type",oe.startsWithType)("startsWithOptions",oe.startsWithOptions)}}function G(fe,ye){1&fe&&(t.nrm(0,"ds-loading",3),t.nI1(1,"translate")),2&fe&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function X(fe,ye){if(1&fe&&(t.j41(0,"section",0)(1,"div",1),t.DNE(2,V,6,25,"ds-browse-by",2),t.nI1(3,"async"),t.DNE(4,G,2,3,"ds-loading",3),t.nI1(5,"async"),t.k0s()()),2&fe){const oe=t.XpG();t.R7$(2),t.vxM(!0!==t.bMT(3,2,oe.loading$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,4,oe.loading$)?4:-1)}}const J="bbm";let q=(()=>{class fe{constructor(oe,ue,te,se,be,me,re,Z){this.route=oe,this.browseService=ue,this.dsoService=te,this.paginationService=se,this.router=be,this.appConfig=me,this.dsoNameService=re,this.platformId=Z,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=j.c.text,this.value="",this.loading$=(0,f.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new N.W,{id:J,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!O.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,f.of)(!1));const oe=new R.z("default",R.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,oe);const ue=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,p.T)(([te,se])=>Object.assign({},te,se)),(0,y.F)((te,se)=>te.id===se.id&&te.authority===se.authority&&te.value===se.value&&te.startsWith===se.startsWith));this.subs.push((0,m.z)([ue,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([te,se,be,me])=>{this.browseId=te.id||this.defaultBrowseId,this.authority=te.authority,this.value="string"==typeof te.value?te.value.trim():"",(void 0===te.startsWith||""===te.startsWith)&&(this.startsWith=void 0),"string"==typeof te.startsWith&&(this.startsWith=te.startsWith.trim()),(0,M.hj)(this.value)?this.updatePageWithItems(ee(te,se,be,me,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(ee(te,se,be,me,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(oe){(0,M.a4)(oe.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(oe){this.browseEntries$=this.browseService.getBrowseEntriesFor(oe),this.loading$=this.browseEntries$.pipe((0,p.T)(ue=>ue.isLoading)),this.items$=void 0}updatePageWithItems(oe,ue,te){this.items$=this.browseService.getBrowseItemsFor(ue,te,oe),this.loading$=this.items$.pipe((0,p.T)(se=>se.isLoading))}goPrev(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(oe=>{this.items$=this.browseService.getPrevBrowseItems(oe)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(oe=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(oe)})}goNext(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(oe=>{this.items$=this.browseService.getNextBrowseItems(oe)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(oe=>{this.browseEntries$=this.browseService.getNextBrowseEntries(oe)})}ngOnDestroy(){this.subs.filter(oe=>(0,M.a4)(oe)).forEach(oe=>oe.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(ue){return new(ue||fe)(t.rXU(k.nX),t.rXU(I.q),t.rXU(h.DSpaceObjectDataService),t.rXU(S.m),t.rXU(k.Ix),t.rXU(v.vQ),t.rXU(C.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:fe,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-xs-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(ue,te){1&ue&&t.DNE(0,X,6,6,"section",0),2&ue&&t.vxM(te.ssrRenderingDisabled?-1:0)},dependencies:[i.Jj,E.U,L.v,c.h,c.D9]})}}return fe})();function ee(fe,ye,oe,ue,te,se){return new D(te,oe,ue,fe.startsWith,ye,se)}},55104:(U,b,n)=>{"use strict";n.d(b,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},29297:(U,b,n)=>{"use strict";n.d(b,{cv:()=>ze});var i=n(40940),t=n(89777),c=n(21193),e=n(60177),f=n(54438),m=n(68018),p=n(7673),y=n(84572),E=n(96354),v=n(23294),O=n(92046),C=n(79096),I=n(78544),D=n(43446),R=n(57168),h=n(70998),S=n(98733),T=n(31),w=n(50813),M=n(15202),L=n(41358),N=n(16743),j=n(7901);const $=Se=>({startsWith:Se}),k=(Se,et,$e)=>({field:Se,startsWith:et,value:$e});function K(Se,et){if(1&Se){const $e=f.RV6();f.j41(0,"ds-browse-by",4),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV($e);const We=f.XpG(2);return f.Njj(We.goPrev())})("next",function(){f.eBV($e);const We=f.XpG(2);return f.Njj(We.goNext())}),f.k0s()}if(2&Se){const $e=f.XpG(2);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,k,f.bMT(1,7,"browse.metadata."+$e.browseId),$e.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,$,'"'+$e.startsWith+'"')):"",$e.value?'"'+$e.value+'"':""))),f.Y8G("displayTitle",$e.displayTitle)("objects$",void 0!==$e.items$?$e.items$:$e.browseEntries$)("paginationConfig",f.bMT(4,15,$e.currentPagination$))("sortConfig",f.bMT(5,17,$e.currentSort$))("type",$e.startsWithType)("startsWithOptions",$e.startsWithOptions)}}function z(Se,et){1&Se&&(f.nrm(0,"ds-loading",3),f.nI1(1,"translate")),2&Se&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function V(Se,et){if(1&Se&&(f.j41(0,"section",0)(1,"div",1),f.DNE(2,K,6,25,"ds-browse-by",2),f.nI1(3,"async"),f.DNE(4,z,2,3,"ds-loading",3),f.nI1(5,"async"),f.k0s()()),2&Se){const $e=f.XpG();f.R7$(2),f.vxM(!0!==f.bMT(3,2,$e.loading$)?2:-1),f.R7$(2),f.vxM(f.bMT(5,4,$e.loading$)?4:-1)}}let G=(()=>{class Se extends N.el{constructor($e,st,We,De,ut,Ge,wt,ot,Tt){super($e,st,We,De,ut,Ge,wt,Tt),this.route=$e,this.browseService=st,this.dsoService=We,this.paginationService=De,this.router=ut,this.appConfig=Ge,this.dsoNameService=wt,this.cdRef=ot,this.platformId=Tt,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!I.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,p.of)(!1));const $e=new h.z("default",h.U.ASC);this.startsWithType=L.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,$e);const st=(0,y.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([We,De])=>Object.assign({},We,De)),(0,v.F)((We,De)=>We.id===De.id&&We.startsWith===De.startsWith));this.subs.push((0,y.z)([st,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([We,De,ut,Ge])=>{const wt=We.browseDefinition?We.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=We.id||this.defaultBrowseId,this.startsWith=+We.startsWith||We.startsWith;const ot=(0,N.M0)(We,De,ut,Ge,this.browseId,this.fetchThumbnails);this.updatePageWithItems(ot,this.value,void 0),this.updateStartsWithOptions(this.browseId,wt,We.scope)}))}updateStartsWithOptions($e,st,We){const De=this.browseService.getFirstItemFor($e,We,h.U.ASC),ut=this.browseService.getFirstItemFor($e,We,h.U.DESC);this.loading$=(0,y.z)([De,ut]).pipe((0,E.T)(([Ge,wt])=>Ge.isLoading||wt.isLoading)),this.subs.push((0,y.z)([De,ut]).subscribe(([Ge,wt])=>{let ot=this.getLimit(Ge,st,this.appConfig.browseBy.defaultLowerLimit);const Tt=this.getLimit(wt,st,(new Date).getUTCFullYear()),Ee=[],je=5*Math.floor((Tt-this.appConfig.browseBy.oneYearLimit)/5),mt=10*Math.floor((Tt-this.appConfig.browseBy.fiveYearLimit)/10);ot-=ot<=mt?10:ot<=je?5:1;let vn=Tt;for(;vn>ot;)Ee.push(vn),vn<=mt?vn-=10:vn<=je?vn-=5:vn--;(0,t.hj)(Ee)&&(this.startsWithOptions=Ee,this.cdRef.detectChanges())}))}getLimit($e,st,We){if((0,t.a4)($e.payload)){const De=$e.payload.firstMetadataValue(st);if((0,t.hj)(De)&&(0,w.vd)(De)){const ut=new Date(De);return isNaN(ut.getUTCFullYear())?We:ut.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(st){return new(st||Se)(f.rXU(j.nX),f.rXU(R.q),f.rXU(S.DSpaceObjectDataService),f.rXU(T.m),f.rXU(j.Ix),f.rXU(C.vQ),f.rXU(D.f),f.rXU(f.gRc),f.rXU(f.Agw))}}static{this.\u0275cmp=f.VBU({type:Se,selectors:[["ds-browse-by-date"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-xs-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(st,We){1&st&&f.DNE(0,V,6,6,"section",0),2&st&&f.vxM(We.ssrRenderingDisabled?-1:0)},dependencies:[e.Jj,O.U,M.v,m.h,m.D9]})}}return Se})();var X=n(84412),J=n(25630),q=n(55104);const ne=()=>["/search"],ee=Se=>({field:Se,startsWith:"",value:""});function fe(Se,et){if(1&Se&&(f.j41(0,"h1"),f.EFF(1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.k0s()),2&Se){const $e=f.XpG();f.R7$(),f.SpI(" ",f.i5U(3,3,"browse.title",f.eq3(6,ee,f.bMT(2,1,"browse.metadata."+$e.vocabularyName)))," ")}}let ye=(()=>{class Se{constructor($e,st){this.route=$e,this.translate=st,this.displayTitle=!0,this.scope$=new X.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,E.T)($e=>$e.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe($e=>{this.selectedItems=[],this.facetType=$e.facetType,this.vocabularyName=$e.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.description`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect($e){this.selectedItems.push($e),this.filterValues=this.selectedItems.map(st=>`${st.value},equals`),this.updateQueryParams()}onDeselect($e){this.selectedItems=this.selectedItems.filter(st=>st.id!==$e.id),this.filterValues=this.filterValues.filter(st=>st!==`${$e.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach($e=>$e.unsubscribe())}static{this.\u0275fac=function(st){return new(st||Se)(f.rXU(j.nX),f.rXU(m.c$))}}static{this.\u0275cmp=f.VBU({type:Se,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[f.OA$,f.aNF],decls:7,vars:12,consts:[[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],["role","link","tabindex","0",1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(st,We){1&st&&(f.j41(0,"section"),f.DNE(1,fe,4,8,"h1"),f.j41(2,"div",0)(3,"ds-vocabulary-treeview",1),f.bIt("select",function(ut){return We.onSelect(ut)})("deselect",function(ut){return We.onDeselect(ut)}),f.k0s()(),f.j41(4,"a",2),f.EFF(5),f.nI1(6,"translate"),f.k0s()()),2&st&&(f.R7$(),f.vxM(We.displayTitle?1:-1),f.R7$(2),f.Y8G("description",We.description)("vocabularyOptions",We.vocabularyOptions)("multiSelect",!0)("showAdd",!1),f.R7$(),f.Y8G("routerLink",f.lJ4(11,ne))("queryParams",We.queryParams)("queryParamsHandling","merge"),f.R7$(),f.SpI(" ",f.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[j.Wk,m.D9,J.P]})}}return Se})();const oe=Se=>({startsWith:Se}),ue=(Se,et,$e)=>({field:Se,startsWith:et,value:$e});function te(Se,et){if(1&Se){const $e=f.RV6();f.j41(0,"ds-browse-by",4),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV($e);const We=f.XpG(2);return f.Njj(We.goPrev())})("next",function(){f.eBV($e);const We=f.XpG(2);return f.Njj(We.goNext())}),f.k0s()}if(2&Se){const $e=f.XpG(2);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,ue,f.bMT(1,7,"browse.metadata."+$e.browseId),$e.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,oe,'"'+$e.startsWith+'"')):"",$e.value?'"'+$e.value+'"':""))),f.Y8G("displayTitle",$e.displayTitle)("objects$",void 0!==$e.items$?$e.items$:$e.browseEntries$)("paginationConfig",f.bMT(4,15,$e.currentPagination$))("sortConfig",f.bMT(5,17,$e.currentSort$))("type",$e.startsWithType)("startsWithOptions",$e.startsWithOptions)}}function se(Se,et){1&Se&&(f.nrm(0,"ds-loading",3),f.nI1(1,"translate")),2&Se&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function be(Se,et){if(1&Se&&(f.j41(0,"section",0)(1,"div",1),f.DNE(2,te,6,25,"ds-browse-by",2),f.nI1(3,"async"),f.DNE(4,se,2,3,"ds-loading",3),f.nI1(5,"async"),f.k0s()()),2&Se){const $e=f.XpG();f.R7$(2),f.vxM(!0!==f.bMT(3,2,$e.loading$)?2:-1),f.R7$(2),f.vxM(f.bMT(5,4,$e.loading$)?4:-1)}}let me=(()=>{class Se extends N.el{ngOnInit(){if(!this.renderOnServerSide&&!I.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,p.of)(!1));const $e=new h.z("dc.title",h.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,$e);const st=(0,y.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([We,De])=>Object.assign({},We,De)),(0,v.F)((We,De)=>We.id===De.id&&We.startsWith===De.startsWith));this.subs.push((0,y.z)([st,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([We,De,ut,Ge])=>{this.startsWith=+We.startsWith||We.startsWith,this.browseId=We.id||this.defaultBrowseId,this.updatePageWithItems((0,N.M0)(We,De,ut,Ge,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let $e;return function(We){return($e||($e=f.xGo(Se)))(We||Se)}})()}static{this.\u0275cmp=f.VBU({type:Se,selectors:[["ds-browse-by-title"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-xs-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(st,We){1&st&&f.DNE(0,be,6,6,"section",0),2&st&&f.vxM(We.ssrRenderingDisabled?-1:0)},dependencies:[e.Jj,O.U,M.v,m.h,m.D9]})}}return Se})();const re=q.O.Metadata,Z=i.o.Any,ce=new Map([[q.O.Date,new Map([[Z,new Map([[c.SS,G]])]])],[q.O.Metadata,new Map([[Z,new Map([[c.SS,N.el]])]])],[q.O.Hierarchy,new Map([[Z,new Map([[c.SS,ye]])]])],[q.O.Title,new Map([[Z,new Map([[c.SS,me]])]])]]);function ze(Se,et,$e){let st=ce.get(Se);(0,t.Tn)(st)&&(st=ce.get(re));let We=st.get(et);(0,t.Tn)(We)&&(We=st.get(Z));const De=(0,c.eW)(We,$e);return(0,t.Tn)(De)?We.get(c.SS):De}},47067:(U,b,n)=>{"use strict";n.d(b,{BW:()=>y,CC:()=>c,Cb:()=>t,JW:()=>f,WJ:()=>I,_:()=>O,_E:()=>m,dv:()=>E,gH:()=>p,gj:()=>v});var i=n(5127);const t="parent",c="collections";function e(){return`/${c}`}function f(D){return new i.t(e(),D).toString()}function m(D){return new i.t(e(),D,O).toString()}function p(){return new i.t(e(),v).toString()}function y(D){return new i.t(f(D),O,C).toString()}function E(D){return new i.t(f(D),I).toString()}const v="create",O="edit",C="roles",I="itemtemplate"},94404:(U,b,n)=>{"use strict";n.d(b,{H:()=>c,x:()=>t});const t={SAVE:(0,n(6800).N)("dspace/community-list-page/SAVE")};class c{constructor(f,m){this.type=t.SAVE,this.payload={expandedNodes:f,loadingNode:m}}}},39015:(U,b,n)=>{"use strict";n.d(b,{D6:()=>v,EU:()=>E,b2:()=>e,c5:()=>m,f2:()=>c,lG:()=>y,pk:()=>p,zQ:()=>O});var i=n(47067),t=n(5127);const c="parent",e="communities";function f(){return`/${e}`}function m(I){return new t.t(f(),I).toString()}function p(I){return new t.t(f(),I,O).toString()}function y(){return new t.t(f(),v).toString()}function E(I){return new t.t((0,i.JW)(I),O,C).toString()}const v="create",O="edit",C="roles"},14563:(U,b,n)=>{"use strict";n.d(b,{q:()=>E});var i=n(59640),t=n(30113),c=n.n(t),e=n(96354),f=n(29747),m=n(38196),p=n(12321),y=n(54438);let E=(()=>{class v{constructor(C){this.store=C}getAuthMethods(C,I){return this.store.pipe((0,i.Lt)(p.hx),(0,e.T)(D=>D.filter(R=>null==I||R.authMethodType!==I).filter(R=>void 0!==(0,f.H)(C,R.authMethodType)).sort((R,h)=>R.position-h.position)),(0,e.T)(D=>c()(D.filter(R=>R.authMethodType!==m.Q.Ip),"authMethodType")))}static{this.\u0275fac=function(I){return new(I||v)(y.KVO(i.il))}}static{this.\u0275prov=y.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},95828:(U,b,n)=>{"use strict";n.d(b,{H:()=>O});var i=n(5964),t=n(96354),c=n(23294),e=n(96697),f=n(25558),m=n(88141),p=n(89777),y=n(49755),E=n(4093),v=n(5127);class O{constructor(I,D,R){this.halService=I,this.requestService=D,this.rdbService=R,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(I,...D){return this.rdbService.buildFromRequestUUID(I,...D).pipe((0,E.qD)())}getEndpointByMethod(I,D,...R){let h=(0,p.hj)(D)?`${I}/${D}`:`${I}`;return R?.length>0&&R.forEach((S,T)=>{h+=(0===T?"?":"&")+`embed=${S.name}`}),h}postToEndpoint(I,D,R){const h=this.requestService.generateRequestId(),S=this.halService.getEndpoint(this.linkName);return S.pipe((0,i.p)(T=>(0,p.hj)(T)),(0,t.T)(T=>this.getEndpointByMethod(T,I)),(0,c.F)(),(0,t.T)(T=>new y.Qf(h,T,D,R)),(0,e.s)(1)).subscribe(T=>{this.requestService.send(T)}),S.pipe((0,f.n)(()=>this.fetchRequest(h)))}getRequest(I,D,...R){const h=this.requestService.generateRequestId(),S=this.halService.getEndpoint(this.linkName);return S.pipe((0,i.p)(T=>(0,p.hj)(T)),(0,t.T)(T=>this.getEndpointByMethod(T,I,...R)),(0,c.F)(),(0,t.T)(T=>new y.IP(h,T,void 0,D)),(0,e.s)(1)).subscribe(T=>{this.requestService.send(T)}),S.pipe((0,f.n)(()=>this.fetchRequest(h,...R)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(I=>(0,p.hj)(I)),(0,c.F)(),(0,t.T)(I=>new v.t(I,this.shortlivedtokensEndpoint).toString()),(0,f.n)(I=>this.createShortLivedTokenRequest(I)),(0,m.M)(I=>this.requestService.send(I)),(0,f.n)(I=>this.rdbService.buildFromRequestUUID(I.uuid)),(0,E.qD)(),(0,t.T)(I=>I.hasSucceeded?I.payload.value:null))}}},45124:(U,b,n)=>{"use strict";n.d(b,{$K:()=>w,$X:()=>k,D9:()=>f,FD:()=>z,G2:()=>D,HQ:()=>p,IO:()=>T,IV:()=>m,JT:()=>G,K0:()=>V,S3:()=>E,Sn:()=>c,VU:()=>I,Wu:()=>h,YO:()=>K,Yk:()=>t,cU:()=>X,dj:()=>S,du:()=>C,e0:()=>v,eh:()=>N,es:()=>J,j3:()=>j,kZ:()=>M,ks:()=>e,mg:()=>O,nB:()=>L,qY:()=>$,sy:()=>y,v1:()=>q});var i=n(6800);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class c{constructor(ee,fe){this.type=t.AUTHENTICATE,this.payload={email:ee,password:fe}}}class e{constructor(ee){this.type=t.AUTHENTICATED,this.payload=ee}}class f{constructor(ee,fe,ye){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:ee,authToken:fe,userHref:ye}}}class m{constructor(ee){this.type=t.AUTHENTICATED_ERROR,this.payload=ee}}class p{constructor(ee){this.type=t.AUTHENTICATE_ERROR,this.payload=ee}}class y{constructor(ee){this.type=t.AUTHENTICATE_SUCCESS,this.payload=ee}}class E{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class v{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class O{constructor(ee){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=ee}}class C{constructor(ee){this.payload=ee,this.type=t.LOG_OUT}}class I{constructor(ee){this.type=t.LOG_OUT_ERROR,this.payload=ee}}class D{constructor(ee){this.payload=ee,this.type=t.LOG_OUT_SUCCESS}}class h{constructor(ee){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=ee}}class S{constructor(ee){this.type=t.REFRESH_TOKEN,this.payload=ee}}class T{constructor(ee){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=ee}}class w{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class M{constructor(){this.type=t.RETRIEVE_TOKEN}}class L{constructor(ee){this.type=t.ADD_MESSAGE,this.payload=ee}}class N{constructor(){this.type=t.RESET_MESSAGES}}class j{constructor(ee){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=ee}}class ${constructor(ee){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=ee}}class k{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class K{constructor(ee){this.type=t.SET_REDIRECT_URL,this.payload=ee}}class z{constructor(ee){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=ee}}class V{constructor(ee){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=ee}}class G{constructor(ee){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=ee}}class X{constructor(ee){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=ee}}class J{constructor(){this.type=t.SET_USER_AS_IDLE}}class q{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},94196:(U,b,n)=>{"use strict";n.d(b,{Ru:()=>q,S0:()=>J,kL:()=>ne,of:()=>ee,uR:()=>fe});var i=n(21626),t=n(59640),c=n(7673),e=n(5964),f=n(99172),m=n(96354),p=n(25558),y=n(96697),E=n(78544),v=n(89777),O=n(9847),C=n(34180),I=n(4600),D=n(58956),R=n(13817),h=n(87507),S=n(19252),T=n(4093),w=n(73409),M=n(5127),L=n(45124),N=n(95828),j=n(14700),$=n(34298),k=n(12321),K=n(54438),z=n(7901),V=n(67138),G=n(95488),X=n(68018);const J="/login",q="/logout",ne="dsRedirectUrl",ee="dsImpersonatingEPerson";let fe=(()=>{class ye{constructor(ue,te,se,be,me,re,Z,le,ce,ve){this._window=ue,this.authRequestService=te,this.epersonService=se,this.router=be,this.routeService=me,this.storage=re,this.store=Z,this.hardRedirectService=le,this.notificationService=ce,this.translateService=ve,this.store.pipe((0,e.p)(ze=>void 0!==ze?.core?.auth),(0,t.Lt)(k.wR),(0,f.Z)(!1)).subscribe(ze=>this._authenticated=ze)}authenticate(ue,te){const se=`password=${encodeURIComponent(te)}&user=${encodeURIComponent(ue)}`,be=Object.create({});let me=new i.Lr;return me=me.append("Content-Type","application/x-www-form-urlencoded"),be.headers=me,this.authRequestService.postToEndpoint("login",se,be).pipe((0,m.T)(re=>{if((0,v.a4)(re.payload)&&re.payload.authenticated)return re.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const ue=Object.create({});let te=new i.Lr;return te=te.append("Accept","application/json"),ue.headers=te,ue.withCredentials=!0,this.authRequestService.getRequest("status",ue).pipe((0,m.T)(se=>Object.assign(new j.T,se.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(k.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(k.TR))}setExternalAuthStatus(ue){this.store.dispatch(new L.mg(ue))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(k.qD))}authenticatedUser(ue){const te=Object.create({});let se=new i.Lr;return se=se.append("Accept","application/json"),se=se.append("Authorization",`Bearer ${ue.accessToken}`),te.headers=se,this.authRequestService.getRequest("status",te).pipe((0,m.T)(be=>{const me=be.payload;if((0,v.a4)(me)&&me.authenticated)return me._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(ue){return this.epersonService.findByHref(ue).pipe((0,T.Hz)())}retrieveAuthenticatedUserById(ue){return this.epersonService.findById(ue).pipe((0,T.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(k.At),(0,v.Az)(),(0,p.n)(ue=>this.epersonService.findById(ue)),(0,T.Hz)())}getAuthenticatedUserIdFromStore(){return this.store.pipe((0,t.Lt)(k.At))}getAuthenticatedUserFromStoreIfAuthenticated(){return this.store.pipe((0,t.Lt)(k.At),(0,p.n)(ue=>(0,v.a4)(ue)?this.epersonService.findById(ue).pipe((0,T.ak)()):(0,c.of)(null)))}checkAuthenticationToken(){this.store.dispatch(new L.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,I.s)("specialGroups")).pipe((0,T.qD)(),(0,p.n)(ue=>ue.hasSucceeded?ue.payload.specialGroups:(0,C.CX)((0,D.g)(new w.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(k.Y5),(0,y.s)(1),(0,m.T)(ue=>{const te=(0,v.hj)(ue)?ue:this.storage.get($.R);if((0,v.hj)(te)&&te.hasOwnProperty("accessToken")&&(0,v.hj)(te.accessToken)&&!this.isTokenExpired(te))return te;throw!1}))}refreshAuthenticationToken(ue){const te=Object.create({});let se=new i.Lr;return se=se.append("Accept","application/json"),ue&&ue.accessToken&&(se=se.append("Authorization",`Bearer ${ue.accessToken}`)),te.headers=se,te.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},te).pipe((0,m.T)(be=>{const me=be.payload;if((0,v.a4)(me)&&me.authenticated)return me.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new L.eh)}retrieveAuthMethodsFromAuthStatus(ue){let te=[];return(0,v.hj)(ue.authMethods)&&(te=ue.authMethods),(0,c.of)(te)}logout(){let ue=new i.Lr;return ue=ue.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:ue,responseType:"text"})).pipe((0,m.T)(se=>{const be=se.payload;if((0,v.a4)(be)&&!be.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(ue){return(0,v.Im)(ue)&&(ue=this.getToken()),this._authenticated&&(0,v.Pe)(ue)?`Bearer ${ue.accessToken}`:""}getToken(){let ue;return this.store.pipe((0,y.s)(1),(0,t.Lt)(k.Y5)).subscribe(te=>{ue=te||null}),ue}trackTokenExpiration(){let ue,te=!1;this.store.pipe((0,t.Lt)(k.Y5)).subscribe(se=>{if(te&&void 0!==ue&&void 0===se&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),te=!1),te&&void 0!==se&&ue.expires!==se.expires&&(te=!1),!te&&(ue=se||null,null!=ue)){let be=ue.expires-(new Date).getTime()-E.c.auth.rest.timeLeftBeforeTokenRefresh;be<0&&(be=0),(0,v.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new L.dj(ue)),te=!0},be)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(k.Pc),(0,y.s)(1),(0,m.T)(ue=>!this.isTokenExpired()&&!ue&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(ue){return(ue=ue||this.getToken())&&ue.expires<Date.now()}storeToken(ue){const te=Date.now()+864e5,be={expires:new Date(te)};return this.storage.set($.R,ue,be)}removeToken(){return this.storage.remove($.R)}replaceToken(ue){return this.removeToken(),this.storeToken(ue)}redirectToLogin(){this.router.navigate([J])}redirectToLoginWhenTokenExpired(){const ue=J+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=ue:this.router.navigateByUrl(ue)}navigateToRedirectUrl(ue){if(!(0,v.a4)(ue)||!ue.includes("reload/")){let te=`reload/${(new Date).getTime()}`;(0,v.hj)(ue)&&!ue.startsWith(J)&&(te+=`?redirect=${encodeURIComponent(ue)}`),this.hardRedirectService.redirect(te)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(k.M3),(0,m.T)(ue=>(0,v.a4)(ue)?ue:this.storage.get(ne)))}setRedirectUrl(ue){const te=Date.now()+36e5,be={expires:new Date(te)};this.storage.set(ne,ue,be),this.store.dispatch(new L.YO((0,v.EA)(ue)?ue:""))}setRedirectUrlIfNotSet(ue){this.getRedirectUrl().pipe((0,y.s)(1)).subscribe(te=>{(0,v.Tn)(te)&&this.setRedirectUrl(ue)})}getExternalServerRedirectUrl(ue,te,se){const be=new M.t(ue,te).toString();let me=se;const Z=/\?redirectUrl=(.*)/g.exec(se),le=Z&&Z[1]?Z[1]:null;return(0,v.Pe)(le)&&le!==be&&(me=se.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${be}`)),me}clearRedirectUrl(){this.store.dispatch(new L.YO(void 0)),this.storage.remove(ne)}impersonate(ue){this.storage.set(ee,ue),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(ee)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(ee)}isImpersonating(){return(0,v.a4)(this.getImpersonateID())}isImpersonatingUser(ue){return this.getImpersonateID()===ue}getShortlivedToken(){return this.isAuthenticated().pipe((0,p.n)(ue=>ue?this.authRequestService.getShortlivedToken():(0,c.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(k.xB))}setIdle(ue){this.store.dispatch(ue?new L.es:new L.v1)}static{this.\u0275fac=function(te){return new(te||ye)(K.KVO(S.lc),K.KVO(N.H),K.KVO(R.EPersonDataService),K.KVO(z.Ix),K.KVO(h.v$),K.KVO(V.O),K.KVO(t.il),K.KVO(G.$),K.KVO(O.I),K.KVO(X.c$))}}static{this.\u0275prov=K.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},85643:(U,b,n)=>{"use strict";n.d(b,{t:()=>E});var i=n(54438),t=n(7901),c=n(59640),e=n(47677),f=n(25558),m=n(96354),p=n(94196),y=n(12321);const E=(O,C,I=(0,i.WQX)(p.uR),D=(0,i.WQX)(t.Ix),R=(0,i.WQX)(c.il))=>{const h=C.url;return R.pipe((0,c.Lt)(y.VV)).pipe((0,e.I)(S=>!1===S),(0,f.n)(()=>R.pipe((0,c.Lt)(y.wR))),(0,m.T)(S=>S||(I.setRedirectUrl(h),I.removeToken(),D.createUrlTree([p.S0]))))}},14700:(U,b,n)=>{"use strict";n.d(b,{T:()=>C});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(96283),m=n(70963),p=n(59922),y=n(44043),E=n(94152);const v=new y.v("status");var O=n(34298);let C=class{static{this.type=v}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],C.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],C.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],C.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",c.c)],C.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.U,!0),(0,i.Sn)("design:type",c.c)],C.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",O.S)],C.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],C.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],C.prototype,"authMethods",void 0),C=(0,i.Cg)([e.gV],C)},34298:(U,b,n)=>{"use strict";function i(E){this.message=E}n.d(b,{S:()=>y,R:()=>p}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(E){var v=String(E).replace(/=+$/,"");if(v.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var O,C,I=0,D=0,R="";C=v.charAt(D++);~C&&(O=I%4?64*O+C:C,I++%4)?R+=String.fromCharCode(255&O>>(-2*I&6)):0)C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(C);return R};function e(E){this.message=E}(e.prototype=new Error).name="InvalidTokenError";const p="dsAuthInfo";class y{constructor(v){this.accessToken=v.replace("Bearer ","");try{const O=function f(E,v){if("string"!=typeof E)throw new e("Invalid token specified");var O=!0===(v=v||{}).header?0:1;try{return JSON.parse(function c(E){var v=E.replace(/-/g,"+").replace(/_/g,"/");switch(v.length%4){case 0:break;case 2:v+="==";break;case 3:v+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(v).replace(/(.)/g,function(C,I){var D=I.charCodeAt(0).toString(16).toUpperCase();return D.length<2&&(D="0"+D),"%"+D}))}catch{return t(v)}}(E.split(".")[O]))}catch(C){throw new e("Invalid token specified: "+C.message)}}(this.accessToken);this.expires=1e3*O.exp}catch{this.expires=0}}}},38196:(U,b,n)=>{"use strict";n.d(b,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t.Saml="saml",t}(i||{})},93635:(U,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(38196);class t{constructor(e,f,m){switch(this.position=f,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m;break;case"saml":this.authMethodType=i.Q.Saml,this.location=m}}}},23536:(U,b,n)=>{"use strict";n.d(b,{o:()=>i});var i=function(t){return t.Orcid="ORCID",t.Validation="VALIDATION_",t}(i||{})},12321:(U,b,n)=>{"use strict";n.d(b,{At:()=>M,F8:()=>X,Gv:()=>z,H8:()=>L,M3:()=>q,Pc:()=>V,TR:()=>$,VV:()=>K,Y5:()=>G,dx:()=>N,hx:()=>w,qD:()=>k,wR:()=>j,xB:()=>ne});var i=n(59640),t=n(30269);const c=(0,i.Mz)(t.N,ee=>ee.auth),w=(0,i.Mz)(c,ee=>ee.authMethods),M=(0,i.Mz)(c,ee=>ee.userId),L=(0,i.Mz)(c,ee=>ee.error),N=(0,i.Mz)(c,ee=>ee.info),j=(0,i.Mz)(c,ee=>ee.authenticated),$=(0,i.Mz)(c,ee=>ee.loaded),k=(0,i.Mz)(c,ee=>ee.externalAuth),K=(0,i.Mz)(c,ee=>ee.loading),z=(0,i.Mz)(c,ee=>ee.blocking),V=(0,i.Mz)(c,ee=>ee.refreshing),G=(0,i.Mz)(c,ee=>ee.authToken),X=(0,i.Mz)(c,ee=>ee.error),q=((0,i.Mz)(c,ee=>ee.error),(0,i.Mz)(c,ee=>ee.redirectUrl)),ne=(0,i.Mz)(c,ee=>ee.idle)},43446:(U,b,n)=>{"use strict";n.d(b,{f:()=>f});var i=n(89777),t=n(61880),c=n(54438),e=n(68018);let f=(()=>{class m{constructor(y){this.translateService=y,this.factories={EPerson:E=>{const v=E.firstMetadataValue("eperson.firstname"),O=E.firstMetadataValue("eperson.lastname");return(0,i.Im)(v)&&(0,i.Im)(O)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(v)||(0,i.Im)(O)?v||O:`${v} ${O}`},Person:E=>{const v=E.firstMetadataValue("person.familyName"),O=E.firstMetadataValue("person.givenName");return(0,i.Im)(v)&&(0,i.Im)(O)?E.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(v)||(0,i.Im)(O)?v||O:`${v}, ${O}`},OrgUnit:E=>E.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:E=>E.firstMetadataValue("dc.title")||E.name||this.translateService.instant("dso.name.untitled")}}getName(y){if(y){const v=y.getRenderTypes().filter(C=>"string"==typeof C).find(C=>Object.keys(this.factories).includes(C));let O;return(0,i.a4)(v)&&(O=this.factories[v](y)),(0,i.Im)(O)&&(O=this.factories.Default(y)),O}return""}getHitHighlights(y,E){const O=E.getRenderTypes().filter(C=>"string"==typeof C).find(C=>["Person","OrgUnit"].includes(C));if("Person"===O){const C=this.firstMetadataValue(y,E,"person.familyName"),I=this.firstMetadataValue(y,E,"person.givenName");return(0,i.Im)(C)&&(0,i.Im)(I)?this.firstMetadataValue(y,E,"dc.title")||E.name:(0,i.Im)(C)||(0,i.Im)(I)?C||I:`${C}, ${I}`}return"OrgUnit"===O?this.firstMetadataValue(y,E,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(y,E,"dc.title")||E.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(y,E,v){return t.O.firstValue([y.hitHighlights,E.metadata],v)}static{this.\u0275fac=function(E){return new(E||m)(c.KVO(e.c$))}}static{this.\u0275prov=c.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},54009:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseDefinitionDataService:()=>h,createAndSendBrowseDefinitionGetRequest:()=>D});var i=n(7673),t=n(96697),c=n(89777),e=n(57775),f=n(10186),m=n(81948),p=n(88667),y=n(20881),E=n(60796),v=n(49755),O=n(3601),C=n(7094),I=n(54438);const D=(S,T,w,M=!0)=>{(0,c.hj)(w)&&("string"==typeof w&&(w=(0,i.of)(w)),w.pipe((0,c.VT)(),(0,t.s)(1)).subscribe(L=>{const N=S.generateRequestId(),j=new v.FQ(N,L);(0,c.a4)(T)&&(j.responseMsToLive=T),S.send(j,M)}))};class R extends p.H{createAndSendGetRequest(T,w=!0){D(this.requestService,this.responseMsToLive,T,w)}}let h=(()=>{class S extends y.W{constructor(w,M,L,N){super("browses",w,M,L,N),this.requestService=w,this.rdbService=M,this.objectCache=L,this.halService=N,this.searchData=new E.X(this.linkPath,w,M,L,N,this.responseMsToLive),this.findAllData=new R(this.linkPath,w,M,L,N,this.responseMsToLive)}findAll(w={},M=!0,L=!0,...N){return this.findAllData.findAll(w,M,L,...N)}searchBy(w,M,L,N,...j){return this.searchData.searchBy(w,M,L,N,...j)}getSearchByHref(w,M,...L){return this.searchData.getSearchByHref(w,M,...L)}findByFields(w,M=!0,L=!0,...N){const j=[];j.push(new f.x("fields",w));const $=this.getSearchByHref("byFields",{searchParams:j},...N);return this.findByHref($,M,L,...N)}createAndSendGetRequest(w,M=!0){D(this.requestService,this.responseMsToLive,w,M)}static{this.\u0275fac=function(M){return new(M||S)(I.KVO(O.B),I.KVO(e.o),I.KVO(m.$),I.KVO(C.Y))}}static{this.\u0275prov=I.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},57168:(U,b,n)=>{"use strict";n.d(b,{q:()=>R});var i=n(96354),t=n(99172),c=n(23294),e=n(78544),f=n(89777),m=n(4600),p=n(82245),y=n(3601),E=n(7094),v=n(4093),O=n(5127),C=n(54009),I=n(54438);function D(){const h=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&h.push((0,m.s)("accessStatus")),h}let R=(()=>{class h{static toSearchKeyArray(T){const w=T.split("."),M=[];M.push("*");for(let L=0;L<w.length-1;L++){const j=[...w.slice(0,L+1),"*"].join(".");M.push(j)}return M.push(T),M}constructor(T,w,M,L){this.requestService=T,this.halService=w,this.browseDefinitionDataService=M,this.hrefOnlyDataService=L,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,v.yd)())}getBrowseEntriesFor(T){const w=this.getBrowseDefinitions().pipe((0,v.Jq)(T.metadataDefinition),(0,f.Az)(),(0,i.T)(M=>M.entries.href||M.entries),(0,f.Az)(),(0,i.T)(M=>{const L=[];return(0,f.hj)(T.scope)&&L.push(`scope=${T.scope}`),(0,f.hj)(T.sort)&&L.push(`sort=${T.sort.field},${T.sort.direction}`),(0,f.hj)(T.pagination)&&(L.push("page="+(T.pagination.currentPage-1)),L.push(`size=${T.pagination.pageSize}`)),(0,f.hj)(T.startsWith)&&L.push(`startsWith=${T.startsWith}`),(0,f.hj)(L)&&(M=new O.t(M,`?${L.join("&")}`).toString()),M}));return T.fetchThumbnail?this.hrefOnlyDataService.findListByHref(w,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(w)}getBrowseItemsFor(T,w,M){const L=this.getBrowseDefinitions().pipe((0,v.Jq)(M.metadataDefinition),(0,f.Az)(),(0,i.T)(N=>N.items.href||N.items),(0,f.Az)(),(0,i.T)(N=>{const j=[];return(0,f.hj)(M.scope)&&j.push(`scope=${M.scope}`),(0,f.hj)(M.sort)&&j.push(`sort=${M.sort.field},${M.sort.direction}`),(0,f.hj)(M.pagination)&&(j.push("page="+(M.pagination.currentPage-1)),j.push(`size=${M.pagination.pageSize}`)),(0,f.hj)(M.startsWith)&&j.push(`startsWith=${M.startsWith}`),(0,f.hj)(T)&&j.push(`filterValue=${encodeURIComponent(T)}`),(0,f.hj)(w)&&j.push(`filterAuthority=${encodeURIComponent(w)}`),(0,f.hj)(j)&&(N=new O.t(N,`?${j.join("&")}`).toString()),N}));return M.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(L)}getFirstItemFor(T,w,M){const L=this.getBrowseDefinitions().pipe((0,v.Jq)(T),(0,f.Az)(),(0,i.T)(N=>N.items.href||N.items),(0,f.Az)(),(0,i.T)(N=>{const j=[];return(0,f.a4)(w)&&j.push(`scope=${w}`),j.push("page=0"),j.push("size=1"),M&&j.push("sort=default,"+M),(0,f.hj)(j)&&(N=new O.t(N,`?${j.join("&")}`).toString()),N}));return this.hrefOnlyDataService.findListByHref(L).pipe((0,v.yd)(),(0,v.GD)())}getPrevBrowseItems(T){return this.hrefOnlyDataService.findListByHref(T.payload.prev)}getNextBrowseItems(T){return this.hrefOnlyDataService.findListByHref(T.payload.next)}getPrevBrowseEntries(T){return this.hrefOnlyDataService.findListByHref(T.payload.prev)}getNextBrowseEntries(T){return this.hrefOnlyDataService.findListByHref(T.payload.next)}getBrowseURLFor(T,w){const M=h.toSearchKeyArray(T);return this.getBrowseDefinitions().pipe((0,v.Bo)(),(0,v.W8)(),(0,i.T)(L=>L.find(N=>{let j="";return Array.isArray(N.metadataKeys)&&(j=N.metadataKeys.find($=>M.indexOf($)>=0)),(0,f.hj)(j)})),(0,i.T)(L=>{if((0,f.Im)(L)||(0,f.Im)(L._links)||(0,f.Im)(L._links[w]))throw new Error(`A browse endpoint for ${w} on ${T} isn't configured`);return L._links[w]||L._links[w].href}),(0,t.Z)(void 0),(0,c.F)())}static{this.\u0275fac=function(w){return new(w||h)(I.KVO(y.B),I.KVO(E.Y),I.KVO(C.BrowseDefinitionDataService),I.KVO(p.HrefOnlyDataService))}}static{this.\u0275prov=I.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},72153:(U,b,n)=>{"use strict";n.d(b,{FR:()=>m,O3:()=>w,Qt:()=>I,gV:()=>C,nf:()=>S,o8:()=>M,qP:()=>f});var i=n(54438),t=n(89777),c=n(45451);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>R});const f=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>w}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>T}),E=(Symbol("resolvedLink"),new Map),v=new Map,O=new Map;function C(L){E.set(L.type.value,L)}function I(L){return E.get((0,c.zA)(L))}function R(L){return v.get(L.value)}const S=(L,N=!1,j)=>($,k)=>{let K=O.get($.constructor);(0,t.Tn)(K)&&(K=new Map),(0,t.Tn)(j)&&(j=k),K.set(j,{resourceType:L,isList:N,linkName:j,propertyName:k}),O.set($.constructor,K)},T=L=>O.get(L),w=(L,N)=>{const j=O.get(L);if((0,t.a4)(j))return j.get(N)};function M(L){return N=>{const j=O.get(L)||new Map,$=O.get(N)||new Map;j.forEach((k,K)=>{$.has(K)||$.set(K,k)}),O.set(N,$)}}},8177:(U,b,n)=>{"use strict";n.d(b,{_:()=>E});var i=n(983),t=n(25558),c=n(99437),e=n(79096),f=n(89777),m=n(44583),p=n(72153),y=n(54438);let E=(()=>{class v{constructor(C,I,D,R){this.injector=C,this.map=I,this.getLinkDefinition=D,this.getLinkDefinitions=R}resolveLinks(C,...I){return I.forEach(D=>{this.resolveLink(C,D)}),C}resolveLinkWithoutAttaching(C,I){const D=this.getLinkDefinition(C.constructor,I.name);if((0,f.a4)(D))return(0,m.M)(this.map,D.resourceType.value,this.injector).pipe((0,t.n)(h=>{const S=C._links[D.linkName];if((0,f.a4)(S)){const T=S.href;try{return D.isList?h.findListByHref(T,I.findListOptions,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow):h.findByHref(T,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow)}catch(w){throw console.error(`Something went wrong when using ${D.resourceType.value}) ${(0,f.a4)(h)?"":"(undefined) "}to resolve link ${String(I.name)} at ${T}`),w}}return i.w}),(0,c.W)(h=>{throw new Error(`The @link() for ${String(I.name)} on ${C.constructor.name} models uses the resource type ${D.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${D.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!I.isOptional)throw new Error(`followLink('${String(I.name)}') was used as a required link for a ${C.constructor.name}, but there is no property on ${C.constructor.name} models with an @link() for ${String(I.name)}`);return i.w}resolveLink(C,I){const R=this.getLinkDefinitions(C.constructor).get(I.name);return(0,f.hj)(R)?C[R.propertyName]=this.resolveLinkWithoutAttaching(C,I):C[I.name]=this.resolveLinkWithoutAttaching(C,I),C}removeResolvedLinks(C){const I=Object.assign(new C.constructor,C),D=this.getLinkDefinitions(C.constructor);return(0,f.hj)(D)&&D.forEach(R=>{I[R.propertyName]=void 0}),I}static{this.\u0275fac=function(I){return new(I||v)(y.KVO(y.zZn),y.KVO(e.l9),y.KVO(p.qP),y.KVO(p.FR))}}static{this.\u0275prov=y.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},57775:(U,b,n)=>{"use strict";n.d(b,{o:()=>K});var i=n(7673),t=n(84572),c=n(77876),e=n(25558),f=n(96354),m=n(99172),p=n(5964),y=n(23294),v=n(89777),O=n(34180),C=n(4600),I=n(58956),D=n(66946),R=n(25788),h=n(3601),S=n(85186),T=n(35331),w=n(4093),M=n(85426),L=n(45451),N=n(81948),j=n(72153),$=n(8177),k=n(54438);let K=(()=>{class z{constructor(G,X,J){this.objectCache=G,this.linkService=X,this.requestService=J}buildPayload(G,X,...J){return(0,v.Tn)(X)&&(X=(0,i.of)(void 0)),(0,t.z)([X,G]).pipe((0,e.n)(([q,ne])=>{const ee=this.hasExactMatchInObjectCache(q,ne);return(0,v.a4)(ne.response)&&(ee||this.isCacheablePayload(ne)||this.isUnCacheablePayload(ne))?ee?this.objectCache.getObjectByHref(q):this.isCacheablePayload(ne)?this.objectCache.getObjectByHref(ne.response.payloadLink.href):[this.plainObjectToInstance(ne.response.unCacheableObject)]:(0,S.yO)(ne.state)?[null]:[void 0]}),(0,e.n)(q=>{if((0,v.a4)(q)){if((0,L.zA)(q.type)===D.v.value)return this.buildPaginatedList(q,...J);if((0,v.hj)(J))return[this.linkService.resolveLinks(q,...J)]}return[q]}))}plainObjectToInstance(G){const X=(0,j.Qt)(G.type);return Object.assign("function"==typeof X?new X:{},G)}hasExactMatchInObjectCache(G,X){return(0,v.a4)(X)&&(0,v.a4)(X.request)&&(0,v.hj)(X.request.uuid)&&(0,v.a4)(G)&&this.objectCache.hasByHref(G,X.request.uuid)}isCacheablePayload(G){return(0,v.a4)(G.response.payloadLink)&&(0,v.hj)(G.response.payloadLink.href)}isUnCacheablePayload(G){return(0,v.a4)(G.response.unCacheableObject)}buildPaginatedList(G,...X){const J=X.find(ee=>"page"===ee.name),q=X.filter(ee=>"page"!==ee.name),ne=Object.assign(new I.O,G);if((0,v.a4)(J)){if((0,v.Im)(ne.page)){const ee=ne._links.page.map(fe=>fe.href);return this.objectCache.getList(ee).pipe((0,f.T)(fe=>(ne.page=fe.map(ye=>this.plainObjectToInstance(ye)).map(ye=>this.linkService.resolveLinks(ye,...J.linksToFollow)),(0,v.hj)(q)?this.linkService.resolveLinks(ne,...q):ne)))}if(ne.page=ne.page.filter(ee=>null!=ee).map(ee=>this.plainObjectToInstance(ee)).map(ee=>this.linkService.resolveLinks(ee,...J.linksToFollow)),(0,v.hj)(q))return(0,i.of)(this.linkService.resolveLinks(ne,...q))}return(0,i.of)(ne)}buildFromRequestUUID(G,...X){"string"==typeof G&&(G=(0,i.of)(G));const J=G.pipe((0,M.m9)(this.requestService)),q=this.buildPayload(J,void 0,...X);return this.toRemoteDataObservable(J,q)}buildFromRequestUUIDAndAwait(G,X,...J){const q=this.buildFromRequestUUID(G,...J),ne=new c.h;return q.pipe((0,w.qD)(),(0,e.n)(ee=>ee.hasSucceeded?X(ee):[!0])).subscribe(()=>{ne.next(!0),ne.complete()}),q.pipe((0,e.n)(ee=>ee.hasSucceeded?ne.pipe((0,f.T)(()=>ee)):[ee]))}buildFromHref(G,...X){"string"==typeof G&&(G=(0,i.of)(G));const J=(G=G.pipe((0,f.T)(ee=>(0,T.tJ)(ee)))).pipe((0,e.n)(ee=>this.objectCache.getRequestUUIDBySelfLink(ee))),q=(0,t.z)([G.pipe((0,M.Ky)(this.requestService),(0,m.Z)(void 0)),J.pipe((0,M.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,p.p)(([ee,fe])=>(0,v.a4)(ee)||(0,v.a4)(fe)),(0,f.T)(([ee,fe])=>(0,v.Tn)(fe)?ee:(0,v.Tn)(ee)?fe:(0,S.QO)(ee.state)&&(0,S.QO)(fe.state)||!(0,S.QO)(ee.state)&&!(0,S.QO)(fe.state)?ee.lastUpdated>=fe.lastUpdated?ee:fe:(0,S.QO)(fe.state)?ee:fe)),ne=this.buildPayload(q,G,...X);return this.toRemoteDataObservable(q,ne).pipe(function E(z,V){return(0,y.F)((G,X)=>V?V(G[z],X[z]):G[z]===X[z])}("lastUpdated"))}buildSingle(G,...X){return this.buildFromHref(G,...X)}toRemoteDataObservable(G,X){return(0,t.z)([G,X]).pipe((0,p.p)(([J,q])=>(0,v.a4)(J)&&!((0,S.yO)(J.state)&&(0,v.b0)(q))),(0,f.T)(([J,q])=>{let ne=J.response;return(0,v.Tn)(ne)&&(ne={}),new R.j(ne.timeCompleted,J.request.responseMsToLive,J.lastUpdated,J.state,ne.errorMessage,q,ne.statusCode)}))}buildList(G,...X){return this.buildFromHref(G,(0,C.s)("page",{shouldEmbed:!1},...X))}aggregate(G){return(0,v.Im)(G)?(0,O.CX)([],(new Date).getTime()):(0,t.z)(G).pipe((0,f.T)(X=>{const J=X.map(te=>te.timeCompleted).reduce((te,se)=>se>te?se:te),q=X.map(te=>te.msToLive).reduce((te,se)=>se<te?se:te),ne=X.map(te=>te.lastUpdated).reduce((te,se)=>se>te?se:te);let ee;ee=X.some(te=>te.isRequestPending)?S.zE.RequestPending:X.some(te=>te.isResponsePending)?S.zE.ResponsePending:X.some(te=>te.isErrorStale)?S.zE.ErrorStale:X.some(te=>te.isError)?S.zE.Error:X.some(te=>te.isSuccessStale)?S.zE.SuccessStale:S.zE.Success;const fe=X.map(te=>te.errorMessage).map((te,se)=>{if((0,v.a4)(te))return`[${se}]: ${te}`}).filter(te=>(0,v.a4)(te)).join(", "),ye=new Set(X.map(te=>te.statusCode));let oe;1===ye.size?oe=ye.values().next().value:ye.size>1&&(oe=207);const ue=X.map(te=>te.payload);return new R.j(J,q,ne,ee,fe,ue,oe)}))}static{this.\u0275fac=function(X){return new(X||z)(k.KVO(N.$),k.KVO($._),k.KVO(h.B))}}static{this.\u0275prov=k.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},56538:(U,b,n)=>{"use strict";n.d(b,{I:()=>t});class i{}class t extends i{}},96283:(U,b,n)=>{"use strict";n.d(b,{a:()=>t});var i=n(89777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},10186:(U,b,n)=>{"use strict";n.d(b,{x:()=>i});class i{constructor(c,e,f=!0){this.fieldName=c,this.fieldValue=e,this.encodeValue=f,f&&(this.fieldValue=encodeURIComponent(e))}}},70998:(U,b,n)=>{"use strict";n.d(b,{U:()=>i,z:()=>t});var i=function(c){return c.ASC="ASC",c.DESC="DESC",c}(i||{});class t{constructor(e,f){this.field=e,this.direction=f}}},1708:(U,b,n)=>{"use strict";n.d(b,{Bc:()=>y,YA:()=>c,Yp:()=>f,dL:()=>m,db:()=>t,gL:()=>p,ok:()=>E,sI:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class c{constructor(O,C,I,D,R){this.type=t.ADD,this.payload={objectToCache:O,timeCompleted:C,msToLive:I,requestUUID:D,alternativeLink:R}}}class e{constructor(O){this.type=t.REMOVE,this.payload=O}}class f{constructor(O){this.type=t.RESET_TIMESTAMPS,this.payload=O}}class m{constructor(O,C){this.type=t.ADD_PATCH,this.payload={href:O,operations:C}}}class p{constructor(O){this.type=t.APPLY_PATCH,this.payload=O}}class y{constructor(O,C){this.type=t.ADD_DEPENDENTS,this.payload={href:O,dependentRequestUUIDs:C}}}class E{constructor(O){this.type=t.REMOVE_DEPENDENTS,this.payload=O}}},45451:(U,b,n)=>{"use strict";n.d(b,{gT:()=>p,zA:()=>e});var i=n(93583),t=n(89777),c=n(1708);const e=R=>{if((0,t.a4)(R)){if("string"==typeof R)return R;if("string"==typeof R.value)return R.value}},m=Object.create(null);function p(R=m,h){switch(h.type){case c.db.ADD:return function y(R,h){const S=(0,t.a4)(h.payload.objectToCache?._links?.self)?h.payload.objectToCache._links.self.href:h.payload.alternativeLink,T=R[S]||{},w=(0,t.a4)(h.payload.alternativeLink)?[h.payload.alternativeLink]:[];return(0,t.a4)(S)?Object.assign({},R,{[S]:{data:h.payload.objectToCache,timeCompleted:h.payload.timeCompleted,msToLive:h.payload.msToLive,requestUUIDs:[h.payload.requestUUID,...T.requestUUIDs||[]],dependentRequestUUIDs:T.dependentRequestUUIDs||[],isDirty:(0,t.hj)(T.patches),patches:T.patches||[],alternativeLinks:[...T.alternativeLinks||[],...w]}}):R}(R,h);case c.db.REMOVE:return function E(R,h){if((0,t.a4)(R[h.payload])){const S=Object.assign({},R);return delete S[h.payload],S}return R}(R,h);case c.db.RESET_TIMESTAMPS:return function v(R,h){const S=Object.create(null);return Object.keys(R).forEach(T=>{S[T]=Object.assign({},R[T],{timeCompleted:h.payload})}),S}(R,h);case c.db.ADD_PATCH:return function O(R,h){const S=h.payload.href,T=h.payload.operations,w=Object.assign({},R);return(0,t.a4)(w[S])&&(w[S]=Object.assign({},w[S],{patches:[...w[S].patches,{operations:T}],isDirty:!0})),w}(R,h);case c.db.APPLY_PATCH:return function C(R,h){const S=h.payload,T=Object.assign({},R);if((0,t.a4)(T[S])){const w=[].concat(...T[S].patches.map(L=>L.operations)),M=(0,i.X6)(T[S].data,w,void 0,!1);T[S]=Object.assign({},T[S],{data:M.newDocument,patches:[]})}return T}(R,h);case c.db.ADD_DEPENDENTS:return function I(R,h){const S=h.payload.href,T=Object.assign({},R);return(0,t.a4)(T[S])&&(T[S]=Object.assign({},T[S],{dependentRequestUUIDs:[...new Set([...T[S]?.dependentRequestUUIDs||[],...h.payload.dependentRequestUUIDs])]})),T}(R,h);case c.db.REMOVE_DEPENDENTS:return function D(R,h){const S=h.payload,T=Object.assign({},R);return(0,t.a4)(T[S])&&(T[S]=Object.assign({},T[S],{dependentRequestUUIDs:[]})),T}(R,h);default:return R}}},81948:(U,b,n)=>{"use strict";n.d(b,{$:()=>$});var i=n(59640),t=n(93583),c=n(84572),e=n(7673),f=n(96354),m=n(96697),p=n(73028),y=n(5964),E=n(25558),v=n(23294),O=n(89777),C=n(30269),I=n(51801),D=n(77274),R=n(35331),h=n(25056),S=n(72153),T=n(8177),w=n(1708),M=n(36482),L=n(54438);const N=(0,i.Mz)(C.N,k=>k["cache/object"]);let $=(()=>{class k{constructor(z,V){this.store=z,this.linkService=V}add(z,V,G,X){(0,O.a4)(z)&&(z=this.linkService.removeResolvedLinks(z)),this.store.dispatch(new w.YA(z,(new Date).getTime(),V,G,X))}remove(z){this.removeRelatedLinksFromIndex(z),this.store.dispatch(new w.sI(z))}removeRelatedLinksFromIndex(z){const V=this.getByHref(z),G=V.pipe((0,f.T)(J=>J.alternativeLinks),(0,m.s)(1)),X=V.pipe((0,f.T)(J=>Object.entries(J.data._links).filter(([q,ne])=>"self"!==q).map(([q,ne])=>ne.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(G),this.removeLinksFromAlternativeLinkIndex(X)}removeLinksFromAlternativeLinkIndex(z){z.subscribe(V=>V.forEach(G=>{this.store.dispatch(new D.NL(h.U.ALTERNATIVE_OBJECT_LINK,G))}))}getObjectByUUID(z){return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,p.Z)(V=>this.getObjectByHref(V)))}getObjectByHref(z){return this.getByHref(z).pipe((0,f.T)(V=>{if((0,O.hj)(V.patches)){const G=[].concat(...V.patches.map(J=>J.operations)),X=(0,t.X6)(V.data,G,void 0,!1).newDocument;return Object.assign({},V,{data:X})}return V}),(0,f.T)(V=>{if((0,O.a4)(V.data)){const G=(0,S.Qt)(V.data.type);if("function"!=typeof G)throw new Error(`${G} is not a valid constructor for ${JSON.stringify(V.data)}`);return Object.assign(new G,V.data)}return null}))}getByHref(z){return(0,c.z)([this.getByAlternativeLink(z),this.getBySelfLink(z)]).pipe((0,f.T)(V=>V.find(G=>(0,O.a4)(G))),(0,y.p)(V=>(0,O.a4)(V)))}getBySelfLink(z){return this.store.pipe((0,i.Lt)((k=>(0,i.Mz)(N,K=>K[k]))(z)))}getByAlternativeLink(z){return this.store.pipe((0,i.Lt)((0,R.Fn)(z)),(0,E.n)(V=>this.getBySelfLink(V)))}getRequestUUIDBySelfLink(z){return this.getByHref(z).pipe((0,f.T)(V=>V.requestUUIDs[0]),(0,v.F)())}getRequestUUIDByObjectUUID(z){return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,p.Z)(V=>this.getRequestUUIDBySelfLink(V)))}getList(z){return(0,O.Im)(z)?(0,e.of)([]):(0,c.z)(z.map(V=>this.getObjectByHref(V)))}hasByUUID(z){let V=!1;return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,m.s)(1)).subscribe(G=>V=this.hasByHref(G)),V}hasByHref(z,V){let G=!1;return this.getByHref(z).subscribe(X=>{G=!(0,O.hj)(V)||X.requestUUIDs.includes(V)}).unsubscribe(),G}hasByHref$(z){return(0,c.z)(this.getBySelfLink(z),this.getByAlternativeLink(z)).pipe((0,f.T)(V=>V.some(G=>(0,O.a4)(G))))}addPatch(z,V){this.store.dispatch(new w.dL(z,V)),this.store.dispatch(new M.Fs(z,I.D.PATCH))}isDirty(z){return(0,O.hj)(z.patches)}applyPatchesToCachedObject(z){this.store.dispatch(new w.gL(z))}addDependency(z,V){(0,O.Tn)(z)||(0,O.Tn)(V)||("string"==typeof z&&(z=(0,e.of)(z)),"string"==typeof V&&(V=(0,e.of)(V)),(0,c.z)([z,V.pipe((0,E.n)(G=>this.resolveSelfLink(G)))]).pipe((0,E.n)(([G,X])=>{const J=(0,e.of)(X);return(0,c.z)([J,J.pipe((0,E.n)(q=>this.getBySelfLink(q)),(0,f.T)(q=>q?.dependentRequestUUIDs||[])),this.getByHref(G).pipe((0,f.T)(q=>q?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([G,X,J])=>{(0,O.a4)(G)&&(0,O.a4)(J)&&!X.includes(J)&&this.store.dispatch(new w.Bc(G,[J]))}))}removeDependents(z){this.resolveSelfLink(z).pipe((0,m.s)(1)).subscribe(V=>{(0,O.a4)(V)&&this.store.dispatch(new w.ok(V))})}resolveSelfLink(z){return this.getBySelfLink(z).pipe((0,E.n)(V=>(0,O.hj)(V)?[z]:this.store.pipe((0,i.Lt)((0,R.Fn)(z)))))}static{this.\u0275fac=function(V){return new(V||k)(L.KVO(i.il),L.KVO(T._))}}static{this.\u0275prov=L.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},76456:(U,b,n)=>{"use strict";n.d(b,{Ku:()=>i,_p:()=>m,bM:()=>c,hT:()=>t});class i{constructor(R,h,S){this.isSuccessful=R,this.statusCode=h,this.statusText=S,this.toCache=!0}}class t extends i{constructor(R,h,S){super(!0,R,`${R}`),this.link=h,this.unCacheableObject=S}}class c extends i{constructor(R,h,S,T){super(!0,h,S),this.resourceSelfLinks=R,this.statusCode=h,this.statusText=S,this.pageInfo=T}}class m extends i{constructor(R){super(!1,R.statusCode,R.statusText),console.error(R),this.errorMessage=R.message}}},36482:(U,b,n)=>{"use strict";n.d(b,{Fs:()=>c,G9:()=>t,a0:()=>f,eR:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class c{constructor(p,y){this.type=t.ADD,this.payload={href:p,method:y}}}class e{constructor(p){this.type=t.COMMIT,this.payload=p}}class f{constructor(p){this.type=t.EMPTY,this.payload=p}}},85500:(U,b,n)=>{"use strict";n.d(b,{P:()=>p});var i=n(96354),t=n(94925),c=n(11873),e=n(6170),f=n(4093),m=n(54438);let p=(()=>{class y{constructor(v,O){this.configService=v,this.authorizationService=O,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,f.qD)(),(0,i.T)(v=>v.hasSucceeded?v.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(O){return new(O||y)(m.KVO(t.ConfigurationDataService),m.KVO(c.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},80892:(U,b,n)=>{"use strict";n.d(b,{M:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(58956),f=n(80541),m=n(2523);let p=class extends f.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],p.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(f.G)],p);let y=class extends p{static{this.type=m.Nm}};y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p)],y)},56541:(U,b,n)=>{"use strict";n.d(b,{f:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(80541),f=n(2523);let m=class extends e.G{static{this.type=f.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.G)],m);let p=class extends m{static{this.type=f.KX}};p=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m)],p)},2523:(U,b,n)=>{"use strict";n.d(b,{KX:()=>f,NS:()=>v,Nm:()=>t,V_:()=>y,WJ:()=>p,XI:()=>O,gf:()=>c,mU:()=>E,vH:()=>e});var i=n(44043);const t=new i.v("submissiondefinitions"),c=new i.v("submissiondefinition"),e=new i.v("submissionform"),f=new i.v("submissionforms"),p=(new i.v("submissionsections"),new i.v("submissionsection")),y=new i.v("submissionuploads"),E=new i.v("submissionupload"),v=new i.v("submissionaccessoption"),O=new i.v("bulkaccessconditionoption")},80541:(U,b,n)=>{"use strict";n.d(b,{G:()=>f});var i=n(31635),t=n(74850),c=n(44043),e=n(94152);class f{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",c.v)],f.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0)},30269:(U,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=(0,n(59640).UX)("core")},84202:(U,b,n)=>{"use strict";n.d(b,{aE:()=>E});var i=n(78544),t=n(89777),c=n(72153),e=n(60428),f=n(73409),m=n(58956);function p(v){return(0,t.hj)(v._links)&&(0,t.a4)(v._links.self)}function y(v){return(0,t.a4)(v.page)&&(0,t.a4)(v.page.size)&&(0,t.a4)(v.page.totalElements)&&(0,t.a4)(v.page.totalPages)&&(0,t.a4)(v.page.number)}class E{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(O,C,I){if((0,t.hj)(O)){if((0,t.Tn)(O)||"object"!=typeof O)return O;if(y(O))return this.processPaginatedList(O,C);if(Array.isArray(O))return this.processArray(O,C);if(p(O)){const R=this.deserialize(O);return(0,t.hj)(O._embedded)&&Object.keys(O._embedded).filter(h=>O._embedded.hasOwnProperty(h)).forEach(h=>{const S=this.process(O._embedded[h],C,O._links[h].href);(0,t.a4)(R)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(S)&&(y(O._embedded[h])?(R[h]=S,R[h].page=S.page.map(T=>this.retrieveObjectOrUrl(T))):p(O._embedded[h])?R[h]=this.retrieveObjectOrUrl(S):Array.isArray(S)&&(R[h]=S.map(T=>this.retrieveObjectOrUrl(T))))}),this.cache(R,C,O,I),R}const D={};return Object.keys(O).filter(R=>O.hasOwnProperty(R)).filter(R=>(0,t.a4)(O[R])).forEach(R=>{D[R]=this.process(O[R],C)}),D}}processPaginatedList(O,C){const I=this.processPageInfo(O);let D=O._embedded;(0,t.Tn)(D)?D=[]:Array.isArray(D)||(D=this.flattenSingleKeyObject(D));const R=this.processArray(D,C);return(0,m.g)(I,R)}processArray(O,C){let I=[];return O.forEach(D=>{I=[...I,this.process(D,C)]}),I}deserialize(O){const C=O.type;if((0,t.a4)(C)){const I=(0,c.Qt)(C);return(0,t.a4)(I)?new this.serializerConstructor(I).deserialize(O):(console.warn("cannot deserialize type "+C),null)}return console.warn("cannot deserialize type "+C),null}cache(O,C,I,D){this.toCache&&this.addToObjectCache(O,C,I,D)}addToObjectCache(O,C,I,D){if((0,t.Tn)(O)||(0,t.Tn)(O._links)||(0,t.Tn)(O._links.self)||(0,t.Tn)(O._links.self.href)){const R=(0,t.a4)(I)&&(0,t.a4)(I.type)?I.type:"object";let h;return h=(0,t.a4)(I._embedded)?JSON.stringify(Object.assign({},I,{_embedded:"..."})):JSON.stringify(I),void console.warn(`Can't cache incomplete ${R}: ${JSON.stringify(O)}, parsed from (partial) response: ${h}`)}this.objectCache.add(O,(0,t.a4)(C.responseMsToLive)?C.responseMsToLive:i.c.cache.msToLive.default,C.uuid,D)}processPageInfo(O){if((0,t.a4)(O.page)){const C=Object.assign({},O.page,{_links:O._links}),I=new e.T(f.Q).deserialize(C);return I.currentPage>=0&&Object.assign(I,{currentPage:I.currentPage+1}),I}}flattenSingleKeyObject(O){const C=Object.keys(O);if(1!==C.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(O)}`);return O[C[0]]}retrieveObjectOrUrl(O){return this.toCache?O._links.self.href:O}isSuccessStatus(O){return O>=200&&O<300}}},90066:(U,b,n)=>{"use strict";n.d(b,{L:()=>T});var i=n(7673),t=n(44668),c=n(77876),e=n(22806),f=n(88141),m=n(96697),p=n(96354),y=n(28492),E=n(25558),v=n(73028),O=n(56594),C=n(89777),I=n(72153),D=n(4093),R=n(5127),h=n(49755);class T{constructor(M,L,N,j,$,k){this.linkPath=M,this.requestService=L,this.rdbService=N,this.objectCache=j,this.halService=$,this.responseMsToLive=k}getBrowseEndpoint(M={},L){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(M,L,N=[],...j){let $=[...N];return(0,C.a4)(L.currentPage)&&"number"==typeof L.currentPage&&($=this.addHrefArg(M,$,"page="+(L.currentPage-1))),(0,C.a4)(L.elementsPerPage)&&($=this.addHrefArg(M,$,`size=${L.elementsPerPage}`)),(0,C.a4)(L.sort)&&($=this.addHrefArg(M,$,`sort=${L.sort.field},${L.sort.direction}`)),(0,C.a4)(L.startsWith)&&($=this.addHrefArg(M,$,`startsWith=${L.startsWith}`)),(0,C.a4)(L.searchParams)&&L.searchParams.forEach(k=>{$=this.addHrefArg(M,$,`${k.fieldName}=${k.fieldValue}`)}),$=this.addEmbedParams(M,$,...j),(0,C.hj)($)?new R.t(M,`?${$.join("&")}`).toString():M}buildHrefWithParams(M,L,...N){let j=[];return(0,C.a4)(L)&&L.forEach($=>{j=this.addHrefArg(M,j,`${$.fieldName}=${$.fieldValue}`)}),j=this.addEmbedParams(M,j,...N),(0,C.hj)(j)?new R.t(M,`?${j.join("&")}`).toString():M}addEmbedParams(M,L,...N){return N.forEach(j=>{if((0,C.a4)(j)&&j.shouldEmbed){const $="embed="+String(j.name);(0,C.a4)(j.findListOptions)&&(0,C.a4)(j.findListOptions.elementsPerPage)&&(L=this.addHrefArg(M,L,"embed.size="+String(j.name)+"="+j.findListOptions.elementsPerPage)),L=(0,C.hj)(j.linksToFollow)?this.addNestedEmbeds($,M,L,...j.linksToFollow):this.addHrefArg(M,L,$)}}),L}addHrefArg(M,L,N){return M.includes(N)||L.includes(N)?[...L]:[...L,N]}addNestedEmbeds(M,L,N,...j){let $=M;return j.forEach(k=>{if((0,C.a4)(k)&&k.shouldEmbed){if($=$+"%2F"+String(k.name),(0,C.a4)(k.findListOptions)&&(0,C.a4)(k.findListOptions.elementsPerPage)){const K="embed.size="+$.split("=")[1]+"="+k.findListOptions.elementsPerPage;N=this.addHrefArg(L,N,K)}N=(0,C.a4)(k.linksToFollow)&&(0,C.hj)(k.linksToFollow)?this.addNestedEmbeds($,L,N,...k.linksToFollow):this.addHrefArg(L,N,$)}}),N}reRequestStaleRemoteData(M,L){return N=>!0===M?N.pipe((0,f.M)(j=>{(0,C.a4)(j)&&j.isStale&&L()})):N}findByHref(M,L=!0,N=!0,...j){"string"==typeof M&&(M=(0,i.of)(M));const $=M.pipe((0,C.VT)(),(0,m.s)(1),(0,p.T)(z=>this.buildHrefFromFindOptions(z,{},[],...j)),(0,t.t)({bufferSize:1,refCount:!0})),k=(new Date).getTime();this.createAndSendGetRequest($,L);const K=this.rdbService.buildSingle($,...j).pipe((0,y.j)(z=>z.isStale||!L&&z.lastUpdated<k),this.reRequestStaleRemoteData(N,()=>this.findByHref(M,L,N,...j)));return K.pipe((0,f.M)(z=>{if((0,C.a4)(z?.payload?._links))for(const V of Object.keys(z.payload._links)){const G=(0,I.O3)(z.payload.constructor,V);if(G?.propertyName&&(0,C.a4)(z.payload[G.propertyName])&&"self"!==V){const X=[].concat(z.payload._links[V]);for(const J of X)(0,C.a4)(J?.href)&&this.addDependency(K,J.href)}}}))}findListByHref(M,L={},N=!0,j=!0,...$){"string"==typeof M&&(M=(0,i.of)(M));const k=M.pipe((0,C.VT)(),(0,m.s)(1),(0,p.T)(V=>this.buildHrefFromFindOptions(V,L,[],...$)),(0,t.t)({bufferSize:1,refCount:!0})),K=(new Date).getTime();this.createAndSendGetRequest(k,N);const z=this.rdbService.buildList(k,...$).pipe((0,y.j)(V=>V.isStale||!N&&V.lastUpdated<K),this.reRequestStaleRemoteData(j,()=>this.findListByHref(M,L,N,j,...$)));return z.pipe((0,f.M)(V=>{if((0,C.a4)(V?.payload?.page))for(const G of V.payload.page)if((0,C.a4)(G?._links))for(const X of Object.keys(G._links)){const J=(0,I.O3)(G.constructor,X);if(J?.propertyName&&"self"!==X&&(0,C.a4)(G[J.propertyName])){const q=[].concat(G._links[X]);for(const ne of q)(0,C.a4)(ne?.href)&&this.addDependency(z,ne.href)}}}))}createAndSendGetRequest(M,L=!0){(0,C.hj)(M)&&("string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,C.VT)(),(0,m.s)(1)).subscribe(N=>{const j=this.requestService.generateRequestId(),$=new h.IP(j,N);(0,C.a4)(this.responseMsToLive)&&($.responseMsToLive=this.responseMsToLive),this.requestService.send($,L)}))}hasCachedResponse(M){if((0,C.hj)(M))return"string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,C.VT)(),(0,m.s)(1),(0,p.T)(L=>{const N=this.requestService.generateRequestId(),j=new h.IP(N,L);return!this.requestService.shouldDispatchRequest(j,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(M){return this.hasCachedResponse(M).pipe((0,E.n)(L=>L?this.rdbService.buildSingle(M).pipe((0,D.qD)(),(0,p.T)(N=>N.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(M,L){this.objectCache.addDependency(M.pipe((0,D.qD)(),(0,E.n)(N=>N.hasSucceeded?[N.payload._links.self.href]:[void 0])),L)}invalidateByHref(M){const L=new c.h;return this.objectCache.getByHref(M).pipe((0,m.s)(1),(0,E.n)(N=>(0,e.H)([...N.requestUUIDs,...N.dependentRequestUUIDs]).pipe((0,v.Z)(j=>this.requestService.setStaleByUUID(j)),(0,O.$)()))).subscribe(()=>{this.objectCache.removeDependents(M),L.next(!0),L.complete()}),L}}},18328:(U,b,n)=>{"use strict";n.d(b,{V:()=>O});var i=n(23294),t=n(96354),c=n(96697),e=n(77048),f=n(89777),m=n(74745),p=n(72153),y=n(60428),E=n(49755),v=n(90066);class O extends v.L{constructor(I,D,R,h,S,T,w){super(I,D,R,h,S,w),this.linkPath=I,this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=S,this.notificationsService=T,this.responseMsToLive=w}create(I,...D){const R=this.getEndpoint().pipe((0,f.VT)(),(0,i.F)(),(0,t.T)(h=>this.buildHrefWithParams(h,D)));return this.createOnEndpoint(I,R)}createOnEndpoint(I,D){const R=this.requestService.generateRequestId(),h=new y.T((0,p.Qt)(I.type)).serialize(I);D.pipe((0,c.s)(1)).subscribe(T=>{const w=new E.QU(R,T,JSON.stringify(h));(0,f.a4)(this.responseMsToLive)&&(w.responseMsToLive=this.responseMsToLive),this.requestService.send(w)});const S=this.rdbService.buildFromRequestUUID(R);return S.pipe((0,e.v)(T=>T.isLoading,!0)).subscribe(T=>{T.hasFailed&&this.notificationsService.error("Server Error:",T.errorMessage,new m.y(-1))}),S}}},72073:(U,b,n)=>{"use strict";n.d(b,{I:()=>f});var i=n(25558),t=n(89777),c=n(49755),e=n(20881);class f extends e.W{constructor(p,y,E,v,O,C,I,D){if(super(p,y,E,v,O,I,D),this.linkPath=p,this.requestService=y,this.rdbService=E,this.objectCache=v,this.halService=O,this.notificationsService=C,this.responseMsToLive=I,this.constructIdEndpoint=D,(0,t.Tn)(D))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${p})`)}delete(p,y){return this.getIDHrefObs(p).pipe((0,i.n)(E=>this.deleteByHref(E,y)))}deleteByHref(p,y){const E=this.requestService.generateRequestId();let v=p;y&&y.forEach(C=>v+=(v.includes("?")?"&":"?")+"copyVirtualMetadata="+C);const O=new c.$(E,v);return(0,t.a4)(this.responseMsToLive)&&(O.responseMsToLive=this.responseMsToLive),this.requestService.send(O),this.rdbService.buildFromRequestUUIDAndAwait(E,()=>this.invalidateByHref(p))}}},88667:(U,b,n)=>{"use strict";n.d(b,{H:()=>m});var i=n(5964),t=n(96354),c=n(23294),e=n(89777),f=n(90066);class m extends f.L{constructor(y,E,v,O,C,I){super(y,E,v,O,C,I),this.linkPath=y,this.requestService=E,this.rdbService=v,this.objectCache=O,this.halService=C,this.responseMsToLive=I}findAll(y={},E=!0,v=!0,...O){return this.findListByHref(this.getFindAllHref(y),y,E,v,...O)}getFindAllHref(y={},E,...v){const O=[];return this.getBrowseEndpoint(y).pipe((0,i.p)(I=>(0,e.hj)(I)),(0,t.T)(I=>(0,e.hj)(E)?`${I}/${E}`:I),(0,c.F)()).pipe((0,t.T)(I=>this.buildHrefFromFindOptions(I,y,O,...v)))}}},20881:(U,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(96354),t=n(96697),c=n(25558),e=n(90066);const f=(p,y)=>`${p}/${y}`;class m extends e.L{constructor(y,E,v,O,C,I,D=f){super(y,E,v,O,C,I),this.linkPath=y,this.requestService=E,this.rdbService=v,this.objectCache=O,this.halService=C,this.responseMsToLive=I,this.constructIdEndpoint=D}findById(y,E=!0,v=!0,...O){const C=this.getIDHrefObs(encodeURIComponent(y),...O);return this.findByHref(C,E,v,...O)}getIDHref(y,E,...v){return this.buildHrefFromFindOptions(this.constructIdEndpoint(y,E),{},[],...v)}getIDHrefObs(y,...E){return this.getEndpoint().pipe((0,i.T)(v=>this.getIDHref(v,y,...E)))}invalidateById(y){const E=this.getIDHrefObs(y).pipe((0,t.s)(1),(0,c.n)(v=>this.invalidateByHref(v)));return E.subscribe(),E}}},4318:(U,b,n)=>{"use strict";n.d(b,{n:()=>y});var i=n(96354),t=n(47677),c=n(73028),e=n(89777),f=n(4093),m=n(49755),p=n(20881);class y extends p.W{constructor(v,O,C,I,D,R,h,S){if(super(v,O,C,I,D,h,S),this.linkPath=v,this.requestService=O,this.rdbService=C,this.objectCache=I,this.halService=D,this.comparator=R,this.responseMsToLive=h,this.constructIdEndpoint=S,(0,e.Tn)(S))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${v})`)}patch(v,O){const C=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(D=>this.getIDHref(D,v.uuid))).pipe((0,t.I)(D=>(0,e.a4)(D))).subscribe(D=>{const R=new m.EA(C,D,O);(0,e.a4)(this.responseMsToLive)&&(R.responseMsToLive=this.responseMsToLive),this.requestService.send(R)}),this.rdbService.buildFromRequestUUIDAndAwait(C,()=>this.invalidateByHref(v._links.self.href))}update(v){return this.createPatchFromCache(v).pipe((0,c.Z)(O=>((0,e.hj)(O)&&this.objectCache.addPatch(v._links.self.href,O),this.findByHref(v._links.self.href,!0,!0))))}commitUpdates(v){this.requestService.commit(v)}createPatchFromCache(v){return this.findByHref(v._links.self.href,!0,!1).pipe((0,f.yd)(),(0,f.Bo)(),(0,i.T)(C=>this.comparator.diff(C,v)))}}},53271:(U,b,n)=>{"use strict";n.d(b,{W:()=>f});var i=n(89777),t=n(60428),c=n(49755),e=n(90066);class f extends e.L{constructor(p,y,E,v,O,C){super(p,y,E,v,O,C),this.linkPath=p,this.requestService=y,this.rdbService=E,this.objectCache=v,this.halService=O,this.responseMsToLive=C}put(p){const y=this.requestService.generateRequestId(),E=new t.T(p.constructor).serialize(p),v=new c.v_(y,p._links.self.href,E);return(0,i.a4)(this.responseMsToLive)&&(v.responseMsToLive=this.responseMsToLive),this.requestService.send(v),this.rdbService.buildFromRequestUUID(y)}}},60796:(U,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(96354),t=n(5964),c=n(89777),e=n(90066);const f=(p,y)=>`${p}/search/${y}`;class m extends e.L{constructor(y,E,v,O,C,I,D=f){if(super(y,E,v,O,C,I),this.linkPath=y,this.requestService=E,this.rdbService=v,this.objectCache=O,this.halService=C,this.responseMsToLive=I,this.constructSearchEndpoint=D,(0,c.Tn)(D))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${y})`)}searchBy(y,E={},v=!0,O=!0,...C){const I=this.getSearchByHref(y,E,...C);return this.findListByHref(I,void 0,v,O,...C)}getSearchByHref(y,E={},...v){const O=[];return this.getSearchEndpoint(y).pipe((0,i.T)(I=>this.buildHrefFromFindOptions(I,E,O,...v)))}getSearchEndpoint(y){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(E=>(0,c.hj)(E)),(0,i.T)(E=>this.constructSearchEndpoint(E,y)))}}},4266:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamDataService:()=>X});var i=n(21626),t=n(84572),c=n(983),e=n(25558),f=n(96354),m=n(96697),p=n(47677),y=n(89777),E=n(9847),v=n(34180),O=n(4600),C=n(57775),I=n(10186),D=n(81948),R=n(7094),h=n(4093),S=n(73409),T=n(85426),w=n(72073),M=n(20881),L=n(4318),N=n(60796),j=n(32336),$=n(37419),k=n(73054),K=n(58956),z=n(49755),V=n(3601),G=n(54438);let X=(()=>{class J extends M.W{constructor(ne,ee,fe,ye,oe,ue,te,se){super("bitstreams",ne,ee,fe,ye),this.requestService=ne,this.rdbService=ee,this.objectCache=fe,this.halService=ye,this.bundleService=oe,this.bitstreamFormatService=ue,this.comparator=te,this.notificationsService=se,this.searchData=new N.X(this.linkPath,ne,ee,fe,ye,this.responseMsToLive),this.patchData=new L.n(this.linkPath,ne,ee,fe,ye,te,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,ne,ee,fe,ye,se,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(ne,ee,fe=!0,ye=!0,...oe){return this.findListByHref(ne._links.bitstreams.href,ee,fe,ye,...oe)}findAllByItemAndBundleName(ne,ee,fe,ye=!0,oe=!0,...ue){return this.bundleService.findByItemAndName(ne,ee).pipe((0,e.n)(te=>te.hasSucceeded&&(0,y.a4)(te.payload)?this.findAllByBundle(te.payload,fe,ye,oe,...ue):te.hasSucceeded||404!==te.statusCode?[te]:(0,v.CX)((0,K.g)(new S.Q,[]),(new Date).getTime())))}updateFormat(ne,ee){const fe=this.requestService.generateRequestId(),ye=this.getBrowseEndpoint().pipe((0,f.T)(ue=>`${ue}/${ne.id}`),(0,e.n)(ue=>this.halService.getEndpoint("format",ue))),oe=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,f.T)(ue=>`${ue}/${ee.id}`));return(0,t.z)([ye,oe]).pipe((0,f.T)(([ue,te])=>{const se=Object.create({});let be=new i.Lr;return be=be.append("Content-Type","text/uri-list"),se.headers=be,new z.v_(fe,ue,te,se)}),(0,T.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.deleteFormatCache(ne)}),this.rdbService.buildFromRequestUUID(fe)}deleteFormatCache(ne){const ee=ne.self+"/format";this.requestService.setStaleByHrefSubstring(ee),this.objectCache.getByHref(ee).pipe((0,m.s)(1)).subscribe(fe=>{if(fe.requestUUIDs&&fe.requestUUIDs.length>0){const ye=fe.requestUUIDs[0];this.requestService.hasByUUID(ye)&&this.requestService.setStaleByUUID(ye)}})}findByItemHandle(ne,ee,fe,ye=!0,oe=!0,...ue){const te=[];te.push(new I.x("handle",ne)),(0,y.a4)(ee)&&te.push(new I.x("sequenceId",ee)),(0,y.a4)(fe)&&te.push(new I.x("filename",fe));const se=this.getSearchByHref("byItemHandle",{searchParams:te},...ue);return this.findByHref(se,ye,oe,...ue)}getSearchByHref(ne,ee,...fe){return this.searchData.getSearchByHref(ne,ee,...fe)}findPrimaryBitstreamByItemAndName(ne,ee,fe=!0,ye=!0,oe){return this.bundleService.findByItemAndName(ne,ee,fe,ye,oe,(0,O.s)("primaryBitstream")).pipe((0,h.qD)(),(0,e.n)(ue=>ue.hasSucceeded?ue.payload.primaryBitstream.pipe((0,h.qD)(),(0,f.T)(te=>te.hasSucceeded?te.payload:null)):c.w))}searchBy(ne,ee,fe,ye,...oe){return this.searchData.searchBy(ne,ee,fe,ye,...oe)}commitUpdates(ne){this.patchData.commitUpdates(ne)}patch(ne,ee){return this.patchData.patch(ne,ee)}update(ne){return this.patchData.update(ne)}createPatchFromCache(ne){return this.patchData.createPatchFromCache(ne)}delete(ne,ee){return this.deleteData.delete(ne,ee)}deleteByHref(ne,ee){return this.deleteData.deleteByHref(ne,ee)}removeMultiple(ne){const ee=ne.map(oe=>({op:"remove",path:`/bitstreams/${oe.id}`})),fe=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,p.I)(oe=>(0,y.a4)(oe))).subscribe(oe=>{const ue=new z.EA(fe,oe,ee);(0,y.a4)(this.responseMsToLive)&&(ue.responseMsToLive=this.responseMsToLive),this.requestService.send(ue)}),this.rdbService.buildFromRequestUUIDAndAwait(fe,()=>(0,t.z)(ne.map(oe=>this.invalidateByHref(oe._links.self.href))))}static{this.\u0275fac=function(ee){return new(ee||J)(G.KVO(V.B),G.KVO(C.o),G.KVO(D.$),G.KVO(R.Y),G.KVO($.BundleDataService),G.KVO(j.BitstreamFormatDataService),G.KVO(k.j),G.KVO(E.I))}}static{this.\u0275prov=G.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},32336:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamFormatDataService:()=>M});var i=n(59640),t=n(96354),c=n(23294),e=n(88141),f=n(45879),m=n(9847),p=n(57775),y=n(81948),E=n(30269),v=n(7094),O=n(85426),C=n(72073),I=n(88667),D=n(20881),R=n(49755),h=n(3601),S=n(54438);const T=(0,i.Mz)(E.N,L=>L.bitstreamFormats),w=(0,i.Mz)(T,L=>L.selectedBitstreamFormats);let M=(()=>{class L extends D.W{constructor(j,$,k,K,z,V){super("bitstreamformats",j,$,k,K),this.requestService=j,this.rdbService=$,this.objectCache=k,this.halService=K,this.notificationsService=z,this.store=V,this.linkPath="bitstreamformats",this.findAllData=new I.H(this.linkPath,j,$,k,K,this.responseMsToLive),this.deleteData=new C.I(this.linkPath,j,$,k,K,z,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(j){return this.getBrowseEndpoint().pipe((0,t.T)($=>this.getIDHref($,j)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(j){const $=this.requestService.generateRequestId();return this.getUpdateEndpoint(j.id).pipe((0,c.F)(),(0,t.T)(k=>new R.v_($,k,j)),(0,O.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}createBitstreamFormat(j){const $=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(k=>new R.Qf($,k,j)),(0,O.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(j=>this.requestService.removeByHrefSubstring(j)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(w))}selectBitstreamFormat(j){this.store.dispatch(new f.hO(j))}deselectBitstreamFormat(j){this.store.dispatch(new f.Cv(j))}deselectAllBitstreamFormats(){this.store.dispatch(new f.ZU)}findByBitstream(j){return this.findByHref(j._links.format.href)}findAll(j,$,k,...K){return this.findAllData.findAll(j,$,k,...K)}delete(j,$){return this.deleteData.delete(j,$)}deleteByHref(j,$){return this.deleteData.deleteByHref(j,$)}static{this.\u0275fac=function($){return new($||L)(S.KVO(h.B),S.KVO(p.o),S.KVO(y.$),S.KVO(v.Y),S.KVO(m.I),S.KVO(i.il))}}static{this.\u0275prov=S.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},37419:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BundleDataService:()=>h});var i=n(96354),t=n(25558),c=n(96697),e=n(89777),f=n(57775),m=n(81948),p=n(7094),y=n(20881),E=n(4318),v=n(73054),O=n(25788),C=n(49755),I=n(3601),D=n(85186),R=n(54438);let h=(()=>{class S extends y.W{constructor(w,M,L,N,j){super("bundles",w,M,L,N),this.requestService=w,this.rdbService=M,this.objectCache=L,this.halService=N,this.comparator=j,this.bitstreamsEndpoint="bitstreams",this.patchData=new E.n(this.linkPath,w,M,L,N,j,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(w,M,L=!0,N=!0,...j){return this.findListByHref(w._links.bundles.href,M,L,N,...j)}findByItemAndName(w,M,L=!0,N=!0,j,...$){return this.findAllByItem(w,j??{elementsPerPage:9999},L,N,...$).pipe((0,i.T)(K=>{if((0,e.a4)(K.payload)&&(0,e.a4)(K.payload.page)){const z=K.payload.page.find(V=>V.name===M);return(0,e.a4)(z)?new O.j(K.timeCompleted,K.msToLive,K.lastUpdated,D.zE.Success,null,z,200):new O.j(K.timeCompleted,K.msToLive,K.lastUpdated,D.zE.Error,`The bundle with name ${M} was not found.`,null,404)}return K}))}getBitstreamsEndpoint(w,M){return this.getBrowseEndpoint().pipe((0,t.n)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${w}`)),(0,i.T)(L=>M?M.toRestUrl(L):L))}getBitstreams(w,M,...L){const N=this.getBitstreamsEndpoint(w,M);return N.pipe((0,c.s)(1)).subscribe(j=>{const $=new C.IP(this.requestService.generateRequestId(),j);this.requestService.send($,!0)}),this.rdbService.buildList(N,...L)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}static{this.\u0275fac=function(M){return new(M||S)(R.KVO(I.B),R.KVO(f.o),R.KVO(m.$),R.KVO(p.Y),R.KVO(v.j))}}static{this.\u0275prov=R.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},69295:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDataService:()=>k});var i=n(21626),t=n(96354),c=n(25558),e=n(96697),f=n(5964),m=n(89777),p=n(74745),y=n(9847),E=n(57775),v=n(10186),O=n(81948),C=n(60428),I=n(43125),D=n(7094),R=n(4093),h=n(4266),S=n(54104),T=n(30684),w=n(73054),M=n(36343),L=n(49755),N=n(3601),j=n(54438),$=n(68018);let k=(()=>{class K extends S.x{constructor(V,G,X,J,q,ne,ee,fe,ye){super("collections",V,G,X,J,q,ne,ee),this.requestService=V,this.rdbService=G,this.objectCache=X,this.halService=J,this.comparator=q,this.notificationsService=ne,this.bitstreamDataService=ee,this.communityDataService=fe,this.translate=ye,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(V,G={},X=!0,J=!0,...q){return G=Object.assign({},G,{searchParams:[new v.x("query",V)]}),this.searchBy("findSubmitAuthorized",G,X,J,...q).pipe((0,R.bD)())}getAuthorizedCollectionByEntityType(V,G,X={},J=!0,...q){return X=Object.assign({},X,{searchParams:[new v.x("query",V),new v.x("entityType",G)]}),this.searchBy("findSubmitAuthorizedByEntityType",X,!0,J,...q).pipe((0,R.bD)())}getAuthorizedCollectionByCommunity(V,G,X={},J=!0){return X=Object.assign({},X,{searchParams:[new v.x("uuid",V),new v.x("query",G)]}),this.searchBy("findSubmitAuthorizedByCommunity",X,J).pipe((0,R.bD)())}getAuthorizedCollectionByCommunityAndEntityType(V,G,X={},J=!0,...q){const ee=[new v.x("uuid",V),new v.x("entityType",G)];return X=Object.assign({},X,{searchParams:ee}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",X,!0,J,...q).pipe((0,R.bD)())}hasAuthorizedCollection(){const G=new M._;return G.elementsPerPage=1,this.searchBy("findSubmitAuthorized",G).pipe((0,R.qD)(),(0,t.T)(X=>X?.payload?.totalElements>0))}getHarvesterEndpoint(V){return this.halService.getEndpoint(this.linkPath).pipe((0,c.n)(G=>this.halService.getEndpoint("harvester",`${G}/${V}`)))}getContentSource(V,G=!0){const X=this.getHarvesterEndpoint(V).pipe((0,m.VT)(),(0,e.s)(1));return X.subscribe(J=>{const q=new L.IL(this.requestService.generateRequestId(),J);this.requestService.send(q,G)}),this.rdbService.buildSingle(X)}updateContentSource(V,G){const X=this.requestService.generateRequestId(),J=new C.T(I.Z).serialize(G);return this.getHarvesterEndpoint(V).pipe((0,e.s)(1),(0,t.T)(ne=>{const ee=Object.create({});let fe=new i.Lr;return fe=fe.append("Content-Type","application/json"),ee.headers=fe,new L.xu(X,ne,JSON.stringify(J),ee)})).subscribe(ne=>this.requestService.send(ne)),this.rdbService.buildFromRequestUUID(X).pipe((0,R.qD)(),(0,t.T)(ne=>ne.hasFailed?(0,m.a4)(ne.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===ne.statusCode?this.translate.instant(this.contentSourceError):ne.errorMessage,new p.y(-1)):void 0:ne),(0,m.VT)(),(0,t.T)(ne=>(0,m.hj)(ne.payload)?ne.payload:ne))}getFindByParentHref(V){return this.halService.getEndpoint("communities").pipe((0,c.n)(G=>this.halService.getEndpoint("collections",`${G}/${V}`)))}findOwningCollectionFor(V){return this.findByHref(V._links.owningCollection.href)}findMappedCollectionsFor(V,G){return this.findListByHref(V._links.mappedCollections.href,G)}getScopeCommunityHref(V){return this.communityDataService.getEndpoint().pipe((0,t.T)(G=>this.communityDataService.getIDHref(G,V.scopeID)),(0,f.p)(G=>(0,m.hj)(G)),(0,e.s)(1))}static{this.\u0275fac=function(G){return new(G||K)(j.KVO(N.B),j.KVO(E.o),j.KVO(O.$),j.KVO(D.Y),j.KVO(w.j),j.KVO(y.I),j.KVO(h.BitstreamDataService),j.KVO(T.CommunityDataService),j.KVO($.c$))}}static{this.\u0275prov=j.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},54104:(U,b,n)=>{"use strict";n.d(b,{x:()=>S});var i=n(84572),t=n(25558),c=n(96354),e=n(5964),f=n(23294),m=n(96697),p=n(89777),y=n(34180),E=n(4093),v=n(5127),O=n(18328),C=n(72073),I=n(88667),D=n(20881),R=n(4318),h=n(60796);class S extends D.W{constructor(w,M,L,N,j,$,k,K){super(w,M,L,N,j),this.linkPath=w,this.requestService=M,this.rdbService=L,this.objectCache=N,this.halService=j,this.comparator=$,this.notificationsService=k,this.bitstreamDataService=K,this.createData=new O.V(this.linkPath,M,L,N,j,k,this.responseMsToLive),this.findAllData=new I.H(this.linkPath,M,L,N,j,this.responseMsToLive),this.searchData=new h.X(this.linkPath,M,L,N,j,this.responseMsToLive),this.patchData=new R.n(this.linkPath,M,L,N,j,$,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new C.I(this.linkPath,M,L,N,j,k,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(w={},M=this.linkPath){if((0,p.Im)(w.scopeID))return this.halService.getEndpoint(M);{const L=this.getScopeCommunityHref(w);return this.createAndSendGetRequest(L,!0),L.pipe((0,t.n)(N=>this.rdbService.buildSingle(N)),(0,E.qD)(),(0,c.T)(N=>{if(N.hasFailed)throw new Error(`The Community with scope ${w.scopeID} couldn't be retrieved`);return N.payload._links[M]}),(0,e.p)(N=>(0,p.hj)(N)),(0,c.T)(N=>N.href),(0,f.F)())}}findByParent(w,M={},...L){const N=this.getFindByParentHref(w).pipe((0,c.T)(j=>this.buildHrefFromFindOptions(j,M)));return this.findListByHref(N,M,!0,!0,...L)}getLogoEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(M=>new v.t(M,w,"logo").toString()))}deleteLogo(w){const M=w.logo;return(0,p.a4)(M)?M.pipe((0,E.qD)(),(0,t.n)(L=>L.hasFailed?(console.error(`Couldn't retrieve the logo '${w._links.logo.href}' in order to delete it.`),[L]):this.bitstreamDataService.deleteByHref(L.payload._links.self.href))):(0,y.PM)("The given object doesn't have a logo",400)}refreshCache(w){const M=this.parentCommunityUrlLookup(w);(0,p.a4)(M)&&(0,i.z)([this.findByHref(M).pipe((0,E.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([L,N])=>{L.hasSucceeded&&(0,p.hj)(L.payload)&&(0,p.hj)(L.payload.id)?this.requestService.setStaleByHrefSubstring(L.payload.id):this.requestService.setStaleByHrefSubstring(N)})}parentCommunityUrlLookup(w){const M=w._links.parentCommunity;return(0,p.hj)(M)?M.href:null}create(w,...M){return this.createData.create(w,...M)}findAll(w,M,L,...N){return this.findAllData.findAll(w,M,L,...N)}searchBy(w,M,L,N,...j){return this.searchData.searchBy(w,M,L,N,...j)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}delete(w,M){return this.deleteData.delete(w,M)}deleteByHref(w,M){return this.deleteData.deleteByHref(w,M)}}},30684:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CommunityDataService:()=>R});var i=n(96354),t=n(25558),c=n(5964),e=n(96697),f=n(89777),m=n(9847),p=n(57775),y=n(81948),E=n(7094),v=n(4266),O=n(54104),C=n(73054),I=n(3601),D=n(54438);let R=(()=>{class h extends O.x{constructor(T,w,M,L,N,j,$){super("communities",T,w,M,L,N,j,$),this.requestService=T,this.rdbService=w,this.objectCache=M,this.halService=L,this.comparator=N,this.notificationsService=j,this.bitstreamDataService=$,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(T={},...w){return this.getEndpoint().pipe((0,i.T)(M=>`${M}/search/top`),(0,t.n)(M=>this.findListByHref(M,T,!0,!0,...w)))}getFindByParentHref(T){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(w=>this.halService.getEndpoint("subcommunities",`${w}/${T}`)))}getScopeCommunityHref(T){return this.getEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,T.scopeID)),(0,c.p)(w=>(0,f.hj)(w)),(0,e.s)(1))}static{this.\u0275fac=function(w){return new(w||h)(D.KVO(I.B),D.KVO(p.o),D.KVO(y.$),D.KVO(E.Y),D.KVO(C.j),D.KVO(m.I),D.KVO(v.BitstreamDataService))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},94925:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationDataService:()=>p});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),f=n(3601),m=n(54438);let p=(()=>{class y extends e.W{constructor(v,O,C,I){super("properties",v,O,C,I),this.requestService=v,this.rdbService=O,this.objectCache=C,this.halService=I}findByPropertyName(v){return this.findById(v)}static{this.\u0275fac=function(O){return new(O||y)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},96443:(U,b,n)=>{"use strict";n.d(b,{Y:()=>p});var i=n(93583),t=n(72153),c=n(74850);class e{constructor(E){this.modelType=E}serialize(E){return f((0,c.Serialize)(E,this.modelType))}serializeArray(E){return f((0,c.Serialize)(E,this.modelType))}deserialize(E){if(Array.isArray(E))throw new Error("Expected a single model, use deserializeArray() instead");return(0,c.Deserialize)(E,this.modelType)}deserializeArray(E){if(!Array.isArray(E))throw new Error("Expected an Array, use deserialize() instead");return(0,c.Deserialize)(E,this.modelType)}}function f(y){const E={};for(const[v,O]of Object.entries(y))null!==O&&(E[v]=O);return E}var m=n(54438);let p=(()=>{class y{diff(v,O){const C=new e((0,t.Qt)(v.type)),I=new e((0,t.Qt)(O.type));return(0,i.UD)(C.serialize(v),I.serialize(O))}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},73054:(U,b,n)=>{"use strict";n.d(b,{j:()=>f});var i=n(93583),t=n(84418),c=n.n(t),e=n(54438);let f=(()=>{class m{diff(y,E){return(0,i.UD)(this.filterUUIDsFromMetadata(y.metadata),this.filterUUIDsFromMetadata(E.metadata)).map(v=>Object.assign({},v,{path:"/metadata"+v.path}))}filterUUIDsFromMetadata(y){const E=c()(y);for(const v of Object.keys(E))for(const O of E[v])O.uuid=void 0;return E}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},98733:(U,b,n)=>{"use strict";n.r(b),n.d(b,{DSpaceObjectDataService:()=>p});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),f=n(3601),m=n(54438);let p=(()=>{class y extends e.W{constructor(v,O,C,I){super("dso",v,O,C,I,void 0,(D,R)=>D.replace(/{\?uuid}/,`?uuid=${R}`)),this.requestService=v,this.rdbService=O,this.objectCache=C,this.halService=I}static{this.\u0275fac=function(O){return new(O||y)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},81640:(U,b,n)=>{"use strict";n.d(b,{D3:()=>h,k_:()=>I});var i=n(78544),t=n(89777),c=n(72153),e=n(81948),f=n(76456),m=n(60428),p=n(35331),y=n(73409),E=n(5127),v=n(58956),O=n(51801),C=n(54438);function I(S){return(0,t.a4)(S)&&(0,t.a4)(S._links)&&(0,t.a4)(S._links.self)&&(0,t.a4)(S._links.self.href)}const R=S=>S.split("?").map(T=>T.split("&")).reduce((T,w)=>[...T,...w]);let h=(()=>{class S{constructor(w){this.objectCache=w,this.serializerConstructor=m.T}parse(w,M){let L;M=this.ensureSelfLink(w,M),w.method===O.D.GET&&(L=(0,p.tJ)(w.href));const N=this.process(M.payload,w,L);return(0,t.a4)(N)?I(N)?new f.hT(M.statusCode,N._links.self):new f.hT(M.statusCode,void 0,N):new f.hT(M.statusCode)}process(w,M,L){const N=(0,p.fW)(M.href);if((0,t.hj)(w)){if((0,t.Tn)(w)||"object"!=typeof w)return w;if(function D(S){return(0,t.a4)(S.page)&&(0,t.a4)(S.page.size)&&(0,t.a4)(S.page.totalElements)&&(0,t.a4)(S.page.totalPages)&&(0,t.a4)(S.page.number)}(w))return this.processPaginatedList(w,M,L);if(Array.isArray(w))return this.processArray(w,M);if(I(w)){const $=this.deserialize(w);return(0,t.hj)(w._embedded)&&Object.keys(w._embedded).filter(k=>w._embedded.hasOwnProperty(k)).forEach(k=>{let K=w._links[k].href;const z=N.find(V=>V.name===k);(0,t.a4)(z)&&(K=new E.t(K,`?size=${z.size}`).toString()),null==w._embedded[k]?this.addToObjectCache(null,M,w,K):I(w._embedded[k])||this.objectCache.add(w._embedded[k],(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,K),this.process(w._embedded[k],M,K)}),this.addToObjectCache($,M,w,L),$}const j={};return Object.keys(w).filter($=>w.hasOwnProperty($)).filter($=>(0,t.a4)(w[$])).forEach($=>{j[$]=this.process(w[$],M)}),j}}ensureSelfLink(w,M){const L=(0,p.tJ)(w.href);if(w.method===O.D.GET&&(0,t.a4)(M)&&(0,t.a4)(M.payload)&&(0,t.a4)(M.payload._links))if((0,t.Tn)(M.payload._links.self)||(0,t.Tn)(M.payload._links.self.href))console.warn(`The response for '${w.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}});else{const N=R(L),j=R(M.payload._links.self.href);N[0]===j[0]&&(N.some($=>!j.includes($))||j.some($=>!N.includes($)))&&(console.warn(`The response for '${L}' has the self link '${M.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}}))}return M}processPaginatedList(w,M,L){const N=this.processPageInfo(w);let j=w._embedded;(0,t.Tn)(j)?j=[]:Array.isArray(j)||(j=this.flattenSingleKeyObject(j));const $=this.processArray(j,M),k=(0,v.g)(N,$,!0,w._links);return this.addToObjectCache(k,M,w,L),k}processArray(w,M){let L=[];return w.forEach(N=>{L=[...L,this.process(N,M)]}),L}deserialize(w){const M=w.type,L=this.getConstructorFor(M);return(0,t.a4)(L)?new this.serializerConstructor(L).deserialize(w):(console.warn("cannot deserialize type "+M),null)}getConstructorFor(w){return(0,t.a4)(w)?(0,c.Qt)(w):null}addToObjectCache(w,M,L,N){if((0,t.a4)(w)&&!I(w)){const j=(0,t.a4)(L)&&(0,t.a4)(L.type)?L.type:"object";let $;return $=(0,t.a4)(L._embedded)?JSON.stringify(Object.assign({},L,{_embedded:"..."})):JSON.stringify(L),void console.warn(`Can't cache incomplete ${j}: ${JSON.stringify(w)}, parsed from (partial) response: ${$}`)}(0,t.a4)(w)&&N===w._links.self.href&&(N=void 0),this.objectCache.add(w,(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,N)}processPageInfo(w){if((0,t.a4)(w.page)){const M=new m.T(y.Q).deserialize(w.page);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(w){const M=Object.keys(w);if(1!==M.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(w)}`);return w[M[0]]}isSuccessStatus(w){return w>=200&&w<300}static{this.\u0275fac=function(M){return new(M||S)(C.KVO(e.$))}}static{this.\u0275prov=C.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},67685:(U,b,n)=>{"use strict";n.d(b,{f:()=>D});var i=n(25558),t=n(96354),c=n(96697),e=n(57775),f=n(81948),m=n(7094),p=n(4093),y=n(90066),E=n(88667),v=n(60796),O=n(88392),C=n(3601),I=n(54438);let D=(()=>{class R extends y.L{constructor(S,T,w,M,L){super("entitytypes",S,T,w,M),this.requestService=S,this.rdbService=T,this.objectCache=w,this.halService=M,this.relationshipTypeService=L,this.findAllData=new E.H(this.linkPath,S,T,w,M,this.responseMsToLive),this.searchData=new v.X(this.linkPath,S,T,w,M,this.responseMsToLive)}getBrowseEndpoint(S,T){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(S){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(T=>this.halService.getEndpoint("relationshiptypes",`${T}/${S}`)))}isLeftType(S,T){return S.leftType.pipe((0,p.yd)(),(0,p.Bo)(),(0,t.T)(w=>w.uuid===T.uuid))}getAllAuthorizedRelationshipType(S={}){return this.searchBy("findAllByAuthorizedCollection",S).pipe((0,p.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(T=>{let w;return w=!!T.payload&&T.payload.page.length>1,w}))}getAllAuthorizedRelationshipTypeImport(S={}){return this.searchBy("findAllByAuthorizedExternalSource",S).pipe((0,p.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,c.s)(1),(0,t.T)(T=>T?.payload?.totalElements>1))}getEntityTypeRelationships(S,T=!0,w=!0,...M){const L=this.getRelationshipTypesEndpoint(S);return this.relationshipTypeService.findListByHref(L,void 0,T,w,...M)}getEntityTypeByLabel(S){return this.halService.getEndpoint(this.linkPath).pipe((0,c.s)(1),(0,i.n)(T=>this.findByHref(T+"/label/"+S)))}findAll(S,T,w,...M){return this.findAllData.findAll(S,T,w,...M)}searchBy(S,T,w,M,...L){return this.searchData.searchBy(S,T,w,M,...L)}static{this.\u0275fac=function(T){return new(T||R)(I.KVO(C.B),I.KVO(e.o),I.KVO(f.$),I.KVO(m.Y),I.KVO(O.RelationshipTypeDataService))}}static{this.\u0275prov=I.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},58866:(U,b,n)=>{"use strict";n.d(b,{Q:()=>I});var i=n(96354),t=n(25558),c=n(23294),e=n(96697),f=n(89777),m=n(57775),p=n(81948),y=n(7094),E=n(20881),v=n(60796),O=n(3601),C=n(54438);let I=(()=>{class D extends E.W{constructor(h,S,T,w){super("externalsources",h,S,T,w),this.requestService=h,this.rdbService=S,this.objectCache=T,this.halService=w,this.searchData=new v.X(this.linkPath,h,S,T,w,this.responseMsToLive)}getBrowseEndpoint(h={},S=this.linkPath){return this.halService.getEndpoint(S)}getEntriesEndpoint(h){return this.getBrowseEndpoint().pipe((0,i.T)(S=>this.getIDHref(S,h)),(0,t.n)(S=>this.halService.getEndpoint("entries",S)))}getExternalSourceEntries(h,S,T=!0,w=!0,...M){const L=this.getEntriesEndpoint(h).pipe((0,f.VT)(),(0,c.F)(),(0,i.T)(N=>(0,f.a4)(S)?S.toRestUrl(N):N),(0,e.s)(1));return this.hasCachedErrorResponse(L).pipe((0,t.n)(N=>this.findListByHref(L,void 0,!N,w,...M)))}searchBy(h,S,T,w,...M){return this.searchData.searchBy(h,S,T,w,...M)}static{this.\u0275fac=function(S){return new(S||D)(C.KVO(O.B),C.KVO(m.o),C.KVO(p.$),C.KVO(y.Y))}}static{this.\u0275prov=C.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},11873:(U,b,n)=>{"use strict";n.r(b),n.d(b,{AuthorizationDataService:()=>j});var i=n(7673),t=n(96354),c=n(99437),e=n(25558),f=n(89777),m=n(4600),p=n(57775),y=n(10186),E=n(81948),v=n(7094),O=n(4093),C=n(90066),I=n(60796),D=n(36343),R=n(3601),h=n(45402);class S{constructor(k,K,z){this.objectUrl=k,this.ePersonUuid=K,this.featureId=z}}var T=n(84572),N=n(54438);let j=(()=>{class $ extends C.L{constructor(K,z,V,G,X){super("authorizations",K,z,V,G),this.requestService=K,this.rdbService=z,this.objectCache=V,this.halService=G,this.siteService=X,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new I.X(this.linkPath,K,z,V,G,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(K,z,V,G=!0,X=!0){return this.searchByObject(K,z,V,{},G,X,(0,m.s)("feature")).pipe((0,O.qD)(),(0,t.T)(J=>401!==J.statusCode&&(0,f.a4)(J.payload)&&(0,f.hj)(J.payload.page)?J.payload.page:[]),(0,c.W)(()=>(0,i.of)([])),($=>k=>k.pipe((0,e.n)(K=>(0,f.hj)(K)?(0,T.z)([...K.filter(z=>(0,f.a4)(z.feature)).map(z=>z.feature.pipe((0,O.ak)()))]):(0,i.of)([])),(0,t.T)(K=>K.filter(z=>z.id===$.valueOf()).length>0)))(K))}searchByObject(K,z,V,G={},X=!0,J=!0,...q){const ne=(0,i.of)(z).pipe((0,e.n)(fe=>(0,f.Tn)(fe)?this.siteService.find().pipe((0,t.T)(ye=>ye.self)):(0,i.of)(fe))),ee=ne.pipe((0,t.T)(fe=>new S(fe,V,K)),(0,e.n)(fe=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(fe.objectUrl,G,fe.ePersonUuid,fe.featureId),X,J,...q)));return this.addDependency(ee,ne),ee}createSearchOptions(K,z={},V,G){let X=[];return(0,f.hj)(z.searchParams)&&(X=[...z.searchParams]),X.push(new y.x("uri",K,!1)),(0,f.a4)(G)&&X.push(new y.x("feature",G)),(0,f.a4)(V)&&X.push(new y.x("eperson",V)),Object.assign(new D._,z,{searchParams:[...X]})}searchBy(K,z,V,G,...X){return this.searchData.searchBy(K,z,V,G,...X)}static{this.\u0275fac=function(z){return new(z||$)(N.KVO(R.B),N.KVO(p.o),N.KVO(E.$),N.KVO(v.Y),N.KVO(h.SiteDataService))}}static{this.\u0275prov=N.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},54761:(U,b,n)=>{"use strict";n.d(b,{i:()=>e});var i=n(7673),t=n(6170);const e=(0,n(61457).L)(()=>(0,i.of)(t._.CanManageGroups))},61457:(U,b,n)=>{"use strict";n.d(b,{L:()=>c});var i=n(96354),t=n(8245);const c=(e,f,m)=>(0,t.h)((p,y)=>e(p,y).pipe((0,i.T)(E=>[E])),f,m)},42657:(U,b,n)=>{"use strict";n.d(b,{Y:()=>e});var i=n(7673),t=n(6170);const e=(0,n(61457).L)(()=>(0,i.of)(t._.AdministratorOf))},8245:(U,b,n)=>{"use strict";n.d(b,{h:()=>v});var i=n(54438),t=n(7901),c=n(7673),e=n(84572),f=n(25558),m=n(94196),p=n(19548),y=n(11873);const E=()=>(0,c.of)(void 0),v=(O,C=E,I=E)=>(D,R)=>{const h=(0,i.WQX)(y.AuthorizationDataService),S=(0,i.WQX)(t.Ix),T=(0,i.WQX)(m.uR);return(0,e.z)([O(D,R),C(D,R),I(D,R)]).pipe((0,f.n)(([w,M,L])=>(0,e.z)(w.map(N=>h.isAuthorized(N,M,L)))),(0,p.ci)(S,T,R.url))}},6170:(U,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},36343:(U,b,n)=>{"use strict";n.d(b,{_:()=>i});class i{}},82245:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HrefOnlyDataService:()=>p});var i=n(57775),t=n(81948),c=n(7094),e=n(90066),f=n(3601),m=n(54438);let p=(()=>{class y{constructor(v,O,C,I){this.requestService=v,this.rdbService=O,this.objectCache=C,this.halService=I,this.dataService=new e.L(void 0,v,O,C,I)}findByHref(v,O=!0,C=!0,...I){return this.dataService.findByHref(v,O,C,...I)}findListByHref(v,O={},C=!0,I=!0,...D){return this.dataService.findListByHref(v,O,C,I,...D)}static{this.\u0275fac=function(O){return new(O||y)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},61206:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BaseItemDataService:()=>K,ItemDataService:()=>z});var i=n(21626),t=n(5964),c=n(96354),e=n(23294),f=n(25558),m=n(96697),p=n(47677),y=n(89777),E=n(9847),v=n(57168),O=n(57775),C=n(81948),I=n(7094),D=n(85426),R=n(5127),h=n(18328),S=n(72073),T=n(20881),w=n(4318),M=n(37419),L=n(73054),N=n(49755),j=n(3601),$=n(74642),k=n(54438);class K extends T.W{constructor(G,X,J,q,ne,ee,fe,ye,oe,ue=(te,se)=>`${te}/${se}`){super(G,X,J,q,ne,void 0,ue),this.linkPath=G,this.requestService=X,this.rdbService=J,this.objectCache=q,this.halService=ne,this.notificationsService=ee,this.comparator=fe,this.browseService=ye,this.bundleService=oe,this.constructIdEndpoint=ue,this.createData=new h.V(this.linkPath,X,J,q,ne,ee,this.responseMsToLive),this.patchData=new w.n(this.linkPath,X,J,q,ne,fe,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new S.I(this.linkPath,X,J,q,ne,ee,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(G={},X=this.linkPath){let J="dc.date.issued";return G.sort&&G.sort.field&&(J=G.sort.field),this.browseService.getBrowseURLFor(J,X).pipe((0,t.p)(q=>(0,y.hj)(q)),(0,c.T)(q=>new R.t(q,`?scope=${G.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(G,X){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(J=>this.getIDHref(J,G)),(0,c.T)(J=>`${J}/mappedCollections${X?`/${X}`:""}`))}removeMappingFromCollection(G,X){return this.getMappedCollectionsEndpoint(G,X).pipe((0,y.VT)(),(0,e.F)(),(0,c.T)(J=>new N.$(this.requestService.generateRequestId(),J)),(0,D.w$)(this.requestService),(0,f.n)(J=>this.rdbService.buildFromRequestUUID(J.uuid)))}mapToCollection(G,X){return this.getMappedCollectionsEndpoint(G).pipe((0,y.VT)(),(0,e.F)(),(0,c.T)(J=>{const q=Object.create({});let ne=new i.Lr;return ne=ne.append("Content-Type","text/uri-list"),q.headers=ne,new N.Qf(this.requestService.generateRequestId(),J,X,q)}),(0,D.w$)(this.requestService),(0,f.n)(J=>this.rdbService.buildFromRequestUUID(J.uuid)))}setWithDrawn(G,X){const J={op:"replace",path:"/withdrawn",value:X};return this.requestService.removeByHrefSubstring("/discover"),this.patch(G,[J])}setDiscoverable(G,X){const J={op:"replace",path:"/discoverable",value:X};return this.requestService.removeByHrefSubstring("/discover"),this.patch(G,[J])}getBundlesEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(X=>this.halService.getEndpoint("bundles",`${X}/${G}`)))}getBundles(G,X){const J=this.getBundlesEndpoint(G).pipe((0,c.T)(q=>X?X.toRestUrl(q):q));return J.pipe((0,m.s)(1)).subscribe(q=>{const ne=new N.IP(this.requestService.generateRequestId(),q);this.requestService.send(ne)}),this.rdbService.buildList(J)}createBundle(G,X,J){const q=this.requestService.generateRequestId(),ne=this.getBundlesEndpoint(G),ee={name:X,metadata:J||{}};return ne.pipe((0,m.s)(1)).subscribe(fe=>{const ye=Object.create({});let oe=new i.Lr;oe=oe.append("Content-Type","application/json"),ye.headers=oe;const ue=new N.Qf(q,fe,JSON.stringify(ee),ye);this.requestService.send(ue)}),this.rdbService.buildFromRequestUUID(q)}getIdentifiersEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(X=>this.halService.getEndpoint("identifiers",`${X}/${G}`)))}getMoveItemEndpoint(G,X){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(J=>this.getIDHref(J,G)),(0,c.T)(J=>`${J}/owningCollection?inheritPolicies=${X}`))}moveToCollection(G,X,J){const q=Object.create({});let ne=new i.Lr;ne=ne.append("Content-Type","text/uri-list"),q.headers=ne;const ee=this.requestService.generateRequestId();return this.getMoveItemEndpoint(G,J).pipe((0,p.I)(ye=>(0,y.a4)(ye)),(0,c.T)(ye=>{const oe=new N.v_(ee,ye,X._links.self.href,q);return Object.assign(oe,{getResponseParser:()=>$.M}),oe})).subscribe(ye=>{this.requestService.send(ye)}),this.rdbService.buildFromRequestUUID(ee)}importExternalSourceEntry(G,X){const J=Object.create({});let q=new i.Lr;q=q.append("Content-Type","text/uri-list"),J.headers=q;const ne=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(fe=>`${fe}?owningCollection=${X}`)).pipe((0,p.I)(fe=>(0,y.a4)(fe)),(0,c.T)(fe=>{const ye=new N.Qf(ne,fe,G._links.self.href,J);this.requestService.send(ye)})).subscribe(),this.rdbService.buildFromRequestUUID(ne)}getBitstreamsEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(X=>this.halService.getEndpoint("bitstreams",`${X}/${G}`)))}invalidateItemCache(G){this.requestService.setStaleByHrefSubstring("item/"+G)}commitUpdates(G){this.patchData.commitUpdates(G)}patch(G,X){return this.patchData.patch(G,X)}update(G){return this.patchData.update(G)}createPatchFromCache(G){return this.patchData.createPatchFromCache(G)}delete(G,X){return this.deleteData.delete(G,X)}deleteByHref(G,X){return this.deleteData.deleteByHref(G,X)}create(G,...X){return this.createData.create(G,...X)}}let z=(()=>{class V extends K{constructor(X,J,q,ne,ee,fe,ye,oe){super("items",X,J,q,ne,ee,fe,ye,oe),this.requestService=X,this.rdbService=J,this.objectCache=q,this.halService=ne,this.notificationsService=ee,this.comparator=fe,this.browseService=ye,this.bundleService=oe}static{this.\u0275fac=function(J){return new(J||V)(k.KVO(j.B),k.KVO(O.o),k.KVO(C.$),k.KVO(I.Y),k.KVO(E.I),k.KVO(L.j),k.KVO(v.q),k.KVO(M.BundleDataService))}}static{this.\u0275prov=k.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},68841:(U,b,n)=>{"use strict";n.d(b,{c:()=>V});var i=n(92771),t=n(30017),c=n(98071),e=n(21413),f=n(58750),m=n(39974),p=n(71985);const E={connector:()=>new e.B};var C=n(77048),I=n(79131),D=n(9326),R=n(22806),S=n(96697),T=n(96354),w=n(99172),M=n(23294),L=n(8417),N=n(30726),j=n(4093),$=n(40645),k=n(58866),K=n(3601),z=n(54438);let V=(()=>{class G{constructor(J,q,ne){this.externalSourceService=J,this.searchService=q,this.requestService=ne,this.singleResultOptions=Object.assign(new L.W,{id:"single-result-options",pageSize:1})}getLocalResults(J,q,ne=!0){const ee=Object.assign(new N.C({}),q,{fixedFilter:J.filter,configuration:J.searchConfiguration});return ne&&(this.searchConfig=ee),this.searchService.search(ee).pipe(function O(G,X){const J=(0,c.T)(G)?G:()=>G;return(0,c.T)(X)?function v(G,X=E){const{connector:J}=X;return(0,m.N)((q,ne)=>{const ee=J();(0,f.Tg)(G(function y(G){return new p.c(X=>G.subscribe(X))}(ee))).subscribe(ne),ne.add(q.subscribe(ee))})}(X,{connector:J}):q=>new t.G(q,J)}(()=>new i.m(1),fe=>fe.pipe((0,C.v)(ye=>ye.isLoading),function h(...G){const X=(0,D.lI)(G);return(0,m.N)((J,q)=>{(0,I.K)()((0,R.H)([J,...G],X)).subscribe(q)})}(fe.pipe((0,S.s)(1))))))}getTotalLocalResults(J,q){return this.getLocalResults(J,Object.assign(new N.C({}),q,{pagination:this.singleResultOptions}),!1).pipe((0,j.v7)(),(0,j.Bo)(),(0,T.T)(ne=>ne.totalElements),(0,w.Z)(0))}getTotalExternalResults(J,q){return this.externalSourceService.getExternalSourceEntries(J.id,Object.assign(new N.C({}),q,{pagination:this.singleResultOptions})).pipe((0,j.v7)(),(0,j.Bo)(),(0,T.T)(ne=>ne.totalElements),(0,w.Z)(0),(0,M.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(J=>this.requestService.removeByHrefSubstring(J))}static{this.\u0275fac=function(q){return new(q||G)(z.KVO(k.Q),z.KVO($.S),z.KVO(K.B))}}static{this.\u0275prov=z.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},3079:(U,b,n)=>{"use strict";n.d(b,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},94289:(U,b,n)=>{"use strict";n.d(b,{Ft:()=>t,KD:()=>m,S3:()=>v,XO:()=>e,Y8:()=>y,g$:()=>c,jX:()=>E,mW:()=>C,nY:()=>f,wS:()=>p,zJ:()=>O});var i=n(6800);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class c{constructor(D,R,h,S){this.type=t.INITIALIZE_FIELDS,this.payload={url:D,fields:R,lastModified:h,patchOperationService:S}}}class e{constructor(D,R,h){this.type=t.ADD_FIELD,this.payload={url:D,field:R,changeType:h}}}class f{constructor(D,R,h,S){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:D,source:R,uuid:h,select:S}}}class m{constructor(D,R,h){this.type=t.SET_EDITABLE_FIELD,this.payload={url:D,uuid:R,editable:h}}}class p{constructor(D,R,h){this.type=t.SET_VALID_FIELD,this.payload={url:D,uuid:R,isValid:h}}}class y{constructor(D,R,h=!1){this.type=t.DISCARD,this.payload={url:D,notification:R,discardAll:h}}}class E{constructor(D){this.type=t.REINSTATE,this.payload={url:D}}}class v{constructor(D){this.type=t.REMOVE,this.payload={url:D}}}class O{constructor(){this.type=t.REMOVE_ALL}}class C{constructor(D,R){this.type=t.REMOVE_FIELD,this.payload={url:D,uuid:R}}}},96266:(U,b,n)=>{"use strict";n.d(b,{O:()=>y,U:()=>e});var i=n(89777),t=n(3079),c=n(94289);const e="/trash",f={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},p=Object.create(null);function y(j=p,$){switch($.type){case c.Ft.INITIALIZE_FIELDS:return function E(j,$){const k=$.payload.url,z=$.payload.lastModified,V=$.payload.patchOperationService,G=function N(j){const $=j.map(K=>K.uuid),k={};return $.forEach(K=>k[K]=f),k}($.payload.fields),X=Object.assign({},j[k],{fieldStates:G},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:z},{patchOperationService:V});return Object.assign({},j,{[k]:X})}(j,$);case c.Ft.ADD_FIELD:return function v(j,$){const k=$.payload.url,K=$.payload.field,z=$.payload.changeType,V=j[k]||{fieldUpdates:{}};let G=V.fieldStates;z===t.B.ADD&&(G=Object.assign({},{[K.uuid]:m},V.fieldStates));let X=V.fieldUpdates[K.uuid]||{};const J=function w(j,$){return(0,i.Tn)($)?j:(0,i.Tn)(j)?$:j.valueOf()>$.valueOf()?j:$}(X.changeType,z);X=Object.assign({},{field:K,changeType:J});const q=Object.assign({},V.fieldUpdates,{[K.uuid]:X}),ne=Object.assign({},V,{fieldStates:G},{fieldUpdates:q});return Object.assign({},j,{[k]:ne})}(j,$);case c.Ft.SELECT_VIRTUAL_METADATA:return function O(j,$){const k=$.payload.url,K=$.payload.source,z=$.payload.uuid,V=$.payload.select,G=j[k]||{},X=Object.assign({},G.virtualMetadataSources[K],{[z]:V}),J=Object.assign({},G.virtualMetadataSources,{[K]:X}),q=Object.assign({},G,{virtualMetadataSources:J});return Object.assign({},j,{[k]:q})}(j,$);case c.Ft.DISCARD:return function C(j,$){if($.payload.discardAll){let k=Object.assign({},j);return Object.keys(j).filter(K=>!K.endsWith(e)).forEach(K=>{k=I(K,k)}),k}return I($.payload.url,j)}(j,$);case c.Ft.REINSTATE:return function D(j,$){const k=$.payload.url,K=j[k+e],z=Object.assign({},j,{[k]:K});return delete z[k+e],z}(j,$);case c.Ft.REMOVE:return function R(j,$){return function h(j,$){const k=Object.assign({},j);return delete k[$+e],k}(j,$.payload.url)}(j,$);case c.Ft.REMOVE_ALL:return function S(j){const $=Object.assign({},j);return Object.keys(j).filter(k=>k.endsWith(e)).forEach(k=>{delete $[k]}),$}(j);case c.Ft.REMOVE_FIELD:return function T(j,$){const k=$.payload.url,K=$.payload.uuid;let z=j[k];if((0,i.a4)(z)){const V=Object.assign({},z.fieldUpdates);(0,i.a4)(V[K])&&delete V[K];const G=Object.assign({},z.fieldStates);(0,i.a4)(G[K])&&(G[K].isNew?delete G[K]:G[K]=Object.assign({},G[K],{editable:!1,isValid:!0})),z=Object.assign({},j[k],{fieldUpdates:V,fieldStates:G})}return Object.assign({},j,{[k]:z})}(j,$);case c.Ft.SET_EDITABLE_FIELD:return function M(j,$){const k=$.payload.url,K=$.payload.uuid,V=j[k],X=Object.assign({},V.fieldStates[K],{editable:$.payload.editable}),J=Object.assign({},V.fieldStates,{[K]:X}),q=Object.assign({},V,{fieldStates:J});return Object.assign({},j,{[k]:q})}(j,$);case c.Ft.SET_VALID_FIELD:return function L(j,$){const k=$.payload.url,K=$.payload.uuid,V=j[k],X=Object.assign({},V.fieldStates[K],{isValid:$.payload.isValid}),J=Object.assign({},V.fieldStates,{[K]:X}),q=Object.assign({},V,{fieldStates:J});return Object.assign({},j,{[k]:q})}(j,$);default:return j}}function I(j,$){const k=$[j],K={};Object.keys(k.fieldStates).forEach(V=>{const G=k.fieldStates[V];G.isNew||(K[V]=Object.assign({},G,{editable:!1,isValid:!0}))});const z=Object.assign({},k,{fieldUpdates:{},fieldStates:K});return Object.assign({},$,{[j]:z},{[j+e]:k})}},58956:(U,b,n)=>{"use strict";n.d(b,{O:()=>O,g:()=>v});var i=n(31635),t=n(74850),c=n(89777),e=n(72153),f=n(56538),m=n(73409),p=n(44043),y=n(94152),E=n(66946);const v=(C,I,D=!1,R)=>{const h=new O;let S;return(0,c.Tn)(C)&&(C=new m.Q),h.pageInfo=C,(0,c.Im)(I)?S=[]:(S=I.map(T=>(0,c.a4)(T)&&(0,c.a4)(T._links)&&(0,c.a4)(T._links.self)?T._links.self:null),S.every(T=>(0,c.Tn)(T))&&(S=void 0)),h._links=Object.assign({},R,C._links,{page:S}),(!D||(0,c.b0)(S))&&(h.page=I),h};let O=class extends f.I{constructor(){super(...arguments),this.type=E.v}static{this.type=E.v}get elementsPerPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(I){this.pageInfo.elementsPerPage=I}get totalElements(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(I){this.pageInfo.totalElements=I}get totalPages(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(I){this.pageInfo.totalPages=I}get currentPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(I){this.pageInfo.currentPage=I}get first(){if((0,c.a4)(this._links.first)&&(0,c.a4)(this._links.first.href))return this._links.first.href}set first(I){this._links.first={href:I},this.pageInfo._links.first={href:I}}get prev(){if((0,c.a4)(this._links.prev)&&(0,c.a4)(this._links.prev.href))return this._links.prev.href}set prev(I){this._links.prev={href:I},this.pageInfo._links.prev={href:I}}get next(){if((0,c.a4)(this._links.next)&&(0,c.a4)(this._links.next.href))return this._links.next.href}set next(I){this._links.next={href:I},this.pageInfo._links.next={href:I}}get last(){if((0,c.a4)(this._links.last)&&(0,c.a4)(this._links.last.href))return this._links.last.href}set last(I){this._links.last={href:I},this.pageInfo._links.last={href:I}}get self(){return this._links.self.href}set self(I){this._links.self={href:I},this.pageInfo._links.self={href:I}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([y.aK,(0,i.Sn)("design:type",Object)],O.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",p.v)],O.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],O.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),O=(0,i.Cg)([e.gV],O)},66946:(U,b,n)=>{"use strict";n.d(b,{v:()=>t});const t=new(n(44043).v)("paginated-list")},60696:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BATCH_EXPORT_SCRIPT_NAME:()=>S,BATCH_IMPORT_SCRIPT_NAME:()=>h,METADATA_EXPORT_SCRIPT_NAME:()=>R,METADATA_IMPORT_SCRIPT_NAME:()=>D,ScriptDataService:()=>T});var i=n(96697),t=n(96354),c=n(89777),e=n(57775),f=n(81948),m=n(7094),p=n(4093),y=n(5127),E=n(88667),v=n(20881),O=n(49755),C=n(3601),I=n(54438);const D="metadata-import",R="metadata-export",h="import",S="export";let T=(()=>{class w extends v.W{constructor(L,N,j,$){super("scripts",L,N,j,$),this.requestService=L,this.rdbService=N,this.objectCache=j,this.halService=$,this.findAllData=new E.H(this.linkPath,L,N,j,$,this.responseMsToLive)}invoke(L,N,j){const $=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(k=>new y.t(k,L,"processes").toString()),(0,t.T)(k=>{const K=this.getInvocationFormData(N,j);return new O.E0($,k,K)})).subscribe(k=>this.requestService.send(k)),this.rdbService.buildFromRequestUUID($)}getInvocationFormData(L,N){const j=new FormData;return j.set("properties",JSON.stringify(L)),N.forEach($=>{j.append("file",$)}),j}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,p.qD)(),(0,t.T)(N=>(0,c.a4)(N.payload)))}findAll(L,N,j,...$){return this.findAllData.findAll(L,N,j,...$)}static{this.\u0275fac=function(N){return new(N||w)(I.KVO(C.B),I.KVO(e.o),I.KVO(f.$),I.KVO(m.Y))}}static{this.\u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},87433:(U,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipDataService:()=>re});var i=n(21626),t=n(59640),c=n(84572),e=n(7673),f=n(96354),m=n(96697),p=n(23294),y=n(25558),E=n(88141),v=n(5964),O=n(99172),C=n(73028),I=n(79096),D=n(23679),R=n(34068),h=n(89777),S=n(19209),T=n(4600),w=n(89856),M=n(57775),L=n(10186),N=n(81948),j=n(75082),$=n(7094),k=n(9575),K=n(66290),z=n(60032),V=n(4093),G=n(85426),X=n(20881),J=n(53271),q=n(60796),ne=n(36343),ee=n(61206),fe=n(49755),ye=n(3601),oe=n(85186),ue=n(54438);const te=Z=>Z.relationshipLists,se=Z=>(0,D.pc)(Z,te),me=Z=>le=>le.pipe((0,V.ak)(),(0,f.T)(ce=>ce.uuid===Z.uuid));let re=(()=>{class Z extends X.W{constructor(ce,ve,ze,Se,et,$e,st,We,De){super("relationships",ce,ve,Se,ze,9e5),this.requestService=ce,this.rdbService=ve,this.halService=ze,this.objectCache=Se,this.metadataService=et,this.itemService=$e,this.appStore=st,this.paginatedRelationsToItems=We,this.appConfig=De,this.searchData=new q.X(this.linkPath,ce,ve,Se,ze,this.responseMsToLive),this.putData=new J.W(this.linkPath,ce,ve,Se,ze,this.responseMsToLive)}getRelationshipEndpoint(ce){return this.getBrowseEndpoint().pipe((0,f.T)(ve=>`${ve}/${ce}`))}deleteRelationship(ce,ve,ze=!0){return this.getRelationshipEndpoint(ce).pipe((0,h.VT)(),(0,m.s)(1),(0,p.F)(),(0,f.T)(Se=>new fe.$(this.requestService.generateRequestId(),Se+"?copyVirtualMetadata="+ve)),(0,G.w$)(this.requestService),(0,y.n)(Se=>this.rdbService.buildFromRequestUUID(Se.uuid)),(0,V.qD)(),(0,E.M)(()=>{ze&&this.refreshRelationshipItemsInCacheByRelationship(ce)}))}addRelationship(ce,ve,ze,Se,et,$e=!0){const st=Object.create({});let We=new i.Lr;return We=We.append("Content-Type","text/uri-list"),st.headers=We,this.halService.getEndpoint(this.linkPath).pipe((0,h.VT)(),(0,m.s)(1),(0,f.T)(De=>`${De}?relationshipType=${ce}`),(0,f.T)(De=>(0,h.hj)(Se)?`${De}&leftwardValue=${Se}`:De),(0,f.T)(De=>(0,h.hj)(et)?`${De}&rightwardValue=${et}`:De),(0,f.T)(De=>new fe.Qf(this.requestService.generateRequestId(),De,`${ve.self} \n ${ze.self}`,st)),(0,G.w$)(this.requestService),(0,y.n)(De=>this.rdbService.buildFromRequestUUID(De.uuid)),(0,V.qD)(),(0,E.M)(()=>{$e&&(this.refreshRelationshipItemsInCache(ve),this.refreshRelationshipItemsInCache(ze))}))}refreshRelationshipItemsInCacheByRelationship(ce){this.findById(ce,!0,!1,(0,T.s)("leftItem"),(0,T.s)("rightItem")).pipe((0,V.yd)(),(0,V.Bo)(),(0,y.n)(ve=>(0,c.z)(ve.leftItem.pipe((0,V.yd)(),(0,V.Bo)()),ve.rightItem.pipe((0,V.yd)(),(0,V.Bo)()))),(0,m.s)(1)).subscribe(([ve,ze])=>{this.refreshRelationshipItemsInCache(ve),this.refreshRelationshipItemsInCache(ze)})}refreshRelationshipItemsInCache(ce){this.objectCache.remove(ce._links.self.href),this.requestService.removeByHrefSubstring(ce.uuid),(0,c.z)([this.objectCache.hasByHref$(ce._links.self.href),this.requestService.hasByHref$(ce.self)]).pipe((0,v.p)(([ve,ze])=>!ve&&!ze),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(ce._links.self.href))}getItemRelationshipsArray(ce,...ve){return this.findListByHref(ce._links.relationships.href,void 0,!0,!1,...ve).pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)(ze=>ze.page),(0,h.Az)(),(0,p.F)((0,R.W2)()))}getRelationshipTypeLabelsByItem(ce){return this.getItemRelationshipsArray(ce,(0,T.s)("leftItem"),(0,T.s)("rightItem"),(0,T.s)("relationshipType")).pipe((0,y.n)(ve=>(0,c.z)(ve.map(ze=>this.getRelationshipTypeLabelByRelationshipAndItem(ze,ce)))),(0,f.T)(ve=>Array.from(new Set(ve))))}getRelationshipTypeLabelByRelationshipAndItem(ce,ve){return ce.leftItem.pipe((0,V.yd)(),(0,f.T)(ze=>ze.payload),(0,y.n)(ze=>ce.relationshipType.pipe((0,V.yd)(),(0,f.T)(Se=>Se.payload),(0,f.T)(Se=>ze.uuid===ve.uuid?Se.leftwardType:Se.rightwardType))))}getRelatedItems(ce){return this.getItemRelationshipsArray(ce,(0,T.s)("leftItem"),(0,T.s)("rightItem"),(0,T.s)("relationshipType")).pipe((0,R.NG)(ce.uuid))}getRelatedItemsByLabel(ce,ve,ze){const Se=(0,w.nW)(ze.fetchThumbnail,this.appConfig.item.showAccessStatuses);return Se.push((0,T.s)("relationshipType")),this.getItemRelationshipsByLabel(ce,ve,ze,!0,!0,...Se).pipe(this.paginatedRelationsToItems(ce.uuid))}getItemRelationshipsByLabel(ce,ve,ze,Se=!0,et=!0,...$e){let st=new ne._;ze&&(st=Object.assign(new ne._,ze));const We=[new L.x("label",ve),new L.x("dso",ce.id)];st.searchParams=st.searchParams?[...st.searchParams,...We]:We;const De=this.searchBy("byLabel",st,Se,!1,...$e);return this.addDependency(De,ce._links.self.href),De.pipe(this.reRequestStaleRemoteData(et,()=>this.getItemRelationshipsByLabel(ce,ve,ze,Se,et,...$e)))}getRelationshipsByRelatedItemIds(ce,ve){return this.getItemRelationshipsArray(ce,(0,T.s)("leftItem"),(0,T.s)("rightItem")).pipe((0,y.n)(ze=>(0,c.z)(ze.map(Se=>{const et=this.isItemInUUIDArray(Se.leftItem,ve),$e=this.isItemInUUIDArray(Se.rightItem,ve);return(0,c.z)([et,$e]).pipe((0,v.p)(([st,We])=>st||We),(0,f.T)(()=>Se),(0,O.Z)(void 0))}))),(0,f.T)(ze=>ze.filter(Se=>(0,h.a4)(Se))))}isItemInUUIDArray(ce,ve){return ce.pipe((0,V.yd)(),(0,f.T)(ze=>ze.payload),(0,f.T)(ze=>ve.includes(ze.uuid)))}getRelationshipByItemsAndLabel(ce,ve,ze,Se){return this.getItemRelationshipsByLabel(ce,ze,Se,!0,!1,(0,T.s)("relationshipType"),(0,T.s)("leftItem"),(0,T.s)("rightItem")).pipe((0,V.yd)(),(0,C.Z)(et=>et.payload.page),(0,C.Z)(et=>(0,c.z)([this.itemService.findByHref(et._links.leftItem.href).pipe(me(ve)),this.itemService.findByHref(et._links.rightItem.href).pipe(me(ve))]).pipe((0,f.T)(([$e,st])=>$e||st),(0,f.T)($e=>$e?et:void 0))),(0,v.p)(et=>(0,h.a4)(et)),(0,m.s)(1))}setNameVariant(ce,ve,ze){this.appStore.dispatch(new S.dD(ce,ve,ze))}getNameVariant(ce,ve){return this.appStore.pipe((0,t.Lt)(((Z,le)=>(0,D.pc)(le,se(Z)))(ce,ve)))}removeNameVariant(ce,ve){this.appStore.dispatch(new S.zH(ce,ve))}getNameVariantsByListID(ce){return this.appStore.pipe((0,t.Lt)(se(ce)))}updateNameVariant(ce,ve,ze,Se){return this.getRelationshipByItemsAndLabel(ce,ve,ze).pipe((0,y.n)(et=>et.relationshipType.pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)($e=>({relation:et,type:$e})))),(0,y.n)(et=>{const{relation:$e,type:st}=et;let We;return We=Object.assign(new k.b,$e,ze===st.leftwardType?{rightwardValue:Se}:{leftwardValue:Se}),this.update(We)}))}isLeftItem(ce,ve){return ce.leftItem.pipe((0,V.yd)(),(0,V.Bo)(),(0,v.p)(ze=>(0,h.a4)(ze)&&(0,h.hj)(ze.uuid)),(0,f.T)(ze=>ze.uuid===ve.uuid))}updatePlace(ce){let ve;ve=Object.assign(new k.b,ce.relationship,ce.useLeftItem?{rightPlace:ce.newIndex}:{leftPlace:ce.newIndex});const ze=this.update(ve);return ze.pipe((0,v.p)(Se=>Se.state===oe.zE.ResponsePending),(0,m.s)(1)).subscribe(Se=>{Se.state===oe.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(ce.relationship.id)}),ze}update(ce){return this.putData.put(ce)}searchByItemsAndType(ce,ve,ze,Se){const et=[new L.x("typeId",ce),new L.x("focusItem",ve),new L.x("relationshipLabel",ze),new L.x("size",Se.length),new L.x("embed","leftItem"),new L.x("embed","rightItem")];Se.forEach(st=>{et.push(new L.x("relatedItem",st))});const $e=this.searchBy("byItemsAndType",{searchParams:et});return Se.forEach(st=>{this.addDependency($e,this.itemService.getIDHrefObs(encodeURIComponent(st)))}),$e}searchBy(ce,ve,ze,Se,...et){return this.searchData.searchBy(ce,ve,ze,Se,...et)}resolveMetadataRepresentation(ce,ve,ze){return this.metadataService.isVirtual(ce)?this.findById(this.metadataService.virtualValue(ce),!0,!1,(0,T.s)("leftItem"),(0,T.s)("rightItem")).pipe((0,V.yd)(),(0,y.n)(Se=>(0,c.z)(Se.payload.leftItem,Se.payload.rightItem).pipe((0,v.p)(([et,$e])=>et.hasCompleted&&$e.hasCompleted),(0,f.T)(([et,$e])=>et.hasSucceeded&&$e.hasSucceeded?$e.hasSucceeded&&et.payload.id===ve.id?$e.payload:$e.payload.id===ve.id?et.payload:void 0:null),(0,f.T)(et=>(0,h.a4)(et)?Object.assign(new K.y(ce),et):Object.assign(new z.Q(ze),ce))))):(0,e.of)(Object.assign(new z.Q(ze),ce))}static{this.\u0275fac=function(ve){return new(ve||Z)(ue.KVO(ye.B),ue.KVO(M.o),ue.KVO($.Y),ue.KVO(N.$),ue.KVO(j.T),ue.KVO(ee.ItemDataService),ue.KVO(t.il),ue.KVO(R.ky),ue.KVO(I.vQ))}}static{this.\u0275prov=ue.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},88392:(U,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipTypeDataService:()=>w});var i=n(84572),t=n(25558),c=n(73028),e=n(56594),f=n(96354),m=n(89777),p=n(4600),y=n(57775),E=n(10186),v=n(81948),O=n(7094),C=n(4093),I=n(90066),D=n(88667),R=n(60796),h=n(3601),S=n(54438);const T=(M,L)=>M.hasSucceeded&&M.payload.label===L;let w=(()=>{class M extends I.L{constructor(N,j,$,k){super("relationshiptypes",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.searchData=new R.X(this.linkPath,N,j,$,k,this.responseMsToLive),this.findAllData=new D.H(this.linkPath,N,j,$,k,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(N,j,$){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,p.s)("leftType"),(0,p.s)("rightType")).pipe((0,C.yd)(),(0,t.n)(k=>k.payload.page),(0,c.Z)(k=>k.leftwardType===N?this.checkType(k,j,$):k.rightwardType===N?this.checkType(k,$,j):[null]),(0,e.$)(),(0,f.T)(k=>{const K=k.find(z=>(0,m.a4)(z));return(0,m.a4)(K)?K:null}))}checkType(N,j,$){return(0,i.z)([N.leftType.pipe((0,C.qD)()),N.rightType.pipe((0,C.qD)())]).pipe((0,f.T)(([k,K])=>T(k,j)&&T(K,$)?N:null))}searchByEntityType(N,j=!0,$=!0,...k){return this.searchData.searchBy("byEntityType",{searchParams:[new E.x("type",N),new E.x("size",100)]},j,$,...k).pipe((0,C.yd)(),(0,C.Bo)())}static{this.\u0275fac=function(j){return new(j||M)(S.KVO(h.B),S.KVO(y.o),S.KVO(v.$),S.KVO(O.Y))}}static{this.\u0275prov=S.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},25788:(U,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(85186);class t{constructor(e,f,m,p,y,E,v){this.timeCompleted=e,this.msToLive=f,this.lastUpdated=m,this.state=p,this.errorMessage=y,this.payload=E,this.statusCode=v}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},85186:(U,b,n)=>{"use strict";n.d(b,{DB:()=>t,DF:()=>m,QO:()=>I,Uj:()=>C,VP:()=>E,WN:()=>v,bJ:()=>c,oJ:()=>e,uN:()=>f,vT:()=>p,yO:()=>O,zE:()=>i});var i=function(D){return D.RequestPending="RequestPending",D.ResponsePending="ResponsePending",D.Error="Error",D.Success="Success",D.ResponsePendingStale="ResponsePendingStale",D.ErrorStale="ErrorStale",D.SuccessStale="SuccessStale",D}(i||{});const t=D=>D===i.RequestPending,c=D=>D===i.Error,e=D=>D===i.Success,f=D=>D===i.ErrorStale,m=D=>D===i.SuccessStale,p=D=>D===i.ResponsePending,y=D=>D===i.ResponsePendingStale,E=D=>t(D)||p(D)||y(D),v=D=>{if(!E(D))return c(D)||f(D)},O=D=>{if(!E(D))return e(D)||m(D)},C=D=>!E(D),I=D=>y(D)||m(D)||f(D)},88884:(U,b,n)=>{"use strict";n.d(b,{G:()=>i});class i extends Error{}},51553:(U,b,n)=>{"use strict";n.d(b,{Di:()=>m,Gl:()=>p,HL:()=>y,PW:()=>f,cX:()=>E,tO:()=>t,uw:()=>e});var i=n(6800);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class c{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends c{constructor(C){super(),this.type=t.CONFIGURE,this.payload=C}}class f extends c{constructor(C){super(),this.type=t.EXECUTE,this.payload=C}}class m extends c{constructor(C,I,D,R){super(),this.type=t.SUCCESS,this.payload={uuid:C,timeCompleted:(new Date).getTime(),statusCode:I,link:D,unCacheableObject:R}}}class p extends c{constructor(C,I,D){super(),this.type=t.ERROR,this.payload={uuid:C,timeCompleted:(new Date).getTime(),statusCode:I,errorMessage:D}}}class y extends c{constructor(C){super(),this.type=t.STALE,this.payload={uuid:C}}}class E{constructor(C){this.type=t.RESET_TIMESTAMPS,this.payload=C}}},49755:(U,b,n)=>{"use strict";n.d(b,{FQ:()=>oe,IL:()=>le,QU:()=>Z,Dk:()=>ve,$:()=>ne,ld:()=>te,IP:()=>G,Wx:()=>z,E0:()=>J,WP:()=>et,EA:()=>ye,Qf:()=>X,v_:()=>q,Rn:()=>be,e$:()=>me,aY:()=>re,Iu:()=>se,_w:()=>Se,$I:()=>ze,xu:()=>ce});var i=n(74242),t=n(81948),c=n(76456),e=n(84202),f=n(54438);let m=(()=>{class $e extends e.aE{constructor(We){super(),this.objectCache=We,this.toCache=!1}parse(We,De){if(this.isSuccessStatus(De.statusCode))return new c.hT(De.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(De){return new(De||$e)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var p=n(89777),y=n(35953),E=n(58771),v=n(80033),O=n(34621),C=n(62571),I=n(83800),D=n(61806),R=n(81640);let h=(()=>{class $e extends R.D3{constructor(We){super(We),this.objectCache=We}deserialize(We){const De=We.browseType;if(We.type===y.z.value&&(0,p.a4)(De)){let ut;if(De===C.L.value)ut=new this.serializerConstructor(O.R);else if(De===v.z.value)ut=new this.serializerConstructor(E.P);else{if(De!==D.o.value)throw new Error("An error occurred while retrieving the browse definitions.");ut=new this.serializerConstructor(I.f)}return ut.deserialize(We)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(De){return new(De||$e)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var S=n(60428),T=n(43125);class w{}let M=(()=>{class $e extends R.D3{parse(We,De){const ut=De.payload,Ge=new S.T(T.Z).deserialize(ut);let wt=[];return ut._embedded&&ut._embedded.harvestermetadata&&ut._embedded.harvestermetadata.configs&&(wt=new S.T(w).serializeArray(ut._embedded.harvestermetadata.configs)),Ge.metadataConfigs=wt,this.addToObjectCache(Ge,We,De),new c.hT(De.statusCode,Ge._links.self)}static{this.\u0275fac=(()=>{let We;return function(ut){return(We||(We=f.xGo($e)))(ut||$e)}})()}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var L=n(78544),N=n(72153);let j=(()=>{class $e extends R.D3{parse(We,De){try{De=this.ensureSelfLink(We,De);const ut=this.process(De.payload,We);if((0,p.a4)(ut)){const Ge=ut.type;let wt;return(0,p.a4)(Ge)&&(wt=(0,N.Qt)(Ge)),(0,R.k_)(ut)&&(0,p.a4)(wt)?new c.hT(De.statusCode,ut._links.self):new c.hT(De.statusCode,void 0,ut)}return new c.hT(De.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${We.href}`),new c.hT(De.statusCode,void 0,{_links:De.payload._links})}}deserialize(We){const De=We.type;if((0,p.a4)(De)){const ut=(0,N.Qt)(De);if((0,p.a4)(ut))return new this.serializerConstructor(ut).deserialize(We)}return We}addToObjectCache(We,De,ut,Ge){if(!(0,R.k_)(We)){const wt=(0,p.a4)(ut)&&(0,p.a4)(ut.type)?ut.type:"object";let ot;return ot=(0,p.a4)(ut._embedded)?JSON.stringify(Object.assign({},ut,{_embedded:"..."})):JSON.stringify(ut),void console.warn(`Can't cache incomplete ${wt}: ${JSON.stringify(We)}, parsed from (partial) response: ${ot}`)}(0,p.a4)(this.getConstructorFor(We.type))&&this.objectCache.add(We,(0,p.a4)(De.responseMsToLive)?De.responseMsToLive:L.c.cache.msToLive.default,De.uuid,Ge)}static{this.\u0275fac=(()=>{let We;return function(ut){return(We||(We=f.xGo($e)))(ut||$e)}})()}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var $=n(51801);class k{constructor(st,We,De=$.D.GET,ut,Ge){this.uuid=st,this.href=We,this.method=De,this.body=ut,this.options=Ge,this.responseMsToLive=L.c.cache.msToLive.default,this.isMultipart=!1}}class K extends k{}var z=function($e){return $e.UUID="uuid",$e.HANDLE="handle",$e}(z||{});class V extends K{getResponseParser(){return R.D3}}class G extends V{constructor(st,We,De,ut){super(st,We,$.D.GET,De,ut),this.uuid=st,this.href=We,this.body=De,this.options=ut}}class X extends V{constructor(st,We,De,ut){super(st,We,$.D.POST,De),this.uuid=st,this.href=We,this.body=De,this.options=ut}}class J extends V{constructor(st,We,De,ut){super(st,We,$.D.POST,De),this.uuid=st,this.href=We,this.body=De,this.options=ut,this.isMultipart=!0}}class q extends V{constructor(st,We,De,ut){super(st,We,$.D.PUT,De),this.uuid=st,this.href=We,this.body=De,this.options=ut}}class ne extends V{constructor(st,We,De,ut){super(st,We,$.D.DELETE,De),this.uuid=st,this.href=We,this.body=De,this.options=ut}}class ye extends V{constructor(st,We,De,ut){super(st,We,$.D.PATCH,De),this.uuid=st,this.href=We,this.body=De,this.options=ut}}class oe extends V{getResponseParser(){return h}}class te extends G{getResponseParser(){return j}}class se extends G{constructor(st,We){super(st,We)}getResponseParser(){return i.BE}}class be extends ne{constructor(st,We){super(st,We),this.uuid=st,this.href=We}getResponseParser(){return i.BE}}class me extends ye{constructor(st,We,De){super(st,We,De),this.uuid=st,this.href=We,this.body=De}getResponseParser(){return i.BE}}class re extends X{constructor(st,We,De,ut){super(st,We,De,ut),this.uuid=st,this.href=We,this.body=De,this.options=ut}getResponseParser(){return i.BE}}class Z extends X{constructor(st,We,De,ut){super(st,We,De,ut),this.body=De,this.options=ut}}class le extends G{constructor(st,We){super(st,We)}getResponseParser(){return M}}class ce extends q{constructor(st,We,De,ut){super(st,We,De,ut),this.body=De,this.options=ut}getResponseParser(){return M}}class ve extends ne{constructor(st,We,De){super(st,We),this.resourceID=De}}class ze extends X{constructor(st,We,De,ut){super(st,We,De,ut),this.body=De,this.options=ut}getResponseParser(){return m}}class Se extends ne{constructor(st,We,De,ut){super(st,We,De,ut),this.body=De,this.options=ut}getResponseParser(){return m}}class et extends G{constructor(){super(...arguments),this.responseMsToLive=1e4}}},3601:(U,b,n)=>{"use strict";n.d(b,{B:()=>J});var i=n(21626),t=n(59640),c=n(84418),e=n.n(c),f=n(25007),m=n(22806),p=n(96697),y=n(96354),E=n(88141),v=n(25558),O=n(73028),C=n(47677),I=n(56594),D=n(5964),R=n(89777),h=n(81948),S=n(36482),T=n(30269),w=n(35331),M=n(51553),L=n(85186),N=n(51801),j=n(54438),$=n(65148);const k=(0,t.Mz)(T.N,q=>q["data/request"]),X=q=>{if((0,R.Tn)(q))return!1;if((0,L.VP)(q.state))return!0;if((0,L.QO)(q.state))return!1;{const ne=q.response.timeCompleted+q.request.responseMsToLive;return!((new Date).getTime()>ne)}};let J=(()=>{class q{constructor(ee,fe,ye){this.objectCache=ee,this.uuidService=fe,this.store=ye,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(ee){if(ee.method!==N.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(ee.href))return!0;let fe=!1;return this.getByHref(ee.href).pipe((0,p.s)(1)).subscribe(ye=>{fe=(0,R.a4)(ye)&&(0,L.VP)(ye.state)&&!(0,L.QO)(ye.state)}),fe}getByUUID(ee){return this.store.pipe((0,t.Lt)((q=>(0,t.Mz)(k,ne=>(0,R.a4)(ne)?ne[q]:void 0))(ee)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return ee=>ee.pipe((0,y.T)(fe=>((0,R.a4)(fe)&&(0,R.a4)(fe.request)&&(0,R.a4)(fe.request.options)&&(0,R.a4)(fe.request.options.headers)&&((fe=e()(fe)).request.options.headers=Object.assign(new i.Lr,fe.request.options.headers)),fe)))}checkStale(){return ee=>ee.pipe((0,E.M)(fe=>{(0,R.a4)(fe)&&(0,R.a4)(fe.request)&&!(0,L.QO)(fe.state)&&!X(fe)&&f.$.schedule(()=>this.store.dispatch(new M.HL(fe.request.uuid)))}))}getByHref(ee){return this.store.pipe((0,t.Lt)((q=>(0,t.Mz)(w.bS,k,(ne,ee)=>{let fe;if((0,R.a4)(ne))return fe=ne[(0,w.tJ)(q)],(0,R.a4)(ee)?ee[fe]:void 0}))(ee)),this.fixRequestHeaders(),this.checkStale())}send(ee,fe=!1){return fe&&ee.method!==N.D.GET&&console.warn(`${JSON.stringify(ee,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(ee,fe)&&(this.dispatchRequest(ee),ee.method===N.D.GET&&this.trackRequestsOnTheirWayToTheStore(ee),!0)}uriEncodeBody(ee){let fe="";return(0,R.hj)(ee)&&"object"==typeof ee&&Object.keys(ee).forEach(ye=>{const oe=encodeURIComponent(ye);if(Array.isArray(ee[ye]))for(const ue of ee[ye]){const se=`${oe}=${encodeURIComponent(ue)}`;fe=(0,R.Im)(fe)?fe.concat(se):fe.concat("&",se)}else{const te=`${oe}=${encodeURIComponent(ee[ye])}`;fe=(0,R.Im)(fe)?fe.concat(te):fe.concat("&",te)}}),fe}removeByHrefSubstring(ee){return this.setStaleByHrefSubstring(ee)}setStaleByHrefSubstring(ee){const fe=this.store.pipe((0,t.Lt)(((q,ne)=>(0,t.Mz)(q,ee=>((q,ne)=>{let ee=[];return(0,R.hj)(q)&&(ee=Object.keys(q).filter(fe=>fe.includes(ne)).map(fe=>q[fe])),ee})(ee,ne)))(w.bS,ee)),(0,p.s)(1));return fe.subscribe(ye=>{for(const oe of ye)this.store.dispatch(new M.HL(oe))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ye=>ye.indexOf(ee)<0),fe.pipe((0,v.n)(ye=>(0,R.Im)(ye)?[!0]:(0,m.H)(ye).pipe((0,O.Z)(oe=>this.getByUUID(oe)),(0,y.T)(oe=>(0,R.Tn)(oe)||(0,L.QO)(oe.state)),(0,C.I)(oe=>!0===oe),(0,I.$)(),(0,y.T)(()=>!0))))}setStaleByUUID(ee){return this.store.dispatch(new M.HL(ee)),this.getByUUID(ee).pipe((0,y.T)(fe=>(0,L.QO)(fe.state)),(0,D.p)(fe=>fe),(0,p.s)(1))}setStaleByHref(ee){const fe=this.getByHref(ee);return fe.pipe((0,D.p)(ye=>(0,R.hj)(ye)),(0,y.T)(ye=>ye.request.uuid),(0,p.s)(1)).subscribe(ye=>{this.store.dispatch(new M.HL(ye))}),fe.pipe((0,y.T)(ye=>(0,L.QO)(ye.state)),(0,D.p)(ye=>ye),(0,p.s)(1))}shouldDispatchRequest(ee,fe){if(ee.method!==N.D.GET)return!0;if(this.isPending(ee))return!1;if(fe){const ye=(0,w.tJ)(ee.href);if(!0===this.hasByHref(ye))return!1;{let oe=!1;return this.objectCache.getByHref(ye).subscribe(ue=>{oe=this.hasByUUID(ue.requestUUIDs[0])}).unsubscribe(),!oe}}return!0}dispatchRequest(ee){f.$.schedule(()=>{this.store.dispatch(new M.uw(ee)),this.store.dispatch(new M.PW(ee.uuid))})}trackRequestsOnTheirWayToTheStore(ee){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,ee.href],this.getByHref(ee.href).pipe((0,D.p)(fe=>(0,R.a4)(fe)&&(0,R.a4)(fe.request)&&fe.request.uuid===ee.uuid),(0,p.s)(1)).subscribe(fe=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ye=>ye!==ee.href)})}commit(ee){this.store.dispatch(new S.eR(ee))}hasByHref(ee,fe=!0){let ye=!1;return this.hasByHref$(ee,fe).subscribe(oe=>ye=oe).unsubscribe(),ye}hasByHref$(ee,fe=!0){return this.getByHref(ee).pipe((0,y.T)(ye=>fe?X(ye):(0,R.a4)(ye)))}hasByUUID(ee,fe=!0){let ye=!1;return this.hasByUUID$(ee,fe).subscribe(oe=>ye=oe).unsubscribe(),ye}hasByUUID$(ee,fe=!0){return this.getByUUID(ee).pipe((0,y.T)(ye=>fe?X(ye):(0,R.a4)(ye)))}static{this.\u0275fac=function(fe){return new(fe||q)(j.KVO(h.$),j.KVO($.v),j.KVO(t.il))}}static{this.\u0275prov=j.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},51801:(U,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},82923:(U,b,n)=>{"use strict";n.r(b),n.d(b,{RootDataService:()=>O});var i=n(7673),t=n(99437),c=n(96354),e=n(57775),f=n(81948),m=n(7094),p=n(4093),y=n(90066),E=n(3601),v=n(54438);let O=(()=>{class C extends y.L{constructor(D,R,h,S){super("",D,R,h,S,216e5),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=S}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(D=>(console.error(D),(0,i.of)(!1))),(0,p.qD)(),(0,c.T)(D=>200===D.statusCode))}findRoot(D=!0,R=!0,...h){return this.findByHref(this.halService.getRootHref(),D,R,...h)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(R){return new(R||C)(v.KVO(E.B),v.KVO(e.o),v.KVO(f.$),v.KVO(m.Y))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},78341:(U,b,n)=>{"use strict";n.d(b,{z:()=>y});var i=n(89777),t=n(97104),c=n(76456),e=n(60428),f=n(54095),m=n(81640),p=n(54438);let y=(()=>{class E extends m.D3{parse(O,C){const D=C.payload._embedded.searchResult||{_embedded:{objects:[]}};D.appliedFilters=C.payload.appliedFilters,D.sort=C.payload.sort,D.scope=C.payload.scope,D.configuration=C.payload.configuration;const R=D._embedded.objects.map(w=>w.hitHighlights).map(w=>{const M={};if(w)for(const L of Object.keys(w)){const N=Object.assign(new f.vD,{value:w[L].join("..."),language:null});M[L]=[N]}return M}),h=D._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map(w=>w._embedded.indexableObject).map(w=>this.process(w,O)).map(w=>w._links.self.href).reduce((w,M)=>[...w,M],[]),S=D._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map((w,M)=>Object.assign({},w,{indexableObject:h[M],hitHighlights:R[M]}));D.objects=S;const T=new e.T(t.n).deserialize(D);return T.pageInfo=this.processPageInfo(D),this.addToObjectCache(T,O,C),new c.hT(C.statusCode,T._links.self)}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=p.xGo(E)))(I||E)}})()}static{this.\u0275prov=p.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},45402:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SiteDataService:()=>v});var i=n(96354),t=n(57775),c=n(81948),e=n(7094),f=n(4093),m=n(90066),p=n(88667),y=n(3601),E=n(54438);let v=(()=>{class O extends m.L{constructor(I,D,R,h){super("sites",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.findAllData=new p.H(this.linkPath,I,D,R,h,this.responseMsToLive)}find(){return this.findAll().pipe((0,f.yd)(),(0,i.T)(I=>I.payload),(0,i.T)(I=>I.page[0]))}findAll(I,D,R,...h){return this.findAllData.findAll(I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||O)(E.KVO(y.B),E.KVO(t.o),E.KVO(c.$),E.KVO(e.Y))}}static{this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},74642:(U,b,n)=>{"use strict";n.d(b,{M:()=>c});var i=n(76456),t=n(54438);let c=(()=>{class e{parse(m,p){return new i.Ku(p.statusCode>=200&&p.statusCode<300,p.statusCode,p.statusText)}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},35659:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SystemWideAlertDataService:()=>C});var i=n(9847),t=n(57775),c=n(81948),e=n(7094),f=n(18328),m=n(88667),p=n(20881),y=n(53271),E=n(60796),v=n(3601),O=n(54438);let C=(()=>{class I extends p.W{constructor(R,h,S,T,w){super("systemwidealerts",R,h,S,T),this.requestService=R,this.rdbService=h,this.objectCache=S,this.halService=T,this.notificationsService=w,this.findAllData=new m.H(this.linkPath,R,h,S,T,this.responseMsToLive),this.createData=new f.V(this.linkPath,R,h,S,T,w,this.responseMsToLive),this.putData=new y.W(this.linkPath,R,h,S,T,this.responseMsToLive),this.searchData=new E.X(this.linkPath,R,h,S,T,this.responseMsToLive)}findAll(R,h,S,...T){return this.findAllData.findAll(R,h,S,...T)}create(R,...h){return this.createData.create(R,...h)}put(R){return this.putData.put(R)}searchBy(R,h,S,T,...w){return this.searchData.searchBy(R,h,S,T,...w)}static{this.\u0275fac=function(h){return new(h||I)(O.KVO(v.B),O.KVO(t.o),O.KVO(c.$),O.KVO(e.Y),O.KVO(i.I))}}static{this.\u0275prov=O.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},57439:(U,b,n)=>{"use strict";n.r(b),n.d(b,{VersionDataService:()=>R});var i=n(983),t=n(25558),c=n(96354),e=n(89777),f=n(4600),m=n(57775),p=n(81948),y=n(7094),E=n(4093),v=n(20881),O=n(4318),C=n(96443),I=n(3601),D=n(54438);let R=(()=>{class h extends v.W{constructor(T,w,M,L,N){super("versions",T,w,M,L),this.requestService=T,this.rdbService=w,this.objectCache=M,this.halService=L,this.comparator=N,this.patchData=new O.n(this.linkPath,T,w,M,L,N,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(T,w=!1,M=!0){return(0,e.hj)(T)?this.findById(T.id,w,M,(0,f.s)("versionhistory")).pipe((0,E.ak)(),(0,t.n)(L=>L.versionhistory),(0,E.ak)()):i.w}getHistoryIdFromVersion(T){return this.getHistoryFromVersion(T).pipe((0,c.T)(w=>w.id))}patch(T,w){return this.patchData.patch(T,w)}update(T){return this.patchData.update(T)}commitUpdates(T){this.patchData.commitUpdates(T)}createPatchFromCache(T){return this.patchData.createPatchFromCache(T)}static{this.\u0275fac=function(w){return new(w||h)(D.KVO(I.B),D.KVO(m.o),D.KVO(p.$),D.KVO(y.Y),D.KVO(C.Y))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},7164:(U,b,n)=>{"use strict";n.r(b),n.d(b,{VersionHistoryDataService:()=>N});var i=n(21626),t=n(84572),c=n(7673),e=n(25558),f=n(96354),m=n(96697),p=n(47677),y=n(5964),E=n(89777),v=n(8417),O=n(30726),C=n(4600),I=n(57775),D=n(81948),R=n(7094),h=n(4093),S=n(20881),T=n(49755),w=n(3601),M=n(57439),L=n(54438);let N=(()=>{class j extends S.W{constructor(k,K,z,V,G){super("versionhistories",k,K,z,V),this.requestService=k,this.rdbService=K,this.objectCache=z,this.halService=V,this.versionDataService=G,this.versionsEndpoint="versions"}getBrowseEndpoint(k={},K){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(k){return this.getBrowseEndpoint().pipe((0,e.n)(K=>this.halService.getEndpoint(this.versionsEndpoint,`${K}/${k}`)))}getVersions(k,K,z=!0,V=!0,...G){const X=this.getVersionsEndpoint(k).pipe((0,f.T)(J=>K?K.toRestUrl(J):J));return this.versionDataService.findListByHref(X,void 0,z,V,...G)}createVersion(k,K){const z=this.requestService.generateRequestId(),V=Object.create({});let G=new i.Lr;return G=G.append("Content-Type","text/uri-list"),V.headers=G,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,m.s)(1),(0,f.T)(X=>K?.length>0?`${X}?summary=${K}`:`${X}`),(0,p.I)(X=>(0,E.a4)(X))).subscribe(X=>{const J=new T.Qf(z,X,k,V);(0,E.a4)(this.responseMsToLive)&&(J.responseMsToLive=this.responseMsToLive),this.requestService.send(J)}),this.rdbService.buildFromRequestUUIDAndAwait(z,X=>(0,t.z)([this.requestService.setStaleByHrefSubstring(X.payload._links.self.href),this.requestService.setStaleByHrefSubstring(X.payload._links.versionhistory.href)])).pipe((0,h.qD)())}getLatestVersionFromHistory$(k){const K=Object.assign(new v.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),z=new O.C({pagination:K});return this.getVersions(k.id,z,!1,!0,(0,C.s)("item")).pipe((0,h.v7)(),(0,h.Bo)(),(0,E.Az)(),(0,y.p)(V=>V.page.length>0),(0,f.T)(V=>V.page[0]))}getLatestVersion$(k){return k.id?this.versionDataService.findById(k.id,!1,!0,(0,C.s)("versionhistory")).pipe((0,h.ak)(),(0,e.n)(K=>K.versionhistory),(0,h.ak)(),(0,e.n)(K=>this.getLatestVersionFromHistory$(K))):(0,c.of)(null)}isLatest$(k){return k?this.getLatestVersion$(k).pipe((0,m.s)(1),(0,e.n)(K=>(0,c.of)(k.version===K.version))):(0,c.of)(null)}hasDraftVersion$(k){return this.versionDataService.findByHref(k,!1,!0,(0,C.s)("versionhistory")).pipe((0,h.qD)(),(0,e.n)(K=>K.hasSucceeded&&!K.hasNoContent&&(0,E.a4)(K.payload)?K.payload.versionhistory.pipe((0,h.qD)(),(0,f.T)(z=>!(!z.hasSucceeded||z.hasNoContent)&&z.payload.draftVersion)):(0,c.of)(!1)))}getLatestVersionItemFromHistory$(k){return this.getLatestVersionFromHistory$(k).pipe((0,e.n)(K=>K.item),(0,h.ak)())}getVersionHistoryFromVersion$(k){return this.versionDataService.getHistoryIdFromVersion(k).pipe((0,m.s)(1),(0,e.n)(K=>this.findById(K)),(0,h.ak)())}invalidateVersionHistoryCache(k){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+k)}static{this.\u0275fac=function(K){return new(K||j)(L.KVO(w.B),L.KVO(I.o),L.KVO(D.$),L.KVO(R.Y),L.KVO(M.VersionDataService))}}static{this.\u0275prov=L.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},14597:(U,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowActionDataService:()=>p});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),f=n(3601),m=n(54438);let p=(()=>{class y extends e.W{constructor(v,O,C,I){super("workflowactions",v,O,C,I),this.requestService=v,this.rdbService=O,this.objectCache=C,this.halService=I,this.linkPath="workflowactions"}static{this.\u0275fac=function(O){return new(O||y)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},32506:(U,b,n)=>{"use strict";n.d(b,{Y:()=>v});var i=n(21626),t=n(18810),c=n(96354),e=n(99437),f=n(89777),m=n(88884),p=n(51801),y=n(54438);const E="application/json; charset=utf-8";let v=(()=>{class O{constructor(I){this.http=I}get(I){const D={observe:"response",headers:new i.Lr({"Content-Type":E})};return this.http.get(I,D).pipe((0,c.T)(R=>({payload:R.body,statusCode:R.status,statusText:R.statusText})),(0,e.W)(R=>(0,t.$)(()=>(console.log("Error: ",R),this.handleHttpError(R)))))}request(I,D,R,h,S){const T={};return T.body=R,I===p.D.POST&&(0,f.hj)(R)&&(0,f.hj)(R.name)&&(T.body=this.buildFormData(R)),T.observe="response",h&&h.responseType&&(T.responseType=h.responseType),T.headers=(0,f.Tn)(h)||(0,f.Tn)(h.headers)?new i.Lr:h.headers,h&&h.params&&(T.params=h.params),h&&h.withCredentials&&(T.withCredentials=h.withCredentials),!T.headers.has("Content-Type")&&!S&&(T.headers=T.headers.set("Content-Type",E)),this.http.request(I,D,T).pipe((0,c.T)(w=>({payload:w.body,headers:w.headers,statusCode:w.status,statusText:w.statusText})),(0,e.W)(w=>(0,t.$)(()=>this.handleHttpError(w))))}buildFormData(I){const D=new FormData;if(D.append("name",I.name),I.metadata)for(const R of Object.keys(I.metadata))for(const h of I.allMetadataValues(R))D.append(R,h);return D}handleHttpError(I){if(I instanceof i.yz){const D=new m.G((0,f.hj)(I?.error?.message)?I.error.message:I.message);return D.statusCode=I.status,D.statusText=I.statusText,D}return console.error("Cannot construct RequestError from",I),I}static{this.\u0275fac=function(D){return new(D||O)(y.KVO(i.Qq))}}static{this.\u0275prov=y.jDH({token:O,factory:O.\u0275fac})}}return O})()},60428:(U,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17102:(U,b,n)=>{"use strict";n.d(b,{e:()=>m});var i=n(54438),t=n(7901),c=n(7673),e=n(78544),f=n(19548);const m=p=>(y,E)=>{const v=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?p().pipe((0,f.gM)(v,E.url)):(0,c.of)(!0)}},40220:(U,b,n)=>{"use strict";n.d(b,{GH:()=>I,Mk:()=>C});var i=n(7673),t=n(25558),c=n(96354),e=n(96697),f=n(89777),m=n(94196),p=n(13817),y=n(4093),E=n(54438),v=n(67138);const O="hasAgreedEndUser",C="dspace.agreements.end-user";let I=(()=>{class D{constructor(h,S,T){this.cookie=h,this.authService=S,this.ePersonService=T}hasCurrentUserOrCookieAcceptedAgreement(h){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(h)}hasCurrentUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(S=>S?this.authService.getAuthenticatedUserFromStore().pipe((0,c.T)(T=>(0,f.a4)(T)&&T.hasMetadata(C)&&"true"===T.firstMetadata(C).value)):(0,i.of)(h)))}setUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(S=>S?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(T=>{const w={value:String(h)};let M;return M=T.hasMetadata(C)?{op:"replace",path:`/metadata/${C}/0`,value:w}:{op:"add",path:`/metadata/${C}`,value:[w]},this.ePersonService.patch(T,[M])}),(0,y.qD)(),(0,c.T)(T=>T.hasSucceeded)):(this.setCookieAccepted(h),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(O)}setCookieAccepted(h){this.cookie.set(O,h)}removeCookieAccepted(){this.cookie.remove(O)}static{this.\u0275fac=function(S){return new(S||D)(E.KVO(v.O),E.KVO(m.uR),E.KVO(p.EPersonDataService))}}static{this.\u0275prov=E.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},13817:(U,b,n)=>{"use strict";n.r(b),n.d(b,{EPersonDataService:()=>G,editEPersonSelector:()=>V});var i=n(59640),t=n(96354),c=n(96697),e=n(47677),f=n(42589),m=n(49601),p=n(89777),y=n(9847),E=n(57775),v=n(10186),O=n(81948),C=n(18328),I=n(72073),D=n(20881),R=n(4318),h=n(60796),S=n(73054),T=n(36343),w=n(58956),M=n(25788),L=n(49755),N=n(3601),j=n(7094),$=n(4093),k=n(73409),K=n(54438);const V=(0,i.Mz)(X=>X.epeopleRegistry,X=>X.editEPerson);let G=(()=>{class X extends D.W{constructor(q,ne,ee,fe,ye,oe,ue){super("epersons",q,ne,ee,fe),this.requestService=q,this.rdbService=ne,this.objectCache=ee,this.halService=fe,this.comparator=ye,this.notificationsService=oe,this.store=ue,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new C.V(this.linkPath,q,ne,ee,fe,oe,this.responseMsToLive),this.searchData=new h.X(this.linkPath,q,ne,ee,fe,this.responseMsToLive),this.patchData=new R.n(this.linkPath,q,ne,ee,fe,ye,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,q,ne,ee,fe,oe,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(q,ne,ee={},fe,ye=!0){switch(q){case"metadata":default:return this.getEpeopleByMetadata(ne.trim(),ee,fe,ye);case"email":return this.getEPersonByEmail(ne.trim(),fe,ye).pipe((0,t.T)(oe=>{if(oe.hasSucceeded){let ue;return ue=204===oe.statusCode||(0,p.Tn)(oe.payload)?[]:[oe.payload],new M.j(oe.timeCompleted,oe.msToLive,oe.lastUpdated,oe.state,oe.errorMessage,(0,w.g)(new k.Q({elementsPerPage:ee.elementsPerPage,totalElements:ue.length,totalPages:ue.length,currentPage:1}),ue),oe.statusCode)}return oe}))}}getEPersonByEmail(q,ne=!0,ee=!0,...fe){const ye=new T._;ye.searchParams=[new v.x("email",q)];const oe=this.searchData.getSearchByHref(this.searchByEmailPath,ye,...fe);return this.findByHref(oe,ne,ee,...fe)}getEpeopleByMetadata(q,ne,ee=!0,fe=!0,...ye){const oe=[new v.x("query",q)];return this.getEPeopleBy(oe,this.searchByMetadataPath,ne,ee,fe,...ye)}getEPeopleBy(q,ne,ee,fe=!0,ye=!0,...oe){let ue=new T._;return ee&&(ue=Object.assign(new T._,ee)),ue.searchParams=ue.searchParams?[...ue.searchParams,...q]:q,this.searchBy(ne,ue,fe,ye,...oe)}searchNonMembers(q,ne,ee,fe=!0,ye=!0,...oe){const ue=[new v.x("query",q),new v.x("group",ne)];let te=new T._;return ee&&(te=Object.assign(new T._,ee)),te.searchParams=te.searchParams?[...te.searchParams,...ue]:ue,this.searchBy("isNotMemberOf",te,fe,ye,...oe)}updateEPerson(q){const ne=this.requestService.generateRequestId();return this.findByHref(q._links.self.href,!0,!1).pipe((0,$.yd)(),(0,$.Bo)(),(0,c.s)(1)).subscribe(fe=>{const ye=this.generateOperations(fe,q),oe=new L.EA(ne,q._links.self.href,ye);return this.requestService.send(oe)}),this.rdbService.buildFromRequestUUID(ne)}generateOperations(q,ne){let ee=this.comparator.diff(q,ne).filter(fe=>["replace","add"].includes(fe.op));return(0,p.a4)(q.email)&&q.email!==ne.email&&(ee=[...ee,{op:"replace",path:"/email",value:ne.email}]),(0,p.a4)(q.requireCertificate)&&q.requireCertificate!==ne.requireCertificate&&(ee=[...ee,{op:"replace",path:"/certificate",value:ne.requireCertificate}]),(0,p.a4)(q.canLogIn)&&q.canLogIn!==ne.canLogIn&&(ee=[...ee,{op:"replace",path:"/canLogIn",value:ne.canLogIn}]),ee}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,c.s)(1)).subscribe(q=>{this.requestService.removeByHrefSubstring(q)})}clearLinkRequests(q){this.requestService.setStaleByHrefSubstring(q)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(V))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(q){this.store.dispatch(new m._c(q))}deleteEPerson(q){return this.delete(q.id)}startEditingNewEPerson(q){return this.getActiveEPerson().pipe((0,c.s)(1)).subscribe(ne=>{q===ne?this.cancelEditEPerson():this.editEPerson(q)}),(0,f.Ax)(q.id)}createEPersonForToken(q,ne){const ee=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(ye=>`${ye}?token=${ne}`)).pipe((0,e.I)(ye=>(0,p.a4)(ye))).subscribe(ye=>{const oe=new L.Qf(ee,ye,q);this.requestService.send(oe)}),this.rdbService.buildFromRequestUUID(ee)}patchPasswordWithToken(q,ne,ee){const fe=this.requestService.generateRequestId(),ye=Object.assign({op:"add",path:"/password",value:{new_password:ee}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(ue=>this.getIDHref(ue,q)),(0,t.T)(ue=>`${ue}?token=${ne}`)).pipe((0,e.I)(ue=>(0,p.a4)(ue))).subscribe(ue=>{const te=new L.EA(fe,ue,[ye]);this.requestService.send(te)}),this.rdbService.buildFromRequestUUID(fe)}mergeEPersonDataWithToken(q,ne,ee){const fe=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(oe=>(0,p.a4)(ee)?`${oe}/${q}?token=${ne}&override=${ee}`:`${oe}/${q}?token=${ne}`)).pipe((0,e.I)(oe=>(0,p.a4)(oe))).subscribe(oe=>{const ue=new L.Qf(fe,oe);this.requestService.send(ue)}),this.rdbService.buildFromRequestUUID(fe)}create(q,...ne){return this.createData.create(q,...ne)}searchBy(q,ne,ee,fe,...ye){return this.searchData.searchBy(q,ne,ee,fe,...ye)}createPatchFromCache(q){return this.patchData.createPatchFromCache(q)}patch(q,ne){return this.patchData.patch(q,ne)}update(q){return this.patchData.update(q)}commitUpdates(q){this.patchData.commitUpdates(q)}delete(q,ne){return this.deleteData.delete(q,ne)}deleteByHref(q,ne){return this.deleteData.deleteByHref(q,ne)}static{this.\u0275fac=function(ne){return new(ne||X)(K.KVO(N.B),K.KVO(E.o),K.KVO(O.$),K.KVO(j.Y),K.KVO(S.j),K.KVO(y.I),K.KVO(i.il))}}static{this.\u0275prov=K.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},2086:(U,b,n)=>{"use strict";n.r(b),n.d(b,{GroupDataService:()=>z});var i=n(21626),t=n(59640),c=n(44437),e=n(96697),f=n(42589),m=n(42319),p=n(9847),y=n(43446),E=n(57775),v=n(10186),O=n(81948),C=n(18328),I=n(72073),D=n(20881),R=n(4318),h=n(60796),S=n(73054),T=n(36343),w=n(49755),M=n(3601),L=n(7094),N=n(4093),j=n(49340),$=n(54438);const K=(0,t.Mz)(V=>V.groupRegistry,V=>V.editGroup);let z=(()=>{class V extends D.W{constructor(X,J,q,ne,ee,fe,ye,oe){super("groups",X,J,q,ne),this.requestService=X,this.rdbService=J,this.objectCache=q,this.halService=ne,this.comparator=ee,this.notificationsService=fe,this.nameService=ye,this.store=oe,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new C.V(this.linkPath,X,J,q,ne,fe,this.responseMsToLive),this.searchData=new h.X(this.linkPath,X,J,q,ne,this.responseMsToLive),this.patchData=new R.n(this.linkPath,X,J,q,ne,ee,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,X,J,q,ne,fe,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(X,J,q=!0,ne=!0,...ee){const fe=[new v.x("query",X)];let ye=new T._;return J&&(ye=Object.assign(new T._,J)),ye.searchParams=ye.searchParams?[...ye.searchParams,...fe]:fe,this.searchBy("byMetadata",ye,q,ne,...ee)}searchNonMemberGroups(X,J,q,ne=!0,ee=!0,...fe){const ye=[new v.x("query",X),new v.x("group",J)];let oe=new T._;return q&&(oe=Object.assign(new T._,q)),oe.searchParams=oe.searchParams?[...oe.searchParams,...ye]:ye,this.searchBy("isNotMemberOf",oe,ne,ee,...fe)}addSubGroupToGroup(X,J){const q=this.requestService.generateRequestId(),ne=Object.create({});let ee=new i.Lr;ee=ee.append("Content-Type","text/uri-list"),ne.headers=ee;const fe=new w.Qf(q,X.self+"/"+this.subgroupsEndpoint,J.self,ne);return this.requestService.send(fe),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>(0,c.y)(this.invalidateByHref(X._links.self.href),this.requestService.setStaleByHrefSubstring(X._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(X,J){const q=this.requestService.generateRequestId(),ne=new w.$(q,X.self+"/"+this.subgroupsEndpoint+"/"+J.id);return this.requestService.send(ne),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>(0,c.y)(this.invalidateByHref(X._links.self.href),this.requestService.setStaleByHrefSubstring(X._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(X,J){const q=this.requestService.generateRequestId(),ne=Object.create({});let ee=new i.Lr;ee=ee.append("Content-Type","text/uri-list"),ne.headers=ee;const fe=new w.Qf(q,X.self+"/"+this.ePersonsEndpoint,J.self,ne);return this.requestService.send(fe),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>(0,c.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(X._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(X,J){const q=this.requestService.generateRequestId(),ne=new w.$(q,X.self+"/"+this.ePersonsEndpoint+"/"+J.id);return this.requestService.send(ne),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>(0,c.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(X._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(K))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(X){this.store.dispatch(new m.C(X))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(X=>{this.requestService.removeByHrefSubstring(X)})}clearGroupLinkRequests(X){this.requestService.setStaleByHrefSubstring(X)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(X){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(J=>{X===J?this.cancelEditGroup():this.editGroup(X)}),this.getGroupEditPageRouterLinkWithID(X.id)}getGroupEditPageRouterLink(X){return(0,f.xl)(X.id)}getGroupEditPageRouterLinkWithID(X){return(0,f.xl)(X)}getUUIDFromString(X){let J="";const q=X.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=q&&(J=q[0]),J}createComcolGroup(X,J,q){const ne=this.requestService.generateRequestId(),ee=Object.assign(new j.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(X)} ${J} group`}]}});this.requestService.send(new w.QU(ne,q,JSON.stringify(ee)));const fe=this.rdbService.buildFromRequestUUID(ne).pipe((0,N.qD)());return fe.subscribe(ye=>{ye.hasSucceeded&&this.requestService.removeByHrefSubstring(q)}),fe}deleteComcolGroup(X){const J=this.requestService.generateRequestId();this.requestService.send(new w.$(J,X));const q=this.rdbService.buildFromRequestUUID(J).pipe((0,N.qD)());return q.subscribe(ne=>{ne.hasSucceeded&&this.requestService.removeByHrefSubstring(X)}),q}create(X,...J){return this.createData.create(X,...J)}searchBy(X,J,q,ne,...ee){return this.searchData.searchBy(X,J,q,ne,...ee)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}patch(X,J){return this.patchData.patch(X,J)}update(X){return this.patchData.update(X)}commitUpdates(X){this.patchData.commitUpdates(X)}delete(X,J){return this.deleteData.delete(X,J)}deleteByHref(X,J){return this.deleteData.deleteByHref(X,J)}static{this.\u0275fac=function(J){return new(J||V)($.KVO(M.B),$.KVO(E.o),$.KVO(O.$),$.KVO(L.Y),$.KVO(S.j),$.KVO(p.I),$.KVO(y.f),$.KVO(t.il))}}static{this.\u0275prov=$.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},23681:(U,b,n)=>{"use strict";n.d(b,{h:()=>i});class i{}},89253:(U,b,n)=>{"use strict";n.d(b,{f:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(73685),m=n(70963),p=n(59922);let y=class extends f.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(p.U,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"groups",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],y)},70963:(U,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(44043).v)("eperson")},49340:(U,b,n)=>{"use strict";n.d(b,{Y:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(73685),m=n(80675),p=n(94152),y=n(70963),E=n(59922);let v=class extends f.M{static{this.type=E.U}};(0,i.Cg)([p.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],v.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(y.N,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",c.c)],v.prototype,"object",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],v)},59922:(U,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(44043).v)("group")},49229:(U,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(44043).v)("workflowitem")},16811:(U,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=new(n(44043).v)("workspaceitem")},44242:(U,b,n)=>{"use strict";n.d(b,{BA:()=>S,oL:()=>h,wq:()=>T});var i=n(60177),t=n(84412),c=n(983),e=n(84572),f=n(7673),m=n(96697),p=n(96354),y=n(25558),E=n(88141),v=n(89777),O=n(94925),C=n(19252),I=n(4093),D=n(54438),R=n(67138);const h="_GRECAPTCHA",S="google-recaptcha";let T=(()=>{class w{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(L,N,j,$,k){this.cookieService=L,this._document=N,this._window=j,this.configService=k,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=$.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,I.qD)(),(0,p.T)(z=>z.hasSucceeded&&z.payload&&(0,v.hj)(z.payload.values)&&"true"===z.payload.values[0].toLowerCase())).pipe((0,y.n)(z=>z?this.loadRecaptchaProperties():c.w)).subscribe()}loadRecaptchaProperties(){const L=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,I.qD)()),N=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,I.qD)()),j=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,I.qD)());return(0,e.z)([N,j,L]).pipe((0,E.M)(([$,k,K])=>{if(this.cookieService.get("orejime-anonymous")&&this.cookieService.get("orejime-anonymous")[S]&&K.hasSucceeded&&$.hasSucceeded&&(0,v.hj)($.payload?.values)&&(0,v.hj)(K.payload?.values)){const z=K.payload?.values[0],V=$.payload?.values[0];let G;switch(this.captchaKeySubject$.next(z),this.captchaVersionSubject$.next(V),V){case"v3":K.hasSucceeded&&(0,v.hj)(K.payload?.values)&&(G=this.buildCaptchaUrl(z),this.captchaModeSubject$.next("invisible"));break;case"v2":k.hasSucceeded&&(0,v.hj)(k.payload?.values)&&(G=this.buildCaptchaUrl(),this.captchaModeSubject$.next(k.payload?.values[0]))}G&&this.loadScript(G)}}))}getRecaptchaToken(L){return this.captchaKey().pipe((0,y.n)(N=>grecaptcha.execute(N,{action:L})))}executeRecaptcha(){return(0,f.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(L){const N="https://www.google.com/recaptcha/api.js";return L?`${N}?render=${L}`:N}loadScript(L){return new Promise((N,j)=>{const $=this.renderer.createElement("script");$.type="text/javascript",$.src=L,$.text="",$.onload=N,$.onerror=j,this.renderer.appendChild(this._document.head,$)})}static{this.\u0275fac=function(N){return new(N||w)(D.KVO(R.O),D.KVO(i.qQ),D.KVO(C.lc),D.KVO(D._9s),D.KVO(O.ConfigurationDataService))}}static{this.\u0275prov=D.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},75794:(U,b,n)=>{"use strict";n.d(b,{_:()=>c,i:()=>t});var i=n(6800);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class c{constructor(f){this.type=t.ADD_TO_HISTORY,this.payload={url:f}}}},25056:(U,b,n)=>{"use strict";n.d(b,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},77274:(U,b,n)=>{"use strict";n.d(b,{H9:()=>e,Lv:()=>c,NL:()=>f,WJ:()=>t});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class c{constructor(p,y,E){this.type=t.ADD,this.payload={name:p,key:y,value:E}}}class e{constructor(p,y){this.type=t.REMOVE_BY_VALUE,this.payload={name:p,value:y}}}class f{constructor(p,y){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:p,value:y}}}},35331:(U,b,n)=>{"use strict";n.d(b,{Fn:()=>D,Qc:()=>I,bS:()=>v,fW:()=>p,tJ:()=>m,vH:()=>C});var i=n(59640),t=n(89777),c=n(30269),e=n(5127),f=n(25056);const m=R=>{if((0,t.hj)(R))try{const h=new URL(R);if((0,t.hj)(h.search)){const S=h.search.split(/[?|&]/).filter(w=>(0,t.hj)(w)).filter(w=>!(w.startsWith("embed=")||w.startsWith("embed.size=")));let T="";return(0,t.hj)(S)&&(T=`?${S.join("&")}`),R=new e.t(h.origin,h.pathname,T).toString()}}catch{}return R},p=R=>{if((0,t.hj)(R))try{const h=new URL(R);if((0,t.hj)(h.search))return h.search.split(/[?|&]/).filter(S=>(0,t.hj)(S)).map(S=>S.match(/^embed.size=([^=]+)=(\d+)$/)).filter(S=>(0,t.a4)(S)&&(0,t.a4)(S[1])&&(0,t.a4)(S[2])).map(S=>({name:S[1],size:Number(S[2])}))}catch{}return[]},y=(0,i.Mz)(c.N,R=>R.index),E=(0,i.Mz)(y,R=>R[f.U.OBJECT]),v=(0,i.Mz)(y,R=>R[f.U.REQUEST]),O=(0,i.Mz)(y,R=>R[f.U.ALTERNATIVE_OBJECT_LINK]),C=R=>(0,i.Mz)(E,h=>(0,t.a4)(h)?h[R]:void 0),I=R=>(0,i.Mz)(v,h=>(0,t.a4)(h)?h[m(R)]:void 0),D=R=>(0,i.Mz)(O,h=>(0,t.a4)(h)?h[R]:void 0)},33553:(U,b,n)=>{"use strict";n.d(b,{S:()=>c});var i=n(89777),t=n(5127);class c extends t.t{constructor(f,...m){super(f,...m),this._rootElement=f,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(f){(0,i.EA)(f)&&Array.isArray(f)&&(f=f.join("/"));let m="/"+this.toString();return(0,i.EA)(f)&&(m+="/"+f),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},46755:(U,b,n)=>{"use strict";n.d(b,{Bp:()=>I,Ce:()=>t,MI:()=>c,QZ:()=>O,X2:()=>y,Zd:()=>e,kM:()=>C,pg:()=>m,qy:()=>p,td:()=>v,v$:()=>f});var i=n(6800);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class c{constructor(R,h){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class e{constructor(R,h){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class f{constructor(R,h,S){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h,startTime:S}}}class m{constructor(R,h){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class p{constructor(R,h,S){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:R,resourceId:h,path:S}}}class y{constructor(R,h,S,T){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:R,resourceId:h,path:S,value:T}}}class v{constructor(R,h,S,T){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:R,resourceId:h,from:S,path:T}}}class O{constructor(R,h,S){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:R,resourceId:h,path:S}}}class C{constructor(R,h,S,T){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:R,resourceId:h,path:S,value:T}}}class I{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},44583:(U,b,n)=>{"use strict";n.d(b,{M:()=>t});var i=n(59030);function t(c,e,f){return(0,i.v)(()=>c.has(e)&&"function"==typeof c.get(e)?c.get(e)().then(p=>f.get("default"in p?p.default:p)).catch(p=>{throw p}):null)}},97576:(U,b,n)=>{"use strict";n.d(b,{iH:()=>S,m4:()=>R});var i=n(60177),t=n(84572),c=n(7673),e=n(96697),f=n(73028),m=n(96354),p=n(78544),y=n(89777),E=n(94196),v=n(87507),O=n(19252),C=n(54438),I=n(67138),D=n(68018);const R="dsLanguage";var h=function(T){return T[T.UI=0]="UI",T[T.EPERSON=1]="EPERSON",T[T.BROWSER=2]="BROWSER",T}(h||{});let S=(()=>{class T{constructor(M,L,N,j,$,k){this._window=M,this.cookie=L,this.translate=N,this.authService=j,this.routeService=$,this.document=k,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let M=this.getLanguageCodeFromCookie();return((0,y.Im)(M)||void 0===p.c.languages.find(L=>L.code===M&&L.active))&&(M=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():p.c.defaultLanguage),M}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,f.Z)(([L,N])=>(0,c.of)([]).pipe((0,m.T)($=>{const k=[];return this.translate.currentLang&&k.push(...this.setQuality([this.translate.currentLang],h.UI,!1)),(0,y.hj)($)&&k.push(...$),navigator.languages&&k.push(...this.setQuality(Object.assign([],navigator.languages),h.BROWSER,!(0,y.Im)(this.translate.currentLang))),k}))))}getLanguageCodeFromCookie(){return this.cookie.get(R)}saveLanguageCodeToCookie(M){this.cookie.set(R,M)}setCurrentLanguageCode(M){(0,y.Im)(M)&&(M=this.getCurrentLanguageCode()),this.translate.use(M),this.saveLanguageCodeToCookie(M),this.document.documentElement.lang=M}setQuality(M,L,N){const j=[];let $=0;const k=M.length>10?M.length:10;let K;switch(L){case h.EPERSON:K=2;break;case h.BROWSER:K=N?10:1;break;default:K=1}return M.forEach(z=>{let V=z+";q=",G=(k-$++)/k;G=M.length>10?G.toFixed(2):G,V+=G/K,j.push(V)}),j}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(M=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(M)})}static{this.\u0275fac=function(L){return new(L||T)(C.KVO(O.lc),C.KVO(I.O),C.KVO(D.c$),C.KVO(E.uR),C.KVO(v.v$),C.KVO(i.qQ))}}static{this.\u0275prov=C.jDH({token:T,factory:T.\u0275fac})}}return T})()},33749:(U,b,n)=>{"use strict";n.d(b,{A:()=>O});var i=n(31635),t=n(74850),c=n(71985),e=n(89777),f=n(77766),m=n(72153),p=n(44043),y=n(94152),E=n(46499),v=n(23942);let O=class extends f.u{static{this.type=E.R}toString(I="."){let D=this.element;return(0,e.hj)(this.qualifier)&&(D+=I+this.qualifier),D}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([y.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],O.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(v.M),(0,i.Sn)("design:type",c.c)],O.prototype,"schema",void 0),O=(0,i.Cg)([m.gV],O)},46499:(U,b,n)=>{"use strict";n.d(b,{R:()=>t});const t=new(n(44043).v)("metadatafield")},27632:(U,b,n)=>{"use strict";n.d(b,{p:()=>y});var i=n(31635),t=n(74850),c=n(77766),e=n(72153),f=n(44043),m=n(94152),p=n(23942);let y=class extends c.u{static{this.type=p.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV],y)},23942:(U,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(44043).v)("metadataschema")},75082:(U,b,n)=>{"use strict";n.d(b,{T:()=>e});var i=n(89777),t=n(54095),c=n(54438);let e=(()=>{class f{isVirtual(p){return(0,i.a4)(p?.authority)&&p.authority.startsWith(t.BY)}virtualValue(p){if(this.isVirtual(p))return p.authority.substring(p.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(y){return new(y||f)}}static{this.\u0275prov=c.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},78130:(U,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceEventDataService:()=>M});var i=n(21626),t=n(47677),c=n(96697),e=n(25558),f=n(89777),m=n(9847),p=n(57775),y=n(10186),E=n(81948),v=n(18328),O=n(72073),C=n(20881),I=n(4318),D=n(60796),R=n(96443),h=n(49755),S=n(3601),T=n(7094),w=n(54438);let M=(()=>{class L extends C.W{constructor(j,$,k,K,z,V){super("qualityassuranceevents",j,$,k,K),this.requestService=j,this.rdbService=$,this.objectCache=k,this.halService=K,this.notificationsService=z,this.comparator=V,this.createData=new v.V(this.linkPath,j,$,k,K,z,this.responseMsToLive),this.deleteData=new O.I(this.linkPath,j,$,k,K,z,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new I.n(this.linkPath,j,$,k,K,V,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new D.X(this.linkPath,j,$,k,K,this.responseMsToLive)}getEventsByTopic(j,$={},...k){return $.searchParams=[new y.x("topic",j)],this.searchData.searchBy("findByTopic",$,!0,!0,...k)}searchEventsByTopic(j={},...$){return this.searchData.searchBy("findByTopic",j,!0,!0,...$)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(j,...$){return this.findById(j,!0,!0,...$)}patchEvent(j,$,k){return this.patchData.patch($,[{path:"/status",op:"replace",value:j}])}boundProject(j,$){return this.postOnRelated(j,$)}removeProject(j){return this.deleteOnRelated(j)}deleteOnRelated(j){const $=this.requestService.generateRequestId();return this.getIDHrefObs(j).pipe((0,t.I)(K=>(0,f.a4)(K))).subscribe(K=>{const z=new h.Dk($,K+"/related",j);(0,f.a4)(this.responseMsToLive)&&(z.responseMsToLive=this.responseMsToLive),this.requestService.send(z)}),this.rdbService.buildFromRequestUUID($)}postOnRelated(j,$,k){const K=this.requestService.generateRequestId();return this.getIDHrefObs(j).pipe((0,c.s)(1)).subscribe(V=>{const G=new h.Qf(K,V+"/related?item="+$,k);(0,f.a4)(this.responseMsToLive)&&(G.responseMsToLive=this.responseMsToLive),this.requestService.send(G)}),this.rdbService.buildFromRequestUUID(K)}postData(j,$,k,K){const z=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,e.n)(G=>{const X=Object.create({});let J=new i.Lr;J=J.append("Content-Type","application/json"),X.headers=J;let q=new i.Nl;q=q.append("target",j).append("correctionType",$),X.params=q;const ne=new h.Qf(z,G,{reason:K},X);return(0,f.a4)(this.responseMsToLive)&&(ne.responseMsToLive=this.responseMsToLive),this.requestService.send(ne),this.rdbService.buildFromRequestUUID(z)}))}deleteQAEvent(j){return this.deleteData.delete(j.id)}static{this.\u0275fac=function($){return new($||L)(w.KVO(S.B),w.KVO(p.o),w.KVO(E.$),w.KVO(T.Y),w.KVO(m.I),w.KVO(R.Y))}}static{this.\u0275prov=w.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},20387:(U,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceSourceDataService:()=>v});var i=n(9847),t=n(57775),c=n(81948),e=n(88667),f=n(20881),m=n(60796),p=n(3601),y=n(7094),E=n(54438);let v=(()=>{class O extends f.W{constructor(I,D,R,h,S){super("qualityassurancesources",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.notificationsService=S,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,I,D,R,h,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,I,D,R,h,this.responseMsToLive)}getSources(I={},D=!0,R=!0,...h){return this.findAllData.findAll(I,D,R,...h)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(I,D=!0,R=!0,...h){return this.findById(I,D,R,...h)}getSourcesByTarget(I={},D=!0,R=!0,...h){return this.searchAllData.searchBy(this.searchByTargetMethod,I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||O)(E.KVO(p.B),E.KVO(t.o),E.KVO(c.$),E.KVO(y.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},45688:(U,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceTopicDataService:()=>v});var i=n(9847),t=n(57775),c=n(81948),e=n(88667),f=n(20881),m=n(60796),p=n(3601),y=n(7094),E=n(54438);let v=(()=>{class O extends f.W{constructor(I,D,R,h,S){super("qualityassurancetopics",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.notificationsService=S,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,I,D,R,h,this.responseMsToLive),this.searchData=new m.X(this.linkPath,I,D,R,h,this.responseMsToLive)}searchTopicsByTarget(I={},D=!0,R=!0,...h){return this.searchData.searchBy(this.searchByTargetMethod,I,D,R,...h)}searchTopicsBySource(I={},D=!0,R=!0,...h){return this.searchData.searchBy(this.searchBySourceMethod,I,D,R,...h)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(I,D=!0,R=!0,...h){return this.findById(I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||O)(E.KVO(p.B),E.KVO(t.o),E.KVO(c.$),E.KVO(y.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},90762:(U,b,n)=>{"use strict";n.d(b,{P:()=>t});const t=new(n(44043).v)("suggestion")},295:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionDataService:()=>C});var i=n(9847),t=n(57775),c=n(10186),e=n(81948),f=n(72073),m=n(20881),p=n(60796),y=n(3601),E=n(7094),v=n(54438),O=n(21626);let C=(()=>{class I extends m.W{constructor(R,h,S,T,w,M){super("suggestions",R,h,S,T),this.requestService=R,this.rdbService=h,this.objectCache=S,this.halService=T,this.notificationsService=w,this.http=M,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new f.I(this.linkPath,R,h,S,T,w,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new p.X(this.linkPath,R,h,S,T,this.responseMsToLive)}deleteSuggestion(R){return this.deleteData.delete(R)}getSuggestionsByTargetAndSource(R,h,S={},...T){return S.searchParams=[new c.x("target",R),new c.x("source",h)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,S,!1,!0,...T)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(h){return new(h||I)(v.KVO(y.B),v.KVO(t.o),v.KVO(e.$),v.KVO(E.Y),v.KVO(i.I),v.KVO(O.Qq))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},64959:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionTargetDataService:()=>D});var i=n(9847),t=n(57775),c=n(10186),e=n(81948),f=n(88667),m=n(20881),p=n(60796),y=n(96443),E=n(3601),v=n(7094),O=n(54438),C=n(59640),I=n(21626);let D=(()=>{class R extends m.W{constructor(S,T,w,M,L,N,j,$){super("suggestiontargets",S,T,M,L),this.requestService=S,this.rdbService=T,this.store=w,this.objectCache=M,this.halService=L,this.notificationsService=N,this.http=j,this.comparator=$,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new f.H(this.linkPath,S,T,M,L,this.responseMsToLive),this.searchData=new p.X(this.linkPath,S,T,M,L,this.responseMsToLive)}getTargetsBySource(S,T={},w=!0,M=!0,...L){return T.searchParams=[new c.x("source",S)],this.searchBy(this.searchFindBySourceMethod,T,w,M,...L)}getTargetsByUser(S,T={},...w){return T.searchParams=[new c.x("target",S)],this.searchBy(this.searchFindByTargetMethod,T,!0,!0,...w)}getTargetById(S){return this.findById(S)}searchBy(S,T,w,M,...L){return this.searchData.searchBy(S,T,w,M,...L)}findAll(S={},T=!0,w=!0,...M){return this.findAllData.findAll(S,T,w,...M)}static{this.\u0275fac=function(T){return new(T||R)(O.KVO(E.B),O.KVO(t.o),O.KVO(C.il),O.KVO(e.$),O.KVO(v.Y),O.KVO(i.I),O.KVO(I.Qq),O.KVO(y.Y))}}static{this.\u0275prov=O.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},31:(U,b,n)=>{"use strict";n.d(b,{m:()=>D});var i=n(84572),t=n(96354),c=n(5964),e=n(96697),f=n(89777),p=n(94525),y=n(8417),E=n(70998),v=n(36343),O=n(87507),C=n(54438),I=n(7901);let D=(()=>{class R{constructor(S,T){this.routeService=S,this.router=T,this.defaultSortOptions=new E.z("dc.title",E.U.ASC),this.clearParams={}}getCurrentPagination(S,T){const w=this.routeService.getQueryParameterValue(`${S}.page`),M=this.routeService.getQueryParameterValue(`${S}.rpp`);return(0,i.z)([w,M]).pipe((0,t.T)(([L,N])=>Object.assign(new y.W,T,{currentPage:this.convertToNumeric(L,T.currentPage),pageSize:this.getBestMatchPageSize(N,T)})))}getCurrentSort(S,T,w){!w&&((0,f.Im)(T)||!(0,f.a4)(T))&&(T=this.defaultSortOptions);const M=this.routeService.getQueryParameterValue(`${S}.sd`),L=this.routeService.getQueryParameterValue(`${S}.sf`);return(0,i.z)([M,L]).pipe((0,t.T)(([N,j])=>new E.z(j||T?.field,E.U[N]||T?.direction)))}getFindListOptions(S,T,w){const M=new y.W;M.currentPage=T.currentPage,M.pageSize=T.elementsPerPage;const L=this.getCurrentPagination(S,M),N=this.getCurrentSort(S,T.sort,w);return(0,i.z)([L,N]).pipe((0,c.p)(([j,$])=>(0,f.a4)(j)&&(0,f.a4)($)),(0,t.T)(([j,$])=>Object.assign(new v._,T,{sort:$,currentPage:j.currentPage,elementsPerPage:j.pageSize})))}resetPage(S){this.updateRoute(S,{page:1})}updateRoute(S,T,w,M,L){this.updateRouteWithUrl(S,[],T,w,M,L)}updateRouteWithUrl(S,T,w,M,L,N){this.getCurrentRouting(S).subscribe(j=>{const $=this.getParametersWithIdName(S,j),k=this.getParametersWithIdName(S,w);if((0,f.hj)((0,p.iv)(k,$))||(0,f.hj)(M)||(0,f.hj)(this.clearParams)){const K=Object.assign({},this.clearParams,$,k,M);this.router.navigate(T,L?{queryParams:K,queryParamsHandling:"merge",fragment:`p-${S}`,...N}:{queryParams:K,queryParamsHandling:"merge",...N}),this.clearParams={}}})}clearPagination(S){const T={};T[`${S}.page`]=null,T[`${S}.rpp`]=null,T[`${S}.sf`]=null,T[`${S}.sd`]=null,Object.assign(this.clearParams,T)}getPageParam(S){return`${S}.page`}getCurrentRouting(S){return this.getFindListOptions(S,{},!0).pipe((0,e.s)(1),(0,t.T)(T=>({page:T.currentPage,pageSize:T.elementsPerPage,sortField:T.sort.field,sortDirection:T.sort.direction})))}getParametersWithIdName(S,T){const w={};return(0,f.a4)(T.page)&&(w[`${S}.page`]=`${T.page}`),(0,f.a4)(T.pageSize)&&(w[`${S}.rpp`]=`${T.pageSize}`),(0,f.a4)(T.sortField)&&(w[`${S}.sf`]=`${T.sortField}`),(0,f.a4)(T.sortDirection)&&(w[`${S}.sd`]=`${T.sortDirection}`),w}convertToNumeric(S,T){let w=T;return function m(R){return!Array.isArray(R)&&R-parseFloat(R)+1>=0}(S)&&(w=+S),w}getBestMatchPageSize(S,T){const w=this.convertToNumeric(S,T.pageSize),M=T.pageSizeOptions.map(N=>Math.abs(N-w)),L=Math.min.apply(Math,M);return T.pageSizeOptions[M.indexOf(L)]}static{this.\u0275fac=function(T){return new(T||R)(C.KVO(O.v$),C.KVO(I.Ix))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},12207:(U,b,n)=>{"use strict";n.d(b,{w:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(56538),m=n(46884),p=n(44043),y=n(94152),E=n(78397);let v=class extends f.I{static{this.type=E.T}};(0,i.Cg)([y.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",c.c)],v.prototype,"item",void 0),v=(0,i.Cg)([e.gV],v)},78397:(U,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(44043).v)("profile")},89894:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ResearcherProfileDataService:()=>K});var i=n(21626),t=n(7673),c=n(96354),e=n(47677),f=n(73028),m=n(89777),p=n(9847),y=n(34180),E=n(4600),v=n(57775),O=n(81948),C=n(18328),I=n(72073),D=n(20881),R=n(4318),h=n(60796),S=n(96443),T=n(61206),w=n(49755),M=n(3601),L=n(7094),N=n(4093),j=n(12207),$=n(54438),k=n(7901);let K=(()=>{class z extends D.W{constructor(G,X,J,q,ne,ee,fe,ye){super("profiles",G,X,J,q,1e4),this.requestService=G,this.rdbService=X,this.objectCache=J,this.halService=q,this.notificationsService=ne,this.router=ee,this.comparator=fe,this.itemService=ye,this.createData=new C.V(this.linkPath,G,X,J,q,ne,this.responseMsToLive),this.patchData=new R.n(this.linkPath,G,X,J,q,fe,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new h.X(this.linkPath,G,X,J,q,this.responseMsToLive),this.deleteData=new I.I(this.linkPath,G,X,J,q,ne,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(G){const X=G.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(X)?(0,y.PM)():this.findById(X)}findRelatedItemId(G){return(G.item?G.item:this.itemService.findByHref(G._links.item.href,!1)).pipe((0,N.qD)(),(0,c.T)(J=>J.hasSucceeded&&J.payload?J.payload.id:null))}setVisibility(G,X){return this.patch(G,[{path:"/visible",op:"replace",value:X}])}createFromExternalSource(G){const X=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),X.headers=J;const q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(ee=>(0,m.a4)(ee)),(0,c.T)(ee=>this.buildHrefWithParams(ee,[],(0,E.s)("item")))).subscribe(ee=>{const fe=new w.Qf(q,ee,G,X);this.requestService.send(fe)}),this.rdbService.buildFromRequestUUID(q,(0,E.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(G){return this.createFromExternalSource(G).pipe((0,N.qD)(),(0,f.Z)(X=>X.hasSucceeded?this.findRelatedItemId(X.payload):(0,t.of)(null)))}create(G,...X){return(0,m.Im)(G)&&(G=new j.w),this.createData.create(G,...X)}searchBy(G,X,J,q,...ne){return this.searchData.searchBy(G,X,J,q,...ne)}getSearchByHref(G,X,...J){return this.searchData.getSearchByHref(G,X,...J)}commitUpdates(G){this.patchData.commitUpdates(G)}createPatchFromCache(G){return this.patchData.createPatchFromCache(G)}patch(G,X){return this.patchData.patch(G,X)}update(G){return this.patchData.update(G)}delete(G,X){return this.deleteData.delete(G,X)}deleteByHref(G,X){return this.deleteData.deleteByHref(G,X)}static{this.\u0275fac=function(X){return new(X||z)($.KVO(M.B),$.KVO(v.o),$.KVO(O.$),$.KVO(L.Y),$.KVO(p.I),$.KVO(k.Ix),$.KVO(S.Y),$.KVO(T.ItemDataService))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},32795:(U,b,n)=>{"use strict";n.d(b,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},36835:(U,b,n)=>{"use strict";n.d(b,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},77123:(U,b,n)=>{"use strict";n.d(b,{h:()=>I});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(96283),m=n(70963),p=n(59922),y=n(44043),E=n(94152),C=(n(32795),n(36835),n(10129));let I=class{static{this.type=C.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],I.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endDate",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],I.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",c.c)],I.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",c.c)],I.prototype,"group",void 0),I=(0,i.Cg)([e.gV],I)},10129:(U,b,n)=>{"use strict";n.d(b,{O:()=>t});const t=new(n(44043).v)("resourcepolicy")},8672:(U,b,n)=>{"use strict";n.d(b,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},70161:(U,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(7673),t=n(23294),c=n(69295),e=n(8672),f=n(54438);let m=(()=>{class p{constructor(E){this.collectionService=E}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(E){let v;switch(E){case e.T.Submitter:v=this.isSubmitter();break;case e.T.Controller:v=this.isController();break;case e.T.Admin:v=this.isAdmin()}return v}static{this.\u0275fac=function(v){return new(v||p)(f.KVO(c.CollectionDataService))}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},67138:(U,b,n)=>{"use strict";n.d(b,{O:()=>c});var i=n(21413),t=n(54438);let c=(()=>{class e{constructor(){this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},95488:(U,b,n)=>{"use strict";n.d(b,{$:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}}return c})()},47561:(U,b,n)=>{"use strict";n.d(b,{m:()=>c});var i=n(60177),t=n(54438);let c=(()=>{class e{constructor(m,p){this.rendererFactory=m,this.document=p}addTag(m){try{const p=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),y=p.createElement("link"),E=this.document.head;if(null===E)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(v=>p.setAttribute(y,v,m[v])),p.appendChild(E,y),p}catch(p){console.error("Error within linkService: ",p)}}removeTag(m){if(m)try{const p=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),y=this.document.head;if(null===y)throw new Error("<head> not found within DOCUMENT.");const E=this.document.querySelectorAll("link["+m+"]");for(const v of E)p.removeChild(y,v)}catch(p){p instanceof Error&&console.error("Error while removing tag: "+p.message)}}static{this.\u0275fac=function(p){return new(p||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},64691:(U,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}}return c})()},20009:(U,b,n)=>{"use strict";n.d(b,{$H:()=>m,HH:()=>t,Yb:()=>y,eL:()=>p,fP:()=>e,hX:()=>c,sV:()=>E});var i=n(6800);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class c{constructor(O){this.type=t.SET_QUERY_PARAMETERS,this.payload=O}}class e{constructor(O){this.type=t.SET_PARAMETERS,this.payload=O}}class m{constructor(O,C){this.type=t.ADD_PARAMETER,this.payload={key:O,value:C}}}class p{constructor(O,C){this.type=t.SET_QUERY_PARAMETER,this.payload={key:O,value:C}}}class y{constructor(O,C){this.type=t.SET_PARAMETER,this.payload={key:O,value:C}}}class E{constructor(){this.type=t.RESET}}},87507:(U,b,n)=>{"use strict";n.d(b,{v$:()=>L});var i=n(7901),t=n(59640),c=n(48125),e=n.n(c),f=n(84572),m=n(96354),p=n(23294),y=n(5964),E=n(96697),v=n(89777),O=n(30269),C=n(75794);const I=(0,t.Mz)(O.N,N=>N.history);var D=n(20009),R=n(54438);const h=(0,t.Mz)(O.N,N=>(0,v.a4)(N)&&(0,v.a4)(N.route)?N.route.params:void 0);(0,t.Mz)(O.N,N=>(0,v.a4)(N)&&(0,v.a4)(N.route)?N.route.queryParams:void 0);let L=(()=>{class N{constructor($,k,K){this.route=$,this.router=k,this.store=K,this.saveRouting()}getQueryParameterValues($){return this.getQueryParamMap().pipe((0,m.T)(k=>[...k.getAll($)]),(0,p.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParameterValue($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.get($)),(0,p.F)())}hasQueryParam($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.has($)),(0,p.F)())}hasQueryParamWithValue($,k){return this.getQueryParamMap().pipe((0,m.T)(K=>K.getAll($).indexOf(k)>-1),(0,p.F)())}getRouteParameterValue($){return this.store.pipe((0,t.Lt)((N=>function M(N,j){return(0,t.Mz)(j,$=>{if((0,v.a4)($))return $[N]})}(N,h))($)))}getRouteDataValue($){return this.route.data.pipe((0,m.T)(k=>k[$]),(0,p.F)())}getQueryParamsWithPrefix($){return this.getQueryParamMap().pipe((0,m.T)(k=>{const K={};return k.keys.filter(z=>z.startsWith($)).forEach(z=>{K[z]=[...k.getAll(z)]}),K}),(0,p.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)($=>{const k=this.router.routerState.snapshot;return e()($,k.root.queryParamMap)?$:k.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,y.p)($=>$ instanceof i.wF)).subscribe($=>{this.store.dispatch(new C._($.urlAfterRedirects))})}getRouteParams(){let $=this.route;for(;$.firstChild;)$=$.firstChild;return $.params}getHistory(){return this.store.pipe((0,t.Lt)(I))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-2]||""))}addParameter($,k){this.store.dispatch(new D.$H($,k))}setParameter($,k){this.store.dispatch(new D.Yb($,k))}setQueryParameter($,k){this.store.dispatch(new D.eL($,k))}setCurrentRouteInfo(){(0,f.z)(this.getRouteParams(),this.route.queryParams).pipe((0,E.s)(1)).subscribe(([$,k])=>{this.store.dispatch(new D.fP($)),this.store.dispatch(new D.hX(k))})}getParamsExceptValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const z=Object.assign({},K),V=z[$];return V===k||void 0===k?delete z[$]:Array.isArray(V)&&V.includes(k)&&(z[$]=V.filter(G=>G!==k),0===z[$].length&&delete z[$]),z}))}getParamsWithAdditionalValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const z=Object.assign({},K),V=z[$];return z[$]=void 0===V?k:Array.isArray(V)?[...V,k]:[V,k],z}))}static{this.\u0275fac=function(k){return new(k||N)(R.KVO(i.nX),R.KVO(i.Ix),R.KVO(t.il))}}static{this.\u0275prov=R.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})()},80193:(U,b,n)=>{"use strict";n.d(b,{w:()=>c});var i=n(95532),t=n(54438);let c=(()=>{class e{constructor(m){this.response=m}setStatus(m,p){return this.response&&(this.response.statusCode=m,p&&(this.response.statusMessage=p)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,p){this.response&&this.response.setHeader(m,p)}static{this.\u0275fac=function(p){return new(p||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},19252:(U,b,n)=>{"use strict";n.d(b,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new c}});class c{get nativeWindow(){return typeof window<"u"&&window}}},19548:(U,b,n)=>{"use strict";n.d(b,{QD:()=>E,ci:()=>O,gM:()=>C});var i=n(54438),t=n(84572),c=n(53993),e=n(5964),f=n(96354),m=n(15343),p=n(62877);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>E});const E=(I,D)=>R=>R.pipe((0,c.E)(D.isAuthenticated()),(0,e.p)(([h,S])=>{if(h.hasFailed){if(404===h.statusCode||422===h.statusCode)return I.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===h.statusCode||401===h.statusCode)return S?(I.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(D.setRedirectUrl(I.url),I.navigateByUrl("login"),!1)}return!0}),(0,f.T)(([h])=>h)),O=(I,D,R)=>h=>(0,t.z)(h,D.isAuthenticated()).pipe((0,f.T)(([S,T])=>!!S.some(w=>!0===w)||(T?I.parseUrl((0,m.bZ)()):(D.setRedirectUrl(R),I.parseUrl("login"))))),C=(I,D)=>R=>R.pipe((0,f.T)(h=>{const S={redirect:encodeURIComponent(D)};return h||I.createUrlTree([(0,p.KN)()],{queryParams:S})}))},2454:(U,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},36480:(U,b,n)=>{"use strict";n.d(b,{v:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),f=n(94152),m=n(83286),y=(n(2454),n(44043));let E=class{static{this.type=m.a}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],E.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],E.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([c.gV],E)},83286:(U,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(44043).v)("bitstreamformat")},21832:(U,b,n)=>{"use strict";n.d(b,{_:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(442),f=n(72153),m=n(74942),p=n(83286),y=n(24759),E=n(73685);let v=class extends E.M{static{this.type=m.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,f.nf)(m.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],v.prototype,"thumbnail",void 0),(0,i.Cg)([(0,f.nf)(p.a,!1,"format"),(0,i.Sn)("design:type",c.c)],v.prototype,"format",void 0),(0,i.Cg)([(0,f.nf)(y.d),(0,i.Sn)("design:type",c.c)],v.prototype,"bundle",void 0),(0,i.Cg)([(0,f.nf)(e.E,!1,"accessStatus"),(0,i.Sn)("design:type",c.c)],v.prototype,"accessStatus",void 0),v=(0,i.Cg)([f.gV,(0,t.inheritSerialization)(E.M)],v)},74942:(U,b,n)=>{"use strict";n.d(b,{e:()=>t});const t=new(n(44043).v)("bitstream")},611:(U,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(31635),t=n(74850),c=n(56538);class e extends c.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},35953:(U,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(44043).v)("browse")},41033:(U,b,n)=>{"use strict";n.d(b,{N:()=>E});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(74942),m=n(24759),p=n(73685),y=n(46884);let E=class extends p.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",c.c)],E.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",c.c)],E.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(y.U),(0,i.Sn)("design:type",c.c)],E.prototype,"item",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],E)},24759:(U,b,n)=>{"use strict";n.d(b,{d:()=>t});const t=new(n(44043).v)("bundle")},48145:(U,b,n)=>{"use strict";n.d(b,{p:()=>C});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(10129),m=n(94152),p=n(74942),y=n(96799),E=n(32468),v=n(73685),O=n(8322);let C=class extends v.M{static{this.type=y.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(O.m),(0,i.Sn)("design:type",c.c)],C.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(p.e),(0,i.Sn)("design:type",c.c)],C.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.O,!0),(0,i.Sn)("design:type",c.c)],C.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(E.G,!1),(0,i.Sn)("design:type",c.c)],C.prototype,"parentCommunity",void 0),C=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],C)},96799:(U,b,n)=>{"use strict";n.d(b,{n:()=>t});const t=new(n(44043).v)("collection")},10406:(U,b,n)=>{"use strict";n.d(b,{E:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(94152),m=n(74942),p=n(96799),y=n(32468),E=n(73685);let v=class extends E.M{static{this.type=y.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",c.c)],v.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(p.n,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(y.G,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(y.G,!1),(0,i.Sn)("design:type",c.c)],v.prototype,"parentCommunity",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(E.M)],v)},32468:(U,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=new(n(44043).v)("community")},14379:(U,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},50039:(U,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(89777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},43125:(U,b,n)=>{"use strict";n.d(b,{Z:()=>v,s:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(56538),f=n(94152),m=n(44043);const p=new m.v("contentsource");var y=n(50039),E=function(O){return O.None="NONE",O.Metadata="METADATA_ONLY",O.MetadataAndRef="METADATA_AND_REF",O.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",O}(E||{});let v=class extends e.I{constructor(){super(...arguments),this.type=p,this.harvestType=E.None}static{this.type=p}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],v.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new y.f,"oai_set_id"),(0,t.serializeAs)(new y.f,"oai_set_id"),(0,i.Sn)("design:type",String)],v.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],v.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],v.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],v.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],v.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],v.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],v.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV],v)},40940:(U,b,n)=>{"use strict";n.d(b,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.ScopeSelectorModal="scopeSelectorModal",t.ScopeSelectorModalCurrent="scopeSelectorModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t.AddMetadata="addMetadata",t.EditMetadata="editMetadata",t}(i||{})},12238:(U,b,n)=>{"use strict";function i(t,c){t.getValue()!==c&&t.next(c)}n.d(b,{S:()=>i})},93136:(U,b,n)=>{"use strict";n.d(b,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},73685:(U,b,n)=>{"use strict";n.d(b,{M:()=>O});var i=n(31635),t=n(74850),c=n(89777),e=n(77766),f=n(72153),m=n(94152),p=n(80675),y=n(54095),E=n(61880),v=n(44043);let O=class extends e.u{static{this.type=p.X}get self(){return this._links.self.href}set self(I){this._links.self={href:I}}get name(){return(0,c.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(I){(0,c.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=I),this._name=I}get metadataAsList(){return E.O.toViewModelList(this.metadata)}allMetadata(I,D){return E.O.all(this.metadata,I,D)}allMetadataValues(I,D){return E.O.allValues(this.metadata,I,D)}firstMetadata(I,D){return E.O.first(this.metadata,I,D)}firstMetadataValue(I,D){return E.O.firstValue(this.metadata,I,D)}hasMetadata(I,D){return E.O.has(this.metadata,I,D)}findMetadataSortedByPlace(I){return this.allMetadata(I).sort((D,R)=>(0,c.Tn)(D.place)&&(0,c.Tn)(R.place)?0:(0,c.Tn)(D.place)?-1:(0,c.Tn)(R.place)?1:D.place-R.place)}getRenderTypes(){return[this.constructor]}setMetadata(I,D,...R){const h=R.map((S,T)=>{const w=new y.vD;return w.value=S,w.authority=null,w.confidence=-1,w.language=D||null,w.place=T,w});(0,c.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[I]=h}removeMetadata(I){delete this.metadata[I]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],O.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],O.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],O.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(y.Of),(0,i.Sn)("design:type",y.Cr)],O.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),O=(0,i.Cg)([f.gV],O)},80675:(U,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(44043).v)("dspaceobject")},99278:(U,b,n)=>{"use strict";n.d(b,{$:()=>E});var i=n(31635),t=n(74850),c=n(77766),e=n(72153),f=n(94152),m=n(44043);const p=new m.v("externalSourceEntry");var y=n(54095);let E=class extends c.u{static{this.type=p}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(y.Of),(0,i.Sn)("design:type",y.Cr)],E.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV],E)},38516:(U,b,n)=>{"use strict";n.d(b,{B:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(56538),m=n(94152),p=n(44043);const y=new p.v("externalsource");var E=n(81711);let v=class extends f.I{static{this.type=y}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(E.N,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},76461:(U,b,n)=>{"use strict";n.d(b,{E:()=>y});var i=n(96697),t=n(96354),c=n(89777),e=n(94196),f=n(19252),m=n(5127),p=n(54438);let y=(()=>{class E{constructor(O,C){this._window=O,this.authService=C}retrieveFileDownloadLink(O){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(C=>(0,c.a4)(C)?new m.t(O,`?authentication-token=${C}`).toString():O))}getFileNameFromResponseContentDisposition(O){const C=O.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(C)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(C){return new(C||E)(p.KVO(f.lc),p.KVO(e.uR))}}static{this.\u0275prov=p.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},58771:(U,b,n)=>{"use strict";n.d(b,{P:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),f=n(80033),m=n(86576),p=n(44043);let y=class extends m.o{constructor(){super(...arguments),this.type=f.z}static{this.type=f.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",p.v)],y.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.o)],y)},80033:(U,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(44043).v)("flatBrowse")},7094:(U,b,n)=>{"use strict";n.d(b,{Y:()=>R});var i=n(88141),t=n(5964),c=n(96354),e=n(96697),f=n(25558),m=n(99172),p=n(23294),y=n(89777),E=n(57775),v=n(49755),O=n(3601),C=n(17624),I=n(4093),D=n(54438);let R=(()=>{class h{constructor(T,w){this.requestService=T,this.rdbService=w}getRootHref(){return(new C.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(T){const w=new v.ld(this.requestService.generateRequestId(),T);return this.requestService.send(w,!0),this.rdbService.buildFromHref(T).pipe((0,i.M)(M=>{(0,y.a4)(M)&&M.isStale&&this.getEndpointMapAt(T)}),(0,t.p)(M=>!M.isStale),(0,I.qD)(),(0,c.T)(M=>{if((0,y.a4)(M.payload))return M.payload._links;console.warn(`No _links section found at ${T}`)}))}getEndpoint(T,w){const M=T.split("/").filter(L=>(0,y.hj)(L));return this.getEndpointAt(w||this.getRootHref(),...M).pipe((0,e.s)(1))}getEndpointAt(T,...w){if((0,y.Im)(w))throw new Error("cant't fetch the URL without the HAL link names");const M=this.getEndpointMapAt(T).pipe((0,c.T)(L=>{const N=w[0];if((0,y.a4)(L)&&(0,y.a4)(L[N]))return L[N].href;throw new Error(`${JSON.stringify(L)} doesn't contain the link ${N}`)}));return 1===w.length?M.pipe((0,e.s)(1)):M.pipe((0,f.n)(L=>this.getEndpointAt(L,...w.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(T){return this.getRootEndpointMap().pipe((0,c.T)(w=>(0,y.hj)(w[T])),(0,m.Z)(void 0),(0,p.F)())}static{this.\u0275fac=function(w){return new(w||h)(D.KVO(O.B),D.KVO(E.o))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},55349:(U,b,n)=>{"use strict";n.d(b,{s:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},34621:(U,b,n)=>{"use strict";n.d(b,{R:()=>E});var i=n(31635),t=n(74850),c=n(55104),e=n(72153),f=n(94152),m=n(611),p=n(62571),y=n(44043);let E=class extends m.o{constructor(){super(...arguments),this.type=p.L}static{this.type=p.L}get self(){return this._links.self.href}getRenderType(){return c.O.Hierarchy}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",y.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],E)},62571:(U,b,n)=>{"use strict";n.d(b,{L:()=>t});const t=new(n(44043).v)("hierarchicalBrowse")},89505:(U,b,n)=>{"use strict";n.d(b,{S:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),f=n(94152),m=n(44043),p=n(81711);let y=class{static{this.type=p.N}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(y.type.value),"id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV],y)},81711:(U,b,n)=>{"use strict";n.d(b,{N:()=>t,k:()=>c});const t=new(n(44043).v)("entitytype"),c="none"},83174:(U,b,n)=>{"use strict";n.d(b,{F:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(96283),m=n(94152),p=n(44043),y=n(81711),E=n(7316);let v=class{static{this.type=E.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(v.type.value),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(y.N),(0,i.Sn)("design:type",c.c)],v.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(y.N),(0,i.Sn)("design:type",c.c)],v.prototype,"rightType",void 0),v=(0,i.Cg)([e.gV],v)},7316:(U,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(44043).v)("relationshiptype")},9575:(U,b,n)=>{"use strict";n.d(b,{b:()=>O});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(96283),m=n(94152),p=n(46884),y=n(44043),E=n(39637),v=n(7316);let O=class{static{this.type=E.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],O.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(O.type.value),"id"),(0,i.Sn)("design:type",String)],O.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",c.c)],O.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",c.c)],O.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",c.c)],O.prototype,"relationshipType",void 0),O=(0,i.Cg)([e.gV],O)},39637:(U,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(44043).v)("relationship")},43588:(U,b,n)=>{"use strict";n.d(b,{b:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),f=n(44043);const m=new f.v("itemrequest");let p=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"bitstreamId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"accessToken",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"accessExpiry",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"accessExpired",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([c.gV],p)},15862:(U,b,n)=>{"use strict";n.d(b,{q:()=>R});var i=n(31635),t=n(74850),c=n(71985),e=n(442),f=n(89777),m=n(66977),p=n(72153),y=n(74942),E=n(24759),v=n(96799),O=n(73685),C=n(46884),I=n(39637),D=n(46969);let R=class extends O.M{static{this.type=C.U}getRenderTypes(){const S=this.firstMetadataValue("dspace.entity.type");return(0,f.Im)(S)?super.getRenderTypes():[S,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,p.nf)(v.n),(0,i.Sn)("design:type",c.c)],R.prototype,"owningCollection",void 0),(0,i.Cg)([(0,p.nf)(D.x),(0,i.Sn)("design:type",c.c)],R.prototype,"version",void 0),(0,i.Cg)([(0,p.nf)(E.d,!0),(0,i.Sn)("design:type",c.c)],R.prototype,"bundles",void 0),(0,i.Cg)([(0,p.nf)(I.X,!0),(0,i.Sn)("design:type",c.c)],R.prototype,"relationships",void 0),(0,i.Cg)([(0,p.nf)(y.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],R.prototype,"thumbnail",void 0),(0,i.Cg)([(0,p.nf)(e.E,!1,"accessStatus"),(0,i.Sn)("design:type",c.c)],R.prototype,"accessStatus",void 0),(0,i.Cg)([(0,p.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",c.c)],R.prototype,"identifiers",void 0),R=(0,i.Cg)([p.gV,(0,t.inheritSerialization)(O.M)],R)},46884:(U,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(44043).v)("item")},8322:(U,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(44043).v)("license")},66290:(U,b,n)=>{"use strict";n.d(b,{y:()=>c});var i=n(15862),t=n(83808);class c extends i.q{constructor(f){super(),this.virtualMetadata=f}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},83808:(U,b,n)=>{"use strict";n.d(b,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},60032:(U,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(89777),t=n(54095),c=n(83808);class e extends t.vD{constructor(m,p){super(),this.itemType=m,this.browseDefinition=p}get representationType(){return(0,i.a4)(this.authority)?c.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?c.d.BrowseLink:c.d.PlainText}getValue(){return this.value}}},54095:(U,b,n)=>{"use strict";n.d(b,{BY:()=>e,Cr:()=>f,Of:()=>y,vD:()=>m});var i=n(31635),t=n(74850),c=n(36883);const e="virtual::";class f{}class m{constructor(){this.uuid=(0,c.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const y={Serialize(E){const v={};return Object.keys(E).forEach(O=>{v[O]=(0,t.Serialize)(E[O],m)}),v},Deserialize(E){const v={};return Object.keys(E).forEach(O=>{v[O]=(0,t.Deserialize)(E[O],m)}),v}}},61880:(U,b,n)=>{"use strict";n.d(b,{O:()=>p});var i=n(28267),t=n.n(i),c=n(69136),e=n.n(c),f=n(89777),m=n(54095);class p{static all(E,v,O){const C=E instanceof Array?E:[E],I=[];for(const D of C){for(const R of p.resolveKeys(D,v)){const h=D[R];if(h)for(const S of h)p.valueMatches(S,O)&&I.push(S)}if(!(0,f.Im)(I))return I}return I}static allValues(E,v,O){return p.all(E,v,O).map(C=>C.value)}static first(E,v,O){const C=E instanceof Array?E:[E];for(const I of C)for(const D of p.resolveKeys(I,v)){const R=I[D];if(R)return R.find(h=>p.valueMatches(h,O))}}static firstValue(E,v,O){const C=p.first(E,v,O);return(0,f.b0)(C)?void 0:C.value}static has(E,v,O){return(0,f.EA)(p.first(E,v,O))}static valueMatches(E,v){if(!v)return!0;if(v.language&&v.language!==E.language)return!1;if(v.authority&&v.authority!==E.authority)return!1;if(v.value){let O=v.value,C=E.value;return v.ignoreCase&&(O=v.value.toLowerCase(),C=E.value.toLowerCase()),v.substring?C.includes(O):C===O}return!0}static resolveKeys(E={},v){const O=v instanceof Array?v:[v],C=[];for(const I of O)if(I.includes("*")){const D=new RegExp("^"+I.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const R of Object.keys(E))!C.includes(R)&&D.test(R)&&C.push(R)}else E.hasOwnProperty(I)&&!C.includes(I)&&C.push(I);return C}static toViewModelList(E){let v=[];return Object.keys(E).sort().forEach(O=>{const C=E[O].map((I,D)=>Object.assign({},I,{order:D,key:O}));v=[...v,...C]}),v}static toMetadataMap(E){const v={},O=t()(E,C=>C.key);return Object.keys(O).sort().forEach(C=>{const I=e()(O[C],["order"]);v[C]=I.map(D=>{const R=Object.assign(new m.vD,D);return delete R.order,delete R.key,R})}),v}static setFirstValue(E,v,O){(0,f.hj)(E[v])?E[v][0].value=O:E[v]=[Object.assign(new m.vD,{value:O})]}}},86576:(U,b,n)=>{"use strict";n.d(b,{o:()=>f});var i=n(31635),t=n(74850),e=(n(55104),n(611));let f=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],f.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"dataType",void 0),f=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],f)},4093:(U,b,n)=>{"use strict";n.d(b,{f6:()=>S,F3:()=>h,bD:()=>M,v7:()=>J,Hz:()=>z,Jq:()=>ne,D4:()=>X,qD:()=>L,GD:()=>ee,yd:()=>j,ak:()=>k,QQ:()=>K,Ar:()=>V,o5:()=>$,W8:()=>w,Bo:()=>T,LB:()=>ye,qn:()=>fe,jY:()=>q});var i=n(54438),t=n(40605),c=n(84572),e=n(39974),f=n(85343),m=n(54360),p=n(58750),E=n(70152),v=n(96354),O=n(5964),C=n(96697),I=n(47677),D=n(25558),R=n(89777);const h=(oe,ue)=>function y(oe){return(0,e.N)((ue,te)=>{let se=!1,be=null,me=null;const re=()=>{if(me?.unsubscribe(),me=null,se){se=!1;const Z=be;be=null,te.next(Z)}};ue.subscribe((0,m._)(te,Z=>{me?.unsubscribe(),se=!0,be=Z,me=(0,m._)(te,re,f.l),(0,p.Tg)(oe(Z)).subscribe(me)},()=>{re(),te.complete()},void 0,()=>{be=me=null}))})}(()=>(0,t.Y)(oe,ue)),S=new i.nKC("debounceTime",{providedIn:"root",factory:()=>E.B}),T=()=>oe=>oe.pipe((0,v.T)(ue=>ue?.payload)),w=()=>oe=>oe.pipe((0,v.T)(ue=>ue.page)),M=()=>oe=>oe.pipe((0,O.p)(ue=>(0,R.a4)(ue)&&ue.hasCompleted)),L=()=>oe=>oe.pipe(M(),(0,C.s)(1)),j=()=>oe=>oe.pipe((0,O.p)(ue=>ue.hasSucceeded),(0,C.s)(1)),$=()=>oe=>oe.pipe((0,I.I)(ue=>ue.hasSucceeded&&(0,R.hj)(ue.payload))),k=()=>oe=>oe.pipe(j(),T()),K=()=>oe=>oe.pipe($(),T()),z=()=>oe=>oe.pipe(J(),T()),V=()=>oe=>oe.pipe(j(),T(),w()),X=()=>oe=>oe.pipe((0,I.I)(ue=>!ue.isLoading)),J=()=>oe=>oe.pipe((0,O.p)(ue=>ue.hasSucceeded)),q=()=>oe=>oe.pipe((0,O.p)(ue=>ue.hasSucceeded),(0,v.T)(ue=>{const te=ue.payload.page.filter(be=>(0,R.a4)(be)).map(be=>be.indexableObject),se=Object.assign(ue.payload,{page:te});return Object.assign(ue,{payload:se})})),ne=oe=>ue=>ue.pipe(T(),w(),(0,v.T)(te=>te.find(se=>se.id===oe)),(0,v.T)(te=>{if((0,R.hj)(te))return te._links;throw new Error(`No metadata browse definition could be found for id '${oe}'`)})),ee=()=>oe=>oe.pipe((0,v.T)(ue=>Object.assign(ue,{payload:ue.payload.page.length>0?ue.payload.page[0]:void 0}))),fe=()=>oe=>oe.pipe((0,R.Az)(),(0,v.T)(ue=>ue.payload.page.filter(te=>(0,R.a4)(te)))),ye=()=>oe=>oe.pipe((0,R.Az)(),(0,v.T)(ue=>ue.payload.page.filter(te=>(0,R.a4)(te))),(0,D.n)(ue=>{const te=ue.map(se=>se.schema.pipe(k(),(0,v.T)(be=>({field:se,schema:be}))));return(0,R.hj)(te)?(0,c.z)(te):[[]]}),(0,v.T)(ue=>ue.map(te=>te.schema.prefix+"."+te.field.toString())))},73409:(U,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(31635),t=n(74850),c=n(89777);class e{constructor(m){(0,c.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.last))return this._links.last.href}get next(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.next))return this._links.next.href}get prev(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},88906:(U,b,n)=>{"use strict";n.d(b,{cH:()=>y});var i=n(31635),t=n(72153);n(54095);const f=new(n(44043).v)("registration");let y=class{static{this.type=f}};y=(0,i.Cg)([t.gV],y)},85426:(U,b,n)=>{"use strict";n.d(b,{Ky:()=>e,m9:()=>f,w$:()=>p});var i=n(73028),t=n(88141),c=n(89777);const e=y=>E=>E.pipe((0,i.Z)(v=>y.getByHref(v)),(0,c.Az)()),f=y=>E=>E.pipe((0,i.Z)(v=>y.getByUUID(v)),(0,c.Az)()),p=y=>E=>E.pipe((0,t.M)(v=>y.send(v)))},44043:(U,b,n)=>{"use strict";n.d(b,{v:()=>i});class i{constructor(c){this.value=c}}},74272:(U,b,n)=>{"use strict";n.d(b,{g:()=>me});var i=n(84572),t=n(84412),c=n(57786),e=n(99172),f=n(96354),m=n(5964),p=n(96697),y=n(79096),E=n(89777),v=n(8417),O=n(34180),C=n(39356),I=n(30726);class D{constructor(Z,le,ce){this.key=Z,this.values=le,this.operator=ce}}var R=n(48337),h=n(77868),S=n(8177),T=n(57775),w=n(70998),M=n(31635),L=n(74850),N=n(72153),j=n(94152);const k=new(n(44043).v)("discovery-facets");let K=class{constructor(){this.type=k}static{this.type=k}};(0,M.Cg)([j.aK,(0,M.Sn)("design:type",Object)],K.prototype,"type",void 0),(0,M.Cg)([L.deserialize,(0,M.Sn)("design:type",Object)],K.prototype,"_links",void 0),K=(0,M.Cg)([N.gV],K);var z=n(76456),V=n(60428),G=n(81640),X=n(54438);let J=(()=>{class re extends G.D3{parse(le,ce){const ve=ce.payload._embedded.facets,Se=new V.T(R.F).deserializeArray(ve),et={self:ce.payload._links.self};Se.forEach(st=>{et[st.name]={href:st._links.self.href}});const $e=Object.assign(new K,{filters:Se,_links:et});return this.addToObjectCache($e,le,ce),new z.hT(ce.statusCode,$e._links.self)}static{this.\u0275fac=(()=>{let le;return function(ve){return(le||(le=X.xGo(re)))(ve||re)}})()}static{this.\u0275prov=X.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();var q=n(25788),ne=n(49755),ee=n(3601),fe=n(31),ye=n(87507),oe=n(5127),ue=n(93136),te=n(7094),se=n(4093),be=n(7901);let me=(()=>{class re{constructor(le,ce,ve,ze,Se,et,$e,st){this.routeService=le,this.paginationService=ce,this.route=ve,this.linkService=ze,this.halService=Se,this.requestService=et,this.rdb=$e,this.appConfig=st,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new v.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,E.Tn)(this._defaults)){const le=new I.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,O.CX)(le,(new Date).getTime())}return this._defaults}getCurrentConfiguration(le){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,f.T)(([ce,ve])=>ce||ve||le))}getCurrentScope(le){return this.routeService.getQueryParameterValue("scope").pipe((0,f.T)(ce=>ce||le))}getCurrentQuery(le){return this.routeService.getQueryParameterValue("query").pipe((0,f.T)(ce=>ce||le))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(le=>(0,E.hj)(le)&&(0,E.a4)(ue.W[le.toUpperCase()])),(0,f.T)(le=>ue.W[le.toUpperCase()]))}getCurrentPagination(le,ce){return this.paginationService.getCurrentPagination(le,ce)}getCurrentSort(le,ce){return this.paginationService.getCurrentSort(le,ce)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,f.T)(le=>{if((0,E.hj)(le)){const ce=[];return Object.keys(le).forEach(ve=>{if(ve.endsWith(".min")||ve.endsWith(".max")){const ze=ve.slice(0,-4);(0,E.Tn)(ce.find(Se=>Se.key===ze))&&ce.push(new D(ze,["["+(le[ze+".min"]?le[ze+".min"][0]:"*")+" TO "+(le[ze+".max"]?le[ze+".max"][0]:"*")+"]"],"equals"))}else ce.push(new D(ve,le[ve]))}),ce}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(le){return this.routeService.getQueryParameterValue("view").pipe((0,f.T)(ce=>ce||le))}getConfigurationSearchConfig(le,ce){return this.getSearchConfigurationFor(ce,le).pipe((0,se.Hz)())}getConfigurationSortOptions(le){return le.sortOptions.map(ce=>({field:ce.name,direction:ce.sortOrder.toLowerCase()===w.U.ASC.toLowerCase()?w.U.ASC:w.U.DESC}))}getConfigurationAdvancedSearchFilters(le,ce){return this.getConfigurationSearchConfig(le,ce).pipe((0,f.T)(ve=>ve.filters.filter(ze=>this.appConfig.search.advancedFilters.filter.includes(ze.filter)).filter(ze=>ze.type!==C.R.range)))}setPaginationId(le){if((0,E.hj)(le)){const ce=this.paginatedSearchOptions.getValue(),ve=Object.assign(new I.C({}),ce,{pagination:Object.assign({},ce.pagination,{id:le})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=le,this.paginatedSearchOptions.next(ve),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(le=>le.filter(ce=>(0,E.a4)(ce)).forEach(ce=>ce.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,se.yd)()).subscribe(le=>{const ce=le.payload;this.paginatedSearchOptions=new t.t(ce),this.searchOptions=new t.t(ce),this.setSearchSubscription(this.paginationID,ce)})}setSearchSubscription(le,ce){this.unsubscribeFromSearchOptions(le);const ve=[this.subscribeToSearchOptions(ce),this.subscribeToPaginatedSearchOptions(le||ce.pagination.id,ce)];this.subs.set(this.paginationID,ve)}subscribeToSearchOptions(le){return(0,c.h)(this.getConfigurationPart(le.configuration),this.getScopePart(le.scope),this.getQueryPart(le.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(le.view)).subscribe(ce=>{const ve=this.searchOptions.getValue(),ze=Object.assign(new I.C({}),ve,ce);this.searchOptions.next(ze)})}subscribeToPaginatedSearchOptions(le,ce){return(0,c.h)(this.getConfigurationPart(ce.configuration),this.getPaginationPart(le,ce.pagination),this.getSortPart(le,ce.sort),this.getScopePart(ce.scope),this.getQueryPart(ce.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(ce.view)).subscribe(ve=>{const ze=this.paginatedSearchOptions.getValue(),Se=Object.assign(new I.C({}),ze,ve);this.paginatedSearchOptions.next(Se)})}unsubscribeFromSearchOptions(le){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(ce=>(0,E.a4)(ce)).forEach(ce=>ce.unsubscribe()),this.subs.delete(le))}getConfigurationPart(le){return this.getCurrentConfiguration(le).pipe((0,f.T)(ce=>({configuration:ce})))}getScopePart(le){return this.getCurrentScope(le).pipe((0,f.T)(ce=>({scope:ce})))}getQueryPart(le){return this.getCurrentQuery(le).pipe((0,f.T)(ce=>({query:ce})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,f.T)(le=>({dsoType:le})))}getPaginationPart(le,ce){return this.getCurrentPagination(le,ce).pipe((0,f.T)(ve=>({pagination:ve})))}getSortPart(le,ce){return this.getCurrentSort(le,ce).pipe((0,f.T)(ve=>({sort:ve})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,f.T)(le=>({filters:le})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,E.VT)(),(0,f.T)(le=>({fixedFilter:le})))}getSearchConfigurationFor(le,ce){const ve=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,f.T)(ze=>this.getConfigUrl(ze,le,ce)));return ve.pipe((0,p.s)(1)).subscribe(ze=>{const Se=new ne.IP(this.requestService.generateRequestId(),ze);this.requestService.send(Se,!0)}),this.rdb.buildFromHref(ve)}getConfigUrl(le,ce,ve){const ze=[];return(0,E.hj)(ce)&&ze.push(`scope=${ce}`),(0,E.hj)(ve)&&ze.push(`configuration=${ve}`),(0,E.hj)(ze)&&(le=new oe.t(le,`?${ze.join("&")}`).toString()),le}getConfig(le,ce){const ve=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,f.T)(ze=>this.getConfigUrl(ze,le,ce)));return ve.pipe((0,p.s)(1)).subscribe(ze=>{let Se=new ne.IP(this.requestService.generateRequestId(),ze);Se=Object.assign(Se,{getResponseParser:()=>J}),this.requestService.send(Se,!0)}),this.rdb.buildFromHref(ve).pipe((0,f.T)(ze=>{if(ze.hasSucceeded){let Se;return Se=(0,E.hj)(ze.payload.filters)?ze.payload.filters.map(et=>Object.assign(new R.F,et)):[],new q.j(ze.timeCompleted,ze.msToLive,ze.lastUpdated,ze.state,ze.errorMessage,Se,ze.statusCode)}return ze}))}unselectAppliedFilterParams(le,ce,ve){return this.routeService.getParamsExceptValue(`f.${le}`,(0,E.a4)(ve)?(0,h.mq)(ce,ve):ce).pipe((0,f.T)(ze=>Object.assign(ze,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(le,ce,ve){return this.routeService.getParamsWithAdditionalValue(`f.${le}`,(0,E.a4)(ve)?(0,h.mq)(ce,ve):ce).pipe((0,f.T)(ze=>Object.assign(ze,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(le){return this.getCurrentViewMode(le).pipe((0,f.T)(ce=>({view:ce})))}static{this.\u0275fac=function(ce){return new(ce||re)(X.KVO(ye.v$),X.KVO(fe.m),X.KVO(be.nX),X.KVO(S._),X.KVO(te.Y),X.KVO(ee.B),X.KVO(T.o),X.KVO(y.vQ))}}static{this.\u0275prov=X.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},4255:(U,b,n)=>{"use strict";n.d(b,{U:()=>S});var i=n(59640),t=n(84572),c=n(7673),e=n(96354),f=n(23294),m=n(89777),p=n(8417),y=n(77868),E=n(75548),v=n(54438);let O=(()=>{class M{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(N,j){const $=this.escapeRegExp(j),k=new RegExp($,"gi");return N.replace(k,"<em>$&</em>")}escapeRegExp(N){return N.replace(this.regex,"\\$&")}static{this.\u0275fac=function(j){return new(j||M)}}static{this.\u0275pipe=v.EJ8({name:"dsEmphasize",type:M,pure:!0,standalone:!0})}}return M})();var C=n(70998),I=n(87507),D=n(4093),R=n(40645);const h=M=>M.searchFilter;let S=(()=>{class M{constructor(N,j,$){this.searchService=N,this.store=j,this.routeService=$}isFilterActiveWithValue(N,j){return this.routeService.hasQueryParamWithValue(N,j)}isFilterActive(N){return this.routeService.hasQueryParam(N)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(N={}){const j=this.routeService.getQueryParameterValue("page"),$=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(j,$).pipe((0,e.T)(([k,K])=>Object.assign(new p.W,N,{currentPage:k||1,pageSize:K||N.pageSize})))}getCurrentSort(N){const j=this.routeService.getQueryParameterValue("sortDirection"),$=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(j,$).pipe((0,e.T)(([k,K])=>new C.z(K||N.field,C.U[k]||N.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(N,j,$){return(0,m.hj)($)?this.searchService.getFacetValuesFor(N,1,j,$.toLowerCase()).pipe((0,D.yd)(),(0,e.T)(k=>k.payload.page.map(K=>({displayValue:this.getDisplayValue(K,$),query:(0,y.SB)(K,N),value:(0,y.gp)((0,y.SB)(K,N))})))):(0,c.of)([])}getDisplayValue(N,j){return`${(new O).transform(N.value,j)} (${N.count})`}isCollapsed(N){return this.store.pipe((0,i.Lt)(T(N)),(0,e.T)(j=>!!j&&(j.filterCollapsed||j.minimized)),(0,f.F)())}getPage(N){return this.store.pipe((0,i.Lt)(T(N)),(0,e.T)(j=>j?j.page:1),(0,f.F)())}collapse(N){this.store.dispatch(new E.ge(N))}expand(N){this.store.dispatch(new E.nj(N))}toggle(N){this.store.dispatch(new E.Fi(N))}initializeFilter(N){this.store.dispatch(new E.L2(N))}decrementPage(N){this.store.dispatch(new E.R0(N))}incrementPage(N){this.store.dispatch(new E.tq(N))}resetPage(N){this.store.dispatch(new E.Bf(N))}minimizeAll(){this.store.dispatch(new E.Po)}static{this.\u0275fac=function(j){return new(j||M)(v.KVO(R.S),v.KVO(i.il),v.KVO(I.v$))}}static{this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function T(M){return function w(M){return(0,i.Mz)(h,L=>{if((0,m.a4)(L))return L[M]})}(M)}},40645:(U,b,n)=>{"use strict";n.d(b,{S:()=>ce});var i=n(84412),t=n(84572),c=n(96354),e=n(23294),f=n(96697),m=n(25558),p=n(28492),y=n(88141),E=n(89777),v=n(8417),O=n(30726),C=n(97104),I=n(71384),D=n(57775),R=n(90066),h=n(98733),S=n(75594),T=n(31635),w=n(74850),M=n(72153),L=n(58956),N=n(94152),$=(n(39356),n(75370));const K=new(n(44043).v)("discovery-facetvalues");let z=class extends $.a{constructor(){super(...arguments),this.type=K}static{this.type=K}};(0,T.Cg)([N.aK,(0,T.Sn)("design:type",Object)],z.prototype,"type",void 0),(0,T.Cg)([w.autoserialize,(0,T.Sn)("design:type",String)],z.prototype,"name",void 0),(0,T.Cg)([(0,w.autoserializeAs)(String,"facetType"),(0,T.Sn)("design:type",String)],z.prototype,"filterType",void 0),(0,T.Cg)([w.autoserialize,(0,T.Sn)("design:type",Number)],z.prototype,"facetLimit",void 0),(0,T.Cg)([(0,w.autoserializeAs)(S.L,"values"),(0,T.Sn)("design:type",Array)],z.prototype,"page",void 0),z=(0,T.Cg)([M.gV,(0,w.inheritSerialization)(L.O),(0,w.inheritSerialization)($.a)],z);var V=n(76456),G=n(60428),X=n(81640),J=n(54438);let q=(()=>{class ve extends X.D3{parse(Se,et){const $e=et.payload,st=new G.T(z).deserialize($e);return st.pageInfo=this.processPageInfo($e),st.page=new G.T(S.L).deserializeArray($e._embedded.values),this.addToObjectCache(st,Se,et),new V.hT(et.statusCode,st._links.self)}static{this.\u0275fac=(()=>{let Se;return function($e){return(Se||(Se=J.xGo(ve)))($e||ve)}})()}static{this.\u0275prov=J.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})();var ne=n(25788),ee=n(49755),fe=n(3601),ye=n(78341),oe=n(31),ue=n(87507),te=n(5127),se=n(7094),be=n(4093),me=n(19192),re=n(74272),Z=n(97324);class le extends R.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(ze,Se,...et){return super.addEmbedParams(ze,Se,...et)}}let ce=(()=>{class ve{constructor(Se,et,$e,st,We,De,ut,Ge){this.routeService=Se,this.requestService=et,this.rdb=$e,this.halService=st,this.dspaceObjectService=We,this.paginationService=De,this.searchConfigurationService=ut,this.angulartics2=Ge,this.searchLinkPath="discover/search/objects",this.parser=ye.z,this.request=ee.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new le}getSelectedValuesForFilter(Se){return this.appliedFilters$.pipe((0,c.T)(et=>et.filter($e=>$e.filter===Se)),(0,e.F)((et,$e)=>JSON.stringify(et)===JSON.stringify($e)))}setServiceOptions(Se,et){Se&&(this.parser=Se),et&&(this.request=et)}getEndpoint(Se){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,c.T)(et=>(0,E.a4)(Se)?Se.toRestUrl(et):et))}search(Se,et,$e=!0,st=!0,...We){const De=this.getEndpoint(Se);let ut;De.pipe((0,f.s)(1),(0,c.T)(wt=>{const ot=this.searchDataService.addEmbedParams(wt,[],...We);return(0,E.hj)(ot)?new te.t(wt,`?${ot.join("&")}`).toString():wt})).subscribe(wt=>{const ot=new this.request(this.requestService.generateRequestId(),wt);Object.assign(ot,{responseMsToLive:(0,E.a4)(et)?et:ot.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:Se}),ut=(new Date).getTime(),this.requestService.send(ot,$e)});const Ge=De.pipe((0,m.n)(wt=>this.rdb.buildFromHref(wt)));return this.directlyAttachIndexableObjects(Ge,$e,st,...We).pipe((0,p.j)(wt=>wt.isStale||!$e&&wt.lastUpdated<ut))}directlyAttachIndexableObjects(Se,et=!0,$e=!0,...st){return Se.pipe((0,m.n)(We=>{if((0,E.a4)(We.payload)&&(0,E.hj)(We.payload.page)){const De=We.payload.page.map(ut=>this.dspaceObjectService.findByHref(ut._links.indexableObject.href,et,$e,...st).pipe((0,be.qD)(),(0,be.Bo)(),(0,E.Az)(),(0,c.T)(Ge=>{const ot=(0,I.L)(Ge.constructor);return Object.assign(new ot,ut,{indexableObject:Ge})})));return(0,t.z)(De).pipe((0,c.T)(ut=>{const Ge=Object.assign(new C.n,We.payload,{page:ut});return new ne.j(We.timeCompleted,We.msToLive,We.lastUpdated,We.state,We.errorMessage,Ge,We.statusCode)}))}return[We]}))}getFacetValuesFor(Se,et,$e,st,We=!0){let De,ut=[];(0,E.a4)(st)&&ut.push(`prefix=${encodeURIComponent(st)}`),(0,E.a4)($e)?De=($e=Object.assign(new O.C({}),$e,{pagination:Object.assign({},$e.pagination,{currentPage:et,pageSize:Se.pageSize})})).toRestUrl(Se._links.self.href,ut):(ut=["page="+(et-1),`size=${Se.pageSize}`,...ut],De=new te.t(Se._links.self.href,`?${ut.join("&")}`).toString());let Ge=new this.request(this.requestService.generateRequestId(),De);Ge=Object.assign(Ge,{getResponseParser:()=>q});const wt=(new Date).getTime();return this.requestService.send(Ge,We),this.rdb.buildFromHref(De).pipe((0,p.j)(ot=>ot.isStale||!We&&ot.lastUpdated<wt),(0,y.M)(ot=>{if(ot.hasSucceeded){const Tt=(ot.payload.appliedFilters??[]).filter(Ee=>(0,E.a4)(Ee)).map(Ee=>Object.assign({},Ee,{operator:(0,E.a4)(Ee.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":Ee.operator}));this.appliedFilters$.next(Tt)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,c.T)(Se=>(0,E.hj)(Se.get("view"))&&(0,E.a4)(Se.get("view"))?Se.get("view"):me.n.ListElement))}setViewMode(Se,et){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new v.W).pipe((0,f.s)(1)).subscribe($e=>{let st={page:1};const We={view:Se};Se===me.n.DetailedListElement?st=Object.assign(st,{pageSize:1}):1===$e.pageSize&&(st=Object.assign(st,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,E.a4)(et)?et:[this.getSearchLink()],st,We)})}trackSearch(Se,et,$e){const st=[],We=et.appliedFilters||[];for(let ut=0,Ge=We.length;ut<Ge;ut++)st.push(We[ut]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:Se,page:{size:Se.pagination.size,totalElements:et.pageInfo.totalElements,totalPages:et.pageInfo.totalPages,number:Se.pagination.currentPage},sort:{by:Se.sort.field,order:Se.sort.direction},filters:st,clickedObject:$e}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(et){return new(et||ve)(J.KVO(ue.v$),J.KVO(fe.B),J.KVO(D.o),J.KVO(se.Y),J.KVO(h.DSpaceObjectDataService),J.KVO(oe.m),J.KVO(re.g),J.KVO(Z.il))}}static{this.\u0275prov=J.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})()},65148:(U,b,n)=>{"use strict";n.d(b,{v:()=>c});var i=n(36883),t=n(54438);let c=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},83800:(U,b,n)=>{"use strict";n.d(b,{f:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),f=n(86576),m=n(44043),p=n(61806);let y=class extends f.o{constructor(){super(...arguments),this.type=p.o}static{this.type=p.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],y.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(f.o)],y)},61806:(U,b,n)=>{"use strict";n.d(b,{o:()=>t});const t=new(n(44043).v)("valueList")},43040:(U,b,n)=>{"use strict";n.d(b,{s:()=>t});const t=new(n(44043).v)("versionhistory")},71147:(U,b,n)=>{"use strict";n.d(b,{R:()=>O});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(70963),m=n(94152),p=n(73685),y=n(46884),E=n(46969),v=n(43040);let O=class extends p.M{static{this.type=E.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],O.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(v.s),(0,i.Sn)("design:type",c.c)],O.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(y.U),(0,i.Sn)("design:type",c.c)],O.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(f.N),(0,i.Sn)("design:type",c.c)],O.prototype,"eperson",void 0),O=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],O)},46969:(U,b,n)=>{"use strict";n.d(b,{x:()=>t});const t=new(n(44043).v)("version")},19192:(U,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t.GeospatialMap="geospatial-map",t}(i||{})},11774:(U,b,n)=>{"use strict";n.d(b,{K:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(55349),f=n(44043),m=n(94152),p=n(45740);let y=class extends e.s{static{this.type=p.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],y.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],y.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.s)],y)},45740:(U,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(44043).v)("usagereport")},23743:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CorrectionTypeDataService:()=>I});var i=n(96354),t=n(9847),c=n(57775),e=n(10186),f=n(81948),m=n(20881),p=n(60796),y=n(36343),E=n(3601),v=n(7094),O=n(4093),C=n(54438);let I=(()=>{class D extends m.W{constructor(h,S,T,w,M){super("correctiontypes",h,S,T,w),this.requestService=h,this.rdbService=S,this.objectCache=T,this.halService=w,this.notificationsService=M,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new p.X(this.linkPath,h,S,T,w,this.responseMsToLive)}getCorrectionTypeById(h,S=!0,T=!0){return this.findById(h,S,T)}findByItem(h,S){const T=new y._;return T.searchParams=[new e.x("uuid",h)],this.searchData.searchBy(this.searchFindByItem,T,S)}findByTopic(h,S=!0,T=!0){const w=new y._;return w.searchParams=[new e.x("topic",h)],this.searchData.searchBy(this.searchByTopic,w,S,T).pipe((0,O.Hz)(),(0,O.W8)(),(0,i.T)(M=>M[0]))}static{this.\u0275fac=function(S){return new(S||D)(C.KVO(E.B),C.KVO(c.o),C.KVO(f.$),C.KVO(v.Y),C.KVO(t.I))}}static{this.\u0275prov=C.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},11082:(U,b,n)=>{"use strict";n.d(b,{Q:()=>t});const t=new(n(44043).v)("submissioncclicense")},16868:(U,b,n)=>{"use strict";n.d(b,{C:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(55349),f=n(44043),m=n(94152),p=n(11082);let y=class extends e.s{static{this.type=p.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],y.prototype,"fields",void 0),y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.s)],y)},61932:(U,b,n)=>{"use strict";n.d(b,{w:()=>I});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(80892),m=n(70963),p=n(96799),y=n(73685),E=n(46884),v=n(85579),O=n(94152);let I=class extends y.M{get self(){return this._links.self.href}};(0,i.Cg)([O.aK,t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],I.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(p.n),(0,i.Sn)("design:type",Object)],I.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class C{})],I.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U),(0,i.Sn)("design:type",Object)],I.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(f.M.type),(0,i.Sn)("design:type",Object)],I.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],I.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(v.T),(0,i.Sn)("design:type",c.c)],I.prototype,"supervisionOrders",void 0),I=(0,i.Cg)([(0,t.inheritSerialization)(y.M)],I)},56327:(U,b,n)=>{"use strict";n.d(b,{t:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),f=n(49229),m=n(61932);let p=class extends m.w{static{this.type=f.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(p.type.value),"id"),(0,i.Sn)("design:type",String)],p.prototype,"uuid",void 0),p=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.w),(0,c.o8)(m.w)],p)},84821:(U,b,n)=>{"use strict";n.d(b,{F:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),f=n(16811),m=n(61932);let p=class extends m.w{static{this.type=f.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(p.type.value),"id"),(0,i.Sn)("design:type",String)],p.prototype,"uuid",void 0),p=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.w),(0,c.o8)(m.w)],p)},41570:(U,b,n)=>{"use strict";n.d(b,{X:()=>t});var i=n(4600);const t=[(0,i.s)("item"),(0,i.s)("collection")]},72947:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SubmissionDuplicateDataService:()=>C});var i=n(57775),t=n(10186),c=n(81948),e=n(90066),f=n(60796),m=n(36343),p=n(49755),y=n(3601),E=n(78341),v=n(7094),O=n(54438);let C=(()=>{class I extends e.L{constructor(R,h,S,T){super("duplicates",R,h,S,T),this.requestService=R,this.rdbService=h,this.objectCache=S,this.halService=T,this.parser=E.z,this.request=p.IP,this.searchData=new f.X(this.linkPath,R,h,S,T,this.responseMsToLive)}searchBy(R,h,S,T,...w){return this.searchData.searchBy(R,h,S,T,...w)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(R,h){R&&(this.parser=R),h&&(this.request=h)}findDuplicates(R,h,S=!0,T=!0,...w){const M=[new t.x("uuid",R)];let L=new m._;return h&&(L=Object.assign(new m._,h)),L.searchParams=L.searchParams?[...L.searchParams,...M]:M,this.searchBy("findByItem",L,S,T,...w)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(h){return new(h||I)(O.KVO(y.B),O.KVO(i.o),O.KVO(c.$),O.KVO(v.Y))}}static{this.\u0275prov=O.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},28690:(U,b,n)=>{"use strict";n.d(b,{U:()=>K});var i=n(57775),t=n(49755),c=n(3601),e=n(57786);function f(z,V){return(G,X)=>!z.call(V,G,X)}var m=n(5964),y=n(73028),E=n(96697),v=n(88141),O=n(96354),C=n(47677),I=n(23294),D=n(89777),R=n(4093),h=n(46755),S=n(91261),T=n(30269);function w(z){return(0,S.pc)(T.N,"json/patch",z)}class L{submitJsonPatchOperations(V,G,X){const J=this.requestService.generateRequestId();let q=null;const[ne,ee]=function p(z,V){return G=>[(0,m.p)(z,V)(G),(0,m.p)(f(z,V))(G)]}(fe=>(0,D.hj)(fe.body))(V.pipe((0,y.Z)(fe=>this.store.select(w(G)).pipe((0,E.s)(1),(0,m.p)(ye=>(0,D.b0)(ye)||!ye.commitPending),(0,v.M)(()=>q=(new Date).getTime()),(0,O.T)(ye=>{const oe=[];return(0,D.hj)(ye)&&((0,D.hj)(X)?(0,D.EA)(ye.children[X])&&(0,D.hj)(ye.children[X].body)&&ye.children[X].body.forEach(ue=>{oe.push(ue.operation)}):Object.keys(ye.children).filter(ue=>ye.children.hasOwnProperty(ue)).filter(ue=>(0,D.a4)(ye.children[ue])).filter(ue=>(0,D.a4)(ye.children[ue].body)).forEach(ue=>{ye.children[ue].body.forEach(te=>{oe.push(te.operation)})})),this.getRequestInstance(J,fe,oe)})))));return(0,e.h)(ee.pipe((0,m.p)(fe=>(0,D.Im)(fe.body)),(0,v.M)(()=>q=null),(0,O.T)(()=>null)),ne.pipe((0,m.p)(fe=>(0,D.hj)(fe.body)),(0,v.M)(()=>this.store.dispatch(new h.v$(G,X,q))),(0,v.M)(fe=>this.requestService.send(fe)),(0,y.Z)(()=>this.rdbService.buildFromRequestUUID(J).pipe((0,R.qD)(),(0,C.I)(fe=>q<fe.timeCompleted),(0,O.T)(fe=>{if(fe.hasFailed)throw this.store.dispatch(new h.Zd(G,X)),new Error(fe.errorMessage);if((0,D.a4)(fe.payload)&&(0,D.hj)(fe.payload.dataDefinition))return this.store.dispatch(new h.MI(G,X)),fe.payload.dataDefinition}),(0,I.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new h.Bp)}getRequestInstance(V,G,X){return new this.patchRequestConstructor(V,G,X)}getEndpointByIDHref(V,G){return(0,D.hj)(G)?`${V}/${G}`:`${V}`}jsonPatchByResourceType(V,G,X){const J=this.halService.getEndpoint(V).pipe((0,m.p)(q=>(0,D.hj)(q)),(0,I.F)(),(0,O.T)(q=>this.getEndpointByIDHref(q,G)));return this.submitJsonPatchOperations(J,X)}hasPendingOperations(V){return this.store.select(w(V)).pipe((0,O.T)(G=>!(0,D.Im)(G)&&Object.values(G.children).filter(X=>!(0,D.Im)(X.body)).length>0),(0,I.F)())}jsonPatchByResourceID(V,G,X,J){const q=this.halService.getEndpoint(V).pipe((0,m.p)(ne=>(0,D.hj)(ne)),(0,I.F)(),(0,O.T)(ne=>this.getEndpointByIDHref(ne,G)));return this.submitJsonPatchOperations(q,X,J)}}var N=n(7094),j=n(5127),$=n(54438),k=n(59640);let K=(()=>{class z extends L{constructor(G,X,J,q){super(),this.requestService=G,this.store=X,this.rdbService=J,this.halService=q,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(G,X,J){return new this.patchRequestConstructor(G,new j.t(X,"?embed=item").toString(),J)}static{this.\u0275fac=function(X){return new(X||z)($.KVO(c.B),$.KVO(k.il),$.KVO(i.o),$.KVO(N.Y))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},66903:(U,b,n)=>{"use strict";n.d(b,{$:()=>C});var i=n(7673),t=n(96354),c=n(78544),e=n(30250),f=n(25788),m=n(85186),p=n(7094),y=n(61989),E=n(80189),v=n(25645),O=n(54438);let C=(()=>{class I{constructor(R,h,S,T){this.workspaceitemDataService=R,this.workflowItemDataService=h,this.submissionService=S,this.halService=T}getHrefByID(R){const h=this.submissionService.getSubmissionScope()===y.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(h.getLinkPath()).pipe((0,t.T)(S=>h.getIDHref(S,encodeURIComponent(R))))}findById(R,h=!0,S=!0,...T){switch(this.submissionService.getSubmissionScope()){case y.L.WorkspaceItem:return this.workspaceitemDataService.findById(R,h,S,...T);case y.L.WorkflowItem:return this.workflowItemDataService.findById(R,h,S,...T);default:{const w=(new Date).getTime();return(0,i.of)(new f.j(w,c.c.cache.msToLive.default,w,m.zE.Error,"The request could not be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(h){return new(h||I)(O.KVO(v.WorkspaceitemDataService),O.KVO(E.WorkflowItemDataService),O.KVO(e.E),O.KVO(p.Y))}}static{this.\u0275prov=O.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},74242:(U,b,n)=>{"use strict";n.d(b,{BE:()=>I,Z5:()=>C});var i=n(93583),t=n(89777),c=n(95720),e=n(81948),f=n(76456),m=n(84202),p=n(54438);let y=(()=>{class D extends m.aE{constructor(h){super(),this.objectCache=h,this.toCache=!0}parse(h,S){let T;T=(0,t.a4)(S.payload)&&(0,t.a4)(S.payload.page)&&0===S.payload.page.totalElements?{page:[]}:this.process(S.payload,h);let w=T;if((0,t.Tn)(T))return new f.bM([],S.statusCode,S.statusText,void 0);(0,t.a4)(T.page)?w=T.page:Array.isArray(T)||(w=[T]);const M=w.map(L=>L._links.self.href);return new f.bM(M,S.statusCode,S.statusText,this.processPageInfo(S.payload))}static{this.\u0275fac=function(S){return new(S||D)(p.KVO(e.$))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var E=n(56327),v=n(84821);function C(D,R){let h=D;return(0,t.Pe)(D)&&("object"==typeof D&&function O(D){return"object"==typeof D&&D.hasOwnProperty("value")&&D.hasOwnProperty("language")&&D.hasOwnProperty("authority")&&D.hasOwnProperty("confidence")}(D)?h=new c.e(D.value,D.language,D.authority,D.display||D.value,D.place||R,D.confidence,D.otherInformation):Array.isArray(D)?(h=[],D.forEach((S,T)=>{h[T]=C(S,T)})):"object"==typeof D&&(h=Object.create({}),Object.keys(D).forEach(S=>{h[S]=C(D[S])}))),h}let I=(()=>{class D extends m.aE{constructor(h,S){super(),this.objectCache=h,this.dsoParser=S,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(h,S){if(this.dsoParser.parse((0,i.Go)(h),(0,i.Go)(S)),(0,t.hj)(S.payload)&&(0,t.hj)(S.payload._links)&&this.isSuccessStatus(S.statusCode)){const T=this.processResponse(S.payload,h);return new f.hT(S.statusCode,void 0,{dataDefinition:T})}if((0,t.Im)(S.payload)&&this.isSuccessStatus(S.statusCode))return new f.hT(S.statusCode);throw new Error("Unexpected response from server")}processResponse(h,S){const T=this.process(h,S),w=Array.of();return(Array.isArray(T)?T:Array.of(T)).forEach(L=>{if((L instanceof v.F||L instanceof E.t)&&L.sections){const N=Object.create({});Object.keys(L.sections).forEach(j=>{if("object"==typeof L.sections[j]&&(0,t.hj)(L.sections[j])&&(!L.sections[j].hasOwnProperty("files")||(0,t.hj)(L.sections[j].files))){const $=Object.create({});Object.keys(L.sections[j]).forEach(k=>{const K=L.sections[j][k];Array.isArray(K)?($[k]=[],K.forEach((z,V)=>{const G=C(z,V);(0,t.hj)(G)&&$[k].push(G)})):$[k]=K}),N[j]=$}}),L=Object.assign({},L,{sections:N})}w.push(L)}),w}static{this.\u0275fac=function(S){return new(S||D)(p.KVO(e.$),p.KVO(y))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},55121:(U,b,n)=>{"use strict";n.d(b,{O:()=>T});var i=n(28492),t=n(96354),c=n(23294),e=n(5964),f=n(88141),m=n(73028),p=n(25558),y=n(89777),E=n(57775),v=n(76456),O=n(49755),C=n(3601),I=n(7094),D=n(4093),R=n(5127),h=n(54438);const S=()=>w=>w.pipe((0,D.qD)(),(0,t.T)(M=>{if(M.hasFailed)throw new v._p({statusText:M.errorMessage,statusCode:M.statusCode});return(0,y.a4)(M?.payload?.dataDefinition)?M.payload.dataDefinition:[M.payload]}),(0,c.F)());let T=(()=>{class w{constructor(L,N,j){this.rdbService=L,this.requestService=N,this.halService=j,this.linkPath="workspaceitems"}fetchRequest(L){return this.rdbService.buildFromRequestUUID(L).pipe(S())}getEndpointByIDHref(L,N,j){let $=(0,y.hj)(N)?`${L}/${N}`:`${L}`;return $=new R.t($,"?embed=item,sections,collection").toString(),j&&($=new R.t($,`&owningCollection=${j}`).toString()),$}deleteById(L,N){const j=this.requestService.generateRequestId();return this.halService.getEndpoint(N||this.linkPath).pipe((0,e.p)($=>(0,y.hj)($)),(0,c.F)(),(0,t.T)($=>this.getEndpointByIDHref($,L)),(0,t.T)($=>new O.Rn(j,$)),(0,f.M)($=>this.requestService.send($)),(0,m.Z)(()=>this.fetchRequest(j)),(0,c.F)())}getDataById(L,N,j=!1){return this.halService.getEndpoint(L).pipe((0,t.T)($=>this.getEndpointByIDHref($,N)),(0,e.p)($=>(0,y.hj)($)),(0,c.F)(),(0,m.Z)($=>{this.sendGetDataRequest($,j);const k=(new Date).getTime();return this.requestService.getByHref($).pipe((0,t.T)(K=>K?.request?.uuid),(0,y.Az)(),(0,c.F)(),(0,p.n)(K=>this.rdbService.buildFromRequestUUID(K)),(0,i.j)(K=>K.isStale||!j&&K.lastUpdated<k),(0,f.M)(K=>{(0,y.a4)(K)&&K.isStale&&this.sendGetDataRequest($,j)}))}),S())}sendGetDataRequest(L,N=!1){const j=this.requestService.generateRequestId(),$=new O.Iu(j,L);this.requestService.send($,N)}postToEndpoint(L,N,j,$,k){const K=this.requestService.generateRequestId();return this.halService.getEndpoint(L).pipe((0,e.p)(z=>(0,y.hj)(z)),(0,t.T)(z=>this.getEndpointByIDHref(z,j,k)),(0,c.F)(),(0,t.T)(z=>new O.aY(K,z,N,$)),(0,f.M)(z=>this.requestService.send(z)),(0,m.Z)(()=>this.fetchRequest(K)),(0,c.F)())}patchToEndpoint(L,N,j){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(L).pipe((0,e.p)(k=>(0,y.hj)(k)),(0,t.T)(k=>this.getEndpointByIDHref(k,j)),(0,c.F)(),(0,t.T)(k=>new O.e$($,k,N)),(0,f.M)(k=>this.requestService.send(k)),(0,m.Z)(()=>this.fetchRequest($)),(0,c.F)())}static{this.\u0275fac=function(N){return new(N||w)(h.KVO(E.o),h.KVO(C.B),h.KVO(I.Y))}}static{this.\u0275prov=h.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},61989:(U,b,n)=>{"use strict";n.d(b,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},38608:(U,b,n)=>{"use strict";n.d(b,{Hx:()=>t,cK:()=>e,mt:()=>c});var i=n(44043);const t=new i.v("vocabulary"),c=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},38511:(U,b,n)=>{"use strict";n.d(b,{M:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(38608),f=n(13627);let m=class extends f.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(f.b)],m)},13627:(U,b,n)=>{"use strict";n.d(b,{b:()=>E});var i=n(31635),t=n(74850),c=n(89777),e=n(11275),f=n(77766),m=n(72153),p=n(94152),y=n(38608);let E=class extends f.u{static{this.type=y.mt}hasAuthority(){return(0,c.hj)(this.authority)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"otherInformation",void 0),(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([m.gV],E)},29029:(U,b,n)=>{"use strict";n.d(b,{n:()=>i});class i{constructor(c,e=!1){this.name=c,this.closed=e}}},50475:(U,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyEntryDetailsDataService:()=>E});var i=n(57775),t=n(81948),c=n(88667),e=n(20881),f=n(60796),m=n(3601),p=n(7094),y=n(54438);let E=(()=>{class v extends e.W{constructor(C,I,D,R){super("vocabularyEntryDetails",C,I,D,R),this.requestService=C,this.rdbService=I,this.objectCache=D,this.halService=R,this.findAllData=new c.H(this.linkPath,C,I,D,R,this.responseMsToLive),this.searchData=new f.X(this.linkPath,C,I,D,R,this.responseMsToLive)}findAll(C,I,D,...R){return this.findAllData.findAll(C,I,D,...R)}searchBy(C,I,D,R,...h){return this.searchData.searchBy(C,I,D,R,...h)}static{this.\u0275fac=function(I){return new(I||v)(y.KVO(m.B),y.KVO(i.o),y.KVO(t.$),y.KVO(p.Y))}}static{this.\u0275prov=y.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},37921:(U,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyDataService:()=>O});var i=n(57775),t=n(10186),c=n(81948),e=n(88667),f=n(20881),m=n(60796),p=n(36343),y=n(3601),E=n(7094),v=n(54438);let O=(()=>{class C extends f.W{constructor(D,R,h,S){super("vocabularies",D,R,h,S),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=S,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,D,R,h,S,this.responseMsToLive),this.searchData=new m.X(this.linkPath,D,R,h,S,this.responseMsToLive)}findAll(D,R,h,...S){return this.findAllData.findAll(D,R,h,...S)}getVocabularyByMetadataAndCollection(D,R,h=!0,S=!0,...T){const w=new p._;w.searchParams=[new t.x("metadata",D),new t.x("collection",R)];const M=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,w,...T);return this.findByHref(M,h,S,...T)}static{this.\u0275fac=function(R){return new(R||C)(v.KVO(y.B),v.KVO(i.o),v.KVO(c.$),v.KVO(E.Y))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},90306:(U,b,n)=>{"use strict";n.d(b,{g:()=>R});var i=n(25558),t=n(96354),c=n(73028),e=n(89777),f=n(4600),m=n(10186),p=n(3601),y=n(4093),E=n(73409),v=n(36343);class O extends v._{constructor(S="",T,w,M,L,N,j){super(),this.query=S,this.filter=T,this.exact=w,this.entryID=M,this.elementsPerPage=L,this.currentPage=N,this.sort=j;const $=[];(0,e.hj)(S)&&$.push(new m.x("query",S)),(0,e.hj)(T)&&$.push(new m.x("filter",T)),(0,e.hj)(w)&&$.push(new m.x("exact",w.toString())),(0,e.hj)(M)&&$.push(new m.x("entryID",M)),this.searchParams=$}}var C=n(37921),I=n(50475),D=n(54438);let R=(()=>{class h{constructor(T,w,M){this.requestService=T,this.vocabularyDataService=w,this.vocabularyEntryDetailDataService=M,this.searchTopMethod="top"}findVocabularyByHref(T,w=!0,M=!0,...L){return this.vocabularyDataService.findByHref(T,w,M,...L)}findVocabularyById(T,w=!0,M=!0,...L){return this.vocabularyDataService.findById(T,w,M,...L)}findAllVocabularies(T={},w=!0,M=!0,...L){return this.vocabularyDataService.findAll(T,w,M,...L)}getVocabularyByMetadataAndCollection(T,w,M=!0,L=!0,...N){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(T,w,M,L,...N)}getVocabularyEntries(T,w){const M=new O(null,null,null,null,w.elementsPerPage,w.currentPage);return this.findVocabularyById(T.name,!0,!0,(0,f.s)("entries",{findListOptions:M,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)(L=>L.entries))}getVocabularyEntriesByValue(T,w,M,L){const N=new O(null,T,w,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,f.s)("entries",{findListOptions:N,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)(j=>j.entries))}getVocabularyEntryByValue(T,w){return this.getVocabularyEntriesByValue(T,!0,w,new E.Q).pipe((0,y.Ar)(),(0,t.T)(M=>(0,e.hj)(M)?M[0]:null))}getVocabularyEntryByID(T,w){const M=new E.Q,L=new O(null,null,null,T,M.elementsPerPage,M.currentPage);return this.findVocabularyById(w.name,!0,!0,(0,f.s)("entries",{findListOptions:L,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)(N=>N.entries),(0,y.Ar)(),(0,t.T)(N=>(0,e.hj)(N)?N[0]:null))}findEntryDetailByHref(T,w=!0,M=!0,...L){return this.vocabularyEntryDetailDataService.findByHref(T,w,M,...L)}findEntryDetailById(T,w,M=!0,L=!0,N=!0,...j){return this.vocabularyEntryDetailDataService.findById(N?`${w}:${T}`:T,M,L,...j)}getEntryDetailParent(T,w,M=!0,L=!0,...N){const j=`${w}:${T}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)($=>`${$}/${j}`),(0,c.Z)($=>this.vocabularyEntryDetailDataService.findByHref($,M,L,...N)))}getEntryDetailChildren(T,w,M,L=!0,N=!0,...j){const $=new O(null,null,null,null,M.elementsPerPage,M.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(k=>`${k}/${w}:${T}/children`),(0,i.n)(k=>this.vocabularyEntryDetailDataService.findListByHref(k,$,L,N,...j)))}searchTopEntries(T,w,M=!0,L=!0,...N){const j=new O(null,null,null,null,w.elementsPerPage,w.currentPage);return j.searchParams=[new m.x("vocabulary",T)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,j,M,L,...N)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(w){return new(w||h)(D.KVO(p.B),D.KVO(C.VocabularyDataService),D.KVO(I.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},80189:(U,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowItemDataService:()=>S});var i=n(96354),t=n(47677),c=n(89777),e=n(9847),f=n(57775),m=n(10186),p=n(81948),y=n(72073),E=n(20881),v=n(60796),O=n(36343),C=n(49755),I=n(3601),D=n(7094),R=n(4093),h=n(54438);let S=(()=>{class T extends E.W{constructor(M,L,N,j,$){super("workflowitems",M,L,N,j),this.requestService=M,this.rdbService=L,this.objectCache=N,this.halService=j,this.notificationsService=$,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new v.X(this.linkPath,M,L,N,j,this.responseMsToLive),this.deleteData=new y.I(this.linkPath,M,L,N,j,$,this.responseMsToLive,this.constructIdEndpoint)}delete(M){return this.deleteWFI(M,!0)}sendBack(M){return this.deleteWFI(M,!1).pipe((0,R.qD)(),(0,i.T)(L=>L.hasSucceeded))}deleteWFI(M,L){const N=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)($=>this.deleteData.getIDHref($,M)),(0,i.T)($=>$+"?expunge="+L)).pipe((0,t.I)($=>(0,c.a4)($))).subscribe($=>{const k=new C.Dk(N,$,M);this.requestService.send(k)}),this.rdbService.buildFromRequestUUID(N)}findByItem(M,L=!1,N=!0,j={},...$){const k=new O._;k.searchParams=[new m.x("uuid",M)];const K=this.searchData.getSearchByHref(this.searchByItemLinkPath,k,...$);return this.findByHref(K,L,N,...$)}searchBy(M,L,N,j,...$){return this.searchData.searchBy(M,L,N,j,...$)}deleteByHref(M,L){return this.deleteData.deleteByHref(M,L)}static{this.\u0275fac=function(L){return new(L||T)(h.KVO(I.B),h.KVO(f.o),h.KVO(p.$),h.KVO(D.Y),h.KVO(e.I))}}static{this.\u0275prov=h.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},25645:(U,b,n)=>{"use strict";n.r(b),n.d(b,{WorkspaceitemDataService:()=>w});var i=n(21626),t=n(96354),c=n(47677),e=n(89777),f=n(9847),m=n(57775),p=n(10186),y=n(81948),E=n(72073),v=n(20881),O=n(60796),C=n(73054),I=n(36343),D=n(49755),R=n(3601),h=n(7094),S=n(54438),T=n(59640);let w=(()=>{class M extends v.W{constructor(N,j,$,k,K,z,V,G){super("workspaceitems",K,z,V,j),this.comparator=N,this.halService=j,this.http=$,this.notificationsService=k,this.requestService=K,this.rdbService=z,this.objectCache=V,this.store=G,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new E.I(this.linkPath,K,z,V,j,k,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new O.X(this.linkPath,K,z,V,j,this.responseMsToLive)}delete(N,j){return this.deleteData.delete(N,j)}deleteByHref(N,j){return this.deleteData.deleteByHref(N,j)}findByItem(N,j=!1,$=!0,k={},...K){const z=new I._;z.searchParams=[new p.x("uuid",N)];const V=this.searchData.getSearchByHref(this.searchByItemLinkPath,z,...K);return this.findByHref(V,j,$,...K)}importExternalSourceEntry(N,j){const $=Object.create({});let k=new i.Lr;k=k.append("Content-Type","text/uri-list"),$.headers=k;const K=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(V=>`${V}?owningCollection=${j}`)).pipe((0,c.I)(V=>(0,e.a4)(V)),(0,t.T)(V=>{const G=new D.Qf(K,V,N,$);this.requestService.send(G)})).subscribe(),this.rdbService.buildFromRequestUUID(K)}searchBy(N,j,$,k,...K){return this.searchData.searchBy(N,j,$,k,...K)}static{this.\u0275fac=function(j){return new(j||M)(S.KVO(C.j),S.KVO(h.Y),S.KVO(i.Qq),S.KVO(f.I),S.KVO(R.B),S.KVO(m.o),S.KVO(y.$),S.KVO(T.il))}}static{this.\u0275prov=S.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},85579:(U,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(44043).v)("supervisionorder")},99737:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SupervisionOrderDataService:()=>j});var i=n(21626),t=n(96354),c=n(61594),e=n(89777),f=n(9847),m=n(57775),p=n(10186),y=n(81948),E=n(18328),v=n(72073),O=n(20881),C=n(4318),I=n(60796),D=n(96443),R=n(36343),h=n(49755),S=n(3601),T=n(74642),w=n(2086),M=n(7094),L=n(4093),N=n(54438);let j=(()=>{class $ extends O.W{constructor(K,z,V,G,X,J,q){super("supervisionorders",K,z,V,G),this.requestService=K,this.rdbService=z,this.objectCache=V,this.halService=G,this.notificationsService=X,this.comparator=J,this.groupService=q,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new E.V(this.linkPath,K,z,V,G,X,this.responseMsToLive),this.searchData=new I.X(this.linkPath,K,z,V,G,this.responseMsToLive),this.patchData=new C.n(this.linkPath,K,z,V,G,J,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new v.I(this.linkPath,K,z,V,G,X,this.responseMsToLive,this.constructIdEndpoint)}create(K,z,V,G){const X=[];return X.push(new p.x("uuid",z)),X.push(new p.x("group",V)),X.push(new p.x("type",G)),this.createData.create(K,...X)}delete(K){return this.deleteData.delete(K).pipe((0,L.qD)(),(0,t.T)(z=>z.hasSucceeded))}update(K){return this.patchData.update(K)}searchByGroup(K,z,V=!0,G=!0,...X){const J=new R._;return J.searchParams=[new p.x("uuid",K)],(0,e.hj)(z)&&J.searchParams.push(new p.x("item",z)),this.searchData.searchBy(this.searchByGroupMethod,J,V,G,...X)}searchByItem(K,z=!0,V=!0,...G){const X=new R._;return X.searchParams=[new p.x("uuid",K)],this.searchData.searchBy(this.searchByItemMethod,X,z,V,...G)}updateTarget(K,z,V,G){const J=this.groupService.getIDHrefObs(V),q=Object.create({});let ne=new i.Lr;ne=ne.append("Content-Type","text/uri-list"),q.headers=ne;const ee=this.requestService.generateRequestId();return J.pipe((0,c.$)()).subscribe(fe=>{const oe=new h.v_(ee,z+"/"+G,fe,q);Object.assign(oe,{getResponseParser:()=>T.M}),this.requestService.send(oe)}),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>this.invalidateByHref(z))}static{this.\u0275fac=function(z){return new(z||$)(N.KVO(S.B),N.KVO(m.o),N.KVO(y.$),N.KVO(M.Y),N.KVO(f.I),N.KVO(D.Y),N.KVO(w.GroupDataService))}}static{this.\u0275prov=N.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},25580:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ClaimedTaskDataService:()=>O});var i=n(21626),t=n(57775),c=n(10186),e=n(81948),f=n(36343),m=n(3601),p=n(7094),y=n(4093),E=n(76331),v=n(54438);let O=(()=>{class C extends E.w{constructor(D,R,h,S){super("claimedtasks",D,R,h,S,1e3),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=S}claimTask(D,R){const h=Object.create({});let S=new i.Lr;return S=S.append("Content-Type","text/uri-list"),h.headers=S,this.postToEndpoint(this.linkPath,R,null,h)}submitTask(D,R){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(R),D,this.makeHttpOptions())}returnToPoolTask(D){return this.deleteById(this.linkPath,D,this.makeHttpOptions())}findByItem(D){const R=new f._;return R.searchParams=[new c.x("uuid",D)],this.searchTask("findByItem",R).pipe((0,y.yd)())}static{this.\u0275fac=function(R){return new(R||C)(v.KVO(m.B),v.KVO(t.o),v.KVO(e.$),v.KVO(p.Y))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},17144:(U,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(52526),f=n(92229);let m=class extends f.B{static{this.type=e.a}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(f.B),(0,c.o8)(f.B)],m)},52526:(U,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(44043).v)("claimedtask")},13005:(U,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(88827),f=n(92229);let m=class extends f.B{static{this.type=e.T}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(f.B),(0,c.o8)(f.B)],m)},88827:(U,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(44043).v)("pooltask")},92229:(U,b,n)=>{"use strict";n.d(b,{B:()=>C});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(70963),m=n(59922),p=n(49229),y=n(73685);const v=new(n(44043).v)("taskobject");var O=n(9701);let C=class extends y.M{static{this.type=v}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N,!1,"owner"),(0,i.Sn)("design:type",c.c)],C.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",c.c)],C.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(p.z),(0,i.Sn)("design:type",Object)],C.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(O.f,!1,"action"),(0,i.Sn)("design:type",c.c)],C.prototype,"action",void 0),C=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(y.M)],C)},9701:(U,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(44043).v)("workflowaction")},31755:(U,b,n)=>{"use strict";n.r(b),n.d(b,{PoolTaskDataService:()=>v});var i=n(57775),t=n(10186),c=n(81948),e=n(36343),f=n(3601),m=n(7094),p=n(4093),y=n(76331),E=n(54438);let v=(()=>{class O extends y.w{constructor(I,D,R,h){super("pooltasks",I,D,R,h,1e3),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h}findByItem(I){const D=new e._;return D.searchParams=[new t.x("uuid",I)],this.searchTask("findByItem",D).pipe((0,p.qD)())}getPoolTaskEndpointById(I){return this.getEndpointById(I)}static{this.\u0275fac=function(D){return new(D||O)(E.KVO(f.B),E.KVO(i.o),E.KVO(c.$),E.KVO(m.Y))}}static{this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},76331:(U,b,n)=>{"use strict";n.d(b,{w:()=>D});var i=n(21626),t=n(5964),c=n(96354),e=n(23294),f=n(88141),m=n(73028),p=n(47677),y=n(89777),E=n(20881),v=n(60796),O=n(49755),C=n(4093);class I{constructor(h,S,T){this.isSuccessful=h,this.statusCode=S,this.errorMessage=T}get hasSucceeded(){return this.isSuccessful}}class D extends E.W{constructor(h,S,T,w,M,L){super(h,S,T,w,M),this.linkPath=h,this.requestService=S,this.rdbService=T,this.objectCache=w,this.halService=M,this.responseMsToLive=L,this.searchData=new v.X(this.linkPath,S,T,w,M,this.responseMsToLive)}getEndpointByIDHref(h,S){return(0,y.hj)(S)?`${h}/${S}`:`${h}`}postToEndpoint(h,S,T,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(h).pipe((0,t.p)(L=>(0,y.hj)(L)),(0,c.T)(L=>this.getEndpointByIDHref(L,T)),(0,e.F)(),(0,c.T)(L=>new O.$I(M,L,S,w)),(0,f.M)(L=>this.requestService.send(L)),(0,m.Z)(L=>this.fetchRequest(M)),(0,e.F)())}deleteById(h,S,T){const w=this.requestService.generateRequestId();return this.getEndpointById(S,h).pipe((0,c.T)(M=>new O._w(w,M,null,T)),(0,f.M)(M=>this.requestService.send(M)),(0,m.Z)(M=>this.fetchRequest(w)),(0,e.F)())}getEndpointById(h,S){return this.halService.getEndpoint(S||this.linkPath).pipe((0,t.p)(T=>(0,y.hj)(T)),(0,e.F)(),(0,c.T)(T=>this.getEndpointByIDHref(T,h)))}searchTask(h,S={},...T){return this.searchData.getSearchByHref(h,S,...T).pipe((0,p.I)(M=>(0,y.a4)(M)),(0,m.Z)(M=>this.findByHref(M,!1,!0).pipe((0,C.bD)(),(0,f.M)(()=>this.requestService.setStaleByHrefSubstring(M)))))}fetchRequest(h){return this.rdbService.buildFromRequestUUID(h).pipe((0,C.qD)(),(0,c.T)(S=>S.hasFailed?new I(!1,S.statusCode,S.errorMessage):new I(!0,S.statusCode)))}makeHttpOptions(){const h=Object.create({});let S=new i.Lr;return S=S.append("Content-Type","application/x-www-form-urlencoded"),h.headers=S,h}searchBy(h,S,T,w,...M){return this.searchData.searchBy(h,S,T,w,...M)}}},17624:(U,b,n)=>{"use strict";n.d(b,{F:()=>c});var i=n(78544),t=n(5127);class c extends t.t{constructor(...f){super(i.c.rest.baseUrl,"/api",...f)}}},5127:(U,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(89777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},94152:(U,b,n)=>{"use strict";n.d(b,{_U:()=>f,aK:()=>p,gM:()=>E,ug:()=>m});var i=n(89777);const t=new Map,c=new Map;function e(O,C,I){const D=I.find(R=>{if(O[R]===C[R]||(0,i.Tn)(O[R])&&(0,i.Tn)(C[R]))return!1;if((0,i.Tn)(O[R])||(0,i.Tn)(C[R]))return!0;const h=function v(O,C){return(c.get(O)||new Map).get(C)}(O.constructor,R);return(0,i.a4)(h)?!e(O[R],C[R],h):O[R]instanceof f?!O[R].equals(C[R]):"object"==typeof O[R]?!e(O[R],C[R],Object.keys(O)):O[R]!==C[R]});return(0,i.Tn)(D)}class f{equals(C){if((0,i.Tn)(C))return!1;if(this===C)return!0;const I=y(this.constructor);return e(this,C,Object.keys(this).filter(R=>!I.includes(R)))}}function m(O){return function(I){const D=y(O)||[],R=y(I)||[];t.set(I,[...R,...D]);const h=c.get(I)||new Map,S=c.get(O)||new Map;Array.from(S.keys()).filter(T=>!Array.from(h.keys()).includes(T)).forEach(T=>{E(...S.get(T))(new I,T)})}}function p(O,C){if(!O)return;let I=t.get(O.constructor);(0,i.Im)(I)&&(I=[]),t.set(O.constructor,[...I,C])}function y(O){return t.get(O)||[]}function E(...O){return function(I,D){if(!I)return;let R=c.get(I.constructor);(0,i.Im)(R)&&(R=new Map),R.set(D,O),c.set(I.constructor,R)}}},44940:(U,b,n)=>{"use strict";n.d(b,{dX:()=>c,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",c="XSRF-TOKEN"},77270:(U,b,n)=>{"use strict";n.d(b,{N:()=>t,q:()=>c});const t={SET:(0,n(6800).N)("dspace/core/correlationId/SET")};class c{constructor(f){this.payload=f,this.type=t.SET}}},9129:(U,b,n)=>{"use strict";n.d(b,{Mx:()=>I});var i=n(23536),t=n(89417),c=n(68018),e=n(88906),f=n(33745),m=n(31635),p=n(54438);let y=class{constructor(R){this.injectedRegistrationDataObject=R,this.registrationData=R}};function E(D,R){1&D&&(p.j41(0,"label",3),p.EFF(1),p.nI1(2,"translate"),p.k0s(),p.nrm(3,"input",6),p.nI1(4,"translate"),p.nI1(5,"dsBrowserOnly")),2&D&&(p.R7$(),p.JRh(p.bMT(2,3,"external-login-page.orcid-confirmation.email")),p.R7$(2),p.BMQ("aria-label",p.bMT(4,5,"external-login-page.orcid-confirmation.email.label"))("data-test",p.bMT(5,7,"email")))}y=(0,m.Cg)([(0,m.Qj)(0,(0,p.y_5)("registrationDataProvider")),(0,m.Sn)("design:paramtypes",[e.cH])],y);const O=new Map([[i.o.Orcid,(()=>{class D extends y{constructor(h,S){super(h),this.injectedRegistrationDataObject=h,this.formBuilder=S}ngOnInit(){this.form=this.formBuilder.group({netId:[{value:this.registrationData.netId,disabled:!0}],firstname:[{value:this.getFirstname(),disabled:!0}],lastname:[{value:this.getLastname(),disabled:!0}],email:[{value:this.registrationData?.email||"",disabled:!0}]})}getFirstname(){return this.registrationData.registrationMetadata?.["eperson.firstname"]?.[0]?.value||""}getLastname(){return this.registrationData.registrationMetadata?.["eperson.lastname"]?.[0]?.value||""}static{this.\u0275fac=function(S){return new(S||D)(p.rXU("registrationDataProvider"),p.rXU(t.ok))}}static{this.\u0275cmp=p.VBU({type:D,selectors:[["ds-orcid-confirmation"]],standalone:!0,features:[p.Vt3,p.aNF],decls:20,vars:30,consts:[["novalidate","",1,"form-login",3,"formGroup"],[1,"fw-bold","mb-0","text-uppercase"],["autocomplete","off","autofocus","","formControlName","netId","type","text",1,"form-control","form-control-lg","position-relative","mb-2",3,"placeholder"],[1,"fw-bold","mb-0"],["autocomplete","off","formControlName","lastname","type","text",1,"form-control","form-control-lg","position-relative","mb-2"],["autocomplete","off","formControlName","firstname","type","text",1,"form-control","form-control-lg","position-relative","mb-2"],["autocomplete","off","formControlName","email","type","email",1,"form-control","form-control-lg","position-relative"]],template:function(S,T){1&S&&(p.j41(0,"form",0)(1,"label",1),p.EFF(2),p.k0s(),p.nrm(3,"input",2),p.nI1(4,"translate"),p.nI1(5,"translate"),p.nI1(6,"dsBrowserOnly"),p.j41(7,"label",3),p.EFF(8),p.nI1(9,"translate"),p.k0s(),p.nrm(10,"input",4),p.nI1(11,"translate"),p.nI1(12,"dsBrowserOnly"),p.j41(13,"label",3),p.EFF(14),p.nI1(15,"translate"),p.k0s(),p.nrm(16,"input",5),p.nI1(17,"translate"),p.nI1(18,"dsBrowserOnly"),p.DNE(19,E,6,9),p.k0s()),2&S&&(p.Y8G("formGroup",T.form),p.R7$(2),p.JRh(T.registrationData.registrationType),p.R7$(),p.Y8G("placeholder",p.bMT(4,12,"external-login-page.orcid-confirmation.netid.placeholder")),p.BMQ("aria-label",p.bMT(5,14,"external-login-page.orcid-confirmation.netid.label"))("data-test",p.bMT(6,16,"netId")),p.R7$(5),p.JRh(p.bMT(9,18,"external-login-page.orcid-confirmation.lastname")),p.R7$(2),p.BMQ("aria-label",p.bMT(11,20,"external-login-page.orcid-confirmation.lastname.label"))("data-test",p.bMT(12,22,"lastname")),p.R7$(4),p.JRh(p.bMT(15,24,"external-login-page.orcid-confirmation.firstname")),p.R7$(2),p.BMQ("aria-label",p.bMT(17,26,"external-login-page.orcid-confirmation.firstname.label"))("data-test",p.bMT(18,28,"firstname")),p.R7$(3),p.vxM(null!=T.registrationData&&T.registrationData.email?19:-1))},dependencies:[f.L,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,c.h,c.D9],changeDetection:0})}}return D})()]]);function I(D){return O.get(D)}},13684:(U,b,n)=>{"use strict";n.r(b),n.d(b,{FooterComponent:()=>w});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),f=n(79096),m=n(85500),p=n(11873),y=n(6170),E=n(89777),v=n(54438),O=n(89564);const C=M=>({year:M});function I(M,L){1&M&&(v.j41(0,"div",0)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h5",12),v.EFF(5,"Footer Content"),v.k0s(),v.j41(6,"ul",13)(7,"li")(8,"a",14),v.EFF(9,"Lorem ipsum"),v.k0s()(),v.j41(10,"li")(11,"a",14),v.EFF(12,"Ut facilisis"),v.k0s()(),v.j41(13,"li")(14,"a",14),v.EFF(15,"Aenean sit"),v.k0s()()()(),v.j41(16,"div",11)(17,"h5",12),v.EFF(18,"Footer Content"),v.k0s(),v.j41(19,"ul",13)(20,"li")(21,"a",15),v.EFF(22,"Suspendisse potenti"),v.k0s()()()(),v.j41(23,"div",16)(24,"h5",12),v.EFF(25,"Footer Content"),v.k0s(),v.j41(26,"p"),v.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),v.k0s()()()()())}function D(M,L){if(1&M){const N=v.RV6();v.j41(0,"li")(1,"button",17),v.bIt("click",function(){v.eBV(N);const $=v.XpG();return v.Njj($.openCookieSettings())}),v.EFF(2),v.nI1(3,"translate"),v.k0s()()}2&M&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"footer.link.cookies")," "))}function R(M,L){1&M&&(v.j41(0,"li")(1,"a",18),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&M&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.privacy-policy")))}function h(M,L){1&M&&(v.j41(0,"li")(1,"a",19),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&M&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.end-user-agreement")))}function S(M,L){1&M&&(v.j41(0,"li")(1,"a",20),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&M&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.feedback")))}function T(M,L){1&M&&(v.j41(0,"div",8)(1,"a",21),v.nrm(2,"img",22),v.nI1(3,"translate"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()),2&M&&(v.R7$(2),v.BMQ("alt",v.bMT(3,2,"menu.header.image.logo")),v.R7$(2),v.SpI(" ",v.bMT(5,4,"footer.link.coar-notify-support")," "))}let w=(()=>{class M{constructor(N,j,$,k){this.cookies=N,this.authorizationService=j,this.notifyInfoService=$,this.appConfig=k,this.dateObj=Date.now(),this.showTopFooter=!1,this.showCookieSettings=!1}ngOnInit(){this.showCookieSettings=this.appConfig.info.enableCookieConsentPopup,this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(y._.CanSendFeedback)}openCookieSettings(){return(0,E.a4)(this.cookies)&&this.cookies.showSettings instanceof Function&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(j){return new(j||M)(v.rXU(O.B,8),v.rXU(p.AuthorizationDataService),v.rXU(m.P),v.rXU(f.vQ))}}static{this.\u0275cmp=v.VBU({type:M,selectors:[["ds-base-footer"]],standalone:!0,features:[v.aNF],decls:26,vars:28,consts:[[1,"top-footer"],[1,"bottom-footer","p-1","d-flex","flex-column","flex-md-row","justify-content-center","align-items-center","text-white"],[1,"content-container","align-self-center"],[1,"m-0"],["href","http://www.dspace.org/","role","link","tabindex","0",1,"text-white"],["href","https://www.lyrasis.org/","role","link","tabindex","0",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["routerLink","info/accessibility","role","link","tabindex","0",1,"btn","text-white"],[1,"notify-enabled","text-white","align-self-end"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],["routerLink","./","role","link","tabindex","0",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["type","button","role","button","tabindex","0",1,"btn","btn-link","text-white",3,"click"],["routerLink","info/privacy","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/end-user-agreement","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/feedback","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/coar-notify-support","role","link","tabindex","0",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(j,$){1&j&&(v.j41(0,"footer"),v.DNE(1,I,28,0,"div",0),v.j41(2,"div",1)(3,"div",2)(4,"p",3)(5,"a",4),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.EFF(8),v.nI1(9,"date"),v.nI1(10,"translate"),v.j41(11,"a",5),v.EFF(12),v.nI1(13,"translate"),v.k0s()(),v.j41(14,"ul",6),v.DNE(15,D,4,3,"li"),v.j41(16,"li")(17,"a",7),v.EFF(18),v.nI1(19,"translate"),v.k0s()(),v.DNE(20,R,4,3,"li")(21,h,4,3,"li")(22,S,4,3,"li"),v.nI1(23,"async"),v.k0s()(),v.DNE(24,T,6,6,"div",8),v.nI1(25,"async"),v.k0s()()),2&j&&(v.R7$(),v.vxM($.showTopFooter?1:-1),v.R7$(5),v.JRh(v.bMT(7,10,"footer.link.dspace")),v.R7$(2),v.SpI(" ",v.i5U(10,15,"footer.copyright",v.eq3(26,C,v.i5U(9,12,$.dateObj,"y")))," "),v.R7$(4),v.JRh(v.bMT(13,18,"footer.link.lyrasis")),v.R7$(3),v.vxM($.showCookieSettings?15:-1),v.R7$(3),v.JRh(v.bMT(19,20,"footer.link.accessibility")),v.R7$(2),v.vxM($.showPrivacyPolicy?20:-1),v.R7$(),v.vxM($.showEndUserAgreement?21:-1),v.R7$(),v.vxM(v.bMT(23,22,$.showSendFeedback$)?22:-1),v.R7$(2),v.vxM(v.bMT(25,24,$.coarLdnEnabled$)?24:-1))},dependencies:[i.Jj,i.vh,t.Wk,c.h,c.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:relative;margin-top:4px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}@media screen and (min-width: 768px){[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0}}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none}']})}}return M})()},82272:(U,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(29710),c=(n(13684),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(E){return n(43562)(`./${E}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,13684))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-footer"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},21772:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ForbiddenComponent:()=>m});var i=n(7901),t=n(68018),c=n(94196),e=n(80193),f=n(54438);let m=(()=>{class p{constructor(E,v){this.authService=E,this.responseService=v,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(v){return new(v||p)(f.rXU(c.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:p,selectors:[["ds-base-forbidden"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(v,O){1&v&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"403"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&v&&(f.R7$(5),f.JRh(f.bMT(6,3,"403.forbidden")),f.R7$(4),f.JRh(f.bMT(10,5,"403.help")),f.R7$(5),f.JRh(f.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return p})()},11989:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(88368),c=n(31352),e=n(50842),f=n(96132),m=n(66372),p=n(54438);const y=v=>({open:v});let E=(()=>{class v{constructor(C,I){this.menuService=C,this.windowService=I,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(I){return new(I||v)(p.rXU(f.$),p.rXU(e.CV))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[p.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(I,D){1&I&&(p.j41(0,"div",0),p.nI1(1,"async"),p.nrm(2,"ds-header")(3,"ds-navbar"),p.k0s()),2&I&&p.Y8G("ngClass",p.eq3(3,y,!0!==p.bMT(1,1,D.isNavBarCollapsed$)))},dependencies:[i.Jj,i.YU,t.q,c.D],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return v})()},55681:(U,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(29710),c=(n(11989),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(E){return n(20991)(`./${E}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,11989))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},84848:(U,b,n)=>{"use strict";n.d(b,{Y:()=>p});var i=n(60177),t=n(68018),c=n(96354),e=n(16036),f=n(54438);function m(y,E){if(1&y){const v=f.RV6();f.j41(0,"div")(1,"a",0),f.nI1(2,"translate"),f.nI1(3,"translate"),f.bIt("click",function(){f.eBV(v);const C=f.XpG();return f.Njj(C.onClick())}),f.nrm(4,"i",1),f.k0s()()}2&y&&(f.R7$(),f.Y8G("title",f.bMT(2,2,"nav.context-help-toggle")),f.BMQ("aria-label",f.bMT(3,4,"nav.context-help-toggle")))}let p=(()=>{class y{constructor(v,O){this.elRef=v,this.contextHelpService=O,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,c.T)(v=>v>0)),this.subscriptions.push(this.buttonVisible$.subscribe(v=>{v?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(O){return new(O||y)(f.rXU(f.aKT),f.rXU(e.O))}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[f.aNF],decls:2,vars:3,consts:[["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(O,C){1&O&&(f.DNE(0,m,5,6,"div"),f.nI1(1,"async")),2&O&&f.vxM(f.bMT(1,1,C.buttonVisible$)?0:-1)},dependencies:[i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return y})()},81176:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),f=n(51728),m=n(85546),p=n(50842),y=n(22114),E=n(72012),v=n(96132),O=n(66372),C=n(84848),I=n(54438);function D(h,S){if(1&h){const T=I.RV6();I.j41(0,"div",6)(1,"button",7),I.nI1(2,"translate"),I.bIt("click",function(){I.eBV(T);const M=I.XpG();return I.Njj(M.toggleNavbar())}),I.nrm(3,"span",8),I.k0s()()}2&h&&(I.R7$(),I.BMQ("aria-label",I.bMT(2,1,"nav.toggle")))}let R=(()=>{class h{constructor(T,w){this.menuService=T,this.windowService=w,this.menuID=O.D.PUBLIC,this.maxMobileWidth=p.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(w){return new(w||h)(I.rXU(v.$),I.rXU(p.CV))}}static{this.\u0275cmp=I.VBU({type:h,selectors:[["ds-base-header"]],standalone:!0,features:[I.aNF],decls:16,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home","role","button","tabindex","0",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],[1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["role","toolbar"],[1,"ps-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(w,M){1&w&&(I.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),I.nrm(4,"img",3),I.nI1(5,"translate"),I.k0s(),I.j41(6,"div",4),I.nrm(7,"ds-search-navbar"),I.j41(8,"div",5),I.nI1(9,"translate"),I.nrm(10,"ds-lang-switch")(11,"ds-context-help-toggle")(12,"ds-auth-nav-menu")(13,"ds-impersonate-navbar"),I.k0s(),I.DNE(14,D,4,3,"div",6),I.nI1(15,"async"),I.k0s()()()()),2&w&&(I.R7$(4),I.BMQ("alt",I.bMT(5,3,"menu.header.image.logo")),I.R7$(4),I.BMQ("aria-label",I.bMT(9,5,"nav.user.description")),I.R7$(6),I.vxM(I.bMT(15,7,M.isMobile$)?14:-1))},dependencies:[i.Jj,C.Y,y.d,c.zH,c.QE,t.Wk,m.v,E.n,f.X,e.h,e.D9],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], [_nghost-%COMP%]   div[role=toolbar][_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return h})()},88368:(U,b,n)=>{"use strict";n.d(b,{q:()=>m});var i=n(29710),c=(n(81176),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(E){return n(16722)(`./${E}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81176))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-header"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},96762:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:20,vars:0,consts:[[1,"home-news-content","py-4","px-2","py-sm-5","px-sm-0","mt-ncs","mb-4"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank","role","link","tabindex","0"]],template:function(m,p){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"DSpace 9"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"DSpace is the world leading open source repository platform that enables organisations to:"),i.k0s()()(),i.j41(8,"ul")(9,"li"),i.EFF(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),i.k0s(),i.j41(11,"li"),i.EFF(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),i.k0s(),i.j41(13,"li"),i.EFF(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),i.k0s()(),i.j41(15,"p"),i.EFF(16,"Join an international community of "),i.j41(17,"a",5),i.EFF(18,"leading institutions using DSpace"),i.k0s(),i.EFF(19,". "),i.k0s()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.home-news-content[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}}return c})()},62877:(U,b,n)=>{"use strict";n.d(b,{Dh:()=>m,KN:()=>p,KS:()=>f,UB:()=>e,jK:()=>t,lB:()=>c});var i=n(15343);const t="end-user-agreement",c="privacy",e="feedback",f="coar-notify-support",m="accessibility";function p(){return function C(I){return`${(0,i.e_)()}/${I}`}(t)}},55743:(U,b,n)=>{"use strict";n.d(b,{$2:()=>c,Bw:()=>m,Jr:()=>f,K4:()=>p,KY:()=>y,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",c="private",e="public",f="delete",m="move",p="authorizations",y="register-doi"},94549:(U,b,n)=>{"use strict";n.d(b,{W:()=>p});var i=n(60177),t=n(68018),e=(n(15862),n(54438));function f(y,E){if(1&y&&(e.j41(0,"tr",2)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&y){const v=E.$implicit,O=e.XpG().$implicit;e.R7$(2),e.JRh(O.key),e.R7$(2),e.JRh(v.value),e.R7$(2),e.JRh(v.language)}}function m(y,E){1&y&&e.Z7z(0,f,7,3,"tr",2,e.fX1),2&y&&e.Dyx(E.$implicit.value)}let p=(()=>{class y{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:16,vars:11,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[1,"metadata-row"]],template:function(O,C){1&O&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.Z7z(13,m,2,0,null,null,e.fX1),e.nI1(15,"keyvalue"),e.k0s()()),2&O&&(e.R7$(4),e.JRh(e.bMT(5,3,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,5,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,7,"item.edit.modify.overview.language")),e.R7$(3),e.Dyx(e.bMT(15,9,C.metadata)))},dependencies:[i.lG,t.h,t.D9],encapsulation:2})}}return y})()},39264:(U,b,n)=>{"use strict";n.d(b,{r:()=>k});var i=n(60177),t=n(7901),c=n(68018),e=n(84412),f=n(84572),m=n(99172),p=n(88141),y=n(53993),E=n(25558),v=n(31943),O=n(96354),C=n(43446),I=n(69295),D=n(36343),h=(n(15862),n(4093)),S=n(89777),T=n(72862),w=n(54438);const M=K=>["/collections",K];function L(K,z){if(1&K&&w.nrm(0,"span",4),2&K){const V=w.XpG(2);w.Y8G("innerHTML",V.separator,w.npT)}}function N(K,z){if(1&K&&(w.j41(0,"a",2)(1,"span"),w.EFF(2),w.k0s(),w.DNE(3,L,1,1,"span",4),w.k0s()),2&K){const V=z.$implicit,G=z.$index,X=z.$count,J=w.XpG();w.Y8G("routerLink",w.eq3(3,M,V.id)),w.R7$(2),w.JRh(J.dsoNameService.getName(V)),w.R7$(),w.vxM(G!==X-1?3:-1)}}function j(K,z){1&K&&(w.j41(0,"div"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.loading")," "))}function $(K,z){if(1&K){const V=w.RV6();w.j41(0,"a",5),w.bIt("click",function(X){w.eBV(V);const J=w.XpG();return X.preventDefault(),w.Njj(J.handleLoadMore())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.load-more")," "))}let k=(()=>{class K{constructor(V,G,X){this.cds=V,this.dsoNameService=G,this.cdr=X,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const V=this.cds.findOwningCollectionFor(this.item).pipe((0,h.ak)(),(0,m.Z)(null)),G=this.loadMore$.pipe((0,p.M)(()=>this.isLoading$.next(!0)),(0,y.E)(this.lastPage$),(0,E.n)(([X,J])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new D._,{elementsPerPage:this.pageSize,currentPage:J+1}))),(0,h.bD)(),(0,p.M)(()=>this.isLoading$.next(!1)),(0,h.Hz)(),(0,p.M)(X=>this.hasMore$.next(X.currentPage<X.totalPages)),(0,p.M)(X=>this.lastPage$.next(X.currentPage)),(0,h.W8)(),(0,v.S)((X,J)=>[...X,...J],[]),(0,m.Z)([]));this.collections$=(0,f.z)([V,G]).pipe((0,O.T)(([X,J])=>[X,...J].filter(q=>(0,S.a4)(q)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(G){return new(G||K)(w.rXU(I.CollectionDataService),w.rXU(C.f),w.rXU(w.gRc))}}static{this.\u0275cmp=w.VBU({type:K,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[w.aNF],decls:11,vars:13,consts:[[3,"label"],[1,"collections"],["role","button","tabindex","0",3,"routerLink"],["role","button","href","javascript:void(0);","role","button","tabindex","0",1,"load-more-btn","btn","btn-sm","btn-outline-secondary"],[3,"innerHTML"],["role","button","href","javascript:void(0);","role","button","tabindex","0",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(G,X){1&G&&(w.j41(0,"ds-metadata-field-wrapper",0),w.nI1(1,"translate"),w.j41(2,"div",1),w.Z7z(3,N,4,5,"a",2,w.fX1),w.nI1(5,"async"),w.k0s(),w.DNE(6,j,3,3,"div"),w.nI1(7,"async"),w.DNE(8,$,3,3,"a",3),w.nI1(9,"async"),w.nI1(10,"async"),w.k0s()),2&G&&(w.Y8G("label",w.bMT(1,3,X.label)),w.R7$(3),w.Dyx(w.bMT(5,5,X.collections$)),w.R7$(3),w.vxM(w.bMT(7,7,X.isLoading$)?6:-1),w.R7$(2),w.vxM(!0!==w.bMT(9,9,X.isLoading$)&&w.bMT(10,11,X.hasMore$)?8:-1))},dependencies:[i.Jj,T.Q,t.Wk,c.h,c.D9],encapsulation:2})}}return K})()},92767:(U,b,n)=>{"use strict";n.d(b,{$r:()=>p,DL:()=>v,Fy:()=>e,HN:()=>S,_o:()=>m,_z:()=>h,aX:()=>R,jU:()=>C,nF:()=>y,vf:()=>O,xb:()=>c});var i=n(5127),t=n(89777);const c="items";function e(){return`/${c}`}function m(T){return E(T.firstMetadataValue("dspace.entity.type"),T.uuid)}function p(T){return new i.t(m(T),C).toString()}function y(T){return new i.t(m(T),C,I).toString()}function E(T,w){return(0,t.hj)(T)?new i.t("/entities",encodeURIComponent(T.toLowerCase()),w).toString():new i.t(e(),w).toString()}function v(T,w){return new i.t(E(T,w),C).toString()}function O(T){return new i.t(e(),D,T).toString()}const C="edit",I="versionhistory",D="version",R="bitstreams/new",h="orcid",S="access-by-token"},92550:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerImageComponent:()=>m});var i=n(60177),t=n(23632),c=n(94196),e=n(89777),f=n(54438);let m=(()=>{class p{constructor(E){this.authService=E,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(E){const v=[];for(const O of E)"image"===O.format&&v.push({small:O.thumbnail?O.thumbnail:this.thumbnailPlaceholder,medium:O.thumbnail?O.thumbnail:this.thumbnailPlaceholder,big:O.bitstream._links.content.href+((0,e.a4)(O.accessToken)?"?accessToken="+O.accessToken:"")});return v}static{this.\u0275fac=function(v){return new(v||p)(f.rXU(c.uR))}}static{this.\u0275cmp=f.VBU({type:p,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[f.OA$,f.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(v,O){1&v&&(f.j41(0,"div"),f.nI1(1,"async"),f.nrm(2,"ngx-gallery",0),f.k0s()),2&v&&(f.AVh("change-gallery",f.bMT(1,4,O.isAuthenticated$)),f.R7$(2),f.Y8G("options",O.galleryOptions)("images",O.galleryImages))},dependencies:[i.Jj,t.cz,t.Fv],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return p})()},86730:(U,b,n)=>{"use strict";n.d(b,{Q:()=>m});var i=n(29710),c=(n(92550),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(E){return n(52636)(`./${E}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,92550))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},1013:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerVideoComponent:()=>I});var i=n(58003),t=n(68018),c=n(43446),e=n(79104),f=n(89777);class m{constructor(R,h,S){this.src=R,this.srclang=h,this.langLabel=S}}const p={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var y=n(54438);function E(D,R){if(1&D&&y.nrm(0,"track",2),2&D){const h=R.$implicit;y.Y8G("src",h.src,y.B4B)("label",h.langLabel)("srclang",h.srclang)}}function v(D,R){1&D&&y.Z7z(0,E,1,3,"track",2,y.fX1),2&D&&y.Dyx(R)}function O(D,R){if(1&D){const h=y.RV6();y.j41(0,"button",9),y.bIt("click",function(){const T=y.eBV(h).$index,w=y.XpG(2);return y.Njj(w.selectedMedia(T))}),y.EFF(1),y.k0s()}if(2&D){const h=R.$implicit,S=y.XpG(2);y.R7$(),y.SpI(" ",S.dsoNameService.getName(h.bitstream)," ")}}function C(D,R){if(1&D){const h=y.RV6();y.j41(0,"div",1)(1,"button",3),y.bIt("click",function(){y.eBV(h);const T=y.XpG();return y.Njj(T.prevMedia())}),y.EFF(2),y.nI1(3,"translate"),y.k0s(),y.j41(4,"button",4),y.bIt("click",function(){y.eBV(h);const T=y.XpG();return y.Njj(T.nextMedia())}),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.j41(7,"div",5)(8,"button",6),y.EFF(9),y.nI1(10,"translate"),y.k0s(),y.j41(11,"div",7),y.Z7z(12,O,2,1,"button",8,y.fX1),y.k0s()()()}if(2&D){const h=y.XpG();y.R7$(),y.Y8G("dsBtnDisabled",0===h.currentIndex),y.R7$(),y.SpI(" ",y.bMT(3,5,"media-viewer.previous")," "),y.R7$(2),y.Y8G("dsBtnDisabled",h.currentIndex===h.medias.length-1),y.R7$(),y.SpI(" ",y.bMT(6,7,"media-viewer.next")," "),y.R7$(4),y.SpI(" ",y.bMT(10,9,"media-viewer.playlist")," "),y.R7$(3),y.Dyx(h.medias)}}let I=(()=>{class D{constructor(h){this.dsoNameService=h,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(h,S){const T=[],w=S.filter(M=>M.name.substring(0,M.name.length-7).toLowerCase()===h.toLowerCase());for(const M of w){const L=M.name.slice(-6,-4).toLowerCase();T.push(new m(this.constructHref(M._links.content.href),L,p[L]))}return T}selectedMedia(h){this.currentIndex=h}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}constructHref(h){return(0,f.a4)(this.medias)&&this.medias.length>=1&&(0,f.a4)(this.medias[0].accessToken)?h+"?accessToken="+this.medias[0].accessToken:h}static{this.\u0275fac=function(S){return new(S||D)(y.rXU(c.f))}}static{this.\u0275cmp=y.VBU({type:D,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[y.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[1,"buttons"],[3,"src","label","srclang"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",1,"list-element"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(S,T){if(1&S&&(y.j41(0,"video",0),y.DNE(1,v,2,0),y.k0s(),y.DNE(2,C,14,11,"div",1)),2&S){let w;y.Y8G("src",T.constructHref(T.medias[T.currentIndex].bitstream._links.content.href),y.B4B)("poster",T.medias[T.currentIndex].thumbnail||T.replacements[T.medias[T.currentIndex].format],y.B4B),y.R7$(),y.vxM((w=T.getMediaCap(T.medias[T.currentIndex].bitstream.name,T.captions))?1:-1,w),y.R7$(),y.vxM((null==T.medias?null:T.medias.length)>1?2:-1)}},dependencies:[e.A,i.zH,i.tg,i.do,i.U0,i._H,t.h,t.D9],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return D})()},13310:(U,b,n)=>{"use strict";n.d(b,{U:()=>m});var i=n(29710),c=(n(1013),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(E){return n(61196)(`./${E}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1013))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},82146:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerComponent:()=>ee});var i=n(60177),t=n(68018),c=n(84412),e=n(5964),f=n(96697),m=n(78544),p=n(4266);n(15862);class E{}var v=n(4093),O=n(89777),C=n(15202),I=n(4600),D=n(50186),R=n(49170),h=n(86730),S=n(13310),T=n(54438),w=n(7901);const M=()=>["audio","video"];function L(fe,ye){1&fe&&(T.nrm(0,"ds-loading",1),T.nI1(1,"translate")),2&fe&&(T.FS9("message",T.bMT(1,2,"loading.default")),T.Y8G("showMessage",!1))}function N(fe,ye){if(1&fe&&(T.nrm(0,"ds-media-viewer-video",4),T.nI1(1,"async")),2&fe){const oe=T.XpG(5).ngVar,ue=T.XpG();T.Y8G("medias",oe)("captions",T.bMT(1,2,ue.captions$))}}function j(fe,ye){if(1&fe&&T.nrm(0,"ds-media-viewer-image",5),2&fe){const oe=T.XpG(5).ngVar;T.Y8G("images",oe)}}function $(fe,ye){}function k(fe,ye){if(1&fe&&(T.nrm(0,"ds-media-viewer-image",6),T.nI1(1,"async")),2&fe){let oe;const ue=T.XpG(7);T.Y8G("image",(null==(oe=T.bMT(1,2,ue.thumbnailsRD$))||null==oe.payload||null==oe.payload.page[0]?null:oe.payload.page[0]._links.content.href)||ue.thumbnailPlaceholder)("preview",!1)}}function K(fe,ye){if(1&fe&&(T.nrm(0,"ds-thumbnail",3),T.nI1(1,"async")),2&fe){let oe;const ue=T.XpG(7);T.Y8G("thumbnail",null==(oe=T.bMT(1,1,ue.thumbnailsRD$))||null==oe.payload?null:oe.payload.page[0])}}function z(fe,ye){if(1&fe&&T.DNE(0,k,2,4,"ds-media-viewer-image",6)(1,K,2,3,"ds-thumbnail",3),2&fe){const oe=T.XpG(6);T.vxM(oe.mediaOptions.image&&oe.mediaOptions.video?0:-1),T.R7$(),T.vxM(oe.mediaOptions.image&&oe.mediaOptions.video?-1:1)}}function V(fe,ye){if(1&fe&&(T.qex(0),T.DNE(1,N,2,4,"ds-media-viewer-video",4)(2,j,1,1,"ds-media-viewer-image",5)(3,$,0,0)(4,z,2,2),T.bVm()),2&fe){const oe=ye.ngVar,ue=T.XpG().ngVar;T.R7$(),T.vxM(ue?1:-1),T.R7$(),T.vxM(oe?2:-1),T.R7$(),T.vxM(oe||ue?3:4)}}function G(fe,ye){if(1&fe&&(T.qex(0),T.DNE(1,V,5,3,"ng-container",0),T.bVm()),2&fe){const oe=T.XpG(3).ngVar,ue=T.XpG();T.R7$(),T.Y8G("ngVar",ue.mediaOptions.image&&"image"===(null==oe[0]?null:oe[0].format))}}function X(fe,ye){if(1&fe&&T.DNE(0,G,2,1,"ng-container",0),2&fe){const oe=T.XpG(2).ngVar,ue=T.XpG();T.Y8G("ngVar",ue.mediaOptions.video&&T.lJ4(1,M).includes(null==oe[0]?null:oe[0].format))}}function J(fe,ye){if(1&fe&&(T.nrm(0,"ds-thumbnail",3),T.nI1(1,"async")),2&fe){let oe;const ue=T.XpG(3);T.Y8G("thumbnail",null==(oe=T.bMT(1,1,ue.thumbnailsRD$))||null==oe.payload?null:oe.payload.page[0])}}function q(fe,ye){if(1&fe&&(T.j41(0,"div",2),T.DNE(1,X,1,2,"ng-container")(2,J,2,3,"ds-thumbnail",3),T.k0s()),2&fe){const oe=T.XpG().ngVar;T.R7$(),T.vxM(oe.length>0?1:2)}}function ne(fe,ye){if(1&fe&&(T.qex(0),T.DNE(1,L,2,4,"ds-loading",1)(2,q,3,1,"div",2),T.bVm()),2&fe){const oe=T.XpG();T.R7$(),T.vxM(oe.isLoading?1:2)}}let ee=(()=>{class fe{constructor(oe,ue,te){this.bitstreamDataService=oe,this.changeDetectorRef=ue,this.route=te,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new c.t([]),this.captions$=new c.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(oe=>oe.unsubscribe())}ngOnInit(){this.itemRequest=this.route.snapshot.data.itemRequest;const oe=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(ue=>{0===ue.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(te=>{for(let se=0;se<ue.payload.page.length;se++)this.subs.push(ue.payload.page[se].format.pipe((0,v.ak)()).subscribe(be=>{const me=this.createMediaViewerItem(ue.payload.page[se],be,te.payload&&te.payload.page[se]);oe.includes(me.format)?this.mediaList$.next([...this.mediaList$.getValue(),me]):"text/vtt"===be.mimetype&&this.captions$.next([...this.captions$.getValue(),ue.payload.page[se]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(oe){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,oe,{},!0,!0,(0,I.s)("format")).pipe((0,e.p)(ue=>(0,O.a4)(ue)&&((0,O.a4)(ue.errorMessage)||(0,O.a4)(ue.payload))),(0,f.s)(1))}createMediaViewerItem(oe,ue,te){const se=new E;return se.bitstream=oe,se.format=ue.mimetype.split("/")[0],se.mimetype=ue.mimetype,se.thumbnail=te?te._links.content.href:null,se.accessToken=this.accessToken,se}get accessToken(){return(0,O.a4)(this.itemRequest)&&this.itemRequest.accessToken&&!this.itemRequest.accessExpired?this.itemRequest.accessToken:null}static{this.\u0275fac=function(ue){return new(ue||fe)(T.rXU(p.BitstreamDataService),T.rXU(T.gRc),T.rXU(w.nX))}}static{this.\u0275cmp=T.VBU({type:fe,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[T.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"message","showMessage"],[1,"media-viewer"],[3,"thumbnail"],[3,"medias","captions"],[3,"images"],[3,"image","preview"]],template:function(ue,te){1&ue&&(T.DNE(0,ne,3,1,"ng-container",0),T.nI1(1,"async")),2&ue&&T.Y8G("ngVar",T.bMT(1,1,te.mediaList$))},dependencies:[i.Jj,C.v,h.Q,S.U,R.T,t.h,t.D9,D.r]})}}return fe})()},1837:(U,b,n)=>{"use strict";n.d(b,{e:()=>c});var i=n(89777),t=n(54438);let c=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(p,y){},encapsulation:2})}}return e})()},57047:(U,b,n)=>{"use strict";n.r(b),n.d(b,{FileSectionComponent:()=>K});var i=n(60177),t=n(68018),c=n(84412),e=n(79096),f=n(43446),m=n(4266),y=(n(15862),n(4093)),E=n(89777),v=n(96044),O=n(15202),C=n(72862),I=n(9847),D=n(81829),R=n(4600),h=n(50186),S=n(54438);function T(z,V){1&z&&(S.j41(0,"span",7),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&z&&(S.R7$(),S.JRh(S.bMT(2,1,"item.page.bitstreams.primary")))}function w(z,V){if(1&z&&S.nrm(0,"span",8),2&z){const G=S.XpG(4);S.FS9("innerHTML",G.separator,S.npT)}}function M(z,V){if(1&z&&(S.j41(0,"ds-file-download-link",3)(1,"span"),S.DNE(2,T,3,3,"span",7),S.EFF(3),S.k0s(),S.j41(4,"span"),S.EFF(5),S.nI1(6,"dsFileSize"),S.k0s(),S.DNE(7,w,1,1,"span",8),S.k0s()),2&z){const G=V.$implicit,X=V.$index,J=V.$count,q=S.XpG(3);S.Y8G("bitstream",G)("item",q.item),S.R7$(2),S.vxM(q.primaryBitstreamId===G.id?2:-1),S.R7$(),S.SpI(" ",q.dsoNameService.getName(G)," "),S.R7$(2),S.SpI(" (",S.bMT(6,6,null==G?null:G.sizeBytes),")"),S.R7$(2),S.vxM(X!==J-1?7:-1)}}function L(z,V){1&z&&(S.nrm(0,"ds-loading",4),S.nI1(1,"translate")),2&z&&(S.FS9("message",S.bMT(1,2,"loading.default")),S.Y8G("showMessage",!1))}function N(z,V){if(1&z){const G=S.RV6();S.j41(0,"div",5)(1,"button",9),S.bIt("click",function(){S.eBV(G);const J=S.XpG(3);return S.Njj(J.getNextPage())}),S.EFF(2),S.nI1(3,"translate"),S.k0s()()}2&z&&(S.R7$(2),S.JRh(S.bMT(3,1,"item.page.bitstreams.view-more")))}function j(z,V){if(1&z){const G=S.RV6();S.j41(0,"div",6)(1,"button",10),S.bIt("click",function(){S.eBV(G);const J=S.XpG(3);return J.currentPage=void 0,S.Njj(J.getNextPage())}),S.EFF(2),S.nI1(3,"translate"),S.k0s()()}2&z&&(S.R7$(2),S.JRh(S.bMT(3,1,"item.page.bitstreams.collapse")))}function $(z,V){if(1&z&&(S.j41(0,"ds-metadata-field-wrapper",1),S.nI1(1,"translate"),S.j41(2,"div",2),S.Z7z(3,M,8,8,"ds-file-download-link",3,S.fX1),S.DNE(5,L,2,4,"ds-loading",4)(6,N,4,3,"div",5)(7,j,4,3,"div",6),S.k0s()()),2&z){const G=S.XpG().ngVar,X=S.XpG();S.Y8G("label",S.bMT(1,4,X.label)),S.R7$(3),S.Dyx(G),S.R7$(2),S.vxM(X.isLoading?5:-1),S.R7$(),S.vxM(X.isLastPage?-1:6),S.R7$(),S.vxM(X.isLastPage&&1!==X.currentPage?7:-1)}}function k(z,V){if(1&z&&(S.qex(0),S.DNE(1,$,8,6,"ds-metadata-field-wrapper",1),S.bVm()),2&z){const G=V.ngVar;S.R7$(),S.vxM((null==G?null:G.length)>0?1:-1)}}let K=(()=>{class z{constructor(G,X,J,q,ne){this.bitstreamDataService=G,this.notificationsService=X,this.translateService=J,this.dsoNameService=q,this.appConfig=ne,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(G=>{G&&(this.primaryBitstreamId=G?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new c.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize},!0,!0,(0,R.s)("accessStatus")).pipe((0,y.qD)()).subscribe(G=>{if(G.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${G.statusCode} ${G.errorMessage}`);else if((0,E.a4)(G.payload)){const X=this.bitstreams$.getValue();this.bitstreams$.next([...X,...G.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===G.payload.totalPages}})}static{this.\u0275fac=function(X){return new(X||z)(S.rXU(m.BitstreamDataService),S.rXU(I.I),S.rXU(t.c$),S.rXU(f.f),S.rXU(e.vQ))}}static{this.\u0275cmp=S.VBU({type:z,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[S.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label"],[1,"file-section"],[3,"bitstream","item"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],["id","collapse",1,"mt-1"],[1,"badge","bg-primary"],[3,"innerHTML"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(X,J){1&X&&(S.DNE(0,k,2,1,"ng-container",0),S.nI1(1,"async")),2&X&&S.Y8G("ngVar",S.bMT(1,1,J.bitstreams$))},dependencies:[i.MD,i.Jj,D.s,C.Q,v.z,O.v,t.h,t.D9,h.r],encapsulation:2})}}return z})()},35426:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ItemPageTitleFieldComponent:()=>m});var i=n(68018),t=n(43446),e=(n(15862),n(54438));function f(p,y){1&p&&(e.j41(0,"div",1),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,y.toLowerCase()+".page.titleprefix")," "))}let m=(()=>{class p{constructor(E){this.dsoNameService=E}static{this.\u0275fac=function(v){return new(v||p)(e.rXU(t.f))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],[1,"d-inline"],[1,"dont-break-out"]],template:function(v,O){if(1&v&&(e.j41(0,"h1",0),e.DNE(1,f,3,3,"div",1),e.j41(2,"span",2),e.EFF(3),e.k0s()()),2&v){let C;e.R7$(),e.vxM((C=O.item.firstMetadataValue("dspace.entity.type"))?1:-1,C),e.R7$(2),e.JRh(O.dsoNameService.getName(O.item))}},dependencies:[i.h,i.D9],encapsulation:2})}}return p})()},31893:(U,b,n)=>{"use strict";n.d(b,{V:()=>p}),n(15862);var t=n(29710),e=(n(35426),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(v){return n(17026)(`./${v}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,35426))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},34068:(U,b,n)=>{"use strict";n.d(b,{EF:()=>R,NG:()=>D,W2:()=>I,ky:()=>O});var i=n(54438),t=n(7673),c=n(44437),e=n(84572),f=n(73028),m=n(96354),p=n(23294),y=n(25558),E=n(4093),v=n(89777);const O=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>R}),I=()=>{return h=h=>(0,v.a4)(h)?h.id:void 0,(S,T)=>{if(!Array.isArray(S)||!Array.isArray(T))return!1;const w=S.map(h),M=T.map(h);return w.length===M.length&&w.every(L=>M.includes(L))&&M.every(L=>w.includes(L))};var h},D=h=>S=>S.pipe((0,f.Z)(T=>0===T.length?(0,t.of)([]):(0,c.y)(...T.map(w=>(0,e.z)([w.leftItem,w.rightItem])))),(0,m.T)(T=>T.filter(([w,M])=>w.hasSucceeded&&M.hasSucceeded).map(([w,M])=>w.payload.id===h?M.payload:M.payload.id===h?w.payload:void 0).filter(w=>(0,v.a4)(w))),(0,p.F)(I())),R=h=>S=>S.pipe((0,E.qD)(),(0,y.n)(T=>(0,e.z)(T.payload.page.map(w=>(0,e.z)([w.leftItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null)),w.rightItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,m.T)(w=>w.map(([M,L])=>(0,v.a4)(M)&&M.id===h?L:(0,v.a4)(L)&&L.id===h?M:void 0).filter(M=>(0,v.a4)(M))),(0,p.F)(I()),(0,m.T)(w=>Object.assign(T,{payload:Object.assign(T.payload,{page:w})})))))},80551:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MetadataRepresentationListComponent:()=>z});var i=n(60177),t=n(68018),c=n(44437),e=n(96354),f=n(57168),m=n(54009),p=n(87433),y=n(75082),v=(n(15862),n(54095)),O=n(60032),C=n(4093),I=n(15202),D=n(72862),R=n(18040),h=n(50186),S=n(1837),T=n(54438);const w=V=>({amount:V});function M(V,G){1&V&&T.nrm(0,"ds-metadata-representation-loader",2),2&V&&T.Y8G("mdRepresentation",G.$implicit)}function L(V,G){1&V&&(T.nrm(0,"ds-loading",3),T.nI1(1,"translate")),2&V&&T.FS9("message",T.bMT(1,1,"loading.default"))}function N(V,G){if(1&V){const X=T.RV6();T.j41(0,"div",5)(1,"button",7),T.bIt("click",function(){T.eBV(X);const q=T.XpG(4);return T.Njj(q.increase())}),T.EFF(2),T.nI1(3,"translate"),T.k0s()()}if(2&V){const X=T.XpG(4);T.R7$(2),T.JRh(T.i5U(3,1,"item.page.related-items.view-more",T.eq3(4,w,X.total-X.objects.length*X.incrementBy<X.incrementBy?X.total-X.objects.length*X.incrementBy:X.incrementBy)))}}function j(V,G){if(1&V){const X=T.RV6();T.j41(0,"div",6)(1,"button",7),T.bIt("click",function(){T.eBV(X);const q=T.XpG(4);return T.Njj(q.decrease())}),T.EFF(2),T.nI1(3,"translate"),T.k0s()()}if(2&V){const X=T.XpG(2).ngVar;T.R7$(2),T.JRh(T.i5U(3,1,"item.page.related-items.view-less",T.eq3(4,w,null==X?null:X.length)))}}function $(V,G){if(1&V&&(T.j41(0,"div",4),T.DNE(1,N,4,6,"div",5)(2,j,4,6,"div",6),T.k0s()),2&V){const X=T.XpG(3);T.R7$(),T.vxM(X.objects.length*X.incrementBy<X.total?1:-1),T.R7$(),T.vxM(X.objects.length>1?2:-1)}}function k(V,G){if(1&V&&(T.qex(0),T.Z7z(1,M,1,1,"ds-metadata-representation-loader",2,T.fX1),T.DNE(3,L,2,3,"ds-loading",3)(4,$,3,2,"div",4),T.bVm()),2&V){const X=G.ngVar,J=T.XpG().$index,q=T.XpG();T.R7$(),T.Dyx(X),T.R7$(2),T.vxM(J+1===q.objects.length&&J>0&&(!X||0===(null==X?null:X.length))?3:-1),T.R7$(),T.vxM(J+1===q.objects.length&&(null==X?null:X.length)>0?4:-1)}}function K(V,G){1&V&&(T.DNE(0,k,5,2,"ng-container",1),T.nI1(1,"async")),2&V&&T.Y8G("ngVar",T.bMT(1,1,G.$implicit))}let z=(()=>{class V extends S.e{constructor(X,J,q){super(),this.relationshipService=X,this.browseDefinitionDataService=J,this.metadataService=q,this.incrementBy=10}getPage(X){const J=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=J.length,this.resolveMetadataRepresentations(J,X)}resolveMetadataRepresentations(X,J){return(0,c.y)(...X.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(q=>Object.assign(new v.vD,q)).map(q=>{if(this.metadataService.isVirtual(q))return this.relationshipService.resolveMetadataRepresentation(q,this.parentItem,this.itemType);{let ne=[];return this.metadataFields.forEach(ee=>{ne=ne.concat(f.q.toSearchKeyArray(ee))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,C.qD)(),(0,e.T)(ee=>Object.assign(new O.Q(this.itemType,ee.payload),q)))}}))}static{this.\u0275fac=function(J){return new(J||V)(T.rXU(p.RelationshipDataService),T.rXU(m.BrowseDefinitionDataService),T.rXU(y.T))}}static{this.\u0275cmp=T.VBU({type:V,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[T.Vt3,T.aNF],decls:3,vars:1,consts:[[3,"label"],[4,"ngVar"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],[1,"float-start"],[1,"float-end"],[1,"btn","btn-link","btn-link-inline",3,"click"]],template:function(J,q){1&J&&(T.j41(0,"ds-metadata-field-wrapper",0),T.Z7z(1,K,2,3,"ng-container",null,T.fX1),T.k0s()),2&J&&(T.Y8G("label",q.label),T.R7$(),T.Dyx(q.objects))},dependencies:[i.Jj,D.Q,R.V,I.v,t.h,t.D9,h.r],encapsulation:2})}}return V})()},38884:(U,b,n)=>{"use strict";n.d(b,{h:()=>e});var i=n(9847),t=n(54438),c=n(68018);let e=(()=>{class f{constructor(p,y){this.notificationsService=p,this.translateService=y}static msg(p){return"item.version.create.notification."+p}notifyCreateNewVersion(p){const y=p?.payload?.version;p.hasSucceeded?this.notificationsService.success(null,this.translateService.get(f.msg("success"),{version:y})):this.notificationsService.error(null,this.translateService.get(f.msg(422===p?.statusCode?"inProgress":"failure")))}static{this.\u0275fac=function(y){return new(y||f)(t.KVO(i.I),t.KVO(c.c$))}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},82574:(U,b,n)=>{"use strict";n.d(b,{L:()=>C});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(84412),m=n(15202),p=n(58003);const y=I=>({version:I});function E(I,D){if(1&I&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&I){const R=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"item.version.create.modal.text.startingFrom",t.eq3(4,y,R.versionNumber))," ")}}function v(I,D){if(1&I){const R=t.RV6();t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){t.eBV(R);const S=t.XpG();return t.Njj(S.onModalClose())}),t.k0s()(),t.j41(5,"div",2)(6,"p",3),t.EFF(7),t.nI1(8,"translate"),t.DNE(9,E,3,6,"span"),t.k0s(),t.j41(10,"div",4)(11,"label",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"input",6),t.nI1(15,"translate"),t.mxI("ngModelChange",function(S){t.eBV(R);const T=t.XpG();return t.DH7(T.newVersionSummary,S)||(T.newVersionSummary=S),t.Njj(S)}),t.bIt("keyup.enter",function(){t.eBV(R);const S=t.XpG();return t.Njj(S.onModalSubmit())}),t.k0s()()(),t.j41(16,"div",7)(17,"button",8),t.nI1(18,"translate"),t.bIt("click",function(){t.eBV(R);const S=t.XpG();return t.Njj(S.onModalClose())}),t.nrm(19,"i",9),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"button",10),t.nI1(23,"translate"),t.bIt("click",function(){t.eBV(R);const S=t.XpG();return t.Njj(S.onModalSubmit())}),t.nrm(24,"i",11),t.EFF(25),t.nI1(26,"translate"),t.k0s()()()}if(2&I){const R=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,10,"item.version.create.modal.header")," "),t.R7$(5),t.SpI(" ",t.bMT(8,12,"item.version.create.modal.text")," "),t.R7$(2),t.vxM(R.firstVersion?-1:9),t.R7$(3),t.SpI("",t.bMT(13,14,"item.version.create.modal.form.summary.label"),":"),t.R7$(2),t.FS9("placeholder",t.bMT(15,16,"item.version.create.modal.form.summary.placeholder")),t.R50("ngModel",R.newVersionSummary),t.R7$(3),t.FS9("title",t.bMT(18,18,"item.version.create.modal.button.cancel.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(21,20,"item.version.create.modal.button.cancel")," "),t.R7$(2),t.FS9("title",t.bMT(23,22,"item.version.create.modal.button.confirm.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(26,24,"item.version.create.modal.button.confirm")," ")}}function O(I,D){1&I&&(t.j41(0,"div",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",2)(4,"p"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",12),t.nrm(8,"ds-loading",13),t.k0s()()),2&I&&(t.R7$(),t.JRh(t.bMT(2,3,"item.version.create.modal.submitted.header")),t.R7$(4),t.JRh(t.bMT(6,5,"item.version.create.modal.submitted.text")),t.R7$(3),t.Y8G("showMessage",!1))}let C=(()=>{class I{constructor(R){this.activeModal=R,this.firstVersion=!0,this.createVersionEvent=new t.bkB}ngOnInit(){this.submitted$=new f.t(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static{this.\u0275fac=function(h){return new(h||I)(t.rXU(p.Lw))}}static{this.\u0275cmp=t.VBU({type:I,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[t.aNF],decls:3,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"pb-2"],[1,"mb-3"],["for","summary",1,"form-label"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(h,S){1&h&&(t.DNE(0,v,27,26,"div"),t.nI1(1,"async"),t.DNE(2,O,9,7)),2&h&&t.vxM(!0!==t.bMT(1,1,S.submitted$)?0:2)},dependencies:[i.Jj,c.YN,c.me,c.BC,c.vS,m.v,e.h,e.D9]})}}return I})()},50553:(U,b,n)=>{"use strict";n.d(b,{U$:()=>L,EN:()=>M});var i=n(54438),t=n(84572),c=n(61594),e=n(96354),f=n(79096),m=n(8177),p=n(57775),y=n(70998),E=n(3601),v=n(31),O=n(70161),C=n(87507),I=n(40940),D=n(7094),R=n(74272),h=n(8417),S=function(N){return N.Workspace="workspace",N.SupervisedItems="supervisedWorkspace",N.Workflow="workflow",N}(S||{}),T=n(7901);const w=new Map([[S.Workspace,I.o.Workspace],[S.SupervisedItems,I.o.SupervisedItems],[S.Workflow,I.o.Workflow]]),M=new i.nKC("searchConfigurationService");let L=(()=>{class N extends R.g{constructor($,k,K,z,V,G,X,J,q){super(k,K,z,V,G,X,J,q),this.roleService=$,this.routeService=k,this.paginationService=K,this.route=z,this.linkService=V,this.halService=G,this.requestService=X,this.rdb=J,this.appConfig=q,this.defaultPagination=Object.assign(new h.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new y.z("dc.date.issued",y.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,c.$)(),(0,e.T)(([$,k,K])=>{const z=[];return $&&z.push(S.Workspace),(k||K)&&(z.push(S.SupervisedItems),z.push(S.Workflow)),z}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,c.$)(),(0,e.T)($=>{const k=[];return $.forEach(K=>{const z=K,V=`mydspace.show.${z}`,G=w.get(K);k.push({value:z,label:V,context:G})}),k}))}static{this.\u0275fac=function(k){return new(k||N)(i.KVO(O.W),i.KVO(C.v$),i.KVO(v.m),i.KVO(T.nX),i.KVO(m._),i.KVO(D.Y),i.KVO(E.B),i.KVO(p.o),i.KVO(f.vQ))}}static{this.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})()},74765:(U,b,n)=>{"use strict";n.d(b,{o:()=>q});var i=n(54438),t=n(61594),c=n(94196),e=n(7094),f=n(89777),m=n(9847),p=n(84780),y=n(89291),E=n(68018),v=n(5598),O=n(58003);let C=(()=>{class ne{constructor(fe){this.activeModal=fe}selectObject(fe){this.activeModal.close(fe.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(ye){return new(ye||ne)(i.rXU(O.Lw))}}static{this.\u0275cmp=i.VBU({type:ne,selectors:[["ds-collection-selector"]],standalone:!0,features:[i.aNF],decls:7,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange"]],template:function(ye,oe){1&ye&&(i.j41(0,"div")(1,"div",0),i.EFF(2),i.nI1(3,"translate"),i.j41(4,"button",1),i.bIt("click",function(){return oe.close()}),i.k0s()(),i.j41(5,"div",2)(6,"ds-collection-dropdown",3),i.bIt("selectionChange",function(te){return oe.selectObject(te)}),i.k0s()()()),2&ye&&(i.R7$(2),i.SpI("",i.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[v.m,E.h,E.D9]})}}return ne})();var I=n(60177),D=n(84412),R=n(7673),h=n(73028),S=n(96697),T=n(96354),w=n(67685),M=n(79104),L=n(11588),N=n(33745),j=n(7901);function $(ne,ee){if(1&ne){const fe=i.RV6();i.j41(0,"div",0)(1,"button",2),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.bIt("click",function(){i.eBV(fe);const oe=i.XpG();return i.Njj(oe.openPage(oe.singleEntity))}),i.nrm(5,"i",3),i.k0s()()}if(2&ne){const fe=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,3,"mydspace.new-submission-external")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,5,fe.initialized$)),i.BMQ("aria-label",i.bMT(4,7,"mydspace.new-submission-external"))}}function k(ne,ee){if(1&ne){const fe=i.RV6();i.j41(0,"div",1)(1,"button",4),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.nI1(5,"dsBrowserOnly"),i.nrm(6,"i",3)(7,"span",5),i.k0s(),i.j41(8,"div",6)(9,"ds-entity-dropdown",7),i.bIt("selectionChange",function(oe){i.eBV(fe);const ue=i.XpG();return i.Njj(ue.openPage(oe))}),i.k0s()()()}if(2&ne){const fe=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,5,"mydspace.new-submission-external")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,7,fe.initialized$)),i.BMQ("aria-label",i.bMT(4,9,"mydspace.new-submission-external"))("data-test",i.bMT(5,11,"import-dropdown")),i.R7$(8),i.Y8G("isSubmission",!1)}}let K=(()=>{class ne{constructor(fe,ye){this.entityTypeService=fe,this.router=ye,this.initialized$=new D.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(fe=>fe?(this.initialized$.next(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,S.s)(1),(0,T.T)(oe=>(this.initialized$.next(!0),oe?.payload?.page[0])))),(0,S.s)(1)),this.subs.push(this.singleEntity$.subscribe(fe=>{this.singleEntity=fe}))}openPage(fe){const ye=Object.create({});fe&&(ye.entity=fe.label),this.router.navigate(["/import-external"],{queryParams:ye})}ngOnDestroy(){this.subs.filter(fe=>(0,f.a4)(fe)).forEach(fe=>fe.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||ne)(i.rXU(w.f),i.rXU(j.Ix))}}static{this.\u0275cmp=i.VBU({type:ne,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[i.aNF],decls:4,vars:6,consts:[[1,"add"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ye,oe){1&ye&&(i.DNE(0,$,6,9,"div",0),i.nI1(1,"async"),i.DNE(2,k,10,13,"div",1),i.nI1(3,"async")),2&ye&&(i.vxM(!0!==i.bMT(1,2,oe.moreThanOne$)?0:-1),i.R7$(2),i.vxM(i.bMT(3,4,oe.moreThanOne$)?2:-1))},dependencies:[I.Jj,N.L,M.A,L.Y,O.zH,O.tg,O.do,O.U0,E.h,E.D9],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return ne})();var z=n(39334);function V(ne,ee){if(1&ne){const fe=i.RV6();i.j41(0,"div",0)(1,"button",2),i.nI1(2,"async"),i.nI1(3,"translate"),i.bIt("click",function(){i.eBV(fe);const oe=i.XpG();return i.Njj(oe.openDialog(oe.singleEntity))}),i.nrm(4,"i",3),i.k0s()()}if(2&ne){const fe=i.XpG();i.R7$(),i.Y8G("dsBtnDisabled",!0!==i.bMT(2,2,fe.initialized$)),i.BMQ("aria-label",i.bMT(3,4,"mydspace.new-submission"))}}function G(ne,ee){if(1&ne){const fe=i.RV6();i.j41(0,"div",1)(1,"button",4),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.nI1(5,"dsBrowserOnly"),i.nrm(6,"i",3)(7,"span",5),i.k0s(),i.j41(8,"div",6)(9,"ds-entity-dropdown",7),i.bIt("selectionChange",function(oe){i.eBV(fe);const ue=i.XpG();return i.Njj(ue.openDialog(oe))}),i.k0s()()()}if(2&ne){const fe=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,5,"mydspace.new-submission")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,7,fe.initialized$)),i.BMQ("aria-label",i.bMT(4,9,"mydspace.new-submission"))("data-test",i.bMT(5,11,"submission-dropdown")),i.R7$(8),i.Y8G("isSubmission",!0)}}let X=(()=>{class ne{constructor(fe,ye){this.entityTypeService=fe,this.modalService=ye,this.subs=[]}ngOnInit(){this.initialized$=(0,R.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(fe=>fe?(this.initialized$=(0,R.of)(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,T.T)(oe=>(this.initialized$=(0,R.of)(!0),oe.payload.page[0])),(0,S.s)(1))),(0,S.s)(1)),this.subs.push(this.singleEntity$.subscribe(fe=>this.singleEntity=fe))}openDialog(fe){this.modalService.open(z.L).componentInstance.entityType=fe.label}ngOnDestroy(){this.subs.filter(fe=>(0,f.a4)(fe)).forEach(fe=>fe.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||ne)(i.rXU(w.f),i.rXU(O.Bq))}}static{this.\u0275cmp=i.VBU({type:ne,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[i.aNF],decls:4,vars:6,consts:[[1,"add"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ye,oe){1&ye&&(i.DNE(0,V,5,6,"div",0),i.nI1(1,"async"),i.DNE(2,G,10,13,"div",1),i.nI1(3,"async")),2&ye&&(i.vxM(!0!==i.bMT(1,2,oe.moreThanOne$)?0:-1),i.R7$(2),i.vxM(i.bMT(3,4,oe.moreThanOne$)?2:-1))},dependencies:[I.Jj,N.L,M.A,L.Y,O.zH,O.tg,O.do,O.U0,E.h,E.D9],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return ne})();function J(ne,ee){if(1&ne){const fe=i.RV6();i.j41(0,"ds-uploader",4),i.bIt("onCompleteItem",function(oe){i.eBV(fe);const ue=i.XpG();return i.Njj(ue.onCompleteItem(oe))})("onUploadError",function(oe){i.eBV(fe);const ue=i.XpG();return i.Njj(ue.onUploadError(oe))})("onFileSelected",function(oe){i.eBV(fe);const ue=i.XpG();return i.Njj(ue.afterFileLoaded(oe))}),i.k0s()}if(2&ne){const fe=i.XpG();i.Y8G("uploadFilesOptions",fe.uploadFilesOptions)}}let q=(()=>{class ne{constructor(fe,ye,oe,ue,te,se,be){this.authService=fe,this.changeDetectorRef=ye,this.halService=oe,this.notificationsService=ue,this.translate=te,this.modalService=se,this.router=be,this.uploadEnd=new i.bkB,this.uploadFilesOptions=new y.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,t.$)()).subscribe(fe=>{this.uploadFilesOptions.url=fe,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(fe){if(fe&&fe._embedded&&fe._embedded.workspaceitems&&fe._embedded.workspaceitems.length>0){const ye=fe._embedded.workspaceitems;this.uploadEnd.emit(ye),1===ye.length?this.router.navigateByUrl("/workspaceitems/"+ye[0].id+"/edit"):ye.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:ye.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(fe){let ye="mydspace.upload.upload-failed";(0,f.a4)(fe.status)&&422===fe.status&&(ye="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(ye))}afterFileLoaded(fe){const ye=this.uploaderComponent.uploader;(0,f.a4)(fe)&&fe.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),ye.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(C).result.then(ue=>{ye.onBuildItemForm=(te,se)=>{se.append("owningCollection",ue.uuid)},ye.uploadAll()})}ngOnDestroy(){(0,f.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(ye){return new(ye||ne)(i.rXU(c.uR),i.rXU(i.gRc),i.rXU(e.Y),i.rXU(m.I),i.rXU(E.c$),i.rXU(O.Bq),i.rXU(j.Ix))}}static{this.\u0275cmp=i.VBU({type:ne,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(ye,oe){if(1&ye&&i.GBs(p.y,5),2&ye){let ue;i.mGM(ue=i.lsd())&&(oe.uploaderComponent=ue.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[i.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(ye,oe){1&ye&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,J,1,1,"ds-uploader",2),i.k0s(),i.j41(3,"div",3),i.nrm(4,"ds-my-dspace-new-submission-dropdown"),i.k0s(),i.j41(5,"div",3),i.nrm(6,"ds-my-dspace-new-external-dropdown"),i.k0s()()),2&ye&&(i.R7$(2),i.vxM(""!==oe.uploadFilesOptions.url?2:-1))},dependencies:[K,X,p.y],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return ne})()},73450:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MYDSPACE_ROUTE:()=>$,MyDSpacePageComponent:()=>k});var i=n(60177),t=n(96697),c=n(89777),e=n(97104),f=n(76456),m=n(60428),p=n(54095),y=n(81640),E=n(54438);let v=(()=>{class K extends y.D3{parse(V,G){const J=G.payload._embedded.searchResult||{_embedded:{objects:[]}},q=J._embedded.objects.map(ye=>ye.hitHighlights).map(ye=>{const oe={};if(ye)for(const ue of Object.keys(ye)){const te=Object.assign(new p.vD,{value:ye[ue].join("..."),language:null});oe[ue]=[te]}return oe}),ne=J._embedded.objects.filter(ye=>(0,c.a4)(ye._embedded)).map(ye=>ye._embedded.indexableObject).map(ye=>this.process(ye,V)).map(ye=>ye._links.self.href).reduce((ye,oe)=>[...ye,...oe],[]),ee=J._embedded.objects.filter(ye=>(0,c.a4)(ye._embedded)).map((ye,oe)=>Object.assign({},ye,{indexableObject:ne[oe],hitHighlights:q[oe],_embedded:this.filterEmbeddedObjects(ye)}));J.objects=ee;const fe=new m.T(e.n).deserialize(J);return fe.pageInfo=this.processPageInfo(J),this.addToObjectCache(fe,V,G),new f.hT(G.statusCode,fe._links.self)}filterEmbeddedObjects(V){const G=["submitter","item","workspaceitem","workflowitem"];return V._embedded.indexableObject&&V._embedded.indexableObject._embedded?Object.assign({},V._embedded,{indexableObject:Object.assign({},V._embedded.indexableObject,{_embedded:Object.keys(V._embedded.indexableObject._embedded).filter(X=>G.includes(X)).reduce((X,J)=>(X[J]=V._embedded.indexableObject._embedded[J],X),{})})}):V}static{this.\u0275fac=(()=>{let V;return function(X){return(V||(V=E.xGo(K)))(X||K)}})()}static{this.\u0275prov=E.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var O=n(49755),C=n(8672),I=n(40645),D=n(19192),R=n(44209),h=n(44461),S=n(89336),T=n(50553),w=n(74765),M=n(94160);const L=K=>[K];function N(K,z){1&K&&E.nrm(0,"ds-my-dspace-new-submission")}function j(K,z){if(1&K&&(E.nrm(0,"ds-search",2),E.nI1(1,"async")),2&K){const V=E.XpG();E.Y8G("configuration",V.configuration)("configurationList",E.bMT(1,4,V.configurationList$))("context",V.context)("viewModeList",V.viewModeList)}}const $="/mydspace";let k=(()=>{class K{constructor(V,G){this.service=V,this.searchConfigService=G,this.roleTypeEnum=C.T,this.viewModeList=[D.n.ListElement,D.n.DetailedListElement],this.service.setServiceOptions(v,O.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(V=>{this.configuration=V[0].value,this.context=V[0].context})}static{this.\u0275fac=function(G){return new(G||K)(E.rXU(I.S),E.rXU(T.EN))}}static{this.\u0275cmp=E.VBU({type:K,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[E.Jv_([{provide:T.EN,useClass:T.U$}]),E.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList"]],template:function(G,X){1&G&&(E.j41(0,"div",0),E.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),E.DNE(3,N,1,0,"ds-my-dspace-new-submission",1),E.k0s(),E.DNE(4,j,2,6,"ds-search",2)),2&G&&(E.R7$(3),E.Y8G("dsShowOnlyForRole",E.eq3(2,L,X.roleTypeEnum.Submitter)),E.R7$(),E.vxM(X.configuration&&X.context?4:-1))},dependencies:[i.Jj,w.o,M.P,h.q,R.w,S.N],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return K})()},94160:(U,b,n)=>{"use strict";n.d(b,{P:()=>h});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),f=n(88141),m=n(83),p=n(20387),y=n(4093),E=n(54438);const v=S=>({num:S}),O=(S,T)=>[S,T],C=()=>({forward:!0});function I(S,T){if(1&S&&(E.j41(0,"div",0)(1,"div",1),E.nrm(2,"img",2),E.k0s(),E.j41(3,"div",3)(4,"div",4),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"button",5),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()),2&S){const w=E.XpG().$implicit,M=E.XpG(2);E.R7$(2),E.Mz_("src","assets/images/qa-",w.id,"-logo.png",E.B4B),E.Mz_("alt","",w.id," logo"),E.R7$(3),E.SpI(" ",E.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",E.eq3(13,v,w.totalEvents))," "),E.R7$(2),E.Y8G("routerLink",E.l_i(15,O,M.getQualityAssuranceRoute(),w.id))("queryParams",E.lJ4(18,C)),E.R7$(),E.SpI(" ",E.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function D(S,T){1&S&&E.DNE(0,I,10,19,"div",0),2&S&&E.vxM(T.$implicit.totalEvents>0?0:-1)}function R(S,T){if(1&S&&(E.Z7z(0,D,1,1,null,null,E.fX1),E.nI1(2,"async")),2&S){const w=E.XpG();E.Dyx(E.bMT(2,0,w.sources$))}}let h=(()=>{class S{constructor(w){this.qualityAssuranceSourceDataService=w,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,y.qD)(),(0,f.M)(w=>{if(w.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,y.Bo)(),(0,y.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(M){return new(M||S)(E.rXU(p.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=E.VBU({type:S,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"ps-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(M,L){if(1&M&&(E.DNE(0,R,3,2),E.nI1(1,"async")),2&M){let N;E.vxM((null==(N=E.bMT(1,1,L.sources$))?null:N.length)>0?0:-1)}},dependencies:[i.Jj,t.Wk,c.h,c.D9],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return S})()},5259:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ExpandableNavbarSectionComponent:()=>T});var i=n(60177),t=n(7901),c=n(61594),e=n(96354),f=n(13957),m=n(89777),p=n(50842),y=n(96132),E=n(66372),v=n(83363),O=n(65709),C=n(54438);function I(w,M){1&w&&C.eu8(0)}function D(w,M){1&w&&C.eu8(0)}function R(w,M){if(1&w&&(C.j41(0,"div",9),C.DNE(1,D,1,0,"ng-container",4),C.nI1(2,"async"),C.nI1(3,"async"),C.k0s()),2&w){const L=M.$implicit,N=C.XpG(3);C.R7$(),C.Y8G("ngComponentOutlet",C.bMT(2,2,N.sectionMap$).get(L.id).component)("ngComponentOutletInjector",C.bMT(3,4,N.sectionMap$).get(L.id).injector)}}function h(w,M){if(1&w){const L=C.RV6();C.j41(0,"div",7),C.bIt("click",function(j){C.eBV(L);const $=C.XpG(2);return C.Njj($.deactivateSection(j))})("dsHoverOutside",function(j){C.eBV(L);const $=C.XpG(2);return C.Njj($.deactivateSection(j,!1))}),C.j41(1,"div",8),C.Z7z(2,R,4,6,"div",9,C.fX1),C.nI1(4,"async"),C.k0s()()}if(2&w){const L=C.XpG(2);C.Y8G("id",L.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+L.section.id),C.R7$(),C.Y8G("@slide",void 0),C.R7$(),C.Dyx(C.bMT(4,3,L.subSections$))}}function S(w,M){if(1&w){const L=C.RV6();C.j41(0,"div",1),C.bIt("mouseenter",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.onMouseEnter(j))})("mouseleave",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.onMouseLeave(j))}),C.j41(1,"a",2),C.nI1(2,"async"),C.bIt("keyup.enter",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.toggleSection(j))})("keyup.space",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.toggleSection(j))})("click",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.toggleSection(j))})("keydown",function(j){C.eBV(L);const $=C.XpG();return C.Njj($.keyDown(j))}),C.j41(3,"span",3),C.DNE(4,I,1,0,"ng-container",4),C.nI1(5,"async"),C.nI1(6,"async"),C.k0s(),C.nrm(7,"i",5),C.k0s(),C.DNE(8,h,5,5,"div",6),C.nI1(9,"async"),C.k0s()}if(2&w){const L=C.XpG();C.Y8G("id","expandable-navbar-section-"+L.section.id),C.R7$(),C.AVh("disabled",null==L.section.model?null:L.section.model.disabled),C.BMQ("aria-expanded",C.bMT(2,8,L.active$).valueOf())("aria-controls",L.expandableNavbarSectionId()),C.R7$(3),C.Y8G("ngComponentOutlet",C.bMT(5,10,L.sectionMap$).get(L.section.id).component)("ngComponentOutletInjector",C.bMT(6,12,L.sectionMap$).get(L.section.id).injector),C.R7$(4),C.vxM(!0===C.bMT(9,14,L.active$).valueOf()?8:-1)}}let T=(()=>{class w extends O.X{onResize(){this.isMobile$.pipe((0,c.$)()).subscribe(L=>{L!==this.wasMobile&&(this.wasMobile=L,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(L,N,j,$){super(L,N,j),this.section=L,this.menuService=N,this.injector=j,this.windowService=$,this.menuID=E.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.hasSubSections$=this.subSections$.pipe((0,e.T)(L=>(0,m.hj)(L))),this.subs.push(this.active$.subscribe(L=>{!0===L?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(L=>{L.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(L){this.focusOnFirstChildSection="click"!==L.type,super.toggleSection(L)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(L=>{L.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(L){this.isMobile$.pipe((0,c.$)()).subscribe(N=>{!N&&!this.active$.value&&!this.mouseEntered&&this.activateSection(L),this.mouseEntered=!0})}onMouseLeave(L){this.isMobile$.pipe((0,c.$)()).subscribe(N=>{!N&&this.active$.value&&this.mouseEntered&&this.deactivateSection(L),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(L){if("Tab"===L.code)return void this.deactivateSection(L,!1);if("Escape"===L.code)return this.deactivateSection(L,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();L.preventDefault(),L.stopPropagation();const N=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===N.length)return;const j=Array.from(N).findIndex($=>$===L.target);"ArrowDown"===L.key?N[(j+1)%N.length].focus():"ArrowUp"===L.key&&N[(j-1+N.length)%N.length].focus()}keyDown(L){switch(L.code){case"Tab":this.deactivateSection(L,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(L);break;case"Space":case"Enter":L.preventDefault()}}static{this.\u0275fac=function(N){return new(N||w)(C.rXU("sectionDataProvider"),C.rXU(y.$),C.rXU(C.zZn),C.rXU(p.CV))}}static{this.\u0275cmp=C.VBU({type:w,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(N,j){1&N&&C.bIt("resize",function(k){return j.onResize(k)},!1,C.tSv)},standalone:!0,features:[C.Vt3,C.aNF],decls:2,vars:3,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"id"],["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"id","dsHoverOutsideOfParentSelector"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["role","presentation",1,"text-nowrap"]],template:function(N,j){1&N&&(C.DNE(0,S,10,16,"div",0),C.nI1(1,"async")),2&N&&C.vxM(C.bMT(1,1,j.hasSubSections$)?0:-1)},dependencies:[i.Jj,v.l,i.OI,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;top:100%;border:0;background-color:var(--ds-expandable-navbar-bg)}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[f.M6]}})}}return w})()},65709:(U,b,n)=>{"use strict";n.d(b,{X:()=>p});var i=n(60177),t=n(96132),c=n(66372),e=n(77983),f=n(54438);function m(y,E){1&y&&f.eu8(0)}let p=(()=>{class y extends e.U{constructor(v,O,C){super(O,C),this.section=v,this.menuService=O,this.injector=C,this.menuID=c.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(O){return new(O||y)(f.rXU("sectionDataProvider"),f.rXU(t.$),f.rXU(f.zZn))}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-navbar-section"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(O,C){1&O&&(f.j41(0,"div",0),f.DNE(1,m,1,0,"ng-container",1),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&O&&(f.Y8G("id","navbar-section-"+C.section.id),f.R7$(),f.Y8G("ngComponentOutlet",f.bMT(2,3,C.sectionMap$).get(C.section.id).component)("ngComponentOutletInjector",f.bMT(3,5,C.sectionMap$).get(C.section.id).injector))},dependencies:[i.Jj,i.OI]})}}return y})()},57046:(U,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>L});var i=n(60177),t=n(58003),c=n(59640),e=n(68018),f=n(12321),m=n(57168),p=n(11873),y=n(13957),E=n(72067),v=n(50842),O=n(15181),C=n(96132),I=n(66372),D=n(73838),R=n(54438),h=n(7901);const S=N=>({open:N});function T(N,j){1&N&&R.nrm(0,"ds-user-menu",4),2&N&&R.Y8G("inExpandableNavbar",!0)}function w(N,j){1&N&&R.eu8(0)}function M(N,j){if(1&N&&(R.DNE(0,w,1,0,"ng-container",6),R.nI1(1,"async"),R.nI1(2,"async")),2&N){let $,k;const K=j.$implicit,z=R.XpG();R.Y8G("ngComponentOutlet",null==($=R.bMT(1,2,z.sectionMap$).get(K.id))?null:$.component)("ngComponentOutletInjector",null==(k=R.bMT(2,4,z.sectionMap$).get(K.id))?null:k.injector)}}let L=(()=>{class N extends O.Z{constructor($,k,K,z,V,G,X,J){super($,k,V,G,X),this.menuService=$,this.injector=k,this.windowService=K,this.browseService=z,this.authorizationService=V,this.route=G,this.themeService=X,this.store=J,this.menuID=I.D.PUBLIC,this.maxMobileWidth=v.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,c.Lt)(f.wR))}static{this.\u0275fac=function(k){return new(k||N)(R.rXU(C.$),R.rXU(R.zZn),R.rXU(v.CV),R.rXU(m.q),R.rXU(p.AuthorizationDataService),R.rXU(h.nX),R.rXU(D.Fs),R.rXU(c.il))}}static{this.\u0275cmp=R.VBU({type:N,selectors:[["ds-base-navbar"]],standalone:!0,features:[R.Vt3,R.aNF],decls:16,vars:24,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[3,"inExpandableNavbar"],["role","menubar",1,"navbar-nav","align-items-md-center","me-auto","shadow-none","gapx-3"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(k,K){1&k&&(R.j41(0,"nav",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.nI1(4,"translate"),R.j41(5,"div",1),R.nI1(6,"async"),R.j41(7,"div",2)(8,"div",3),R.DNE(9,T,1,1,"ds-user-menu",4),R.nI1(10,"async"),R.nI1(11,"async"),R.j41(12,"div",5),R.Z7z(13,M,3,6,"ng-container",null,R.fX1),R.nI1(15,"async"),R.k0s()()()()()),2&k&&(R.Y8G("ngClass",R.eq3(22,S,!0!==R.bMT(1,6,K.menuCollapsed)))("@slideMobileNav",!0!==R.bMT(2,8,K.isMobile$)?"default":R.bMT(3,10,K.menuCollapsed)?"collapsed":"expanded"),R.BMQ("aria-label",R.bMT(4,12,"nav.main.description")),R.R7$(5),R.AVh("container",!0!==R.bMT(6,14,K.isMobile$)),R.R7$(4),R.vxM(R.bMT(10,16,K.isMobile$)&&R.bMT(11,18,K.isAuthenticated$)?9:-1),R.R7$(4),R.Dyx(R.bMT(15,20,K.sections)))},dependencies:[i.Jj,t.zH,t.QE,i.YU,i.OI,E.r,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[y.p8]}})}}return N})()},31352:(U,b,n)=>{"use strict";n.d(b,{D:()=>m});var i=n(29710),c=(n(57046),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(E){return n(19318)(`./${E}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,57046))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},25913:(U,b,n)=>{"use strict";n.d(b,{W:()=>C,I:()=>I});var i=n(59640),t=n(44030);const c={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var f=n(39848);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var y=n(69470);const E={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},v={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},C={qaTopic:function p(D=m,R){switch(R.type){case f.py.RETRIEVE_ALL_TOPICS:return Object.assign({},D,{topics:[],processing:!0});case f.py.ADD_TOPICS:return Object.assign({},D,{topics:R.payload.topics,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:D.currentPage,totalElements:R.payload.totalElements});case f.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},qaSource:function e(D=c,R){switch(R.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},D,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},D,{source:R.payload.source,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:D.currentPage,totalElements:R.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},suggestionTarget:function O(D=v,R){switch(R.type){case y.lz.RETRIEVE_TARGETS_BY_SOURCE:{const h=D.sources[R.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:S})})}case y.lz.ADD_TARGETS:{const h=D.sources[R.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:h.targets.concat(R.payload.targets),processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:R.payload.currentPage,totalElements:R.payload.totalElements});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:S})})}case y.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const h=D.sources[R.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:S})})}case y.lz.ADD_USER_SUGGESTIONS:return Object.assign({},D,{currentUserTargets:R.payload.suggestionTargets});case y.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},D,{currentUserTargetsVisited:!0});case y.lz.CLEAR_TARGETS:{const h=D.sources[R.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:S})})}default:return D}}},I=(0,i.UX)("suggestionNotifications")},44030:(U,b,n)=>{"use strict";n.d(b,{$_:()=>f,Fx:()=>e,lZ:()=>c,xq:()=>t});var i=n(6800);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class c{constructor(p,y){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:p,currentPage:y}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class f{constructor(p,y,E,v){this.type=t.ADD_SOURCE,this.payload={source:p,totalPages:y,currentPage:E,totalElements:v}}}},26646:(U,b,n)=>{"use strict";n.d(b,{p:()=>m});var i=n(96354),t=n(70998),c=n(20387),e=n(4093),f=n(54438);let m=(()=>{class p{constructor(E){this.qualityAssuranceSourceRestService=E}getSources(E,v){const O=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:E,currentPage:v,sort:O}).pipe((0,e.qD)(),(0,i.T)(I=>{if(I.hasSucceeded)return I.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(v){return new(v||p)(f.KVO(c.QualityAssuranceSourceDataService))}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},39848:(U,b,n)=>{"use strict";n.d(b,{C3:()=>f,IL:()=>e,_v:()=>c,py:()=>t});var i=n(6800);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class c{constructor(p,y,E,v){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:p,currentPage:y,source:E,target:v}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class f{constructor(p,y,E,v){this.type=t.ADD_TOPICS,this.payload={topics:p,totalPages:y,currentPage:E,totalElements:v}}}},44209:(U,b,n)=>{"use strict";n.d(b,{w:()=>v});var i=n(60177),t=n(7901),c=n(68018),e=n(85955),f=n(6207),m=n(54438);function p(O,C){if(1&O&&(m.j41(0,"div",1),m.nrm(1,"div",2),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",3),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&O){const I=m.XpG().$implicit,D=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",D.getNotificationSuggestionInterpolation(I)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",D.getNotificationSuggestionInterpolation(I).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function y(O,C){if(1&O&&(m.qex(0,0),m.DNE(1,p,8,11,"div",1),m.bVm()),2&O){const I=C.$implicit;m.R7$(),m.vxM(I.total>0?1:-1)}}function E(O,C){1&O&&m.Z7z(0,y,2,1,"ng-container",0,m.fX1),2&O&&m.Dyx(C)}let v=(()=>{class O{constructor(I,D){this.suggestionTargetsStateService=I,this.suggestionsService=D}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(I){return this.suggestionsService.getNotificationSuggestionInterpolation(I)}static{this.\u0275fac=function(D){return new(D||O)(m.rXU(f.x),m.rXU(e.F))}}static{this.\u0275cmp=m.VBU({type:O,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[1,"alert","alert-info"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(D,R){if(1&D&&(m.DNE(0,E,2,0),m.nI1(1,"async")),2&D){let h;m.vxM((h=m.bMT(1,1,R.suggestionsRD$))?0:-1,h)}},dependencies:[i.Jj,t.Wk,c.h,c.D9]})}}return O})()},85955:(U,b,n)=>{"use strict";n.d(b,{F:()=>T});var i=n(7673),t=n(27468),c=n(96697),e=n(96354),f=n(73028),m=n(99437),p=n(78544),y=n(70998),E=n(295),v=n(64959),O=n(89894),C=n(4093),I=n(89777),D=n(4600),R=n(93007),h=n(54438),S=n(68018);let T=(()=>{class w{constructor(L,N,j,$){this.researcherProfileService=L,this.suggestionsDataService=N,this.suggestionTargetDataService=j,this.translateService=$}getTargets(L,N,j){const $=new y.z("display",y.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(L,{elementsPerPage:N,currentPage:j,sort:$}).pipe((0,C.D4)(),(0,c.s)(1),(0,e.T)(K=>{if(K.hasSucceeded)return K.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(L,N,j,$){const[k,K]=L.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(K,k,{elementsPerPage:N,currentPage:j,sort:$})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(L){return this.suggestionsDataService.deleteSuggestion(L).pipe((0,e.T)(N=>{if(N.isSuccess)return N;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,c.s)(1))}retrieveCurrentUserSuggestions(L){return(0,I.Tn)(L)?(0,i.of)([]):this.researcherProfileService.findById(L,!0,!0,(0,D.s)("item")).pipe((0,C.qD)(),(0,f.Z)(N=>(0,I.hj)(N)&&N.hasSucceeded&&(0,I.hj)(N.payload)?this.researcherProfileService.findRelatedItemId(N.payload).pipe((0,f.Z)(j=>this.suggestionTargetDataService.getTargetsByUser(j).pipe((0,C.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(L,N,j){const $=this.resolveCollectionId(N,j);return L.importExternalSourceEntry(N.externalSourceUri,$).pipe((0,C.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(L){return this.deleteReviewedSuggestion(L).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(L,N,j){return(0,t.p)(N.map($=>this.approveAndImport(L,$,j))).pipe((0,e.T)($=>({success:$.filter(k=>null!=k).length,fails:$.filter(k=>null==k).length})),(0,c.s)(1))}ignoreSuggestionMultiple(L){return(0,t.p)(L.map(N=>this.ignoreSuggestion(N.id))).pipe((0,e.T)(N=>({success:N.filter(j=>null!=j).length,fails:N.filter(j=>null==j).length})),(0,c.s)(1))}getTargetUuid(L){const N=L.id.split(":");return 2===N.length?N[1]:null}getNotificationSuggestionInterpolation(L){return{count:L.total,source:this.translateService.instant(this.translateSuggestionSource(L.source)),type:this.translateService.instant(this.translateSuggestionType(L.source)),suggestionId:L.id,displayName:L.display,url:(0,R.jV)(L.id)}}translateSuggestionType(L){return"suggestion.type."+L}translateSuggestionSource(L){return"suggestion.source."+L}resolveCollectionId(L,N){return(0,I.a4)(N)?N:p.c.suggestion.find(j=>j.source===L.source).collectionId}isCollectionFixed(L){return 1===this.getFixedCollectionIds(L).length}getFixedCollectionIds(L){const N={};return L.forEach(j=>{const $=p.c.suggestion.find(k=>k.source===j.source);(0,I.a4)($)&&(N[$.collectionId]=!0)}),Object.keys(N)}static{this.\u0275fac=function(N){return new(N||w)(h.KVO(O.ResearcherProfileDataService),h.KVO(E.SuggestionDataService),h.KVO(v.SuggestionTargetDataService),h.KVO(S.c$))}}static{this.\u0275prov=h.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},69470:(U,b,n)=>{"use strict";n.d(b,{Af:()=>y,Fz:()=>e,Gx:()=>m,Pc:()=>f,eb:()=>p,en:()=>v,g3:()=>E,lz:()=>t,ri:()=>c});var i=n(6800);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class c{constructor(C,I,D){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:C,elementsPerPage:I,currentPage:D}}}class e{constructor(C){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:C}}}class f{constructor(C,I,D,R,h){this.type=t.ADD_TARGETS,this.payload={source:C,targets:I,totalPages:D,currentPage:R,totalElements:h}}}class m{constructor(C){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:C}}}class p{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class y{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class E{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class v{constructor(C){this.type=t.CLEAR_TARGETS,this.payload={source:C}}}},6207:(U,b,n)=>{"use strict";n.d(b,{x:()=>T});var i=n(59640),t=n(96354),c=n(91261),e=n(25913);function m(){return(0,c.hZ)(e.I,"suggestionTarget")}function p(w){return(0,i.Mz)(m(),M=>M.sources[w])}(0,i.UX)("suggestionNotifications");const E=w=>(0,i.Mz)(p(w),M=>M?.loaded||!1),I=w=>(0,i.Mz)(p(w),M=>M?.totalElements||0);var h=n(69470),S=n(54438);let T=(()=>{class w{constructor(L){this.store=L}getSuggestionTargets(L){return this.store.pipe((0,i.Lt)(function y(w){return(0,i.Mz)(p(w),M=>M.targets)}(L)))}isSuggestionTargetsLoading(L){return this.store.pipe((0,i.Lt)(E(L)),(0,t.T)(N=>!N))}isSuggestionTargetsLoaded(L){return this.store.pipe((0,i.Lt)(E(L)))}isSuggestionTargetsProcessing(L){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(p(w),M=>M?.processing||!1))(L)))}getSuggestionTargetsTotalPages(L){return this.store.pipe((0,i.Lt)(I(L)))}getSuggestionTargetsCurrentPage(L){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(p(w),M=>M?.currentPage||0))(L)))}getSuggestionTargetsTotals(L){return this.store.pipe((0,i.Lt)(I(L)))}dispatchRetrieveSuggestionTargets(L,N,j){this.store.dispatch(new h.ri(L,N,j))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new h.g3)}dispatchClearSuggestionTargetsAction(L){this.store.dispatch(new h.en(L))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new h.eb)}static{this.\u0275fac=function(N){return new(N||w)(S.KVO(i.il))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},9894:(U,b,n)=>{"use strict";n.r(b),n.d(b,{PageErrorComponent:()=>e});var i=n(68018),t=n(54438),c=n(7901);let e=(()=>{class f{constructor(p){this.activatedRoute=p,this.activatedRoute.queryParams.subscribe(y=>{this.status=y.status,this.code=y.code})}static{this.\u0275fac=function(y){return new(y||f)(t.rXU(c.nX))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home","role","link","tabindex","0",1,"btn","btn-primary"]],template:function(y,E){1&y&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&y&&(t.R7$(2),t.JRh(E.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+E.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+E.code)),t.R7$(5),t.JRh(t.bMT(15,8,E.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},74154:(U,b,n)=>{"use strict";n.r(b),n.d(b,{PageInternalServerErrorComponent:()=>e});var i=n(68018),t=n(80193),c=n(54438);let e=(()=>{class f{constructor(p){this.responseService=p,this.responseService.setInternalServerError()}static{this.\u0275fac=function(y){return new(y||f)(c.rXU(t.w))}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[c.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(y,E){1&y&&(c.j41(0,"div",0)(1,"h1"),c.EFF(2,"500"),c.k0s(),c.j41(3,"h2")(4,"small"),c.EFF(5),c.nI1(6,"translate"),c.k0s()(),c.nrm(7,"br"),c.j41(8,"p"),c.EFF(9),c.nI1(10,"translate"),c.k0s(),c.nrm(11,"br"),c.j41(12,"p",1)(13,"a",2),c.EFF(14),c.nI1(15,"translate"),c.k0s()()()),2&y&&(c.R7$(5),c.SpI(" ",c.bMT(6,3,"500.page-internal-server-error")," "),c.R7$(4),c.JRh(c.bMT(10,5,"500.help")),c.R7$(5),c.JRh(c.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},80830:(U,b,n)=>{"use strict";n.r(b),n.d(b,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(68018),c=n(94196),e=n(80193),f=n(54438);let m=(()=>{class p{constructor(E,v){this.authservice=E,this.responseService=v,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(v){return new(v||p)(f.rXU(c.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:p,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home","role","button","tabindex","0",1,"btn","btn-primary"]],template:function(v,O){1&v&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"404"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&v&&(f.R7$(5),f.JRh(f.bMT(6,3,"404.page-not-found")),f.R7$(4),f.JRh(f.bMT(10,5,"404.help")),f.R7$(5),f.JRh(f.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return p})()},44280:(U,b,n)=>{"use strict";n.d(b,{JO:()=>c,rG:()=>t,yJ:()=>e});var i=n(5127);const t="processes",c=()=>`/${t}`,e=f=>new i.t(c(),f).toString()},34010:(U,b,n)=>{"use strict";n.d(b,{p:()=>i});class i{}},4589:(U,b,n)=>{"use strict";n.d(b,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},42728:(U,b,n)=>{"use strict";n.d(b,{M:()=>I});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(74942),m=n(44043);const p=new m.v("processOutput");var y=n(94152),E=n(59997);const v=new m.v("filetypes");var O=n(60410);n(4589);let I=class{static{this.type=O.A}};(0,i.Cg)([y.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],I.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.M),(0,i.Sn)("design:type",c.c)],I.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(p),(0,i.Sn)("design:type",c.c)],I.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",c.c)],I.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(v),(0,i.Sn)("design:type",c.c)],I.prototype,"filetypes",void 0),I=(0,i.Cg)([e.gV],I)},60410:(U,b,n)=>{"use strict";n.d(b,{A:()=>t});const t=new(n(44043).v)("process")},71695:(U,b,n)=>{"use strict";n.d(b,{e:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(44043),f=n(94152),m=n(59997);let p=class{static{this.type=m.M}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],p.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([c.gV],p)},59997:(U,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(44043).v)("script")},47874:(U,b,n)=>{"use strict";n.r(b),n.d(b,{RootComponent:()=>q});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),f=n(84412),m=n(84572),p=n(28492),y=n(61594),E=n(96354),v=n(99172),O=n(78544),C=n(370),I=n(15343),D=n(32954),R=n(19252),h=n(82272),S=n(55681),T=n(13957),w=n(50842),M=n(58400),L=n(15202),N=n(96132),j=n(66372),$=n(70687),k=n(87837),K=n(70997),z=n(54438);const V=(ne,ee)=>({collapsedWidth:ne,expandedWidth:ee}),G=(ne,ee)=>({value:ne,params:ee});function X(ne,ee){1&ne&&(z.j41(0,"div",5),z.nrm(1,"ds-loading",8),z.k0s()),2&ne&&(z.R7$(),z.Y8G("showMessage",!1))}function J(ne,ee){1&ne&&(z.j41(0,"div",7),z.nrm(1,"ds-loading",8),z.k0s()),2&ne&&(z.R7$(),z.Y8G("showMessage",!1))}let q=(()=>{class ne{constructor(fe,ye,oe,ue,te){this.router=fe,this.cssService=ye,this.menuService=oe,this.windowService=ue,this._window=te,this.theme=(0,e.of)({}),this.browserOsClasses=new f.t([]),this.notificationOptions=O.c.notifications}ngOnInit(){const fe=this.getBrowserName();if(fe){const oe=new Array;oe.push(`browser-${fe}`);const ue=this.getOSName();ue&&oe.push(`browser-${fe}-${ue}`),this.browserOsClasses.next(oe)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(j.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,p.j)(oe=>!oe),(0,y.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,p.j)(oe=>!oe),(0,y.$)());const ye=this.menuService.isMenuCollapsed(j.D.ADMIN);this.slideSidebarOver$=(0,m.z)([ye,this.windowService.isXsOrSm()]).pipe((0,E.T)(([oe,ue])=>oe||ue),(0,v.Z)(!0)),this.router.url===(0,I.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const fe=document.getElementById("main-content");fe&&(fe.tabIndex=-1,fe.focus())}getBrowserName(){const fe=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(fe)?"firefox":/Safari/.test(fe)?"safari":void 0}getOSName(){const fe=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(fe))return"windows"}static{this.\u0275fac=function(ye){return new(ye||ne)(z.rXU(t.Ix),z.rXU(k.J),z.rXU(N.$),z.rXU(w.CV),z.rXU(R.lc))}}static{this.\u0275cmp=z.VBU({type:ne,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[z.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"options"],[1,"ds-full-screen-loader"],[3,"showMessage"]],template:function(ye,oe){1&ye&&(z.j41(0,"button",0),z.bIt("click",function(){return oe.skipToMainContent()}),z.EFF(1),z.nI1(2,"translate"),z.k0s(),z.j41(3,"div",1),z.nI1(4,"async"),z.nI1(5,"async"),z.nI1(6,"async"),z.nI1(7,"async"),z.nI1(8,"async"),z.nrm(9,"ds-admin-sidebar",2),z.j41(10,"div",3),z.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),z.j41(14,"main",4),z.DNE(15,X,2,1,"div",5),z.j41(16,"div"),z.nrm(17,"router-outlet"),z.k0s()(),z.nrm(18,"ds-footer"),z.k0s()(),z.nrm(19,"ds-notifications-board",6),z.DNE(20,J,2,1,"div",7),z.nrm(21,"ds-live-region")),2&ye&&(z.R7$(),z.SpI(" ",z.bMT(2,12,"root.skip-to-content"),"\n"),z.R7$(2),z.AVh("d-none",oe.shouldShowFullscreenLoader),z.Y8G("ngClass",z.bMT(4,14,oe.browserOsClasses.asObservable()))("@slideSidebarPadding",z.l_i(27,G,!0!==z.bMT(5,16,oe.isSidebarVisible$)?"hidden":z.bMT(6,18,oe.slideSidebarOver$)?"unpinned":"pinned",z.l_i(24,V,z.bMT(7,20,oe.collapsedSidebarWidth$),z.bMT(8,22,oe.expandedSidebarWidth$)))),z.R7$(6),z.Y8G("expandedSidebarWidth$",oe.expandedSidebarWidth$)("collapsedSidebarWidth$",oe.collapsedSidebarWidth$),z.R7$(6),z.vxM(oe.shouldShowRouteLoader?15:-1),z.R7$(),z.AVh("d-none",oe.shouldShowRouteLoader),z.R7$(3),z.Y8G("options",oe.notificationOptions),z.R7$(),z.vxM(oe.shouldShowFullscreenLoader?20:-1))},dependencies:[i.Jj,M.E,i.YU,$.s,t.n3,K.E,C.u,D.B,h.C,S.h,L.v,c.h,c.D9],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[T.tr]}})}}return ne})()},3532:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchNavbarComponent:()=>v});var i=n(89417),t=n(68018),c=n(40645),e=n(13957),f=n(33745),m=n(38133),p=n(54438),y=n(7901);const E=["searchInput"];let v=(()=>{class O{constructor(I,D,R){this.formBuilder=I,this.router=D,this.searchService=R,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(I){this.collapse();const D=Object.assign({},I),R=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(R,{queryParams:D})}static{this.\u0275fac=function(D){return new(D||O)(p.rXU(i.ze),p.rXU(y.Ix),p.rXU(c.S))}}static{this.\u0275cmp=p.VBU({type:O,selectors:[["ds-base-search-navbar"]],viewQuery:function(D,R){if(1&D&&p.GBs(E,5),2&D){let h;p.mGM(h=p.lsd())&&(R.searchField=h.first)}},standalone:!0,features:[p.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"d-inline-block","bg-transparent","position-absolute","form-control","dropdown-menu-end","p1",3,"placeholder","tabIndex"],["type","button","tabindex","0","role","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(D,R){if(1&D){const h=p.RV6();p.j41(0,"div",1),p.nI1(1,"translate"),p.bIt("dsClickOutside",function(){return p.eBV(h),p.Njj(R.collapse())}),p.j41(2,"div",2)(3,"form",3),p.bIt("ngSubmit",function(){return p.eBV(h),p.Njj(R.onSubmit(R.searchForm.value))}),p.nrm(4,"input",4,0),p.nI1(6,"translate"),p.nI1(7,"translate"),p.nI1(8,"dsBrowserOnly"),p.j41(9,"button",5),p.nI1(10,"translate"),p.nI1(11,"dsBrowserOnly"),p.bIt("click",function(){return p.eBV(h),p.Njj(R.searchExpanded?R.onSubmit(R.searchForm.value):R.expand())}),p.nrm(12,"em",6),p.k0s()()()()}2&D&&(p.Y8G("title",p.bMT(1,11,"nav.search")),p.R7$(3),p.Y8G("formGroup",R.searchForm),p.R7$(),p.AVh("display",R.searchExpanded?"inline-block":"none"),p.FS9("placeholder",R.searchExpanded?p.bMT(6,13,"nav.search"):""),p.Y8G("@toggleAnimation",R.isExpanded)("tabIndex",R.searchExpanded?0:-1),p.BMQ("aria-label",p.bMT(7,15,"nav.search"))("data-test",p.bMT(8,17,"header-search-box")),p.R7$(5),p.BMQ("aria-label",p.bMT(10,19,"nav.search.button"))("data-test",p.bMT(11,21,"header-search-icon")))},dependencies:[f.L,m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.3 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color);right:0}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return O})()},51728:(U,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(29710),c=(n(3532),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(E){return n(28754)(`./${E}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3532))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-search-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},70767:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationSearchPageComponent:()=>me});var i=n(60177),t=n(54438),c=n(68018),e=n(79096),f=n(87507),m=n(40645),p=n(74272),y=n(50553),E=n(34366),v=n(50842),O=n(33006),C=n(10996),I=n(18155),D=n(27499),R=n(43144),h=n(41519),S=n(60768),T=n(19194),w=n(7901);const M=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],L=["[searchContentTop]","[additionalSearchOptions]"];function N(re,Z){}function j(re,Z){1&re&&t.DNE(0,N,0,0,"ng-template")}function $(re,Z){if(1&re&&(t.j41(0,"div",3)(1,"div",5)(2,"div",6),t.DNE(3,j,1,0,null,7),t.k0s()()()),2&re){t.XpG();const le=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",le)}}function k(re,Z){}function K(re,Z){1&re&&t.DNE(0,k,0,0,"ng-template")}function z(re,Z){if(1&re&&(t.j41(0,"div"),t.DNE(1,K,1,0,null,7),t.k0s()),2&re){t.XpG();const le=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",le)}}function V(re,Z){}function G(re,Z){1&re&&t.DNE(0,V,0,0,"ng-template")}function X(re,Z){if(1&re&&(t.j41(0,"ds-page-with-sidebar",4),t.DNE(1,G,1,0,null,7),t.k0s()),2&re){const le=t.XpG(),ce=t.sdS(7),ve=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",le.sideBarWidth)("sidebarContent",ve),t.R7$(),t.Y8G("ngTemplateOutlet",ce)}}function J(re,Z){}function q(re,Z){1&re&&t.DNE(0,J,0,0,"ng-template")}function ne(re,Z){if(1&re&&t.DNE(0,q,1,0,null,7),2&re){t.XpG(3);const le=t.sdS(11);t.Y8G("ngTemplateOutlet",le)}}function ee(re,Z){if(1&re&&(t.j41(0,"div",6),t.DNE(1,ne,1,1),t.SdG(2,1),t.k0s()),2&re){const le=t.XpG(2);t.R7$(),t.vxM(le.searchEnabled?1:-1)}}function fe(re,Z){if(1&re&&t.nrm(0,"ds-view-mode-switch",10),2&re){const le=t.XpG(2);t.Y8G("viewModeList",le.viewModeList)("inPlaceSearch",le.inPlaceSearch)}}function ye(re,Z){if(1&re){const le=t.RV6();t.j41(0,"ds-search-results",14),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(ve){t.eBV(le);const ze=t.XpG(2);return t.Njj(ze.onContentChange(ve))})("deselectObject",function(ve){t.eBV(le);const ze=t.XpG(2);return t.Njj(ze.deselectObject.emit(ve))})("selectObject",function(ve){t.eBV(le);const ze=t.XpG(2);return t.Njj(ze.selectObject.emit(ve))}),t.k0s()}if(2&re){const le=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,le.resultsRD$))("searchConfig",t.bMT(2,12,le.searchOptions$))("configuration",t.bMT(3,14,le.currentConfiguration$))("disableHeader",!le.searchEnabled)("linkType",le.linkType)("context",t.bMT(4,16,le.currentContext$))("selectable",le.selectable)("selectionConfig",le.selectionConfig)("showCsvExport",le.showCsvExport)("showThumbnails",le.showThumbnails)}}function oe(re,Z){if(1&re){const le=t.RV6();t.j41(0,"div",5),t.DNE(1,ee,3,1,"div",6),t.nI1(2,"async"),t.j41(3,"div",8)(4,"div",9),t.DNE(5,fe,1,2,"ds-view-mode-switch",10),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(le);const ve=t.XpG();return t.Njj(ve.openSidebar())}),t.nrm(7,"i",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,ye,5,18,"ds-search-results",13),t.k0s()()}if(2&re){const le=t.XpG();t.R7$(),t.vxM(!0!==t.bMT(2,4,le.isXsOrSm$)?1:-1),t.R7$(4),t.vxM(le.inPlaceSearch&&le.showViewModes?5:-1),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.vxM(le.inPlaceSearch?11:-1)}}function ue(re,Z){if(1&re){const le=t.RV6();t.j41(0,"ds-search-sidebar",17),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(ve){t.eBV(le);const ze=t.XpG(2);return t.Njj(ze.changeContext(ve.context))})("changeViewMode",function(){t.eBV(le);const ve=t.XpG(2);return t.Njj(ve.changeViewMode())}),t.k0s()}if(2&re){let le;const ce=t.XpG(2);t.Y8G("configurationList",ce.configurationList)("configuration",t.bMT(1,12,ce.currentConfiguration$))("currentScope",t.bMT(2,14,ce.currentScope$))("filters",ce.filtersRD$.asObservable())("refreshFilters",ce.refreshFilters)("resultCount",null==(le=t.bMT(3,16,ce.resultsRD$))||null==le.payload?null:le.payload.totalElements)("searchOptions",t.bMT(4,18,ce.searchOptions$))("sortOptionsList",t.bMT(5,20,ce.sortOptionsList$))("currentSortOption",t.bMT(6,22,ce.currentSortOptions$))("inPlaceSearch",ce.inPlaceSearch)("viewModeList",ce.viewModeList)("showViewModes",ce.showViewModes)}}function te(re,Z){if(1&re){const le=t.RV6();t.j41(0,"ds-search-sidebar",18),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(le);const ve=t.XpG(2);return t.Njj(ve.closeSidebar())})("changeConfiguration",function(ve){t.eBV(le);const ze=t.XpG(2);return t.Njj(ze.changeContext(ve.context))})("changeViewMode",function(){t.eBV(le);const ve=t.XpG(2);return t.Njj(ve.changeViewMode())}),t.k0s()}if(2&re){let le;const ce=t.XpG(2);t.Y8G("configurationList",ce.configurationList)("configuration",t.bMT(1,12,ce.currentConfiguration$))("currentScope",t.bMT(2,14,ce.currentScope$))("filters",ce.filtersRD$.asObservable())("refreshFilters",ce.refreshFilters)("resultCount",null==(le=t.bMT(3,16,ce.resultsRD$))||null==le.payload?null:le.payload.totalElements)("searchOptions",t.bMT(4,18,ce.searchOptions$))("sortOptionsList",t.bMT(5,20,ce.sortOptionsList$))("currentSortOption",t.bMT(6,22,ce.currentSortOptions$))("inPlaceSearch",ce.inPlaceSearch)("viewModeList",ce.viewModeList)("showViewModes",ce.showViewModes)}}function se(re,Z){if(1&re&&(t.DNE(0,ue,7,24,"ds-search-sidebar",15),t.nI1(1,"async"),t.DNE(2,te,7,24,"ds-search-sidebar",16),t.nI1(3,"async")),2&re){const le=t.XpG();t.vxM(!0!==t.bMT(1,2,le.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(t.bMT(3,4,le.isXsOrSm$)?2:-1)}}function be(re,Z){if(1&re&&(t.nrm(0,"ds-search-form",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",20)(5,"div",21),t.nrm(6,"ds-search-labels",22),t.k0s()()),2&re){let le,ce;const ve=t.XpG();t.Y8G("query",null==(le=t.bMT(1,8,ve.searchOptions$))?null:le.query)("scope",null==(ce=t.bMT(2,10,ve.searchOptions$))?null:ce.scope)("hideScopeInUrl",ve.hideScopeInUrl)("currentUrl",ve.searchLink)("showScopeSelector",ve.showScopeSelector)("inPlaceSearch",ve.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,ve.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",ve.inPlaceSearch)}}let me=(()=>{class re extends O.SearchComponent{constructor(le,ce,ve,ze,Se,et,$e,st){super(le,ce,ve,ze,Se,et,$e,st),this.service=le,this.sidebarService=ce,this.windowService=ve,this.searchConfigService=ze,this.routeService=Se,this.router=et,this.appConfig=$e,this.platformId=st}static{this.\u0275fac=function(ce){return new(ce||re)(t.rXU(m.S),t.rXU(S.o),t.rXU(v.CV),t.rXU(y.EN),t.rXU(f.v$),t.rXU(w.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:re,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:y.EN,useClass:p.g}]),t.Vt3,t.aNF],ngContentSelectors:L,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[3,"id","sideBarWidth","sidebarContent"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(ce,ve){1&ce&&(t.NAR(M),t.DNE(0,$,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,z,2,1,"div"),t.nI1(3,"async"),t.DNE(4,X,2,4,"ds-page-with-sidebar",4),t.nI1(5,"async"),t.DNE(6,oe,12,8,"ng-template",null,0,t.C5r)(8,se,4,6,"ng-template",null,1,t.C5r)(10,be,7,14,"ng-template",null,2,t.C5r)),2&ce&&(t.vxM(ve.searchEnabled&&t.bMT(1,3,ve.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(!ve.showSidebar&&t.bMT(3,5,ve.initialized$)?2:-1),t.R7$(2),t.vxM(ve.showSidebar&&t.bMT(5,7,ve.initialized$)?4:-1))},dependencies:[i.Jj,i.T3,h.f,C.L,R.d,I.N,D.p,c.h,c.D9,T.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[E.W]},changeDetection:0})}}return re})()},10653:(U,b,n)=>{"use strict";n.d(b,{M:()=>y}),n(40940),n(79669);var c=n(29710),f=(n(70767),n(54438));const m=["*"];function p(E,v){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(O){return n(21133)(`./${O}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,70767))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=f.xGo(E)))(I||E)}})()}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return E})()},43764:(U,b,n)=>{"use strict";n.d(b,{e:()=>p});var i=n(54438),t=n(89777),c=n(73838),e=n(60163);const f=["DynamicComponentLoader"];function m(y,E){}let p=(()=>{class y{constructor(v){this.themeService=v,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(v){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(O=>(0,t.a4)(v[O])&&v[O].previousValue!==v[O].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(v=>(0,t.a4)(v)).forEach(v=>v.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const v=this.getComponent(),O=this.componentViewContainerRef;O.clear(),this.compRef=O.createComponent(v,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(v=>void 0!==this[v]).filter(v=>this[v]!==this.compRef.instance[v]).forEach(v=>{this.compRef.setInput(v,this[v])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(v=>void 0!==this[v]).filter(v=>this[v]!==this.compRef.instance[v]).forEach(v=>{this.compRef.instance[v]=this[v]})}static{this.\u0275fac=function(O){return new(O||y)(i.rXU(c.Fs))}}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-abstract-component-loader"]],viewQuery:function(O,C){if(1&O&&i.GBs(f,7,i.c1b),2&O){let I;i.mGM(I=i.lsd())&&(C.componentViewContainerRef=I.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(O,C){1&O&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return y})()},60163:(U,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class c{constructor(f){this.viewContainerRef=f}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return c})()},74082:(U,b,n)=>{"use strict";n.d(b,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},64972:(U,b,n)=>{"use strict";n.d(b,{C:()=>E});var i=n(49969),t=n(54438),c=n(68018),e=n(2180);const f=["*"];function m(v,O){if(1&v&&(t.nrm(0,"span",2),t.nI1(1,"translate")),2&v){const C=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,C.content),t.npT)}}function p(v,O){if(1&v){const C=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(C);const D=t.XpG(2);return t.Njj(D.dismiss())}),t.k0s()}}function y(v,O){if(1&v&&(t.j41(0,"div",1),t.DNE(1,m,2,3,"span",2),t.SdG(2),t.DNE(3,p,1,0,"button",3),t.k0s()),2&v){const C=t.XpG();t.ZvI("alert ",C.type," alert-dismissible fade show w-100 p-3"),t.Y8G("@enterLeave",C.animate),t.R7$(),t.vxM(C.content?1:-1),t.R7$(2),t.vxM(C.dismissible?3:-1)}}let E=(()=>{class v{constructor(C){this.cdr=C,this.dismissible=!1,this.close=new t.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(I){return new(I||v)(t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[t.aNF],ngContentSelectors:f,decls:1,vars:1,consts:[["role","alert",3,"class"],["role","alert"],[3,"innerHTML"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(I,D){1&I&&(t.NAR(),t.DNE(0,y,4,6,"div",0)),2&I&&t.vxM(D.dismissed?-1:0)},dependencies:[c.h,c.D9],styles:[".btn-close{opacity:.75}.btn-close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[e.ai,e.wA])]}})}}return v})()},2180:(U,b,n)=>{"use strict";n.d(b,{HT:()=>t,Ws:()=>v,Xn:()=>E,ai:()=>m,e9:()=>c,qG:()=>y,wA:()=>f});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),c=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),f=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),p=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),y=(0,i.hZ)("fadeIn",[e]),E=(0,i.hZ)("fadeOut",[p]),v=(0,i.hZ)("fadeInOut",[e,p])},68887:(U,b,n)=>{"use strict";n.d(b,{B_:()=>e,Py:()=>f,Wk:()=>t,iP:()=>c});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),c=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),f=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[c]),(0,i.hZ)("fromTopOut",[f]),(0,i.hZ)("fromTopInOut",[c,f])},34366:(U,b,n)=>{"use strict";n.d(b,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},59713:(U,b,n)=>{"use strict";n.d(b,{CC:()=>c,L2:()=>e,Ru:()=>f,UE:()=>t,e$:()=>O});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),c=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),f=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),O=((0,i.hZ)("rotateIn",[c]),(0,i.hZ)("rotateOut",[f]),(0,i.hZ)("rotateInOut",[c,f]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},13957:(U,b,n)=>{"use strict";n.d(b,{M6:()=>t,ck:()=>O,l9:()=>I,p8:()=>c,tr:()=>C});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),c=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),f=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),p=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),y=(0,i.iF)({paddingLeft:"0"}),E={params:{collapsedWidth:"*",expandedWidth:"*"}},v="300ms ease-in-out",O=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,E),(0,i.wk)("expanded",f,E),(0,i.kY)("expanded => collapsed",(0,i.i0)(v,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(v,f))]),C=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",y),(0,i.wk)("unpinned",m,E),(0,i.wk)("pinned",p,E),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(v)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(v)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(v))]),I=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},42380:(U,b,n)=>{"use strict";n.r(b),n.d(b,{AuthNavMenuComponent:()=>K});var i=n(60177),t=n(7901),c=n(58003),e=n(59640),f=n(68018),m=n(7673),p=n(5964),y=n(96354),E=n(23679),v=n(94196),O=n(12321),C=n(2180),I=n(89777),D=n(50842),R=n(20044),h=n(33745),S=n(72067),T=n(54438);const w=z=>({"ps-3 pe-3":z});function M(z,V){if(1&z){const G=T.RV6();T.j41(0,"div",5),T.bIt("click",function(J){return T.eBV(G),T.Njj(J.stopPropagation())}),T.j41(1,"div",6,0)(3,"button",7),T.nI1(4,"translate"),T.nI1(5,"dsBrowserOnly"),T.bIt("click",function(J){return T.eBV(G),T.Njj(J.preventDefault())}),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"div",8),T.nI1(9,"async"),T.nI1(10,"translate"),T.nrm(11,"ds-log-in",9),T.k0s()()()}if(2&z){const G=T.sdS(2),X=T.XpG(2);T.R7$(),T.Y8G("@fadeInOut",void 0),T.R7$(2),T.BMQ("aria-label",T.bMT(4,8,"nav.login"))("data-test",T.bMT(5,10,"login-menu"))("aria-expanded",G.isOpen()),T.R7$(3),T.SpI(" ",T.bMT(7,12,"nav.login")," "),T.R7$(2),T.Y8G("ngClass",T.eq3(18,w,T.bMT(9,14,X.loading))),T.BMQ("aria-label",T.bMT(10,16,"nav.login")),T.R7$(3),T.Y8G("isStandalonePage",!1)}}function L(z,V){if(1&z){const G=T.RV6();T.j41(0,"div",4)(1,"div",6,1)(3,"button",10),T.nI1(4,"translate"),T.nI1(5,"translate"),T.nI1(6,"dsBrowserOnly"),T.bIt("click",function(J){return T.eBV(G),T.Njj(J.preventDefault())}),T.nrm(7,"i",11),T.k0s(),T.j41(8,"div",12)(9,"ds-user-menu",13),T.bIt("changedRoute",function(){T.eBV(G);const J=T.sdS(2);return T.Njj(J.close())}),T.k0s()()()()}2&z&&(T.R7$(),T.Y8G("@fadeInOut",void 0),T.R7$(2),T.Y8G("title",T.bMT(4,5,"nav.user-profile-menu-and-logout")),T.BMQ("aria-label",T.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",T.bMT(6,9,"user-menu")),T.R7$(6),T.Y8G("inExpandableNavbar",!1))}function N(z,V){if(1&z&&(T.j41(0,"div",2),T.SS7(1),T.nI1(2,"async"),T.DNE(3,M,12,20,"div",4)(4,L,10,11,"div",4),T.k0s()),2&z){const G=T.XpG(),X=T.r8f(0),J=T.bMT(2,2,G.showAuth$);T.R7$(3),T.vxM(!0!==X&&J?3:-1),T.R7$(),T.vxM(X&&J?4:-1)}}function j(z,V){1&z&&(T.j41(0,"a",14),T.nI1(1,"translate"),T.nI1(2,"translate"),T.nrm(3,"i",16),T.j41(4,"span",17),T.EFF(5,"(current)"),T.k0s()()),2&z&&(T.Y8G("title",T.bMT(1,2,"nav.logout")),T.BMQ("aria-label",T.bMT(2,4,"nav.logout")))}function $(z,V){1&z&&(T.j41(0,"a",15),T.EFF(1),T.nI1(2,"translate"),T.j41(3,"span",17),T.EFF(4,"(current)"),T.k0s()()),2&z&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"nav.login"),""))}function k(z,V){if(1&z&&(T.j41(0,"div",3),T.DNE(1,j,6,6,"a",14)(2,$,5,3,"a",15),T.k0s()),2&z){T.XpG();const G=T.r8f(0);T.R7$(),T.vxM(!0===G?1:2)}}let K=(()=>{class z{constructor(G,X,J){this.store=G,this.windowService=X,this.authService=J,this.showAuth$=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated$=this.store.pipe((0,e.Lt)(O.wR)),this.loading=this.store.pipe((0,e.Lt)(O.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth$=this.store.pipe((0,e.Lt)(E.ox),(0,p.p)(G=>(0,I.EA)(G)&&(0,I.EA)(G.state)),(0,y.T)(G=>!G.state.url.startsWith(v.S0)&&!G.state.url.startsWith(v.Ru)))}static{this.\u0275fac=function(X){return new(X||z)(T.rXU(e.il),T.rXU(D.CV),T.rXU(v.uR))}}static{this.\u0275cmp=T.VBU({type:z,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[T.aNF],decls:5,vars:6,consts:[["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["data-test","auth-nav",1,"navbar-nav","me-auto"],["data-test","auth-nav"],[1,"nav-item"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["role","button","tabindex","0","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","btn","btn-link","px-0",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","dialog","aria-modal","true",3,"ngClass"],[3,"isStandalonePage"],["role","button","tabindex","0","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","btn","btn-link","px-0",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["routerLink","/logout","routerLinkActive","active","role","link","tabindex","0",1,"logoutLink","px-0",3,"title"],["routerLink","/login","routerLinkActive","active","role","link","tabindex","0",1,"loginLink","px-0"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"],[1,"sr-only"]],template:function(X,J){1&X&&(T.SS7(0),T.nI1(1,"async"),T.DNE(2,N,5,4,"div",2),T.nI1(3,"async"),T.DNE(4,k,3,1,"div",3)),2&X&&(T.bH3(T.bMT(1,1,J.isAuthenticated$)),T.R7$(2),T.vxM(!0!==T.bMT(3,4,J.isMobile$)?2:4))},dependencies:[i.Jj,h.L,c.zH,c.tg,c.do,c.U0,i.YU,t.Wk,t.wQ,R.W,S.r,f.h,f.D9],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}"],data:{animation:[C.Ws,C.Xn]}})}}return z})()},85546:(U,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(29710),c=(n(42380),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(E){return n(51808)(`./${E}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42380))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},72067:(U,b,n)=>{"use strict";n.d(b,{r:()=>m});var i=n(54438),t=n(29710);n(7825);const e=["*"];function f(p,y){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(E){return n(13361)(`./${E}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,7825))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=i.xGo(p)))(O||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},7825:(U,b,n)=>{"use strict";n.r(b),n.d(b,{UserMenuComponent:()=>S});var i=n(60177),t=n(54438),c=n(7901),e=n(59640),f=n(68018),m=n(15343),p=n(94196),y=n(12321),E=n(43446),v=n(73450),O=n(15202),C=n(59556);const I=T=>[T];function D(T,w){1&T&&t.nrm(0,"ds-loading")}function R(T,w){1&T&&(t.nrm(0,"li",5),t.j41(1,"li",6),t.nrm(2,"ds-log-out",7),t.k0s())}function h(T,w){if(1&T){const M=t.RV6();t.j41(0,"ul",0),t.nI1(1,"translate"),t.j41(2,"li",1),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",2),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",3),t.bIt("click",function(){t.eBV(M);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(10,"a",4),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",3),t.bIt("click",function(){t.eBV(M);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(14,"a",4),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",3),t.bIt("click",function(){t.eBV(M);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(18,"a",4),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.DNE(21,R,3,0),t.k0s()}if(2&T){let M;const L=t.XpG();t.Y8G("ngClass",L.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,11,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",L.dsoNameService.getName(t.bMT(4,13,L.user$)),""),t.R7$(4),t.JRh(null==(M=t.bMT(8,15,L.user$))?null:M.email),t.R7$(3),t.Y8G("routerLink",t.eq3(23,I,L.profileRoute)),t.R7$(),t.JRh(t.bMT(12,17,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(25,I,L.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,19,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.eq3(27,I,L.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(20,21,"nav.subscriptions")),t.R7$(2),t.vxM(L.inExpandableNavbar?-1:21)}}let S=(()=>{class T{constructor(M,L,N){this.store=M,this.authService=L,this.dsoNameService=N,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=v.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(y.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(L){return new(L||T)(t.rXU(e.il),t.rXU(p.uR),t.rXU(E.f))}}static{this.\u0275cmp=t.VBU({type:T,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(L,N){1&L&&(t.DNE(0,D,1,0,"ds-loading"),t.nI1(1,"async"),t.DNE(2,h,22,29,"ul",0),t.nI1(3,"async")),2&L&&(t.vxM(t.bMT(1,2,N.loading$)?0:-1),t.R7$(2),t.vxM(!0!==t.bMT(3,4,N.loading$)?2:-1))},dependencies:[i.Jj,C.y,i.YU,c.Wk,c.wQ,O.v,f.h,f.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return T})()},94552:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseByComponent:()=>V});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),f=n(84572),m=n(96354),y=(n(70998),n(31)),E=n(87507),v=n(19192),O=n(2180),C=n(89777),I=n(14744),D=n(15202),R=n(52186),h=n(93164),S=n(71708),T=n(41358),w=n(50186);function M(G,X){if(1&G&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G){const J=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,J.title))}}function L(G,X){if(1&G&&(t.j41(0,"div",3),t.nrm(1,"ds-results-back-button",5),t.k0s()),2&G){const J=t.XpG(3);t.R7$(),t.Y8G("back",J.back)("buttonLabel",J.buttonLabel)}}function N(G,X){if(1&G){const J=t.RV6();t.j41(0,"div"),t.DNE(1,L,2,2,"div",3),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",4),t.bIt("prev",function(){t.eBV(J);const ne=t.XpG(2);return t.Njj(ne.goPrev())})("next",function(){t.eBV(J);const ne=t.XpG(2);return t.Njj(ne.goNext())}),t.k0s()()}if(2&G){const J=t.XpG().ngVar,q=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.vxM(t.bMT(2,6,q.shouldDisplayResetButton$)?1:-1),t.R7$(2),t.Y8G("config",q.paginationConfig)("sortConfig",q.sortConfig)("showPaginator",q.showPaginator)("objects",J)}}function j(G,X){1&G&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&G&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function $(G,X){1&G&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&G&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function k(G,X){if(1&G&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",5),t.k0s()),2&G){const J=t.XpG(3);t.R7$(),t.Y8G("back",J.back)("buttonLabel",J.buttonLabel)}}function K(G,X){if(1&G&&(t.j41(0,"div"),t.DNE(1,k,2,2,"div",6),t.nI1(2,"async"),t.j41(3,"div",7),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&G){const J=t.XpG(2);t.R7$(),t.vxM(t.bMT(2,2,J.shouldDisplayResetButton$)?1:-1),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function z(G,X){if(1&G&&(t.qex(0),t.DNE(1,M,3,3,"h1"),t.nrm(2,"ds-starts-with-loader",1),t.DNE(3,N,4,8,"div")(4,j,2,3,"ds-loading",2)(5,$,2,3,"ds-error",2)(6,K,6,6,"div"),t.bVm()),2&G){const J=X.ngVar,q=t.XpG();t.R7$(),t.vxM(q.displayTitle?1:-1),t.R7$(),t.Y8G("paginationId",null==q.paginationConfig?null:q.paginationConfig.id)("startsWithOptions",q.startsWithOptions)("type",q.type),t.R7$(),t.vxM(null!=J&&J.hasSucceeded&&(null==J||!J.isLoading)&&(null==J||null==J.payload?null:J.payload.page.length)>0?3:-1),t.R7$(),t.vxM(!J||null!=J&&J.isLoading?4:-1),t.R7$(),t.vxM(null!=J&&J.hasFailed?5:-1),t.R7$(),t.vxM(null!=J&&J.isLoading||0!==(null==J||null==J.payload?null:J.payload.page.length)?-1:6)}}let V=(()=>{class G{constructor(J,q,ne,ee){this.injector=J,this.paginationService=q,this.translateService=ne,this.routeService=ee,this.viewMode=v.n.ListElement,this.displayTitle=!0,this.type=T.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const J=this.routeService.getQueryParameterValue("startsWith"),q=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,f.z)([J,q]).pipe((0,m.T)(([ne,ee])=>(0,C.a4)(ne)||(0,C.a4)(ee)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(q){return new(q||G)(t.rXU(t.zZn),t.rXU(y.m),t.rXU(c.c$),t.rXU(E.v$))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"paginationId","startsWithOptions","type"],[3,"message"],[1,"mb-2","reset"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[3,"back","buttonLabel"],[1,"d-inline-block","mb-4","reset"],["role","alert",1,"alert","alert-info","w-100"]],template:function(q,ne){1&q&&(t.DNE(0,z,7,8,"ng-container",0),t.nI1(1,"async")),2&q&&t.Y8G("ngVar",t.bMT(1,1,ne.objects$))},dependencies:[i.Jj,I.A,R.h,S.u,D.v,h.U,c.h,c.D9,w.r],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[O.qG,O.Ws]}})}}return G})()},92046:(U,b,n)=>{"use strict";n.d(b,{U:()=>y});var i=n(54438),e=(n(70998),n(41358),n(29710));n(94552);const m=["*"];function p(E,v){}let y=(()=>{class E extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(O){return n(60939)(`./${O}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,94552))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=i.xGo(E)))(I||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},79104:(U,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(54438);let t=(()=>{class c{constructor(){this.isDisabled=!1}set dsBtnDisabled(f){this.isDisabled=!!f}get disabledClass(){return this.isDisabled}handleClick(f){this.isDisabled&&(f.preventDefault(),f.stopImmediatePropagation())}handleKeydown(f){this.isDisabled&&("Enter"===f.key||"Space"===f.key)&&(f.preventDefault(),f.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,p){1&m&&i.bIt("click",function(E){return p.handleClick(E)})("keydown",function(E){return p.handleKeydown(E)}),2&m&&(i.BMQ("aria-disabled",p.isDisabled),i.AVh("disabled",p.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return c})()},69620:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDropdownComponent:()=>G});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(86820),m=n(84412),p=n(22806),y=n(7673),E=n(70152),v=n(23294),O=n(99172),C=n(25558),I=n(73028),D=n(96354),R=n(19852),h=n(96697),S=n(43446),T=n(69295),w=n(4093),M=n(89777),L=n(15202),N=n(4600);function j(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",1)(1,"input",5,0),t.nI1(3,"translate"),t.bIt("click",function(ee){return t.eBV(q),t.Njj(ee.stopPropagation())}),t.k0s()()}if(2&X){const q=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",q.searchField)}}function $(X,J){1&X&&(t.j41(0,"li",4),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function k(X,J){if(1&X&&(t.j41(0,"div",9),t.EFF(1),t.nrm(2,"i",11),t.k0s()),2&X){const q=J.$implicit;t.R7$(),t.SpI(" ",q.name," ")}}function K(X,J){if(1&X){const q=t.RV6();t.j41(0,"li",7),t.bIt("click",function(){const ee=t.eBV(q).$implicit,fe=t.XpG(2);return t.Njj(fe.onSelect(ee))}),t.j41(1,"div",8),t.Z7z(2,k,3,1,"div",9,t.fX1),t.j41(4,"div",10),t.EFF(5),t.k0s()()()}if(2&X){const q=J.$implicit;t.FS9("title",q.collection.name),t.R7$(2),t.Dyx(q.communities),t.R7$(3),t.JRh(q.collection.name)}}function z(X,J){if(1&X&&t.Z7z(0,K,6,2,"li",6,t.fX1),2&X){const q=t.XpG();t.Dyx(q.searchListCollection)}}function V(X,J){1&X&&(t.j41(0,"li")(1,"button",12),t.nrm(2,"ds-loading",13),t.nI1(3,"translate"),t.k0s()()),2&X&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let G=(()=>{class X{constructor(q,ne,ee,fe){this.changeDetectorRef=q,this.collectionDataService=ne,this.el=ee,this.dsoNameService=fe,this.searchField=new c.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(q){q.wheelDelta>0&&this.scrollableTop&&q.preventDefault(),q.wheelDelta<0&&this.scrollableBottom&&q.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,E.B)(500),(0,v.F)(),(0,O.Z)("")).subscribe(q=>{(0,M.a4)(q)&&q!==this.currentQuery&&(this.resetPagination(),this.currentQuery=q,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(q){this.scrollableBottom=q.target.scrollTop+q.target.clientHeight===q.target.scrollHeight,this.scrollableTop=0===q.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(q){this.isLoading.next(!0),this.selectionChange.emit(q)}populateCollectionList(q,ne){this.isLoading.next(!0);const ee={elementsPerPage:10,currentPage:ne};let fe;fe=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(q,this.entityType,ee,!0,(0,N.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(q,ee,!0,!0,(0,N.s)("parentCommunity")),this.searchListCollection$=fe.pipe((0,w.qD)(),(0,C.n)(ye=>(this.searchComplete.emit(),ye.hasSucceeded&&ye.payload.totalElements>0?(this.searchListCollection.length>=ye.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(ye),(0,p.H)(ye.payload.page).pipe((0,I.Z)(oe=>oe.parentCommunity.pipe((0,w.ak)(),(0,D.T)(ue=>({communities:[{id:ue.id,name:this.dsoNameService.getName(ue)}],collection:{id:oe.id,uuid:oe.id,name:this.dsoNameService.getName(oe)}})))),(0,R.T)((oe,ue)=>[...oe,ue],[]))):(this.hasNextPage=!1,(0,y.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(ye=>{this.searchListCollection.push(...ye),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(q=>(0,M.a4)(q)).forEach(q=>q.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(q){this.isLoading.next(q)}emitSelectionEvents(q){if(1===q.payload.totalElements){const ne=q.payload.page[0];q.payload.page[0].parentCommunity.pipe((0,w.ak)(),(0,h.s)(1)).subscribe(ee=>{this.theOnlySelectable.emit({communities:[{id:ee.id,name:this.dsoNameService.getName(ee),uuid:ee.id}],collection:{id:ne.id,uuid:ne.id,name:this.dsoNameService.getName(ne)}})})}}static{this.\u0275fac=function(ne){return new(ne||X)(t.rXU(t.gRc),t.rXU(T.CollectionDataService),t.rXU(t.aKT),t.rXU(S.f))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(ne,ee){1&ne&&t.bIt("mousewheel",function(ye){return ee.onMousewheel(ye)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],[1,"mb-3","w-100","pe-2","ps-2","my-2"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["role","menuitem",1,"dropdown-item","disabled"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","collection-item",3,"title"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-secondary"],[1,"list-item","text-truncate","text-primary","fw-bold"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(ne,ee){1&ne&&(t.DNE(0,j,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(ye){return ee.onScroll(ye)})("scrolled",function(){return ee.onScrollDown()}),t.DNE(3,$,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,z,2,0)(6,V,4,3,"li"),t.nI1(7,"async"),t.k0s()),2&ne&&(t.vxM(ee.searchField?0:-1),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.vxM(0===(null==ee.searchListCollection?null:ee.searchListCollection.length)&&!0!==t.bMT(4,9,ee.isLoading)?3:-1),t.R7$(2),t.vxM((null==ee.searchListCollection?null:ee.searchListCollection.length)>0?5:-1),t.R7$(),t.vxM(t.bMT(7,11,ee.isLoading)?6:-1))},dependencies:[i.Jj,c.YN,c.me,c.BC,f.e,f.D,c.X1,c.l_,L.v,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return X})()},5598:(U,b,n)=>{"use strict";n.d(b,{m:()=>m});var i=n(54438),t=n(29710);n(69620);const e=["*"];function f(p,y){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(E){return n(80882)(`./${E}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,69620))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=i.xGo(p)))(O||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},3116:(U,b,n)=>{"use strict";n.d(b,{M:()=>m});var i=n(54438),t=n(68018),c=n(58003);const e=p=>({dsoName:p});function f(p,y){if(1&p&&i.nrm(0,"i"),2&p){const E=i.XpG();i.HbH(E.confirmIcon)}}let m=(()=>{class p{constructor(E){this.activeModal=E,this.brandColor="primary",this.response=new i.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(v){return new(v||p)(i.rXU(c.Lw))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[i.aNF],decls:18,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class"]],template:function(v,O){1&v&&(i.j41(0,"div")(1,"div",0),i.EFF(2),i.nI1(3,"translate"),i.j41(4,"button",1),i.bIt("click",function(){return O.close()}),i.k0s()(),i.j41(5,"div",2)(6,"p"),i.EFF(7),i.nI1(8,"translate"),i.k0s()(),i.j41(9,"div",3)(10,"button",4),i.bIt("click",function(){return O.cancelPressed()}),i.nrm(11,"i",5),i.EFF(12),i.nI1(13,"translate"),i.k0s(),i.j41(14,"button",6),i.bIt("click",function(){return O.confirmPressed()}),i.DNE(15,f,1,3,"i",7),i.EFF(16),i.nI1(17,"translate"),i.k0s()()()),2&v&&(i.R7$(2),i.SpI("",i.i5U(3,8,O.headerLabel,i.eq3(20,e,O.name))," "),i.R7$(5),i.JRh(i.i5U(8,11,O.infoLabel,i.eq3(22,e,O.name))),i.R7$(5),i.SpI(" ",i.i5U(13,14,O.cancelLabel,i.eq3(24,e,O.name))," "),i.R7$(2),i.ZvI("confirm btn btn-",O.brandColor,""),i.R7$(),i.vxM(O.confirmIcon?15:-1),i.R7$(),i.SpI(" ",i.i5U(17,17,O.confirmLabel,i.eq3(26,e,O.name))," "))},dependencies:[t.h,t.D9],styles:["[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%], [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{word-break:break-word}"]})}}return p})()},1300:(U,b,n)=>{"use strict";n.d(b,{C:()=>E,Ed:()=>p,JD:()=>y,Ln:()=>c,Xd:()=>f,eE:()=>e,y5:()=>t});var i=n(6800);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class c{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(O){this.type=t.CONTEXT_HELP_ADD,this.model=O}}class f{constructor(O){this.type=t.CONTEXT_HELP_REMOVE,this.id=O}}class m{constructor(O){this.id=O}}class p extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class y extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class E extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},32413:(U,b,n)=>{"use strict";n.d(b,{G:()=>L});var i=n(16036),t=n(60177),c=n(58003),e=n(84412),f=n(84572),m=n(23294),p=n(73028),y=n(96354),E=n(89777),v=n(54438),O=n(68018);const C=["tooltip"],I=(N,j)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":N,"ds-context-help-icon-left":j});function D(N,j){if(1&N&&(v.j41(0,"a",5),v.EFF(1),v.k0s()),2&N){const $=v.XpG().$implicit;v.FS9("href",$.href,v.B4B),v.R7$(),v.JRh($.text)}}function R(N,j){if(1&N&&v.EFF(0),2&N){const $=v.XpG().$implicit;v.SpI(" ",$.text," ")}}function h(N,j){1&N&&v.DNE(0,D,2,2,"a",5)(1,R,1,1),2&N&&v.vxM(j.$implicit.href?0:1)}function S(N,j){if(1&N&&(v.j41(0,"div",4),v.Z7z(1,h,2,1,null,null,v.fX1),v.nI1(3,"async"),v.k0s()),2&N){const $=v.XpG();v.R7$(),v.Dyx(v.bMT(3,0,$.parsedContent$))}}function T(N,j){if(1&N){const $=v.RV6();v.j41(0,"i",6,1),v.bIt("click",function(){v.eBV($);const K=v.XpG();return v.Njj(K.onClick())}),v.k0s()}if(2&N){const $=v.XpG(),k=v.sdS(1);v.Y8G("ngClass",v.l_i(3,I,"left"!==$.iconPlacement,"left"===$.iconPlacement))("ngbTooltip",k)("placement",$.tooltipPlacement)}}function w(N,j){1&N&&v.eu8(0)}let M=(()=>{class N{set dontParseLinks($){this.dontParseLinks$.next($)}set content($){this.content$.next($)}constructor($,k){this.translateService=$,this.contextHelpService=k,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(null),this.subs=[]}ngOnInit(){this.parsedContent$=(0,f.z)([this.content$.pipe((0,m.F)(),(0,p.Z)($=>this.translateService.get($))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,y.T)(([$,k])=>k?[{text:$}]:this.parseLinks($))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip($){this.tooltip=$,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,E.Az)()).subscribe(k=>{k.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!k.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks($){const K=/^\[([^\]]*)\]\(([^\)]*)\)$/;return $.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(z=>{const V=z.match(K);return null===V?{text:z}:{href:V[2],text:V[1]}})}clearSubs(){this.subs.forEach($=>$.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(k){return new(k||N)(v.rXU(O.c$),v.rXU(i.O))}}static{this.\u0275cmp=v.VBU({type:N,selectors:[["ds-context-help-wrapper"]],viewQuery:function(k,K){if(1&k&&v.GBs(C,5),2&k){let z;v.mGM(z=v.lsd())&&(K.setTooltip=z.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[v.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(k,K){1&k&&(v.DNE(0,S,4,2,"ng-template",null,0,v.C5r)(2,T,2,6,"i",2),v.nI1(3,"async"),v.DNE(4,w,1,0,"ng-container",3)),2&k&&(v.R7$(2),v.vxM(v.bMT(3,2,K.shouldShowIcon$)?2:-1),v.R7$(2),v.Y8G("ngTemplateOutlet",K.templateRef))},dependencies:[t.Jj,c.n8,c.md,t.YU,t.T3],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return N})(),L=(()=>{class N{constructor($,k,K){this.templateRef=$,this.viewContainerRef=k,this.contextHelpService=K,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(M)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,E.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(k){return new(k||N)(v.rXU(v.C4Q),v.rXU(v.c1b),v.rXU(i.O))}}static{this.\u0275dir=v.FsC({type:N,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[v.OA$]})}}return N})()},16036:(U,b,n)=>{"use strict";n.d(b,{O:()=>E});var i=n(59640),t=n(96354),c=n(1300),e=n(54438);const f=(0,i.UX)("contextHelp"),m=(0,i.Mz)(f,v=>v.allIconsVisible),y=(0,i.Mz)(f,v=>v.models);let E=(()=>{class v{constructor(C){this.store=C}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(C){return this.store.pipe((0,i.Lt)((v=>(0,i.Mz)(f,O=>O.models[v]))(C)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(y)).pipe((0,t.T)(C=>Object.keys(C).length))}toggleIcons(){this.store.dispatch(new c.Ln)}add(C){this.store.dispatch(new c.eE(C))}remove(C){this.store.dispatch(new c.Xd(C))}toggleTooltip(C){this.store.dispatch(new c.Ed(C))}showTooltip(C){this.store.dispatch(new c.JD(C))}hideTooltip(C){this.store.dispatch(new c.C(C))}static{this.\u0275fac=function(I){return new(I||v)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},89564:(U,b,n)=>{"use strict";n.d(b,{B:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},50813:(U,b,n)=>{"use strict";function i(T){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(T)}function t(T,w){if(w.length<T)throw new TypeError(T+" argument"+(T>1?"s":"")+" required, but only "+w.length+" present")}n.d(b,{Sd:()=>O,$T:()=>R,z5:()=>v,vd:()=>h,PR:()=>I,zX:()=>S});var m=n(56106),p=n(83278),y=n.n(p),E=n(89777);function v(T){return y()(T)&&T.hasOwnProperty("day")&&T.hasOwnProperty("month")&&T.hasOwnProperty("year")}function O(T){const w=T instanceof Date?T:C("string"==typeof T?I(T):T);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function C(T){return new Date(Date.UTC(T.year,T.month-1,T.day))}function I(T){return function D(T){return(0,E.Tn)(T)&&(T=new Date),{year:T.getUTCFullYear(),month:T.getUTCMonth()+1,day:T.getUTCDate()}}(new Date(T))}function R(T){const w=T instanceof Date?T:C(T);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd")}function h(T){return!(0,E.Tn)(T)&&function f(T){if(t(1,arguments),!function c(T){return t(1,arguments),T instanceof Date||"object"===i(T)&&"[object Date]"===Object.prototype.toString.call(T)}(T)&&"number"!=typeof T)return!1;var w=function e(T){t(1,arguments);var w=Object.prototype.toString.call(T);return T instanceof Date||"object"===i(T)&&"[object Date]"===w?new Date(T.getTime()):"number"==typeof T||"[object Number]"===w?new Date(T):(("string"==typeof T||"[object String]"===w)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(T);return!isNaN(Number(w))}(new Date(T))}function S(T){return h(T)?new Date(T).getUTCFullYear():null}},44087:(U,b,n)=>{"use strict";n.d(b,{T:()=>O});var i=n(60177),t=n(11873),c=n(15181),e=n(96132),f=n(66372),m=n(73838),p=n(54438),y=n(7901);function E(C,I){1&C&&p.eu8(0)}function v(C,I){if(1&C&&(p.j41(0,"div",1),p.DNE(1,E,1,0,"ng-container",2),p.nI1(2,"async"),p.nI1(3,"async"),p.k0s()),2&C){let D,R;const h=I.$implicit,S=p.XpG();p.R7$(),p.Y8G("ngComponentOutlet",null==(D=p.bMT(2,2,S.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(R=p.bMT(3,4,S.sectionMap$).get(h.id))?null:R.injector)}}let O=(()=>{class C extends c.Z{constructor(D,R,h,S,T){super(D,R,h,S,T),this.menuService=D,this.injector=R,this.authorizationService=h,this.route=S,this.themeService=T,this.menuID=f.D.DSO_EDIT}static{this.\u0275fac=function(R){return new(R||C)(p.rXU(e.$),p.rXU(p.zZn),p.rXU(t.AuthorizationDataService),p.rXU(y.nX),p.rXU(m.Fs))}}static{this.\u0275cmp=p.VBU({type:C,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[p.Vt3,p.aNF],decls:4,vars:2,consts:[["role","menubar",1,"dso-edit-menu","d-flex"],[1,"ms-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,h){1&R&&(p.j41(0,"div",0),p.Z7z(1,v,4,6,"div",1,p.fX1),p.nI1(3,"async"),p.k0s()),2&R&&(p.R7$(),p.Dyx(p.bMT(3,0,h.sections)))},dependencies:[i.Jj,i.OI]})}}return C})()},82418:(U,b,n)=>{"use strict";n.d(b,{Ee:()=>j,el:()=>N,pc:()=>L});var i=n(96697),t=n(11873),c=n(61206),e=n(78130),f=n(4093),m=n(60177),p=n(54438),y=n(89417),E=n(68018),v=n(84412),O=n(15202),C=n(58003);function I($,k){if(1&$){const K=p.RV6();p.j41(0,"div",0),p.EFF(1),p.nI1(2,"translate"),p.j41(3,"button",10),p.bIt("click",function(){p.eBV(K);const V=p.XpG(2);return p.Njj(V.onModalClose())}),p.k0s()()}2&$&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function D($,k){if(1&$){const K=p.RV6();p.j41(0,"div",0),p.EFF(1),p.nI1(2,"translate"),p.j41(3,"button",10),p.bIt("click",function(){p.eBV(K);const V=p.XpG(3);return p.Njj(V.onModalClose())}),p.k0s()()}2&$&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function R($,k){if(1&$&&p.DNE(0,D,4,3,"div",0),2&$){const K=p.XpG(2);p.vxM(K.canWithdraw?-1:0)}}function h($,k){if(1&$){const K=p.RV6();p.j41(0,"div"),p.DNE(1,I,4,3,"div",0)(2,R,1,1),p.j41(3,"div",1)(4,"div",2)(5,"label",3),p.EFF(6),p.nI1(7,"translate"),p.nI1(8,"translate"),p.k0s(),p.j41(9,"label",3),p.EFF(10),p.nI1(11,"translate"),p.nI1(12,"translate"),p.k0s(),p.j41(13,"textarea",4),p.nI1(14,"translate"),p.nI1(15,"translate"),p.mxI("ngModelChange",function(V){p.eBV(K);const G=p.XpG();return p.DH7(G.reason,V)||(G.reason=V),p.Njj(V)}),p.k0s()()(),p.j41(16,"div",5)(17,"button",6),p.nI1(18,"translate"),p.bIt("click",function(){p.eBV(K);const V=p.XpG();return p.Njj(V.onModalClose())}),p.nrm(19,"i",7),p.EFF(20),p.nI1(21,"translate"),p.k0s(),p.j41(22,"button",8),p.nI1(23,"translate"),p.bIt("click",function(){p.eBV(K);const V=p.XpG();return p.Njj(V.onModalSubmit())}),p.nrm(24,"i",9),p.EFF(25),p.nI1(26,"translate"),p.nI1(27,"translate"),p.k0s()()()}if(2&$){const K=p.XpG();p.R7$(),p.vxM(K.canWithdraw?1:2),p.R7$(5),p.JRh(K.canWithdraw?p.bMT(7,9,"qa-withdrawn.create.modal.form.summary.label"):p.bMT(8,11,"qa-reinstate.create.modal.form.summary.label")),p.R7$(4),p.JRh(K.canWithdraw?p.bMT(11,13,"qa-withdrawn.create.modal.form.summary2.label"):p.bMT(12,15,"qa-reinstate.create.modal.form.summary2.label")),p.R7$(3),p.FS9("placeholder",K.canWithdraw?p.bMT(14,17,"qa-withdrown.modal.form.summary.placeholder"):p.bMT(15,19,"qa-reinstate.modal.form.summary.placeholder")),p.R50("ngModel",K.reason),p.R7$(4),p.FS9("title",p.bMT(18,21,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),p.R7$(3),p.SpI(" ",p.bMT(21,23,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),p.R7$(2),p.FS9("title",p.bMT(23,25,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),p.R7$(3),p.SpI(" ",K.canWithdraw?p.bMT(26,27,"qa-withdrown.create.modal.button.confirm"):p.bMT(27,29,"qa-reinstate.create.modal.button.confirm")," ")}}function S($,k){1&$&&(p.j41(0,"div",0),p.EFF(1),p.nI1(2,"translate"),p.k0s(),p.j41(3,"div",1)(4,"div",11),p.nrm(5,"ds-loading",12),p.k0s()()),2&$&&(p.R7$(),p.JRh(p.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),p.R7$(4),p.Y8G("showMessage",!1))}let T=(()=>{class ${constructor(K,z){this.activeModal=K,this.authorizationService=z,this.submitted$=new v.t(!1),this.createQAEvent=new p.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(K){this.canWithdraw=K}static{this.\u0275fac=function(z){return new(z||$)(p.rXU(C.Lw),p.rXU(t.AuthorizationDataService))}}static{this.\u0275cmp=p.VBU({type:$,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[p.aNF],decls:3,vars:3,consts:[[1,"modal-header"],[1,"modal-body"],[1,"mb-3"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(z,V){1&z&&(p.DNE(0,h,28,31,"div"),p.nI1(1,"async"),p.DNE(2,S,6,4)),2&z&&p.vxM(!0!==p.bMT(1,1,V.submitted$)?0:2)},dependencies:[m.Jj,y.YN,y.me,y.BC,y.vS,O.v,E.h,E.D9]})}}return $})();var w=n(9847),M=n(7901);const L="REQUEST/WITHDRAWN",N="REQUEST/REINSTATE";let j=(()=>{class ${constructor(K,z,V,G,X,J,q){this.router=K,this.modalService=z,this.itemService=V,this.notificationsService=G,this.authorizationService=X,this.translateService=J,this.qaEventDataService=q}openCreateWithdrawnReinstateModal(K,z,V){const G=K.id,X=this.modalService.open(T);X.componentInstance.setWithdraw(V),X.componentInstance.createQAEvent.pipe((0,i.s)(1)).subscribe(J=>{this.sendQARequest(G,z,J),X.close()})}sendQARequest(K,z,V){this.qaEventDataService.postData(K,z,"",V).pipe((0,f.qD)()).subscribe(G=>{G.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===z?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(K,z){const V=K?this.router.url:z;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${V}`])})}static{this.\u0275fac=function(z){return new(z||$)(p.KVO(M.Ix),p.KVO(C.Bq),p.KVO(c.ItemDataService),p.KVO(w.I),p.KVO(t.AuthorizationDataService),p.KVO(E.c$),p.KVO(e.QualityAssuranceEventDataService))}}static{this.\u0275prov=p.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},4348:(U,b,n)=>{"use strict";n.d(b,{e:()=>z});var i=n(60177),t=n(89417),c=n(68018),e=n(86820),f=n(96354),m=n(43446),p=n(69295),y=n(58956),E=n(25788),v=n(4093),O=n(40645),C=n(89777),I=n(66858),D=n(15202),R=n(9847),h=n(97593),S=n(8447),T=n(4600),w=n(16903),M=n(54438);const L=V=>({type:V}),N=V=>({"bg-primary":V});function j(V,G){if(1&V&&(M.j41(0,"button",7),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&V){const X=M.XpG(2);M.R7$(),M.SpI(" ",M.i5U(2,1,"dso-selector.no-results",M.eq3(4,L,X.typesString))," ")}}function $(V,G){if(1&V){const X=M.RV6();M.j41(0,"button",9,0),M.bIt("click",function(){const q=M.eBV(X).$implicit,ne=M.XpG(2);return M.Njj(ne.onClick(q))}),M.nrm(2,"ds-listable-object-component-loader",10),M.k0s()}if(2&V){const X=G.$implicit,J=M.XpG(2);M.FS9("title",J.getName(X)),M.Y8G("ngClass",M.eq3(6,N,X.id===J.currentDSOId)),M.R7$(2),M.Y8G("object",X)("viewMode",J.viewMode)("linkType",J.linkTypes.None)("context",J.getContext(X.id))}}function k(V,G){if(1&V&&(M.DNE(0,j,3,6,"button",7),M.nI1(1,"async"),M.Z7z(2,$,3,8,"button",8,M.fX1),M.nI1(4,"async")),2&V){const X=M.XpG();M.vxM(0===M.bMT(1,1,X.listEntries$).length?0:-1),M.R7$(2),M.Dyx(M.bMT(4,3,X.listEntries$))}}function K(V,G){1&V&&(M.j41(0,"button",6),M.nI1(1,"translate"),M.nrm(2,"ds-loading",11),M.k0s()),2&V&&(M.FS9("title",M.bMT(1,2,"loading.default")),M.R7$(2),M.Y8G("showMessage",!1))}let z=(()=>{class V extends w.x{constructor(X,J,q,ne,ee){super(X,q,ne,ee),this.searchService=X,this.collectionDataService=J,this.notifcationsService=q,this.translate=ne,this.dsoNameService=ee}getCurrentDSOQuery(){return this.currentDSOId}search(X,J,q=!0){let ne=null;const ee={currentPage:J,elementsPerPage:this.defaultPagination.pageSize};return ne=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(X,this.entityType,ee):this.collectionDataService.getAuthorizedCollection(X,ee,q,!1,(0,T.s)("parentCommunity")),ne.pipe((0,v.qD)(),(0,f.T)(fe=>Object.assign(new E.j(null,null,null,null),fe,{payload:(0,C.a4)(fe.payload)?(0,y.g)(fe.payload.pageInfo,fe.payload.page.map(ye=>Object.assign(new h.A,{indexableObject:ye}))):null})))}static{this.\u0275fac=function(J){return new(J||V)(M.rXU(O.S),M.rXU(p.CollectionDataService),M.rXU(R.I),M.rXU(c.c$),M.rXU(m.f))}}static{this.\u0275cmp=M.VBU({type:V,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[M.Vt3,M.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[3,"showMessage"]],template:function(J,q){1&J&&(M.j41(0,"div",1)(1,"input",2),M.nI1(2,"translate"),M.nI1(3,"translate"),M.bIt("click",function(ee){return ee.stopPropagation()})("keyup.enter",function(){return q.selectSingleResult()}),M.k0s()(),M.nrm(4,"div",3),M.j41(5,"div",4)(6,"div",5),M.bIt("scrolled",function(){return q.onScrollDown()}),M.DNE(7,k,5,5),M.nI1(8,"async"),M.DNE(9,K,3,4,"button",6),M.k0s()()),2&J&&(M.R7$(),M.FS9("placeholder",M.i5U(2,11,"dso-selector.placeholder",M.eq3(19,L,q.typesString))),M.Y8G("formControl",q.input),M.BMQ("aria-label",M.i5U(3,14,"dso-selector.placeholder",M.eq3(21,L,q.typesString))),M.R7$(4),M.Mz_("id","scrollable-menu-dso-selector-",q.randomSeed,""),M.R7$(),M.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+q.randomSeed)("fromRoot",!0),M.R7$(),M.vxM(M.bMT(8,17,q.listEntries$)?7:-1),M.R7$(2),M.vxM(q.loading?9:-1))},dependencies:[i.Jj,t.YN,t.me,t.BC,I.k,e.e,e.D,S.v,i.YU,t.X1,t.l_,D.v,c.h,c.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return V})()},16903:(U,b,n)=>{"use strict";n.d(b,{x:()=>ue});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(86820),m=n(84412),p=n(7673),y=n(84572),E=n(70152),v=n(99172),O=n(88141),C=n(25558),I=n(96354),D=n(43446),h=(n(70998),n(58956)),S=n(40940),T=n(4093),w=n(40645),M=n(19192),L=n(89777),N=n(66858),j=n(15202),$=n(95970),k=n(9847),K=n(79669),z=n(8447),V=n(38117),G=n(52467),X=n(30726);const J=["listEntryElement"],q=te=>({type:te}),ne=te=>({"bg-primary":te});function ee(te,se){if(1&te&&(t.j41(0,"button",7),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&te){const be=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,q,be.typesString))," ")}}function fe(te,se){if(1&te){const be=t.RV6();t.j41(0,"button",9,0),t.bIt("click",function(){const re=t.eBV(be).$implicit,Z=t.XpG(2);return t.Njj(Z.onClick(re))}),t.nrm(2,"ds-listable-object-component-loader",10),t.k0s()}if(2&te){const be=se.$implicit,me=t.XpG(2);t.FS9("title",me.getName(be)),t.Y8G("ngClass",t.eq3(6,ne,be.id===me.currentDSOId)),t.R7$(2),t.Y8G("object",be)("viewMode",me.viewMode)("linkType",me.linkTypes.None)("context",me.getContext(be.id))}}function ye(te,se){if(1&te&&(t.DNE(0,ee,3,6,"button",7),t.nI1(1,"async"),t.Z7z(2,fe,3,8,"button",8,t.fX1),t.nI1(4,"async")),2&te){const be=t.XpG();t.vxM(0===t.bMT(1,1,be.listEntries$).length?0:-1),t.R7$(2),t.Dyx(t.bMT(4,3,be.listEntries$))}}function oe(te,se){1&te&&(t.j41(0,"button",6),t.nI1(1,"translate"),t.nrm(2,"ds-loading",11),t.k0s()),2&te&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let ue=(()=>{class te{constructor(be,me,re,Z){this.searchService=be,this.notifcationsService=me,this.translate=re,this.dsoNameService=Z,this.viewMode=M.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new c.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=K.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let be;this.typesString=this.types.map(me=>this.translate.instant(`dso-selector.placeholder.type.${me.toString().toLowerCase()}`)).join(", "),be=(0,L.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,T.ak)()):(0,p.of)((0,h.g)(void 0,[])),this.subs.push((0,y.z)(be,this.input.valueChanges.pipe((0,E.B)(this.debounceTime),(0,v.Z)(""),(0,O.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,C.n)(([me,re,Z])=>(this.loading=!0,1===Z&&this.listEntries$.next(null),this.search(re,Z).pipe((0,I.T)(le=>(le.hasSucceeded?le.payload.page=[...(0,L.Im)(re)&&1===Z?me.page:[],...le.payload.page.filter(ce=>(0,L.hj)(re)||ce.indexableObject.id!==this.currentDSOId)]:le.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),le.errorMessage),le)))))).subscribe(me=>{this.updateList(me)}))}updateList(be){this.loading=!1;const me=this.listEntries$.getValue();be.hasSucceeded?((0,L.Tn)(me)?this.listEntries$.next(be.payload.page):this.listEntries$.next([...me,...be.payload.page]),this.hasNextPage=be.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,L.Tn)(me)?[]:this.listEntries$.getValue(),new V.t($._.Error,"dso-selector.results-could-not-be-retrieved",G.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(be,me,re=!0){const Z=be?null:this.sort;return this.searchService.search(new X.C({query:be,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:me}),sort:Z}),null,re).pipe((0,T.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(be){return this.context===S.o.ScopeSelectorModal?be===this.currentDSOId?S.o.ScopeSelectorModalCurrent:S.o.ScopeSelectorModal:be===this.currentDSOId?S.o.SideBarSearchModalCurrent:S.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(be=>(0,L.a4)(be)).forEach(be=>be.unsubscribe())}onClick(be){(0,L.a4)(be.indexableObject)?this.onSelect.emit(be.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,T.qD)()).subscribe(me=>{this.updateList(me)}))}getName(be){return(0,L.a4)(be.indexableObject)?this.dsoNameService.getName(be.indexableObject):null}static{this.\u0275fac=function(me){return new(me||te)(t.rXU(w.S),t.rXU(k.I),t.rXU(e.c$),t.rXU(D.f))}}static{this.\u0275cmp=t.VBU({type:te,selectors:[["ds-dso-selector"]],viewQuery:function(me,re){if(1&me&&t.GBs(J,5),2&me){let Z;t.mGM(Z=t.lsd())&&(re.listElements=Z)}},inputs:{context:"context",currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[3,"showMessage"]],template:function(me,re){1&me&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(le){return le.stopPropagation()})("keyup.enter",function(){return re.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return re.onScrollDown()}),t.DNE(7,ye,5,5),t.nI1(8,"async"),t.DNE(9,oe,3,4,"button",6),t.k0s()()),2&me&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,q,re.typesString))),t.Y8G("formControl",re.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,q,re.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",re.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+re.randomSeed)("fromRoot",!0),t.R7$(),t.vxM(t.bMT(8,17,re.listEntries$)?7:-1),t.R7$(2),t.vxM(re.loading?9:-1))},dependencies:[i.Jj,c.YN,c.me,c.BC,N.k,f.e,f.D,z.v,i.YU,c.X1,c.l_,j.v,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return te})()},89862:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCollectionParentSelectorComponent:()=>C});var i=n(68018),t=n(78544),c=n(47067),e=n(70998),f=n(93136),m=n(16903),p=n(44905),y=n(54438),E=n(58003),v=n(7901);function O(I,D){if(1&I&&(y.j41(0,"span",3),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&I){const R=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,R.header))}}let C=(()=>{class I extends p.${constructor(R,h,S){super(R,h),this.activeModal=R,this.route=h,this.router=S,this.objectType=f.W.COLLECTION,this.selectorTypes=[f.W.COMMUNITY],this.action=p.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(R){const h={queryParams:{[c.Cb]:R.uuid}};this.router.navigate([(0,c.gH)()],h)}static{this.\u0275fac=function(h){return new(h||I)(y.rXU(E.Lw),y.rXU(v.nX),y.rXU(v.Ix))}}static{this.\u0275cmp=y.VBU({type:I,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(h,S){1&h&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return S.close()}),y.k0s()(),y.j41(5,"div",2),y.DNE(6,O,3,3,"span",3),y.j41(7,"ds-dso-selector",4),y.bIt("onSelect",function(w){return S.selectObject(w)}),y.k0s()()()),2&h&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),y.R7$(4),y.vxM(S.header?6:-1),y.R7$(),y.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes)("sort",S.defaultSort))},dependencies:[m.x,i.h,i.D9],encapsulation:2})}}return I})()},20258:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCommunityParentSelectorComponent:()=>h});var i=n(60177),t=n(68018),c=n(78544),e=n(39015),f=n(70998),m=n(11873),p=n(6170),y=n(93136),E=n(89777),v=n(16903),O=n(44905),C=n(54438),I=n(58003),D=n(7901);function R(S,T){if(1&S){const w=C.RV6();C.j41(0,"div",3)(1,"button",6),C.bIt("click",function(){C.eBV(w);const L=C.XpG();return C.Njj(L.selectObject(void 0))}),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.j41(4,"div",7),C.nrm(5,"hr"),C.j41(6,"div",8)(7,"span",9),C.EFF(8),C.nI1(9,"translate"),C.k0s()()()()}2&S&&(C.R7$(2),C.JRh(C.bMT(3,2,"dso-selector.create.community.top-level")),C.R7$(6),C.JRh(C.bMT(9,4,"dso-selector.create.community.or-divider")))}let h=(()=>{class S extends O.${constructor(w,M,L,N){super(w,M),this.activeModal=w,this.route=M,this.router=L,this.authorizationService=N,this.objectType=y.W.COMMUNITY,this.selectorTypes=[y.W.COMMUNITY],this.action=O.u.CREATE,this.defaultSort=new f.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(p._.AdministratorOf)}navigate(w){let M={};(0,E.a4)(w)&&(M={queryParams:{[e.f2]:w.uuid}}),this.router.navigate([(0,e.lG)()],M)}static{this.\u0275fac=function(M){return new(M||S)(C.rXU(I.Lw),C.rXU(D.nX),C.rXU(D.Ix),C.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=C.VBU({type:S,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[C.Vt3,C.aNF],decls:12,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["data-test","admin-div"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"h3","position-relative","py-1","my-3","fw-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(M,L){1&M&&(C.j41(0,"div")(1,"div",0),C.EFF(2),C.nI1(3,"translate"),C.j41(4,"button",1),C.bIt("click",function(){return L.close()}),C.k0s()(),C.j41(5,"div",2),C.DNE(6,R,10,6,"div",3),C.nI1(7,"async"),C.j41(8,"span",4),C.EFF(9),C.nI1(10,"translate"),C.k0s(),C.j41(11,"ds-dso-selector",5),C.bIt("onSelect",function(j){return L.selectObject(j)}),C.k0s()()()),2&M&&(C.R7$(2),C.SpI("",C.bMT(3,6,"dso-selector."+L.action+"."+L.objectType.toString().toLowerCase()+".head")," "),C.R7$(4),C.vxM(C.bMT(7,8,L.isAdmin$)?6:-1),C.R7$(3),C.JRh(C.bMT(10,10,"dso-selector.create.community.sub-level")),C.R7$(2),C.Y8G("currentDSOId",null==L.dsoRD?null:L.dsoRD.payload.uuid)("types",L.selectorTypes)("sort",L.defaultSort))},dependencies:[i.Jj,v.x,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return S})()},9229:(U,b,n)=>{"use strict";n.r(b),n.d(b,{CreateItemParentSelectorComponent:()=>O});var i=n(68018),t=n(78544),c=n(70998),e=n(93136),f=n(4348),m=n(44905),p=n(54438),y=n(58003),E=n(7901);function v(C,I){if(1&C&&(p.j41(0,"span",3),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&C){const D=p.XpG();p.R7$(),p.JRh(p.bMT(2,1,D.header))}}let O=(()=>{class C extends m.${constructor(D,R,h){super(D,R),this.activeModal=D,this.route=R,this.router=h,this.objectType=e.W.ITEM,this.selectorTypes=[e.W.COLLECTION],this.action=m.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new c.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(D){const R={queryParams:{collection:D.uuid}};this.entityType&&(R.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],R)}static{this.\u0275fac=function(R){return new(R||C)(p.rXU(y.Lw),p.rXU(E.nX),p.rXU(E.Ix))}}static{this.\u0275cmp=p.VBU({type:C,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[p.Vt3,p.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","entityType","types"]],template:function(R,h){1&R&&(p.j41(0,"div")(1,"div",0),p.EFF(2),p.nI1(3,"translate"),p.j41(4,"button",1),p.bIt("click",function(){return h.close()}),p.k0s()(),p.j41(5,"div",2),p.DNE(6,v,3,3,"span",3),p.j41(7,"ds-authorized-collection-selector",4),p.bIt("onSelect",function(T){return h.selectObject(T)}),p.k0s()()()),2&R&&(p.R7$(2),p.SpI("",p.bMT(3,5,"dso-selector."+h.action+"."+h.objectType.toString().toLowerCase()+".head")," "),p.R7$(4),p.vxM(h.header?6:-1),p.R7$(),p.Y8G("currentDSOId",null==h.dsoRD?null:h.dsoRD.payload.uuid)("entityType",h.entityType)("types",h.selectorTypes))},dependencies:[f.e,i.h,i.D9],encapsulation:2})}}return C})()},39334:(U,b,n)=>{"use strict";n.d(b,{L:()=>p});var i=n(54438),t=n(29710);n(25788),n(9229);const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.select=new i.bkB,this.inAndOutputNames=["dsoRD","emitOnly","header","entityType","select"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(v){return n(25074)(`./${v}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9229))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=i.xGo(y)))(C||y)}})()}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-create-item-parent-selector"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header",entityType:"entityType"},outputs:{select:"select"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(i.NAR(),i.DNE(0,m,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return y})()},44905:(U,b,n)=>{"use strict";n.d(b,{$:()=>p,u:()=>m});var i=n(54438),c=(n(25788),n(89777)),e=n(58003),f=n(7901),m=function(y){return y.CREATE="create",y.EDIT="edit",y.EXPORT_METADATA="export-metadata",y.IMPORT_BATCH="import-batch",y.SET_SCOPE="set-scope",y.EXPORT_BATCH="export-batch",y}(m||{});let p=(()=>{class y{constructor(v,O){this.activeModal=v,this.route=O,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const v=this.findRouteData(O=>(0,c.a4)(O.data.dso),this.route.root.snapshot);(0,c.a4)(v)&&(this.dsoRD=v.data.dso)}findRouteData(v,...O){const C=O.find(v);if((0,c.a4)(C))return C;{const I=O.map(D=>D.children).reduce((D,R)=>[...D,...R]);return(0,c.hj)(I)?this.findRouteData(v,...I):void 0}}selectObject(v){this.close(),this.emitOnly?this.select.emit(v):this.navigate(v)}close(){this.activeModal.close()}static{this.\u0275fac=function(O){return new(O||y)(i.rXU(e.Lw),i.rXU(f.nX))}}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(O,C){},encapsulation:2})}}return y})()},6138:(U,b,n)=>{"use strict";n.r(b),n.d(b,{EditCollectionSelectorComponent:()=>C});var i=n(68018),t=n(78544),c=n(47067),e=n(70998),f=n(93136),m=n(16903),p=n(44905),y=n(54438),E=n(58003),v=n(7901);function O(I,D){if(1&I&&(y.j41(0,"span",3),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&I){const R=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,R.header))}}let C=(()=>{class I extends p.${constructor(R,h,S){super(R,h),this.activeModal=R,this.route=h,this.router=S,this.objectType=f.W.COLLECTION,this.selectorTypes=[f.W.COLLECTION],this.action=p.u.EDIT,this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(R){this.router.navigate([(0,c._E)(R.uuid)])}static{this.\u0275fac=function(h){return new(h||I)(y.rXU(E.Lw),y.rXU(v.nX),y.rXU(v.Ix))}}static{this.\u0275cmp=y.VBU({type:I,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(h,S){1&h&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return S.close()}),y.k0s()(),y.j41(5,"div",2),y.DNE(6,O,3,3,"span",3),y.j41(7,"ds-dso-selector",4),y.bIt("onSelect",function(w){return S.selectObject(w)}),y.k0s()()()),2&h&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),y.R7$(4),y.vxM(S.header?6:-1),y.R7$(),y.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes)("sort",S.defaultSort))},dependencies:[m.x,i.h,i.D9],encapsulation:2})}}return I})()},64134:(U,b,n)=>{"use strict";n.r(b),n.d(b,{EditCommunitySelectorComponent:()=>C});var i=n(68018),t=n(78544),c=n(39015),e=n(70998),f=n(93136),m=n(16903),p=n(44905),y=n(54438),E=n(58003),v=n(7901);function O(I,D){if(1&I&&(y.j41(0,"span",3),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&I){const R=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,R.header))}}let C=(()=>{class I extends p.${constructor(R,h,S){super(R,h),this.activeModal=R,this.route=h,this.router=S,this.objectType=f.W.COMMUNITY,this.selectorTypes=[f.W.COMMUNITY],this.action=p.u.EDIT,this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(R){this.router.navigate([(0,c.pk)(R.uuid)])}static{this.\u0275fac=function(h){return new(h||I)(y.rXU(E.Lw),y.rXU(v.nX),y.rXU(v.Ix))}}static{this.\u0275cmp=y.VBU({type:I,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(h,S){1&h&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return S.close()}),y.k0s()(),y.j41(5,"div",2),y.DNE(6,O,3,3,"span",3),y.j41(7,"ds-dso-selector",4),y.bIt("onSelect",function(w){return S.selectObject(w)}),y.k0s()()()),2&h&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),y.R7$(4),y.vxM(S.header?6:-1),y.R7$(),y.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes)("sort",S.defaultSort))},dependencies:[m.x,i.h,i.D9],encapsulation:2})}}return I})()},52684:(U,b,n)=>{"use strict";n.r(b),n.d(b,{EditItemSelectorComponent:()=>v});var i=n(68018),t=n(93136),c=n(92767),e=n(16903),f=n(44905),m=n(54438),p=n(58003),y=n(7901);function E(O,C){if(1&O&&(m.j41(0,"span",3),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&O){const I=m.XpG();m.R7$(),m.JRh(m.bMT(2,1,I.header))}}let v=(()=>{class O extends f.${constructor(I,D,R){super(I,D),this.activeModal=I,this.route=D,this.router=R,this.objectType=t.W.ITEM,this.selectorTypes=[t.W.ITEM],this.action=f.u.EDIT}navigate(I){this.router.navigate([(0,c.$r)(I)])}static{this.\u0275fac=function(D){return new(D||O)(m.rXU(p.Lw),m.rXU(y.nX),m.rXU(y.Ix))}}static{this.\u0275cmp=m.VBU({type:O,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[m.Vt3,m.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types"]],template:function(D,R){1&D&&(m.j41(0,"div")(1,"div",0),m.EFF(2),m.nI1(3,"translate"),m.j41(4,"button",1),m.bIt("click",function(){return R.close()}),m.k0s()(),m.j41(5,"div",2),m.DNE(6,E,3,3,"span",3),m.j41(7,"ds-dso-selector",4),m.bIt("onSelect",function(S){return R.selectObject(S)}),m.k0s()()()),2&D&&(m.R7$(2),m.SpI("",m.bMT(3,4,"dso-selector."+R.action+"."+R.objectType.toString().toLowerCase()+".head")," "),m.R7$(4),m.vxM(R.header?6:-1),m.R7$(),m.Y8G("currentDSOId",null==R.dsoRD?null:R.dsoRD.payload.uuid)("types",R.selectorTypes))},dependencies:[e.x,i.h,i.D9],encapsulation:2})}}return O})()},89777:(U,b,n)=>{"use strict";n.d(b,{Az:()=>y,EA:()=>f,Im:()=>E,Pe:()=>c,Tn:()=>m,VT:()=>O,a4:()=>p,b0:()=>e,hj:()=>v,kZ:()=>t});var i=n(5964);function t(D){return null===D}function c(D){return null!==D}function e(D){return void 0===D}function f(D){return void 0!==D}function m(D){return e(D)||t(D)}function p(D){return f(D)&&c(D)}const y=()=>D=>D.pipe((0,i.p)(R=>p(R)));function E(D){if(m(D))return!0;if("number"==typeof D.size)return!D.size;const R=typeof D;if("object"===R){const h=D.size;if("number"==typeof h)return!h}if("number"==typeof D.length&&"function"!==R)return!D.length;if("object"===R){if(0===Object.keys(D).length)return!0;const h=D.length;if("number"==typeof h)return!h}return!1}function v(D){return!E(D)}const O=()=>D=>D.pipe((0,i.p)(R=>v(R)))},11588:(U,b,n)=>{"use strict";n.d(b,{Y:()=>h});var i=n(60177),t=n(54438),c=n(68018),e=n(86820),f=n(84412),m=n(25558),p=n(19852),y=n(99172),E=n(67685),v=n(4093),O=n(89777),C=n(15202);function I(S,T){1&S&&(t.j41(0,"li")(1,"button",2),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&S&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function D(S,T){if(1&S){const w=t.RV6();t.j41(0,"li",1)(1,"button",3),t.bIt("click",function(){const L=t.eBV(w).$implicit,N=t.XpG();return t.Njj(N.onSelect(L))}),t.j41(2,"ul",4)(3,"li",5),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()}if(2&S){const w=T.$implicit;t.R7$(),t.FS9("title",w.label),t.R7$(3),t.JRh(t.bMT(5,2,w.label.toLowerCase()+".listelement.badge"))}}function R(S,T){1&S&&(t.j41(0,"li")(1,"button",2),t.nrm(2,"ds-loading",6),t.nI1(3,"translate"),t.k0s()()),2&S&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let h=(()=>{class S{constructor(w,M,L){this.changeDetectorRef=w,this.entityTypeService=M,this.el=L,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new f.t(!1),this.subs=[]}onMousewheel(w){w.wheelDelta>0&&this.scrollableTop&&w.preventDefault(),w.wheelDelta<0&&this.scrollableBottom&&w.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(w){this.scrollableBottom=w.target.scrollTop+w.target.clientHeight===w.target.scrollHeight,this.scrollableTop=0===w.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(w){this.selectionChange.emit(w)}populateEntityList(w){this.isLoadingList.next(!0);const M={elementsPerPage:10,currentPage:w};let L;L=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(M):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(M),this.searchListEntity$=L.pipe((0,v.o5)(),(0,m.n)(N=>(this.searchListEntity.length+M.elementsPerPage>=N.payload.totalElements&&(this.hasNextPage=!1),N.payload.page)),(0,p.T)((N,j)=>[...N,j],[]),(0,y.Z)([])),this.subs.push(this.searchListEntity$.subscribe(N=>{this.searchListEntity.push(...N)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(w){this.isLoadingList.next(w)}ngOnDestroy(){this.subs.filter(w=>(0,O.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(M){return new(M||S)(t.rXU(t.gRc),t.rXU(E.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,L){1&M&&t.bIt("mousewheel",function(j){return L.onMousewheel(j)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:7,vars:11,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item","disabled"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[3,"message"]],template:function(M,L){1&M&&(t.j41(0,"ul",0),t.bIt("scroll",function(j){return L.onScroll(j)})("scrolled",function(){return L.onScrollDown()}),t.DNE(1,I,4,3,"li"),t.nI1(2,"async"),t.Z7z(3,D,6,4,"li",1,t.fX1),t.DNE(5,R,4,3,"li"),t.nI1(6,"async"),t.k0s()),2&M&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.vxM(0===(null==L.searchListEntity?null:L.searchListEntity.length)&&!0!==t.bMT(2,7,L.isLoadingList)?1:-1),t.R7$(2),t.Dyx(L.searchListEntity),t.R7$(2),t.vxM(t.bMT(6,9,L.isLoadingList)?5:-1))},dependencies:[i.Jj,e.e,e.D,C.v,c.h,c.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return S})()},80094:(U,b,n)=>{"use strict";n.d(b,{T:()=>z});var i=n(60177),t=n(54438),c=n(68018),e=n(59519),f=n.n(e),m=n(84412),p=n(25558),y=n(79096),E=n(43446),v=n(36343),O=n(70963),C=n(59922),I=n(44583),D=n(31),R=n(4093),h=n(2180),S=n(2175),T=n(8417),w=n(89417),M=n(89777);let L=(()=>{class V{constructor(X){this.formBuilder=X,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(X){const J={scope:(0,M.Pe)(X)?X.scope:"metadata",query:(0,M.Pe)(X)?X.query:""};this.search.emit(J)}static{this.\u0275fac=function(J){return new(J||V)(t.rXU(w.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:20,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-select"],["value","metadata"],["value","email"],[1,"flex-grow-1","me-3","ms-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(J,q){1&J&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(ee){return q.submit(q.searchForm.value),ee.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"button",7),t.nrm(13,"i",8),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"div")(17,"button",9),t.bIt("click",function(){return q.submit(null),q.reset()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&J&&(t.Y8G("formGroup",q.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,q.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,q.labelPrefix+"search.scope.email")),t.R7$(7),t.SpI(" ",t.bMT(15,9,q.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(19,11,q.labelPrefix+"button.see-all")," "))},dependencies:[w.YN,w.qT,w.xH,w.y7,w.me,w.wz,w.BC,w.cb,w.X1,w.j4,w.JD,c.h,c.D9],encapsulation:2})}}return V})(),N=(()=>{class V{constructor(X){this.formBuilder=X,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(X){const J={scope:"",query:(0,M.Pe)(X)?X.query:""};this.search.emit(J)}static{this.\u0275fac=function(J){return new(J||V)(t.rXU(w.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:12,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(J,q){1&J&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(ee){return q.submit(q.searchForm.value),ee.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"button",4),t.nrm(5,"i",5),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"div")(9,"button",6),t.bIt("click",function(){return q.submit(null),q.reset()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&J&&(t.Y8G("formGroup",q.searchForm),t.R7$(6),t.SpI(" ",t.bMT(7,3,q.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(11,5,q.labelPrefix+"button.see-all")," "))},dependencies:[w.YN,w.qT,w.me,w.BC,w.cb,w.X1,w.j4,w.JD,c.h,c.D9],encapsulation:2})}}return V})();function j(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-eperson-search-box",2),t.bIt("search",function(q){t.eBV(X);const ne=t.XpG();return t.Njj(ne.onSearch(q))}),t.k0s()}}function $(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-group-search-box",2),t.bIt("search",function(q){t.eBV(X);const ne=t.XpG();return t.Njj(ne.onSearch(q))}),t.k0s()}}function k(V,G){if(1&V){const X=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",5)(7,"button",7),t.bIt("click",function(){const q=t.eBV(X).$implicit,ne=t.XpG(2);return t.Njj(ne.emitSelect(q))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&V){const X=G.$implicit,J=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,J.entrySelectedId$)===X.id),t.R7$(3),t.JRh(X.id),t.R7$(2),t.JRh(J.dsoNameService.getName(X)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function K(V,G){if(1&V&&(t.j41(0,"ds-pagination",1)(1,"div",3)(2,"table",4)(3,"thead")(4,"tr",5)(5,"th"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"th"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"th"),t.EFF(12),t.nI1(13,"translate"),t.k0s()()(),t.j41(14,"tbody"),t.Z7z(15,k,10,9,"tr",6,t.fX1),t.k0s()()()()),2&V){const X=t.XpG(),J=t.r8f(3);t.Y8G("paginationOptions",X.paginationOptions)("collectionSize",J.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(6),t.JRh(t.bMT(7,7,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(10,9,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(13,11,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Dyx(J.page)}}let z=(()=>{class V{constructor(X,J,q,ne){this.dsoNameService=X,this.parentInjector=J,this.paginationService=q,this.dataServiceMap=ne,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new T.W,this.entrySelectedId$=new m.t("")}ngOnInit(){(0,I.M)(this.dataServiceMap,(this.isListOfEPerson?O.N:C.U).value,this.parentInjector).subscribe(q=>{this.dataService=q,this.paginationOptions.id=f()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId$.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(X){this.select.emit(X),this.entrySelectedId$.next(X.id)}onSearch(X){this.currentSearchQuery=X.query,this.currentSearchScope=X.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(X,J){this.list$=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).pipe((0,p.n)(q=>{const ne=Object.assign(new v._,{elementsPerPage:q.pageSize,currentPage:q.currentPage});return this.isListOfEPerson?this.dataService.searchByScope(X,J,ne):this.dataService.searchGroups(J,ne)}),(0,R.bD)(),(0,R.Bo)())}ngOnDestroy(){this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(J){return new(J||V)(t.rXU(E.f),t.rXU(t.zZn),t.rXU(D.m),t.rXU(y.l9))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:6,vars:6,consts:[[1,"mt-3"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[3,"search"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(J,q){if(1&J&&(t.j41(0,"div",0),t.DNE(1,j,1,0,"ds-eperson-search-box")(2,$,1,0,"ds-group-search-box"),t.SS7(3),t.nI1(4,"async"),t.DNE(5,K,17,13,"ds-pagination",1),t.k0s()),2&J){t.Y8G("@fadeInOut",void 0),t.R7$(),t.vxM(q.isListOfEPerson?1:2),t.R7$(2);const ne=t.bH3(t.bMT(4,3,q.list$));t.R7$(2),t.vxM(ne&&ne.totalElements>0?5:-1)}},dependencies:[i.Jj,L,N,S.e,c.h,c.D9],data:{animation:[h.Ws]}})}}return V})()},14744:(U,b,n)=>{"use strict";n.d(b,{A:()=>f});var i=n(64972),t=n(74082),c=n(54438),e=n(68018);let f=(()=>{class m{constructor(y){this.translate=y,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(y=>{this.message=y}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(E){return new(E||m)(c.rXU(e.c$))}}static{this.\u0275cmp=c.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[c.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(E,v){1&E&&(c.j41(0,"ds-alert",0),c.nrm(1,"span",1),c.k0s()),2&E&&(c.Y8G("type",v.AlertTypeEnum.Error)("dismissible",!1),c.R7$(),c.Y8G("innerHTML",v.message,c.npT))},dependencies:[i.C]})}}return m})()},23378:(U,b,n)=>{"use strict";n.r(b),n.d(b,{FileDownloadLinkComponent:()=>j});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),f=n(84572),m=n(96354),p=n(15343),y=n(43446),E=n(11873),v=n(6170),I=(n(21832),n(15862),n(89777)),D=n(78584),R=n(54438);const h=["*"];function S($,k){if(1&$&&R.nrm(0,"ds-access-status-badge",1),2&$){const K=R.XpG();R.Y8G("object",K.bitstream)}}function T($,k){1&$&&(R.j41(0,"span",3),R.nI1(1,"translate"),R.nI1(2,"translate"),R.nrm(3,"i",7),R.k0s()),2&$&&(R.Y8G("title",R.bMT(1,2,"file-download-link.restricted")),R.BMQ("aria-label",R.bMT(2,4,"file-download-link.restricted")))}function w($,k){1&$&&(R.j41(0,"span",4),R.nI1(1,"translate"),R.nI1(2,"translate"),R.nrm(3,"i",8),R.k0s()),2&$&&(R.Y8G("title",R.bMT(1,2,"file-download-link.secure-access")),R.BMQ("aria-label",R.bMT(2,4,"file-download-link.secure-access")))}function M($,k){1&$&&R.nrm(0,"i",5)}function L($,k){1&$&&R.eu8(0)}function N($,k){1&$&&R.SdG(0)}let j=(()=>{class ${constructor(K,z,V,G){this.authorizationService=K,this.dsoNameService=z,this.route=V,this.translateService=G,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0,this.showAccessStatusBadge=!0,this.showIcon=!1}ngOnInit(){this.enableRequestACopy?(this.itemRequest=this.route.snapshot.data.itemRequest,this.canDownload$=this.authorizationService.isAuthorized(v._.CanDownload,(0,I.hj)(this.bitstream)?this.bitstream.self:void 0),this.canDownloadWithToken$=(0,e.of)(!(!this.itemRequest||!this.itemRequest.acceptRequest||this.itemRequest.accessExpired||!1===this.itemRequest.allfiles&&this.itemRequest.bitstreamId!==this.bitstream.uuid)),this.canRequestACopy$=this.authorizationService.isAuthorized(v._.CanRequestACopy,(0,I.hj)(this.bitstream)?this.bitstream.self:void 0),this.bitstreamPath$=(0,f.z)([this.canDownload$,this.canDownloadWithToken$,this.canRequestACopy$]).pipe((0,m.T)(([K,z,V])=>this.getBitstreamPath(K,z,V)))):(this.bitstreamPath$=(0,e.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,e.of)(!0))}getBitstreamPath(K,z,V){return K?this.getBitstreamDownloadPath():z?this.getAccessByTokenBitstreamPath(this.itemRequest):!K&&V&&(0,I.a4)(this.item)?(0,p.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getAccessByTokenBitstreamPath(K){return(0,p.uz)(this.bitstream,K.accessToken)}getBitstreamDownloadPath(){return{routerLink:(0,p.hV)(this.bitstream),queryParams:{}}}getDownloadLinkTitle(K,z,V){return this.translateService.instant(K||z?"file-download-link.download":"file-download-link.request-copy")+V}static{this.\u0275fac=function(z){return new(z||$)(R.rXU(E.AuthorizationDataService),R.rXU(y.f),R.rXU(t.nX),R.rXU(c.c$))}}static{this.\u0275cmp=R.VBU({type:$,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy",showAccessStatusBadge:"showAccessStatusBadge",showIcon:"showIcon"},standalone:!0,features:[R.aNF],ngContentSelectors:h,decls:18,vars:29,consts:[["content",""],[3,"object"],["role","link","tabindex","0",1,"d-block","dont-break-out","mb-1",3,"routerLink","queryParams","target","ngClass","title"],["role","img",1,"pe-1",3,"title"],["role","img",1,"pe-1","request-a-copy-access-icon",3,"title"],[1,"fas","fa-download","d-inline"],[4,"ngTemplateOutlet"],[1,"fas","fa-lock"],[1,"fa-solid","fa-lock-open"]],template:function(z,V){if(1&z&&(R.NAR(),R.DNE(0,S,1,1,"ds-access-status-badge",1),R.j41(1,"a",2),R.nI1(2,"async"),R.nI1(3,"async"),R.nI1(4,"async"),R.nI1(5,"async"),R.nI1(6,"async"),R.nI1(7,"async"),R.DNE(8,T,4,6,"span",3),R.nI1(9,"async"),R.nI1(10,"async"),R.nI1(11,"async"),R.nI1(12,"async"),R.DNE(13,w,4,6,"span",4)(14,M,1,0,"i",5)(15,L,1,0,"ng-container",6),R.k0s(),R.DNE(16,N,1,0,"ng-template",null,0,R.C5r)),2&z){let G,X;const J=R.sdS(17);R.vxM(V.showAccessStatusBadge?0:-1),R.R7$(),R.Y8G("routerLink",null==(G=R.bMT(2,9,V.bitstreamPath$))?null:G.routerLink)("queryParams",null==(X=R.bMT(3,11,V.bitstreamPath$))?null:X.queryParams)("target",V.isBlank?"_blank":"_self")("ngClass",V.cssClasses)("title",V.getDownloadLinkTitle(R.bMT(4,13,V.canDownload$),R.bMT(5,15,V.canDownloadWithToken$),V.dsoNameService.getName(V.bitstream))),R.BMQ("aria-label",V.getDownloadLinkTitle(R.bMT(6,17,V.canDownload$),R.bMT(7,19,V.canDownloadWithToken$),V.dsoNameService.getName(V.bitstream))),R.R7$(7),R.vxM(!1===R.bMT(9,21,V.canDownload$)&&!1===R.bMT(10,23,V.canDownloadWithToken$)?8:R.bMT(11,25,V.canDownloadWithToken$)&&!1===R.bMT(12,27,V.canDownload$)?13:V.showIcon?14:-1),R.R7$(7),R.Y8G("ngTemplateOutlet",J)}},dependencies:[i.Jj,i.YU,i.T3,t.Wk,D.I,c.h,c.D9],styles:[".request-a-copy-access-icon[_ngcontent-%COMP%]{color:var(--bs-success)}.btn-download[_ngcontent-%COMP%]{width:fit-content}"]})}}return $})()},96044:(U,b,n)=>{"use strict";n.d(b,{z:()=>y}),n(21832),n(15862);var c=n(29710),f=(n(23378),n(54438));const m=["*"];function p(E,v){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy","showAccessStatusBadge","showIcon"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(O){return n(72834)(`./${O}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,23378))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=f.xGo(E)))(I||E)}})()}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy",showAccessStatusBadge:"showAccessStatusBadge",showIcon:"showIcon"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return E})()},11275:(U,b,n)=>{"use strict";n.d(b,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},53195:(U,b,n)=>{"use strict";n.d(b,{_:()=>on});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),f=n(1473),m=n(68018),p=n(84572),y=n(47677),E=n(25558),v=n(96697),O=n(96354),C=n(99172),I=n(79096),D=n(87433),R=n(75082),h=n(54095),S=n(4093),T=n(41570),w=n(66903),M=n(34068),L=n(30250),N=n(89777),j=n(39210),$=n(76089),k=n(4600),K=n(89856),z=n(49838),V=n(95720),G=n(31888),X=n(11275);let J=(()=>{class Yt{constructor(Qe,ke,Le,Xe){this.dynamicMatchers=Qe,this.dynamicFormRelationService=ke,this.formBuilderService=Le,this.injector=Xe}getTypeBindValue(Qe){let ke;return ke=(0,N.Tn)(Qe)||"string"==typeof Qe?Qe:Qe instanceof V.e&&Qe.hasAuthority()?Qe.authority:Qe.value,ke}getRelatedFormModel(Qe){const ke=[];return Qe.typeBindRelations.forEach(Le=>Le.when.forEach(Xe=>{if(Qe.id===Xe.id)throw new Error(`FormControl ${Qe.id} cannot depend on itself`);const ct=this.formBuilderService.getTypeBindModel();Qe&&!ke.some(Wt=>Wt===ct)&&ke.push(ct)})),ke}matchesCondition(Qe,ke){const Le=Qe.operator||f.fXj;return Qe.when.reduce((Xe,ct,Wt)=>{const fn=this.formBuilderService.getTypeBindModel();let xt,nn=fn.value;fn.type===X.T&&(nn=fn.value.map(Ft=>Ft[fn.mandatoryField])),xt=Array.isArray(nn)?[...nn.map(Ft=>this.getTypeBindValue(Ft))]:[this.getTypeBindValue(nn)];let ht=!(fn&&Qe.match===ke.match);for(const Ft of xt){if(fn&&Qe.match===ke.match){if(Wt>0&&Le===f.fcY&&!Xe)return!1;if(Wt>0&&Le===f.fXj&&Xe)return!0;if(ht=ct.value===Ft,ht)break}if(fn&&Qe.match===ke.opposingMatch){if(Wt>0&&Le===f.fcY&&Xe)return!0;if(Wt>0&&Le===f.fXj&&!Xe)return!1;if(ht=ct.value!==Ft,!ht)break}}return ht},!1)}subscribeRelations(Qe,ke){const Le=this.getRelatedFormModel(Qe),Xe=[];return Object.values(Le).forEach(ct=>{if((0,N.a4)(ct)){const Wt=(0,N.Tn)(ct.value)||"string"==typeof ct.value||Array.isArray(ct.value)?ct.value:ct.value.value,xt=("CHECKBOX_GROUP"===ct.type?ct.valueUpdates:ct.valueChanges).pipe((0,C.Z)(Wt));Xe.push(xt.subscribe(()=>{(0,N.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(nn=>{const ht=this.dynamicFormRelationService.findRelationByMatcher(Qe.typeBindRelations,nn);if(void 0!==ht){const Ft=this.matchesCondition(ht,nn);nn.onChange(Ft,Qe,ke,this.injector)}})}))}}),Xe}getTypeBindRelations(Qe){const ke=[];return Qe.forEach(Le=>{ke.push({id:"dc.type",value:Le})}),[{match:f.zUr,operator:f.fXj,when:ke}]}static{this.\u0275fac=function(ke){return new(ke||Yt)(t.KVO(f._sU,8),t.KVO(f.$eO),t.KVO(z.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}}return Yt})();var q=n(84412),ne=n(5964),fe=(n(15862),n(66290)),ye=n(15202),oe=n(18040),ue=n(49792),te=n(59640);function se(Yt,Ht){1&Yt&&t.nrm(0,"ds-loading",2),2&Yt&&t.Y8G("showMessage",!1)}function be(Yt,Ht){if(1&Yt&&(t.nrm(0,"ds-metadata-representation-loader",3),t.nI1(1,"async")),2&Yt){const Qe=t.XpG();t.Y8G("mdRepresentation",t.bMT(1,1,Qe.metadataRepresentation$))}}class me{constructor(Ht,Qe){this.oldIndex=Ht,this.newIndex=Qe}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class Z extends me{constructor(Ht,Qe,ke,Le,Xe,ct){super(Xe,ct),this.relationship=Ht,this.useLeftItem=Qe,this.store=ke,this.submissionID=Le,this.relationship=Ht,this.useLeftItem=Qe}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let le=(()=>{class Yt{constructor(Qe,ke,Le){this.selectableListService=Qe,this.store=ke,this.submissionService=Le,this.metadataRepresentation$=new q.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,N.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,S.v7)(),(0,S.Bo)(),(0,ne.p)(ke=>(0,N.a4)(ke)&&(0,N.hj)(ke.uuid))).subscribe(ke=>{this.relatedItem=ke;const Le=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,N.a4)(Le)){const Xe=this.submissionItem.firstMetadata(this.metadataFields,{authority:Le.authority}),ct=Object.assign(new fe.y(Xe),this.relatedItem);this.metadataRepresentation$.next(ct)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,ne.p)(Qe=>!Qe.savePending&&!Qe.isLoading),(0,v.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem})),this.store.dispatch(new ue.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Qe=>(0,N.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}static{this.\u0275fac=function(ke){return new(ke||Yt)(t.rXU($.K),t.rXU(te.il),t.rXU(L.E))}}static{this.\u0275cmp=t.VBU({type:Yt,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"me-auto","text-contents","align-self-center"],[3,"showMessage"],[3,"mdRepresentation"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(ke,Le){1&ke&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,se,1,1,"ds-loading",2),t.nI1(3,"async"),t.DNE(4,be,2,3,"ds-metadata-representation-loader",3),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",4),t.nI1(7,"translate"),t.bIt("click",function(){return Le.removeSelection()}),t.nrm(8,"i",5),t.k0s()()),2&ke&&(t.R7$(2),t.vxM(void 0===t.bMT(3,3,Le.metadataRepresentation$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,5,Le.metadataRepresentation$)?4:-1),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.Jj,oe.V,ye.v,m.h,m.D9]})}}return Yt})();var ce=n(19192),ve=n(8447);function ze(Yt,Ht){1&Yt&&t.nrm(0,"ds-loading",2),2&Yt&&t.Y8G("showMessage",!1)}function Se(Yt,Ht){if(1&Yt&&(t.nrm(0,"ds-listable-object-component-loader",3),t.nI1(1,"async")),2&Yt){const Qe=t.XpG();t.Y8G("showLabel",!1)("viewMode",Qe.viewType)("object",t.bMT(1,3,Qe.relatedItem$))}}let $e=(()=>{class Yt{constructor(Qe,ke,Le){this.selectableListService=Qe,this.submissionService=ke,this.store=Le,this.relatedItem$=new q.t(void 0),this.viewType=ce.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,N.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,S.v7)(),(0,S.Bo)(),(0,ne.p)(ke=>(0,N.a4)(ke)&&(0,N.hj)(ke.uuid))).subscribe(ke=>{this.relatedItem$.next(ke)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new ue.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Qe=>(0,N.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}static{this.\u0275fac=function(ke){return new(ke||Yt)(t.rXU($.K),t.rXU(L.E),t.rXU(te.il))}}static{this.\u0275cmp=t.VBU({type:Yt,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","me-auto"],[3,"showMessage"],[3,"showLabel","viewMode","object"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(ke,Le){1&ke&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,ze,1,1,"ds-loading",2),t.nI1(3,"async"),t.DNE(4,Se,2,5,"ds-listable-object-component-loader",3),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return Le.removeSelection()}),t.nrm(7,"i",5),t.k0s()()),2&ke&&(t.R7$(2),t.vxM(void 0===t.bMT(3,2,Le.relatedItem$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,4,Le.relatedItem$)?4:-1))},dependencies:[i.Jj,ve.v,ye.v],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return Yt})();var st=n(17964),We=n(88503);const De=["componentViewContainer"],ut=["*"],Ge=(Yt,Ht)=>[Yt,Ht],wt=Yt=>({$implicit:Yt}),ot=(Yt,Ht)=>({row:Yt,"d-none":Ht}),Tt=()=>({standalone:!0}),Ee=Yt=>({"d-block pb-2 pt-2":Yt});function je(Yt,Ht){if(1&Yt&&(t.nrm(0,"label",3),t.nI1(1,"translate"),t.nI1(2,"translate")),2&Yt){const Qe=t.XpG();t.Y8G("id","label_"+Qe.model.id)("for",Qe.id)("innerHTML",Qe.model.required&&Qe.model.label?t.bMT(1,4,Qe.model.label)+" *":t.bMT(2,6,Qe.model.label),t.npT)("ngClass",t.l_i(8,Ge,Qe.getClass("element","label"),Qe.getClass("grid","label")))}}function mt(Yt,Ht){1&Yt&&t.eu8(0)}function vn(Yt,Ht){if(1&Yt&&(t.nrm(0,"small",6),t.nI1(1,"translate")),2&Yt){const Qe=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Qe.model.hint),t.npT)("ngClass",Qe.getClass("element","hint"))}}function hn(Yt,Ht){1&Yt&&t.nrm(0,"div",7)}function jn(Yt,Ht){if(1&Yt&&(t.j41(0,"small",11),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Yt){const Qe=Ht.$implicit,ke=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Qe,ke.model.validators))}}function bt(Yt,Ht){if(1&Yt&&(t.j41(0,"div",8),t.Z7z(1,jn,3,4,"small",11,t.fX1),t.k0s()),2&Yt){const Qe=t.XpG();t.Y8G("id",Qe.id+"_errors")("ngClass",t.l_i(2,Ge,Qe.getClass("element","errors"),Qe.getClass("grid","errors"))),t.R7$(),t.Dyx(Qe.errorMessages)}}function St(Yt,Ht){if(1&Yt&&(t.j41(0,"option",13),t.EFF(1),t.k0s()),2&Yt){const Qe=Ht.$implicit;t.Y8G("value",Qe.code),t.R7$(),t.JRh(Qe.display)}}function Nt(Yt,Ht){if(1&Yt){const Qe=t.RV6();t.j41(0,"div",9)(1,"select",12,1),t.mxI("ngModelChange",function(Le){t.eBV(Qe);const Xe=t.XpG();return t.DH7(Xe.model.language,Le)||(Xe.model.language=Le),t.Njj(Le)}),t.bIt("blur",function(Le){t.eBV(Qe);const Xe=t.XpG();return t.Njj(Xe.onBlur(Le))})("change",function(Le){t.eBV(Qe);const Xe=t.XpG();return t.Njj(Xe.onChangeLanguage(Le))}),t.Z7z(3,St,2,2,"option",13,t.fX1),t.k0s()()}if(2&Yt){const Qe=t.XpG();t.R7$(),t.Y8G("disabled",Qe.model.readOnly),t.R50("ngModel",Qe.model.language),t.Y8G("ngModelOptions",t.lJ4(3,Tt)),t.R7$(2),t.Dyx(Qe.model.languageCodes)}}function gt(Yt,Ht){if(1&Yt){const Qe=t.RV6();t.j41(0,"div",10)(1,"button",14),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(Le){return t.eBV(Qe),t.XpG().openLookup(),t.Njj(Le.stopPropagation())}),t.nrm(4,"i",15),t.k0s()()}2&Yt&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function an(Yt,Ht){1&Yt&&t.eu8(0)}function we(Yt,Ht){if(1&Yt){const Qe=t.RV6();t.j41(0,"ds-existing-metadata-list-element",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Qe);const Le=t.XpG(2);return t.Njj(Le.onRemove())}),t.k0s()}if(2&Yt){const Qe=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Qe.relationshipValue$))("submissionItem",t.bMT(2,8,Qe.item$))("listId",Qe.listId)("metadataFields",Qe.model.metadataFields)("submissionId",Qe.model.submissionId)("relationshipOptions",Qe.model.relationship)}}function Ct(Yt,Ht){if(1&Yt&&(t.nrm(0,"ds-existing-relation-list-element",17),t.nI1(1,"async"),t.nI1(2,"async")),2&Yt){const Qe=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Ee,!(null!=Qe.context&&Qe.context.index)))("reoRel",t.bMT(1,7,Qe.relationshipValue$))("submissionItem",t.bMT(2,9,Qe.item$))("listId",Qe.listId)("metadataFields",Qe.model.metadataFields)("submissionId",Qe.model.submissionId)("relationshipOptions",Qe.model.relationship)}}function $t(Yt,Ht){if(1&Yt&&(t.nrm(0,"small",6),t.nI1(1,"translate")),2&Yt){const Qe=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Qe.model.hint),t.npT)("ngClass",Qe.getClass("element","hint"))}}function yt(Yt,Ht){1&Yt&&t.nrm(0,"div",7)}function Zt(Yt,Ht){if(1&Yt&&t.DNE(0,we,3,10,"ds-existing-metadata-list-element",16)(1,Ct,3,13,"ds-existing-relation-list-element",17)(2,$t,2,4,"small",6)(3,yt,1,0,"div",7),2&Yt){const Qe=t.XpG();t.vxM(Qe.model.hasSelectableMetadata?0:-1),t.R7$(),t.vxM(Qe.model.hasSelectableMetadata?-1:1),t.R7$(),t.vxM(!Qe.hasHint||!1!==Qe.model.repeatable&&(null==Qe.context?null:Qe.context.index)!==(null==Qe.context||null==Qe.context.context||null==Qe.context.context.groups?null:Qe.context.context.groups.length)-1||Qe.showErrorMessages&&0!==Qe.errorMessages.length?-1:2),t.R7$(),t.vxM((null==Qe.context||null==Qe.context.parent||null==Qe.context.parent.groups?null:Qe.context.parent.groups.length)>1&&(!Qe.showErrorMessages||0===Qe.errorMessages.length)?3:-1)}}let on=(()=>{class Yt extends f.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Qe,ke,Le,Xe,ct,Wt,fn,xt,nn,ht,Ft,At,On,Vn,bi,Dt,vt,yn){super(On,Qe,Le,Xe,ke,fn),this.componentFactoryResolver=Qe,this.dynamicFormComponentService=ke,this.layoutService=Le,this.validationService=Xe,this.typeBindRelationService=ct,this.translateService=Wt,this.relationService=fn,this.modalService=xt,this.relationshipService=nn,this.selectableListService=ht,this.store=Ft,this.submissionObjectService=At,this.ref=On,this.formBuilderService=Vn,this.submissionService=bi,this.metadataService=Dt,this.appConfig=vt,this.dynamicFormControlFn=yn,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,N.a4)(this.model.relationship);const Qe=(0,N.a4)(this.model.relationshipConfig);if(this.isRelationship||Qe){const ke=this.model.relationshipConfig||this.model.relationship,Le=Object.assign(new G.j,ke);if(this.listId=`list-${this.model.submissionId}-${Le.relationshipType}`,this.setItem(),Qe||!this.model.repeatable){const Xe=this.selectableListService.getSelectableList(this.listId).pipe((0,y.I)(ct=>(0,N.Tn)(ct)),(0,E.n)(()=>this.item$.pipe((0,v.s)(1))),(0,E.n)(ct=>{const Wt=this.relationshipService.getItemRelationshipsByLabel(ct,Le.relationshipType,void 0,!0,!0,(0,k.s)("leftItem"),(0,k.s)("rightItem"),(0,k.s)("relationshipType"));return Wt.pipe((0,S.ak)(),(0,S.W8)()).subscribe(fn=>{fn.forEach(xt=>{const nn=ct.firstMetadata(Le.metadataField,{authority:`${h.BY}${xt.id}`}),ht=ct.firstMetadata(this.model.metadataFields,{authority:`${h.BY}${xt.id}`});(0,N.a4)(nn)&&(0,N.hj)(nn.value)&&(0,N.a4)(ht)&&(0,N.hj)(ht.value)&&this.relationshipService.setNameVariant(this.listId,nn.value,ht.value)})}),Wt.pipe((0,M.EF)(ct.uuid),(0,S.yd)(),(0,O.T)(fn=>fn.payload.page.map(xt=>Object.assign(new j.H,{indexableObject:xt}))))})).subscribe(ct=>this.selectableListService.select(this.listId,ct));this.subs.push(Xe)}if(this.value=(0,N.a4)(this.model.metadataValue)?Object.assign(new V.e,this.model.metadataValue):Object.assign(new V.e,this.model.value),(0,N.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const Xe=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,K.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,S.v7)(),(0,S.Bo)());this.relationshipValue$=(0,p.z)([this.item$.pipe((0,v.s)(1)),Xe]).pipe((0,E.n)(([ct,Wt])=>Wt.leftItem.pipe((0,S.v7)(),(0,S.Bo)(),(0,O.T)(fn=>new Z(Wt,fn.uuid!==ct.uuid,this.store,this.model.submissionId)))),(0,C.Z)(void 0))}}}get isCheckbox(){return this.model.type===f.eU4||this.model.type===st.L}ngOnChanges(Qe){Qe&&!this.isRelationship&&(0,N.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Qe),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,N.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Qe;this.context&&this.context instanceof f.fHx&&(Qe=this.context.index);const ke=this.dynamicFormComponentService.getFormControlRef(this.model,Qe);ke&&(ke.formModel=this.formModel,ke.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Qe){(0,N.hj)(this.model.value)&&this.onChange(Qe)}hasRelationship(){return(0,N.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,N.hj)(this.model.relationship)}isVirtual(){const Qe=this.model.metadataValue;return(0,N.hj)(Qe)&&Qe.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,O.T)(Qe=>(0,N.hj)(Qe)))}openLookup(){this.modalRef=this.modalService.open(We.d,{size:"lg"}),(0,N.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:f.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:f.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Qe=this.modalRef.componentInstance;(0,N.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Qe.query=this.model.value:"string"==typeof this.model.value.value&&(Qe.query=this.model.value.value)),Qe.repeatable=this.model.repeatable,Qe.listId=this.listId,Qe.relationshipOptions=this.model.relationship,Qe.label=this.model.relationship.relationshipType,Qe.metadataFields=this.model.metadataFields,Qe.item=this.item,Qe.collection=this.collection,Qe.submissionId=this.model.submissionId}onRemove(){const Qe=this.context.context,ke=this.formBuilderService.getPath(Qe),Le=this.group.root.get(ke);this.formBuilderService.removeFormArrayGroup(this.context.index,Le,Qe),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(Le,Qe)}ngOnDestroy(){this.subs.filter(Qe=>(0,N.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}get hasHint(){return(0,N.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Qe=this.submissionObjectService.findById(this.model.submissionId,!0,!0,...T.X).pipe((0,S.v7)(),(0,S.Bo)());this.item$=Qe.pipe((0,E.n)(Le=>Le.item.pipe((0,S.v7)(),(0,S.Bo)())));const ke=Qe.pipe((0,E.n)(Le=>Le.collection.pipe((0,S.v7)(),(0,S.Bo)())));this.subs.push(this.item$.subscribe(Le=>this.item=Le)),this.subs.push(ke.subscribe(Le=>this.collection=Le))}static{this.\u0275fac=function(ke){return new(ke||Yt)(t.rXU(t.OM3),t.rXU(f.cYz),t.rXU(f.fpj),t.rXU(f.STK),t.rXU(J),t.rXU(m.c$),t.rXU(f.$eO),t.rXU(e.Bq),t.rXU(D.RelationshipDataService),t.rXU($.K),t.rXU(te.il),t.rXU(w.$),t.rXU(t.gRc),t.rXU(z.j),t.rXU(L.E),t.rXU(R.T),t.rXU(I.vQ),t.rXU(f.Fdw))}}static{this.\u0275cmp=t.VBU({type:Yt,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(ke,Le,Xe){if(1&ke&&t.wni(Xe,f.vJF,4),2&ke){let ct;t.mGM(ct=t.lsd())&&(Le.contentTemplateList=ct)}},viewQuery:function(ke,Le){if(1&ke&&t.GBs(De,7,t.c1b),2&ke){let Xe;t.mGM(Xe=t.lsd())&&(Le.componentViewContainerRef=Xe.first)}},inputs:{inputTemplateList:[0,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:ut,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],[1,"form-label",3,"id","for","innerHTML","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],[1,"col-xs-2"],[1,"col-auto","text-center"],[1,"invalid-feedback","d-block"],["required","",1,"form-select",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(ke,Le){1&ke&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,je,3,11,"label",3)(2,mt,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,vn,2,4,"small",6)(9,hn,1,0,"div",7)(10,bt,3,5,"div",8),t.k0s(),t.DNE(11,Nt,5,4,"div",9)(12,gt,5,6,"div",10),t.k0s(),t.DNE(13,an,1,0,"ng-container",4)(14,Zt,4,4),t.SdG(15),t.k0s()),2&ke&&(t.AVh("mb-2",Le.hasLabel||"DATE"===Le.model.type||"GROUP"!==Le.model.type&&Le.asBootstrapFormGroup||Le.getClass("element","container").includes("mb-2"))("d-none",Le.model.hidden),t.Y8G("formGroup",Le.group)("ngClass",t.l_i(19,Ge,Le.getClass("element","container"),Le.getClass("grid","container"))),t.R7$(),t.vxM(!Le.isCheckbox&&Le.hasLabel?1:-1),t.R7$(),t.Y8G("ngTemplateOutlet",null==Le.startTemplate?null:Le.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,wt,Le.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,ot,Le.model.hasLanguages||Le.isRelationship,Le.metadataService.isVirtual(Le.value)&&(Le.model.hasSelectableMetadata||(null==Le.context?null:Le.context.index)>0))),t.R7$(),t.Y8G("ngClass",Le.getClass("grid","control")),t.R7$(4),t.vxM(!Le.hasHint||!Le.formBuilderService.hasArrayGroupValue(Le.model)&&(Le.model.repeatable||!1!==Le.isRelationship&&null!==(null==Le.value?null:Le.value.value))&&(!0!==Le.model.repeatable||(null==Le.context?null:Le.context.index)!==(null==Le.context||null==Le.context.context||null==Le.context.context.groups?null:Le.context.context.groups.length)-1)||Le.showErrorMessages&&0!==Le.errorMessages.length?-1:8),t.R7$(),t.vxM((null==Le.context||null==Le.context.parent||null==Le.context.parent.groups?null:Le.context.parent.groups.length)>1&&(!Le.showErrorMessages||0===Le.errorMessages.length)?9:-1),t.R7$(),t.vxM(!Le.model.hideErrorMessages&&Le.showErrorMessages?10:-1),t.R7$(),t.vxM(Le.model.languageCodes&&Le.model.languageCodes.length>0?11:-1),t.R7$(),t.vxM(Le.isRelationship?12:-1),t.R7$(),t.Y8G("ngTemplateOutlet",null==Le.endTemplate?null:Le.endTemplate.templateRef)("ngTemplateOutletContext",Le.model),t.R7$(),t.vxM(Le.metadataService.isVirtual(Le.value)?14:-1))},dependencies:[i.Jj,le,$e,c.YN,c.xH,c.y7,c.wz,c.BC,c.cb,c.YS,c.vS,e.n8,e.md,i.YU,i.T3,c.X1,c.j4,m.h,m.D9],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     select.form-control{appearance:auto}[_nghost-%COMP%]     .col-sm-6, [_nghost-%COMP%]     .col-sm-12{padding-left:15px;padding-right:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}[_nghost-%COMP%]     .btn-group-toggle>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group{display:block;width:100%}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group>.btn-group.btn-group-toggle{width:100%}[_nghost-%COMP%]     .custom-control-input.is-invalid~.custom-control-label{color:var(--bs-form-invalid-color)}.invalid-feedback[_ngcontent-%COMP%]{margin-top:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;margin-bottom:.25rem}label[_ngcontent-%COMP%]{margin-bottom:.25rem}"]})}}return Yt})()},17964:(U,b,n)=>{"use strict";n.d(b,{L:()=>c,i:()=>e});var i=n(31635),t=n(1473);const c="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,p){super(m,p),this.type=c}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},38941:(U,b,n)=>{"use strict";n.d(b,{q:()=>S,P:()=>T});var i=n(60177),t=n(54438),c=n(89417),e=n(1473),f=n(68018),m=n(48125),p=n.n(m),y=n(89777),E=n(79104);const v=w=>({field:w}),O=w=>({"is-invalid":w});let C=(()=>{class w{constructor(L,N,j){this.fb=L,this.cd=N,this.translate=j,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(L){this.value?L.max&&(this.value=this.value>this.max?this.max:this.value):L.value&&null===L.value.currentValue?this.value=null:L.invalid&&(this.invalid=L.invalid.currentValue)}changeValue(L=!1){if((0,y.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let N=this.value;L?N-=this.step:N+=this.step,this.value=N>=this.min&&N<=this.max?N:N>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(L){try{const N=Number.parseInt(L.target.value,10);this.value=N>=this.min&&N<=this.max?N:null===L.target.value||""===L.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(L){this.blur.emit(L)}onFocus(L){this.value&&(this.startValue=this.value),this.focus.emit(L)}writeValue(L){this.startValue=L||this.min}registerOnChange(L){}registerOnTouched(L){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(N){return new(N||w)(t.rXU(c.ze),t.rXU(t.gRc),t.rXU(f.c$))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:c.kq,useExisting:w,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","me-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(N,j){1&N&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return j.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(k){return t.DH7(j.value,k)||(j.value=k),k}),t.bIt("blur",function(k){return j.onBlur(k),k.stopPropagation()})("change",function(k){return j.update(k),k.stopPropagation()})("focus",function(k){return j.onFocus(k),k.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return j.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&N&&(t.R7$(),t.Y8G("dsBtnDisabled",j.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,v,j.name))),t.R7$(2),t.FS9("id",j.id),t.FS9("maxlength",j.size),t.FS9("size",j.size),t.FS9("placeholder",j.placeholder),t.FS9("title",j.placeholder),t.Y8G("name",j.name),t.R50("ngModel",j.value),t.Y8G("readonly",j.disabled)("disabled",j.disabled)("ngClass",t.eq3(23,O,j.invalid)),t.BMQ("aria-label",j.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",j.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,v,j.name))))},dependencies:[E.A,c.YN,c.me,c.BC,c.tU,c.vS,i.YU,f.h,f.D9],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none;box-shadow:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;border:rgba(0,0,0,0);pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return w})();n(91836);const D=(w,M)=>[w,M];function R(w,M){1&w&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function h(w,M){if(1&w&&(t.j41(0,"legend",1),t.EFF(1),t.DNE(2,R,2,0,"span"),t.k0s()),2&w){const L=t.XpG();t.Y8G("id","legend_"+L.model.id)("ngClass",t.l_i(4,D,L.getClass("element","label"),L.getClass("grid","label"))),t.R7$(),t.SpI(" ",L.model.placeholder," "),t.R7$(),t.vxM(L.model.required?2:-1)}}const S="-";let T=(()=>{class w extends e.S6A{constructor(L,N,j,$){super(L,N),this.layoutService=L,this.validationService=N,this.renderer=j,this._document=$,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const L=new Date;if(this.initialYear=L.getUTCFullYear(),this.initialMonth=L.getUTCMonth()+1,this.initialDay=L.getUTCDate(),this.model&&null!==this.model.value){const N=this.model.value.toString().split(S);N.length>0&&(this.initialYear=parseInt(N[0],10),this.year=this.initialYear,this.disabledMonth=!1),N.length>1&&(this.initialMonth=parseInt(N[1],10),this.month=this.initialMonth,this.disabledDay=!1),N.length>2&&(this.initialDay=parseInt(N[2],10),this.day=this.initialDay)}this.maxYear=L.getUTCFullYear()+100}onBlur(L){this.blur.emit()}onChange(L){switch(L.field){case"year":null!==L.value?this.year=L.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==L.value?this.month=L.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==L.value?L.value:void 0}if(!this.disabledDay){const $=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay($),this.day>this.maxDay&&(this.day=this.maxDay)}(0,y.a4)(this.year)&&"year"===L.field?this.disabledMonth=!1:(0,y.a4)(this.month)&&"month"===L.field&&(this.disabledDay=!1);let N=null;if((0,y.a4)(this.year)){let j=this.year.toString();for(;j.length<4;)j="0"+j;N=j}if((0,y.a4)(this.month)){const j=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();N+=S+j}if((0,y.a4)(this.day)){const j=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();N+=S+j}this.model.value=N,this.change.emit(N)}onTabKeydown(L){L.preventDefault();const N=this._document.activeElement;N.blur();const j=this.selectedFieldIndex(N);if(j<0)return;const $=j+1;$<this.fields.length&&this.focusInput(this.fields[$])}onShiftTabKeyDown(L){L.preventDefault();const N=this._document.activeElement;N.blur();const $=this.selectedFieldIndex(N)-1;$>=0&&this.focusInput(this.fields[$])}selectedFieldIndex(L){return this.fields.findIndex(N=>p()(L.id,this.model.id.concat(N)))}focusInput(L){const N=this._document.getElementById(this.model.id.concat(L));N&&((0,y.a4)(this.year)&&p()(L,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,y.a4)(this.year)&&p()(L,"_month")?this.disabledMonth=!1:(0,y.a4)(this.month)&&p()(L,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(N).focus()},100))}onFocus(L){this.focus.emit(L)}getLastDay(L){return L.setMonth(L.getMonth()+1,0),L.getDate()}static{this.\u0275fac=function(N){return new(N||w)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-date-picker"]],hostBindings:function(N,j){1&N&&t.bIt("keydown.tab",function(k){return j.onTabKeydown(k)})("keydown.shift.tab",function(k){return j.onShiftTabKeyDown(k)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:35,consts:[[1,"d-flex"],[3,"id","ngClass"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"]],template:function(N,j){1&N&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,h,3,7,"legend",1),t.j41(3,"ds-number-picker",2),t.nI1(4,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialYear,k)||(j.initialYear=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s(),t.j41(5,"ds-number-picker",3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialMonth,k)||(j.initialMonth=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s(),t.j41(7,"ds-number-picker",3),t.nI1(8,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialDay,k)||(j.initialDay=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s()()(),t.nrm(9,"div",4)),2&N&&(t.R7$(2),t.vxM(j.model.repeatable?-1:2),t.R7$(),t.Y8G("id",j.model.id+"_year")("disabled",j.model.disabled)("min",j.minYear)("max",j.maxYear)("name","year")("size",4),t.R50("ngModel",j.initialYear),t.Y8G("value",j.year)("invalid",j.showErrorMessages)("placeholder",t.bMT(4,29,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",j.model.id+"_month")("min",j.minMonth)("max",j.maxMonth)("name","month")("size",6),t.R50("ngModel",j.initialMonth),t.Y8G("value",j.month)("placeholder",t.bMT(6,31,"form.date-picker.placeholder.month"))("disabled",!j.year||j.model.disabled),t.R7$(2),t.Y8G("id",j.model.id+"_day")("min",j.minDay)("max",j.maxDay)("name","day")("size",2),t.R50("ngModel",j.initialDay),t.Y8G("value",j.day)("placeholder",t.bMT(8,33,"form.date-picker.placeholder.day"))("disabled",!j.month||j.model.disabled))},dependencies:[c.YN,c.BC,c.vS,i.YU,C,f.h,f.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial;margin-bottom:0;float:none}"]})}}return w})()},91836:(U,b,n)=>{"use strict";n.d(b,{g:()=>y,s:()=>p});var i=n(31635),t=n(1473),c=n(84412),e=n(21413),f=n(54095),m=n(89777);const p="DATE";class y extends t.eGm{constructor(v,O){super(v,O),this.type=p,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=v.legend,this.metadataValue=v.metadataValue,this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[],this.hiddenUpdates=new c.t(this.hidden),this.repeatable=v.repeatable;const C=this.getRootParent(this);C&&(0,m.EA)(C.hidden)&&(C.hidden=this.hidden)}getRootParent(v){return(0,m.Im)(v)||(0,m.Im)(v.parent)?v:this.getRootParent(v.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],y.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.vD)],y.prototype,"metadataValue",void 0)},23762:(U,b,n)=>{"use strict";n.d(b,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="EMPTY";class f extends c.C{constructor(p,y){super(p,y),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=p.hasSelectableMetadata,this.value=p.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0)},6549:(U,b,n)=>{"use strict";n.d(b,{C:()=>y});var i=n(31635),t=n(1473),c=n(21413),e=n(29029),f=n(89777),m=n(95720),p=n(31888);class y extends t.rA_{constructor(v,O){super(v,O),this.typeBindHidden=!1,this.repeatable=v.repeatable,this.metadataFields=v.metadataFields,this.hint=v.hint,this.readOnly=v.readOnly,this.disabled=v.readOnly,this.value=v.value,this.relationship=v.relationship,this.submissionId=v.submissionId,this.hasSelectableMetadata=v.hasSelectableMetadata,this.metadataValue=v.metadataValue,this.place=v.place,this.isModelOfInnerForm=!!(0,f.a4)(v.isModelOfInnerForm)&&v.isModelOfInnerForm,this.hideErrorMessages=v.hideErrorMessages,this.language=v.language,this.language||(v.value instanceof m.e?this.language=v.value.language:Array.isArray(v.value)&&v.value[0].language&&(this.language=v.value[0].language)),this.languageCodes=v.languageCodes,this.languageUpdates=new c.B,this.languageUpdates.subscribe(C=>{this.language=C}),this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[],this.vocabularyOptions=v.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(v){this._language=v}get languageCodes(){return this._languageCodes}set languageCodes(v){this._languageCodes=v,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],y.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",c.B)],y.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],y.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],y.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",p.j)],y.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],y.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"hideErrorMessages",void 0)},55398:(U,b,n)=>{"use strict";n.d(b,{m:()=>f});var i=n(31635),t=n(1473),c=n(89777),e=n(31888);class f extends t.UqU{constructor(p,y){super(p,y),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,c.a4)(p.notRepeatable)&&(this.notRepeatable=p.notRepeatable),(0,c.a4)(p.required)&&(this.required=p.required),(0,c.a4)(p.showButtons)&&(this.showButtons=p.showButtons),this.submissionId=p.submissionId,this.relationshipConfig=p.relationshipConfig,this.metadataKey=p.metadataKey,this.metadataFields=p.metadataFields,this.hasSelectableMetadata=p.hasSelectableMetadata,this.isDraggable=p.isDraggable,this.typeBindRelations=p.typeBindRelations?p.typeBindRelations:[],this.isInlineGroupArray=!!p.isInlineGroupArray&&p.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],f.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0)},58901:(U,b,n)=>{"use strict";n.d(b,{E:()=>e});var i=n(31635),t=n(1473),c=n(6549);class e extends c.C{constructor(m,p){super(m,p),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},13059:(U,b,n)=>{"use strict";n.d(b,{o:()=>O});var i=n(1473),t=n(7673),c=n(96354),e=n(73409),f=n(13627),m=n(90306),p=n(89777),y=n(95720),v=(n(6549),n(54438));let O=(()=>{class C extends i.S6A{constructor(D,R,h){super(R,h),this.vocabularyService=D,this.layoutService=R,this.validationService=h}getInitValueFromModel(D=!1){let R;if((0,p.hj)(this.model.value)&&this.model.value instanceof y.e&&!this.model.value.hasAuthorityToGenerate()){let h;h=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),R=h.pipe((0,c.T)(S=>{if((0,p.hj)(S)){const T=new y.e(S.value,null,S.authority,S.display,this.model.value.place,null,S.otherInformation||null);return D&&(T.confidence=this.model.value.confidence),T}return this.model.value}))}else R=(0,p.hj)(this.model.value)&&this.model.value instanceof f.b?(0,t.of)(new y.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new y.e(this.model.value));return R}onBlur(D){this.blur.emit(D)}onFocus(D){this.focus.emit(D)}dispatchUpdate(D){this.model.value=D,this.change.emit(D)}updatePageInfo(D,R,h,S){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:D,currentPage:R,totalElements:h,totalPages:S})}static{this.\u0275fac=function(R){return new(R||C)(v.rXU(m.g),v.rXU(i.fpj),v.rXU(i.STK))}}static{this.\u0275cmp=v.VBU({type:C,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[v.Vt3,v.aNF],decls:0,vars:0,template:function(R,h){},encapsulation:2})}}return C})()},64370:(U,b,n)=>{"use strict";n.d(b,{R:()=>m});var i=n(31635),t=n(1473),c=n(21413),e=n(29029),f=n(89777);class m extends t.JVJ{constructor(y,E){super(y,E),this.isListGroup=!0,this.vocabularyOptions=y.vocabularyOptions,this.groupLength=y.groupLength||5,this._value=[],this.repeatable=y.repeatable,this.required=y.required,this.hint=y.hint,this.valueUpdates=new c.B,this.valueUpdates.subscribe(v=>this.value=v),this.valueUpdates.next(y.value),this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(y){y&&(this._value=Array.isArray(y)?y:this.value.concat([y]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},76486:(U,b,n)=>{"use strict";n.d(b,{t:()=>f});var i=n(31635),t=n(1473),c=n(29029),e=n(89777);class f extends t.tK_{constructor(p,y){super(p,y),this.isListGroup=!0,this.vocabularyOptions=p.vocabularyOptions,this.groupLength=p.groupLength||5,this.repeatable=p.repeatable,this.required=p.required,this.hint=p.hint,this.value=p.value,this.typeBindRelations=p.typeBindRelations?p.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",c.n)],f.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"hint",void 0)},74994:(U,b,n)=>{"use strict";n.d(b,{V:()=>e,_:()=>f});var i=n(31635),t=n(1473),c=n(86910);const e="LOOKUP_NAME";class f extends c.P{constructor(p,y){super(p,y),this.type=e,this.separator=p.separator||",",this.placeholder=p.firstPlaceholder||"form.last-name",this.secondPlaceholder=p.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},86910:(U,b,n)=>{"use strict";n.d(b,{P:()=>f,d:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="LOOKUP";class f extends c.C{constructor(p,y){super(p,y),this.type=e,this.autoComplete=t.DAG,this.maxOptions=p.maxOptions||10,this.value=p.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},1622:(U,b,n)=>{"use strict";n.d(b,{d:()=>be});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),f=n(68018),m=n(71985),p=n(21413),y=n(7673),E=n(1716),v=n(70152),O=n(23294),C=n(88141),I=n(25558),D=n(99437),R=n(96354),h=n(5964),S=n(96697),T=n(58956),w=n(4093),M=n(73409),L=n(90306),N=n(89777),j=n(18902),$=n(48457),k=n(98995),K=n(95720),z=n(13059),G=(n(83124),n(1473));const X=["instance"],J=me=>({entry:me});function q(me,re){if(1&me&&t.eu8(0,5),2&me){const Z=re.result;t.XpG();const le=t.sdS(3),ce=t.sdS(5);t.Y8G("ngTemplateOutlet",Z.hasOtherInformation()?le:ce)("ngTemplateOutletContext",t.eq3(2,J,Z))}}function ne(me,re){if(1&me&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&me){const Z=re.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+Z.key)," : ",Z.value," ")}}function ee(me,re){if(1&me&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.Z7z(3,ne,3,4,"li",8,t.fX1),t.nI1(5,"dsObjNgFor"),t.k0s()),2&me){const Z=re.entry;t.R7$(2),t.JRh(Z.value),t.R7$(),t.Dyx(t.bMT(5,1,Z.otherInformation))}}function fe(me,re){if(1&me&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&me){const Z=re.entry;t.R7$(2),t.JRh(Z.value)}}function ye(me,re){1&me&&t.nrm(0,"i",10)}function oe(me,re){if(1&me){const Z=t.RV6();t.j41(0,"i",14),t.bIt("whenClickOnConfidenceNotAccepted",function(ce){t.eBV(Z);const ve=t.XpG(2);return t.Njj(ve.whenClickOnConfidenceNotAccepted(ce))}),t.k0s()}if(2&me){const Z=t.XpG(2);t.Y8G("authorityValue",Z.currentValue)}}function ue(me,re){1&me&&(t.j41(0,"div",13),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function te(me,re){if(1&me){const Z=t.RV6();t.j41(0,"div",4)(1,"div",9),t.DNE(2,ye,1,0,"i",10)(3,oe,1,1,"i",11),t.k0s(),t.j41(4,"input",12,3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(ce){t.eBV(Z);const ve=t.XpG();return t.DH7(ve.currentValue,ce)||(ve.currentValue=ce),t.Njj(ce)}),t.bIt("blur",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onBlur(ce))})("focus",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onFocus(ce))})("change",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onChange(ce))})("input",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onInput(ce))})("selectItem",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onSelectItem(ce))}),t.k0s(),t.DNE(7,ue,2,0,"div",13),t.k0s()}if(2&me){const Z=t.XpG(),le=t.sdS(1);t.R7$(2),t.vxM(Z.searching||Z.loadingInitialValue?2:-1),t.R7$(),t.vxM(Z.searching||Z.loadingInitialValue?-1:3),t.R7$(),t.AVh("is-invalid",Z.showErrorMessages),t.Y8G("id",Z.model.id)("inputFormatter",Z.formatter)("name",Z.model.name)("ngbTypeahead",Z.search)("placeholder",Z.model.placeholder)("readonly",Z.model.readOnly)("disabled",Z.model.readOnly)("resultTemplate",le)("type",Z.model.inputType),t.R50("ngModel",Z.currentValue),t.BMQ("aria-labelledby","label_"+Z.model.id)("autoComplete",Z.model.autoComplete)("aria-label",t.bMT(6,18,Z.model.label)),t.R7$(3),t.vxM(Z.searchFailed?7:-1)}}function se(me,re){if(1&me){const Z=t.RV6();t.j41(0,"div",4)(1,"i",15),t.bIt("click",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.openTree(ce))}),t.k0s(),t.j41(2,"input",16),t.nI1(3,"translate"),t.bIt("focus",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onFocus(ce))})("change",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.onChange(ce))})("click",function(ce){t.eBV(Z);const ve=t.XpG();return t.Njj(ve.openTree(ce))})("keydown",function(ce){return t.eBV(Z),t.Njj(ce.preventDefault())})("keypress",function(ce){return t.eBV(Z),t.Njj(ce.preventDefault())})("keyup",function(ce){return t.eBV(Z),t.Njj(ce.preventDefault())}),t.k0s()()}if(2&me){const Z=t.XpG();t.R7$(2),t.AVh("is-invalid",Z.showErrorMessages)("tree-input",!Z.model.readOnly),t.Y8G("id",Z.id)("name",Z.model.name)("placeholder",Z.model.placeholder)("readonly",!0)("disabled",Z.model.readOnly)("type",Z.model.inputType)("value",null==Z.currentValue?null:Z.currentValue.display),t.BMQ("aria-labelledby","label_"+Z.model.id)("autoComplete",Z.model.autoComplete)("aria-label",t.bMT(3,14,Z.model.label))}}let be=(()=>{class me extends z.o{constructor(Z,le,ce,ve,ze){super(Z,ce,ze),this.vocabularyService=Z,this.cdr=le,this.layoutService=ce,this.modalService=ve,this.validationService=ze,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new M.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new p.B,this.subs=[],this.formatter=Se=>"object"==typeof Se?Se.display:Se,this.search=Se=>Se.pipe((0,E.h)(this.click$),(0,v.B)(300),(0,O.F)(),(0,C.M)(()=>this.changeSearchingStatus(!0)),(0,I.n)(et=>""===et||et.length<this.model.minChars?(0,y.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(et,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,w.ak)(),(0,C.M)(()=>this.searchFailed=!1),(0,D.W)(()=>(this.searchFailed=!0,(0,y.of)((0,T.g)(new M.Q,[])))))),(0,R.T)(et=>et.page),(0,C.M)(()=>this.changeSearchingStatus(!1)),(0,E.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,w.ak)(),(0,O.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,R.T)(Z=>Z.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,h.p)(Z=>this.currentValue!==Z)).subscribe(Z=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(Z){this.searching=Z,this.cdr.detectChanges()}changeLoadingInitialValueStatus(Z){this.loadingInitialValue=Z,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(Z){!this.model.vocabularyOptions.closed&&(0,N.hj)(Z.target.value)&&(this.inputValue=new K.e(Z.target.value))}onBlur(Z){this.instance.isPopupOpen()?(Z.preventDefault(),Z.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,N.hj)(this.inputValue)&&((0,N.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,N.hj)(this.inputValue)&&((0,N.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(Z))}onChange(Z){Z.stopPropagation(),(0,N.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(Z){this.inputValue=null,this.setCurrentValue(Z.item),this.dispatchUpdate(Z.item)}openTree(Z){this.model.readOnly||(Z.preventDefault(),Z.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,R.T)(le=>le.preloadLevel),(0,S.s)(1)).subscribe(le=>{const ce=this.modalService.open(k._,{size:"lg",windowClass:"treeview"});ce.componentInstance.vocabularyOptions=this.model.vocabularyOptions,ce.componentInstance.preloadLevel=le,ce.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],ce.result.then(ve=>{ve&&(this.currentValue=ve,this.dispatchUpdate(ve))},()=>{})})))}whenClickOnConfidenceNotAccepted(Z){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(Z,le=!1){let ce;le?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(ve=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=ve,this.cdr.detectChanges()})):(ce=(0,N.Im)(Z)?"":Z.value,this.currentValue=ce,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(Z=>(0,N.a4)(Z)).forEach(Z=>Z.unsubscribe())}static{this.\u0275fac=function(le){return new(le||me)(t.rXU(L.g),t.rXU(t.gRc),t.rXU(G.fpj),t.rXU(e.Bq),t.rXU(G.STK))}}static{this.\u0275cmp=t.VBU({type:me,selectors:[["ds-dynamic-onebox"]],viewQuery:function(le,ce){if(1&le&&t.GBs(X,5),2&le){let ve;t.mGM(ve=t.lsd())&&(ce.instance=ve.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],[1,"position-relative","right-addon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"],[1,"authority-icons","position-absolute","d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","my-auto","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","my-auto","p-0",3,"authorityValue"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],[1,"invalid-feedback"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","my-auto","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(le,ce){1&le&&(t.DNE(0,q,1,4,"ng-template",null,0,t.C5r)(2,ee,6,3,"ng-template",null,1,t.C5r)(4,fe,3,1,"ng-template",null,2,t.C5r)(6,te,8,20,"div",4),t.nI1(7,"async"),t.DNE(8,se,4,16,"div",4),t.nI1(9,"async")),2&le&&(t.R7$(6),t.vxM(!0!==t.bMT(7,2,ce.isHierarchicalVocabulary())?6:-1),t.R7$(2),t.vxM(t.bMT(9,4,ce.isHierarchicalVocabulary())?8:-1))},dependencies:[i.Jj,$.K,c.YN,c.me,c.BC,c.vS,e.h_,e.$n,i.T3,j.U,f.h,f.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.authority-icons[_ngcontent-%COMP%]{top:50%;right:0;transform:translateY(-50%)}"]})}}return me})()},83124:(U,b,n)=>{"use strict";n.d(b,{K:()=>f,m:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="ONEBOX";class f extends c.C{constructor(p,y){super(p,y),this.type=e,this.autoComplete=t.DAG,this.minChars=p.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},14166:(U,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(31635),t=n(1473),c=n(89777),e=n(11275),f=n(6549);class m extends f.C{constructor(y,E){super(y,E),this.type=e.T,this.submissionId=y.submissionId,this.formConfiguration=y.formConfiguration,this.mandatoryField=y.mandatoryField,this.relationFields=y.relationFields,this.scopeUUID=y.scopeUUID,this.submissionScope=y.submissionScope,this.value=y.value||[]}isEmpty(){const y=this.getGroupValue();return 1===y.length&&(0,c.kZ)(y[0][this.mandatoryField])}getGroupValue(){if((0,c.Im)(this.value)){const y=Object.create({});return y[this.mandatoryField]=null,this.relationFields.forEach(E=>{y[E]=null}),[y]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},18190:(U,b,n)=>{"use strict";n.d(b,{s:()=>V});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),f=n(86820),m=n(7673),p=n(96697),y=n(23294),E=n(99437),v=n(88141),O=n(96354),C=n(79096),I=n(58956),D=n(44583),R=n(4093),h=n(73409),S=n(90306),T=n(89777),w=n(13059),L=(n(8428),n(1473));const N=["dropdownMenu"];function j(G,X){1&G&&t.nrm(0,"i",4)}function $(G,X){1&G&&t.nrm(0,"i",5)}function k(G,X){1&G&&(t.j41(0,"button",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"form.no-results")," "))}function K(G,X){if(1&G){const J=t.RV6();t.j41(0,"button",13),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const ne=t.eBV(J).$implicit,ee=t.XpG(),fe=t.sdS(1);return ee.onSelect(ne),t.Njj(fe.close())})("mousedown",function(){const ne=t.eBV(J).$implicit,ee=t.XpG(),fe=t.sdS(1);return ee.onSelect(ne),t.Njj(fe.close())}),t.EFF(2),t.k0s()}if(2&G){const J=X.$implicit,q=X.$index,ne=t.XpG();t.AVh("active",q===ne.selectedIndex),t.FS9("title",ne.inputFormatter(J)),t.BMQ("id",ne.inputFormatter(J)===t.bMT(1,5,ne.currentValue)?"combobox_"+ne.id+"_selected":null),t.R7$(2),t.SpI(" ",ne.inputFormatter(J)," ")}}function z(G,X){1&G&&(t.j41(0,"div",12)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&G&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let V=(()=>{class G extends w.o{constructor(J,q,ne,ee,fe,ye){super(J,ne,ee),this.vocabularyService=J,this.cdr=q,this.layoutService=ne,this.validationService=ee,this.parentInjector=fe,this.dataServiceMap=ye,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=oe=>this.model.formatFunction?this.model.formatFunction(oe):oe.display||oe.value}ngOnInit(){((0,T.a4)(this.model.resourceType)?(0,D.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,p.s)(1)).subscribe(q=>{this.findAllService=q,this.useFindAllService=(0,T.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,y.F)()).subscribe(q=>{this.setCurrentValue(q)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(J){this.loading=!0,this.getDataFromService().pipe((0,R.ak)(),(0,E.W)(()=>(0,m.of)((0,I.g)(new h.Q,[]))),(0,v.M)(()=>this.loading=!1)).subscribe(q=>{this.optionsList=q.page,J&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(q.pageInfo.elementsPerPage,q.pageInfo.currentPage,q.pageInfo.totalElements,q.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(J){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),J.open())}navigateDropdown(J){"ArrowDown"===J.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===J.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const q=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];q&&q.scrollIntoView({block:"nearest"})}selectOnKeyDown(J,q){const ne=J.key;"Enter"===ne?(J.preventDefault(),J.stopPropagation(),q.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),q.close()):q.open()):"ArrowDown"===ne||"ArrowUp"===ne?(J.preventDefault(),J.stopPropagation(),this.navigateDropdown(J)):"Backspace"===ne?this.removeKeyFromInput():this.isAcceptableKey(ne)&&this.addKeyToInput(ne)}addKeyToInput(J){null===this.inputText&&(this.inputText=""),this.inputText+=J,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(J){return!(1!==J.length||!J.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(J)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,R.ak)(),(0,E.W)(()=>(0,m.of)((0,I.g)(new h.Q,[]))),(0,v.M)(()=>this.loading=!1)).subscribe(J=>{this.optionsList=this.optionsList.concat(J.page),this.updatePageInfo(J.pageInfo.elementsPerPage,J.pageInfo.currentPage,J.pageInfo.totalElements,J.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(J){this.group.markAsDirty(),this.dispatchUpdate(J),this.setCurrentValue(J)}setCurrentValue(J,q=!1){let ne;ne=q&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,O.T)(ee=>ee.display)):(0,T.Im)(J)?(0,m.of)(""):(0,m.of)("string"==typeof J?J:this.useFindAllService?J[this.model.displayKey]:J.display),this.currentValue=ne}static{this.\u0275fac=function(q){return new(q||G)(t.rXU(S.g),t.rXU(t.gRc),t.rXU(L.fpj),t.rXU(L.STK),t.rXU(t.zZn),t.rXU(C.l9))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(q,ne){if(1&q&&t.GBs(N,5,t.aKT),2&q){let ee;t.mGM(ee=t.lsd())&&(ne.dropdownMenu=ee.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:42,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"active","title"],[1,"scrollable-dropdown-loading","text-center"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"]],template:function(q,ne){if(1&q){const ee=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"translate"),t.nI1(4,"async"),t.DNE(5,j,1,0,"i",4)(6,$,1,0,"i",5),t.j41(7,"input",6),t.nI1(8,"async"),t.bIt("blur",function(ye){return t.eBV(ee),t.Njj(ne.onBlur(ye))})("click",function(ye){t.eBV(ee);const oe=t.sdS(1);return ye.stopPropagation(),t.Njj(ne.openDropdown(oe))})("focus",function(ye){return t.eBV(ee),t.Njj(ne.onFocus(ye))})("keydown",function(ye){t.eBV(ee);const oe=t.sdS(1);return t.Njj(ne.selectOnKeyDown(ye,oe))}),t.k0s()(),t.j41(9,"div",7,1),t.nI1(11,"translate"),t.j41(12,"div",8),t.nI1(13,"translate"),t.bIt("scrolled",function(){return t.eBV(ee),t.Njj(ne.onScroll())}),t.DNE(14,k,3,3,"button",9),t.j41(15,"button",10),t.nI1(16,"translate"),t.bIt("click",function(){t.eBV(ee);const ye=t.sdS(1);return ne.onSelect(void 0),t.Njj(ye.close())})("mousedown",function(){t.eBV(ee);const ye=t.sdS(1);return ne.onSelect(void 0),t.Njj(ye.close())}),t.j41(17,"i"),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.Z7z(20,K,3,7,"button",11,t.fX1),t.DNE(22,z,4,3,"div",12),t.k0s()()()}if(2&q){const ee=t.sdS(1);t.R7$(2),t.BMQ("aria-label",t.bMT(3,28,ne.model.label))("aria-owns","combobox_"+ne.id+"_listbox")("aria-expanded",ee.isOpen())("aria-activedescendant",t.bMT(4,30,ne.currentValue)?"combobox_"+ne.id+"_selected":null),t.R7$(3),t.vxM(ne.model.readOnly?5:6),t.R7$(2),t.AVh("is-invalid",ne.showErrorMessages)("scrollable-dropdown-input",!ne.model.readOnly),t.Y8G("id",ne.id)("name",ne.model.name)("readonly",!0)("disabled",ne.model.readOnly)("type",ne.model.inputType)("value",t.bMT(8,32,ne.currentValue)),t.BMQ("aria-controls","combobox_"+ne.id+"_listbox")("aria-label",ne.model.placeholder)("autoComplete",ne.model.autoComplete),t.R7$(2),t.BMQ("aria-label",t.bMT(11,34,ne.model.placeholder)),t.R7$(3),t.Y8G("id","combobox_"+ne.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",t.bMT(13,36,ne.model.placeholder)),t.R7$(2),t.vxM(ne.optionsList&&0===ne.optionsList.length?14:-1),t.R7$(),t.FS9("title",t.bMT(16,38,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(19,40,"dropdown.clear")),t.R7$(2),t.Dyx(ne.optionsList),t.R7$(2),t.vxM(ne.loading?22:-1)}},dependencies:[i.Jj,f.e,f.D,c.zH,c.tg,c.do,c.U0,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%], .toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return G})()},8428:(U,b,n)=>{"use strict";n.d(b,{W:()=>e,j:()=>f});var i=n(31635),t=n(1473),c=n(6549);const e="SCROLLABLE_DROPDOWN";class f extends c.C{constructor(p,y){super(p,y),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=p.vocabularyOptions,this.maxOptions=p.maxOptions||10,this.displayKey=p.displayKey||"display",this.formatFunction=p.formatFunction,this.resourceType=p.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"displayKey",void 0)},78504:(U,b,n)=>{"use strict";n.d(b,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="TAG";class f extends c.C{constructor(p,y){super(p,y),this.type=e,this.autoComplete=t.DAG,this.minChars=p.minChars||3,this.value=p.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},88503:(U,b,n)=>{"use strict";n.d(b,{d:()=>jn});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),f=n(84412),m=n(84572),p=n(96354),y=n(96697),E=n(65245),v=n(25558),O=n(57775),C=n(10186),I=n(58866),D=n(36343),R=n(68841),h=n(87433),S=n(40940),T=n(4093),w=n(74272),M=n(50553),L=n(79104),N=n(89777),j=n(15202),$=n(76089),k=n(4600),G=(n(48145),n(38516),n(15862),n(29710));n(71804);const J=["*"];function q(bt,St){}let ne=(()=>{class bt extends G.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(Nt){return n(90331)(`./${Nt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,71804))}static{this.\u0275fac=(()=>{let Nt;return function(an){return(Nt||(Nt=t.xGo(bt)))(an||bt)}})()}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:J,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(gt,an){1&gt&&(t.NAR(),t.DNE(0,q,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return bt})();var ee=n(49792);n(83174),n(34579);const oe=["*"];function ue(bt,St){}let te=(()=>{class bt extends G.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(Nt){return n(37919)(`./${Nt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34579))}static{this.\u0275fac=(()=>{let Nt;return function(an){return(Nt||(Nt=t.xGo(bt)))(an||bt)}})()}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:oe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(gt,an){1&gt&&(t.NAR(),t.DNE(0,ue,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return bt})();var se=n(58956),be=n(31),me=n(73409),re=n(52186),Z=n(70780),le=n(8417),ce=n(34180),ve=n(7901);const ze=(bt,St)=>({repeatable:bt,listId:St});function Se(bt,St){1&bt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&bt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function et(bt,St){if(1&bt){const Nt=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",3),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(an){t.eBV(Nt);const we=t.XpG();return t.Njj(we.deselectObject.emit(an))})("selectObject",function(an){t.eBV(Nt);const we=t.XpG();return t.Njj(we.selectObject.emit(an))}),t.k0s()()}if(2&bt){const Nt=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+Nt.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,Nt.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,ze,Nt.repeatable,Nt.listId))("config",t.bMT(6,11,Nt.currentPagination$))("hideGear",!0)("context",Nt.context)}}let $e=(()=>{class bt{constructor(Nt,gt,an){this.router=Nt,this.searchConfigService=gt,this.paginationService=an,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new le.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,p.T)(Nt=>Nt.pagination),(0,v.n)(Nt=>this.selection$.pipe((0,y.s)(1),(0,p.T)(gt=>{const an=(Nt.currentPage-1)*Nt.pageSize,Ct=gt.slice(an,an+Nt.pageSize>gt.length?gt.length:an+Nt.pageSize),$t=new me.Q({elementsPerPage:Nt.pageSize,totalElements:gt.length,currentPage:Nt.currentPage,totalPages:Math.ceil(gt.length/Nt.pageSize)});return(0,ce.SP)((0,se.g)($t,Ct))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(gt){return new(gt||bt)(t.rXU(ve.Ix),t.rXU(w.g),t.rXU(be.m))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(gt,an){if(1&gt&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,Se,3,3,"div"),t.nI1(8,"async"),t.DNE(9,et,7,16,"div"),t.nI1(10,"async"),t.k0s()()),2&gt){let we,Ct;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.vxM((null==(we=t.bMT(8,5,an.selectionRD$))?null:we.payload.page)<1?7:-1),t.R7$(2),t.vxM((null==(Ct=t.bMT(10,7,an.selectionRD$))?null:Ct.payload.page.length)>=1?9:-1)}},dependencies:[i.Jj,re.h,Z.b,e.h,e.D9]})}}return bt})();var st=n(59640);const We=bt=>({size:bt}),De=bt=>({count:bt});function ut(bt,St){1&bt&&t.nrm(0,"ds-loading")}function Ge(bt,St){if(1&bt){const Nt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",14),t.bIt("selectObject",function(an){t.eBV(Nt);const we=t.XpG(2);return t.Njj(we.select(an))})("deselectObject",function(an){t.eBV(Nt);const we=t.XpG(2);return t.Njj(we.deselect(an))})("resultFound",function(an){t.eBV(Nt);const we=t.XpG(2);return t.Njj(we.setTotalInternals(an.pageInfo.totalElements))}),t.k0s()}if(2&bt){const Nt=t.XpG(2);t.Y8G("selection$",Nt.selection$)("listId",Nt.listId)("relationship",Nt.relationshipOptions)("repeatable",Nt.repeatable)("context",Nt.context)("query",Nt.query)("hiddenQuery",Nt.hiddenQuery)("relationshipType",Nt.relationshipType)("isLeft",Nt.isLeft)("item",Nt.item)("isEditRelationship",Nt.isEditRelationship)("toRemove",Nt.toRemove)}}function wt(bt,St){if(1&bt){const Nt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",15),t.bIt("importedObject",function(an){t.eBV(Nt);const we=t.XpG(3);return t.Njj(we.imported(an))}),t.k0s()}if(2&bt){const Nt=t.XpG().$implicit,gt=t.XpG(2);t.Y8G("label",gt.label)("listId",gt.listId)("repeatable",gt.repeatable)("item",gt.item)("collection",gt.collection)("relationship",gt.relationshipOptions)("context",gt.context)("query",gt.query)("externalSource",Nt)}}function ot(bt,St){if(1&bt&&(t.j41(0,"li",10)(1,"a",11),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,wt,1,9,"ng-template",12),t.k0s()),2&bt){let Nt;const gt=St.$implicit,an=St.$index,we=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+gt.id,t.eq3(6,De,null==(Nt=t.bMT(3,1,we.totalExternal$))?null:Nt[an])))}}function Tt(bt,St){if(1&bt){const Nt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",16),t.bIt("selectObject",function(an){t.eBV(Nt);const we=t.XpG(3);return t.Njj(we.select(an))})("deselectObject",function(an){t.eBV(Nt);const we=t.XpG(3);return t.Njj(we.deselect(an))}),t.k0s()}if(2&bt){const Nt=t.XpG(3);t.Y8G("selection$",Nt.selection$)("listId",Nt.listId)("relationshipType",Nt.relationshipOptions.relationshipType)("repeatable",Nt.repeatable)("context",Nt.context)}}function Ee(bt,St){if(1&bt&&(t.j41(0,"li",10)(1,"a",11),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Tt,1,5,"ng-template",12),t.k0s()),2&bt){let Nt;const gt=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,De,null==(Nt=t.bMT(3,1,gt.selection$))?null:Nt.length)))}}function je(bt,St){if(1&bt&&(t.j41(0,"ul",9,0)(2,"li",10)(3,"a",11),t.EFF(4),t.nI1(5,"async"),t.nI1(6,"translate"),t.k0s(),t.DNE(7,Ge,1,12,"ng-template",12),t.k0s(),t.Z7z(8,ot,6,8,"li",10,t.fX1),t.nI1(10,"async"),t.DNE(11,Ee,6,8,"li",10),t.k0s(),t.nrm(12,"div",13)),2&bt){const Nt=t.sdS(1),gt=t.XpG();t.R7$(4),t.JRh(t.i5U(6,5,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+gt.relationshipOptions.relationshipType,t.eq3(10,De,t.bMT(5,3,gt.totalInternal$)))),t.R7$(4),t.Dyx(t.bMT(10,8,gt.externalSourcesRD$)),t.R7$(3),t.vxM(gt.isEditRelationship?-1:11),t.R7$(),t.Y8G("ngbNavOutlet",Nt)}}function mt(bt,St){1&bt&&t.nrm(0,"span",21)}function vn(bt,St){1&bt&&t.nrm(0,"i",22)}function hn(bt,St){if(1&bt){const Nt=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(Nt);const an=t.XpG();return t.Njj(an.discardEv())}),t.nrm(1,"i",18),t.j41(2,"span",19),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"button",20),t.bIt("click",function(){t.eBV(Nt);const an=t.XpG();return t.Njj(an.submitEv())}),t.DNE(6,mt,1,0,"span",21)(7,vn,1,0,"i",22),t.j41(8,"span",19),t.EFF(9),t.nI1(10,"translate"),t.k0s()()}if(2&bt){const Nt=t.XpG();t.Y8G("dsBtnDisabled",0===Nt.toAdd.length&&0===Nt.toRemove.length||Nt.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(4,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===Nt.toAdd.length&&0===Nt.toRemove.length||Nt.isPending),t.R7$(),t.vxM(Nt.isPending?6:-1),t.R7$(),t.vxM(Nt.isPending?-1:7),t.R7$(2),t.SpI("\xa0",t.bMT(10,8,"item.edit.metadata.save-button"),"")}}let jn=(()=>{class bt{constructor(Nt,gt,an,we,Ct,$t,yt,Zt,on,Yt){this.modal=Nt,this.selectableListService=gt,this.relationshipService=an,this.externalSourceService=we,this.lookupRelationService=Ct,this.searchConfigService=$t,this.rdbService=yt,this.zone=Zt,this.store=on,this.router=Yt,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new f.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(Nt=>{this.isLeft=Nt,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,p.T)(Nt=>(0,N.a4)(Nt)&&(0,N.a4)(Nt.selection)?Nt.selection:[])),this.selection$.pipe((0,y.s)(1)).subscribe(Nt=>Nt.map(gt=>this.addNameVariantSubscription(gt))),this.context="true"===this.relationshipOptions.nameVariants?S.o.EntitySearchModalWithNameVariants:S.o.EntitySearchModal,(0,N.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(Nt=>this.externalSourceService.findById(Nt,!0,!0,(0,k.s)("entityTypes")))).pipe((0,T.Hz)());else{const Nt=Object.assign({},new D._,{elementsPerPage:5,currentPage:1,searchParams:[new C.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",Nt,!0,!0,(0,k.s)("entityTypes")).pipe((0,T.ak)(),(0,p.T)(gt=>gt.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...Nt){this.zone.runOutsideAngular(()=>{(0,m.z)([...Nt.map(an=>(this.addNameVariantSubscription(an),this.relationshipService.getNameVariant(this.listId,an.indexableObject.uuid).pipe((0,y.s)(1),(0,p.T)(we=>({item:an.indexableObject,nameVariant:we})))))]).subscribe(an=>an.forEach(we=>{const Ct=new ee.aS(this.item,we.item,this.relationshipOptions.relationshipType,this.submissionId,we.nameVariant);this.store.dispatch(Ct)}))})}addNameVariantSubscription(Nt){const gt=this.relationshipService.getNameVariant(this.listId,Nt.indexableObject.uuid);this.subMap[Nt.indexableObject.uuid]=gt.pipe((0,E.i)(1)).subscribe(an=>this.store.dispatch(new ee._I(this.item,Nt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,an)))}deselect(...Nt){this.zone.runOutsideAngular(()=>Nt.forEach(gt=>{this.subMap[gt.indexableObject.uuid].unsubscribe(),this.store.dispatch(new ee.Fw(this.item,gt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(Nt){this.setTotals(),this.select(Nt)}setTotals(){const Nt=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=Nt.pipe((0,v.n)(([gt,an])=>(0,m.z)([...gt.map(we=>this.lookupRelationService.getTotalExternalResults(we,an))])))}setTotalInternals(Nt){this.totalInternal$.next(Nt)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(Nt=>Nt.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(gt){return new(gt||bt)(t.rXU(c.Lw),t.rXU($.K),t.rXU(h.RelationshipDataService),t.rXU(I.Q),t.rXU(R.c),t.rXU(w.g),t.rXU(O.o),t.rXU(t.SKi),t.rXU(st.il),t.rXU(ve.Ix))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:19,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click","dsBtnDisabled"],[1,"modal-body"],[1,"modal-footer"],[1,"d-flex","float-end","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"fas","fa-save"]],template:function(gt,an){if(1&gt&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return an.close()}),t.k0s()(),t.j41(5,"div",4),t.DNE(6,ut,1,0,"ds-loading")(7,je,13,12),t.k0s(),t.j41(8,"div",5)(9,"small"),t.EFF(10),t.nI1(11,"async"),t.nI1(12,"translate"),t.k0s(),t.j41(13,"div",6)(14,"div",7)(15,"button",8),t.bIt("click",function(){return an.close()}),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.DNE(18,hn,11,10),t.k0s()()),2&gt){let we;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+an.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",an.isPending),t.R7$(2),t.vxM(an.item&&an.collection?-1:6),t.R7$(),t.vxM(an.item&&an.collection?7:-1),t.R7$(3),t.JRh(t.i5U(12,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,We,(null==(we=t.bMT(11,10,an.selection$))?null:we.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",an.isPending),t.R7$(),t.SpI(" ",t.bMT(17,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.vxM(an.isEditRelationship?18:-1)}},dependencies:[i.Jj,L.A,$e,c.Pv,c.Um,c.X9,c.sy,c.Ri,c.m_,ne,te,j.v,e.h,e.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return bt})()},71804:(U,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationExternalSourceTabComponent:()=>te});var i=n(60177),t=n(54438),c=n(68018),e=n(96354),f=n(25558),m=n(99172),p=n(58866),y=n(31),I=(n(48145),n(40940),n(38516),n(15862),n(4093)),D=n(74272),R=n(50553),h=n(2180),S=n(89777),T=n(14744),w=n(15202),M=n(52186),L=n(76089),N=n(70780),j=n(8417),$=n(43144),k=n(50186),K=n(29710);n(85669);const V=["*"];function G(se,be){}let X=(()=>{class se extends K.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(me){return n(14651)(`./${me}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,85669))}static{this.\u0275fac=(()=>{let me;return function(Z){return(me||(me=t.xGo(se)))(Z||se)}})()}static{this.\u0275cmp=t.VBU({type:se,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(re,Z){1&re&&(t.NAR(),t.DNE(0,G,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return se})();var J=n(7901),q=n(58003);const ne=(se,be)=>({repeatable:se,listId:be});function ee(se,be){if(1&se){const me=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(Z){t.eBV(me);const le=t.XpG(2);return t.Njj(le.import(Z))}),t.k0s()}if(2&se){const me=t.XpG().ngVar,re=t.XpG();t.Y8G("@fadeIn",void 0)("objects",me)("selectionConfig",t.l_i(10,ne,re.repeatable,re.listId))("config",t.bMT(1,8,re.currentPagination$))("hideGear",!0)("context",re.context)("importable",!0)("importConfig",re.importConfig)}}function fe(se,be){1&se&&(t.nrm(0,"ds-loading",6),t.nI1(1,"translate")),2&se&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function ye(se,be){1&se&&(t.nrm(0,"ds-error",6),t.nI1(1,"translate")),2&se&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function oe(se,be){1&se&&(t.j41(0,"div",7),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&se&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function ue(se,be){if(1&se&&(t.qex(0),t.DNE(1,ee,2,13,"ds-viewable-collection",5)(2,fe,2,3,"ds-loading",6)(3,ye,2,3,"ds-error",6)(4,oe,3,3,"div",7),t.bVm()),2&se){const me=be.ngVar;t.R7$(),t.vxM(null!=me&&me.hasSucceeded&&(null==me||!me.isLoading)&&(null==me||null==me.payload||null==me.payload.page?null:me.payload.page.length)>0?1:-1),t.R7$(),t.vxM(!me||null!=me&&me.isLoading?2:-1),t.R7$(),t.vxM(null==me||!me.hasFailed||null!=me&&me.errorMessage&&400===(null==me?null:me.statusCode)?-1:3),t.R7$(),t.vxM(0===(null==me||null==me.payload||null==me.payload.page?null:me.payload.page.length)||400===(null==me?null:me.statusCode)?4:-1)}}let te=(()=>{class se{constructor(me,re,Z,le,ce,ve){this.router=me,this.searchConfigService=re,this.externalSourceService=Z,this.modalService=le,this.selectableListService=ce,this.paginationService=ve,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new j.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,I.qD)(),(0,e.T)(me=>me.hasSucceeded&&me.payload.totalElements>0?me.payload.page[0]:null)).subscribe(me=>{this.relatedEntityType=me}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.n)(me=>(""===me.query&&(me.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,me).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(me){this.modalRef=this.modalService.open(X,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const re=this.modalRef.componentInstance.compRef$.pipe((0,S.Az)(),(0,e.T)(Z=>Z.instance));this.subs.push(re.subscribe(Z=>{Z.externalSourceEntry=me,Z.item=this.item,Z.relationship=this.relationship,Z.label=this.label,Z.relatedEntityType=this.relatedEntityType})),this.subs.push(re.pipe((0,f.n)(Z=>Z.importedObject)).subscribe(Z=>{this.selectableListService.selectSingle(this.listId,Z),this.importedObject.emit(Z)}))}ngOnDestroy(){this.subs.filter(me=>(0,S.a4)(me)).forEach(me=>me.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(re){return new(re||se)(t.rXU(J.Ix),t.rXU(D.g),t.rXU(p.Q),t.rXU(q.Bq),t.rXU(L.K),t.rXU(y.m))}}static{this.\u0275cmp=t.VBU({type:se,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:R.EN,useClass:D.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"]],template:function(re,Z){if(1&re&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,ue,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&re){let le;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(le=t.bMT(8,8,Z.searchConfigService.paginatedSearchOptions))?null:le.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+Z.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,Z.entriesRD$))}},dependencies:[i.Jj,T.A,M.h,N.b,w.v,$.d,c.h,c.D9,k.r],data:{animation:[h.qG,h.Ws]}})}}return se})()},85669:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ExternalSourceEntryImportModalComponent:()=>K,ImportType:()=>k});var i=n(60177),t=n(54438),c=n(68018),e=n(25558),f=n(96697),m=n(61206),p=n(68841),y=n(40940),E=n(61880),v=n(4093),O=n(56066),C=n(79104),I=n(9847),D=n(79669),R=n(39210),h=n(76089),S=n(8417),T=n(30726),w=n(18155),M=n(58003);const L=z=>({repeatable:!1,listId:z});function N(z,V){if(1&z&&(t.j41(0,"div")(1,"a",15),t.EFF(2),t.k0s()()),2&z){const G=t.XpG();t.R7$(),t.FS9("href",G.uri.value,t.B4B),t.R7$(),t.JRh(G.uri.value)}}function j(z,V){if(1&z){const G=t.RV6();t.j41(0,"ds-search-results",16),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(G);const J=t.XpG();return t.Njj(J.deselectEntity())})("selectObject",function(J){t.eBV(G);const q=t.XpG();return t.Njj(q.selectEntity(J))}),t.k0s()}if(2&z){const G=t.XpG();t.Y8G("searchResults",t.bMT(1,9,G.localEntitiesRD$))("sortConfig",null==G.lookupRelationService.searchConfig?null:G.lookupRelationService.searchConfig.sort)("searchConfig",G.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,L,G.entityListId))("linkType",G.linkTypes.ExternalLink)("context",G.context)}}function $(z,V){if(1&z){const G=t.RV6();t.j41(0,"div",11)(1,"h5",6),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",8)(5,"input",17),t.bIt("click",function(){t.eBV(G);const J=t.XpG();return t.Njj(J.selectNewAuthority())}),t.k0s(),t.j41(6,"label",18),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&z){const G=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,G.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",G.selectedImportType===G.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,G.labelPrefix+"authority.new"))}}var k=function(z){return z.None="None",z.LocalEntity="LocalEntity",z.LocalAuthority="LocalAuthority",z.NewEntity="NewEntity",z.NewAuthority="NewAuthority",z}(k||{});let K=(()=>{class z{constructor(G,X,J,q,ne,ee,fe){this.modal=G,this.lookupRelationService=X,this.modalService=J,this.selectService=q,this.itemService=ne,this.notificationsService=ee,this.translateService=fe,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=D.n,this.context=y.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=k,this.selectedImportType=k.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=E.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const G=Object.assign(new S.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new T.C({query:this.externalSourceEntry.value,pagination:G})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case k.LocalEntity:this.importLocalEntity();break;case k.NewEntity:this.importNewEntity();break;case k.LocalAuthority:this.importLocalAuthority();break;case k.NewAuthority:this.importNewAuthority()}this.selectedImportType=k.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(O.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(G=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,G.collection.id).pipe((0,v.yd)(),(0,v.Bo)(),(0,f.s)(1)))).subscribe(G=>{this.lookupRelationService.removeLocalResultsCache();const X=Object.assign(new R.H,{indexableObject:G});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(X)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===k.LocalEntity&&(this.selectedImportType=k.None)}selectEntity(G){this.selectedEntity=G,this.selectedImportType=k.LocalEntity}selectNewEntity(){this.selectedImportType===k.NewEntity?this.selectedImportType=k.None:(this.selectedImportType=k.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===k.LocalAuthority&&(this.selectedImportType=k.None)}selectAuthority(G){this.selectedAuthority=G,this.selectedImportType=k.LocalAuthority}selectNewAuthority(){this.selectedImportType===k.NewAuthority?this.selectedImportType=k.None:(this.selectedImportType=k.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(X){return new(X||z)(t.rXU(M.Lw),t.rXU(p.c),t.rXU(M.Bq),t.rXU(h.K),t.rXU(m.ItemDataService),t.rXU(I.I),t.rXU(c.c$))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],["id","external-source-entry-entities",1,"mb-3"],[1,"fw-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],[1,"ms-4","form-check"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(X,J){if(1&X&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return J.modal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"h4"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4)(10,"div")(11,"span"),t.EFF(12),t.k0s()(),t.DNE(13,N,3,2,"div"),t.k0s(),t.j41(14,"h4"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",5)(18,"h5",6),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.DNE(21,j,2,13,"ds-search-results",7),t.nI1(22,"async"),t.j41(23,"div",8)(24,"input",9),t.bIt("click",function(){return J.selectNewEntity()}),t.k0s(),t.j41(25,"label",10),t.EFF(26),t.nI1(27,"translate"),t.k0s()()(),t.DNE(28,$,9,7,"div",11),t.k0s(),t.j41(29,"div",12)(30,"div")(31,"button",13),t.bIt("click",function(){return J.close()}),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.j41(34,"div")(35,"button",14),t.bIt("click",function(){return J.import()}),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()),2&X){let q;t.R7$(2),t.JRh(t.bMT(3,13,J.labelPrefix+J.label+".title")),t.R7$(5),t.JRh(t.bMT(8,15,J.labelPrefix+"head."+J.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(J.externalSourceEntry.display),t.R7$(),t.vxM(J.uri?13:-1),t.R7$(2),t.JRh(t.bMT(16,17,J.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(20,19,J.labelPrefix+"entities")),t.R7$(2),t.vxM((null==(q=t.bMT(22,21,J.localEntitiesRD$))||null==q.payload||null==q.payload.page?null:q.payload.page.length)>0?21:-1),t.R7$(3),t.Y8G("checked",J.selectedImportType===J.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(27,23,J.labelPrefix+"entities.new")),t.R7$(2),t.vxM(J.authorityEnabled?28:-1),t.R7$(4),t.JRh(t.bMT(33,25,J.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",J.selectedImportType===J.importType.None),t.R7$(),t.JRh(t.bMT(37,27,J.labelPrefix+"import"))}},dependencies:[i.Jj,C.A,w.N,c.h,c.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return z})()},19209:(U,b,n)=>{"use strict";n.d(b,{SF:()=>t,dD:()=>e,zH:()=>f});var i=n(6800);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class c{constructor(p,y){this.payload={listID:p,itemID:y}}}class e extends c{constructor(p,y,E){super(p,y),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=E}}class f extends c{constructor(p,y){super(p,y),this.type=t.REMOVE_NAME_VARIANT}}},49792:(U,b,n)=>{"use strict";n.d(b,{Fw:()=>m,_I:()=>e,aS:()=>c,oE:()=>t});var i=n(6800);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class c{constructor(y,E,v,O,C){this.type=t.ADD_RELATIONSHIP,this.payload={item1:y,item2:E,relationshipType:v,submissionId:O,nameVariant:C}}}class e{constructor(y,E,v,O,C){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:y,item2:E,relationshipType:v,submissionId:O,nameVariant:C}}}class m{constructor(y,E,v,O){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:y,item2:E,relationshipType:v,submissionId:O}}}},34579:(U,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationSearchTabComponent:()=>z});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),f=n(84412),m=n(96697),p=n(68841),y=n(87433),E=n(31),I=(n(40940),n(15862),n(83174),n(4093)),D=n(40645),R=n(74272),h=n(50553),S=n(89777),T=n(79669),w=n(76089),M=n(89336),L=n(50186);const N=(V,G)=>({repeatable:V,listId:G});function j(V,G){1&V&&(t.j41(0,"button",5),t.nrm(1,"span",9),t.j41(2,"span",7),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&V&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function $(V,G){if(1&V){const X=t.RV6();t.j41(0,"div",10)(1,"button",11),t.bIt("click",function(){const q=t.eBV(X).ngVar,ne=t.XpG(3);return t.Njj(ne.selectPage(null==q?null:q.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",11),t.bIt("click",function(){const q=t.eBV(X).ngVar,ne=t.XpG(3);return t.Njj(ne.deselectPage(null==q?null:q.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&V&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function k(V,G){if(1&V&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.DNE(3,j,5,3,"button",5),t.j41(4,"button",6)(5,"span",7),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,$,7,6,"div",8),t.nI1(9,"async"),t.k0s()()()),2&V){const X=t.XpG(2);t.R7$(3),t.vxM(X.selectAllLoading?3:-1),t.R7$(),t.Y8G("hidden",X.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,X.resultsRD$))}}function K(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(q){t.eBV(X);const ne=t.XpG();return t.Njj(ne.onResultFound(q))})("deselectObject",function(q){t.eBV(X);const ne=t.XpG();return t.Njj(ne.deselectObject.emit(q))})("selectObject",function(q){t.eBV(X);const ne=t.XpG();return t.Njj(ne.selectObject.emit(q))}),t.DNE(1,k,10,8,"div",2),t.k0s()}if(2&V){const X=t.XpG();t.Y8G("configuration",X.relationship.searchConfiguration)("context",X.context)("fixedFilterQuery",X.relationship.filter)("hiddenQuery",X.hiddenQuery)("inPlaceSearch",!0)("linkType",X.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,N,X.repeatable,X.listId))("showScopeSelector",!1)("showViewModes",!1)("query",X.query),t.R7$(),t.vxM(X.repeatable?1:-1)}}let z=(()=>{class V{constructor(X,J,q,ne,ee,fe){this.searchService=X,this.selectableListService=J,this.searchConfigService=q,this.lookupRelationService=ne,this.relationshipService=ee,this.paginationService=fe,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new f.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=T.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(X){this.selection$.pipe((0,m.s)(1)).subscribe(J=>{const q=X.filter(ne=>J.findIndex(ee=>ee.equals(ne))<0);this.selectObject.emit(...q)}),this.selectableListService.select(this.listId,X)}deselectPage(X){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(J=>{const q=X.filter(ne=>J.findIndex(ee=>ee.equals(ne))>=0);this.deselectObject.emit(...q)}),this.selectableListService.deselect(this.listId,X)}setSelectedIds(X,J){let q=this.relationshipType.rightwardType;this.isLeft&&(q=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,q,X).pipe((0,I.yd)(),(0,I.Bo)()).subscribe(ne=>{let ee=ne.page.map(fe=>{let ye=[];return ye=this.isLeft?fe._links.rightItem.href.split("/"):fe._links.leftItem.href.split("/"),this.getRelatedItem(ye[ye.length-1],J)});ee=ee.filter(fe=>!this.getIfInRemove(fe.indexableObject.uuid)),ee.length>0&&this.selectableListService.select(this.listId,ee)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(X=>this.deselectObject.emit(...X)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(X,J){return J.find(q=>q.indexableObject.uuid===X)}getIfInRemove(X){return!!this.toRemove.find(J=>J.indexableObject.uuid===X)}ngOnDestroy(){(0,S.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(X){if(this.resultsRD$.next(X),this.resultFound.emit(X),this.isEditRelationship){const J=X.page.map(q=>q.indexableObject.uuid);this.setSelectedIds(J,X.page)}}static{this.\u0275fac=function(J){return new(J||V)(t.rXU(D.S),t.rXU(w.K),t.rXU(R.g),t.rXU(p.c),t.rXU(y.RelationshipDataService),t.rXU(E.m))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:h.EN,useClass:R.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button",1,"btn","btn-outline-secondary","rounded-end"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(J,q){1&J&&t.DNE(0,K,2,16,"ds-search",0),2&J&&t.vxM(q.relationship.searchConfiguration&&q.context?0:-1)},dependencies:[i.Jj,c.zH,c.tg,c.do,c.U0,M.N,e.h,e.D9,L.r],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return V})()},49838:(U,b,n)=>{"use strict";n.d(b,{j:()=>Yt});var i=n(1473),t=n(83278),c=n.n(t),e=n(78124),f=n.n(e),m=n(25689),p=n.n(m),y=n(94925),E=n(54095),v=n(4093),O=n(50813),C=n(89777),I=n(11275),D=n(31635),R=n(21413),h=n(95720),S=n(31888);const T="_CONCAT_GROUP";class L extends i.iO5{constructor(Qe,ke){super(Qe,ke),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=Qe.separator+" ",this.relationship=Qe.relationship,this.repeatable=Qe.repeatable,this.required=Qe.required,this.hint=Qe.hint,this.metadataFields=Qe.metadataFields,this.submissionId=Qe.submissionId,this.hasSelectableMetadata=Qe.hasSelectableMetadata,this.metadataValue=Qe.metadataValue,this.valueUpdates=new R.B,this.valueUpdates.subscribe(Le=>this.value=Le),this.typeBindRelations=Qe.typeBindRelations?Qe.typeBindRelations:[],this.readOnly=Qe.disabled}get value(){const[Qe,ke]=this.group.map(Le=>"string"==typeof Le.value?Object.assign(new h.e,{value:Le.value,display:Le.value}):Le.value);return(0,C.hj)(Qe)&&(0,C.hj)(Qe.value)&&(0,C.hj)(ke)&&(0,C.hj)(ke.value)?Object.assign(new h.e,Qe,{value:Qe.value+this.separator+ke.value}):(0,C.hj)(Qe)&&(0,C.hj)(Qe.value)?Object.assign(new h.e,Qe):(0,C.hj)(ke)&&(0,C.hj)(ke.value)?Object.assign(new h.e,ke):null}set value(Qe){let ke;ke="string"==typeof Qe?Qe:Qe.value,(0,C.Tn)(ke)&&(ke="");const Le=[...ke.split(this.separator),null].map(Xe=>Object.assign(new h.e,Qe,{display:Xe,value:Xe}));this.get(0).value=Le[0].value?Le[0]:void 0,this.get(1).value=Le[1].value?Le[1]:void 0}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"separator",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],L.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],L.prototype,"typeBindRelations",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],L.prototype,"typeBindHidden",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",S.j)],L.prototype,"relationship",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"repeatable",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"required",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],L.prototype,"metadataFields",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"submissionId",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"hasSelectableMetadata",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",E.vD)],L.prototype,"metadataValue",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"readOnly",void 0);var N=n(78504),j=n(54438),$=n(59519),k=n.n($),K=n(61989);class z extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var V=function(Ht){return Ht.WorkspaceItem="SUBMISSION",Ht.WorkflowItem="WORKFLOW",Ht}(V||{}),G=n(68018),X=n(29029),J=n(55398),q=n(74850);class ne{}(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"hints",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"label",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Array)],ne.prototype,"languageCodes",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"mandatoryMessage",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"mandatory",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Boolean)],ne.prototype,"repeatable",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Object)],ne.prototype,"input",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Array)],ne.prototype,"selectableMetadata",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",S.j)],ne.prototype,"selectableRelationship",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Array)],ne.prototype,"rows",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"scope",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",String)],ne.prototype,"style",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Array)],ne.prototype,"typeBind",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Object)],ne.prototype,"value",void 0),(0,D.Cg)([q.autoserialize,(0,D.Sn)("design:type",Object)],ne.prototype,"visibility",void 0);var ee=n(52043);function fe(Ht,Qe,ke,Le){(0,C.kZ)(Ht.layout)?(Ht.layout={},Ht.layout[Qe]={},Ht.layout[Qe][ke]=Le):(0,C.b0)(Ht.layout[Qe])?(Ht.layout[Qe]={},Ht.layout[Qe][ke]=Le):Ht.layout[Qe][ke]=(0,C.b0)(Ht.layout[Qe][ke])?Le:Ht.layout[Qe][ke].concat(` ${Le}`)}var ye=function(Ht){return Ht.Date="date",Ht.Dropdown="dropdown",Ht.RelationGroup="group",Ht.List="list",Ht.Lookup="lookup",Ht.LookupName="lookup-name",Ht.LookupRelation="lookup-relation",Ht.Onebox="onebox",Ht.Name="name",Ht.Series="series",Ht.Tag="tag",Ht.Textarea="textarea",Ht}(ye||{});const oe=new j.nKC("submissionId"),ue=new j.nKC("configData"),te=new j.nKC("initFormValues"),se=new j.nKC("parserOptions"),be=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let me=class{constructor(Qe,ke,Le,Xe,ct){this.submissionId=Qe,this.configData=ke,this.initFormValues=Le,this.parserOptions=Xe,this.translate=ct}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==ye.List.valueOf()&&this.configData.input.type!==ye.Tag.valueOf()){let Le,Qe=0,ke=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(Le=this.configData.selectableMetadata[0].metadata);let Xe=!0;this.configData.input.type===ye.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(Xe=!1);const ct={id:k()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:Le,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,C.hj)(this.configData.selectableMetadata),isDraggable:Xe,typeBindRelations:(0,C.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let fn;if(0===Qe)fn=this.modelFactory(),Qe++;else{const xt=this.getInitValueCount(Qe-1);let nn=null;xt>0&&(nn=this.getInitFieldValue(Qe-1,ke++),ke===xt&&(ke=0,Qe++)),fn=this.modelFactory(nn,!1)}return fe(fn,"element","host","col"),(fn.hasLanguages||(0,C.hj)(fn.relationship))&&fe(fn,"grid","control","col"),[fn]}};return new J.m(ct,{grid:{group:"row"}})}{const Qe=this.modelFactory(this.getInitFieldValue());return Qe.submissionId=this.submissionId,(Qe.hasLanguages||(0,C.hj)(Qe.relationship))&&fe(Qe,"grid","control","col"),Qe}}setVocabularyOptions(Qe){(0,C.hj)(this.configData.selectableMetadata)&&(0,C.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(Qe.vocabularyOptions=new X.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(Qe,ke,Le=!1,Xe){if((0,C.hj)(ke)){if(Xe)return Qe.value=this.getInitGroupValues(),void(Array.isArray(Qe.value)&&Qe.value.length>0&&Qe.value[0].language&&(Qe.language=Qe.value[0].language));(0,O.z5)(ke)?Qe.value=ke:"object"==typeof ke?(Qe.metadataValue=ke,Qe.language=ke.language,Qe.place=ke.place,Qe.value=Le?ke:ke.value):Le?Qe.value=new h.e(ke):"string"==typeof ke&&(Qe.value=ke)}return Qe}getInitValueCount(Qe=0,ke){const Le=ke||this.getAllFieldIds();if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Le)&&1===Le.length&&this.initFormValues.hasOwnProperty(Le[0]))return this.initFormValues[Le[0]].length;if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Le)&&Le.length>1){const Xe=[];return Le.forEach(ct=>{this.initFormValues.hasOwnProperty(ct)&&Xe.push(this.initFormValues[ct].length)}),Xe[Qe]}return 0}getInitGroupValues(){const Qe=this.getAllFieldIds();if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Qe)&&1===Qe.length&&this.initFormValues.hasOwnProperty(Qe[0]))return this.initFormValues[Qe[0]]}getInitFieldValues(Qe){if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Qe)&&this.initFormValues.hasOwnProperty(Qe))return this.initFormValues[Qe]}getInitFieldValue(Qe=0,ke=0,Le){const Xe=Le||this.getAllFieldIds();if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Xe)&&1===Xe.length&&this.initFormValues.hasOwnProperty(Xe[Qe])&&this.initFormValues[Xe[Qe]].length>ke)return this.initFormValues[Xe[Qe]][ke];if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Xe)&&Xe.length>1){const ct=[];return Xe.forEach(Wt=>{if(this.initFormValues.hasOwnProperty(Wt)){const fn=Object.assign(new h.e,this.initFormValues[Wt][ke]);fn.metadata=Wt,ct.push(fn)}}),ct[Qe]}return null}getInitArrayIndex(){const Qe=this.getAllFieldIds();if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Qe)&&1===Qe.length&&this.initFormValues.hasOwnProperty(Qe))return this.initFormValues[Qe].length;if((0,C.hj)(this.initFormValues)&&(0,C.Pe)(Qe)&&Qe.length>1){let ke=0;return Qe.forEach(Le=>{this.initFormValues.hasOwnProperty(Le)&&(ke+=this.initFormValues[Le].length)}),0===ke?1:ke}return 1}getFieldId(){const Qe=this.getAllFieldIds();return(0,C.Pe)(Qe)?Qe[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const Qe=[];return this.configData.selectableMetadata.forEach(ke=>Qe.push(ke.metadata)),Qe}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(Qe,ke=!0,Le=!1,Xe=!0,ct=!0){const Wt=Object.create(null);return this.fieldId=Qe||this.getFieldId(),Wt.name=this.fieldId,Wt.id=this.fieldId.replace(/\./g,"_"),Wt.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),Wt.disabled=Wt.readOnly,(0,C.a4)(this.configData.selectableRelationship)&&(Wt.relationship=Object.assign(new S.j,this.configData.selectableRelationship)),Wt.repeatable=this.configData.repeatable,Wt.metadataFields=this.getAllFieldIds()||[],Wt.hasSelectableMetadata=(0,C.hj)(this.configData.selectableMetadata),Wt.submissionId=this.submissionId,this.setLabel(Wt,ke),ct&&(Wt.hint=this.configData.hints||"&nbsp;"),Wt.placeholder=this.configData.label,this.configData.mandatory&&Xe&&this.markAsRequired(Wt),this.hasRegex()&&this.addPatternValidator(Wt),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(Wt.languageCodes=this.configData.languageCodes),(0,C.hj)(this.configData.typeBind)&&(Wt.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),Wt}isFieldReadOnly(Qe,ke,Le){return(0,C.hj)(Le)&&(0,C.hj)(ke)&&(0,C.hj)(Qe)&&(Le===K.L.WorkspaceItem.valueOf()&&Qe.main===ee.x.READONLY||Qe.other===ee.x.READONLY&&Le===K.L.WorkflowItem.valueOf())}getTypeBindRelations(Qe,ke){const Le=[];return Qe.forEach(Xe=>{Le.push({id:ke,value:Xe})}),[{match:i.zUr,operator:i.fXj,when:Le}]}hasRegex(){return(0,C.a4)(this.configData.input.regex)}addPatternValidator(Qe){const ke=this.configData.input.regex.match(be);let Le;Le=null!=ke&&ke.length>3?new RegExp(ke[2],ke[3]):new RegExp(this.configData.input.regex);const Xe="error.validation.pattern",ct=`${Xe}.${Qe.id}`,Wt=this.translate.instant(ct)!==ct;Qe.validators=Object.assign({},Qe.validators,{pattern:Le}),Qe.errorMessages=Object.assign({},Qe.errorMessages,{pattern:Wt?ct:Xe})}markAsRequired(Qe){Qe.required=!0,Qe.validators=Object.assign({},Qe.validators,{required:null}),Qe.errorMessages=Object.assign({},Qe.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(Qe,ke=!0,Le=!1){ke&&(Qe.label=Le?"&nbsp;":this.configData.label)}setOptions(Qe){(0,C.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(Qe.options=[],this.configData.selectableMetadata.forEach((ke,Le)=>{0===Le&&(Qe.value=ke.metadata),Qe.options.push({label:ke.label,value:ke.metadata})}))}};me=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(oe)),(0,D.Qj)(1,(0,j.y_5)(ue)),(0,D.Qj)(2,(0,j.y_5)(te)),(0,D.Qj)(3,(0,j.y_5)(se)),(0,D.Sn)("design:paramtypes",[String,ne,Object,Object,G.c$])],me);var re=n(38941),Z=n(91836);class le extends me{modelFactory(Qe,ke){let Le=!1;const Xe=this.initModel(null,!1,!0);if(Xe.legend=this.configData.label,Xe.disabled=Xe.readOnly,Xe.toggleIcon="fas fa-calendar",this.setValues(Xe,Qe),(0,C.hj)(Xe.value)){const Wt=Xe.value.toString();if(Wt.length>=4){const fn=Wt.split(re.q);if(fn.length<4)for(let xt=0;xt<fn.length;xt++)fn[xt].length!==(0===xt?4:2)&&(Le=!0)}}const ct=new Z.g(Xe);return ct.malformedDate=Le,ct}}var ce=n(23762);class ve extends me{modelFactory(Qe,ke){const Le=this.initModel(null,ke);return this.setValues(Le,Qe,!0),new ce.H(Le)}}var ze=n(8428);let Se=class extends me{constructor(Qe,ke,Le,Xe,ct){super(Qe,ke,Le,Xe,ct)}modelFactory(Qe,ke){const Le=this.initModel(null,ke);let Xe;if((0,C.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(Le),(0,C.hj)(Qe)&&(Le.value=Qe),Xe={element:{control:"col"},grid:{host:"col"}},new ze.j(Le,Xe);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};Se=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(oe)),(0,D.Qj)(1,(0,j.y_5)(ue)),(0,D.Qj)(2,(0,j.y_5)(te)),(0,D.Qj)(3,(0,j.y_5)(se)),(0,D.Sn)("design:paramtypes",[String,ne,Object,Object,G.c$])],Se);var et=n(64370),$e=n(76486);class st extends me{modelFactory(Qe,ke){const Le=this.initModel(null,ke);let Xe;return Le.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,C.hj)(this.getInitGroupValues())&&(Le.value=[],this.getInitGroupValues().forEach(ct=>{if(ct instanceof h.e)Le.value.push(ct);else{const Wt=new h.e(ct);Le.value.push(Wt)}})),this.setVocabularyOptions(Le)),Le.repeatable?(Le.group=[],Xe=new et.R(Le)):(Le.options=[],Xe=new $e.t(Le)),Xe}}var We=n(86910);class De extends me{modelFactory(Qe,ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Qe,!0),new We.P(Le)}}}var ut=n(74994);class Ge extends me{modelFactory(Qe,ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Qe,!0),new ut._(Le)}}}var wt=n(6549);let ot=class extends me{constructor(Qe,ke,Le,Xe,ct,Wt,fn=null,xt=null){super(Qe,ke,Le,Xe,ct),this.separator=Wt,this.firstPlaceholder=fn,this.secondPlaceholder=xt,this.separator=Wt,this.firstPlaceholder=fn,this.secondPlaceholder=xt}modelFactory(Qe,ke){const Le=this.configData.selectableMetadata[0].metadata,Xe={grid:{host:"col-sm-6"}},ct=Le.replace(/\./g,"_")+T,Wt=this.initModel(ct,ke,!1,!0);Wt.group=[],Wt.separator=this.separator;const fn=this.initModel(Le+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),xt=this.initModel(Le+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);fn.hideErrorMessages=!0,xt.hideErrorMessages=!0,(0,C.Tn)(Wt.hint)&&(0,C.a4)(fn.hint)&&(0,C.Tn)(xt.hint)&&(Wt.hint=fn.hint,fn.hint=void 0),this.configData.mandatory&&(Wt.required=!0,fn.required=!0),Wt.disabled=fn.readOnly,(0,C.hj)(this.firstPlaceholder)&&(fn.placeholder=this.firstPlaceholder),(0,C.hj)(this.secondPlaceholder)&&(xt.placeholder=this.secondPlaceholder);const nn=this.configData.label.split("/");2===nn.length&&(fn.placeholder=nn[0],xt.placeholder=nn[1]);const ht=new wt.C(fn,Xe),Ft=new wt.C(xt,Xe);Wt.group.push(ht),Wt.group.push(Ft);const On=new L(Wt,{element:{control:"row"}});return On.name=this.getFieldId(),(0,C.hj)(Qe)&&(On.value=Qe),On}};ot=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(oe)),(0,D.Qj)(1,(0,j.y_5)(ue)),(0,D.Qj)(2,(0,j.y_5)(te)),(0,D.Qj)(3,(0,j.y_5)(se)),(0,D.Sn)("design:paramtypes",[String,ne,Object,Object,G.c$,String,String,String])],ot);let Tt=class extends ot{constructor(Qe,ke,Le,Xe,ct){super(Qe,ke,Le,Xe,ct,",","form.last-name","form.first-name")}};Tt=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(oe)),(0,D.Qj)(1,(0,j.y_5)(ue)),(0,D.Qj)(2,(0,j.y_5)(te)),(0,D.Qj)(3,(0,j.y_5)(se)),(0,D.Sn)("design:paramtypes",[String,ne,Object,Object,G.c$])],Tt);var Ee=n(78544);class hn extends i.iO5{constructor(Qe,ke){super(Qe,ke),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=Qe.readOnly,this.required=Qe.required,this.language=Qe.language,this.languageCodes=Qe.languageCodes,this.languageUpdates=new R.B,this.languageUpdates.subscribe(Le=>{this.language=Le}),this.hint=Qe.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(Qe){this._language=Qe}get languageCodes(){return this._languageCodes}set languageCodes(Qe){this._languageCodes=Qe,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],hn.prototype,"_language",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],hn.prototype,"_languageCodes",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",R.B)],hn.prototype,"languageUpdates",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],hn.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],hn.prototype,"readOnly",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],hn.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],hn.prototype,"required",void 0);var jn=n(83124);class bt extends me{modelFactory(Qe,ke){if(this.configData.selectableMetadata.length>1){const Le={element:{control:"row",hint:"ds-form-qualdrop-hint"}},Xe={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pe-0"}},ct={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 ps-0"}},Wt=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),fn=Object.create(null);fn.id=Wt.replace(/\./g,"_")+"_QUALDROP_GROUP",fn.group=[],fn.legend=this.configData.label,fn.hint=this.configData.hints,this.setLabel(fn,ke),fn.required=(0,C.hj)(this.configData.mandatory);const xt=this.initModel(Wt+"_QUALDROP_VALUE",ke,!1,!1);xt.hint=null,this.setValues(xt,Qe);const nn=this.initModel(Wt+"_QUALDROP_METADATA",ke,!1,!1);return nn.hint=null,this.setOptions(nn),(0,C.hj)(Qe)&&(nn.value=Qe.metadata),nn.disabled=xt.readOnly,fn.readOnly=nn.disabled&&xt.readOnly,fn.group.push(new i.z4z(nn,Xe)),fn.group.push(new wt.C(xt,ct)),new hn(fn,Le)}if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Qe,!0),new jn.K(Le)}{const Le=this.initModel(null,ke);return Le.spellCheck=Ee.c.form.spellCheck,this.setValues(Le,Qe),new wt.C(Le)}}}var St=n(14166);class Nt extends me{modelFactory(Qe,ke){const Le=this.initModel(null,ke);if(Le.submissionId=this.submissionId,Le.scopeUUID=this.parserOptions.collectionUUID,Le.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${Le.name}`);Le.formConfiguration=this.configData.rows,Le.relationFields=[],this.configData.rows.forEach(Wt=>{Wt.fields.forEach(fn=>{fn.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?Le.mandatoryField=this.configData.selectableMetadata[0].metadata:Le.relationFields.push(fn.selectableMetadata[0].metadata)})}),(0,C.hj)(this.getInitGroupValues())&&(Le.value=[],this.getInitFieldValues(Le.mandatoryField).forEach((fn,xt)=>{const nn=Object.create(null);[Le.mandatoryField].concat(Le.relationFields).forEach(Ft=>{const At=this.getInitFieldValue(0,xt,[Ft]);nn[Ft]=(0,C.hj)(At)?At:I.N}),Le.value.push(nn)}));const ct=new St.W(Le,{element:{container:"mb-3"}});return ct.name=this.getFieldId(),ct}}let gt=class extends ot{constructor(Qe,ke,Le,Xe,ct){super(Qe,ke,Le,Xe,ct,";")}};gt=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(oe)),(0,D.Qj)(1,(0,j.y_5)(ue)),(0,D.Qj)(2,(0,j.y_5)(te)),(0,D.Qj)(3,(0,j.y_5)(se)),(0,D.Sn)("design:paramtypes",[String,ne,Object,Object,G.c$])],gt);class an extends me{modelFactory(Qe,ke){const Le=this.initModel(null,ke);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(Le),this.setValues(Le,Qe,null,!0),new N.H(Le)}}var we=n(58901);class Ct extends me{modelFactory(Qe,ke){const Le=this.initModel(null,ke);return Le.rows=10,Le.spellCheck=Ee.c.form.spellCheck,this.setValues(Le,Qe),new we.E(Le,{element:{label:"col-form-label"}})}}const $t=[oe,ue,te,se,G.c$];class yt{static getProvider(Qe){switch(Qe){case ye.Date:return{provide:me,useClass:le,deps:[...$t]};case ye.Dropdown:return{provide:me,useClass:Se,deps:[...$t]};case ye.RelationGroup:return{provide:me,useClass:Nt,deps:[...$t]};case ye.List:return{provide:me,useClass:st,deps:[...$t]};case ye.Lookup:return{provide:me,useClass:De,deps:[...$t]};case ye.LookupName:return{provide:me,useClass:Ge,deps:[...$t]};case ye.Onebox:return{provide:me,useClass:bt,deps:[...$t]};case ye.Name:return{provide:me,useClass:Tt,deps:[...$t]};case ye.Series:return{provide:me,useClass:gt,deps:[...$t]};case ye.Tag:return{provide:me,useClass:an,deps:[...$t]};case ye.Textarea:return{provide:me,useClass:Ct,deps:[...$t]};case void 0:return{provide:me,useClass:ve,deps:[...$t]};default:return}}}let on=(()=>{class Ht{constructor(ke){this.parentInjector=ke}parse(ke,Le,Xe,ct,Wt,fn,xt){let nn=null,ht=null;const Ft={id:k()("df-row-group-config-"),group:[]},At=this.filterScopedFields(Le.fields,Wt),On=" col-sm-"+Math.trunc(12/At.length),bi={readOnly:fn,submissionScope:Wt,collectionUUID:Xe,typeField:xt};if(At.forEach(Dt=>{const vt=(Dt.style||On)+" d-flex flex-column justify-content-start",yn=yt.getProvider(Dt.input.type);if(!yn)throw new Error(`unknown form control model type "${Dt.input.type}" defined for Input field with label "${Dt.label}".`);if(nn=j.zZn.create({providers:[yn,{provide:oe,useValue:ke},{provide:ue,useValue:Dt},{provide:te,useValue:ct},{provide:se,useValue:bi}],parent:this.parentInjector}).get(me).parse(),nn){if(nn.type===i.WlY||nn.type===I.T)return void(Le.fields.length>1?(fe(nn,"grid","host",vt),Ft.group.push(nn)):ht=nn);Array.isArray(nn)?nn.forEach(Dn=>{ht=Dn}):(fe(nn,"grid","host",vt),Ft.group.push(nn)),nn=null}}),Ft&&!(0,C.Im)(Ft.group)){const vt=new z(Ft,{element:{control:"row"}});Array.isArray(ht)?ht.push(vt):ht=vt}return ht}checksFieldScope(ke,Le,Xe){return(0,C.Im)(ke)||!this.isHidden(Xe,ke,Le)}isHidden(ke,Le,Xe){return(0,C.hj)(Le)&&(0,C.Im)(ke)&&(Xe===K.L.WorkspaceItem.valueOf()&&Le!==V.WorkspaceItem.valueOf()||Xe===K.L.WorkflowItem.valueOf()&&Le!==V.WorkflowItem.valueOf())}filterScopedFields(ke,Le){const Xe=[];return ke.forEach(ct=>{this.checksFieldScope(ct.scope,Le,ct.visibility)&&Xe.push(ct)}),Xe}static{this.\u0275fac=function(Le){return new(Le||Ht)(j.KVO(j.zZn))}}static{this.\u0275prov=j.jDH({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}}return Ht})(),Yt=(()=>{class Ht extends i.J9r{constructor(ke,Le,Xe,ct){super(ke,Le),this.rowParser=Xe,this.configService=ct,this.formModels=new Map,this.formGroups=new Map,(0,C.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(ke,Le,Xe,ct){return{$event:{value:Xe.value,autoSave:!1},context:Xe?.parent instanceof i.fHx?Xe?.parent:null,control:ke,group:Le,model:Xe,type:ct}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(ke){this.typeBindModel=ke}findById(ke,Le,Xe=null){let ct=null;const Wt=(fn,xt,nn)=>{for(const ht of xt){if(ht.id===fn){ct=this.isArrayGroup(ht)&&(0,C.Pe)(nn)?ht.get(nn):ht;break}if(this.isConcatGroup(ht)&&ht.id.match(new RegExp(fn+T))){ct=ht;break}if(this.isGroup(ht)&&Wt(fn,ht.group,nn),this.isArrayGroup(ht)&&((0,C.kZ)(nn)||ht.size>nn)){const Ft=(0,C.kZ)(nn)?0:nn;Wt(fn,ht.get(Ft).group,Ft)}}};return Wt(ke,Le,Xe),ct}clearAllModelsValue(ke){const Le=Xe=>{for(const ct of Xe)this.isGroup(ct)?Le(ct.group):this.isArrayGroup(ct)?Le(ct.groupFactory()):ct.hasOwnProperty("valueChanges")&&(ct.value=void 0)};Le(ke)}getValueFromModel(ke){let Le=Object.create({});const Xe=(fn,xt)=>{if(Array.isArray(fn))return fn.concat(xt)},ct=(fn,xt,nn)=>{const ht=fn.hasLanguages?fn.language:null;if(fn?.metadataValue?.authority?.includes(E.BY))return fn.metadataValue;if(f()(xt))return new h.e(xt,ht,null,null,nn);if((0,O.z5)(xt))return new h.e((0,O.$T)(xt));if(c()(xt)){const Ft=xt.authority||xt.id||null,At=nn||xt.place;return(0,O.z5)(xt)?new h.e(xt,ht,Ft,xt,At):new h.e(xt.value,ht,Ft,xt.display,At,xt.confidence)}return xt},Wt=(fn,xt=0)=>{let nn=Object.create({});for(const ht of fn){if(this.isRowGroup(ht)&&!this.isCustomOrListGroup(ht)){nn=p()(nn,Wt(ht.group),Xe);continue}if(this.isGroup(ht)&&!this.isCustomOrListGroup(ht)){nn[ht.name]=Wt(ht.group);continue}if(this.isRowArrayGroup(ht)){for(const At of ht.groups)nn=p()(nn,Wt(At.group,At.index),Xe);continue}if(this.isArrayGroup(ht)){nn[ht.name]=[];for(const At of ht.groups)nn[ht.name].push(Wt(At.group,At.index));continue}let Ft;if(Ft=this.isQualdropGroup(ht)?ht.qualdropId:ht.name,this.isRelationGroup(ht))ht.getGroupValue().forEach((On,Vn)=>{Object.keys(On).forEach(Dt=>{const vt=ct(ht,On[Dt],Vn);(0,C.hj)(vt)&&vt.hasValue()&&(nn.hasOwnProperty(Dt)?nn[Dt].push(vt):nn[Dt]=[vt])})});else if((0,C.EA)(ht.value)&&(0,C.hj)(ht.value)){const At=[];(Array.isArray(ht.value)?ht.value:[ht.value]).forEach(Vn=>{At.push(ct(ht,Vn,xt))}),nn[Ft]=Ft&&nn.hasOwnProperty(Ft)&&(0,C.Pe)(nn[Ft])?nn[Ft].concat(At):(0,C.hj)(At)?At:null}}return nn};return Le=Wt(ke),Le}modelFromConfiguration(ke,Le,Xe,ct={},Wt,fn=!1,xt=null,nn=!1){let ht=[];const Ft="string"==typeof Le?JSON.parse(Le,i.zno):Le;return Ft.rows&&!(0,C.Im)(Ft.rows)&&Ft.rows.forEach(At=>{const On=this.rowParser.parse(ke,At,Xe,ct,Wt,fn,this.getTypeField());(0,C.Pe)(On)&&(Array.isArray(On)?ht=ht.concat(On):ht.push(On))}),(0,C.Tn)(xt)&&(xt=this.findById(this.typeField,ht)),(0,C.a4)(xt)&&this.setTypeBindModel(xt),ht}isModelInCustomGroup(ke){return this.isCustomGroup(ke.parent)}hasArrayGroupValue(ke){return ke&&(this.isListGroup(ke)||ke.type===N.v)}hasMappedGroupValue(ke){return this.isQualdropGroup(ke.parent)||this.isRelationGroup(ke.parent)}isGroup(ke){return ke&&(ke.type===i.wnr||ke.type===i.W25)}isQualdropGroup(ke){return ke&&ke.type===i.wnr&&(0,C.a4)(ke.qualdropId)}isCustomGroup(ke){return ke&&ke.type===i.wnr&&!0===ke.isCustomGroup}isConcatGroup(ke){return this.isCustomGroup(ke)&&-1!==ke.id.indexOf(T)}isRowGroup(ke){return ke&&ke.type===i.wnr&&!0===ke.isRowGroup}isCustomOrListGroup(ke){return ke&&(this.isCustomGroup(ke)||this.isListGroup(ke))}isListGroup(ke){return ke&&(ke.type===i.W25&&!0===ke.isListGroup||ke.type===i.KMD&&!0===ke.isListGroup)}isRelationGroup(ke){return ke&&ke.type===I.T}isRowArrayGroup(ke){return ke.type===i.WlY&&!0===ke.isRowArray}isArrayGroup(ke){return ke.type===i.WlY}isInputModel(ke){return ke.type===i.FlA}getFormControlById(ke,Le,Xe,ct=0){const Wt=this.findById(ke,Xe,ct);return(0,C.hj)(Wt)?Le.get(this.getPath(Wt)):null}getFormControlByModel(ke,Le){return(0,C.hj)(Le)?ke.get(this.getPath(Le)):null}getId(ke){let Le;return this.isArrayGroup(ke)?ke.index.toString():(Le=this.isModelInCustomGroup(ke)?ke.parent:ke,Le.id!==Le.name?Le.name:Le.id)}removeFormModel(ke){this.formModels.has(ke)&&this.formModels.delete(ke)}addFormGroups(ke,Le){this.formGroups.set(ke,Le)}removeFormGroup(ke){this.formGroups.has(ke)&&this.formGroups.delete(ke)}getMetadataIdsFromEvent(ke){let Le=ke.model;for(;Le.parent;)Le=Le.parent;const Xe=(Wt,fn=0)=>{let xt=Object.create({});for(const nn of Wt){if(this.isRowGroup(nn)&&!this.isCustomOrListGroup(nn)){xt=p()(xt,Xe(nn.group));continue}if(this.isGroup(nn)&&!this.isCustomOrListGroup(nn)){xt[nn.name]=Xe(nn.group);continue}if(this.isRowArrayGroup(nn)){for(const Ft of nn.groups)xt=p()(xt,Xe(Ft.group,Ft.index));continue}if(this.isArrayGroup(nn)){xt[nn.name]=[];for(const Ft of nn.groups)xt[nn.name].push(Xe(Ft.group,Ft.index));continue}let ht;ht=this.isQualdropGroup(nn)?nn.qualdropId:nn.name,this.isRelationGroup(nn)?nn.getGroupValue().forEach((At,On)=>{Object.keys(At).forEach(Vn=>{xt[Vn]=!0})}):xt[ht]=!0}return xt},ct=Xe([Le]);return Object.keys(ct)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,v.qD)()).subscribe(ke=>{if(!ke.hasSucceeded)return void(this.typeField="dc_type");const Le=ke.payload.values[0];this.typeField=(0,C.Im)(Le)?"dc_type":Le.replace(/\./g,"_")})}getTypeField(){return(0,C.a4)(this.configService)&&(0,C.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,C.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(Le){return new(Le||Ht)(j.KVO(i.cYz),j.KVO(i.STK),j.KVO(on),j.KVO(y.ConfigurationDataService,8))}}static{this.\u0275prov=j.jDH({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}}return Ht})()},95720:(U,b,n)=>{"use strict";n.d(b,{e:()=>f});var i=n(14379),t=n(54095),c=n(89777),e=n(11275);class f{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+f.AUTHORITY_SPLIT}constructor(p=null,y=null,E=null,v=null,O=0,C=null,I=null,D=null){this.value=(0,c.Pe)(p)?"string"==typeof p?p.trim():p:null,this.language=y,this.authority=E,this.display=v||p,this.confidence=C,this.confidence=null==E||!(0,c.Im)(C)&&-1!==C?(0,c.hj)(C)?C:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=O,(0,c.hj)(D)&&(this.metadata=D),this.otherInformation=I}hasAuthority(){return(0,c.hj)(this.authority)}hasAuthorityToGenerate(){return(0,c.hj)(this.authority)&&this.authority.startsWith(f.AUTHORITY_GENERATE)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,c.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},31888:(U,b,n)=>{"use strict";n.d(b,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},48457:(U,b,n)=>{"use strict";n.d(b,{K:()=>C});var i=n(54438),t=n(48376),c=n.n(t),e=n(78544),f=n(14379),m=n(54095),p=n(13627),y=n(38511),E=n(89777),v=n(95720),O=n(68018);let C=(()=>{class I{onClick(){(0,E.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==f.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(R,h,S){this.elem=R,this.renderer=h,this.translate=S,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(R){R.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));const h=this.getNameByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));(0,E.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`)))}ngAfterViewInit(){(0,E.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(R){let h=f.l.CF_UNSET;return(0,E.hj)(R)&&(R instanceof p.b||R instanceof y.M)&&R.hasAuthority()&&(h=f.l.CF_ACCEPTED),(0,E.hj)(R)&&R instanceof v.e&&(h=R.confidence),(0,E.hj)(R)&&R instanceof m.vD&&(h=R.confidence),(0,E.hj)(R)&&Object.values(f.l).includes(R)&&(h=R),h}getClassByConfidence(R){if(!this.visibleWhenAuthorityEmpty&&R===f.l.CF_UNSET)return"d-none";const h=e.c.submission.icons.authority.confidence,S=c()(h,{value:R}),T=c()(h,{value:"default"});return this.iconMode?-1!==S?h[S].icon:-1!==T?h[T].icon:"":-1!==S?h[S].style:-1!==T?h[T].style:""}getNameByConfidence(R){const h=f.l[R];return(0,E.hj)(h)?h.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(h){return new(h||I)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(O.c$))}}static{this.\u0275dir=i.FsC({type:I,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(h,S){1&h&&i.bIt("click",function(){return S.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return I})()},59726:(U,b,n)=>{"use strict";n.d(b,{AI:()=>t,Dn:()=>m,Dp:()=>v,PW:()=>p,SD:()=>f,Tr:()=>E,V2:()=>e,bS:()=>c,yo:()=>y});var i=n(6800);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class c{constructor(C,I,D){this.type=t.FORM_INIT,this.payload={formId:C,formData:I,valid:D}}}class e{constructor(C,I){this.type=t.FORM_CHANGE,this.payload={formId:C,formData:I}}}class f{constructor(C,I){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:C,touched:I}}}class m{constructor(C){this.type=t.FORM_REMOVE,this.payload={formId:C}}}class p{constructor(C,I){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:C,valid:I}}}class y{constructor(C,I,D,R){this.type=t.FORM_ADD_ERROR,this.payload={formId:C,fieldId:I,fieldIndex:D,errorMessage:R}}}class E{constructor(C,I,D){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:C,fieldId:I,fieldIndex:D}}}class v{constructor(C){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:C}}}},86332:(U,b,n)=>{"use strict";n.d(b,{s:()=>V});var i=n(60177),t=n(54438),c=n(89417),e=n(1473),f=n(68018),m=n(48376),p=n.n(m),y=n(5964),E=n(96354),v=n(23294),O=n(79104),C=n(89777),I=n(53195);function D(G,X){if(1&G){const J=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(ne){t.eBV(J);const ee=t.XpG();return t.Njj(ee.onCustomEvent(ne,ee.blur))})("dfChange",function(ne){t.eBV(J);const ee=t.XpG();return t.Njj(ee.onCustomEvent(ne,ee.change))})("dfFocus",function(ne){t.eBV(J);const ee=t.XpG();return t.Njj(ee.onCustomEvent(ne,ee.focus))})("ngbEvent",function(ne){t.eBV(J);const ee=t.XpG();return t.Njj(ee.onCustomEvent(ne,ee.ngbEvent))}),t.k0s()}if(2&G){const J=X.$implicit,q=t.XpG();t.AVh("d-none",J.hidden),t.Y8G("formId",q.formId)("group",q.formGroup)("hasErrorMessaging",J.hasErrorMessages)("hidden",J.hidden)("layout",q.formLayout)("model",J)("templates",q.templates)("asBootstrapFormGroup",!0)}}let R=(()=>{class G extends e.f4U{constructor(J,q){super(J,q),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(q){return new(q||G)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-dynamic-form"]],contentQueries:function(q,ne,ee){if(1&q&&t.wni(ee,e.vJF,4),2&q){let fe;t.mGM(fe=t.lsd())&&(ne.templates=fe)}},viewQuery:function(q,ne){if(1&q&&t.GBs(I._,5),2&q){let ee;t.mGM(ee=t.lsd())&&(ne.components=ee)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(q,ne){1&q&&t.Z7z(0,D,1,10,"ds-dynamic-form-control-container",0,ne.trackByFn,!0),2&q&&t.Dyx(ne.formModel)},dependencies:()=>[I._],encapsulation:2})}}return G})();var h=n(49838),S=n(70338);const T=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],w=["[additional]","*","[before]","[between]","[after]"];function M(G,X){if(1&G){const J=t.RV6();t.j41(0,"div",4)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ne){t.eBV(J);const ee=t.XpG(),fe=ee.index,ye=ee.context,oe=t.XpG();return t.Njj(oe.removeItem(ne,ye,fe))}),t.j41(4,"span"),t.nrm(5,"i",7),t.k0s()()()}2&G&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function L(G,X){if(1&G){const J=t.RV6();t.j41(0,"div",5)(1,"div",8)(2,"button",9),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(ne){t.eBV(J);const ee=t.XpG().$implicit,fe=t.XpG();return t.Njj(fe.insertItem(ne,ee.context,ee.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",10),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&G&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function N(G,X){if(1&G){const J=t.RV6();t.j41(0,"div",4)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(ne){t.eBV(J);const ee=t.XpG(),fe=ee.index,ye=ee.context,oe=t.XpG();return t.Njj(oe.removeItem(ne,ye,fe))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&G){const J=t.XpG(),q=J.$implicit,ne=J.index,ee=J.context,fe=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===q.context.groups.length||fe.isItemReadOnly(ee,ne)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function j(G,X){if(1&G&&t.DNE(0,M,6,6,"div",4)(1,L,9,9,"div",5)(2,N,8,10,"div",4),2&G){const J=X.$implicit,q=X.index,ne=X.context,ee=t.XpG();t.vxM(ne.notRepeatable||ee.isVirtual(ne,q)||1===J.context.groups.length||ee.isItemReadOnly(ne,q)?-1:0),t.R7$(),t.vxM(ne.notRepeatable||q!==J.context.groups.length-1||ee.isItemReadOnly(ne,q)?-1:1),t.R7$(),t.vxM(ne.notRepeatable&&ne.showButtons&&J.context.groups.length>1?2:-1)}}function $(G,X){1&G&&t.SdG(0,1)}function k(G,X){if(1&G){const J=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(J);const ne=t.XpG(2);return t.Njj(ne.reset())}),t.nrm(1,"i",18),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&G){const J=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,J.cancelLabel)," ")}}function K(G,X){if(1&G){const J=t.RV6();t.j41(0,"button",19),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(J);const ne=t.XpG(2);return t.Njj(ne.onSubmit())}),t.nrm(2,"i",20),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&G){const J=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,J.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,J.submitLabel)," ")}}function z(G,X){if(1&G&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",13)(3,"div",14),t.SdG(4,2),t.DNE(5,k,4,3,"button",15),t.SdG(6,3),t.DNE(7,K,5,6,"button",16),t.SdG(8,4),t.k0s()()()),2&G){const J=t.XpG();t.R7$(5),t.vxM(J.displayCancel?5:-1),t.R7$(2),t.vxM(J.displaySubmit?7:-1)}}let V=(()=>{class G{constructor(J,q,ne){this.formService=J,this.changeDetectorRef=q,this.formBuilderService=ne,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(J=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,J)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,y.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,y.p)(J=>!!J&&((0,C.hj)(J.errors)||(0,C.hj)(this.formErrors))),(0,E.T)(J=>J.errors),(0,v.F)()).subscribe(J=>{const{formGroup:q,formModel:ne}=this;J.filter(ee=>-1===p()(this.formErrors,{fieldId:ee.fieldId,fieldIndex:ee.fieldIndex})).forEach(ee=>{const{fieldId:fe}=ee,{fieldIndex:ye}=ee;let oe;if(oe=this.formBuilderService.getFormControlById(fe,this.parentFormModel?q.parent:q,ne,ye),oe){const ue=this.formBuilderService.findById(fe,ne,ye);this.formService.addErrorToField(oe,ue,ee.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(ee=>-1===p()(J,{fieldId:ee.fieldId,fieldIndex:ee.fieldIndex})).forEach(ee=>{const{fieldId:fe}=ee,{fieldIndex:ye}=ee;let oe;if(oe=this.formBuilderService.getFormControlById(fe,this.parentFormModel?q.parent:q,ne,ye),oe){const ue=this.formBuilderService.findById(fe,ne,ye);this.formService.removeErrorFromField(oe,ue,ee.message)}}),this.formErrors=J,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(J=>(0,C.a4)(J)).forEach(J=>J.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(J=>{!Object.is(J,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(J)}))}onBlur(J){this.blur.emit(J);const q=J.control,ne=J.context&&J.context.index?J.context.index:0;q.valid?this.formService.removeError(this.formId,J.model.name,ne):this.formService.addControlErrors(q,this.formId,J.model.name,ne)}onCustomEvent(J){this.customEvent.emit(J)}onFocus(J){this.formService.setTouched(this.formId,this.formModel,J),this.focus.emit(J)}onChange(J){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(J),J.control.valid&&this.formService.removeError(this.formId,J.model.id,J.context&&J.context.index?J.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(J,q){return J.groups[q].group[0].readOnly}removeItem(J,q,ne){const ee=this.formGroup.get(this.formBuilderService.getPath(q)),fe=this.getEvent(J,q,ne,"remove");this.formBuilderService.isQualdropGroup(fe.model)&&(0,C.a4)(fe.model?.value)&&this.removeArrayItem.emit(fe),this.formBuilderService.removeFormArrayGroup(ne,ee,q),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(fe.model)||this.removeArrayItem.emit(fe)}insertItem(J,q,ne){const ee=this.formGroup.get(this.formBuilderService.getPath(q));this.formBuilderService.insertFormArrayGroup(ne,ee,q),this.addArrayItem.emit(this.getEvent(J,q,ne,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(J,q){const ee=J.groups[q].group[0].metadataValue;return(0,C.hj)(ee)&&ee.isVirtual}getEvent(J,q,ne,ee){const fe=q.groups[ne],ye=fe.context;let oe=this.formGroup.get(ye.id);if((0,C.kZ)(oe))for(const se of Object.keys(this.formGroup.controls))if(oe=this.formGroup.controls[se].get(ye.id),(0,C.Pe)(oe))break;return{$event:J,context:fe,control:oe.controls[ne],group:oe,model:fe.group[0],type:ee}}static{this.\u0275fac=function(q){return new(q||G)(t.rXU(S.u),t.rXU(t.gRc),t.rXU(h.j))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:w,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],[1,"clearfix","ps-4","w-100"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],["type","reset",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary",3,"dsBtnDisabled"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(q,ne){1&q&&(t.NAR(T),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(fe){return fe.stopPropagation()})("dfBlur",function(fe){return ne.onBlur(fe)})("dfChange",function(fe){return ne.onChange(fe)})("dfFocus",function(fe){return ne.onFocus(fe)})("ngbEvent",function(fe){return ne.onCustomEvent(fe)}),t.DNE(3,j,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,$,1,0)(6,z,9,2,"div"),t.k0s()()),2&q&&(t.R7$(),t.Y8G("formGroup",ne.formGroup),t.R7$(),t.Y8G("formId",ne.formId)("formGroup",ne.formGroup)("formModel",ne.formModel)("formLayout",ne.formLayout),t.R7$(3),t.vxM(ne.displaySubmit||ne.displayCancel?-1:5),t.R7$(),t.vxM(ne.displaySubmit||ne.displayCancel?6:-1))},dependencies:[i.Jj,O.A,R,e.EET,e.vJF,c.X1,c.qT,c.cb,c.j4,f.h,f.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"]})}}return G})()},70338:(U,b,n)=>{"use strict";n.d(b,{u:()=>h});var i=n(89417),t=n(1473),c=n(59640),e=n(59519),f=n.n(e),m=n(5964),p=n(96354),y=n(23294),E=n(78544),v=n(89777),O=n(49838),C=n(59726);const I=S=>S.forms;function D(S){return(0,c.Mz)(I,T=>T[S])}var R=n(54438);let h=(()=>{class S{constructor(w,M){this.formBuilderService=w,this.store=M}isValid(w){return this.store.pipe((0,c.Lt)(D(w)),(0,m.p)(M=>(0,v.EA)(M)),(0,p.T)(M=>M.valid),(0,y.F)())}getFormData(w){return this.store.pipe((0,c.Lt)(D(w)),(0,m.p)(M=>(0,v.EA)(M)),(0,p.T)(M=>M.data),(0,y.F)())}getFormTouchedState(w){return this.store.pipe((0,c.Lt)(D(w)),(0,m.p)(M=>(0,v.EA)(M)),(0,p.T)(M=>M.touched),(0,y.F)())}getFormErrors(w){return this.store.pipe((0,c.Lt)(D(w)),(0,m.p)(M=>(0,v.EA)(M)),(0,p.T)(M=>M.errors),(0,y.F)())}isFormInitialized(w){return this.store.pipe((0,c.Lt)(D(w)),(0,y.F)(),(0,p.T)(M=>(0,v.EA)(M)))}getUniqueId(w){return f()()+"_"+w}validateAllFormFields(w){Object.keys(w.controls).forEach(M=>{const L=w.get(M);L instanceof i.hs?(L.markAsTouched({onlySelf:!0}),L.markAsDirty({onlySelf:!0})):(L instanceof i.J3||L instanceof i.Bm)&&this.validateAllFormFields(L)})}hasValidationErrors(w){let M=!1;const L=Object.keys(w.controls);for(const N of L){const j=w.get(N);if(j instanceof i.hs?M=!j.valid&&j.touched:(j instanceof i.J3||j instanceof i.Bm)&&(M=this.hasValidationErrors(j)),M)break}return M}addControlErrors(w,M,L,N){null!==w.errors&&Object.keys(w.errors).filter($=>!0===w.errors[$]).map($=>`error.validation.${$}`).forEach($=>this.addError(M,L,N,$))}addErrorToField(w,M,L){const N={},j=this.getValidatorNameFromMap(L);let $=L;M.errorMessages||(M.errorMessages={}),(0,v.Im)(M.errorMessages[j])?M.errorMessages[j]=L:$=M.errorMessages[j],w.hasError(j)||(N[j]=!0,w.setErrors(N)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(k=>{this.addErrorToField(w.controls[k.id],k,L)}),w.markAsTouched()}removeErrorFromField(w,M,L){const N={},j=this.getValidatorNameFromMap(L);w.hasError(j)&&(N[j]=null,w.setErrors(N)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach($=>{this.removeErrorFromField(w.controls[$.id],$,L)}),w.markAsUntouched()}resetForm(w,M,L){this.formBuilderService.clearAllModelsValue(M),w.reset(),this.store.dispatch(new C.V2(L,w.value))}getValidatorNameFromMap(w){if(w.includes(".")){const M=w.split(".");M&&M.length>0&&(w=this.getValidatorNameFromMap(M[M.length-1]))}return E.c.form.validatorMap.hasOwnProperty(w)?E.c.form.validatorMap[w]:w}initForm(w,M,L){this.store.dispatch(new C.bS(w,this.formBuilderService.getValueFromModel(M),L))}setStatusChanged(w,M){this.store.dispatch(new C.PW(w,M))}getForm(w){return this.store.pipe((0,c.Lt)(D(w)))}removeForm(w){this.store.dispatch(new C.Dn(w))}changeForm(w,M){this.store.dispatch(new C.V2(w,this.formBuilderService.getValueFromModel(M)))}setTouched(w,M,L){const N=this.formBuilderService.getMetadataIdsFromEvent(L);this.store.dispatch(new C.SD(w,N))}addError(w,M,L,N){const j=M.replace(/\./g,"_");this.store.dispatch(new C.yo(w,j,L,N))}removeError(w,M,L){const N=M.replace(/\./g,"_");this.store.dispatch(new C.Tr(w,N,L))}static{this.\u0275fac=function(M){return new(M||S)(R.KVO(O.j),R.KVO(c.il))}}static{this.\u0275prov=R.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},98995:(U,b,n)=>{"use strict";n.d(b,{_:()=>f});var i=n(54438),t=n(68018),c=n(25630),e=n(58003);let f=(()=>{class m{constructor(y,E){this.activeModal=y,this.translate=E,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(y){this.select.emit(y),this.activeModal.close(y)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(E){return new(E||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(E,v){1&E&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return v.activeModal.dismiss("Cross click")}),i.k0s()(),i.j41(5,"div",3)(6,"div",4)(7,"ds-vocabulary-treeview",5),i.bIt("select",function(C){return v.onSelect(C)}),i.k0s()()()),2&E&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(5),i.Y8G("vocabularyOptions",v.vocabularyOptions)("description",v.description)("preloadLevel",v.preloadLevel)("selectedItems",v.selectedItems)("multiSelect",v.multiSelect)("showAdd",v.showAdd))},dependencies:[t.h,t.D9,c.P]})}}return m})()},25630:(U,b,n)=>{"use strict";n.d(b,{P:()=>$e});var i=n(64109),t=n(60177),c=n(54438),e=n(89417),f=n(58003),m=n(68018),p=n(96354),y=n(88141),E=n(25558),v=n(4093),O=n(73409),C=n(90306),I=n(64972),D=n(74082),R=n(79104),h=n(89777),S=n(15202),T=n(45024),w=n(84412),M=n(57786);class L extends T.qS{get data(){return this._data.value}set data(We){this._data.next(We),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(We,De,ut=[]){super(),this._treeControl=We,this._treeFlattener=De,this._flattenedData=new w.t([]),this._expandedData=new w.t([]),this._data=new w.t(ut)}connect(We){return(0,M.h)(We.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,p.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var N=n(96697);class j{constructor(We,De,ut,Ge){this.transformFunction=We,this.getLevel=De,this.isExpandable=ut,this.getChildren=Ge}_flattenNode(We,De,ut,Ge){const wt=this.transformFunction(We,De);if(ut.push(wt),this.isExpandable(wt)){const ot=this.getChildren(We);ot&&(Array.isArray(ot)?this._flattenChildren(ot,De,ut,Ge):ot.pipe((0,N.s)(1)).subscribe(Tt=>{this._flattenChildren(Tt,De,ut,Ge)}))}return ut}_flattenChildren(We,De,ut,Ge){We.forEach((wt,ot)=>{const Tt=Ge.slice();Tt.push(ot!==We.length-1),this._flattenNode(wt,De+1,ut,Tt)})}flattenNodes(We){const De=[];return We.forEach(ut=>this._flattenNode(ut,0,De,[])),De}expandFlattenedNodes(We,De){const ut=[],Ge=[];return Ge[0]=!0,We.forEach(wt=>{let ot=!0;for(let Tt=0;Tt<=this.getLevel(wt);Tt++)ot=ot&&Ge[Tt];ot&&ut.push(wt),this.isExpandable(wt)&&(Ge[this.getLevel(wt)+1]=De.isExpanded(wt))}),ut}}var $=n(48376),k=n.n($),K=n(71985),z=n(7673),V=n(73028),G=n(31943),X=n(1716);const J="LOAD_MORE",q="LOAD_MORE_ROOT",ne={id:J},ee={id:q};class fe{get children(){return this.childrenChange.value}constructor(We,De=!1,ut=new O.Q,Ge=null,wt=!1,ot=!1,Tt=!1){this.item=We,this.hasChildren=De,this.pageInfo=ut,this.loadMoreParentItem=Ge,this.isSearchNode=wt,this.isInInitValueHierarchy=ot,this.isSelected=Tt,this.childrenChange=new w.t([])}updatePageInfo(We){this.pageInfo=We}}class ye{constructor(We,De=1,ut=!1,Ge=!1,wt=new O.Q,ot=null,Tt=!1,Ee=!1,je=!1){this.item=We,this.level=De,this.expandable=ut,this.childrenLoaded=Ge,this.pageInfo=wt,this.loadMoreParentItem=ot,this.isSearchNode=Tt,this.isInInitValueHierarchy=Ee,this.isSelected=je}}let oe=(()=>{class st{constructor(De){this.vocabularyService=De,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new w.t([]),this.initValueHierarchy=[],this.loading=new w.t(!1),this.hideSearchingWhenUnsubscribed$=new K.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(De,ut,Ge,wt){this.loading.next(!0),this.vocabularyOptions=De,this.vocabularyName=De.name,this.pageInfo=ut,(0,h.hj)(wt)?this.getNodeHierarchyById(wt,Ge).subscribe(ot=>{this.initValueHierarchy=ot,this.retrieveTopNodes(ut,[],Ge)}):this.retrieveTopNodes(ut,[],Ge)}getData(){return this.dataChange}loadMoreRoot(De,ut){const Ge=this.dataChange.value;Ge.pop(),this.retrieveTopNodes(De.pageInfo,Ge,ut)}loadMore(De,ut,Ge=!1){if(!this.nodeMap.has(De.otherInformation.id))return;const wt=this.nodeMap.get(De.otherInformation.id),ot=this.nodeMap.get(De.otherInformation.id).children||[];ot.pop(),this.getChildrenNodesByParent(De.otherInformation.id,wt.pageInfo).subscribe(Tt=>{if(Ge&&wt.children.length>0)return;const Ee=Tt.page.map(je=>this._generateNode(je,ut));if(ot.push(...Ee),Tt.pageInfo.currentPage+1<=Tt.pageInfo.totalPages){const je=Object.assign(new O.Q,Tt.pageInfo,{currentPage:Tt.pageInfo.currentPage+1});wt.updatePageInfo(je),ot.push(new fe(ne,!1,je,De))}wt.childrenChange.next(ot),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(De,ut){this.loading.next(!0),(0,h.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(De,!1,this.vocabularyOptions,new O.Q).pipe((0,v.Ar)(),(0,V.Z)(Ge=>Ge.length>0?Ge:(0,z.of)(null)),(0,V.Z)(Ge=>this.vocabularyService.findEntryDetailById(Ge.otherInformation.id,this.vocabularyName).pipe((0,v.ak)())),(0,V.Z)(Ge=>this.getNodeHierarchy(Ge,ut)),(0,G.S)((Ge,wt)=>(0,h.Im)(wt)||-1!==k()(Ge,ot=>ot.item.otherInformation.id===wt.item.otherInformation.id)?Ge:[...Ge,wt],[]),(0,X.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(Ge=>{this.dataChange.next(Ge),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(De,ut,Ge=!1,wt=!0){const ot=De.otherInformation.id;if(this.nodeMap.has(ot))return this.nodeMap.get(ot);const Tt=De.hasOtherInformation()&&"true"===De.otherInformation.hasChildren,Ee=this.pageInfo,je=this.initValueHierarchy.includes(ot),mt=ut.some(()=>ut.includes(ot)),vn=new fe(De,Tt,Ee,null,Ge,je,mt);return wt&&this.nodeMap.set(ot,vn),vn}getNodeHierarchyById(De,ut){return this.getById(De).pipe((0,V.Z)(Ge=>this.getNodeHierarchy(Ge,ut,[],!1)),(0,p.T)(Ge=>this.getNodeHierarchyIds(Ge,ut)))}getChildrenNodesByParent(De,ut){return this.vocabularyService.getEntryDetailChildren(De,this.vocabularyName,ut).pipe((0,v.ak)())}getParentNode(De){return this.vocabularyService.getEntryDetailParent(De,this.vocabularyName).pipe((0,v.ak)())}getById(De){return this.vocabularyService.findEntryDetailById(De,this.vocabularyName).pipe((0,v.ak)())}retrieveTopNodes(De,ut,Ge){this.vocabularyService.searchTopEntries(this.vocabularyName,De).pipe((0,v.ak)()).subscribe(wt=>{this.vocabularyService.clearSearchTopRequests();const ot=wt.page.map(Tt=>this._generateNode(Tt,Ge));if(ut.push(...ot),wt.pageInfo.currentPage+1<=wt.pageInfo.totalPages){const Tt=Object.assign(new O.Q,wt.pageInfo,{currentPage:wt.pageInfo.currentPage+1}),Ee=new fe(ee,!1,Tt);Ee.updatePageInfo(Tt),ut.push(Ee)}this.loading.next(!1),this.dataChange.next(ut)})}getNodeHierarchy(De,ut,Ge,wt=!0){if((0,h.Im)(De))return(0,z.of)(null);const ot=this._generateNode(De,ut,wt,wt);if((0,h.hj)(Ge)){const Tt=Ge.filter(Ee=>-1===k()(ot.children,je=>je.item.otherInformation.id===Ee.item.otherInformation.id));Tt.forEach(Ee=>{Ee.loadMoreParentItem=ot.item}),ot.children.push(...Tt)}return ot.item.hasOtherInformation()&&(0,h.hj)(ot.item.otherInformation.parent)?this.getParentNode(ot.item.otherInformation.id).pipe((0,V.Z)(Tt=>this.getNodeHierarchy(Tt,ut,[ot],wt))):(0,z.of)(ot)}getNodeHierarchyIds(De,ut,Ge=[]){return Ge.includes(De.item.otherInformation.id)||Ge.push(De.item.otherInformation.id),(0,h.hj)(De.children)?this.getNodeHierarchyIds(De.children[0],ut,Ge):Ge}static{this.\u0275fac=function(ut){return new(ut||st)(c.KVO(C.g))}}static{this.\u0275prov=c.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}}return st})();const ue=["searchInput"];function te(st,We){if(1&st&&c.nrm(0,"ds-alert",1),2&st){const De=c.XpG();c.Y8G("content",De.description)("type",De.AlertType.Info)}}function se(st,We){if(1&st){const De=c.RV6();c.j41(0,"button",19),c.nI1(1,"translate"),c.bIt("click",function(){c.eBV(De);const Ge=c.XpG();return c.Njj(Ge.add())}),c.EFF(2),c.nI1(3,"translate"),c.k0s()}2&st&&(c.BMQ("aria-label",c.bMT(1,2,"vocabulary-treeview.search.form.add")),c.R7$(2),c.SpI(" ",c.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function be(st,We){1&st&&c.nrm(0,"ds-loading",11),2&st&&c.Y8G("showMessage",!1)}function me(st,We){1&st&&(c.j41(0,"h2",13)(1,"span"),c.EFF(2),c.nI1(3,"translate"),c.k0s()()),2&st&&(c.R7$(2),c.JRh(c.bMT(3,1,"vocabulary-treeview.search.no-result")))}function re(st,We){if(1&st){const De=c.RV6();c.j41(0,"label",25)(1,"input",26),c.mxI("ngModelChange",function(Ge){c.eBV(De);const wt=c.XpG().$implicit;return c.DH7(wt.isSelected,Ge)||(wt.isSelected=Ge),c.Njj(Ge)}),c.bIt("change",function(){c.eBV(De);const Ge=c.XpG().$implicit,wt=c.XpG();return c.Njj(wt.onSelect(Ge.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&st){const De=c.XpG().$implicit;c.AVh("text-success",De.isSelected),c.Y8G("ngbTooltip",null==De.item||null==De.item.otherInformation?null:De.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=De.item&&De.item.selectable)),c.R50("ngModel",De.isSelected),c.Y8G("checked",De.isSelected),c.R7$(2),c.JRh(De.item.display)}}function Z(st,We){if(1&st){const De=c.RV6();c.j41(0,"button",27),c.bIt("click",function(){c.eBV(De);const Ge=c.XpG().$implicit,wt=c.XpG();return c.Njj(wt.onSelect(Ge.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&st){const De=c.XpG().$implicit;c.AVh("text-success",De.isSelected),c.Y8G("dsBtnDisabled",!(null!=De.item&&De.item.selectable))("ngbTooltip",null==De.item||null==De.item.otherInformation?null:De.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(De.item.display)}}function le(st,We){if(1&st&&(c.j41(0,"cdk-tree-node",20)(1,"span",21),c.nrm(2,"i",22),c.k0s(),c.DNE(3,re,4,8,"label",23)(4,Z,3,6,"button",24),c.k0s()),2&st){const De=c.XpG();c.R7$(3),c.vxM(De.multiSelect?3:-1),c.R7$(),c.vxM(De.multiSelect?-1:4)}}function ce(st,We){if(1&st){const De=c.RV6();c.j41(0,"label",25)(1,"input",26),c.mxI("ngModelChange",function(Ge){c.eBV(De);const wt=c.XpG().$implicit;return c.DH7(wt.isSelected,Ge)||(wt.isSelected=Ge),c.Njj(Ge)}),c.bIt("change",function(){c.eBV(De);const Ge=c.XpG().$implicit,wt=c.XpG();return c.Njj(wt.onSelect(Ge.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&st){const De=c.XpG().$implicit;c.AVh("text-success",De.isSelected),c.Y8G("ngbTooltip",null==De.item||null==De.item.otherInformation?null:De.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=De.item&&De.item.selectable)),c.R50("ngModel",De.isSelected),c.Y8G("checked",De.isSelected),c.R7$(2),c.JRh(De.item.display)}}function ve(st,We){if(1&st){const De=c.RV6();c.j41(0,"button",27),c.bIt("click",function(){c.eBV(De);const Ge=c.XpG().$implicit,wt=c.XpG();return c.Njj(wt.onSelect(Ge.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&st){const De=c.XpG().$implicit;c.AVh("text-success",De.isSelected),c.Y8G("dsBtnDisabled",!(null!=De.item&&De.item.selectable))("ngbTooltip",null==De.item||null==De.item.otherInformation?null:De.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(De.item.display)}}function ze(st,We){if(1&st){const De=c.RV6();c.j41(0,"cdk-tree-node",20)(1,"button",28),c.bIt("click",function(){const Ge=c.eBV(De).$implicit,wt=c.XpG();return c.Njj(wt.loadChildren(Ge))})("keydown.enter",function(){const Ge=c.eBV(De).$implicit,wt=c.XpG();return c.Njj(wt.loadChildren(Ge))})("keydown.space",function(){const Ge=c.eBV(De).$implicit,wt=c.XpG();return c.Njj(wt.loadChildren(Ge))}),c.nrm(2,"i"),c.k0s(),c.DNE(3,ce,4,8,"label",23)(4,ve,3,6,"button",24),c.k0s()}if(2&st){const De=We.$implicit,ut=c.XpG();c.R7$(),c.BMQ("aria-label","toggle "+De.name),c.R7$(),c.ZvI("fas fa-fw ",ut.treeControl.isExpanded(De)?"fa-angle-down":"fa-angle-right",""),c.R7$(),c.vxM(ut.multiSelect?3:-1),c.R7$(),c.vxM(ut.multiSelect?-1:4)}}function Se(st,We){if(1&st){const De=c.RV6();c.j41(0,"cdk-tree-node",29)(1,"button",30),c.nI1(2,"translate"),c.bIt("click",function(){const Ge=c.eBV(De).$implicit,wt=c.XpG();return c.Njj(wt.loadMore(Ge.loadMoreParentItem))}),c.EFF(3),c.nI1(4,"translate"),c.k0s()()}2&st&&(c.R7$(),c.BMQ("aria-label",c.bMT(2,2,"vocabulary-treeview.load-more")),c.R7$(2),c.SpI(" ",c.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function et(st,We){if(1&st){const De=c.RV6();c.j41(0,"cdk-tree-node")(1,"button",30),c.nI1(2,"translate"),c.bIt("click",function(){const Ge=c.eBV(De).$implicit,wt=c.XpG();return c.Njj(wt.loadMoreRoot(Ge))}),c.EFF(3),c.nI1(4,"translate"),c.k0s()()}2&st&&(c.R7$(),c.BMQ("aria-label",c.bMT(2,2,"vocabulary-treeview.load-more")),c.R7$(2),c.SpI(" ",c.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let $e=(()=>{class st{constructor(De,ut){this.vocabularyTreeviewService=De,this.vocabularyService=ut,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new c.bkB(null),this.deselect=new c.bkB(null),this.subs=[],this.AlertType=D.v,this.getChildren=Ge=>Ge.childrenChange,this.transformer=(Ge,wt)=>{const ot=this.getEntryId(Ge.item),Tt=this.nodeMap.get(ot);if(Tt&&Tt.item.id!==J&&Tt.item.id!==q)return Tt;const Ee=new ye(Ge.item,wt,Ge.hasChildren,Ge.hasChildren&&(0,h.hj)(Ge.children),Ge.pageInfo,Ge.loadMoreParentItem,Ge.isSearchNode,Ge.isInInitValueHierarchy,Ge.isSelected);if(this.nodeMap.set(ot,Ee),wt+1<this.preloadLevel||Ee.isSearchNode&&Ee.childrenLoaded||Ee.isInInitValueHierarchy){if(Ee.item.id===J||Ee.item.id===q)return Ee;Ee.childrenLoaded||this.loadChildren(Ee),this.treeControl.expand(Ee)}return Ee},this.getLevel=Ge=>Ge.level,this.isExpandable=Ge=>Ge.expandable,this.hasChildren=(Ge,wt)=>wt.expandable,this.isLoadMore=(Ge,wt)=>wt.item.id===J,this.isLoadMoreRoot=(Ge,wt)=>wt.item.id===q,this.treeFlattener=new j(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new i.XW(this.getLevel,this.isExpandable),this.dataSource=new L(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyService.findVocabularyById(this.vocabularyOptions.name).pipe((0,v.qD)(),(0,p.T)(De=>De.hasSucceeded&&(0,h.a4)(De.payload.preloadLevel)&&De.payload.preloadLevel>1?De.payload.preloadLevel:1),(0,y.M)(De=>this.preloadLevel=De),(0,y.M)(()=>{const De=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new O.Q,this.getSelectedEntryIds(),De)}),(0,E.n)(()=>this.vocabularyTreeviewService.getData())).subscribe(De=>{this.dataSource.data=De})),this.loading=this.vocabularyTreeviewService.isLoading()}loadMore(De){this.vocabularyTreeviewService.loadMore(De,this.getSelectedEntryIds())}loadMoreRoot(De){this.vocabularyTreeviewService.loadMoreRoot(De,this.getSelectedEntryIds())}loadChildren(De){this.vocabularyTreeviewService.loadMore(De.item,this.getSelectedEntryIds(),!0)}onSelect(De){this.getSelectedEntryIds().includes(this.getEntryId(De))?(this.selectedItems=this.selectedItems.filter(ut=>this.getEntryId(ut)!==this.getEntryId(De)),this.deselect.emit(De)):(this.selectedItems.push(De),this.select.emit(De))}search(){(0,h.hj)(this.searchText)&&((0,h.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,h.hj)(this.searchText)}reset(){this.searchText="";for(const De of this.selectedItems)this.deselect.emit(De),this.nodeMap.get(this.getEntryId(De)).isSelected=!1;this.selectedItems=[],(0,h.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(De=>(0,h.a4)(De)).forEach(De=>De.unsubscribe())}getEntryId(De){return De?.authority||De?.otherInformation?.id||De?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(De=>this.getEntryId(De)).filter(De=>(0,h.hj)(De))}ngOnChanges(De){!De.vocabularyOptions.isFirstChange()&&De.vocabularyOptions.currentValue!==De.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new O.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(ut){return new(ut||st)(c.rXU(oe),c.rXU(C.g))}}static{this.\u0275cmp=c.VBU({type:st,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(ut,Ge){if(1&ut&&c.GBs(ue,5),2&ut){let wt;c.mGM(wt=c.lsd())&&(Ge.searchInput=wt.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[c.OA$,c.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-secondary",3,"click"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary"],[1,"treeview-container"],[3,"showMessage"],["aria-live","polite"],[1,"h4","text-center","text-muted","mt-4"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"click"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent"],[1,"fas","fa-fw","fa-angle-right","invisible"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"text-success","ngbTooltip","openDelay"],["container","body","role","button","tabindex","0",1,"btn","btn-outline-link","btn-sm","text-start",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox","role","checkbox","tabindex","0",1,"me-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body","role","button","tabindex","0",1,"btn","btn-outline-link","btn-sm","text-start",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","","role","button","tabindex","0",1,"btn","btn-default","px-2","me-1","btn-transparent",3,"click","keydown.enter","keydown.space"],["cdkTreeNodePadding",""],["role","button","tabindex","0",1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(ut,Ge){if(1&ut){const wt=c.RV6();c.DNE(0,te,1,2,"ds-alert",1),c.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),c.nI1(6,"translate"),c.nI1(7,"translate"),c.mxI("ngModelChange",function(Tt){return c.eBV(wt),c.DH7(Ge.searchText,Tt)||(Ge.searchText=Tt),c.Njj(Tt)}),c.bIt("keyup.enter",function(){return c.eBV(wt),c.Njj(Ge.search())}),c.k0s(),c.j41(8,"div",6)(9,"button",7),c.nI1(10,"translate"),c.bIt("click",function(){return c.eBV(wt),c.Njj(Ge.search())}),c.EFF(11),c.nI1(12,"translate"),c.k0s(),c.j41(13,"button",8),c.nI1(14,"translate"),c.bIt("click",function(){return c.eBV(wt),c.Njj(Ge.reset())}),c.EFF(15),c.nI1(16,"translate"),c.k0s(),c.DNE(17,se,4,6,"button",9),c.j41(18,"button",7),c.nI1(19,"translate"),c.bIt("click",function(){return c.eBV(wt),c.Njj(Ge.add())}),c.EFF(20),c.nI1(21,"translate"),c.k0s()()()()(),c.j41(22,"div",10),c.DNE(23,be,1,1,"ds-loading",11),c.nI1(24,"async"),c.j41(25,"div",12),c.DNE(26,me,4,3,"h2",13),c.nI1(27,"async"),c.k0s(),c.j41(28,"cdk-tree",14),c.DNE(29,le,5,2,"cdk-tree-node",15)(30,ze,5,6,"cdk-tree-node",16)(31,Se,5,6,"cdk-tree-node",17)(32,et,5,6,"cdk-tree-node",18),c.k0s()()}2&ut&&(c.vxM(Ge.description?0:-1),c.R7$(4),c.R50("ngModel",Ge.searchText),c.Y8G("placeholder",c.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),c.BMQ("aria-label",c.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),c.R7$(5),c.Y8G("dsBtnDisabled",!Ge.isSearchEnabled()),c.BMQ("aria-label",c.bMT(10,24,"vocabulary-treeview.search.form.search")),c.R7$(2),c.SpI(" ",c.bMT(12,26,"vocabulary-treeview.search.form.search")," "),c.R7$(2),c.BMQ("aria-label",c.bMT(14,28,"vocabulary-treeview.search.form.reset")),c.R7$(2),c.SpI(" ",c.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),c.R7$(2),c.vxM(Ge.showAdd&&Ge.vocabularyOptions.closed?17:-1),c.R7$(),c.Y8G("dsBtnDisabled",Ge.vocabularyOptions.closed),c.BMQ("aria-label",c.bMT(19,32,"vocabulary-treeview.search.form.add")),c.R7$(2),c.SpI(" ",c.bMT(21,34,"vocabulary-treeview.search.form.add")," "),c.R7$(3),c.vxM(c.bMT(24,36,Ge.loading)?23:-1),c.R7$(3),c.vxM(!0!==c.bMT(27,38,Ge.loading)&&0===Ge.dataSource.data.length?26:-1),c.R7$(2),c.Y8G("dataSource",Ge.dataSource)("treeControl",Ge.treeControl),c.R7$(2),c.Y8G("cdkTreeNodeDefWhen",Ge.hasChildren),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",Ge.isLoadMore),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",Ge.isLoadMoreRoot))},dependencies:[I.C,t.Jj,R.A,i.Dc,i.Sz,i.aI,i.Hy,i.NL,i.xn,e.YN,e.me,e.Zm,e.BC,e.vS,f.n8,f.md,S.v,m.h,m.D9],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}"]})}}return st})()},74511:(U,b,n)=>{"use strict";n.d(b,{e:()=>O});var i=n(7673),t=n(96354),c=n(96697),e=n(94925),f=n(4093),m=n(89777),p=n(54438);const v=/^([^\/]+\/[^\/]+)$/;let O=(()=>{class C{constructor(D){this.configurationService=D}normalizeHandle(D){return(0,m.Tn)(D)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,f.qD)(),(0,t.T)(R=>{if(R.hasSucceeded)return R.payload.values.length>=1?R.payload.values[0]:void 0}),(0,t.T)(R=>{let h;return h=D.match((C=>{const I=C?.replace(/\/$/,"");return new RegExp(`(${I?I+"|":""}handle)/([^/]+/[^/]+)$`)})(R)),((0,m.Im)(h)||h.length<3)&&(h=D.match(v)),(0,m.Im)(h)||h.length<2?null:h[h.length-1]}),(0,c.s)(1))}static{this.\u0275fac=function(R){return new(R||C)(p.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},53186:(U,b,n)=>{"use strict";n.d(b,{O:()=>t,l:()=>c});const t={RESIZE:(0,n(6800).N)("dspace/host-window/RESIZE")};class c{constructor(f,m){this.type=t.RESIZE,this.payload={width:f,height:m}}}},50842:(U,b,n)=>{"use strict";n.d(b,{CV:()=>I,tP:()=>E});var i=n(59640),t=n(84572),c=n(5964),e=n(96354),f=n(23294),m=n(89777),p=n(87837),y=n(54438),E=function(D){return D[D.XS=0]="XS",D[D.SM=1]="SM",D[D.MD=2]="MD",D[D.LG=3]="LG",D[D.XL=4]="XL",D}(E||{});const v=E.SM,C=(0,i.Mz)(D=>D.hostWindow,D=>D.width);let I=(()=>{class D{constructor(h,S){this.store=h,this.variableService=S,this.breakPoints={},S.getAllVariables().subscribe(T=>{this.breakPoints.XL_MIN=parseInt(T["--bs-xl"],10),this.breakPoints.LG_MIN=parseInt(T["--bs-lg"],10),this.breakPoints.MD_MIN=parseInt(T["--bs-md"],10),this.breakPoints.SM_MIN=parseInt(T["--bs-sm"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(C),(0,c.p)(h=>(0,m.a4)(h)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(h=>h<this.breakPoints.SM_MIN?E.XS:h>=this.breakPoints.SM_MIN&&h<this.breakPoints.MD_MIN?E.SM:h>=this.breakPoints.MD_MIN&&h<this.breakPoints.LG_MIN?E.MD:h>=this.breakPoints.LG_MIN&&h<this.breakPoints.XL_MIN?E.LG:E.XL),(0,f.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(h=>h===E.XS),(0,f.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(h=>h===E.SM),(0,f.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(h=>h===E.MD),(0,f.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(h=>h===E.LG),(0,f.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(h=>h===E.XL),(0,f.F)())}is(h){return this.widthCategory.pipe((0,e.T)(S=>S===h),(0,f.F)())}isIn(h){return this.widthCategory.pipe((0,e.T)(S=>h.includes(S)),(0,f.F)())}isUpTo(h){return this.widthCategory.pipe((0,e.T)(S=>S<=h),(0,f.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(h=>h<=v),(0,f.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(h=>h>v),(0,f.F)())}isXsOrSm(){return(0,t.z)([this.isXs(),this.isSm()]).pipe((0,e.T)(([h,S])=>h||S),(0,f.F)())}static{this.\u0275fac=function(S){return new(S||D)(y.KVO(i.il),y.KVO(p.J))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},66858:(U,b,n)=>{"use strict";n.d(b,{k:()=>t});var i=n(54438);let t=(()=>{class c{constructor(f){this.elementRef=f}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsHoverClass",""]],hostBindings:function(m,p){1&m&&i.bIt("mouseenter",function(){return p.onMouseEnter()})("mouseleave",function(){return p.onMouseLeave()})},inputs:{hoverClass:[0,"dsHoverClass","hoverClass"]},standalone:!0})}}return c})()},22114:(U,b,n)=>{"use strict";n.d(b,{d:()=>v});var i=n(60177),t=n(58003),c=n(59640),e=n(68018),f=n(96354),m=n(94196),p=n(12321),y=n(54438);function E(O,C){if(1&O){const I=y.RV6();y.j41(0,"ul",0)(1,"li",1)(2,"button",2),y.nI1(3,"translate"),y.bIt("click",function(){y.eBV(I);const R=y.XpG();return y.Njj(R.stopImpersonating())}),y.nrm(4,"i",3),y.k0s()()()}2&O&&(y.R7$(2),y.FS9("ngbTooltip",y.bMT(3,1,"nav.stop-impersonating")))}let v=(()=>{class O{constructor(I,D,R){this.elRef=I,this.store=D,this.authService=R,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,c.Lt)(p.wR)).pipe((0,f.T)(I=>I&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(I=>{I?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(D){return new(D||O)(y.rXU(y.aKT),y.rXU(c.il),y.rXU(m.uR))}}static{this.\u0275cmp=y.VBU({type:O,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[y.aNF],decls:2,vars:3,consts:[[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(D,R){1&D&&(y.DNE(0,E,5,3,"ul",0),y.nI1(1,"async")),2&D&&y.vxM(y.bMT(1,1,R.isImpersonating$)?0:-1)},dependencies:[i.Jj,t.n8,t.md,e.h,e.D9],encapsulation:2})}}return O})()},73336:(U,b,n)=>{"use strict";n.d(b,{H:()=>h});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(38133),m=n(19370),p=n(51828);const y=S=>({show:S}),E=S=>({"is-invalid":S}),v=()=>({standalone:!0});function O(S,T){1&S&&t.eu8(0)}function C(S,T){if(1&S&&(t.j41(0,"label",6)(1,"span",11),t.EFF(2),t.k0s(),t.DNE(3,O,1,0,"ng-container",12),t.k0s()),2&S){const w=t.XpG(),M=t.sdS(6);t.R7$(2),t.SpI(" ",w.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",M)}}function I(S,T){if(1&S){const w=t.RV6();t.j41(0,"input",13,2),t.mxI("ngModelChange",function(L){t.eBV(w);const N=t.XpG();return t.DH7(N.value,L)||(N.value=L),t.Njj(L)}),t.bIt("onDebounce",function(L){t.eBV(w);const N=t.XpG();return t.Njj(N.find(L))}),t.k0s()}if(2&S){const w=t.XpG();t.R50("ngModel",w.value),t.Y8G("name",w.name)("ngClass",t.eq3(6,E,!w.valid))("dsDebounce",w.debounceTime)("placeholder",w.placeholder)("ngModelOptions",t.lJ4(8,v))}}function D(S,T){if(1&S){const w=t.RV6();t.j41(0,"input",13,2),t.mxI("ngModelChange",function(L){t.eBV(w);const N=t.XpG();return t.DH7(N.value,L)||(N.value=L),t.Njj(L)}),t.bIt("onDebounce",function(L){t.eBV(w);const N=t.XpG();return t.Njj(N.find(L))}),t.k0s()}if(2&S){const w=t.XpG();t.R50("ngModel",w.value),t.Y8G("name",w.name)("ngClass",t.eq3(6,E,!w.valid))("dsDebounce",w.debounceTime)("placeholder",w.placeholder)("ngModelOptions",t.lJ4(8,v))}}function R(S,T){if(1&S){const w=t.RV6();t.j41(0,"div")(1,"a",14,3),t.bIt("click",function(){const L=t.eBV(w).$implicit,N=t.XpG();return t.Njj(N.onClickSuggestion(L))}),t.nrm(3,"span",15),t.k0s()()}if(2&S){const w=T.$implicit;t.R7$(3),t.Y8G("innerHTML",w.displayValue,t.npT)}}let h=(()=>{class S extends p.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(w){this.value=w,this.submitSuggestion.emit(w)}onClickSuggestion(w){return this.value=w.value,this.clickSuggestion.emit(w),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let w;return function(L){return(w||(w=t.xGo(S)))(L||S)}})()}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:c.kq,useExisting:(0,t.Rfq)(()=>S),multi:!0}]),t.Vt3,t.aNF],decls:15,vars:10,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"mb-3","mb-0"],[1,"mb-0","w-100"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[1,"fw-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(M,L){if(1&M){const N=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(N),t.Njj(L.onSubmit(L.value))})("keydown",function($){return t.eBV(N),t.Njj(L.onKeydown($))})("keydown.arrowdown",function($){return t.eBV(N),t.Njj(L.shiftFocusDown($))})("keydown.arrowup",function($){return t.eBV(N),t.Njj(L.shiftFocusUp($))})("keydown.esc",function(){return t.eBV(N),t.Njj(L.close())})("dsClickOutside",function(){return t.eBV(N),t.Njj(L.close())}),t.j41(2,"div",5),t.DNE(3,C,4,2,"label",6)(4,I,2,9,"input",7),t.k0s(),t.DNE(5,D,2,9,"ng-template",null,1,t.C5r),t.j41(7,"button",8),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"div",9),t.nI1(11,"async"),t.j41(12,"div",10),t.Z7z(13,R,4,1,"div",null,t.fX1),t.k0s()()()}2&M&&(t.Y8G("action",L.action,t.B4B),t.R7$(3),t.vxM(L.label?3:4),t.R7$(5),t.SpI(" ",t.bMT(9,4,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(8,y,t.bMT(11,6,L.show)&&L.isNotEmpty(L.suggestions))),t.R7$(3),t.Dyx(L.suggestions))},dependencies:[i.Jj,f.z,m.R,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,i.YU,i.T3,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return S})()},51828:(U,b,n)=>{"use strict";n.d(b,{t:()=>R});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(84412),m=n(89777),p=n(38133),y=n(19370);const E=["inputField"],v=["suggestion"],O=h=>({"is-invalid":h}),C=()=>({standalone:!0}),I=h=>({show:h});function D(h,S){if(1&h){const T=t.RV6();t.j41(0,"div")(1,"a",8,2),t.bIt("click",function(){const M=t.eBV(T).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(M.value))}),t.nrm(3,"span",9),t.k0s()()}if(2&h){const T=S.$implicit;t.R7$(3),t.Y8G("innerHTML",T.displayValue,t.npT)}}let R=(()=>{class h{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new f.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=T=>{},this.propagateTouch=T=>{}}ngOnChanges(T){(0,m.a4)(T.suggestions)&&this.show.next((0,m.hj)(T.suggestions.currentValue)&&!T.suggestions.firstChange)}shiftFocusUp(T){T.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(T){T.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(T){"Enter"!==T.key&&"Tab"!==T.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(T){return(0,m.hj)(T)}onSubmit(T){}onClickSuggestion(T){}find(T){this.blockReopen||(this.findSuggestions.emit(T),this.typeSuggestion.emit(T)),this.blockReopen=!1}registerOnChange(T){this.propagateChange=T}registerOnTouched(T){this.propagateTouch=T}setDisabledState(T){this.disabled=T}writeValue(T){this.value=T}get value(){return this._value}set value(T){this._value=T,this.propagateChange(this._value)}static{this.\u0275fac=function(w){return new(w||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-input-suggestions"]],viewQuery:function(w,M){if(1&w&&(t.GBs(E,5),t.GBs(v,5)),2&w){let L;t.mGM(L=t.lsd())&&(M.queryInput=L.first),t.mGM(L=t.lsd())&&(M.resultViews=L)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(w,M){if(1&w){const L=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(M.onSubmit(M.value))})("keydown",function(j){return t.eBV(L),t.Njj(M.onKeydown(j))})("keydown.arrowdown",function(j){return t.eBV(L),t.Njj(M.shiftFocusDown(j))})("keydown.arrowup",function(j){return t.eBV(L),t.Njj(M.shiftFocusUp(j))})("keydown.esc",function(){return t.eBV(L),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(M.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(j){return t.eBV(L),t.DH7(M.value,j)||(M.value=j),t.Njj(j)}),t.bIt("onDebounce",function(j){return t.eBV(L),t.Njj(M.find(j))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.Z7z(10,D,4,1,"div",null,t.fX1),t.k0s()()()}2&w&&(t.Y8G("action",M.action,t.B4B),t.R7$(2),t.R50("ngModel",M.value),t.Y8G("name",M.name)("ngClass",t.eq3(13,O,!M.valid))("dsDebounce",M.debounceTime)("placeholder",M.placeholder)("ngModelOptions",t.lJ4(15,C)),t.R7$(3),t.SpI(" ",t.bMT(6,9,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(16,I,t.bMT(8,11,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Dyx(M.suggestions))},dependencies:[i.Jj,p.z,y.R,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,i.YU,e.h,e.D9],encapsulation:2})}}return h})()},39460:(U,b,n)=>{"use strict";n.r(b),n.d(b,{LangSwitchComponent:()=>y});var i=n(58003),t=n(68018),c=n(78544),e=n(97576),f=n(54438);function m(E,v){if(1&E){const O=f.RV6();f.j41(0,"div",5),f.bIt("keyup.enter",function(){const I=f.eBV(O).$implicit,D=f.XpG(2);return f.Njj(D.useLang(I))})("click",function(){const I=f.eBV(O).$implicit,D=f.XpG(2);return f.Njj(D.useLang(I))}),f.EFF(1),f.k0s()}if(2&E){const O=v.$implicit,C=f.XpG(2);f.AVh("active",O===C.translate.currentLang),f.Y8G("lang",O),f.BMQ("aria-selected",O===C.translate.currentLang),f.R7$(),f.SpI(" ",C.langLabel(O)," ")}}function p(E,v){if(1&E){const O=f.RV6();f.j41(0,"div",0)(1,"button",1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.bIt("click",function(I){return f.eBV(O),f.Njj(I.preventDefault())}),f.nrm(4,"i",2),f.k0s(),f.j41(5,"div",3),f.nI1(6,"translate"),f.Z7z(7,m,2,5,"div",4,f.fX1),f.k0s()()}if(2&E){const O=f.XpG();f.R7$(),f.Y8G("title",f.bMT(2,3,"nav.language")),f.BMQ("aria-label",f.bMT(3,5,"nav.language")),f.R7$(4),f.BMQ("aria-label",f.bMT(6,7,"nav.language")),f.R7$(2),f.Dyx(O.translate.getLangs())}}let y=(()=>{class E{constructor(O,C,I){this.el=O,this.translate=C,this.localeService=I}ngOnInit(){this.activeLangs=c.c.languages.filter(O=>!0===O.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(O=>O.code===this.translate.currentLang).label}langLabel(O){return this.activeLangs.find(C=>C.code===O).label}useLang(O){this.localeService.setCurrentLanguageCode(O),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(C){return new(C||E)(f.rXU(f.aKT),f.rXU(t.c$),f.rXU(e.iH))}}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[f.aNF],decls:1,vars:1,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["role","button","aria-controls","language-menu-list","aria-haspopup","menu","data-bs-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",1,"dropdown-toggle","btn","btn-link","px-0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","listbox",1,"dropdown-menu"],["tabindex","0","role","option",1,"dropdown-item",3,"lang","active"],["tabindex","0","role","option",1,"dropdown-item",3,"keyup.enter","click","lang"]],template:function(C,I){1&C&&f.DNE(0,p,9,9,"div",0),2&C&&f.vxM(I.moreThanOneLanguage?0:-1)},dependencies:[i.zH,i.tg,i.do,i.U0,t.h,t.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return E})()},72012:(U,b,n)=>{"use strict";n.d(b,{n:()=>m});var i=n(29710),c=(n(39460),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(E){return n(97394)(`./${E}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39460))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-lang-switch"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},58400:(U,b,n)=>{"use strict";n.d(b,{E:()=>m});var i=n(60177),t=n(50808),c=n(54438);const e=p=>({"visually-hidden":p});function f(p,y){if(1&p&&(c.j41(0,"div",1),c.EFF(1),c.k0s()),2&p){const E=y.$implicit;c.R7$(),c.JRh(E)}}let m=(()=>{class p{constructor(E){this.liveRegionService=E}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(v){return new(v||p)(c.rXU(t.A))}}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-live-region"]],standalone:!0,features:[c.aNF],decls:4,vars:5,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],[1,"live-region-message"]],template:function(v,O){1&v&&(c.j41(0,"div",0),c.Z7z(1,f,2,1,"div",1,c.fX1),c.nI1(3,"async"),c.k0s()),2&v&&(c.Y8G("ngClass",c.eq3(3,e,!O.isVisible)),c.R7$(),c.Dyx(c.bMT(3,1,O.messages$)))},dependencies:[i.Jj,i.YU],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return p})()},50808:(U,b,n)=>{"use strict";n.d(b,{A:()=>O});var i=n(84412),t=n(96697),c=n(25558),e=n(41584),f=n(96354),m=n(78544),p=n(75398),y=n(54438),E=n(65148);let O=(()=>{class C{constructor(D,R){this.uuidService=D,this.accessibilitySettingsService=R,this.messageTimeOutDurationMs=m.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=m.c.liveRegion.isVisible}getMessages(){return this.messages.map(D=>D.message)}getMessages$(){return this.messages$}addMessage(D){const R=this.uuidService.generate();return this.messages.push({message:D,uuid:R}),this.getConfiguredMessageTimeOutMs().pipe((0,t.s)(1),(0,c.n)(h=>(0,e.O)(h))).subscribe(()=>this.clearMessageByUUID(R)),this.emitCurrentMessages(),R}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(D){const R=this.messages.findIndex(h=>h.uuid===D);-1!==R&&(this.messages.splice(R,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(D){this.liveRegionIsVisible=D}getConfiguredMessageTimeOutMs(){return this.accessibilitySettingsService.getAsNumber("liveRegionTimeOut",this.getMessageTimeOutMs()).pipe((0,f.T)(D=>Math.max(D,200)))}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(D){this.messageTimeOutDurationMs=D}static{this.\u0275fac=function(R){return new(R||C)(y.KVO(E.v),y.KVO(p.jJ))}}static{this.\u0275prov=y.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},15202:(U,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(73838),t=n(29710),c=n(54438);const e=["*"];function f(p,y){}let m=(()=>{class p extends t.J{constructor(E,v){super(E,v),this.cdr=E,this.themeService=v,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(E){return n(54512)(`./${E}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,21792))}static{this.\u0275fac=function(v){return new(v||p)(c.rXU(c.gRc),c.rXU(i.Fs))}}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},77628:(U,b,n)=>{"use strict";n.d(b,{u:()=>p});var i=n(60177),t=n(54438),e=(n(93635),n(87908)),f=n(29747);function m(y,E){1&y&&t.eu8(0)}let p=(()=>{class y{constructor(v){this.injector=v}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,f.H)(e.y,this.authMethod.authMethodType)}static{this.\u0275fac=function(O){return new(O||y)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(O,C){1&O&&t.DNE(0,m,1,0,"ng-container",0),2&O&&t.Y8G("ngComponentOutlet",C.getAuthMethodContent())("ngComponentOutletInjector",C.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return y})()},91886:(U,b,n)=>{"use strict";n.r(b),n.d(b,{LogInComponent:()=>h});var i=n(60177),t=n(59640),c=n(94196),e=n(14563),m=(n(38196),n(12321)),p=n(89777),y=n(15202),E=n(77628),v=n(87908),O=n(54438);function C(S,T){1&S&&O.nrm(0,"ds-loading",0)}function I(S,T){1&S&&O.nrm(0,"div",3)}function D(S,T){if(1&S&&(O.nrm(0,"ds-log-in-container",2),O.DNE(1,I,1,0,"div",3)),2&S){const w=T.$implicit,M=T.$index,L=T.$count,N=O.XpG(2);O.Y8G("authMethod",w)("isStandalonePage",N.isStandalonePage),O.R7$(),O.vxM(M!==L-1?1:-1)}}function R(S,T){if(1&S&&(O.j41(0,"div",1),O.Z7z(1,D,2,3,null,null,O.fX1),O.nI1(3,"async"),O.k0s()),2&S){const w=O.XpG();O.R7$(),O.Dyx(O.bMT(3,0,w.authMethods))}}let h=(()=>{class S{constructor(w,M,L){this.store=w,this.authService=M,this.authMethodsService=L,this.showRegisterLink=!0}ngOnInit(){this.authMethods=this.authMethodsService.getAuthMethods(v.y,this.excludedAuthMethod),this.loading=this.store.pipe((0,t.Lt)(m.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(m.wR)),this.store.pipe((0,t.Lt)(m.H8)).subscribe(w=>{(0,p.a4)(w)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(M){return new(M||S)(O.rXU(t.il),O.rXU(c.uR),O.rXU(e.q))}}static{this.\u0275cmp=O.VBU({type:S,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage",excludedAuthMethod:"excludedAuthMethod",showRegisterLink:"showRegisterLink"},standalone:!0,features:[O.aNF],decls:6,vars:10,consts:[[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[3,"authMethod","isStandalonePage"],[1,"dropdown-divider","my-2"]],template:function(M,L){1&M&&(O.DNE(0,C,1,0,"ds-loading",0),O.nI1(1,"async"),O.nI1(2,"async"),O.DNE(3,R,4,2,"div",1),O.nI1(4,"async"),O.nI1(5,"async")),2&M&&(O.vxM(O.bMT(1,2,L.loading)||O.bMT(2,4,L.isAuthenticated)?0:-1),O.R7$(3),O.vxM(!0!==O.bMT(4,6,L.loading)&&!0!==O.bMT(5,8,L.isAuthenticated)?3:-1))},dependencies:[i.Jj,E.u,y.v],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return S})()},87908:(U,b,n)=>{"use strict";n.d(b,{y:()=>ee});var i=n(38196),t=n(59640),c=n(68018),e=n(96697),f=n(94196),p=(n(93635),n(12321)),y=n(19252),E=n(89777),v=n(54438),O=n(95488);let C=(()=>{class ye{constructor(ue,te,se,be,me,re){this.injectedAuthMethodModel=ue,this.isStandalonePage=te,this._window=se,this.authService=be,this.hardRedirectService=me,this.store=re,this.authMethod=ue}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(p.wR)),this.loading=this.store.pipe((0,t.Lt)(p.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(ue=>{this.isStandalonePage?(0,E.Im)(ue)&&(ue="/"):ue=this.hardRedirectService.getCurrentRoute();const te=this.authService.getExternalServerRedirectUrl(this._window.nativeWindow.origin,ue,this.location);this.hardRedirectService.redirect(te)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(te){return new(te||ye)(v.rXU("authMethodProvider"),v.rXU("isStandalonePage"),v.rXU(y.lc),v.rXU(f.uR),v.rXU(O.$),v.rXU(t.il))}}static{this.\u0275cmp=v.VBU({type:ye,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[v.aNF],decls:4,vars:3,consts:[["role","button","tabindex","0",1,"btn","btn-lg","btn-primary","w-100","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(te,se){1&te&&(v.j41(0,"button",0),v.bIt("click",function(){return se.redirectToExternalProvider()}),v.nrm(1,"i",1),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&te&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,se.getButtonLabel()),"\n"))},dependencies:[c.h,c.D9]})}}return ye})();var I=n(60177),D=n(89417),R=n(7901),h=n(44668),S=n(84572),T=n(96354),w=n(5964),M=n(15343),L=n(45124),N=n(11873),j=n(6170),$=n(2180),k=n(79104),K=n(33745);const z=ye=>[ye];function V(ye,oe){if(1&ye&&(v.j41(0,"div",3),v.EFF(1),v.nI1(2,"async"),v.nI1(3,"translate"),v.k0s()),2&ye){const ue=v.XpG();v.Y8G("@fadeOut",void 0),v.R7$(),v.JRh(v.bMT(3,4,v.bMT(2,2,ue.error)))}}function G(ye,oe){if(1&ye&&(v.j41(0,"div",4),v.EFF(1),v.nI1(2,"async"),v.nI1(3,"translate"),v.k0s()),2&ye){const ue=v.XpG();v.Y8G("@fadeOut",void 0),v.R7$(),v.JRh(v.bMT(3,4,v.bMT(2,2,ue.message)))}}function X(ye,oe){if(1&ye&&(v.j41(0,"a",8),v.nI1(1,"dsBrowserOnly"),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ye){const ue=v.XpG(2);v.Y8G("routerLink",v.eq3(7,z,ue.getRegisterRoute())),v.BMQ("data-test",v.bMT(1,3,"register")),v.R7$(2),v.JRh(v.bMT(3,5,"login.form.new-user"))}}function J(ye,oe){if(1&ye&&(v.j41(0,"a",8),v.nI1(1,"dsBrowserOnly"),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ye){const ue=v.XpG(2);v.Y8G("routerLink",v.eq3(7,z,ue.getForgotRoute())),v.BMQ("data-test",v.bMT(1,3,"forgot")),v.R7$(2),v.JRh(v.bMT(3,5,"login.form.forgot-password"))}}function q(ye,oe){if(1&ye&&(v.j41(0,"div",7),v.DNE(1,X,4,9,"a",8),v.nI1(2,"async"),v.DNE(3,J,4,9,"a",8),v.nI1(4,"async"),v.k0s()),2&ye){const ue=v.XpG();v.R7$(),v.vxM(v.bMT(2,2,ue.canRegister$)?1:-1),v.R7$(2),v.vxM(v.bMT(4,4,ue.canForgot$)?3:-1)}}const ee=new Map([[i.Q.Password,(()=>{class ye{constructor(ue,te,se,be,me,re,Z){this.injectedAuthMethodModel=ue,this.isStandalonePage=te,this.authService=se,this.hardRedirectService=be,this.formBuilder=me,this.store=re,this.authorizationService=Z,this.hasError=!1,this.hasMessage=!1,this.authMethod=ue}ngOnInit(){this.form=this.formBuilder.group({email:["",D.k0.required],password:["",D.k0.required]}),this.error=this.store.pipe((0,t.Lt)(p.H8),(0,T.T)(ue=>(this.hasError=(0,E.hj)(ue),ue))),this.message=this.store.pipe((0,t.Lt)(p.dx),(0,T.T)(ue=>(this.hasMessage=(0,E.hj)(ue),ue))),this.canRegister$=this.authorizationService.isAuthorized(j._.EPersonRegistration).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(j._.EPersonForgotPassword).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,S.z)([this.canRegister$,this.canForgot$]).pipe((0,T.T)(([ue,te])=>ue||te),(0,w.p)(Boolean))}getRegisterRoute(){return(0,M.Do)()}getForgotRoute(){return(0,M.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new L.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const ue=this.form.get("email").value,te=this.form.get("password").value;ue.trim(),te.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new L.Sn(ue,te)),this.form.reset()}static{this.\u0275fac=function(te){return new(te||ye)(v.rXU("authMethodProvider"),v.rXU("isStandalonePage"),v.rXU(f.uR),v.rXU(O.$),v.rXU(D.ze),v.rXU(t.il),v.rXU(N.AuthorizationDataService))}}static{this.\u0275cmp=v.VBU({type:ye,selectors:[["ds-log-in-password"]],standalone:!0,features:[v.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],["type","submit","role","button","tabindex","0",1,"btn","btn-lg","btn-primary","w-100",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],[1,"mt-2"],["tabindex","0",1,"dropdown-item",3,"routerLink"]],template:function(te,se){1&te&&(v.j41(0,"form",0),v.bIt("ngSubmit",function(){return se.submit()}),v.nrm(1,"input",1),v.nI1(2,"translate"),v.nI1(3,"translate"),v.nI1(4,"dsBrowserOnly"),v.nrm(5,"input",2),v.nI1(6,"translate"),v.nI1(7,"translate"),v.nI1(8,"dsBrowserOnly"),v.DNE(9,V,4,6,"div",3),v.nI1(10,"async"),v.DNE(11,G,4,6,"div",4),v.nI1(12,"async"),v.j41(13,"button",5),v.nI1(14,"dsBrowserOnly"),v.nrm(15,"i",6),v.EFF(16),v.nI1(17,"translate"),v.k0s()(),v.DNE(18,q,5,6,"div",7),v.nI1(19,"async")),2&te&&(v.Y8G("formGroup",se.form),v.R7$(),v.FS9("placeholder",v.bMT(2,13,"login.form.email")),v.BMQ("aria-label",v.bMT(3,15,"login.form.email"))("data-test",v.bMT(4,17,"email")),v.R7$(4),v.FS9("placeholder",v.bMT(6,19,"login.form.password")),v.BMQ("aria-label",v.bMT(7,21,"login.form.password"))("data-test",v.bMT(8,23,"password")),v.R7$(4),v.vxM(v.bMT(10,25,se.error)&&se.hasError?9:-1),v.R7$(2),v.vxM(v.bMT(12,27,se.message)&&se.hasMessage?11:-1),v.R7$(2),v.Y8G("dsBtnDisabled",!se.form.valid),v.BMQ("data-test",v.bMT(14,29,"login-button")),v.R7$(3),v.SpI(" ",v.bMT(17,31,"login.form.submit"),""),v.R7$(2),v.vxM(v.bMT(19,33,se.canShowDivider$)?18:-1))},dependencies:[I.Jj,K.L,k.A,D.YN,D.qT,D.me,D.BC,D.cb,D.YS,D.X1,D.j4,D.JD,R.Wk,c.h,c.D9],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[$.Xn]}})}}return ye})()],[i.Q.Shibboleth,C],[i.Q.Oidc,C],[i.Q.Orcid,C],[i.Q.Saml,C]])},29747:(U,b,n)=>{"use strict";function i(t,c){return t.get(c)}n.d(b,{H:()=>i})},20044:(U,b,n)=>{"use strict";n.d(b,{W:()=>p}),n(38196);var t=n(29710),e=(n(91886),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage","excludedAuthMethod","showRegisterLink"]}getComponentName(){return"LogInComponent"}importThemedComponent(v){return n(43800)(`./${v}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,91886))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage",excludedAuthMethod:"excludedAuthMethod",showRegisterLink:"showRegisterLink"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},59556:(U,b,n)=>{"use strict";n.d(b,{y:()=>O});var i=n(60177),t=n(59640),c=n(68018),e=n(45124),f=n(12321),m=n(2180),p=n(33745),y=n(54438),E=n(7901);function v(C,I){if(1&C&&(y.j41(0,"div",1),y.EFF(1),y.nI1(2,"async"),y.k0s()),2&C){const D=y.XpG();y.Y8G("@fadeOut",void 0),y.R7$(),y.JRh(y.bMT(2,2,D.error))}}let O=(()=>{class C{constructor(D,R){this.router=D,this.store=R}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(f.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(R){return new(R||C)(y.rXU(E.Ix),y.rXU(t.il))}}static{this.\u0275cmp=y.VBU({type:C,selectors:[["ds-log-out"]],standalone:!0,features:[y.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["role","alert",1,"alert","alert-danger"],["role","menuitem",1,"btn","btn-lg","btn-primary","w-100",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(R,h){1&R&&(y.j41(0,"div",0),y.DNE(1,v,3,4,"div",1),y.nI1(2,"async"),y.j41(3,"button",2),y.nI1(4,"dsBrowserOnly"),y.bIt("click",function(){return h.logOut()}),y.nrm(5,"i",3),y.EFF(6),y.nI1(7,"translate"),y.k0s()()),2&R&&(y.R7$(),y.vxM(y.bMT(2,3,h.error)?1:-1),y.R7$(2),y.BMQ("data-test",y.bMT(4,5,"logout-button")),y.R7$(3),y.SpI(" ",y.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.Jj,p.L,c.h,c.D9],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return C})()},66372:(U,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},19125:(U,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},10686:(U,b,n)=>{"use strict";n.d(b,{r:()=>i});var i=function(t){return t.COMMUNITY_PAGE="community-page",t.COLLECTION_PAGE="collection-page",t.ITEM_PAGE="item-page",t}(i||{})},77983:(U,b,n)=>{"use strict";n.d(b,{U:()=>K});var i=n(54438),t=n(84412),c=n(23294),e=n(25558),f=n(89777),m=n(96132),p=n(60177),y=n(7901),E=n(68018),v=n(19125);const C=z=>({disabled:z});let I=(()=>{class z{constructor(G){this.item=G}ngOnInit(){this.hasLink=(0,f.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(X,J){1&X&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(ne){return ne.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&X&&(i.Y8G("ngClass",i.eq3(9,C,!J.hasLink))("href",J.href,i.B4B)("title",i.bMT(1,5,J.item.text)),i.BMQ("aria-disabled",!J.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,J.item.text)))},dependencies:[p.YU,y.wQ,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();const R=z=>({disabled:z});let h=(()=>{class z{constructor(G,X){this.router=X,this.item=G}ngOnInit(){this.hasLink=(0,f.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(G){G.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),G.stopPropagation()}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"),i.rXU(y.Ix))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);","tabindex","0",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(X,J){1&X&&(i.j41(0,"a",0),i.bIt("click",function(ne){return ne.stopPropagation()})("keyup.space",function(ne){return J.navigate(ne)})("keydown.enter",function(ne){return J.navigate(ne)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&X&&(i.Y8G("ngClass",i.eq3(8,R,!J.hasLink||J.item.disabled))("routerLink",J.getRouterLink())("queryParams",J.item.queryParams),i.BMQ("aria-disabled",!J.hasLink||J.item.disabled)("data-test","link-menu-item."+J.item.text),i.R7$(),i.JRh(i.bMT(2,6,J.item.text)))},dependencies:[p.YU,y.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();function T(z,V){if(1&z){const G=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(J){i.eBV(G);const q=i.XpG();return i.Njj(q.activate(J))})("keyup.space",function(J){i.eBV(G);const q=i.XpG();return i.Njj(q.activate(J))})("keyup.enter",function(J){i.eBV(G);const q=i.XpG();return i.Njj(q.activate(J))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&z){const G=i.XpG();i.Y8G("title",i.bMT(1,3,G.item.text)),i.BMQ("data-test",G.item.text),i.R7$(2),i.JRh(i.bMT(3,5,G.item.text))}}function w(z,V){if(1&z&&(i.j41(0,"span",1),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&z){const G=i.XpG();i.BMQ("data-test",G.item.text),i.R7$(),i.JRh(i.bMT(2,2,G.item.text))}}let M=(()=>{class z{constructor(G){this.item=G}activate(G){this.item.disabled||(G.preventDefault(),this.item.function(),G.stopPropagation())}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"title"],[1,"nav-item","nav-link","disabled"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"]],template:function(X,J){1&X&&i.DNE(0,T,4,7,"a",0)(1,w,3,4,"span",1),2&X&&(i.vxM(J.item.disabled?-1:0),i.R7$(),i.vxM(J.item.disabled?1:-1))},dependencies:[y.wQ,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return z})(),N=(()=>{class z{constructor(G){this.item=G}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[["tabindex","0","role","button",1,"ds-menu-item"]],template:function(X,J){1&X&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&X&&(i.AVh("disabled",J.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,J.item.text)))},dependencies:[E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();const j=new Map;j.set(v.x.EXTERNAL,I),j.set(v.x.LINK,h),j.set(v.x.ONCLICK,M),j.set(v.x.TEXT,N);let K=(()=>{class z{constructor(G,X){this.menuService=G,this.injector=X,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,c.F)()).subscribe(G=>{this.active$.value!==G&&this.active$.next(G)})),this.initializeInjectorData()}toggleSection(G){G.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(G,X=!0){X&&G.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(G,X=!0){X&&G.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(G=>G)).subscribe(G=>{this.updateSectionMap(G.id,this.getItemModelInjector(G.model),this.getMenuItemComponent(G.model))}))}updateSectionMap(G,X,J){const q=this.sectionMap$.getValue();q.set(G,{injector:X,component:J}),this.sectionMap$.next(q)}getMenuItemComponent(G){return(0,f.Tn)(G)&&(G=this.section.model),function k(z){return j.get(z)}(G.type)}getItemModelInjector(G){return(0,f.Tn)(G)&&(G=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>G,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(G=>(0,f.a4)(G)).forEach(G=>G.unsubscribe())}static{this.\u0275fac=function(X){return new(X||z)(i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(X,J){},encapsulation:2})}}return z})()},25428:(U,b,n)=>{"use strict";n.d(b,{C0:()=>R,F$:()=>c,FH:()=>D,Hw:()=>I,JG:()=>m,JK:()=>y,PM:()=>v,YN:()=>C,cf:()=>h,eq:()=>e,ie:()=>p,j$:()=>S,jZ:()=>t,oh:()=>E,sP:()=>f,tU:()=>T});var i=n(6800);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class c{constructor(M){this.type=t.COLLAPSE_MENU,this.menuID=M}}class e{constructor(M){this.type=t.EXPAND_MENU,this.menuID=M}}class f{constructor(M){this.type=t.TOGGLE_MENU,this.menuID=M}}class m{constructor(M){this.type=t.SHOW_MENU,this.menuID=M}}class p{constructor(M){this.type=t.HIDE_MENU,this.menuID=M}}class y{constructor(M){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=M}}class E{constructor(M){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=M}}class v{constructor(){this.type=t.REINIT_MENUS}}class O{constructor(M,L){this.menuID=M,this.id=L}}class C extends O{constructor(M,L){super(M,L.id),this.type=t.ADD_SECTION,this.section=L}}class I extends O{constructor(M,L){super(M,L),this.type=t.REMOVE_SECTION}}class D extends O{constructor(M,L){super(M,L),this.type=t.HIDE_SECTION}}class R extends O{constructor(M,L){super(M,L),this.type=t.SHOW_SECTION}}class h extends O{constructor(M,L){super(M,L),this.type=t.ACTIVATE_SECTION}}class S extends O{constructor(M,L){super(M,L),this.type=t.DEACTIVATE_SECTION}}class T extends O{constructor(M,L){super(M,L),this.type=t.TOGGLE_ACTIVE_SECTION}}},15181:(U,b,n)=>{"use strict";n.d(b,{Z:()=>be});var i=n(54438),t=n(84412),c=n(25558),e=n(96354),f=n(23294),m=n(11873),p=n(89777),y=n(73838),E=n(96132),v=n(581),O=n(18705),C=n(29710);n(5259);const D=["*"];function R(me,re){}let h=(()=>{class me extends C.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(Z){return n(88289)(`./${Z}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,5259))}static{this.\u0275fac=(()=>{let Z;return function(ce){return(Z||(Z=i.xGo(me)))(ce||me)}})()}static{this.\u0275cmp=i.VBU({type:me,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:D,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(le,ce){1&le&&(i.NAR(),i.DNE(0,R,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return me})();var S=n(65709),T=n(60177),w=n(58003),M=n(68018),L=n(66372),N=n(77983),j=n(79104),$=n(7901);function k(me,re){if(1&me&&i.nrm(0,"i",9),2&me){const Z=i.XpG(2).$implicit;i.ZvI("fas fa-",Z.icon," fa-fw")}}function K(me,re){1&me&&i.nrm(0,"i",8)}function z(me,re){if(1&me&&(i.j41(0,"div",5),i.DNE(1,k,1,3,"i",7)(2,K,1,0,"i",8),i.k0s()),2&me){const Z=i.XpG().$implicit;i.R7$(),i.vxM(Z.icon?1:2)}}function V(me,re){1&me&&i.eu8(0)}function G(me,re){if(1&me&&(i.j41(0,"li",4),i.DNE(1,z,3,1,"div",5),i.nI1(2,"async"),i.DNE(3,V,1,0,"ng-container",6),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&me){const Z=re.$implicit,le=i.XpG(2);i.R7$(),i.vxM(i.bMT(2,3,le.renderIcons$)?1:-1),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,le.sectionMap$).get(Z.id).component)("ngComponentOutletInjector",i.bMT(5,7,le.sectionMap$).get(Z.id).injector)}}function X(me,re){if(1&me&&(i.j41(0,"div",0)(1,"div",1),i.nI1(2,"translate"),i.j41(3,"button",2),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",3),i.Z7z(8,G,6,9,"li",4,i.fX1),i.nI1(10,"async"),i.k0s()()()),2&me){const Z=i.XpG();i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,7,Z.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,9,Z.itemModel.text))("dsBtnDisabled",null==Z.section.model?null:Z.section.model.disabled),i.BMQ("aria-label",i.bMT(5,11,Z.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",Z.section.icon," fa-fw"),i.R7$(2),i.Dyx(i.bMT(10,13,Z.subSections$))}}let J=(()=>{class me extends N.U{constructor(Z,le,ce,ve){super(le,ce),this.section=Z,this.menuService=le,this.injector=ce,this.router=ve,this.menuID=L.D.DSO_EDIT,this.itemModel=Z.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,e.T)(Z=>Z.some(le=>(0,p.a4)(le.icon)))),this.hasSubSections$=this.subSections$.pipe((0,e.T)(Z=>(0,p.hj)(Z)))}static{this.\u0275fac=function(le){return new(le||me)(i.rXU("sectionDataProvider"),i.rXU(E.$),i.rXU(i.zZn),i.rXU($.Ix))}}static{this.\u0275cmp=i.VBU({type:me,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:3,consts:[["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","","role","menuitem","tabindex","0",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","","role","menu",1,"dso-edit-menu-dropdown","p-1"],["role","presentation",1,"nav-item","nav-link","d-flex","flex-row","p-2"],[1,"me-2"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",3,"class"],["aria-hidden","true",1,"fas","fa-fw"],["aria-hidden","true"]],template:function(le,ce){1&le&&(i.DNE(0,X,11,15,"div",0),i.nI1(1,"async")),2&le&&i.vxM(i.bMT(1,1,ce.hasSubSections$)?0:-1)},dependencies:[T.Jj,j.A,w.zH,w.tg,w.do,w.U0,w.n8,w.md,T.OI,M.h,M.D9],styles:['.btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]{overflow:hidden}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-style:solid;border-width:12px 12px 0 0;border-color:rgba(0,0,0,0) #627a91 rgba(0,0,0,0) rgba(0,0,0,0);border-bottom-right-radius:var(--bs-btn-border-radius-sm);right:0;bottom:0;position:absolute;overflow:hidden}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}']})}}return me})();function q(me,re){if(1&me&&(i.j41(0,"a",1),i.nrm(1,"i",3),i.j41(2,"span",4),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&me){const Z=i.XpG(2);i.Y8G("routerLink",Z.itemModel.link),i.R7$(),i.ZvI("fas fa-",Z.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,Z.itemModel.text))}}function ne(me,re){if(1&me&&(i.j41(0,"button",2),i.nrm(1,"i",3),i.j41(2,"span",4),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&me){const Z=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",Z.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,Z.itemModel.text))}}function ee(me,re){if(1&me&&(i.j41(0,"div",0),i.nI1(1,"translate"),i.DNE(2,q,5,7,"a",1)(3,ne,5,7,"button",2),i.k0s()),2&me){const Z=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,Z.itemModel.text)),i.R7$(2),i.vxM(Z.section.model.disabled?-1:2),i.R7$(),i.vxM(Z.section.model.disabled?3:-1)}}function fe(me,re){if(1&me){const Z=i.RV6();i.j41(0,"div",0),i.nI1(1,"translate"),i.j41(2,"button",5),i.bIt("click",function(ce){i.eBV(Z);const ve=i.XpG();return i.Njj(ve.activate(ce))}),i.nrm(3,"i",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&me){const Z=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,Z.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",Z.section.model.disabled),i.R7$(),i.ZvI("fas fa-",Z.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,Z.itemModel.text))}}let ye=(()=>{class me extends N.U{constructor(Z,le,ce){super(le,ce),this.section=Z,this.menuService=le,this.injector=ce,this.menuID=L.D.DSO_EDIT,this.itemModel=Z.model}ngOnInit(){this.hasLink=(0,p.hj)(this.itemModel?.link),this.canActivate=(0,p.hj)(this.itemModel?.function),super.ngOnInit()}activate(Z){Z.preventDefault(),this.itemModel.disabled||this.itemModel.function(),Z.stopPropagation()}static{this.\u0275fac=function(le){return new(le||me)(i.rXU("sectionDataProvider"),i.rXU(E.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:me,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[[1,"dso-button-menu","mb-1",3,"ngbTooltip"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(le,ce){1&le&&i.DNE(0,ee,4,5,"div",0)(1,fe,7,10,"div",0),2&le&&(i.vxM(ce.canActivate?-1:0),i.R7$(),i.vxM(ce.canActivate?1:-1))},dependencies:[j.A,w.n8,w.md,$.Wk,M.h,M.D9],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return me})();var oe=n(21193);const ue=new Map;ue.set(L.D.ADMIN,new Map),ue.get(L.D.ADMIN).set(!1,new Map),ue.get(L.D.ADMIN).get(!1).set(oe.SS,v.g),ue.get(L.D.ADMIN).set(!0,new Map),ue.get(L.D.ADMIN).get(!0).set(oe.SS,O.W),ue.set(L.D.PUBLIC,new Map),ue.get(L.D.PUBLIC).set(!1,new Map),ue.get(L.D.PUBLIC).get(!1).set(oe.SS,S.X),ue.get(L.D.PUBLIC).set(!0,new Map),ue.get(L.D.PUBLIC).get(!0).set(oe.SS,h),ue.set(L.D.DSO_EDIT,new Map),ue.get(L.D.DSO_EDIT).set(!1,new Map),ue.get(L.D.DSO_EDIT).get(!1).set(oe.SS,ye),ue.get(L.D.DSO_EDIT).set(!0,new Map),ue.get(L.D.DSO_EDIT).get(!0).set(oe.SS,J);let be=(()=>{class me{constructor(Z,le,ce,ve,ze){this.menuService=Z,this.injector=le,this.authorizationService=ce,this.route=ve,this.themeService=ze,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,c.n)(Z=>Z),(0,p.VT)(),(0,c.n)(Z=>this.getSectionComponent(Z).pipe((0,e.T)(le=>({section:Z,component:le})))),(0,f.F)((Z,le)=>Z.section.id===le.section.id&&Z.component.prototype===le.component.prototype)).subscribe(({section:Z,component:le})=>{const ce=this.sectionMap$.getValue();ce.set(Z.id,{injector:this.getSectionDataInjector(Z),component:le}),this.sectionMap$.next(ce)}))}getActivatedRoute(Z){return Z.children.length>0?this.getActivatedRoute(Z.firstChild):Z}toggle(Z){Z.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(Z){Z.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(Z){Z.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(Z){Z.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(Z){Z.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(Z,le){(0,p.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(Z,le)}getSectionComponent(Z){return this.menuService.hasSubSections(this.menuID,Z.id).pipe((0,e.T)(le=>function se(me,re,Z){const le=ue.get(me).get(re).get(Z);return(0,p.a4)(le)?le:ue.get(me).get(re).get(oe.SS)}(this.menuID,le||Z.alwaysRenderExpandable,this.themeService.getThemeName())))}getSectionDataInjector(Z){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>Z,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(Z=>(0,p.a4)(Z)).forEach(Z=>Z.unsubscribe())}static{this.\u0275fac=function(le){return new(le||me)(i.rXU(E.$),i.rXU(i.zZn),i.rXU(m.AuthorizationDataService),i.rXU($.nX),i.rXU(y.Fs))}}static{this.\u0275cmp=i.VBU({type:me,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(le,ce){},encapsulation:2})}}return me})()},96132:(U,b,n)=>{"use strict";n.d(b,{$:()=>w});var i=n(59640),t=n(84572),c=n(96354),e=n(23294),f=n(25558),m=n(23679),p=n(34068),y=n(89777),E=n(25428),v=n(54438),O=n(7901);function C(M,L){return(0,i.Mz)(L,N=>{if((0,y.a4)(N))return N[M]})}const I=M=>M.menus,D=M=>(0,m.pc)(M,I),R=M=>(0,y.a4)(M)?M.sections:{},S=M=>M.sectionToSubsectionIndex,T=M=>C(M,S);let w=(()=>{class M{constructor(N,j,$){this.store=N,this.route=j,this.router=$}getMenu(N){return this.store.pipe((0,i.Lt)(D(N)))}getMenuTopSections(N,j=!0){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(R),(0,c.T)($=>Object.values($)),(0,e.F)((0,p.W2)()),(0,c.T)($=>$.filter(k=>(0,y.Tn)(k.parentID)).filter(k=>!j||k.visible)))}getSubSectionsByParentID(N,j,$=!0){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(T(j)),(0,c.T)(k=>(0,y.hj)(k)?k:[]),(0,f.n)(k=>(0,t.z)(k.map(K=>this.getMenuSection(N,K)))),(0,c.T)(k=>k.filter(K=>(0,y.a4)(K)&&(!$||K.visible))))}hasSubSections(N,j){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(T(j)),(0,c.T)($=>(0,y.hj)($)))}getMenuSection(N,j){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)((M=>C(M,R))(j)))}getNonPersistentMenuSections(N){return this.getMenu(N).pipe((0,c.T)(j=>Object.values(j.sections).filter($=>!$.shouldPersistOnRouteChange)))}addSection(N,j){this.store.dispatch(new E.YN(N,j))}removeSection(N,j){this.store.dispatch(new E.Hw(N,j))}isMenuCollapsed(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,y.a4)(j)?j.collapsed:void 0))}isMenuPreviewCollapsed(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,y.a4)(j)?j.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(N){return(0,t.z)([this.isMenuVisible(N),this.menuHasVisibleSections(N)]).pipe((0,c.T)(([j,$])=>j&&$))}isMenuVisible(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,y.a4)(j)?j.visible:void 0))}menuHasVisibleSections(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,y.a4)(j)?Object.values(j.sections).some($=>$.visible&&void 0===$.parentID):void 0))}expandMenu(N){this.store.dispatch(new E.eq(N))}collapseMenu(N){this.store.dispatch(new E.F$(N))}expandMenuPreview(N){this.store.dispatch(new E.oh(N))}collapseMenuPreview(N){this.store.dispatch(new E.JK(N))}toggleMenu(N){this.store.dispatch(new E.sP(N))}showMenu(N){this.store.dispatch(new E.JG(N))}showMenuSection(N,j){this.store.dispatch(new E.C0(N,j))}hideMenu(N){this.store.dispatch(new E.ie(N))}hideMenuSection(N,j){this.store.dispatch(new E.FH(N,j))}toggleActiveSection(N,j){this.store.dispatch(new E.tU(N,j))}activateSection(N,j){this.store.dispatch(new E.cf(N,j))}deactivateSection(N,j){this.store.dispatch(new E.j$(N,j))}isSectionActive(N,j){return this.getMenuSection(N,j).pipe((0,y.Az)(),(0,c.T)($=>$.active))}isSectionVisible(N,j){return this.getMenuSection(N,j).pipe((0,c.T)($=>$.visible))}static{this.\u0275fac=function(j){return new(j||M)(v.KVO(i.il),v.KVO(O.nX),v.KVO(O.Ix))}}static{this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},72862:(U,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(54438);const t=["*"];function c(f,m){if(1&f&&(i.j41(0,"h2",2),i.EFF(1),i.k0s()),2&f){const p=i.XpG();i.R7$(),i.JRh(p.label)}}let e=(()=>{class f{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(y){return new(y||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[i.aNF],ngContentSelectors:t,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],[1,"simple-view-element-header"],[1,"simple-view-element-body"]],template:function(y,E){if(1&y&&(i.NAR(),i.j41(0,"div",1),i.DNE(1,c,2,1,"h2",2),i.j41(2,"div",3,0),i.SdG(4),i.k0s()()),2&y){const v=i.sdS(3);i.AVh("d-none",E.hideIfNoTextContent&&0===v.textContent.trim().length),i.R7$(),i.vxM(E.label?1:-1)}},styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return f})()},18040:(U,b,n)=>{"use strict";n.d(b,{V:()=>p}),n(40940);var t=n(43764),c=n(73838),e=n(85526),f=n(54438);function m(y,E){}let p=(()=>{class y extends t.e{constructor(v,O){super(v),this.themeService=v,this.getMetadataRepresentationComponent=O,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(O){return new(O||y)(f.rXU(c.Fs),f.rXU(e.RM))}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(O,C){1&O&&f.DNE(0,m,0,0,"ng-template",1,0,f.C5r)},encapsulation:2})}}return y})()},85526:(U,b,n)=>{"use strict";n.d(b,{RM:()=>ze});var i=n(54438),t=n(83808),c=n(7901),e=n(58003),m=(n(66290),n(92767));n(40940);let y=(()=>{class De{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(wt){return new(wt||De)}}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(wt,ot){},encapsulation:2})}}return De})(),E=(()=>{class De extends y{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(wt,ot){},encapsulation:2})}}return De})();var v=n(24100);const O=De=>[De],C=()=>["dc.description"];function I(De,ut){if(1&De&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&De){const Ge=i.XpG();i.R7$(2),i.Y8G("innerHTML",Ge.mdRepresentation.firstMetadataValue(i.lJ4(1,C)),i.npT)}}let D=(()=>{class De extends E{static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(wt,ot){if(1&wt&&(i.DNE(0,I,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&wt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",ot.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,O,ot.itemPageRoute))("innerHTML",ot.mdRepresentation.getValue(),i.npT)("ngbTooltip",ot.mdRepresentation.allMetadata(i.lJ4(6,C)).length>0?Tt:null)}},dependencies:[e.n8,e.md,c.Wk,v.d],encapsulation:2})}}return De})();var R=n(60177),S=(n(54095),n(68018));const T=De=>({"not-authenticated":De});function w(De,ut){if(1&De&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.R7$(),i.JRh(Ge.orcidTooltip)}}let M=(()=>{class De{constructor(Ge){this.translateService=Ge}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(wt){return new(wt||De)(i.rXU(S.c$))}}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(wt,ot){if(1&wt&&(i.nrm(0,"img",1),i.DNE(1,w,2,1,"ng-template",null,0,i.C5r)),2&wt){const Tt=i.sdS(2);i.Mz_("alt","ORCID ",ot.orcidTooltip,""),i.Y8G("ngbTooltip",Tt)("ngClass",i.eq3(4,T,!ot.authenticatedTimestamp))}},dependencies:[e.n8,e.md,R.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return De})();const L=De=>[De],N=()=>["person.jobTitle"];function j(De,ut){1&De&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function $(De,ut){if(1&De&&(i.j41(0,"span"),i.nrm(1,"span",6),i.DNE(2,j,2,0,"span"),i.k0s()),2&De){const Ge=ut.$implicit,wt=ut.$index,ot=ut.$count;i.R7$(),i.Y8G("innerHTML",Ge,i.npT),i.R7$(),i.vxM(wt!==ot-1?2:-1)}}function k(De,ut){if(1&De&&(i.j41(0,"span",5),i.Z7z(1,$,3,2,"span",null,i.fX1),i.k0s()),2&De){const Ge=i.XpG(2);i.R7$(),i.Dyx(Ge.mdRepresentation.allMetadataValues(i.lJ4(0,N)))}}function K(De,ut){if(1&De&&(i.j41(0,"span",4),i.DNE(1,k,3,1,"span",5),i.k0s()),2&De){const Ge=i.XpG();i.R7$(),i.vxM(Ge.mdRepresentation.allMetadata(i.lJ4(1,N)).length>0?1:-1)}}function z(De,ut){if(1&De&&i.nrm(0,"ds-orcid-badge-and-tooltip",3),2&De){const Ge=i.XpG();i.Y8G("orcid",Ge.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",Ge.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let V=(()=>{class De extends E{static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"ms-1",3,"orcid","authenticatedTimestamp"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(wt,ot){if(1&wt&&(i.DNE(0,K,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,z,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&wt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",ot.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,L,ot.itemPageRoute))("innerHTML",ot.mdRepresentation.getValue(),i.npT)("ngbTooltip",ot.mdRepresentation.allMetadata(i.lJ4(7,N)).length>0?Tt:null),i.R7$(),i.vxM(ot.mdRepresentation.firstMetadata("person.identifier.orcid")?4:-1)}},dependencies:[e.n8,e.md,M,c.Wk,v.d],encapsulation:2})}}return De})();var G=n(43446);const X=De=>[De];function J(De,ut){if(1&De&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&De){const Ge=i.XpG();i.R7$(2),i.Y8G("innerHTML",Ge.dsoNameService.getName(Ge.mdRepresentation),i.npT)}}let q=(()=>{class De extends E{constructor(Ge){super(),this.dsoNameService=Ge}static{this.\u0275fac=function(wt){return new(wt||De)(i.rXU(G.f))}}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(wt,ot){if(1&wt&&(i.DNE(0,J,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&wt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",ot.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,X,ot.itemPageRoute))("innerHTML",ot.dsoNameService.getName(ot.mdRepresentation),i.npT)("ngbTooltip",ot.dsoNameService.getName(ot.mdRepresentation).length>0?Tt:null)}},dependencies:[e.n8,e.md,c.Wk,v.d],encapsulation:2})}}return De})();var ne=n(89777),ee=n(21193),fe=n(61806);const ye=De=>["/browse/",De];function oe(De,ut){if(1&De&&(i.j41(0,"a",0),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.Y8G("routerLink",i.eq3(3,ye,Ge.mdRepresentation.browseDefinition.id))("queryParams",Ge.getQueryParams()),i.R7$(),i.SpI(" ",Ge.mdRepresentation.getValue()," ")}}let ue=(()=>{class De extends y{getQueryParams(){const Ge={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===fe.o.value?{value:this.mdRepresentation.getValue()}:Ge}static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(wt,ot){1&wt&&(i.j41(0,"div"),i.DNE(1,oe,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&wt&&(i.R7$(),i.vxM("browse_link"===ot.mdRepresentation.representationType?1:-1))},dependencies:[c.Wk],encapsulation:2})}}return De})();var te=n(19192),se=n(8447);let be=(()=>{class De extends y{constructor(){super(...arguments),this.viewMode=te.n.ListElement}static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(wt,ot){1&wt&&i.nrm(0,"ds-listable-object-component-loader",0),2&wt&&i.Y8G("object",ot.mdRepresentation)("viewMode",ot.viewMode)},dependencies:[se.v],encapsulation:2})}}return De})();const me=De=>["/browse/",De];function re(De,ut){if(1&De&&(i.j41(0,"span",0),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.R7$(),i.SpI(" ",Ge.mdRepresentation.getValue()," ")}}function Z(De,ut){if(1&De&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.Y8G("href",Ge.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",Ge.mdRepresentation.getValue()," ")}}function le(De,ut){if(1&De&&(i.j41(0,"span",0),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.R7$(),i.JRh(Ge.mdRepresentation.getValue())}}function ce(De,ut){if(1&De&&(i.j41(0,"a",2),i.EFF(1),i.k0s()),2&De){const Ge=i.XpG();i.Y8G("routerLink",i.eq3(3,me,Ge.mdRepresentation.browseDefinition.id))("queryParams",Ge.getQueryParams()),i.R7$(),i.SpI(" ",Ge.mdRepresentation.getValue()," ")}}let ve=(()=>{class De extends y{getQueryParams(){const Ge={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===fe.o.value?{value:this.mdRepresentation.getValue()}:Ge}static{this.\u0275fac=(()=>{let Ge;return function(ot){return(Ge||(Ge=i.xGo(De)))(ot||De)}})()}static{this.\u0275cmp=i.VBU({type:De,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[[1,"dont-break-out"],["target","_blank","role","link","tabindex","0",1,"dont-break-out",3,"href"],["role","link","tabindex","0",1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(wt,ot){1&wt&&(i.j41(0,"div"),i.DNE(1,re,2,1,"span",0)(2,Z,2,2,"a",1)(3,le,2,1,"span",0)(4,ce,2,5,"a",2),i.k0s()),2&wt&&(i.R7$(),i.vxM("plain_text"!==ot.mdRepresentation.representationType||ot.isLink()?-1:1),i.R7$(),i.vxM("plain_text"===ot.mdRepresentation.representationType&&ot.isLink()?2:-1),i.R7$(),i.vxM("authority_controlled"===ot.mdRepresentation.representationType?3:-1),i.R7$(),i.vxM("browse_link"===ot.mdRepresentation.representationType?4:-1))},dependencies:[c.Wk],encapsulation:2})}}return De})();const ze=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>We}),Se="Publication",et=t.d.PlainText,$e=new Map([["Publication",new Map([[t.d.PlainText,new Map([[ee.A2,new Map([[ee.SS,ve]])]])],[t.d.AuthorityControlled,new Map([[ee.A2,new Map([[ee.SS,ve]])]])],[t.d.BrowseLink,new Map([[ee.A2,new Map([[ee.SS,ue]])]])],[t.d.Item,new Map([[ee.A2,new Map([[ee.SS,be]])]])]])],["Person",new Map([[t.d.Item,new Map([[ee.A2,new Map([[ee.SS,V]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[ee.A2,new Map([[ee.SS,D]])]])]])],["Project",new Map([[t.d.Item,new Map([[ee.A2,new Map([[ee.SS,q]])]])]])]]);function We(De,ut,Ge=ee.A2,wt=ee.SS){const ot=$e.get(De);if((0,ne.a4)(ot)){const Tt=ot.get(ut);if((0,ne.a4)(Tt)){const Ee=Tt.get(Ge);if((0,ne.a4)(Ee)){const je=(0,ee.eW)(Ee,wt);if((0,ne.a4)(je))return je;if((0,ne.a4)(Ee.get(ee.SS)))return Ee.get(ee.SS)}if((0,ne.a4)(Tt.get(ee.A2))&&(0,ne.a4)(Tt.get(ee.A2).get(ee.SS)))return Tt.get(ee.A2).get(ee.SS)}if((0,ne.a4)(ot.get(et))&&(0,ne.a4)(ot.get(et).get(ee.A2))&&(0,ne.a4)(ot.get(et).get(ee.A2).get(ee.SS)))return ot.get(et).get(ee.A2).get(ee.SS)}return $e.get(Se).get(et).get(ee.A2).get(ee.SS)}},54498:(U,b,n)=>{"use strict";n.d(b,{SU:()=>Ai,u3:()=>Ri});var i=n(60177),t=n(89417),c=n(58003),e=n(68018),f=n(94549),m=n(50186),p=n(96354),y=n(3601),E=n(14597),v=n(87507),O=n(4093),C=n(80189),I=n(25580),D=n(9847),R=n(68174),h=n(54438),S=n(7901);let T=(()=>{class qt extends R.${constructor(Jt,Pt,Fe,Ye,_t,Qt,En,Mn,Ln,Yn){super(Jt,Pt,Fe,Ye,_t,Qt,Ln,Yn),this.route=Jt,this.workflowItemService=Pt,this.router=Fe,this.routeService=Ye,this.notificationsService=_t,this.translationService=Qt,this.workflowActionService=En,this.claimedTaskDataService=Mn,this.requestService=Ln,this.location=Yn}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,O.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(Jt=>{if(Jt){const Pt=this.translationService.get("workflow-item."+this.type+".notification.success.title"),Fe=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(Pt,Fe),this.previousPage()}else{const Pt=this.translationService.get("workflow-item."+this.type+".notification.error.title"),Fe=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(Pt,Fe)}})}sendRequest(Jt){return this.claimedTaskDataService.submitTask(Jt,this.createBody()).pipe((0,p.T)(Pt=>Pt.hasSucceeded))}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(S.nX),h.rXU(C.WorkflowItemDataService),h.rXU(S.Ix),h.rXU(v.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(E.WorkflowActionDataService),h.rXU(I.ClaimedTaskDataService),h.rXU(y.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-workflow-action"]],standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(Pt,Fe){},encapsulation:2})}}return qt})();const w=qt=>({"is-invalid":qt}),M=qt=>({"text-danger":qt});function L(qt,Si){1&qt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function N(qt,Si){1&qt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function j(qt,Si){1&qt&&(h.j41(0,"span"),h.EFF(1,"*"),h.k0s())}function $(qt,Si){1&qt&&(h.j41(0,"small",10),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function k(qt,Si){1&qt&&(h.j41(0,"small",10),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function K(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"form",6),h.bIt("ngSubmit",function(){h.eBV(Jt);const Fe=h.XpG(2);return h.Njj(Fe.performAction())}),h.j41(1,"div",7)(2,"label",8)(3,"span"),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.DNE(6,j,2,0,"span"),h.k0s(),h.j41(7,"textarea",9),h.EFF(8,"        "),h.k0s(),h.DNE(9,$,3,3,"small",10),h.k0s(),h.j41(10,"div",7)(11,"label",11),h.EFF(12),h.nI1(13,"translate"),h.k0s(),h.j41(14,"div",12),h.nrm(15,"ngb-rating",13),h.k0s(),h.DNE(16,k,3,3,"small",10),h.k0s()()}if(2&qt){const Jt=h.XpG().ngVar,Pt=h.XpG();h.Y8G("formGroup",Pt.ratingForm),h.R7$(4),h.JRh(h.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),h.R7$(2),h.vxM(null!=Jt&&Jt.descriptionRequired?6:-1),h.R7$(),h.Y8G("ngClass",h.eq3(14,w,Pt.isInvalid("review")))("required",null==Jt?null:Jt.descriptionRequired),h.R7$(2),h.vxM(Pt.isInvalid("review")?9:-1),h.R7$(3),h.SpI(" ",h.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),h.R7$(3),h.Y8G("max",null==Jt?null:Jt.maxValue)("ngClass",h.eq3(16,M,Pt.isInvalid("rating"))),h.R7$(),h.vxM(Pt.isInvalid("rating")?16:-1)}}function z(qt,Si){if(1&qt&&(h.nrm(0,"ds-modify-item-overview",2),h.nI1(1,"async")),2&qt){const Jt=h.XpG(2);h.Y8G("item",h.bMT(1,1,Jt.item$))}}function V(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"div"),h.DNE(1,L,3,3,"p")(2,N,3,3,"p")(3,K,17,18,"form",1)(4,z,2,3,"ds-modify-item-overview",2),h.nI1(5,"async"),h.j41(6,"div",3)(7,"button",4),h.bIt("click",function(){h.eBV(Jt);const Fe=h.XpG();return h.Njj(Fe.previousPage())}),h.EFF(8),h.nI1(9,"translate"),h.k0s(),h.j41(10,"button",5),h.bIt("click",function(){h.eBV(Jt);const Fe=h.XpG();return h.Njj(Fe.performAction())}),h.EFF(11),h.nI1(12,"translate"),h.k0s()()()}if(2&qt){const Jt=Si.ngVar,Pt=h.XpG();h.R7$(),h.vxM(null!=Jt&&Jt.descriptionRequired?1:-1),h.R7$(),h.vxM(null!=Jt&&Jt.descriptionRequired?-1:2),h.R7$(),h.vxM(Pt.ratingForm?3:-1),h.R7$(),h.vxM(h.bMT(5,6,Pt.item$)?4:-1),h.R7$(4),h.SpI(" ",h.bMT(9,8,"workflow-item."+Pt.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(12,10,"workflow-item."+Pt.getType()+".button.confirm")," ")}}const G="submit_score",X="scorereviewaction";let J=(()=>{class qt extends T{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const Jt={[G]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const Pt=this.ratingForm.get("review").value;Object.assign(Jt,{review:Pt})}return Jt}getType(){return X}getAdvancedInfo(Jt){return Jt?Jt.advancedInfo[0]:null}isInvalid(Jt){return this.ratingForm.get(Jt).touched&&!this.ratingForm.get(Jt).valid}static{this.\u0275fac=(()=>{let Jt;return function(Fe){return(Jt||(Jt=h.xGo(qt)))(Fe||qt)}})()}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"formGroup"],[3,"item"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],[1,"invalid-feedback","d-block"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"]],template:function(Pt,Fe){1&Pt&&(h.DNE(0,V,13,12,"div",0),h.nI1(1,"async")),2&Pt&&h.Y8G("ngVar",Fe.getAdvancedInfo(h.bMT(1,1,Fe.workflowAction$)))},dependencies:[i.Jj,f.W,c.Ny,c.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,e.h,e.D9,m.r]})}}return qt})();var q=n(89777),ne=n(7673),ee=n(68164),fe=n(43446),ye=n(58956),oe=n(13817),ue=n(2086),te=n(23681),se=n(31),be=n(79104),me=n(32413),re=n(2175);const Z=()=>["top","right","bottom"],le=qt=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:qt}),ce=qt=>({name:qt}),ve=qt=>["btn btn-sm",qt];function ze(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Jt);const Fe=h.XpG().$implicit,Ye=h.XpG(2);return h.Njj(Ye.deleteMemberFromGroup(Fe.eperson))}),h.nrm(2,"i",21),h.k0s()}if(2&qt){const Jt=h.XpG().$implicit,Pt=h.XpG(2);h.FS9("title",h.i5U(1,4,Pt.messagePrefix+".table.edit.buttons.remove",h.eq3(7,ce,Pt.dsoNameService.getName(Jt.eperson)))),h.Y8G("dsBtnDisabled",Pt.actionConfig.remove.disabled)("ngClass",h.eq3(9,ve,Pt.actionConfig.remove.css)),h.R7$(2),h.Y8G("ngClass",Pt.actionConfig.remove.icon)}}function Se(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Jt);const Fe=h.XpG().$implicit,Ye=h.XpG(2);return h.Njj(Ye.addMemberToGroup(Fe.eperson))}),h.nrm(2,"i",21),h.k0s()}if(2&qt){const Jt=h.XpG().$implicit,Pt=h.XpG(2);h.FS9("title",h.i5U(1,4,Pt.messagePrefix+".table.edit.buttons.add",h.eq3(7,ce,Pt.dsoNameService.getName(Jt.eperson)))),h.Y8G("dsBtnDisabled",Pt.actionConfig.add.disabled)("ngClass",h.eq3(9,ve,Pt.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",Pt.actionConfig.add.icon)}}function et(qt,Si){if(1&qt&&(h.j41(0,"tr")(1,"td",16),h.EFF(2),h.k0s(),h.j41(3,"td",16)(4,"a",17),h.EFF(5),h.k0s()(),h.j41(6,"td",16),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",16)(13,"div",18),h.DNE(14,ze,3,11,"button",19)(15,Se,3,11,"button",19),h.k0s()()()),2&qt){const Jt=Si.$implicit,Pt=h.XpG(2);h.R7$(2),h.JRh(Jt.eperson.id),h.R7$(2),h.Y8G("routerLink",Pt.getEPersonEditRoute(Jt.eperson.id)),h.R7$(),h.SpI(" ",Pt.dsoNameService.getName(Jt.eperson)," "),h.R7$(2),h.Lme(" ",h.bMT(8,9,Pt.messagePrefix+".table.email"),": ",Jt.eperson.email?Jt.eperson.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,11,Pt.messagePrefix+".table.netid"),": ",Jt.eperson.netid?Jt.eperson.netid:"-"," "),h.R7$(4),h.vxM(Jt.ableToDelete?14:-1),h.R7$(),h.vxM(Jt.ableToDelete?-1:15)}}function $e(qt,Si){if(1&qt&&(h.j41(0,"ds-pagination",1),h.nI1(1,"async"),h.j41(2,"div",13)(3,"table",14)(4,"thead")(5,"tr")(6,"th",15),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",15),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",15),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",16),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.Z7z(19,et,16,13,"tr",null,h.fX1),h.nI1(21,"async"),h.k0s()()()()),2&qt){let Jt,Pt;const Fe=h.XpG();h.Y8G("paginationOptions",Fe.config)("collectionSize",null==(Jt=h.bMT(1,8,Fe.ePeopleMembersOfGroup))?null:Jt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,10,Fe.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,12,Fe.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,14,Fe.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,16,Fe.messagePrefix+".table.edit")),h.R7$(3),h.Dyx(null==(Pt=h.bMT(21,18,Fe.ePeopleMembersOfGroup))?null:Pt.page)}}function st(qt,Si){if(1&qt&&(h.j41(0,"div",2),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt){const Jt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Jt.messagePrefix+".no-members-yet")," ")}}function We(qt,Si){if(1&qt&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt){const Jt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Jt.messagePrefix+".search.head")," ")}}function De(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"tr")(1,"td",16),h.EFF(2),h.k0s(),h.j41(3,"td",16)(4,"a",17),h.EFF(5),h.k0s()(),h.j41(6,"td",16),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",16)(13,"div",18)(14,"button",20),h.nI1(15,"translate"),h.bIt("click",function(){const Fe=h.eBV(Jt).$implicit,Ye=h.XpG(2);return h.Njj(Ye.addMemberToGroup(Fe))}),h.nrm(16,"i",21),h.k0s()()()()}if(2&qt){const Jt=Si.$implicit,Pt=h.XpG(2);h.R7$(2),h.JRh(Jt.id),h.R7$(2),h.Y8G("routerLink",Pt.getEPersonEditRoute(Jt.id)),h.R7$(),h.SpI(" ",Pt.dsoNameService.getName(Jt)," "),h.R7$(2),h.Lme(" ",h.bMT(8,11,Pt.messagePrefix+".table.email"),": ",Jt.email?Jt.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,13,Pt.messagePrefix+".table.netid"),": ",Jt.netid?Jt.netid:"-"," "),h.R7$(4),h.FS9("title",h.i5U(15,15,Pt.messagePrefix+".table.edit.buttons.add",h.eq3(18,ce,Pt.dsoNameService.getName(Jt)))),h.Y8G("dsBtnDisabled",Pt.actionConfig.add.disabled)("ngClass",h.eq3(20,ve,Pt.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",Pt.actionConfig.add.icon)}}function ut(qt,Si){if(1&qt&&(h.j41(0,"ds-pagination",1),h.nI1(1,"async"),h.j41(2,"div",13)(3,"table",22)(4,"thead")(5,"tr")(6,"th",15),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",15),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",15),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",16),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.Z7z(19,De,17,22,"tr",null,h.fX1),h.nI1(21,"async"),h.k0s()()()()),2&qt){let Jt,Pt;const Fe=h.XpG();h.Y8G("paginationOptions",Fe.configSearch)("collectionSize",null==(Jt=h.bMT(1,8,Fe.ePeopleSearch))?null:Jt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,10,Fe.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,12,Fe.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,14,Fe.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,16,Fe.messagePrefix+".table.edit")),h.R7$(3),h.Dyx(null==(Pt=h.bMT(21,18,Fe.ePeopleSearch))?null:Pt.page)}}function Ge(qt,Si){if(1&qt&&(h.j41(0,"div",2),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt){const Jt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Jt.messagePrefix+".no-items")," ")}}var wt=function(qt){return qt[qt.ActiveGroup=0]="ActiveGroup",qt[qt.Members=1]="Members",qt[qt.SearchResults=2]="SearchResults",qt}(wt||{});let ot=(()=>{class qt extends ee.v{constructor(Jt,Pt,Fe,Ye,_t,Qt,En,Mn){super(Jt,Pt,Fe,Ye,_t,Qt,En,Mn),this.groupService=Jt,this.ePersonDataService=Pt,this.translateService=Fe,this.notificationsService=Ye,this.formBuilder=_t,this.paginationService=Qt,this.router=En,this.dsoNameService=Mn,this.selectedReviewersUpdated=new h.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(Jt){this.groupId=Jt.groupId.currentValue,Jt.groupId.currentValue!==Jt.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(wt.ActiveGroup),this.subs.set(wt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,O.ak)()).subscribe(Pt=>{null!=Pt&&(this.groupDataService.editGroup(Pt),this.groupBeingEdited=Pt,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(Jt){if(this.config.currentPage=Jt,null===this.groupId){const Pt=new ye.O;Pt.page=this.selectedReviewers.map(Fe=>Object.assign(new te.h,{eperson:Fe,ableToDelete:this.isMemberOfGroup(Fe)})),this.ePeopleMembersOfGroup.next(Pt)}else super.retrieveMembers(Jt)}isMemberOfGroup(Jt){return(0,ne.of)((0,q.a4)(this.selectedReviewers.find(Pt=>Pt.id===Jt.id)))}deleteMemberFromGroup(Jt){const Pt=this.selectedReviewers.findIndex(Fe=>Fe.id===Jt.id);-1!==Pt&&this.selectedReviewers.splice(Pt,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(Jt){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(Jt),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(ue.GroupDataService),h.rXU(oe.EPersonDataService),h.rXU(e.c$),h.rXU(D.I),h.rXU(t.ze),h.rXU(se.m),h.rXU(S.Ix),h.rXU(fe.f))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[h.Vt3,h.OA$,h.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(Pt,Fe){if(1&Pt&&(h.qex(0),h.j41(1,"h2",0),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"h3"),h.EFF(5),h.nI1(6,"translate"),h.k0s(),h.DNE(7,$e,22,20,"ds-pagination",1),h.nI1(8,"async"),h.DNE(9,st,3,3,"div",2),h.nI1(10,"async"),h.nI1(11,"async"),h.j41(12,"h3",3),h.DNE(13,We,3,3,"span",4),h.k0s(),h.j41(14,"form",5),h.bIt("ngSubmit",function(){return Fe.search(Fe.searchForm.value)}),h.j41(15,"div",6)(16,"div",7),h.nrm(17,"input",8),h.j41(18,"span",9)(19,"button",10),h.nrm(20,"i",11),h.EFF(21),h.nI1(22,"translate"),h.k0s()()()(),h.j41(23,"div")(24,"button",12),h.bIt("click",function(){return Fe.clearFormAndResetResult()}),h.EFF(25),h.nI1(26,"translate"),h.k0s()()(),h.DNE(27,ut,22,20,"ds-pagination",1),h.nI1(28,"async"),h.DNE(29,Ge,3,3,"div",2),h.nI1(30,"async"),h.bVm()),2&Pt){let Ye,_t,Qt,En;h.R7$(2),h.JRh(h.bMT(3,10,Fe.messagePrefix+".head")),h.R7$(3),h.JRh(h.bMT(6,12,Fe.messagePrefix+".headMembers")),h.R7$(2),h.vxM((null==(Ye=h.bMT(8,14,Fe.ePeopleMembersOfGroup))?null:Ye.totalElements)>0?7:-1),h.R7$(2),h.vxM(void 0===h.bMT(10,16,Fe.ePeopleMembersOfGroup)||0===(null==(_t=h.bMT(11,18,Fe.ePeopleMembersOfGroup))?null:_t.totalElements)?9:-1),h.R7$(4),h.Y8G("dsContextHelp",h.eq3(29,le,h.lJ4(28,Z))),h.R7$(),h.Y8G("formGroup",Fe.searchForm),h.R7$(7),h.SpI(" ",h.bMT(22,20,Fe.messagePrefix+".search.button"),""),h.R7$(4),h.JRh(h.bMT(26,22,Fe.messagePrefix+".button.see-all")),h.R7$(2),h.vxM((null==(Qt=h.bMT(28,24,Fe.ePeopleSearch))?null:Qt.totalElements)>0?27:-1),h.R7$(2),h.vxM(0===(null==(En=h.bMT(30,26,Fe.ePeopleSearch))?null:En.totalElements)&&Fe.searchDone?29:-1)}},dependencies:[i.Jj,be.A,me.G,i.YU,re.e,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,S.Wk,e.h,e.D9],encapsulation:2})}}return qt})();function Tt(qt,Si){1&qt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Ee(qt,Si){1&qt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function je(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"ds-reviewers-list",6),h.bIt("selectedReviewersUpdated",function(Fe){h.eBV(Jt);const Ye=h.XpG();return Ye.selectedReviewers=Fe,h.Njj(Ye.displayError=!1)}),h.k0s()}if(2&qt){const Jt=h.XpG();h.Y8G("actionConfig",Jt.reviewersListActionConfig)("groupId",Jt.groupId)("ngClass",Jt.groupId?"reviewersListWithGroup":"")("multipleReviewers",Jt.multipleReviewers)}}function mt(qt,Si){1&qt&&(h.j41(0,"small",1),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function vn(qt,Si){if(1&qt&&(h.nrm(0,"ds-modify-item-overview",2),h.nI1(1,"async")),2&qt){const Jt=h.XpG();h.Y8G("item",h.bMT(1,1,Jt.item$))}}const hn="submit_select_reviewer",jn="selectrevieweraction";let bt=(()=>{class qt extends T{constructor(Jt,Pt,Fe,Ye,_t,Qt,En,Mn,Ln,Yn){super(Jt,Pt,Fe,Ye,_t,Qt,En,Mn,Ln,Yn),this.route=Jt,this.workflowItemService=Pt,this.router=Fe,this.routeService=Ye,this.notificationsService=_t,this.translationService=Qt,this.workflowActionService=En,this.claimedTaskDataService=Mn,this.requestService=Ln,this.location=Yn,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(Jt=>Jt.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(Jt=>{this.groupId=Jt?Jt.advancedInfo[0].group:null}))}getType(){return jn}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[hn]:!0,eperson:this.selectedReviewers.map(Jt=>Jt.id)}}previousPage(){let Jt=this.previousQueryParameters;(0,q.a4)(Jt)||(Jt={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:Jt})}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(S.nX),h.rXU(C.WorkflowItemDataService),h.rXU(S.Ix),h.rXU(v.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(E.WorkflowActionDataService),h.rXU(I.ClaimedTaskDataService),h.rXU(y.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:14,vars:13,consts:[["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"div"),h.DNE(1,Tt,3,3,"p")(2,Ee,3,3,"p")(3,je,1,4,"ds-reviewers-list",0)(4,mt,3,3,"small",1)(5,vn,2,3,"ds-modify-item-overview",2),h.nI1(6,"async"),h.j41(7,"div",3)(8,"button",4),h.bIt("click",function(){return Fe.previousPage()}),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"button",5),h.bIt("click",function(){return Fe.performAction()}),h.EFF(12),h.nI1(13,"translate"),h.k0s()()()),2&Pt&&(h.R7$(),h.vxM(Fe.multipleReviewers?1:-1),h.R7$(),h.vxM(Fe.multipleReviewers?-1:2),h.R7$(),h.vxM(void 0!==Fe.groupId?3:-1),h.R7$(),h.vxM(Fe.displayError?4:-1),h.R7$(),h.vxM(h.bMT(6,7,Fe.item$)?5:-1),h.R7$(4),h.SpI(" ",h.bMT(10,9,"workflow-item."+Fe.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(13,11,"workflow-item."+Fe.getType()+".button.confirm")," "))},dependencies:[i.Jj,f.W,i.YU,ot,e.h,e.D9],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return qt})();var St=n(40645),Nt=n(71622),gt=n(96697),Ct=(n(15862),n(56327),n(52526)),$t=n(62297);let yt=(()=>{class qt extends $t.i{constructor(Jt,Pt,Fe,Ye,_t,Qt){super(Ct.a,Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,gt.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(Jt){this.object=Jt}initReloadAnchor(){(0,q.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(Jt=>Jt.unsubscribe())}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(Pt,Fe){},encapsulation:2})}}return qt})();function Zt(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function on(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Ht=(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt,En){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.workflowItemDataService=En}reloadObjectExecution(){return(0,ne.of)(this.object)}convertReloadedObject(Jt){return Object.assign(new Nt.t,Jt,{indexableObject:Jt})}handleReloadableActionResponse(Jt,Pt){super.handleReloadableActionResponse(Jt,Pt),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(C.WorkflowItemDataService))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,Zt,4,3,"span"),h.nI1(4,"async"),h.DNE(5,on,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&Pt&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),h.Y8G("className","btn btn-success")("dsBtnDisabled",h.bMT(2,7,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,9,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,11,Fe.processing$)?5:-1))},dependencies:[i.Jj,be.A,c.n8,c.md,e.h,e.D9]})}}return qt})();var Qe=n(87083);function ke(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function Le(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let ct=(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt}reloadObjectExecution(){return(0,ne.of)(this.object)}convertReloadedObject(Jt){return Object.assign(new Qe.H,Jt,{indexableObject:Jt})}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,ke,4,3,"span"),h.nI1(4,"async"),h.DNE(5,Le,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&Pt&&(h.FS9("ngbTooltip",h.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),h.Y8G("dsBtnDisabled",h.bMT(2,6,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,8,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,10,Fe.processing$)?5:-1))},dependencies:[i.Jj,be.A,c.n8,c.md,e.h,e.D9]})}}return qt})();const Wt=qt=>[qt];function fn(qt,Si){if(1&qt&&(h.j41(0,"a",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.nrm(3,"i",1),h.EFF(4),h.nI1(5,"translate"),h.k0s()),2&qt){let Jt;const Pt=h.XpG();h.FS9("ngbTooltip",h.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),h.Y8G("routerLink",h.eq3(9,Wt,"/workflowitems/"+(null==(Jt=h.bMT(2,5,Pt.object.workflowitem))||null==Jt.payload?null:Jt.payload.id)+"/edit")),h.R7$(4),h.SpI(" ",h.bMT(5,7,"submission.workflow.tasks.claimed.edit")," ")}}let nn=(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(Pt,Fe){1&Pt&&h.DNE(0,fn,6,11,"a",0),2&Pt&&h.vxM(Fe.object?0:-1)},dependencies:[i.Jj,c.n8,c.md,S.Wk,e.h,e.D9]})}}return qt})();var ht=n(33063);let Ft=(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt,En){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.route=En}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,O.ak)()).subscribe(Jt=>{this.workflowTaskPageRoute=(0,ht.HJ)(Jt.id)}))}openAdvancedClaimedTaskTab(){const Jt={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(Jt.state={},Jt.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],Jt)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-claimed-task-action-abstract"]],standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(Pt,Fe){},encapsulation:2})}}return qt})(),At=(()=>{class qt extends Ft{constructor(Jt,Pt,Fe,Ye,_t,Qt,En){super(Jt,Pt,Fe,Ye,_t,Qt,En),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.route=En,this.workflowType=X}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Fe.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&Pt&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Fe.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Fe.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}}return qt})();var On=n(64537);function Vn(qt,Si){1&qt&&(h.nrm(0,"p",3),h.nI1(1,"translate")),2&qt&&h.Y8G("innerHTML",h.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),h.npT)}function bi(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",4),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Dt(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function vt(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",4),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function yn(qt,Si){1&qt&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&qt&&(h.R7$(),h.JRh(h.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function Dn(qt,Si){if(1&qt){const Jt=h.RV6();h.j41(0,"div",6)(1,"h4",7),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"button",8),h.bIt("click",function(){const Fe=h.eBV(Jt).dismiss;return h.Njj(Fe("Cross click"))}),h.k0s()(),h.j41(5,"div",9)(6,"div",10),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"form",11),h.bIt("ngSubmit",function(){h.eBV(Jt);const Fe=h.XpG();return h.Njj(Fe.submitTask())}),h.nrm(10,"textarea",12),h.nI1(11,"translate"),h.j41(12,"button",13),h.nI1(13,"async"),h.DNE(14,vt,4,3,"span"),h.nI1(15,"async"),h.DNE(16,yn,3,3,"span"),h.nI1(17,"async"),h.k0s()()()}if(2&qt){const Jt=h.XpG();h.R7$(2),h.JRh(h.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),h.R7$(5),h.SpI(" ",h.bMT(8,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),h.R7$(2),h.Y8G("formGroup",Jt.rejectForm),h.R7$(),h.FS9("placeholder",h.bMT(11,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),h.R7$(2),h.Y8G("dsBtnDisabled",!Jt.rejectForm.valid||h.bMT(13,13,Jt.processing$)),h.R7$(2),h.vxM(h.bMT(15,15,Jt.processing$)?14:-1),h.R7$(2),h.vxM(!0!==h.bMT(17,17,Jt.processing$)?16:-1)}}let oi=(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt,En,Mn){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.formBuilder=En,this.modalService=Mn}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const Jt=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:Jt})}openRejectModal(Jt){this.rejectForm.reset(),this.modalRef=this.modalService.open(Jt)}reloadObjectExecution(){return(0,ne.of)(this.object)}convertReloadedObject(Jt){return Object.assign(new On.q,Jt,{indexableObject:Jt})}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(t.ze),h.rXU(c.Bq))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[h.Vt3,h.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","w-100","mt-3",3,"dsBtnDisabled"]],template:function(Pt,Fe){if(1&Pt){const Ye=h.RV6();h.DNE(0,Vn,2,3,"ng-template",null,0,h.C5r),h.j41(2,"button",2),h.nI1(3,"async"),h.bIt("click",function(){h.eBV(Ye);const Qt=h.sdS(9);return h.Njj(Fe.openRejectModal(Qt))}),h.DNE(4,bi,4,3,"span"),h.nI1(5,"async"),h.DNE(6,Dt,4,3,"span"),h.nI1(7,"async"),h.k0s(),h.DNE(8,Dn,18,19,"ng-template",null,1,h.C5r)}if(2&Pt){const Ye=h.sdS(1);h.R7$(2),h.Y8G("className","btn btn-danger")("ngbTooltip",Ye)("dsBtnDisabled",h.bMT(3,5,Fe.processing$)),h.R7$(2),h.vxM(h.bMT(5,7,Fe.processing$)?4:-1),h.R7$(2),h.vxM(!0!==h.bMT(7,9,Fe.processing$)?6:-1)}},dependencies:[i.Jj,be.A,t.YN,t.qT,t.me,t.BC,t.cb,c.n8,c.md,t.X1,t.j4,t.JD,e.h,e.D9]})}}return qt})();var ai=n(31755);function ts(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function ns(qt,Si){1&qt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&qt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const gn=new Map([["submit_approve",Ht],["submit_decline_task",ct],["submit_edit_metadata",nn],[G,At],["submit_reject",oi],["return_to_pool",(()=>{class qt extends yt{constructor(Jt,Pt,Fe,Ye,_t,Qt,En){super(Jt,Pt,Fe,Ye,_t,Qt),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.poolTaskService=En}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,gt.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(ai.PoolTaskDataService))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,ts,4,3,"span"),h.nI1(4,"async"),h.DNE(5,ns,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&Pt&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),h.Y8G("className","btn btn-secondary")("dsBtnDisabled",h.bMT(2,7,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,9,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,11,Fe.processing$)?5:-1))},dependencies:[i.Jj,be.A,c.n8,c.md,e.h,e.D9]})}}return qt})()],[hn,(()=>{class qt extends Ft{constructor(Jt,Pt,Fe,Ye,_t,Qt,En){super(Jt,Pt,Fe,Ye,_t,Qt,En),this.injector=Jt,this.router=Pt,this.notificationsService=Fe,this.translate=Ye,this.searchService=_t,this.requestService=Qt,this.route=En,this.workflowType=jn}static{this.\u0275fac=function(Pt){return new(Pt||qt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(St.S),h.rXU(y.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:qt,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(Pt,Fe){1&Pt&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Fe.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&Pt&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Fe.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Fe.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}}return qt})()]]),pi=new Map([[X,J],[jn,bt]]);function Ri(qt){return gn.get(qt)}function Ai(qt){return pi.get(qt)}},79646:(U,b,n)=>{"use strict";n.d(b,{p:()=>$});var i=n(54438),t=n(84412),c=n(96697),e=n(88141),f=n(3601),m=n(4093),p=n(40645),y=n(74745),E=n(9847),v=n(61206),O=n(15862),C=n(56327),I=n(84821),D=n(80189),R=n(25645),h=n(25580),S=n(17144),T=n(13005),w=n(31755);class M{getConstructor(K){switch(K){case O.q.type:return v.ItemDataService;case I.F.type:return R.WorkspaceitemDataService;case C.t.type:return D.WorkflowItemDataService;case S.T.type:return h.ClaimedTaskDataService;case T.k.type:return w.PoolTaskDataService;default:return}}}var L=n(44043),N=n(7901),j=n(68018);let $=(()=>{class k{constructor(z,V,G,X,J,q,ne){this.objectType=z,this.injector=V,this.router=G,this.notificationsService=X,this.translate=J,this.searchService=q,this.requestService=ne,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const ee=new M;this.objectDataService=V.get(ee.getConstructor(z))}reload(){this.router.navigated=!1,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.invalidateCacheForCurrentSearchUrl(!0)}invalidateCacheForCurrentSearchUrl(z=!1){const V=decodeURIComponent(this.router.url);this.searchService.getEndpoint().pipe((0,c.s)(1),(0,e.M)(G=>this.requestService.removeByHrefSubstring(G))).subscribe(()=>{z&&this.router.navigateByUrl(V)})}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(z=>{this.initObjects(z.payload)})}handleActionResponse(z){z?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new y.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new y.y(2e4,!0))}static{this.\u0275fac=function(V){return new(V||k)(i.rXU(L.v),i.rXU(i.zZn),i.rXU(N.Ix),i.rXU(E.I),i.rXU(j.c$),i.rXU(p.S),i.rXU(f.B))}}static{this.\u0275cmp=i.VBU({type:k,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(V,G){},encapsulation:2})}}return k})()},62297:(U,b,n)=>{"use strict";n.d(b,{i:()=>T});var i=n(7673),t=n(96697),c=n(25558),e=n(88141),f=n(96354),m=n(25788),p=n(3601),y=n(4093),E=n(40645),v=n(74745),O=n(9847),C=n(71384),I=n(79646),D=n(54438),R=n(44043),h=n(7901),S=n(68018);let T=(()=>{class w extends I.p{constructor(L,N,j,$,k,K,z){super(L,N,j,$,k,K,z),this.objectType=L,this.injector=N,this.router=j,this.notificationsService=$,this.translate=k,this.searchService=K,this.requestService=z}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,c.n)(L=>L.hasSucceeded?this._reloadObject().pipe((0,e.M)(N=>{this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,N)})):(this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(L,N){L?(N?(this.processCompleted.emit({result:L,reloadedObject:N}),this.invalidateCacheForCurrentSearchUrl()):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new v.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new v.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(L){const N=(0,C.L)(L.constructor);return Object.assign(new N,L,{indexableObject:L})}_reloadObject(){return this.reloadObjectExecution().pipe((0,c.n)(L=>L instanceof m.j?(0,i.of)(L).pipe((0,y.qD)(),(0,f.T)(N=>N.payload)):(0,i.of)(L))).pipe((0,f.T)(L=>L&&this.convertReloadedObject(L)))}static{this.\u0275fac=function(N){return new(N||w)(D.rXU(R.v),D.rXU(D.zZn),D.rXU(h.Ix),D.rXU(O.I),D.rXU(S.c$),D.rXU(E.S),D.rXU(p.B))}}static{this.\u0275cmp=D.VBU({type:w,selectors:[["ds-mydspace-reloadable-actions"]],standalone:!0,features:[D.Vt3,D.aNF],decls:0,vars:0,template:function(N,j){},encapsulation:2})}}return w})()},195:(U,b,n)=>{"use strict";n.d(b,{L:()=>c,o:()=>t});const t=(0,n(6800).N)("dspace/ngrx/NO_OP_ACTION");class c{constructor(){this.type=t}}},6800:(U,b,n)=>{"use strict";n.d(b,{N:()=>c});const i={};function c(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},10878:(U,b,n)=>{"use strict";n.d(b,{n:()=>i,p:()=>t});var i=function(c){return c.Fade="fade",c.FromTop="fromTop",c.FromRight="fromRight",c.FromBottom="fromBottom",c.FromLeft="fromLeft",c.Rotate="rotate",c.Scale="scale",c}(i||{}),t=function(c){return c.In="In",c.Out="Out",c}(t||{})},74745:(U,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(10878);class t{constructor(e=5e3,f=!0,m=i.n.Scale,p=!0){this.timeOut=e,this.clickToClose=f,this.animate=m,this.announceContentInLiveRegion=p}}},95970:(U,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},65112:(U,b,n)=>{"use strict";n.d(b,{z:()=>Tt});var i=n(49969),t=n(60177),c=n(54438),e=n(7673),f=n(71985),m=n(5964),p=n(61594),y=n(2180);const E=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),v=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),O=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),C=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),h=((0,i.hZ)("fromBottomIn",[v]),(0,i.hZ)("fromBottomOut",[C]),(0,i.hZ)("fromBottomInOut",[v,C]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),S=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),T=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),w=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),j=((0,i.hZ)("fromLeftIn",[S]),(0,i.hZ)("fromLeftOut",[w]),(0,i.hZ)("fromLeftInOut",[S,w]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),$=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),k=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),K=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[$]),(0,i.hZ)("fromRightOut",[K]),(0,i.hZ)("fromRightInOut",[$,K]);var X=n(68887),J=n(59713);const q=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),ne=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),ee=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),fe=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[ne]),(0,i.hZ)("scaleOut",[fe]),(0,i.hZ)("scaleInOut",[ne,fe]);var te=n(89777),se=n(10878),be=n(9847),me=n(345);const re=(Ee,je,mt,vn)=>({"fas fa-2x":!0,"fa-check-circle":Ee,"fa-times-circle":je,"fa-exclamation-triangle":mt,"fa-info-circle":vn}),Z=Ee=>({width:Ee});function le(Ee,je){if(1&Ee&&(c.j41(0,"div",1),c.nrm(1,"span",9),c.k0s()),2&Ee){const mt=c.XpG();c.R7$(),c.Y8G("ngStyle",c.eq3(1,Z,mt.progressWidth+"%"))}}function ce(Ee,je){if(1&Ee){const mt=c.RV6();c.j41(0,"button",10),c.bIt("click",function(){c.eBV(mt);const hn=c.XpG();return c.Njj(hn.remove())}),c.k0s()}}function ve(Ee,je){1&Ee&&c.eu8(0)}function ze(Ee,je){if(1&Ee&&(c.j41(0,"div",11),c.DNE(1,ve,1,0,"ng-container",12),c.k0s()),2&Ee){const mt=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",mt.title)}}function Se(Ee,je){if(1&Ee&&(c.j41(0,"div",11),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&Ee){const mt=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,mt.title))}}function et(Ee,je){if(1&Ee&&(c.j41(0,"div",8)(1,"strong"),c.DNE(2,ze,2,1,"div",11)(3,Se,3,3,"div",11),c.k0s()()),2&Ee){const mt=c.XpG();c.R7$(2),c.vxM(mt.titleIsTemplate?2:3)}}function $e(Ee,je){1&Ee&&c.eu8(0)}function st(Ee,je){if(1&Ee&&(c.j41(0,"div",13),c.DNE(1,$e,1,0,"ng-container",12),c.k0s()),2&Ee){const mt=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",mt.content)}}function We(Ee,je){if(1&Ee&&(c.j41(0,"div",13),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&Ee){const mt=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,mt.content))}}function De(Ee,je){if(1&Ee&&(c.j41(0,"div",8),c.DNE(1,st,2,1,"div",13)(2,We,3,3,"div",13),c.k0s()),2&Ee){const mt=c.XpG();c.R7$(),c.vxM(mt.contentIsTemplate?1:2)}}function ut(Ee,je){1&Ee&&c.eu8(0)}function Ge(Ee,je){if(1&Ee&&(c.j41(0,"div",14),c.DNE(1,ut,1,0,"ng-container",12),c.k0s()),2&Ee){const mt=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",mt.content)}}function wt(Ee,je){if(1&Ee&&c.nrm(0,"div",15),2&Ee){const mt=c.XpG(2);c.Y8G("innerHTML",mt.content,c.npT)}}function ot(Ee,je){if(1&Ee&&(c.j41(0,"div",8),c.DNE(1,Ge,2,1,"div",14)(2,wt,1,1,"div",15),c.k0s()),2&Ee){const mt=c.XpG();c.R7$(),c.vxM(mt.contentIsTemplate?1:2)}}let Tt=(()=>{class Ee{constructor(mt,vn,hn,jn){this.notificationService=mt,this.domSanitizer=vn,this.cdr=hn,this.zone=jn,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(bt=>!bt),(0,p.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+se.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(mt,vn){if(mt instanceof c.C4Q)this[vn]=mt;else if("title"===vn||"content"===vn&&!this.html){let hn=null;(0,te.hj)(mt)&&("string"==typeof mt?hn=(0,e.of)(mt):mt instanceof f.c?hn=mt:"object"==typeof mt&&(0,te.hj)(mt.value)&&(hn=(0,e.of)(mt.value))),this[vn]=hn}else this[vn]=this.domSanitizer.bypassSecurityTrustHtml(mt);this[vn+"IsTemplate"]=mt instanceof c.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+se.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(vn){return new(vn||Ee)(c.rXU(be.I),c.rXU(me.up),c.rXU(c.gRc),c.rXU(c.SKi))}}static{this.\u0275cmp=c.VBU({type:Ee,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[c.aNF],decls:11,vars:15,consts:[["role","alert"],[1,"notification-progress-loader","position-absolute","w-100"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],[1,"p-2","me-3"],[1,"h-100","float-start",3,"ngStyle"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1",3,"click"],[1,"notification-title","ps-1"],[4,"ngTemplateOutlet"],[1,"notification-content","ps-1"],[1,"notification-html","ps-1"],[1,"notification-html","ps-1",3,"innerHTML"]],template:function(vn,hn){1&vn&&(c.j41(0,"div",0),c.DNE(1,le,2,3,"div",1)(2,ce,1,0,"button",2),c.j41(3,"div",3)(4,"div",4)(5,"div",5),c.nrm(6,"i",6),c.k0s()(),c.j41(7,"div",7),c.DNE(8,et,4,1,"div",8)(9,De,3,1,"div",8)(10,ot,3,1,"div",8),c.k0s()()()),2&vn&&(c.ZvI("notification alert ",hn.notification.type," alert-dismissible m-3 shadow"),c.Y8G("@enterLeave",hn.animate),c.R7$(),c.vxM(hn.showProgressBar?1:-1),c.R7$(),c.vxM(hn.notification.options.clickToClose?2:-1),c.R7$(4),c.Y8G("ngClass",c.ziG(10,re,"alert-success"===hn.notification.type,"alert-danger"===hn.notification.type,"alert-warning"===hn.notification.type,"alert-info"===hn.notification.type)),c.R7$(2),c.vxM(hn.title?8:-1),c.R7$(),c.vxM(hn.content&&!hn.html?9:-1),c.R7$(),c.vxM(hn.content&&hn.html?10:-1))},dependencies:[t.Jj,t.YU,t.B3,t.T3],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.btn-close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[y.e9,y.HT,y.ai,y.wA,v,E,C,O,$,j,K,k,S,h,w,T,X.iP,X.Wk,X.Py,X.B_,J.UE,J.CC,J.L2,J.Ru,q,ne,ee,fe])]},changeDetection:0})}}return Ee})()},70687:(U,b,n)=>{"use strict";n.d(b,{s:()=>T});var i=n(60177),t=n(59640),c=n(84418),e=n.n(c),f=n(25622),m=n.n(f),p=n(84412),y=n(7673),E=n(96697),v=n(75398),O=n(89777),C=n(50808),I=n(65112),D=n(9847);const R=w=>w.notifications;var h=n(54438);function S(w,M){if(1&w&&h.nrm(0,"ds-notification",1),2&w){const L=M.$implicit,N=h.XpG();h.Y8G("notification",L)("isPaused$",N.isPaused$)}}let T=(()=>{class w{set options(L){this.attachChanges(L)}constructor(L,N,j,$,k){this.service=L,this.store=N,this.cdr=j,this.liveRegionService=$,this.accessibilitySettingsService=k,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new p.t(!1),this.byId=(K,z)=>K.id===z.id}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(R)).subscribe(L=>{0===L.length?this.notifications=[]:L.length>this.notifications.length?m()(L,this.notifications,this.byId).forEach(j=>{this.add(j)}):m()(this.notifications,L,this.byId).forEach(j=>{this.notifications=this.notifications.filter($=>$.id!==j.id)}),this.cdr.detectChanges()})}add(L){this.block(L)?this.service.remove(L):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.accessibilitySettingsService.getAsNumber("notificationTimeOut",L.options.timeOut).pipe((0,E.s)(1)).subscribe(j=>{j<0&&(j=0);const $=e()(L);$.options.timeOut=j,this.notifications.splice(0,0,$),this.addContentToLiveRegion($),this.cdr.detectChanges()}))}addContentToLiveRegion(L){let N=L.content;!L.options.announceContentInLiveRegion||(0,O.Tn)(N)||("string"==typeof N&&(N=(0,y.of)(N)),N.pipe((0,O.VT)(),(0,E.s)(1)).subscribe(j=>this.liveRegionService.addMessage(j)))}block(L){const N=L.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(j=>{if(N(j,L))return!0}),!1}checkStandard(L,N){return L.type===N.type&&L.title===N.title&&L.content===N.content}checkHtml(L,N){return!!L.html&&L.type===N.type&&L.title===N.title&&L.content===N.content&&L.html===N.html}attachChanges(L){Object.keys(L).forEach(N=>{this.hasOwnProperty(N)&&(this[N]=L[N])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(N){return new(N||w)(h.rXU(D.I),h.rXU(t.il),h.rXU(h.gRc),h.rXU(C.A),h.rXU(v.jJ))}}static{this.\u0275cmp=h.VBU({type:w,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[h.aNF],decls:3,vars:1,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],[1,"notification",3,"notification","isPaused$"]],template:function(N,j){1&N&&(h.j41(0,"div",0),h.bIt("mouseenter",function(){return j.isPaused$.next(!0)})("mouseleave",function(){return j.isPaused$.next(!1)}),h.Z7z(1,S,1,2,"ds-notification",1,h.fX1),h.k0s()),2&N&&(h.Y8G("ngClass",j.position),h.R7$(),h.Dyx(j.notifications))},dependencies:[i.YU,I.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return w})()},37688:(U,b,n)=>{"use strict";n.d(b,{Is:()=>t,Sc:()=>c,e0:()=>f,o4:()=>e});var i=n(6800);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class c{constructor(p){this.type=t.NEW_NOTIFICATION,this.payload=p}}class e{constructor(p){this.payload=p,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class f{constructor(p){this.type=t.REMOVE_NOTIFICATION,this.payload=p}}},9847:(U,b,n)=>{"use strict";n.d(b,{I:()=>D});var i=n(59519),t=n.n(i),c=n(7673),e=n(61594),f=n(78544),m=n(89777),p=n(74745);class y{constructor(h,S,T,w,M,L){this.id=h,this.type=S,this.title=T,this.content=w,this.options=(0,m.Im)(M)?new p.y:M,this.html=L}}var E=n(95970),v=n(37688),O=n(54438),C=n(59640),I=n(68018);let D=(()=>{class R{constructor(S,T){this.store=S,this.translate=T}add(S){const T=new v.Sc(S);this.store.dispatch(T)}success(S=(0,c.of)(""),T=(0,c.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},N=new y(t()(),E._.Success,S,T,L,M);return this.add(N),N}error(S=(0,c.of)(""),T=(0,c.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},N=new y(t()(),E._.Error,S,T,L,M);return this.add(N),N}info(S=(0,c.of)(""),T=(0,c.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},N=new y(t()(),E._.Info,S,T,L,M);return this.add(N),N}warning(S=(0,c.of)(""),T=(0,c.of)(""),w=this.getDefaultOptions(),M=!1){const L={...this.getDefaultOptions(),...w},N=new y(t()(),E._.Warning,S,T,L,M);return this.add(N),N}notificationWithAnchor(S,T,w,M,L,N){this.translate.get(M).pipe((0,e.$)()).subscribe(j=>{const $=`<a class="align-baseline btn btn-link p-0 m-0" href="${w}" >\n                        <strong>${j}</strong>\n                      </a>`,k=Object.create({});k[N]=$,this.translate.get(L,k).pipe((0,e.$)()).subscribe(K=>{switch(S){case E._.Success:this.success(null,K,T,!0);break;case E._.Error:this.error(null,K,T,!0);break;case E._.Info:this.info(null,K,T,!0);break;case E._.Warning:this.warning(null,K,T,!0)}})})}remove(S){const T=new v.e0(S.id);this.store.dispatch(T)}removeAll(){const S=new v.o4;this.store.dispatch(S)}getDefaultOptions(){return new p.y(f.c.notifications.timeOut,f.c.notifications.clickToClose,f.c.notifications.animate)}static{this.\u0275fac=function(T){return new(T||R)(O.KVO(C.il),O.KVO(I.c$))}}static{this.\u0275prov=O.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},79669:(U,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},52186:(U,b,n)=>{"use strict";n.d(b,{h:()=>fn});var i=n(60177),t=n(54438),c=n(96354),e=n(23294),p=(n(70998),n(25788),n(40940)),y=n(19192),E=n(89777),v=n(68018),O=n(2180),C=n(14744),I=n(15202),D=n(79669),R=n(8447),h=n(2175);function S(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"div",3)(1,"ds-listable-object-component-loader",4),t.bIt("contentChange",function(At){t.eBV(ht);const On=t.XpG(2);return t.Njj(On.contentChange.emit(At))}),t.k0s()()}if(2&xt){const ht=nn.$implicit,Ft=t.XpG(2);t.R7$(),t.Y8G("object",ht)("viewMode",Ft.viewMode)("context",Ft.context)("showThumbnails",Ft.showThumbnails)}}function T(xt,nn){if(1&xt&&(t.j41(0,"div",1),t.Z7z(1,S,2,4,"div",3,t.fX1),t.k0s()),2&xt){const ht=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Dyx(null==ht.objects||null==ht.objects.payload?null:ht.objects.payload.page)}}function w(xt,nn){1&xt&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"error.objects"))}function M(xt,nn){1&xt&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let L=(()=>{class xt{constructor(){this.viewMode=y.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.showRSS=!1,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(ht){this._objects=ht}get objects(){return this._objects}onPageChange(ht){this.pageChange.emit(ht)}onPageSizeChange(ht){this.pageSizeChange.emit(ht)}onSortDirectionChange(ht){this.sortDirectionChange.emit(ht)}onSortFieldChange(ht){this.sortFieldChange.emit(ht)}onPaginationChange(ht){this.paginationChange.emit(ht)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Ft){return new(Ft||xt)}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",showRSS:"showRSS",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","showRSS","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],[1,"row","mt-2"],[3,"message"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"]],template:function(Ft,At){1&Ft&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(Vn){return At.onPageChange(Vn)})("pageSizeChange",function(Vn){return At.onPageSizeChange(Vn)})("sortDirectionChange",function(Vn){return At.onSortDirectionChange(Vn)})("sortFieldChange",function(Vn){return At.onSortFieldChange(Vn)})("paginationChange",function(Vn){return At.onPaginationChange(Vn)})("prev",function(){return At.goPrev()})("next",function(){return At.goNext()}),t.DNE(1,T,3,1,"div",1)(2,w,2,3,"ds-error",2)(3,M,2,3,"ds-loading",2),t.k0s()),2&Ft&&(t.Y8G("paginationOptions",At.config)("collectionSize",null==At.objects||null==At.objects.payload?null:At.objects.payload.totalElements)("sortOptions",At.sortConfig)("objects",At.objects)("hideGear",At.hideGear)("showRSS",At.showRSS)("hidePaginationDetail",At.hidePaginationDetail)("hidePagerWhenSinglePage",At.hidePagerWhenSinglePage)("showPaginator",At.showPaginator),t.R7$(),t.vxM(null!=At.objects&&At.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(At.objects.hasFailed?2:-1),t.R7$(),t.vxM(At.objects.isLoading?3:-1))},dependencies:[C.A,R.v,h.e,I.v,v.h,v.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[O.qG]}})}}return xt})();var N=n(84412),j=n(84572),$=n(99172),k=n(50842),K=n(33745);function z(xt,nn){if(1&xt&&(t.j41(0,"div",4),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",5),t.k0s()),2&xt){const ht=nn.$implicit,Ft=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",ht)("viewMode",Ft.viewMode)("context",Ft.context)("showThumbnails",Ft.showThumbnails)("linkType",Ft.linkType)}}function V(xt,nn){if(1&xt&&(t.j41(0,"div",3),t.Z7z(1,z,3,8,"div",4,t.fX1),t.k0s()),2&xt){const ht=nn.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Dyx(ht)}}function G(xt,nn){if(1&xt&&(t.j41(0,"div",1),t.Z7z(1,V,3,1,"div",3,t.fX1),t.nI1(3,"async"),t.k0s()),2&xt){const ht=t.XpG();t.R7$(),t.Dyx(t.bMT(3,0,ht.columns$))}}function X(xt,nn){1&xt&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"error.objects"))}function J(xt,nn){1&xt&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let q=(()=>{class xt{set objects(ht){this._objects$.next(ht)}get objects(){return this._objects$.getValue()}constructor(ht){this.hostWindow=ht,this.viewMode=y.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new N.t(void 0)}ngOnInit(){const ht=this.hostWindow.widthCategory.pipe((0,c.T)(Ft=>{switch(Ft){case k.tP.XL:case k.tP.LG:return 3;case k.tP.MD:case k.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,$.Z)(3));this.columns$=(0,j.z)(ht,this._objects$).pipe((0,c.T)(([Ft,At])=>{if((0,E.a4)(At)&&(0,E.a4)(At.payload)&&(0,E.a4)(At.payload.page)){const Vn=[];return At.payload.page.forEach((bi,Dt)=>{const vt=Dt%Ft;let yn=Vn[vt];(0,E.Tn)(yn)&&(yn=[]),Vn[vt]=[...yn,bi]}),Vn}return[]}))}onPageChange(ht){this.pageChange.emit(ht)}onPageSizeChange(ht){this.pageSizeChange.emit(ht)}onSortDirectionChange(ht){this.sortDirectionChange.emit(ht)}onSortFieldChange(ht){this.sortFieldChange.emit(ht)}onPaginationChange(ht){this.paginationChange.emit(ht)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU(k.CV))}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],[1,"card-columns","row"],[3,"message"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"]],template:function(Ft,At){1&Ft&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(Vn){return At.onPageChange(Vn)})("pageSizeChange",function(Vn){return At.onPageSizeChange(Vn)})("sortDirectionChange",function(Vn){return At.onSortDirectionChange(Vn)})("sortFieldChange",function(Vn){return At.onSortFieldChange(Vn)})("paginationChange",function(Vn){return At.onPaginationChange(Vn)})("prev",function(){return At.goPrev()})("next",function(){return At.goNext()}),t.DNE(1,G,4,2,"div",1)(2,X,2,3,"ds-error",2)(3,J,2,3,"ds-loading",2),t.k0s()),2&Ft&&(t.Y8G("paginationOptions",At.config)("collectionSize",null==At.objects||null==At.objects.payload?null:At.objects.payload.totalElements)("sortOptions",At.sortConfig)("hideGear",At.hideGear)("objects",At.objects)("hidePagerWhenSinglePage",At.hidePagerWhenSinglePage)("hidePaginationDetail",At.hidePaginationDetail)("showPaginator",At.showPaginator),t.R7$(),t.vxM(null!=At.objects&&At.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(At.objects.hasFailed?2:-1),t.R7$(),t.vxM(At.objects.isLoading?3:-1))},dependencies:[i.Jj,K.L,C.A,R.v,h.e,I.v,v.h,v.D9],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[O.qG]}})}}return xt})();var ne=n(29710);n(86296);const fe=["*"];function ye(xt,nn){}let oe=(()=>{class xt extends ne.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","showRSS","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(ht){return n(8894)(`./${ht}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86296))}static{this.\u0275fac=(()=>{let ht;return function(At){return(ht||(ht=t.xGo(xt)))(At||xt)}})()}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:fe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Ft,At){1&Ft&&(t.NAR(),t.DNE(0,ye,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return xt})();var ue=n(7673),te=n(96697),be=(n(58956),n(73838)),me=n(7901),re=n(74272),Z=n(50553);let le=(()=>{class xt{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=D.n,this.viewModes=y.n,this.contexts=p.o}static{this.\u0275fac=function(Ft){return new(Ft||xt)}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Ft,At){},encapsulation:2})}}return xt})(),ce=(()=>{class xt extends le{static{this.\u0275fac=(()=>{let ht;return function(At){return(ht||(ht=t.xGo(xt)))(At||xt)}})()}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(Ft,At){},encapsulation:2})}}return xt})();var ve=n(24100),ze=n(25713),Se=n(45615),$e=(n(12560),n(58003));const st=xt=>({default:xt});function We(xt,nn){if(1&xt&&(t.j41(0,"div")(1,"div",7)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",9),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&xt){let ht;const Ft=nn.$implicit,At=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,Ft+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+At.notifyMessage[Ft],t.eq3(7,st,null!==(ht=At.notifyMessage[Ft])&&void 0!==ht?ht:"n/a")))}}function De(xt,nn){if(1&xt&&t.nrm(0,"pre",6),2&xt){const ht=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",ht.notifyMessage.message,t.npT)}}let ut=(()=>{class xt{constructor(ht,Ft){this.activeModal=ht,this.translationsService=Ft,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new Se.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU($e.Lw),t.rXU(v.c$))}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"],[1,"row","mb-4"],[1,"fw-bold","col"],[1,"col","text-end"]],template:function(Ft,At){1&Ft&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return At.activeModal.dismiss("Cross click")}),t.k0s()(),t.j41(5,"div",3),t.Z7z(6,We,8,9,"div",null,t.fX1),t.j41(8,"div",4)(9,"button",5),t.bIt("click",function(){return At.toggleCoarMessage()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.DNE(12,De,1,2,"pre",6),t.k0s()),2&Ft&&(t.R7$(2),t.JRh(t.bMT(3,3,"notify-message-modal.title")),t.R7$(4),t.Dyx(At.notifyMessageKeys),t.R7$(4),t.SpI(" ",t.bMT(11,5,"notify-message-modal.show-message")," "),t.R7$(2),t.vxM(At.isCoarMessageVisible?12:-1))},dependencies:[v.h,v.D9],encapsulation:2,data:{animation:[O.qG]}})}}return xt})();var Ge=n(12673);function wt(xt,nn){if(1&xt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&xt){const ht=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,ht.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function ot(xt,nn){1&xt&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Tt(xt,nn){if(1&xt&&(t.j41(0,"a",6),t.EFF(1),t.k0s()),2&xt){const ht=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(ht.context||ht.object)),t.R7$(),t.JRh(ht.relatedItem)}}function Ee(xt,nn){1&xt&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function je(xt,nn){if(1&xt&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&xt){const ht=t.XpG().$implicit;t.R7$(),t.JRh(ht.ldnService)}}function mt(xt,nn){1&xt&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function vn(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(ht);const At=t.XpG().$implicit,On=t.XpG();return t.Njj(On.reprocessMessage(At))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&xt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function hn(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,wt,3,4,"div")(3,ot,2,0,"div"),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",4)(6,"ds-truncatable-part",5),t.DNE(7,Tt,2,2,"a",6),t.k0s()(),t.DNE(8,Ee,2,0,"div"),t.k0s(),t.j41(9,"td"),t.DNE(10,je,2,1,"div")(11,mt,2,0,"div"),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",7)(21,"button",8),t.bIt("click",function(){const At=t.eBV(ht).$implicit,On=t.XpG();return t.Njj(On.openDetailModal(At))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,vn,3,3,"button",9),t.k0s()()()}if(2&xt){const ht=nn.$implicit,Ft=t.XpG();t.R7$(2),t.vxM(ht.queueLastStartTime?2:-1),t.R7$(),t.vxM(ht.queueLastStartTime?-1:3),t.R7$(2),t.Y8G("id",ht.id),t.R7$(),t.Y8G("id",ht.id)("minLines",2),t.R7$(),t.vxM(ht.relatedItem?7:-1),t.R7$(),t.vxM(ht.relatedItem?-1:8),t.R7$(2),t.vxM(ht.ldnService?10:-1),t.R7$(),t.vxM(ht.ldnService?-1:11),t.R7$(3),t.JRh(ht.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+ht.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.vxM(ht.queueStatusLabel!==Ft.reprocessStatus&&Ft.validStatusesForReprocess.includes(ht.queueStatusLabel)?24:-1)}}let jn=(()=>{class xt extends ce{constructor(ht,Ft,At,On){super(),this.modalService=ht,this.adminNotifyMessagesService=Ft,this.datePipe=At,this.searchConfigService=On,this.messagesSubject$=new N.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(ht=>{this.isInbound=ht.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(ht=>ht.unsubscribe())}openDetailModal(ht){const Ft=this.modalService.open(ut),At={...ht};this.messageKeys.forEach(On=>{this.dateTypeKeys.includes(On)&&(At[On]=this.datePipe.transform(At[On],this.dateFormat))}),At.message=JSON.stringify(JSON.parse(ht.message),null,2),Ft.componentInstance.notifyMessage=At,Ft.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(ht){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(ht,this.messagesSubject$).subscribe(Ft=>{this.messagesSubject$.next(Ft)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(ht=>ht.indexableObject)).subscribe(ht=>{this.messagesSubject$.next(ht)}))}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU($e.Bq),t.rXU(Ge.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(Z.EN))}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:Z.EN,useClass:re.g}]),t.Vt3,t.aNF],decls:26,vars:20,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[3,"id"],[3,"id","minLines"],[3,"routerLink"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],[1,"btn","btn-warning"],[1,"btn","btn-warning",3,"click"]],template:function(Ft,At){1&Ft&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.Z7z(23,hn,25,17,"tr",null,t.fX1),t.nI1(25,"async"),t.k0s()()()),2&Ft&&(t.R7$(5),t.JRh(t.bMT(6,6,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,8,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,10,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,12,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,14,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,16,"notify-message-result.action")),t.R7$(3),t.Dyx(t.bMT(25,18,At.messagesSubject$)))},dependencies:[i.Jj,i.vh,me.Wk,v.h,v.D9,ve.d,ze.W],encapsulation:2})}}return xt})();var bt=n(74831),St=n(21193);const Nt=new Map([[bt.o,new Map([[y.n.Table,new Map([[p.o.CoarNotify,new Map([[St.SS,jn]])]])]])]]);let an=(()=>{class xt{constructor(ht){this.viewContainerRef=ht}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:xt,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return xt})();function we(xt,nn){}let Ct=(()=>{class xt{constructor(ht,Ft){this.cdr=ht,this.themeService=Ft,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=y.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(ht){(0,E.Tn)(this.compRef)?this.instantiateComponent(this.objects,ht):this.inAndOutputNames.some(Ft=>(0,E.a4)(ht[Ft]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(ht))}ngOnDestroy(){this.subs.filter(ht=>(0,E.a4)(ht)).forEach(ht=>ht.unsubscribe())}instantiateComponent(ht,Ft){const At=this.getComponent(ht?.page[0]?.getRenderTypes(),this.viewMode,this.context),On=this.tabulatableObjectsDirective.viewContainerRef;On.clear(),this.compRef=On.createComponent(At,{index:0,injector:void 0}),(0,E.a4)(Ft)?this.ngOnChanges(Ft):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,j.z)([(0,ue.of)(Ft),this.compRef.instance.reloadedObject.pipe((0,te.s)(1))]).subscribe(([Vn,bi])=>{bi&&(this.compRef.destroy(),this.objects=bi,this.instantiateComponent(bi,Vn),this.cdr.detectChanges(),this.contentChange.emit(bi))})}getComponent(ht,Ft,At){return function gt(xt,nn,ht=St.A2,Ft=St.SS){let At=null;for(const On of xt){const Vn=Nt.get(On);if((0,E.a4)(Vn)){const bi=(0,St.mo)(Vn,[nn,ht,Ft],[St.e8,St.A2,St.SS]);((0,E.Tn)(At)||At.isLessRelevantThan(bi))&&(At=bi)}}return(0,E.a4)(At)?At.match:null}(ht,Ft,At,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,E.hj)(this.inAndOutputNames)&&(0,E.a4)(this.compRef)&&(0,E.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(ht=>void 0!==this[ht]).forEach(ht=>{this.compRef.instance[ht]=this[ht]})}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU(t.gRc),t.rXU(be.Fs))}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(Ft,At){if(1&Ft&&t.GBs(an,7),2&Ft){let On;t.mGM(On=t.lsd())&&(At.tabulatableObjectsDirective=On.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(Ft,At){1&Ft&&t.DNE(0,we,0,0,"ng-template",0)},dependencies:[an],encapsulation:2})}}return xt})();function $t(xt,nn){if(1&xt&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",2),t.k0s()()),2&xt){const ht=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",ht.objects.payload)("context",ht.context)("showThumbnails",ht.showThumbnails)("linkType",ht.linkType)}}function yt(xt,nn){1&xt&&(t.nrm(0,"ds-error",1),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"error.objects"))}function Zt(xt,nn){1&xt&&(t.nrm(0,"ds-loading",1),t.nI1(1,"translate")),2&xt&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let on=(()=>{class xt{set objects(ht){this._objects$.next(ht)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=y.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new N.t(void 0)}onPageChange(ht){this.pageChange.emit(ht)}onPageSizeChange(ht){this.pageSizeChange.emit(ht)}onSortDirectionChange(ht){this.sortDirectionChange.emit(ht)}onSortFieldChange(ht){this.sortFieldChange.emit(ht)}onPaginationChange(ht){this.paginationChange.emit(ht)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Ft){return new(Ft||xt)}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[3,"message"],[3,"objects","context","showThumbnails","linkType"]],template:function(Ft,At){1&Ft&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(Vn){return At.onPageChange(Vn)})("pageSizeChange",function(Vn){return At.onPageSizeChange(Vn)})("sortDirectionChange",function(Vn){return At.onSortDirectionChange(Vn)})("sortFieldChange",function(Vn){return At.onSortFieldChange(Vn)})("paginationChange",function(Vn){return At.onPaginationChange(Vn)})("prev",function(){return At.goPrev()})("next",function(){return At.goNext()}),t.DNE(1,$t,3,5,"div")(2,yt,2,3,"ds-error",1)(3,Zt,2,3,"ds-loading",1),t.k0s()),2&Ft&&(t.Y8G("paginationOptions",At.config)("collectionSize",null==At.objects||null==At.objects.payload?null:At.objects.payload.totalElements)("sortOptions",At.sortConfig)("hideGear",At.hideGear)("objects",At.objects)("hidePagerWhenSinglePage",At.hidePagerWhenSinglePage)("hidePaginationDetail",At.hidePaginationDetail)("showPaginator",At.showPaginator)("retainScrollPosition",!0),t.R7$(),t.vxM(null!=At.objects&&At.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(null!=At.objects&&At.objects.hasFailed?2:-1),t.R7$(),t.vxM(null!=At.objects&&At.objects.isLoading?3:-1))},dependencies:[C.A,h.e,Ct,I.v,v.h,v.D9],data:{animation:[O.qG]}})}}return xt})();var Yt=n(93446);const Ht=()=>[Promise.all([n.e(958),n.e(5563)]).then(n.bind(n,45563)).then(xt=>xt.ObjectGeospatialMapComponent)];function Qe(xt,nn){if(1&xt&&t.nrm(0,"ds-object-geospatial-map",3),2&xt){const ht=t.XpG(2);t.Y8G("objects",ht.objects)}}function ke(xt,nn){1&xt&&(t.DNE(0,Qe,1,1),t.nv$(1,0,Ht),t.g25())}function Le(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"ds-object-list",4),t.bIt("paginationChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPaginationChange(At))})("pageChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageChange(At))})("pageSizeChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageSizeChange(At))})("sortDirectionChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortDirectionChange(At))})("deselectObject",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.deselectObject.emit(At))})("selectObject",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.selectObject.emit(At))})("sortFieldChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortFieldChange(At))})("importObject",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.importObject.emit(At))})("contentChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.contentChange.emit(At))})("prev",function(){t.eBV(ht);const At=t.XpG();return t.Njj(At.goPrev())})("next",function(){t.eBV(ht);const At=t.XpG();return t.Njj(At.goNext())}),t.k0s()}if(2&xt){const ht=t.XpG();t.Y8G("ngClass",ht.placeholderFontClass)("config",ht.config)("sortConfig",ht.sortConfig)("objects",ht.objects)("hasBorder",ht.hasBorder)("hideGear",ht.hideGear)("linkType",ht.linkType)("context",ht.context)("hidePaginationDetail",ht.hidePaginationDetail)("showRSS",ht.showRSS)("showPaginator",ht.showPaginator)("showThumbnails",ht.showThumbnails)("selectable",ht.selectable)("selectionConfig",ht.selectionConfig)("importable",ht.importable)("importConfig",ht.importConfig)}}function Xe(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"ds-object-grid",5),t.bIt("paginationChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPaginationChange(At))})("pageChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageChange(At))})("pageSizeChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageSizeChange(At))})("sortDirectionChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortDirectionChange(At))})("sortFieldChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortFieldChange(At))}),t.k0s()}if(2&xt){const ht=t.XpG();t.Y8G("config",ht.config)("sortConfig",ht.sortConfig)("objects",ht.objects)("hideGear",ht.hideGear)("linkType",ht.linkType)("context",ht.context)("hidePaginationDetail",ht.hidePaginationDetail)("showPaginator",ht.showPaginator)("showThumbnails",ht.showThumbnails)}}function ct(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"ds-object-detail",6),t.bIt("contentChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.contentChange.emit(At))}),t.k0s()}if(2&xt){const ht=t.XpG();t.Y8G("config",ht.config)("sortConfig",ht.sortConfig)("objects",ht.objects)("hideGear",ht.hideGear)("showRSS",ht.showRSS)("linkType",ht.linkType)("context",ht.context)("hidePaginationDetail",ht.hidePaginationDetail)("showPaginator",ht.showPaginator)("showThumbnails",ht.showThumbnails)}}function Wt(xt,nn){if(1&xt){const ht=t.RV6();t.j41(0,"ds-object-table",5),t.bIt("paginationChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPaginationChange(At))})("pageChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageChange(At))})("pageSizeChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onPageSizeChange(At))})("sortDirectionChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortDirectionChange(At))})("sortFieldChange",function(At){t.eBV(ht);const On=t.XpG();return t.Njj(On.onSortFieldChange(At))}),t.k0s()}if(2&xt){const ht=t.XpG();t.Y8G("config",ht.config)("sortConfig",ht.sortConfig)("objects",ht.objects)("hideGear",ht.hideGear)("linkType",ht.linkType)("context",ht.context)("hidePaginationDetail",ht.hidePaginationDetail)("showPaginator",ht.showPaginator)("showThumbnails",ht.showThumbnails)}}let fn=(()=>{class xt{constructor(ht,Ft,At,On,Vn){this.cdRef=ht,this.route=Ft,this.router=At,this.elementRef=On,this.platformId=Vn,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.showRSS=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=y.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,c.T)(ht=>(0,E.Im)(ht?.view)?y.n.ListElement:ht.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Yt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(ht){this.pageChange.emit(ht)}onPageSizeChange(ht){this.pageSizeChange.emit(ht)}onSortDirectionChange(ht){this.sortDirectionChange.emit(ht)}onSortFieldChange(ht){this.sortFieldChange.emit(ht)}onPaginationChange(ht){this.paginationChange.emit(ht)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Ft){return new(Ft||xt)(t.rXU(t.gRc),t.rXU(me.nX),t.rXU(me.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:xt,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showRSS","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"config","sortConfig","objects","hideGear","showRSS","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"objects"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showRSS","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","showRSS","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(Ft,At){1&Ft&&(t.DNE(0,ke,3,0),t.nI1(1,"async"),t.DNE(2,Le,1,16,"ds-object-list",0),t.nI1(3,"async"),t.nI1(4,"async"),t.DNE(5,Xe,1,9,"ds-object-grid",1),t.nI1(6,"async"),t.DNE(7,ct,1,10,"ds-object-detail",2),t.nI1(8,"async"),t.DNE(9,Wt,1,9,"ds-object-table",1),t.nI1(10,"async")),2&Ft&&(t.vxM(t.bMT(1,5,At.currentMode$)===At.viewModeEnum.GeospatialMap?0:-1),t.R7$(2),t.vxM(t.bMT(3,7,At.currentMode$)===At.viewModeEnum.ListElement||t.bMT(4,9,At.currentMode$)===At.viewModeEnum.GeospatialMap?2:-1),t.R7$(3),t.vxM(t.bMT(6,11,At.currentMode$)===At.viewModeEnum.GridElement?5:-1),t.R7$(2),t.vxM(t.bMT(8,13,At.currentMode$)===At.viewModeEnum.DetailedListElement?7:-1),t.R7$(2),t.vxM(t.bMT(10,15,At.currentMode$)===At.viewModeEnum.Table?9:-1))},dependencies:[i.Jj,i.YU,L,q,on,oe],styles:["[_nghost-%COMP%]{display:block}"]})}}return xt})()},32588:(U,b,n)=>{"use strict";n.r(b),n.d(b,{AccessStatusBadgeComponent:()=>S});var i=n(60177),t=n(68018),c=n(7673),e=n(96354),f=n(99437),m=n(8177),p=n(21832),y=n(4093),E=n(4600),v=n(78544),O=n(15862),C=n(89777),I=n(54438);const D=T=>({date:T});function R(T,w){if(1&T&&(I.SS7(0),I.nI1(1,"async"),I.j41(2,"span")(3,"span",1),I.EFF(4),I.nI1(5,"translate"),I.k0s(),I.EFF(6),I.nI1(7,"translate"),I.j41(8,"span",1),I.EFF(9,", "),I.k0s()()),2&T){const M=I.XpG(2),L=I.bMT(1,4,M.embargoDate$);I.R7$(2),I.HbH("badge bg-secondary dont-break-out access-status-list-element-badge "+M.accessStatusClass),I.R7$(2),I.JRh(I.bMT(5,6,"listelement.badge.access-status")),I.R7$(2),I.SpI(" ",I.i5U(7,8,w,I.eq3(11,D,L))," ")}}function h(T,w){if(1&T&&(I.DNE(0,R,10,13,"span",0),I.nI1(1,"async")),2&T){let M;const L=I.XpG();I.vxM((M=I.bMT(1,1,L.accessStatus$))?0:-1,M)}}let S=(()=>{class T{constructor(M){this.linkService=M,this.subs=[]}ngOnInit(){if((0,C.a4)(this.object))switch((0,C.a4)(this.object.accessStatus)||this.linkService.resolveLink(this.object,(0,E.s)("accessStatus")),this.object.type){case O.q.type.value:this.handleItem();break;case p._.type.value:this.handleBitstream()}}ngOnDestroy(){this.subs.filter(M=>(0,C.a4)(M)).forEach(M=>M.unsubscribe())}handleItem(){this.showAccessStatus=v.c.item.showAccessStatuses,this.showAccessStatus&&(this.accessStatus$=this.object.accessStatus.pipe((0,y.ak)(),(0,e.T)(M=>(0,C.a4)(M.status)?M.status:"unknown"),(0,e.T)(M=>`access-status.${M.toLowerCase()}.listelement.badge`),(0,f.W)(()=>(0,c.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(M=>M.replace(/\./g,"-"))).subscribe(M=>{this.accessStatusClass=M})))}handleBitstream(){this.showAccessStatus=v.c.item.bitstream.showAccessStatuses,this.showAccessStatus&&(this.embargoDate$=this.object.accessStatus.pipe((0,y.ak)(),(0,e.T)(M=>(0,C.a4)(M.embargoDate)?M.embargoDate:null),(0,f.W)(()=>(0,c.of)(null))),this.subs.push(this.embargoDate$.pipe().subscribe(M=>{(0,C.a4)(M)&&(this.accessStatus$=(0,c.of)("embargo.listelement.badge"))})))}static{this.\u0275fac=function(L){return new(L||T)(I.rXU(m._))}}static{this.\u0275cmp=I.VBU({type:T,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[I.aNF],decls:1,vars:1,consts:[[3,"class"],[1,"sr-only"]],template:function(L,N){1&L&&I.DNE(0,h,2,3),2&L&&I.vxM(N.showAccessStatus?0:-1)},dependencies:[i.Jj,t.h,t.D9],styles:["span[_ngcontent-%COMP%]{white-space:normal}"]})}}return T})()},442:(U,b,n)=>{"use strict";n.d(b,{E:()=>t});const t=new(n(44043).v)("accessStatus")},78584:(U,b,n)=>{"use strict";n.d(b,{I:()=>p}),n(73685);var t=n(29710),e=(n(32588),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(v){return n(50822)(`./${v}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32588))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},46213:(U,b,n)=>{"use strict";n.r(b),n.d(b,{BadgesComponent:()=>O});var i=n(40940),c=(n(73685),n(78584)),e=n(8400),f=n(66840),m=n(91880),p=n(54438);function y(C,I){if(1&C&&p.nrm(0,"ds-my-dspace-status-badge",1),2&C){const D=p.XpG();p.Y8G("context",D.context)}}function E(C,I){if(1&C&&p.nrm(0,"ds-access-status-badge",0),2&C){const D=p.XpG();p.Y8G("object",D.object)}}const v=[i.o.MyDSpaceArchived,i.o.MyDSpaceWorkspace,i.o.MyDSpaceWorkflow,i.o.MyDSpaceDeclined,i.o.MyDSpaceApproved,i.o.MyDSpaceWaitingController,i.o.MyDSpaceValidation];let O=(()=>{class C{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return v.includes(this.context)}static{this.\u0275fac=function(R){return new(R||C)}}static{this.\u0275cmp=p.VBU({type:C,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[p.aNF],decls:5,vars:4,consts:[[3,"object"],[3,"context"],[1,"pe-1",3,"object"]],template:function(R,h){1&R&&(p.nrm(0,"ds-status-badge",0),p.DNE(1,y,1,1,"ds-my-dspace-status-badge",1),p.j41(2,"div"),p.nrm(3,"ds-type-badge",2),p.DNE(4,E,1,1,"ds-access-status-badge",0),p.k0s()),2&R&&(p.Y8G("object",h.object),p.R7$(),p.vxM(h.isMyDSpaceStatus?1:-1),p.R7$(2),p.Y8G("object",h.object),p.R7$(),p.vxM(h.showAccessStatus?4:-1))},dependencies:[c.I,e.Q,f.o,m.C]})}}return C})()},40086:(U,b,n)=>{"use strict";n.r(b),n.d(b,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(68018),t=n(40940),c=n(54438);let e=(()=>{class f{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(y){return new(y||f)}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[c.aNF],decls:9,vars:7,consts:[[3,"className"],[1,"sr-only"]],template:function(y,E){1&y&&(c.j41(0,"div")(1,"span",0)(2,"span",1),c.EFF(3),c.nI1(4,"translate"),c.k0s(),c.EFF(5),c.nI1(6,"translate"),c.j41(7,"span",1),c.EFF(8,", "),c.k0s()()()),2&y&&(c.R7$(),c.Y8G("className",E.badgeClass),c.R7$(2),c.JRh(c.bMT(4,3,"mydspace.status")),c.R7$(2),c.SpI(" ",c.bMT(6,5,"mydspace.status."+E.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return f})()},8400:(U,b,n)=>{"use strict";n.d(b,{Q:()=>p}),n(40940);var t=n(29710),e=(n(40086),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(v){return n(87596)(`./${v}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,40086))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},20122:(U,b,n)=>{"use strict";n.r(b),n.d(b,{StatusBadgeComponent:()=>p});var i=n(68018),c=(n(73685),n(89777)),e=n(54438);function f(y,E){1&y&&(e.j41(0,"div",0)(1,"span",2)(2,"span",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.EFF(5),e.nI1(6,"translate"),e.j41(7,"span",3),e.EFF(8,", "),e.k0s()()()),2&y&&(e.R7$(3),e.JRh(e.bMT(4,2,"item.badge.status")),e.R7$(2),e.SpI(" ",e.bMT(6,4,"item.badge.private")," "))}function m(y,E){1&y&&(e.j41(0,"div",1)(1,"span",3),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"span",3),e.EFF(8,", "),e.k0s()()),2&y&&(e.R7$(2),e.JRh(e.bMT(3,2,"item.badge.status")),e.R7$(3),e.JRh(e.bMT(6,4,"item.badge.withdrawn")))}let p=(()=>{class y{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let v=this.object;(0,c.a4)(v.indexableObject)&&(v=v.indexableObject);const O=(0,c.a4)(v);this.privateBadge=O&&(0,c.a4)(v.isDiscoverable)&&!v.isDiscoverable,this.withdrawnBadge=O&&(0,c.a4)(v.isWithdrawn)&&v.isWithdrawn}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[[1,"private-badge"],[1,"withdrawn-badge"],[1,"badge","bg-danger"],[1,"sr-only"],[1,"badge","bg-warning"]],template:function(O,C){1&O&&e.DNE(0,f,9,6,"div",0)(1,m,9,6,"div",1),2&O&&(e.vxM(C.privateBadge?0:-1),e.R7$(),e.vxM(C.withdrawnBadge?1:-1))},dependencies:[i.h,i.D9],encapsulation:2})}}return y})()},66840:(U,b,n)=>{"use strict";n.d(b,{o:()=>p}),n(73685);var t=n(29710),e=(n(20122),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(v){return n(52504)(`./${v}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,20122))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},83333:(U,b,n)=>{"use strict";n.d(b,{F:()=>y}),n(40940),n(73685);var c=n(29710),f=(n(46213),n(54438));const m=["*"];function p(E,v){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(O){return n(70295)(`./${O}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,46213))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=f.xGo(E)))(I||E)}})()}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return E})()},91880:(U,b,n)=>{"use strict";n.d(b,{C:()=>p}),n(73685);var t=n(29710),e=(n(30598),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(v){return n(45796)(`./${v}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,30598))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},30598:(U,b,n)=>{"use strict";n.r(b),n.d(b,{TypeBadgeComponent:()=>p});var i=n(68018),t=n(45451),e=(n(73685),n(89777)),f=n(54438);function m(y,E){if(1&y&&(f.j41(0,"span")(1,"span",0),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"span",1),f.EFF(5),f.nI1(6,"translate"),f.k0s(),f.j41(7,"span",0),f.EFF(8,", "),f.k0s()()),2&y){const v=f.XpG();f.R7$(2),f.JRh(f.bMT(3,2,"listelement.badge.dso-type")),f.R7$(3),f.JRh(f.bMT(6,4,v.typeMessage))}}let p=(()=>{class y{set object(v){this._object=v;const O=this._object.getRenderTypes();if(!(0,e.Im)(O.length)){const C=O[0];if(C instanceof Function){const I=(0,t.zA)(v.type);this._typeMessage=(0,e.a4)(I)?`${I.toLowerCase()}.listelement.badge`:`${C.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${C.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[f.aNF],decls:1,vars:1,consts:[[1,"sr-only"],[1,"badge","bg-info"]],template:function(O,C){1&O&&f.DNE(0,m,9,6,"span"),2&O&&f.vxM(C.typeMessage?0:-1)},dependencies:[i.h,i.D9],encapsulation:2})}}return y})()},71622:(U,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(49891);class t extends i.q{}},64537:(U,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(49891);class t extends i.q{}},87083:(U,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(49891);class t extends i.q{}},93644:(U,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(49891);class t extends i.q{}},97593:(U,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(49891);class t extends i.q{}},22260:(U,b,n)=>{"use strict";n.d(b,{L:()=>t});var i=n(49891);class t extends i.q{}},57565:(U,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(54438),t=n(68018);n(77766);let e=(()=>{class f{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(y){return new(y||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"me-2"],[1,"btn","btn-outline-primary","btn-sm","float-start",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(y,E){1&y&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return E.importObject.emit(E.object)}),i.nrm(3,"i",2),i.k0s()()),2&y&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==E.importConfig?null:E.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return f})()},39210:(U,b,n)=>{"use strict";n.d(b,{H:()=>e});var i=n(31635),t=n(94152),c=n(49891);let e=class extends c.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(c.q)],e)},77766:(U,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(94152);class t extends i._U{}},8447:(U,b,n)=>{"use strict";n.d(b,{v:()=>O});var i=n(54438),t=n(96697),f=(n(40940),n(19192),n(43764)),m=n(73838),E=(n(79669),n(77766),n(21193));function v(C,I){}let O=(()=>{class C extends f.e{constructor(D,R){super(D),this.themeService=D,this.cdr=R,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(D=>{D&&(this.destroyComponentInstance(),this.object=D,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(D))})}getComponent(){return(0,E.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(R){return new(R||C)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:C,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(R,h){1&R&&i.DNE(0,v,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return C})()},21193:(U,b,n)=>{"use strict";n.d(b,{A2:()=>p,SS:()=>y,VK:()=>C,Zx:()=>I,e8:()=>m,eW:()=>h,mo:()=>D,zD:()=>v});var i=n(54438),t=n(78544),c=n(40940),e=n(19192),f=n(89777);const m=e.n.ListElement,p=c.o.Any,y="*";class E{constructor(T,w,M){this.match=T,this.level=w,this.relevancy=M}isMoreRelevantThan(T){return!!(0,f.Tn)(T)||!(T.level>this.level||T.level===this.level&&T.relevancy>this.relevancy)}isLessRelevantThan(T){return!this.isMoreRelevantThan(T)}}const v=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>R}),O=new Map;function C(S,T,w=p,M=y){return function(N){(0,f.Tn)(S)||((0,f.Tn)(O.get(S))&&O.set(S,new Map),(0,f.Tn)(O.get(S).get(T))&&O.get(S).set(T,new Map),(0,f.Tn)(O.get(S).get(T).get(w))&&O.get(S).get(T).set(w,new Map),O.get(S).get(T).get(w).set(M,N))}}function I(S,T,w=p,M=y){let L=null;for(const N of S){const j=O.get(N);if((0,f.a4)(j)){const $=D(j,[T,w,M],[m,p,y]);((0,f.Tn)(L)||L.isLessRelevantThan($))&&(L=$)}}return(0,f.a4)(L)?L.match:null}function D(S,T,w){let M=S,L=-1,N=0;for(let j=0;j<T.length;j++){let $=w[j]===y?h(M,T[j]):M.get(T[j]);if((0,f.Tn)($)?($=M.get(w[j]),-1===L&&(L=j)):N++,!(0,f.a4)($))return null;if(!($ instanceof Map))return new E($,L>-1?L:j+1,N);M=$}return null}const R=S=>t.c.themes.find(T=>T.name===S),h=(S,T,w=[])=>{const M=S.get(T);if((0,f.a4)(M))return M;{const L=R(T);if((0,f.a4)(L)&&(0,f.hj)(L.extends)){const N=L.extends,j=[...w,T];if(w.includes(N))throw new Error("Theme extension cycle detected: "+[...j,N].join(" -> "));return h(S,N,j)}}}},14726:(U,b,n)=>{"use strict";n.d(b,{b:()=>R});var i=n(60177),t=n(7901),c=n(68018),e=n(983),f=n(73028),m=n(96354),p=n(43446),y=n(8177),E=n(4093),v=n(89777),O=n(4600),C=n(54438);const I=h=>["/collections",h];function D(h,S){if(1&h&&(C.j41(0,"div",0)(1,"span",1),C.EFF(2),C.nI1(3,"translate"),C.j41(4,"a",2),C.nI1(5,"async"),C.EFF(6),C.nI1(7,"async"),C.k0s()()()),2&h){let T;const w=C.XpG();C.R7$(2),C.SpI("",C.bMT(3,3,"collection.listelement.badge"),": "),C.R7$(2),C.Y8G("routerLink",C.eq3(9,I,null==(T=C.bMT(5,5,w.collection$))?null:T.id)),C.R7$(2),C.SpI(" ",w.dsoNameService.getName(C.bMT(7,7,w.collection$))," ")}}let R=(()=>{class h{constructor(T,w){this.linkService=T,this.dsoNameService=w}ngOnInit(){this.linkService.resolveLinks(this.object,(0,O.s)("workflowitem",{isOptional:!0},(0,O.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,E.qD)(),(0,f.Z)(T=>T.hasSucceeded&&(0,v.hj)(T.payload)?T.payload.collection.pipe((0,E.qD)(),(0,m.T)(w=>w.hasSucceeded&&(0,v.hj)(w.payload)?w.payload:null)):e.w))}static{this.\u0275fac=function(w){return new(w||h)(C.rXU(y._),C.rXU(p.f))}}static{this.\u0275cmp=C.VBU({type:h,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:2,vars:3,consts:[[1,"mt-2","mb-2"],[1,"link-muted"],[3,"routerLink"]],template:function(w,M){1&w&&(C.DNE(0,D,8,11,"div",0),C.nI1(1,"async")),2&w&&C.vxM(C.bMT(1,1,M.collection$)?0:-1)},dependencies:[i.Jj,t.Wk,c.h,c.D9]})}}return h})()},90626:(U,b,n)=>{"use strict";n.d(b,{s:()=>D});var i=n(60177),t=n(68018),c=n(983),e=n(73028),f=n(96354),m=n(43446),p=n(8177),y=n(4093),E=n(89777),v=n(4600),O=n(54438);function C(R,h){if(1&R&&O.EFF(0),2&R){const S=O.XpG();O.SpI(" ",S.dsoNameService.getName(h)," ")}}function I(R,h){1&R&&(O.EFF(0),O.nI1(1,"translate")),2&R&&O.SpI(" ",O.bMT(1,1,"submitter.empty")," ")}let D=(()=>{class R{constructor(S,T){this.dsoNameService=S,this.linkService=T}ngOnInit(){this.linkService.resolveLinks(this.object,(0,v.s)("workflowitem",{},(0,v.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,y.qD)(),(0,e.Z)(S=>S.hasSucceeded&&(0,E.hj)(S.payload)?S.payload.submitter.pipe((0,y.qD)(),(0,f.T)(T=>T.hasSucceeded&&(0,E.hj)(T.payload)?T.payload:null)):c.w))}static{this.\u0275fac=function(T){return new(T||R)(O.rXU(m.f),O.rXU(p._))}}static{this.\u0275cmp=O.VBU({type:R,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[O.aNF],decls:8,vars:6,consts:[[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","bg-info"]],template:function(T,w){if(1&T&&(O.j41(0,"div",0)(1,"span",1),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"span",2),O.DNE(5,C,1,1),O.nI1(6,"async"),O.DNE(7,I,2,3),O.k0s()()()),2&T){let M;O.R7$(2),O.SpI(" ",O.bMT(3,2,"submission.workflow.tasks.generic.submitter"),": "),O.R7$(3),O.vxM((M=O.bMT(6,4,w.submitter$))?5:7,M)}},dependencies:[i.Jj,t.h,t.D9]})}}return R})()},79032:(U,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(54438),t=n(43446),c=n(40940),e=n(19192),f=n(79669);let m=(()=>{class p{constructor(E){this.dsoNameService=E,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=f.n,this.viewModes=e.n,this.contexts=c.o}static{this.\u0275fac=function(v){return new(v||p)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(v,O){},encapsulation:2})}}return p})()},55621:(U,b,n)=>{"use strict";n.d(b,{d:()=>t});var i=n(49891);class t extends i.q{}},62643:(U,b,n)=>{"use strict";n.d(b,{Y:()=>D});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(65245),m=n(96697),p=n(96354),y=n(76089),E=n(50186);function O(R,h){if(1&R){const S=t.RV6();t.j41(0,"input",5,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(w){t.eBV(S);const M=t.XpG(2);return t.Njj(M.selectCheckbox(w))}),t.k0s()}if(2&R){const S=t.sdS(1),T=t.XpG(2);t.Y8G("name","checkbox"+T.index)("id","object"+T.index)("ngModel",t.bMT(2,4,T.selected$)),t.BMQ("aria-label",t.bMT(3,6,S.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function C(R,h){if(1&R){const S=t.RV6();t.j41(0,"input",6),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(S);const w=t.XpG().ngVar,M=t.XpG();return t.Njj(M.selectRadio(!w))}),t.k0s()}if(2&R){const S=t.XpG(2);t.Y8G("name","radio"+S.index)("id","object"+S.index)("checked",t.bMT(1,4,S.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function I(R,h){if(1&R&&(t.qex(0),t.j41(1,"span",2),t.DNE(2,O,4,8,"input",3)(3,C,3,8,"input",4),t.k0s(),t.bVm()),2&R){const S=t.XpG();t.R7$(2),t.vxM(S.selectionConfig.repeatable?2:-1),t.R7$(),t.vxM(S.selectionConfig.repeatable?-1:3)}}n(77766);let D=(()=>{class R{constructor(S){this.selectionService=S,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,f.i)(1)).subscribe(S=>{S?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(S){S?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(S){S&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,p.T)(w=>w?w.selection:[])).subscribe(w=>{w.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(T){return new(T||R)(t.rXU(y.K))}}static{this.\u0275cmp=t.VBU({type:R,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"name","id","checked"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(T,w){1&T&&(t.DNE(0,I,4,2,"ng-container",1),t.nI1(1,"async")),2&T&&t.Y8G("ngVar",t.bMT(1,1,null==w.selectionService?null:w.selectionService.isObjectSelected(null==w.selectionConfig?null:w.selectionConfig.listId,w.object)))},dependencies:[i.Jj,c.YN,c.Zm,c.BC,c.vS,e.h,e.D9,E.r],encapsulation:2})}}return R})()},59194:(U,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(49891);class t extends i.q{}},62378:(U,b,n)=>{"use strict";n.d(b,{I:()=>t});var i=n(49891);class t extends i.q{}},98288:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ItemDetailPreviewFieldComponent:()=>O});var i=n(68018),c=(n(15862),n(61880)),e=n(72862),m=(n(49891),n(54438));function p(C,I){if(1&C&&m.nrm(0,"span",2),2&C){const D=m.XpG(3);m.Y8G("innerHTML",D.separator,m.npT)}}function y(C,I){if(1&C&&(m.j41(0,"span"),m.EFF(1),m.DNE(2,p,1,1,"span",2),m.k0s()),2&C){const D=I.$implicit,R=I.$index,h=I.$count;m.R7$(),m.SpI(" ",D,""),m.R7$(),m.vxM(R!==h-1?2:-1)}}function E(C,I){if(1&C&&m.Z7z(0,y,3,2,"span",null,m.fX1),2&C){const D=m.XpG();m.Dyx(D.allMetadataValues(D.metadata))}}function v(C,I){if(1&C&&(m.j41(0,"span",1),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&C){const D=m.XpG();m.R7$(),m.JRh(m.bMT(2,1,D.placeholder))}}let O=(()=>{class C{allMetadataValues(D){return c.O.allValues([this.object.hitHighlights,this.item.metadata],D)}static{this.\u0275fac=function(R){return new(R||C)}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[m.aNF],decls:4,vars:5,consts:[[3,"label"],[1,"text-muted"],[3,"innerHTML"]],template:function(R,h){1&R&&(m.j41(0,"ds-metadata-field-wrapper",0),m.nI1(1,"translate"),m.DNE(2,E,2,0)(3,v,3,3,"span",1),m.k0s()),2&R&&(m.Y8G("label",m.bMT(1,3,h.label)),m.R7$(2),m.vxM(h.item.hasMetadata(h.metadata)?2:-1),m.R7$(),m.vxM(h.item.hasMetadata(h.metadata)?-1:3))},dependencies:[e.Q,i.h,i.D9],encapsulation:2})}}return C})()},66977:(U,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(44043).v)("identifiers")},38117:(U,b,n)=>{"use strict";n.d(b,{t:()=>m});var i=n(31635),t=n(72153),c=n(95970),e=n(77766),f=n(52467);let m=class extends e.u{static{this.type=f.t}constructor(y=c._.Error,E="listable-notification-object.default-message",...v){super(),this.notificationType=y,this.message=E,this.type=f.t,this.renderTypes=v}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},52467:(U,b,n)=>{"use strict";n.d(b,{t:()=>t});const t=new(n(44043).v)("listable-notification-object")},85401:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ItemListPreviewComponent:()=>V});var i=n(60177),t=n(68018),f=(n(40940),n(56327),n(79096)),m=n(43446),y=(n(15862),n(49170)),E=n(2180),v=n(83333),O=n(14726),C=n(90626),D=(n(49891),n(24100)),R=n(25713),h=n(54438);const S=G=>({lead:!0,"text-muted":G}),T=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],w=G=>({"text-muted":G});function M(G,X){if(1&G&&(h.j41(0,"div",1),h.nrm(1,"ds-thumbnail",3),h.nI1(2,"async"),h.k0s()),2&G){const J=h.XpG();h.R7$(),h.Y8G("thumbnail",h.bMT(2,2,null==J.item?null:J.item.thumbnail))("limitWidth",!0)}}function L(G,X){if(1&G&&h.nrm(0,"span",10),2&G){const J=h.XpG(2);h.Y8G("innerHTML",J.item.firstMetadataValue("dc.publisher")+", ",h.npT)}}function N(G,X){1&G&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&G&&(h.R7$(),h.JRh(h.bMT(2,1,"mydspace.results.no-authors")))}function j(G,X){1&G&&(h.j41(0,"span"),h.EFF(1,"; "),h.k0s())}function $(G,X){if(1&G&&(h.j41(0,"span")(1,"span",16),h.nrm(2,"span",16),h.k0s(),h.DNE(3,j,2,0,"span"),h.k0s()),2&G){const J=X.$implicit,q=X.$index,ne=X.$count;h.R7$(),h.Y8G("innerHTML",J,h.npT),h.R7$(),h.Y8G("innerHTML",J,h.npT),h.R7$(),h.vxM(q!==ne-1?3:-1)}}function k(G,X){if(1&G&&(h.j41(0,"span",12),h.DNE(1,N,3,3,"span"),h.Z7z(2,$,4,3,"span",null,h.fX1),h.k0s()),2&G){const J=h.XpG(2);h.R7$(),h.vxM(0===J.item.allMetadataValues(h.lJ4(1,T)).length?1:-1),h.R7$(),h.Dyx(J.item.allMetadataValues(h.lJ4(2,T)))}}function K(G,X){if(1&G&&h.nrm(0,"ds-item-submitter",15),2&G){const J=h.XpG(2);h.Y8G("object",J.object.indexableObject)}}function z(G,X){if(1&G&&(h.j41(0,"div")(1,"div",4),h.nrm(2,"ds-badges",5),h.k0s(),h.j41(3,"ds-truncatable",6),h.nrm(4,"h2",7),h.j41(5,"div")(6,"span",8)(7,"ds-truncatable-part",9),h.EFF(8," ("),h.DNE(9,L,1,1,"span",10),h.nrm(10,"span",11),h.nI1(11,"translate"),h.EFF(12,") "),h.DNE(13,k,4,3,"span",12),h.k0s()(),h.j41(14,"ds-truncatable-part",13),h.nrm(15,"span",14),h.nI1(16,"translate"),h.k0s()()(),h.DNE(17,K,1,1,"ds-item-submitter",15),h.nrm(18,"ds-item-collection",15),h.k0s()),2&G){const J=h.XpG();h.Y8G("@fadeInOut",void 0),h.R7$(2),h.Y8G("object",J.item)("context",J.badgeContext)("showAccessStatus",!0),h.R7$(),h.Y8G("id",J.item.id),h.R7$(),h.Y8G("innerHTML",J.dsoTitle,h.npT)("ngClass",h.eq3(22,S,!J.item.firstMetadataValue("dc.title"))),h.R7$(3),h.Y8G("id",J.item.id)("minLines",1),h.R7$(2),h.vxM(J.item.hasMetadata("dc.publisher")?9:-1),h.R7$(),h.Y8G("innerHTML",J.item.firstMetadataValue("dc.date.issued")||h.bMT(11,18,"mydspace.results.no-date"),h.npT),h.R7$(3),h.vxM(J.item.hasMetadata(h.lJ4(24,T))?13:-1),h.R7$(),h.Y8G("id",J.item.id)("minLines",1),h.R7$(),h.Y8G("ngClass",h.eq3(25,w,!J.item.firstMetadataValue("dc.description.abstract")))("innerHTML",J.item.firstMetadataValue("dc.description.abstract")||h.bMT(16,20,"mydspace.results.no-abstract"),h.npT),h.R7$(2),h.vxM(J.showSubmitter?17:-1),h.R7$(),h.Y8G("object",J.object.indexableObject)}}let V=(()=>{class G{constructor(J,q){this.appConfig=J,this.dsoNameService=q,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(q){return new(q||G)(h.rXU(f.vQ),h.rXU(m.f))}}static{this.\u0275cmp=h.VBU({type:G,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[h.aNF],decls:4,vars:3,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object"],[3,"innerHTML"]],template:function(q,ne){1&q&&(h.j41(0,"div",0),h.DNE(1,M,3,4,"div",1),h.j41(2,"div",2),h.DNE(3,z,19,27,"div"),h.k0s()()),2&q&&(h.R7$(),h.vxM(ne.showThumbnails?1:-1),h.R7$(),h.Y8G("ngClass",ne.showThumbnails?"col-9":"col-md-12"),h.R7$(),h.vxM(ne.item?3:-1))},dependencies:[i.Jj,O.b,C.s,i.YU,v.F,y.T,t.h,t.D9,D.d,R.W],data:{animation:[E.Ws]}})}}return G})()},86296:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ObjectListComponent:()=>M});var i=n(60177),t=n(54438),m=(n(70998),n(25788),n(40940),n(19192)),p=n(2180),E=(n(79669),n(57565)),v=n(8447),O=n(62643),C=n(2175),I=n(33745),D=n(76089);const R=L=>({"ml-4":L});function h(L,N){if(1&L){const j=t.RV6();t.j41(0,"ds-selectable-list-item-control",7),t.bIt("deselectObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.deselectObject.emit(k))})("selectObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.selectObject.emit(k))}),t.k0s()}if(2&L){const j=t.XpG(),$=j.$implicit,k=j.$index,K=t.XpG(2);t.Y8G("index",k)("object",$)("selectionConfig",K.selectionConfig)}}function S(L,N){if(1&L){const j=t.RV6();t.j41(0,"ds-importable-list-item-control",8),t.bIt("importObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.importObject.emit(k))}),t.k0s()}if(2&L){const j=t.XpG().$implicit,$=t.XpG(2);t.Y8G("object",j)("importConfig",$.importConfig)}}function T(L,N){if(1&L){const j=t.RV6();t.j41(0,"li",3),t.nI1(1,"dsBrowserOnly"),t.DNE(2,h,1,3,"ds-selectable-list-item-control",4)(3,S,1,2,"ds-importable-list-item-control",5),t.j41(4,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(k){t.eBV(j);const K=t.XpG(2);return t.Njj(K.contentChange.emit(k))}),t.k0s()()}if(2&L){const j=N.$implicit,$=N.$index,k=N.$count,K=t.XpG(2);t.AVh("border-bottom",K.hasBorder&&$!==k-1),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.vxM(K.selectable?2:-1),t.R7$(),t.vxM(K.importable?3:-1),t.R7$(),t.Y8G("object",j)("viewMode",K.viewMode)("index",$)("context",K.context)("linkType",K.linkType)("listID",null==K.selectionConfig?null:K.selectionConfig.listId)}}function w(L,N){if(1&L&&(t.j41(0,"ul",1),t.Z7z(1,T,5,13,"li",2,t.fX1),t.k0s()),2&L){const j=t.XpG();t.Y8G("ngClass",t.eq3(1,R,j.selectable)),t.R7$(),t.Dyx(null==j.objects||null==j.objects.payload?null:j.objects.payload.page)}}let M=(()=>{class L{set objects(j){this._objects=j}get objects(){return this._objects}constructor(j){this.selectionService=j,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.showRSS=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(j){this.pageChange.emit(j)}onPageSizeChange(j){this.pageSizeChange.emit(j)}onSortDirectionChange(j){this.sortDirectionChange.emit(j)}onSortFieldChange(j){this.sortFieldChange.emit(j)}onPaginationChange(j){this.paginationChange.emit(j)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function($){return new($||L)(t.rXU(D.K))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:10,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","showRSS","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["data-test","objects",1,"list-unstyled",3,"ngClass"],[1,"mt-4","mb-4","d-flex",3,"border-bottom"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig"],[3,"object","importConfig"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function($,k){1&$&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(z){return k.onPageChange(z)})("pageSizeChange",function(z){return k.onPageSizeChange(z)})("sortDirectionChange",function(z){return k.onSortDirectionChange(z)})("sortFieldChange",function(z){return k.onSortFieldChange(z)})("paginationChange",function(z){return k.onPaginationChange(z)})("prev",function(){return k.goPrev()})("next",function(){return k.goNext()}),t.DNE(1,w,3,3,"ul",1),t.k0s()),2&$&&(t.Y8G("paginationOptions",k.config)("collectionSize",null==k.objects||null==k.objects.payload?null:k.objects.payload.totalElements)("objects",k.objects)("sortOptions",k.sortConfig)("hideGear",k.hideGear)("showRSS",k.showRSS)("hidePagerWhenSinglePage",k.hidePagerWhenSinglePage)("hidePaginationDetail",k.hidePaginationDetail)("showPaginator",k.showPaginator),t.R7$(),t.vxM(null!=k.objects&&k.objects.hasSucceeded?1:-1))},dependencies:[I.L,E.$,v.v,i.YU,C.e,O.Y],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[p.qG]}})}}return L})()},15610:(U,b,n)=>{"use strict";n.d(b,{k:()=>J});var i=n(31635),t=n(60177),c=n(7901),e=n(19192),f=n(92767),m=n(49170),p=n(83333),y=n(39210),E=n(21193),v=n(24100),O=n(25713),C=n(26971),I=n(54438);const D=q=>[q],R=()=>["dc.contributor.author","dc.creator","dc.contributor.*"];function h(q,ne){if(1&q&&(I.j41(0,"a",6),I.nrm(1,"ds-thumbnail",8),I.nI1(2,"async"),I.k0s()),2&q){const ee=I.XpG(2);I.Y8G("target",ee.linkType===ee.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(7,D,ee.itemPageRoute)),I.BMQ("rel",ee.linkType===ee.linkTypes.ExternalLink?"noopener noreferrer":null),I.R7$(),I.Y8G("thumbnail",I.bMT(2,5,null==ee.dso?null:ee.dso.thumbnail))("limitWidth",!0)}}function S(q,ne){if(1&q&&(I.j41(0,"span",7),I.nrm(1,"ds-thumbnail",8),I.nI1(2,"async"),I.k0s()),2&q){const ee=I.XpG(2);I.R7$(),I.Y8G("thumbnail",I.bMT(2,2,null==ee.dso?null:ee.dso.thumbnail))("limitWidth",!0)}}function T(q,ne){if(1&q&&(I.j41(0,"div",1),I.DNE(1,h,3,9,"a",6)(2,S,3,4,"span",7),I.k0s()),2&q){const ee=I.XpG();I.R7$(),I.vxM(ee.linkType!==ee.linkTypes.None?1:-1),I.R7$(),I.vxM(ee.linkType===ee.linkTypes.None?2:-1)}}function w(q,ne){if(1&q&&I.nrm(0,"ds-badges",4),2&q){const ee=I.XpG();I.Y8G("object",ee.dso)("context",ee.context)("showAccessStatus",!0)}}function M(q,ne){if(1&q&&I.nrm(0,"a",9),2&q){const ee=I.XpG(2);I.Y8G("target",ee.linkType===ee.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(4,D,ee.itemPageRoute))("innerHTML",ee.dsoTitle,I.npT),I.BMQ("rel",ee.linkType===ee.linkTypes.ExternalLink?"noopener noreferrer":null)}}function L(q,ne){if(1&q&&I.nrm(0,"span",10),2&q){const ee=I.XpG(2);I.Y8G("innerHTML",ee.dsoTitle,I.npT)}}function N(q,ne){if(1&q&&I.nrm(0,"span",15),2&q){const ee=I.XpG(3);I.Y8G("innerHTML",ee.firstMetadataValue("dc.publisher"),I.npT)}}function j(q,ne){1&q&&(I.j41(0,"span"),I.EFF(1,", "),I.k0s())}function $(q,ne){if(1&q&&I.nrm(0,"span",16),2&q){const ee=I.XpG(3);I.Y8G("innerHTML",ee.firstMetadataValue("dc.date.issued"),I.npT)}}function k(q,ne){if(1&q&&(I.EFF(0," ("),I.DNE(1,N,1,1,"span",15)(2,j,2,0,"span")(3,$,1,1,"span",16),I.EFF(4,") ")),2&q){const ee=I.XpG(2);I.R7$(),I.vxM(ee.dso.firstMetadataValue("dc.publisher")?1:-1),I.R7$(),I.vxM(ee.dso.firstMetadataValue("dc.publisher")&&ee.dso.firstMetadataValue("dc.date.issued")?2:-1),I.R7$(),I.vxM(ee.dso.firstMetadataValue("dc.date.issued")?3:-1)}}function K(q,ne){1&q&&(I.j41(0,"span"),I.EFF(1,"; "),I.k0s())}function z(q,ne){if(1&q&&(I.j41(0,"span")(1,"span",17),I.nrm(2,"span",17),I.k0s(),I.DNE(3,K,2,0,"span"),I.k0s()),2&q){const ee=ne.$implicit,fe=ne.$index,ye=ne.$count;I.R7$(),I.Y8G("innerHTML",ee,I.npT),I.R7$(),I.Y8G("innerHTML",ee,I.npT),I.R7$(),I.vxM(fe!==ye-1?3:-1)}}function V(q,ne){if(1&q&&(I.j41(0,"span",13),I.Z7z(1,z,4,3,"span",null,I.fX1),I.k0s()),2&q){const ee=I.XpG(2);I.R7$(),I.Dyx(ee.allMetadataValues(I.lJ4(0,R)))}}function G(q,ne){if(1&q&&(I.j41(0,"div",14)(1,"ds-truncatable-part",12),I.nrm(2,"span",17),I.k0s()()),2&q){const ee=I.XpG(2);I.R7$(),I.Y8G("id",ee.dso.id)("minLines",3),I.R7$(),I.Y8G("innerHTML",ee.firstMetadataValue("dc.description.abstract"),I.npT)}}function X(q,ne){if(1&q&&(I.j41(0,"ds-truncatable",5),I.DNE(1,M,1,6,"a",9)(2,L,1,1,"span",10),I.j41(3,"span",11)(4,"ds-truncatable-part",12),I.DNE(5,k,5,3)(6,V,3,1,"span",13),I.k0s()(),I.DNE(7,G,3,3,"div",14),I.k0s()),2&q){const ee=I.XpG();I.Y8G("id",ee.dso.id),I.R7$(),I.vxM(ee.linkType!==ee.linkTypes.None?1:-1),I.R7$(),I.vxM(ee.linkType===ee.linkTypes.None?2:-1),I.R7$(2),I.Y8G("id",ee.dso.id)("minLines",1),I.R7$(),I.vxM(ee.dso.firstMetadataValue("dc.publisher")||ee.dso.firstMetadataValue("dc.date.issued")?5:-1),I.R7$(),I.vxM(ee.dso.allMetadata(I.lJ4(8,R)).length>0?6:-1),I.R7$(),I.vxM(ee.dso.firstMetadataValue("dc.description.abstract")?7:-1)}}let J=class yM extends C.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,f._o)(this.dso)}static{this.\u0275fac=(()=>{let ne;return function(fe){return(ne||(ne=I.xGo(yM)))(fe||yM)}})()}static{this.\u0275cmp=I.VBU({type:yM,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[I.Vt3,I.aNF],decls:6,vars:4,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","limitWidth"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-authors"],[1,"item-list-abstract"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[3,"innerHTML"]],template:function(ee,fe){1&ee&&(I.j41(0,"div",0),I.DNE(1,T,3,2,"div",1),I.j41(2,"div",2)(3,"div",3),I.DNE(4,w,1,3,"ds-badges",4),I.k0s(),I.DNE(5,X,8,9,"ds-truncatable",5),I.k0s()()),2&ee&&(I.R7$(),I.vxM(fe.showThumbnails?1:-1),I.R7$(),I.Y8G("ngClass",fe.showThumbnails?"col-9":"col-md-12"),I.R7$(2),I.vxM(fe.showLabel?4:-1),I.R7$(),I.vxM(null!=fe.object?5:-1))},dependencies:[t.Jj,t.YU,c.Wk,p.F,m.T,v.d,O.W],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})}};J=(0,i.Cg)([(0,E.VK)("PublicationSearchResult",e.n.ListElement),(0,E.VK)(y.H,e.n.ListElement)],J)},26971:(U,b,n)=>{"use strict";n.d(b,{P:()=>y});var i=n(79096),t=n(43446),c=n(61880),e=n(89777),f=n(79032),m=n(44860),p=n(54438);let y=(()=>{class E extends f.C{constructor(O,C,I){super(C),this.truncatableService=O,this.dsoNameService=C,this.appConfig=I}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(O){const C=c.O.allValues([this.dso.metadata],O),I=c.O.allValues([this.object.hitHighlights],O),D=I.map(R=>R.replace(/<\/?em>/g,""));for(let R=0;R<D.length;R++){const h=C.indexOf(D[R]);-1!==h&&(C[h]=I[R])}return C}firstMetadataValue(O){return c.O.firstValue([this.object.hitHighlights,this.dso.metadata],O)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(C){return new(C||E)(p.rXU(m.F),p.rXU(t.f),p.rXU(i.vQ))}}static{this.\u0275cmp=p.VBU({type:E,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[p.Vt3,p.aNF],decls:0,vars:0,template:function(C,I){},encapsulation:2})}}return E})()},56361:(U,b,n)=>{"use strict";n.d(b,{Gk:()=>p,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>E,t3:()=>f});var i=n(6800);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class c{constructor(O,C){this.type=O,this.id=C}}class e extends c{constructor(O,C){super(t.SELECT,O),this.payload=C}}class f extends c{constructor(O,C){super(t.SELECT_SINGLE,O),this.payload={object:C}}}class m extends c{constructor(O,C){super(t.DESELECT_SINGLE,O),this.payload=C}}class p extends c{constructor(O,C){super(t.DESELECT,O),this.payload=C}}class E extends c{constructor(O){super(t.DESELECT_ALL,O)}}},76089:(U,b,n)=>{"use strict";n.d(b,{K:()=>v});var i=n(59640),t=n(96354),c=n(23294),e=n(23679),f=n(89777),m=n(56361),p=n(54438);const y=O=>O.selectableLists;let v=(()=>{class O{constructor(I){this.store=I}getSelectableList(I){return this.store.pipe((0,i.Lt)((O=>(0,e.pc)(O,y))(I)))}selectSingle(I,D){this.store.dispatch(new m.t3(I,D))}select(I,D){this.store.dispatch(new m.ZH(I,D))}deselectSingle(I,D){this.store.dispatch(new m.Yd(I,D))}deselect(I,D){this.store.dispatch(new m.Gk(I,D))}deselectAll(I){this.store.dispatch(new m.hf(I))}isObjectSelected(I,D){return this.getSelectableList(I).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)&&(0,f.a4)(R.selection.find(h=>h.equals(D)))),(0,c.F)())}findSelectedByCondition(I,D){return this.getSelectableList(I).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)?R.selection.find(h=>D(h)):void 0))}static{this.\u0275fac=function(D){return new(D||O)(p.KVO(i.il))}}static{this.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},53844:(U,b,n)=>{"use strict";n.d(b,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>p,YE:()=>y,bx:()=>E,u7:()=>f});var i=n(6800);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class c{constructor(O,C){this.key=O,this.id=C}}class e extends c{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class f extends c{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends c{constructor(){super(...arguments),this.type=t.SELECT}}class p extends c{constructor(){super(...arguments),this.type=t.DESELECT}}class y extends c{constructor(){super(...arguments),this.type=t.SWITCH}}class E extends c{constructor(){super(...arguments),this.type=t.RESET}}},94525:(U,b,n)=>{"use strict";n.d(b,{Zb:()=>E,iv:()=>v});var i=n(48125),t=n.n(i),c=n(83278),e=n.n(c),f=n(95341),m=n.n(f),p=n(89777);function E(O){if("object"==typeof O){if(0===Object.keys(O).length)return!0;{let I=!0;for(const D in O)if((0,p.hj)(O[D])){I=!1;break}return I}}}function v(O,C){const I=(D,R)=>m()(D,(h,S,T)=>{if(!t()(S,R[T])&&(0,p.hj)(S)){const w=e()(S)&&e()(R[T])?I(S,R[T]):S;E(w)||(h[T]=w)}});return I(O,C)}},70780:(U,b,n)=>{"use strict";n.d(b,{b:()=>C});var i=n(60177),t=n(89417),c=n(96354),e=n(96697),f=n(31),p=(n(74272),n(50553)),y=n(59398),E=n(54438),v=n(7901);function O(I,D){if(1&I&&(E.j41(0,"option",2),E.nI1(1,"async"),E.EFF(2),E.k0s()),2&I){const R=D.$implicit,h=E.XpG();E.Y8G("value",R)("selected",R===+E.bMT(1,3,h.paginationOptions$).pageSize?"selected":null),E.R7$(2),E.SpI(" ",R," ")}}let C=(()=>{class I{constructor(R,h,S,T){this.route=R,this.router=h,this.paginationService=S,this.searchConfigurationService=T}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,c.T)(R=>R.pagination))}reloadRPP(R){const h=R.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(S=>{this.paginationService.updateRoute(S.id,{page:1,pageSize:+h})})}static{this.\u0275fac=function(h){return new(h||I)(E.rXU(v.nX),E.rXU(v.Ix),E.rXU(f.m),E.rXU(p.EN))}}static{this.\u0275cmp=E.VBU({type:I,selectors:[["ds-page-size-selector"]],standalone:!0,features:[E.aNF],decls:5,vars:4,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected"]],template:function(h,S){1&h&&(E.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),E.bIt("changed",function(w){return S.reloadRPP(w)}),E.Z7z(2,O,3,5,"option",2,E.fX1),E.nI1(4,"async"),E.k0s()()),2&h&&(E.R7$(),E.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),E.R7$(),E.Dyx(E.bMT(4,2,S.paginationOptions$).pageSizeOptions))},dependencies:[i.Jj,t.YN,t.xH,t.y7,y.v],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return I})()},8417:(U,b,n)=>{"use strict";n.d(b,{W:()=>c});var i=n(58003),t=n(54438);let c=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(y){return(m||(m=t.xGo(e)))(y||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},2175:(U,b,n)=>{"use strict";n.d(b,{e:()=>re});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),f=n(7673),m=n(96354),p=n(25558),y=n(99172),E=n(96697),v=n(70998),C=(n(25788),n(31)),I=n(19192),D=n(79104),R=n(89777),h=n(50842),S=n(7901),T=n(84412),w=n(5964),M=n(78544),L=n(94925),N=n(2086),j=n(4093),$=n(74272),k=n(47561);function K(Z,le){1&Z&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",2),t.k0s()()),2&Z&&(t.R7$(),t.Y8G("href",le,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description")))}function z(Z,le){if(1&Z&&(t.DNE(0,K,5,7,"div",0),t.nI1(1,"async")),2&Z){let ce;const ve=t.XpG();t.vxM((ce=t.bMT(1,1,ve.route$))?0:-1,ce)}}let V=(()=>{class Z{constructor(ce,ve,ze,Se,et,$e,st,We){this.groupDataService=ce,this.linkHeadService=ve,this.configurationService=ze,this.searchConfigurationService=Se,this.router=et,this.route=$e,this.paginationService=st,this.translateService=We,this.route$=new T.t(""),this.isEnabled$=new T.t(null),this.isActivated$=new T.t(!1),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(ce=>{ce.unsubscribe()})}ngOnInit(){(0,R.a4)(this.route.snapshot.data?.enableRSS)?this.isActivated$.next(this.route.snapshot.data.enableRSS):(0,R.b0)(this.route.snapshot.data?.enableRSS)&&this.isActivated$.next(!1),this.uuid=this.groupDataService.getUUIDFromString(this.router.url),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,j.qD)()).subscribe(ce=>{if(ce.hasSucceeded){const ve="true"===ce.payload.values[0];this.isEnabled$.next(ve),ve&&this.getOpenSearchUri()}})),this.subs.push(this.router.events.pipe((0,w.p)(ce=>ce instanceof S.wF)).subscribe(()=>{this.uuid=this.groupDataService.getUUIDFromString(this.router.url),this.updateRssLinks()}))}ngOnChanges(ce){ce.sortConfig&&this.openSearchUri&&this.isEnabled$.getValue()&&this.updateRssLinks()}getOpenSearchUri(){this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,j.qD)(),(0,m.T)(ce=>ce.hasSucceeded?ce.payload.values[0]:null),(0,w.p)(ce=>!!ce)).subscribe(ce=>{this.openSearchUri=ce,this.updateRssLinks()}))}updateRssLinks(){if(!this.openSearchUri||!this.isEnabled$.getValue())return;this.linkHeadService.removeTag("rel='alternate'");const ve={...this.searchConfigurationService.paginatedSearchOptions.value};(0,R.a4)(this.sortConfig)&&(ve.sort=this.sortConfig);const ze=M.c.rest.baseUrl+this.formulateRoute(this.uuid,this.openSearchUri,ve.sort,ve.query,ve.filters,ve.configuration,ve.pagination?.pageSize,ve.fixedFilter);this.addLinks(ze),this.linkHeadService.addTag({href:M.c.rest.baseUrl+"/"+this.openSearchUri+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(ze)}formulateRoute(ce,ve,ze,Se,et,$e,st,We){let De="format=atom";if(ce&&(De+=`&scope=${ce}`),ze&&ze.direction&&ze.field&&"id"!==ze.field&&(De+=`&sort=${ze.field}&sort_direction=${ze.direction}`),De+=Se?`&query=${Se}`:"&query=*",$e&&(De+=`&configuration=${$e}`),st&&(De+=`&rpp=${st}`),et)for(const ut of et)for(const Ge of ut.values)De+="&"+ut.key+"="+encodeURIComponent(Ge)+(ut.operator?","+ut.operator:"");return We&&(De+="&"+We),De="/"+ve+"?"+De,De}addLinks(ce){this.linkHeadService.addTag({href:ce,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),ce=ce.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:ce,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(ve){return new(ve||Z)(t.rXU(N.GroupDataService),t.rXU(k.m),t.rXU(L.ConfigurationDataService),t.rXU($.g),t.rXU(S.Ix),t.rXU(S.nX),t.rXU(C.m),t.rXU(e.c$))}}static{this.\u0275cmp=t.VBU({type:Z,selectors:[["ds-rss"]],inputs:{sortConfig:"sortConfig"},exportAs:["rssComponent"],standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:5,consts:[[1,"d-inline-block","float-end","margin-right"],["target","_blank","rel","noopener noreferrer","role","button","tabindex","0",1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(ve,ze){1&ve&&(t.DNE(0,z,2,3),t.nI1(1,"async"),t.nI1(2,"async")),2&ve&&t.vxM(t.bMT(1,1,ze.isEnabled$)&&t.bMT(2,3,ze.isActivated$)?0:-1)},dependencies:[i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return Z})(),G=(()=>{class Z{transform(ce){const ve=[];for(const ze in ce)isNaN(parseInt(ze,10))?ve.push({key:ze,value:ce[ze]}):ve.push({key:+ze,value:ce[ze]});return ve}static{this.\u0275fac=function(ve){return new(ve||Z)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:Z,pure:!0,standalone:!0})}}return Z})();const X=["*"],J=Z=>({invisible:Z});function q(Z,le){if(1&Z&&(t.j41(0,"div",4)(1,"span",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",9),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&Z){const ce=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,ce.showingDetails$)))}}function ne(Z,le){if(1&Z){const ce=t.RV6();t.j41(0,"li",16),t.nI1(1,"async"),t.j41(2,"button",17),t.bIt("click",function(){const ze=t.eBV(ce).$implicit,Se=t.XpG(4);return t.Njj(Se.doPageSizeChange(ze))}),t.nrm(3,"i",18),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&Z){const ce=le.$implicit,ve=t.XpG(4);t.BMQ("aria-selected",ce===t.bMT(1,3,ve.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,J,ce!==t.bMT(4,5,ve.pageSize$))),t.R7$(2),t.SpI(" ",ce," ")}}function ee(Z,le){if(1&Z){const ce=t.RV6();t.j41(0,"li",16),t.nI1(1,"async"),t.j41(2,"button",17),t.bIt("click",function(){const ze=t.eBV(ce).$implicit,Se=t.XpG(5);return t.Njj(Se.doSortDirectionChange(ze.value))}),t.nrm(3,"i",18),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&Z){const ce=le.$implicit,ve=t.XpG(5);t.BMQ("aria-selected",ce.value===t.bMT(1,3,ve.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,J,ce.value!==t.bMT(4,5,ve.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+ce.key)," ")}}function fe(Z,le){if(1&Z&&(t.j41(0,"li",13)(1,"span",19),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",20),t.Z7z(5,ee,7,11,"li",16,t.fX1),t.nI1(7,"dsKeys"),t.k0s()()),2&Z){const ce=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,1,"pagination.sort-direction")),t.R7$(3),t.Dyx(t.bMT(7,3,ce.sortDirections))}}function ye(Z,le){if(1&Z&&(t.j41(0,"div",6,0)(2,"button",10),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",11),t.k0s(),t.j41(6,"ul",12)(7,"li",13)(8,"span",14),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",15),t.Z7z(12,ne,6,9,"li",16,t.fX1),t.k0s()(),t.DNE(14,fe,8,5,"li",13),t.k0s()()),2&Z){const ce=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,4,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,6,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,8,"pagination.results-per-page")),t.R7$(3),t.Dyx(ce.pageSizeOptions),t.R7$(2),t.vxM(!1===ce.hideSortOptions?14:-1)}}function oe(Z,le){if(1&Z&&t.nrm(0,"ds-rss",7),2&Z){const ce=t.XpG(3);t.Y8G("sortConfig",ce.rssSortOptions)}}function ue(Z,le){if(1&Z&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,q,8,9,"div",4),t.j41(3,"div",5),t.DNE(4,ye,15,10,"div",6)(5,oe,1,1,"ds-rss",7),t.k0s()()()),2&Z){const ce=t.XpG(2);t.R7$(2),t.vxM(!ce.hidePaginationDetail&&ce.collectionSize>0?2:-1),t.R7$(2),t.vxM(ce.hideGear?-1:4),t.R7$(),t.vxM(!1!==ce.showRSS?5:-1)}}function te(Z,le){if(1&Z){const ce=t.RV6();t.j41(0,"div",21)(1,"ngb-pagination",23),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(ze){t.eBV(ce);const Se=t.XpG(3);return t.Njj(Se.doPageChange(ze))}),t.k0s()()}if(2&Z){const ce=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",ce.paginationOptions.boundaryLinks)("collectionSize",ce.collectionSize)("disabled",ce.paginationOptions.disabled)("ellipses",ce.paginationOptions.ellipses)("maxSize",ce.isXs?5:ce.paginationOptions.maxSize)("page",t.bMT(2,10,ce.currentPage$))("pageSize",t.bMT(3,12,ce.pageSize$))("rotate",ce.paginationOptions.rotate)("size",ce.isXs?"sm":ce.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+ce.paginationOptions.id)}}function se(Z,le){if(1&Z){const ce=t.RV6();t.j41(0,"div",22)(1,"button",24),t.bIt("click",function(){t.eBV(ce);const ze=t.XpG(3);return t.Njj(ze.goPrev())}),t.nrm(2,"i",25),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",26),t.bIt("click",function(){t.eBV(ce);const ze=t.XpG(3);return t.Njj(ze.goNext())}),t.j41(6,"span",27),t.nI1(7,"translate"),t.nrm(8,"i",28),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&Z){const ce=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.currentPage)<=1&&(null==ce.paginationOptions?null:ce.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.currentPage)>=(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.totalPages)||(null==ce.paginationOptions?null:ce.paginationOptions.currentPage)>=(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.currentPage)>=(null==ce.objects||null==ce.objects.payload?null:ce.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function be(Z,le){if(1&Z&&(t.j41(0,"div"),t.DNE(1,te,5,16,"div",21)(2,se,11,11,"div",22),t.k0s()),2&Z){const ce=t.XpG(2);t.R7$(),t.vxM(ce.showPaginator?1:-1),t.R7$(),t.vxM(ce.showPaginator?-1:2)}}function me(Z,le){if(1&Z&&(t.j41(0,"div",1),t.DNE(1,ue,6,3,"div",2),t.SdG(2),t.DNE(3,be,3,2,"div"),t.nI1(4,"async"),t.k0s()),2&Z){const ce=t.XpG();t.Y8G("id","p-"+ce.id),t.R7$(),t.vxM(!ce.hidePaginationDetail&&ce.collectionSize>0||!ce.hideGear?1:-1),t.R7$(2),t.vxM(t.bMT(4,3,ce.showBottomPager$)?3:-1)}}let re=(()=>{class Z{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(ce=>{this.isXs=ce,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(ce){(0,R.a4)(ce.collectionSize)&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(ce=>(0,R.a4)(ce)).forEach(ce=>ce.unsubscribe())}initializeConfig(){let ce;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ve=>ve.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ve=>ve.pageSize)),ce=this.sortOptions?this.sortOptions:new v.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,ce).pipe((0,m.T)(ve=>ve.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,ce).pipe((0,m.T)(ve=>ve.field)),this.showBottomPager$=this.shouldShowBottomPager}constructor(ce,ve,ze){this.cdRef=ce,this.paginationService=ve,this.hostWindowService=ze,this.viewMode=I.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.showRSS=!1,this.currentPageState=void 0,this.sortDirections=v.U,this.defaultsortDirection=v.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(ce){this.updateParams({page:ce}),this.emitPaginationChange()}doPageSizeChange(ce){this.updateParams({page:1,pageSize:ce}),this.emitPaginationChange()}doSortDirectionChange(ce){this.updateParams({page:1,sortDirection:ce}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(ce){this.paginationService.updateRoute(this.id,ce,{},this.retainScrollPosition)}getShowingDetails(ce){return(0,f.of)(ce).pipe((0,R.Az)(),(0,p.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(ve=>{let ze;const Se=ve.pageSize*ve.currentPage;return ze=ce>Se?Se:ce,{range:`${ve.pageSize*(ve.currentPage-1)+1} - ${ze}`,total:ce}}),(0,y.Z)({range:"null - null",total:null}))}checkConfig(ce){const ze=["id","currentPage","pageSize","pageSizeOptions"].filter(Se=>!(Se in ce));if(0<ze.length)throw new Error("Paginate: Argument is missing the following required properties: "+ze.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ce=>this.collectionSize>ce.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(ce=>ce||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(ce){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,E.s)(1)).subscribe(ve=>{this.updateParams({page:ve.currentPage+ce})})}get rssSortOptions(){return!1!==this.showRSS&&this.showRSS instanceof v.z&&null!==this.showRSS.direction&&null!==this.showRSS.field?this.showRSS:this.sortOptions}static{this.\u0275fac=function(ve){return new(ve||Z)(t.rXU(t.gRc),t.rXU(C.m),t.rXU(h.CV))}}static{this.\u0275cmp=t.VBU({type:Z,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition",showRSS:"showRSS"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:X,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id"],[1,"pagination-masked","clearfix","top"],[1,"row"],[1,"col-auto","pagination-info"],[1,"col"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-end"],[3,"sortConfig"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false","role","button","tabindex","0",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option"],["role","button","tabindex","0",1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],[1,"pagination","justify-content-center","clearfix","bottom"],[1,"d-flex","justify-content-between"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],["id","nav-prev","type","button","role","button","tabindex","0",1,"btn","btn-outline-primary","float-start",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button","role","button","tabindex","0",1,"btn","btn-outline-primary","float-end",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(ve,ze){1&ve&&(t.NAR(),t.DNE(0,me,5,5,"div",1),t.nI1(1,"async")),2&ve&&t.vxM(void 0===ze.currentPageState||ze.currentPageState===t.bMT(1,1,ze.currentPage$)?0:-1)},dependencies:[i.Jj,D.A,G,c.zH,c.tg,c.do,c.U0,c.c9,c.s5,c.n8,c.md,i.YU,V,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return Z})()},34180:(U,b,n)=>{"use strict";n.d(b,{CX:()=>y,PM:()=>v,SP:()=>p,V7:()=>h,Wh:()=>I});var i=n(21626),t=n(7673),c=n(78544),e=n(25788),f=n(85186);const m=(new Date).getTime();function p(S,T=m){return new e.j(T,c.c.cache.msToLive.default,T,f.zE.Success,void 0,S,200)}function y(S,T){return(0,t.of)(p(S,T))}function E(S,T,w=15778368e5){return new e.j(w,c.c.cache.msToLive.default,w,f.zE.Error,S,void 0,T)}function v(S,T,w){return(0,t.of)(E(S,T,w))}function I(S){return p(void 0,S)}function h(S){return(0,t.of)(function R(S){const T=E();return S instanceof Error&&(T.errorMessage=S.message),S instanceof i.yz&&(T.statusCode=S.status),T}(S))}},93164:(U,b,n)=>{"use strict";n.d(b,{U:()=>f});var i=n(29710),t=n(54438);const c=["*"];function e(m,p){}let f=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(y){return n(79086)(`./${y}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,89296))}static{this.\u0275fac=(()=>{let y;return function(v){return(y||(y=t.xGo(m)))(v||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,v){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},44461:(U,b,n)=>{"use strict";n.d(b,{q:()=>y});var i=n(84572),t=n(5964),c=n(96354),e=n(61594),f=n(70161),m=n(89777),p=n(54438);let y=(()=>{class E{constructor(O,C,I,D){this.roleService=O,this.viewContainer=C,this.changeDetector=I,this.templateRef=D,this.subs=[]}ngOnChanges(O){this.hasRoles(this.dsShowOnlyForRole),O.dsShowOnlyForRole?this.validateOnly():O.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(O=>(0,m.a4)(O)).forEach(O=>O.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(O=>O)).subscribe(O=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(O=>!O)).subscribe(O=>{this.showTemplateBlockInView()}))}hasRoles(O){const I=(Array.isArray(O)?O:[O]).map(D=>this.roleService.checkRole(D));return(0,i.z)(I).pipe((0,c.T)(D=>D.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(C){return new(C||E)(p.rXU(f.W),p.rXU(p.c1b),p.rXU(p.gRc),p.rXU(p.C4Q))}}static{this.\u0275dir=p.FsC({type:E,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[p.OA$]})}}return E})()},84733:(U,b,n)=>{"use strict";n.d(b,{$s:()=>t,Jc:()=>c,aE:()=>f,zX:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class c{constructor(p,y){this.type=t.ADD,this.payload={name:p,value:y}}}class e{constructor(p){this.type=t.ADD_ALL,this.payload=p}}class f{constructor(){this.type=t.CLEAR}}},87837:(U,b,n)=>{"use strict";n.d(b,{J:()=>y});var i=n(59640),t=n(23679),c=n(58956),e=n(73409),f=n(89777),m=n(84733),p=n(54438);let y=(()=>{class I{constructor(R){this.store=R,this.isSameDomain=h=>!h.href||0===h.href.indexOf(window.location.origin),this.hasCssRules=h=>{try{return h.cssRules}catch{return!1}},this.isStyleRule=h=>1===h.type}addCSSVariable(R,h){this.store.dispatch(new m.Jc(R,h))}addCSSVariables(R){this.store.dispatch(new m.zX(R))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(R){return this.store.pipe((0,i.Lt)(v(R)))}getAllVariables(){return this.store.pipe((0,i.Lt)(E))}searchVariable(R,h){return this.store.pipe((0,i.Lt)(O(R,h)))}getCSSVariablesFromStylesheets(R){return(0,f.hj)(R.styleSheets)?[...R.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((h,S)=>h.concat([...S.cssRules].filter(this.isStyleRule).reduce((T,w)=>[...T,...[...w.style].map(L=>({key:L.trim(),value:w.style.getPropertyValue(L).trim()})).filter(({key:L})=>0===L.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(h){return new(h||I)(p.KVO(i.il))}}static{this.\u0275prov=p.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const E=I=>I.cssVariables,v=I=>(0,t.pc)(I,E),O=(I,D)=>(0,i.Mz)(C(I),R=>{if((0,f.a4)(R)){const{currentPage:h,pageSize:S}=D,T=(h-1)*S,M=R.slice(T,T+S),L=Math.ceil(R.length/S),N=new e.Q({currentPage:h,elementsPerPage:S,totalElements:R.length,totalPages:L});return(0,c.g)(N,M)}}),C=I=>(0,i.Mz)(E,D=>{if((0,f.a4)(D))return Object.keys(D).filter(R=>R.includes(I)).map(R=>({key:R,value:D[R]}))})},19375:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFormComponent:()=>z});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),f=n(68018),m=n(84412),p=n(96697),y=n(43446),E=n(98733),v=n(31),O=n(4093),C=n(40645),I=n(74272),D=n(4255),R=n(89777),h=n(33745),S=n(54034),T=n(78544),w=n(70998),M=n(40940),L=n(93136),N=n(16903),j=n(44905),$=n(7901);let k=(()=>{class V extends j.${constructor(X,J){super(X,J),this.activeModal=X,this.route=J,this.Context=M.o,this.objectType=L.W.COMMUNITY,this.selectorTypes=[L.W.COMMUNITY,L.W.COLLECTION],this.action=j.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new w.z(T.c.comcolSelectionSort.sortField,T.c.comcolSelectionSort.sortDirection)}navigate(X){this.scopeChange.emit(X)}static{this.\u0275fac=function(J){return new(J||V)(t.rXU(e.Lw),t.rXU($.nX))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"position-relative","py-1","my-3","fw-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","context","currentDSOId","types","sort"]],template:function(J,q){1&J&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return q.selectObject(void 0)}),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return q.selectObject(void 0)}),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"hr"),t.j41(11,"div",5)(12,"span",6),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"h2",7),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"ds-dso-selector",8),t.bIt("onSelect",function(ee){return q.selectObject(ee)}),t.k0s()()()),2&J&&(t.R7$(2),t.SpI("",t.bMT(3,8,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".head")," "),t.R7$(5),t.JRh(t.bMT(8,10,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(14,12,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(17,14,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("context",q.Context.ScopeSelectorModal)("currentDSOId",null==q.dsoRD?null:q.dsoRD.payload.uuid)("types",q.selectorTypes)("sort",q.defaultSort))},dependencies:[N.x,f.h,f.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return V})();function K(V,G){if(1&V){const X=t.RV6();t.j41(0,"button",7),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.openScopeModal())}),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s()}if(2&V){const X=t.XpG();t.Y8G("ngbTooltip",X.dsoNameService.getName(t.bMT(1,2,X.selectedScope))),t.R7$(2),t.SpI(" ",X.dsoNameService.getName(t.bMT(3,4,X.selectedScope))||t.bMT(4,6,"search.form.scope.all")," ")}}let z=(()=>{class V{constructor(X,J,q,ne,ee,fe,ye,oe){this.router=X,this.searchService=J,this.searchFilterService=q,this.paginationService=ne,this.searchConfig=ee,this.modalService=fe,this.dsoService=ye,this.dsoNameService=oe,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,R.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,O.ak)()).subscribe(X=>this.selectedScope.next(X))}onSubmit(X){(0,R.hj)(this.scope)&&(X=Object.assign(X,{scope:this.scope})),this.updateSearch(X),this.submitSearch.emit(X)}onScopeChange(X){this.updateSearch({scope:X?X.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(X){const q=Object.assign({"spc.page":1},X);(0,R.a4)(X.scope)&&this.hideScopeInUrl&&delete q.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:q,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,S.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(k).componentInstance.scopeChange.pipe((0,p.s)(1)).subscribe(J=>{this.selectedScope.next(J),this.onScopeChange(J)})}static{this.\u0275fac=function(J){return new(J||V)(t.rXU($.Ix),t.rXU(C.S),t.rXU(D.U),t.rXU(v.m),t.rXU(I.g),t.rXU(e.Bq),t.rXU(E.DSpaceObjectDataService),t.rXU(y.f))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"mb-3","input-group"],["type","button","role","button","tabindex","0",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"ngbTooltip"],["type","text","name","query","tabindex","0",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit","role","button","tabindex","0"],[1,"fas","fa-search"],["type","button","role","button","tabindex","0",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(J,q){if(1&J){const ne=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(ne);const fe=t.sdS(1);return t.Njj(q.onSubmit(fe.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,K,5,8,"button",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(fe){return t.eBV(ne),t.DH7(q.query,fe)||(q.query=fe),t.Njj(fe)}),t.k0s(),t.j41(7,"button",5),t.nI1(8,"dsBrowserOnly"),t.nrm(9,"i",6),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()}2&J&&(t.R7$(4),t.vxM(q.showScopeSelector?4:-1),t.R7$(),t.R50("ngModel",q.query),t.Y8G("placeholder",q.searchPlaceholder),t.BMQ("aria-label",q.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(2),t.ZvI("search-button btn btn-",q.brandColor,""),t.BMQ("data-test",t.bMT(8,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(11,14,"search.form.search"),""))},dependencies:[i.Jj,h.L,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,e.n8,e.md,f.h,f.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return V})()},43144:(U,b,n)=>{"use strict";n.d(b,{d:()=>m});var i=n(54438),t=n(29710);n(19375);const e=["*"];function f(p,y){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(E){return n(76142)(`./${E}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,19375))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=i.xGo(p)))(O||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},36237:(U,b,n)=>{"use strict";n.d(b,{Q:()=>w});var i=n(60177),t=n(89417),c=n(68018),e=n(7673),f=n(96697),m=n(79096),p=n(40645),y=n(74272),E=n(4255),v=n(79104),O=n(89777),C=n(73336),I=n(39356),D=n(54438),R=n(7901);const h=(M,L)=>L.filter;function S(M,L){if(1&M&&(D.j41(0,"option",3),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&M){const N=L.$implicit;D.Y8G("value",N.filter),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.filter."+N.filter+".head")," ")}}function T(M,L){if(1&M&&(D.j41(0,"option",3),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&M){const N=L.$implicit;D.Y8G("value",N.operator),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.operator."+N.operator+".text")," ")}}let w=(()=>{class M{constructor(N,j,$,k,K){this.router=N,this.searchService=j,this.searchConfigurationService=$,this.searchFilterService=k,this.appConfig=K,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(N=>{const j=new Map;if(N.length>0){this.currentFilter=N[0].filter,this.currentOperator=N[0].operators[0].operator;for(const $ of N)$.type!==I.R.range&&j.set($.filter,$)}this.advancedFilterMap=j}))}ngOnDestroy(){this.subs.forEach(N=>N.unsubscribe())}findSuggestions(N){if((0,O.a4)(this.filtersConfig))for(const j of this.filtersConfig)j.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(j,this.searchConfigurationService.searchOptions.value,N))}applyFilter(){(0,O.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,f.s)(1)).subscribe(N=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:N}),this.currentValue=""})))}static{this.\u0275fac=function(j){return new(j||M)(D.rXU(R.Ix),D.rXU(p.S),D.rXU(y.g),D.rXU(E.U),D.rXU(m.vQ))}}static{this.\u0275cmp=D.VBU({type:M,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[D.aNF],decls:27,vars:32,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-select","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-select","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"]],template:function(j,$){if(1&j&&(D.j41(0,"h3"),D.EFF(1),D.nI1(2,"translate"),D.k0s(),D.j41(3,"div",0)(4,"h4"),D.EFF(5),D.nI1(6,"translate"),D.k0s(),D.j41(7,"label",1),D.EFF(8),D.nI1(9,"translate"),D.k0s(),D.j41(10,"select",2),D.mxI("ngModelChange",function(K){return D.DH7($.currentFilter,K)||($.currentFilter=K),K}),D.bIt("keyup.enter",function(){return $.applyFilter()})("ngModelChange",function(){return $.currentOperator=$.advancedFilterMap.get($.currentFilter).operators[0].operator}),D.Z7z(11,S,3,4,"option",3,h),D.nI1(13,"async"),D.k0s(),D.j41(14,"label",4),D.EFF(15),D.nI1(16,"translate"),D.k0s(),D.j41(17,"select",5),D.mxI("ngModelChange",function(K){return D.DH7($.currentOperator,K)||($.currentOperator=K),K}),D.bIt("keyup.enter",function(){return $.applyFilter()}),D.Z7z(18,T,3,4,"option",3,D.fX1),D.k0s(),D.j41(20,"ds-filter-input-suggestions",6),D.nI1(21,"async"),D.nI1(22,"translate"),D.nI1(23,"translate"),D.mxI("ngModelChange",function(K){return D.DH7($.currentValue,K)||($.currentValue=K),K}),D.bIt("submitSuggestion",function(){return $.applyFilter()})("findSuggestions",function(K){return $.findSuggestions(K)}),D.k0s(),D.j41(24,"button",7),D.bIt("click",function(){return $.applyFilter()}),D.EFF(25),D.nI1(26,"translate"),D.k0s()()),2&j){let k;D.R7$(),D.JRh(D.bMT(2,14,"search.sidebar.advanced-search.title")),D.R7$(4),D.JRh(D.bMT(6,16,"search.sidebar.advanced-search.filter-by")),D.R7$(3),D.SpI(" ",D.bMT(9,18,"search.sidebar.advanced-search.filters")," "),D.R7$(2),D.R50("ngModel",$.currentFilter),D.R7$(),D.Dyx(D.bMT(13,20,$.advancedFilters$)),D.R7$(4),D.SpI(" ",D.bMT(16,22,"search.sidebar.advanced-search.operators")," "),D.R7$(2),D.R50("ngModel",$.currentOperator),D.R7$(),D.Dyx(null==(k=$.advancedFilterMap.get($.currentFilter))?null:k.operators),D.R7$(2),D.Y8G("suggestions",D.bMT(21,24,$.filterSearchResults$))("placeholder",D.bMT(22,26,"search.filters.filter."+$.currentFilter+".placeholder"))("label",D.bMT(23,28,"search.filters.filter."+$.currentFilter+".label"))("action",$.router.url)("name","f."+$.currentFilter),D.R50("ngModel",$.currentValue),D.R7$(4),D.Y8G("dsBtnDisabled",""===$.currentValue),D.R7$(),D.SpI(" ",D.bMT(26,30,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,v.A,C.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,c.h,c.D9],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return M})()},43537:(U,b,n)=>{"use strict";n.d(b,{S:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0)},75594:(U,b,n)=>{"use strict";n.d(b,{L:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],c.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},39356:(U,b,n)=>{"use strict";n.d(b,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},30726:(U,b,n)=>{"use strict";n.d(b,{C:()=>c});var i=n(89777),t=n(25472);class c extends t.n{constructor(f){super(f),this.pagination=f.pagination,this.sort=f.sort,this.view=f.view}toRestUrl(f,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(f,m)}}},48337:(U,b,n)=>{"use strict";n.d(b,{F:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(94152);n(39356);const p=new(n(44043).v)("discovery-filter");let y=class{constructor(){this.type=p,this.pageSize=5}static{this.type=p}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],y.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],y.prototype,"pageSize",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"openByDefault"),(0,i.Sn)("design:type",Boolean)],y.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV],y)},97104:(U,b,n)=>{"use strict";n.d(b,{n:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(58956),f=n(94152),m=n(75370),p=n(49891);const E=new(n(44043).v)("discovery-objects");let v=class extends m.a{constructor(){super(...arguments),this.type=E}static{this.type=E}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(p.q,"objects"),(0,i.Sn)("design:type",Array)],v.prototype,"page",void 0),v=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],v)},25472:(U,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(19192),t=n(5127),c=n(89777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,p=[]){return(0,c.hj)(this.configuration)&&p.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,c.hj)(this.fixedFilter)&&p.push(this.encodedFixedFilter),(0,c.hj)(this.query)&&p.push(`query=${encodeURIComponent(this.query)}`),(0,c.hj)(this.scope)&&p.push(`scope=${encodeURIComponent(this.scope)}`),(0,c.hj)(this.dsoTypes)&&this.dsoTypes.forEach(y=>{p.push(`dsoType=${encodeURIComponent(y)}`)}),(0,c.hj)(this.filters)&&this.filters.forEach(y=>{y.values.forEach(E=>{const v=E.includes(",")?`${E}`:E+(y.operator?","+y.operator:"");p.push(`${y.key}=${this.encodeFilterQueryValue(v)}`)})}),(0,c.hj)(p)&&(m=new t.t(m,`?${p.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,c.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const p=m.match(/^(.*)(,\w+)$/);return(0,c.a4)(p)?encodeURIComponent(p[1])+p[2]:encodeURIComponent(m)}}},75370:(U,b,n)=>{"use strict";n.d(b,{a:()=>p});var i=n(31635),t=n(74850),c=n(58956),e=n(73409),f=n(43537);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class p extends c.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.S),(0,i.Sn)("design:type",Array)],p.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],p.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],p.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],p.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],p.prototype,"facets",void 0)},49891:(U,b,n)=>{"use strict";n.d(b,{q:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(54095),f=n(94152),m=n(77766);const y=new(n(44043).v)("searchresult");let E=class extends m.u{constructor(){super(...arguments),this.type=y}static{this.type=y}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],E.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,f.gM)("uuid"),(0,i.Sn)("design:type",Object)],E.prototype,"indexableObject",void 0),E=(0,i.Cg)([c.gV],E)},50825:(U,b,n)=>{"use strict";n.d(b,{w:()=>N});var i=n(60177),t=n(58003),c=n(68018),e=n(5964),f=n(25558),m=n(96354),p=n(99172),y=n(94925),E=n(11873),v=n(6170),O=n(60696),C=n(4093),I=n(44280),D=n(89777),R=n(9847),S=(n(30726),n(54438)),T=n(7901);function w(j,$){if(1&j&&(S.j41(0,"div",3)(1,"p",4),S.EFF(2),S.nI1(3,"translate"),S.k0s()()),2&j){const k=S.XpG();S.R7$(2),S.JRh(S.bMT(3,1,k.tooltipMsg))}}function M(j,$){if(1&j&&(S.j41(0,"div",3)(1,"p",4),S.EFF(2),S.nI1(3,"translate"),S.k0s(),S.j41(4,"p",5),S.EFF(5),S.k0s()()),2&j){const k=S.XpG();S.R7$(2),S.JRh(S.bMT(3,2,k.tooltipMsg)),S.R7$(3),S.JRh(k.exportLimitExceededMsg)}}function L(j,$){if(1&j){const k=S.RV6();S.j41(0,"button",6),S.nI1(1,"async"),S.nI1(2,"translate"),S.nI1(3,"async"),S.nI1(4,"translate"),S.nI1(5,"translate"),S.bIt("click",function(){S.eBV(k);const z=S.XpG();return S.Njj(z.export())}),S.nrm(6,"i",7),S.k0s()}if(2&j){const k=S.XpG(),K=S.sdS(1),z=S.sdS(3);S.Y8G("ngbTooltip",S.bMT(1,3,k.shouldShowWarning$)?z:K)("title",S.bMT(2,5,k.tooltipMsg)),S.BMQ("aria-label",S.bMT(3,7,k.shouldShowWarning$)?S.bMT(4,9,k.tooltipMsg)+" "+k.exportLimitExceededMsg:S.bMT(5,11,k.tooltipMsg))}}let N=(()=>{class j{constructor(k,K,z,V,G,X){this.scriptDataService=k,this.authorizationDataService=K,this.notificationsService=z,this.translateService=V,this.router=G,this.configurationService=X,this.tooltipMsg="metadata-export-search.tooltip",this.exportLimitExceededKey="metadata-export-search.submit.error.limit-exceeded",this.exportLimitExceededMsg=""}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(v._.AdministratorOf).pipe((0,e.p)(k=>k),(0,f.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(k=>k),(0,p.Z)(!1)),this.shouldShowWarning$=this.itemExceeds()}ngOnChanges(k){k.total&&(this.shouldShowWarning$=this.itemExceeds())}itemExceeds(){return this.configurationService.findByPropertyName("bulkedit.export.max.items").pipe((0,C.qD)(),(0,m.T)(k=>{const K=Number(k.payload?.values?.[0])||500;return K<this.total&&(this.exportLimitExceededMsg=this.translateService.instant(this.exportLimitExceededKey,{limit:String(K)}),!0)}))}export(){const k=[];if((0,D.a4)(this.searchConfig)&&((0,D.hj)(this.searchConfig.query)&&k.push({name:"-q",value:this.searchConfig.query}),(0,D.hj)(this.searchConfig.scope)&&k.push({name:"-s",value:this.searchConfig.scope}),(0,D.hj)(this.searchConfig.configuration)&&k.push({name:"-c",value:this.searchConfig.configuration}),(0,D.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(K=>{(0,D.a4)(K.values)&&K.values.forEach(z=>{let V,G;(0,D.a4)(K.operator)?(V=K.operator,G=z):(V=z.substring(z.lastIndexOf(",")+1),G=z.substring(0,z.lastIndexOf(",")));const X=`${K.key.substring(2)},${V}=${G}`;k.push({name:"-f",value:X})})}),(0,D.hj)(this.searchConfig.fixedFilter))){const z=this.searchConfig.fixedFilter.substring(2).split("=");if(z.length>1){const V=z[0],G=z[1].split(",");G.length>1&&k.push({name:"-f",value:`${V},${G[1]}=${G[0]}`})}}this.scriptDataService.invoke("metadata-export-search",k,[]).pipe((0,C.qD)()).subscribe(K=>{K.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,I.yJ)(K.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(K){return new(K||j)(S.rXU(O.ScriptDataService),S.rXU(E.AuthorizationDataService),S.rXU(R.I),S.rXU(c.c$),S.rXU(T.Ix),S.rXU(y.ConfigurationDataService))}}static{this.\u0275cmp=S.VBU({type:j,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig",total:"total"},standalone:!0,features:[S.OA$,S.aNF],decls:6,vars:3,consts:[["tipContent",""],["tipContentWarning",""],[1,"export-button","btn","btn-dark","btn-sm",3,"ngbTooltip","title"],[1,"tooltip-content"],[1,"m-0"],[1,"m-0","text-warning"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(K,z){1&K&&(S.DNE(0,w,4,3,"ng-template",null,0,S.C5r)(2,M,6,4,"ng-template",null,1,S.C5r)(4,L,7,13,"button",2),S.nI1(5,"async")),2&K&&(S.R7$(4),S.vxM(S.bMT(5,1,z.shouldShowButton$)?4:-1))},dependencies:[i.Jj,t.n8,t.md,c.h,c.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return j})()},75548:(U,b,n)=>{"use strict";n.d(b,{Bf:()=>v,Fi:()=>m,L2:()=>p,Po:()=>O,R0:()=>y,ge:()=>e,nj:()=>f,tq:()=>E,y$:()=>t});var i=n(6800);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class c{constructor(I){this.filterName=I}}class e extends c{constructor(){super(...arguments),this.type=t.COLLAPSE}}class f extends c{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends c{constructor(){super(...arguments),this.type=t.TOGGLE}}class p extends c{constructor(I){super(I.name),this.type=t.INITIALIZE,this.initiallyExpanded=I.isOpenByDefault}}class y extends c{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class E extends c{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class v extends c{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class O extends c{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86351:(U,b,n)=>{"use strict";n.d(b,{a:()=>Ta});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),f=n(99172),m=n(84572),p=n(25558),y=n(7673),E=n(5964),v=n(96354),O=n(40645),C=n(74272),I=n(4255),D=n(50553),R=n(13957),h=n(89777),S=n(33745),w=(n(48337),n(49969)),M=n(23294),L=n(96697),N=n(88141),j=n(57775),$=n(4093),k=n(54034),K=n(25472),z=n(7901);const V=["equals","authority","range"];let G=(()=>{class lt{constructor(pt,Vt,Bt,wn,hi){this.searchService=pt,this.filterService=Vt,this.rdbs=Bt,this.router=wn,this.searchConfigService=hi,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,y.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,M.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,v.T)(pt=>(0,h.Tn)(this.scope)?pt:Object.assign(new K.n(pt),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,v.T)(pt=>pt.filter(Vt=>V.includes(Vt.operator))),(0,M.F)((pt,Vt)=>JSON.stringify(pt)===JSON.stringify(Vt)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(pt){this.applyFilterValue(pt)}onClick(pt){this.applyFilterValue(pt.query)}hasValue(pt){return(0,h.a4)(pt)}ngOnDestroy(){this.subs.filter(pt=>(0,h.a4)(pt)).forEach(pt=>pt.unsubscribe())}findSuggestions(pt){this.subs.push(this.searchOptions$.pipe((0,L.s)(1)).subscribe(Vt=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,Vt,pt)}))}applyFilterValue(pt){if(pt.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const Vt=pt.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Vt.slice(0,Vt.length-1).join(),Vt[Vt.length-1]).pipe((0,L.s)(1)).subscribe(Bt=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Bt}),this.filter="",this.filterSearchResults$=(0,y.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,p.n)(([pt,Vt])=>this.searchService.getFacetValuesFor(this.filterConfig,Vt,pt).pipe((0,$.ak)(),(0,N.M)(Bt=>{this.isLastPage$.next((0,h.Tn)(Bt?.next)),this.isAvailableForShowSearchText.next(Bt?.page?.length<Bt?.facetLimit&&(0,h.Tn)(Bt?.next))}))),(0,v.T)(pt=>{let Vt=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),Vt=[],this.collapseNextUpdate=!1),1===pt.pageInfo.currentPage&&(Vt=[]),Vt=[...Vt,pt],Vt}),(0,N.M)(pt=>{this.animationState="ready",this.facetValues$.next(pt)}))}trackUpdate(pt,Vt){return Vt?Vt._links.search.href:void 0}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(O.S),t.rXU(I.U),t.rXU(j.o),t.rXU(z.Ix),t.rXU(D.EN))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Vt,Bt){},encapsulation:2})}}return lt})();const X=(0,w.hZ)("facetLoad",[(0,w.wk)("ready",(0,w.iF)({opacity:1})),(0,w.wk)("loading",(0,w.iF)({opacity:0})),(0,w.kY)("loading <=> ready",(0,w.i0)(100))]);var J=n(43764),q=n(60163),ne=n(39356),ee=n(89417),fe=n(73336),ye=n(31),oe=n(50808);let ue=(()=>{class lt{transform(pt,Vt){if(isNaN(pt)||(0,h.Im)(pt)||0===pt)return pt;let Bt=Math.abs(pt);const wn=Math.pow(10,1),hi=pt<0;let wi="";const $i=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let Ei=0;Ei<$i.length;Ei++){let Ls=Bt/$i[Ei].value;if(Ls=Math.round(Ls*wn)/wn,Ls>=1){Bt=Ls,wi=$i[Ei].key;break}}return(hi?"-":"")+Bt+wi}static{this.\u0275fac=function(Vt){return new(Vt||lt)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:lt,pure:!0,standalone:!0})}}return lt})();n(75594);var se=n(77868);const be=lt=>[lt],me=lt=>({default:lt});function re(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return Bt.announceFilter(),t.Njj(Bt.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&lt){const pt=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(13,be,pt.searchLink))("queryParams",t.bMT(1,6,pt.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,pt.filterValue.count)),t.R7$(2),t.SpI(" ",t.i5U(9,10,"search.filters."+pt.filterConfig.name+"."+pt.filterValue.value,t.eq3(15,me,pt.filterValue.value))," ")}}let Z=(()=>{class lt{constructor(pt,Vt,Bt,wn,hi,wi,$i){this.searchService=pt,this.filterService=Vt,this.searchConfigService=Bt,this.router=wn,this.paginationService=hi,this.liveRegionService=wi,this.translateService=$i}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,v.T)(pt=>!pt)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,se.SB)(this.filterValue,this.filterConfig)}announceFilter(){const pt=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(pt)}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(O.S),t.rXU(I.U),t.rXU(C.g),t.rXU(z.Ix),t.rXU(ye.m),t.rXU(oe.A),t.rXU(c.c$))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox","role","checkbox","tabindex","0",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","ps-1","break-facet"],[1,"float-end","badge","bg-secondary","rounded-pill","mt-1","ms-1"]],template:function(Vt,Bt){1&Vt&&(t.DNE(0,re,10,17,"a",0),t.nI1(1,"async")),2&Vt&&t.vxM(t.bMT(1,1,Bt.isVisible)?0:-1)},dependencies:[i.Jj,z.Wk,ue,c.h,c.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:fit-content}"]})}}return lt})();n(43537);const ce=lt=>[lt],ve=lt=>({default:lt});let ze=(()=>{class lt{constructor(pt,Vt,Bt,wn,hi){this.paginationService=pt,this.router=Vt,this.searchFilterService=Bt,this.searchService=wn,this.searchConfigService=hi}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(ye.m),t.rXU(z.Ix),t.rXU(I.U),t.rXU(O.S),t.rXU(C.g))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox","role","checkbox","tabindex","0",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","ps-1","break-facet"]],template:function(Vt,Bt){1&Vt&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Bt.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()()()),2&Vt&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(10,ce,Bt.searchLink))("queryParams",t.bMT(1,5,Bt.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",t.i5U(6,7,"search.filters."+Bt.filterConfig.name+"."+Bt.selectedValue.value,t.eq3(12,ve,Bt.selectedValue.label))," "))},dependencies:[i.Jj,z.Wk,c.h,c.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:fit-content}"]})}}return lt})();function Se(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-selected-option",1),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("selectedValue",pt)("filterConfig",Vt.filterConfig)("inPlaceSearch",Vt.inPlaceSearch)}}function et(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-option",6),2&lt){const pt=at.$implicit,Vt=t.XpG(2);t.Y8G("filterConfig",Vt.filterConfig)("filterValue",pt)("inPlaceSearch",Vt.inPlaceSearch)}}function $e(lt,at){if(1&lt&&(t.j41(0,"div"),t.Z7z(1,et,1,3,"ds-search-facet-option",6,t.BUC().trackUpdate,!0),t.k0s()),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("@facetLoad",Vt.animationState),t.R7$(),t.Dyx(pt.page)}}function st(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function We(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function De(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"ds-filter-input-suggestions",9),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(pt);const wn=t.XpG();return t.DH7(wn.filter,Bt)||(wn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.findSuggestions(Bt))}),t.k0s()}if(2&lt){const pt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,pt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+pt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+pt.filterConfig.name+".label"))("action",pt.currentUrl)("name",pt.filterConfig.paramName),t.R50("ngModel",pt.filter)}}let ut=(()=>{class lt extends G{static{this.\u0275fac=(()=>{let pt;return function(Bt){return(pt||(pt=t.xGo(lt)))(Bt||lt)}})()}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:13,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Vt,Bt){1&Vt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,Se,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,$e,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,st,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,We,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,De,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s()),2&Vt&&(t.R7$(2),t.Dyx(t.bMT(4,3,Bt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,5,Bt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,7,Bt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,9,Bt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,11,Bt.isAvailableForShowSearchText)?13:-1))},dependencies:[i.Jj,fe.H,ee.YN,ee.me,ee.BC,ee.vS,Z,ze,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return lt})();function Ge(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-selected-option",1),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("selectedValue",pt)("filterConfig",Vt.filterConfig)("inPlaceSearch",Vt.inPlaceSearch)}}function wt(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-option",5),2&lt){const pt=at.$implicit,Vt=t.XpG(2);t.Y8G("filterConfig",Vt.filterConfig)("filterValue",pt)("inPlaceSearch",Vt.inPlaceSearch)}}function ot(lt,at){if(1&lt&&(t.j41(0,"div"),t.Z7z(1,wt,1,3,"ds-search-facet-option",5,t.BUC().trackUpdate,!0),t.k0s()),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("@facetLoad",Vt.animationState),t.R7$(),t.Dyx(pt.page)}}function Tt(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",6),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ee(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let je=(()=>{class lt extends G{static{this.\u0275fac=(()=>{let pt;return function(Bt){return(pt||(pt=t.xGo(lt)))(Bt||lt)}})()}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:10,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"]],template:function(Vt,Bt){1&Vt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,Ge,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,ot,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,Tt,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,Ee,3,3,"a",4),t.nI1(12,"async"),t.k0s()()()),2&Vt&&(t.R7$(2),t.Dyx(t.bMT(4,2,Bt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,4,Bt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,6,Bt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,8,Bt.currentPage)>1?11:-1))},dependencies:[i.Jj,Z,ze,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return lt})();var mt=n(22806),vn=n(79096),hn=n(73409),jn=n(90306),bt=n(98995),St=n(58003);const Nt=lt=>({name:lt});function gt(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-selected-option",1),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("selectedValue",pt)("filterConfig",Vt.filterConfig)("inPlaceSearch",Vt.inPlaceSearch)}}function an(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-option",7),2&lt){const pt=at.$implicit,Vt=t.XpG(2);t.Y8G("filterConfig",Vt.filterConfig)("filterValue",pt)("inPlaceSearch",Vt.inPlaceSearch)}}function we(lt,at){if(1&lt&&(t.j41(0,"div"),t.Z7z(1,an,1,3,"ds-search-facet-option",7,t.BUC().trackUpdate,!0),t.k0s()),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("@facetLoad",Vt.animationState),t.R7$(),t.Dyx(pt.page)}}function Ct(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function $t(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function yt(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"ds-filter-input-suggestions",10),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(pt);const wn=t.XpG();return t.DH7(wn.filter,Bt)||(wn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.findSuggestions(Bt))}),t.k0s()}if(2&lt){const pt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,pt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+pt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+pt.filterConfig.name+".label"))("action",pt.currentUrl)("name",pt.filterConfig.paramName),t.R50("ngModel",pt.filter)}}function Zt(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&lt){const pt=t.XpG();t.Mz_("id","show-",pt.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,Nt,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+pt.filterConfig.name+".head"))))," ")}}let on=(()=>{class lt extends G{constructor(pt,Vt,Bt,wn,hi,wi,$i,Ei){super(pt,Vt,Bt,wn,Ei),this.searchService=pt,this.filterService=Vt,this.rdbs=Bt,this.router=wn,this.modalService=hi,this.vocabularyService=wi,this.appConfig=$i,this.searchConfigService=Ei}onSubmit(pt){super.onSubmit((0,se.mq)(pt,"query"))}ngOnInit(){super.ngOnInit();const pt=this.getVocabularyEntry();(0,h.a4)(pt)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(pt,new hn.Q,!0,!1).pipe((0,E.p)(Vt=>Vt.hasCompleted),(0,L.s)(1),(0,v.T)(Vt=>Vt.hasSucceeded)))}showVocabularyTree(){const pt=this.modalService.open(bt._,{size:"lg",windowClass:"treeview"});pt.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},pt.componentInstance.showAdd=!1,this.subs.push((0,mt.H)(pt.result).pipe((0,p.n)(Vt=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Vt.value,"equals")),(0,L.s)(1)).subscribe(Vt=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:Vt})}))}getVocabularyEntry(){const pt=this.appConfig.vocabularies.filter(Vt=>Vt.filter===this.filterConfig.name);if(pt.length>0&&!0===pt[0].enabled)return pt[0].vocabulary}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(O.S),t.rXU(I.U),t.rXU(j.o),t.rXU(z.Ix),t.rXU(St.Bq),t.rXU(jn.g),t.rXU(vn.vQ),t.rXU(D.EN))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:16,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);","role","button","tabindex","0",3,"id"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);","role","button","tabindex","0",3,"click","id"]],template:function(Vt,Bt){1&Vt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,gt,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,we,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,Ct,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,$t,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,yt,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s(),t.DNE(15,Zt,5,12,"a",6),t.nI1(16,"async")),2&Vt&&(t.R7$(2),t.Dyx(t.bMT(4,4,Bt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,6,Bt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,8,Bt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,10,Bt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,12,Bt.isAvailableForShowSearchText)?13:-1),t.R7$(2),t.vxM(t.bMT(16,14,Bt.vocabularyExists$)?15:-1))},dependencies:[i.Jj,fe.H,ee.YN,ee.me,ee.BC,ee.vS,i.GH,Z,ze,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return lt})();var Yt=function(lt){return lt.Range="range",lt.Steps="steps",lt.Positions="positions",lt.Count="count",lt.Values="values",lt}(Yt||{}),Ht=function(lt){return lt[lt.None=-1]="None",lt[lt.NoValue=0]="NoValue",lt[lt.LargeValue=1]="LargeValue",lt[lt.SmallValue=2]="SmallValue",lt}(Ht||{});function ke(lt){return"object"==typeof lt&&"function"==typeof lt.to}function Le(lt){lt.parentElement.removeChild(lt)}function Xe(lt){return null!=lt}function ct(lt){lt.preventDefault()}function nn(lt){return"number"==typeof lt&&!isNaN(lt)&&isFinite(lt)}function ht(lt,at,pt){pt>0&&(Vn(lt,at),setTimeout(function(){bi(lt,at)},pt))}function Ft(lt){return Math.max(Math.min(lt,100),0)}function At(lt){return Array.isArray(lt)?lt:[lt]}function On(lt){var at=(lt=String(lt)).split(".");return at.length>1?at[1].length:0}function Vn(lt,at){lt.classList&&!/\s/.test(at)?lt.classList.add(at):lt.className+=" "+at}function bi(lt,at){lt.classList&&!/\s/.test(at)?lt.classList.remove(at):lt.className=lt.className.replace(new RegExp("(^|\\b)"+at.split(" ").join("|")+"(\\b|$)","gi")," ")}function vt(lt){var at=void 0!==window.pageXOffset,pt="CSS1Compat"===(lt.compatMode||"");return{x:at?window.pageXOffset:pt?lt.documentElement.scrollLeft:lt.body.scrollLeft,y:at?window.pageYOffset:pt?lt.documentElement.scrollTop:lt.body.scrollTop}}function oi(lt,at){return 100/(at-lt)}function ai(lt,at,pt){return 100*at/(lt[pt+1]-lt[pt])}function si(lt,at){for(var pt=1;lt>=at[pt];)pt+=1;return pt}var pi=function(){function lt(at,pt,Vt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Vt||!1],this.xNumSteps=[!1],this.snap=pt;var Bt,wn=[];for(Object.keys(at).forEach(function(hi){wn.push([At(at[hi]),hi])}),wn.sort(function(hi,wi){return hi[0][0]-wi[0][0]}),Bt=0;Bt<wn.length;Bt++)this.handleEntryPoint(wn[Bt][1],wn[Bt][0]);for(this.xNumSteps=this.xSteps.slice(0),Bt=0;Bt<this.xNumSteps.length;Bt++)this.handleStepPoint(Bt,this.xNumSteps[Bt])}return lt.prototype.getDistance=function(at){for(var pt=[],Vt=0;Vt<this.xNumSteps.length-1;Vt++)pt[Vt]=ai(this.xVal,at,Vt);return pt},lt.prototype.getAbsoluteDistance=function(at,pt,Vt){var Bt=0;if(at<this.xPct[this.xPct.length-1])for(;at>this.xPct[Bt+1];)Bt++;else at===this.xPct[this.xPct.length-1]&&(Bt=this.xPct.length-2);!Vt&&at===this.xPct[Bt+1]&&Bt++,null===pt&&(pt=[]);var wn,hi=1,wi=pt[Bt],$i=0,Ei=0,Ls=0,Qs=0;for(wn=Vt?(at-this.xPct[Bt])/(this.xPct[Bt+1]-this.xPct[Bt]):(this.xPct[Bt+1]-at)/(this.xPct[Bt+1]-this.xPct[Bt]);wi>0;)$i=this.xPct[Bt+1+Qs]-this.xPct[Bt+Qs],pt[Bt+Qs]*hi+100-100*wn>100?(Ei=$i*wn,hi=(wi-100*wn)/pt[Bt+Qs],wn=1):(Ei=pt[Bt+Qs]*$i/100*hi,hi=0),Vt?(Ls-=Ei,this.xPct.length+Qs>=1&&Qs--):(Ls+=Ei,this.xPct.length-Qs>=1&&Qs++),wi=pt[Bt+Qs]*hi;return at+Ls},lt.prototype.toStepping=function(at){return function ci(lt,at,pt){if(pt>=lt.slice(-1)[0])return 100;var Vt=si(pt,lt),hi=at[Vt-1],wi=at[Vt];return hi+function ts(lt,at){return ai(lt,lt[0]<0?at+Math.abs(lt[0]):at-lt[0],0)}([lt[Vt-1],lt[Vt]],pt)/oi(hi,wi)}(this.xVal,this.xPct,at)},lt.prototype.fromStepping=function(at){return function cn(lt,at,pt){if(pt>=100)return lt.slice(-1)[0];var Vt=si(pt,at),hi=at[Vt-1];return function ns(lt,at){return at*(lt[1]-lt[0])/100+lt[0]}([lt[Vt-1],lt[Vt]],(pt-hi)*oi(hi,at[Vt]))}(this.xVal,this.xPct,at)},lt.prototype.getStep=function(at){return function gn(lt,at,pt,Vt){if(100===Vt)return Vt;var Bt=si(Vt,lt),wn=lt[Bt-1],hi=lt[Bt];return pt?Vt-wn>(hi-wn)/2?hi:wn:at[Bt-1]?lt[Bt-1]+function fn(lt,at){return Math.round(lt/at)*at}(Vt-lt[Bt-1],at[Bt-1]):Vt}(this.xPct,this.xSteps,this.snap,at)},lt.prototype.getDefaultStep=function(at,pt,Vt){var Bt=si(at,this.xPct);return(100===at||pt&&at===this.xPct[Bt-1])&&(Bt=Math.max(Bt-1,1)),(this.xVal[Bt]-this.xVal[Bt-1])/Vt},lt.prototype.getNearbySteps=function(at){var pt=si(at,this.xPct);return{stepBefore:{startValue:this.xVal[pt-2],step:this.xNumSteps[pt-2],highestStep:this.xHighestCompleteStep[pt-2]},thisStep:{startValue:this.xVal[pt-1],step:this.xNumSteps[pt-1],highestStep:this.xHighestCompleteStep[pt-1]},stepAfter:{startValue:this.xVal[pt],step:this.xNumSteps[pt],highestStep:this.xHighestCompleteStep[pt]}}},lt.prototype.countStepDecimals=function(){var at=this.xNumSteps.map(On);return Math.max.apply(null,at)},lt.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},lt.prototype.convert=function(at){return this.getStep(this.toStepping(at))},lt.prototype.handleEntryPoint=function(at,pt){var Vt;if(!nn(Vt="min"===at?0:"max"===at?100:parseFloat(at))||!nn(pt[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Vt),this.xVal.push(pt[0]);var Bt=Number(pt[1]);Vt?this.xSteps.push(!isNaN(Bt)&&Bt):isNaN(Bt)||(this.xSteps[0]=Bt),this.xHighestCompleteStep.push(0)},lt.prototype.handleStepPoint=function(at,pt){if(pt){if(this.xVal[at]===this.xVal[at+1])return void(this.xSteps[at]=this.xHighestCompleteStep[at]=this.xVal[at]);this.xSteps[at]=ai([this.xVal[at],this.xVal[at+1]],pt,0)/oi(this.xPct[at],this.xPct[at+1]);var Bt=Math.ceil(Number(((this.xVal[at+1]-this.xVal[at])/this.xNumSteps[at]).toFixed(3))-1);this.xHighestCompleteStep[at]=this.xVal[at]+this.xNumSteps[at]*Bt}},lt}(),Oi={to:function(lt){return void 0===lt?"":lt.toFixed(2)},from:Number},ps={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Ri={tooltips:".__tooltips",aria:".__aria"};function Ai(lt,at){if(!nn(at))throw new Error("noUiSlider: 'step' is not numeric.");lt.singleStep=at}function qt(lt,at){if(!nn(at))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");lt.keyboardPageMultiplier=at}function Si(lt,at){if(!nn(at))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");lt.keyboardMultiplier=at}function Jt(lt,at){if(!nn(at))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");lt.keyboardDefaultStep=at}function Pt(lt,at){if("object"!=typeof at||Array.isArray(at))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===at.min||void 0===at.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");lt.spectrum=new pi(at,lt.snap||!1,lt.singleStep)}function Fe(lt,at){if(at=At(at),!Array.isArray(at)||!at.length)throw new Error("noUiSlider: 'start' option is incorrect.");lt.handles=at.length,lt.start=at}function Ye(lt,at){if("boolean"!=typeof at)throw new Error("noUiSlider: 'snap' option must be a boolean.");lt.snap=at}function _t(lt,at){if("boolean"!=typeof at)throw new Error("noUiSlider: 'animate' option must be a boolean.");lt.animate=at}function Qt(lt,at){if("number"!=typeof at)throw new Error("noUiSlider: 'animationDuration' option must be a number.");lt.animationDuration=at}function En(lt,at){var Vt,pt=[!1];if("lower"===at?at=[!0,!1]:"upper"===at&&(at=[!1,!0]),!0===at||!1===at){for(Vt=1;Vt<lt.handles;Vt++)pt.push(at);pt.push(!1)}else{if(!Array.isArray(at)||!at.length||at.length!==lt.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");pt=at}lt.connect=pt}function Mn(lt,at){switch(at){case"horizontal":lt.ort=0;break;case"vertical":lt.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ln(lt,at){if(!nn(at))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==at&&(lt.margin=lt.spectrum.getDistance(at))}function Yn(lt,at){if(!nn(at))throw new Error("noUiSlider: 'limit' option must be numeric.");if(lt.limit=lt.spectrum.getDistance(at),!lt.limit||lt.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Jn(lt,at){var pt;if(!nn(at)&&!Array.isArray(at))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(at)&&2!==at.length&&!nn(at[0])&&!nn(at[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==at){for(Array.isArray(at)||(at=[at,at]),lt.padding=[lt.spectrum.getDistance(at[0]),lt.spectrum.getDistance(at[1])],pt=0;pt<lt.spectrum.xNumSteps.length-1;pt++)if(lt.padding[0][pt]<0||lt.padding[1][pt]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((at[0]+at[1])/(lt.spectrum.xVal[lt.spectrum.xVal.length-1]-lt.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ki(lt,at){switch(at){case"ltr":lt.dir=0;break;case"rtl":lt.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Bi(lt,at){if("string"!=typeof at)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var pt=at.indexOf("tap")>=0,Vt=at.indexOf("drag")>=0,Bt=at.indexOf("fixed")>=0,wn=at.indexOf("snap")>=0,hi=at.indexOf("hover")>=0,wi=at.indexOf("unconstrained")>=0,$i=at.indexOf("invert-connects")>=0,Ei=at.indexOf("drag-all")>=0,Ls=at.indexOf("smooth-steps")>=0;if(Bt){if(2!==lt.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ln(lt,lt.start[1]-lt.start[0])}if($i&&2!==lt.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(wi&&(lt.margin||lt.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");lt.events={tap:pt||wn,drag:Vt,dragAll:Ei,smoothSteps:Ls,fixed:Bt,snap:wn,hover:hi,unconstrained:wi,invertConnects:$i}}function is(lt,at){if(!1!==at)if(!0===at||ke(at)){lt.tooltips=[];for(var pt=0;pt<lt.handles;pt++)lt.tooltips.push(at)}else{if((at=At(at)).length!==lt.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");at.forEach(function(Vt){if("boolean"!=typeof Vt&&!ke(Vt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),lt.tooltips=at}}function us(lt,at){if(at.length!==lt.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");lt.handleAttributes=at}function fs(lt,at){if(!ke(at))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");lt.ariaFormat=at}function Ms(lt,at){if(!function Qe(lt){return ke(lt)&&"function"==typeof lt.from}(at))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");lt.format=at}function Ji(lt,at){if("boolean"!=typeof at)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");lt.keyboardSupport=at}function hs(lt,at){lt.documentElement=at}function jt(lt,at){if("string"!=typeof at&&!1!==at)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");lt.cssPrefix=at}function _n(lt,at){if("object"!=typeof at)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof lt.cssPrefix?(lt.cssClasses={},Object.keys(at).forEach(function(pt){lt.cssClasses[pt]=lt.cssPrefix+at[pt]})):lt.cssClasses=at}function Ke(lt){var at={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Oi,format:Oi},pt={step:{r:!1,t:Ai},keyboardPageMultiplier:{r:!1,t:qt},keyboardMultiplier:{r:!1,t:Si},keyboardDefaultStep:{r:!1,t:Jt},start:{r:!0,t:Fe},connect:{r:!0,t:En},direction:{r:!0,t:ki},snap:{r:!1,t:Ye},animate:{r:!1,t:_t},animationDuration:{r:!1,t:Qt},range:{r:!0,t:Pt},orientation:{r:!1,t:Mn},margin:{r:!1,t:Ln},limit:{r:!1,t:Yn},padding:{r:!1,t:Jn},behaviour:{r:!0,t:Bi},ariaFormat:{r:!1,t:fs},format:{r:!1,t:Ms},tooltips:{r:!1,t:is},keyboardSupport:{r:!0,t:Ji},documentElement:{r:!1,t:hs},cssPrefix:{r:!0,t:jt},cssClasses:{r:!0,t:_n},handleAttributes:{r:!1,t:us}},Vt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ps,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};lt.format&&!lt.ariaFormat&&(lt.ariaFormat=lt.format),Object.keys(pt).forEach(function($i){if(Xe(lt[$i])||void 0!==Vt[$i])pt[$i].t(at,Xe(lt[$i])?lt[$i]:Vt[$i]);else if(pt[$i].r)throw new Error("noUiSlider: '"+$i+"' is required.")}),at.pips=lt.pips;var Bt=document.createElement("div");return at.transformRule=void 0!==Bt.style.transform?"transform":void 0!==Bt.style.msTransform?"msTransform":"webkitTransform",at.style=[["left","top"],["right","bottom"]][at.dir][at.ort],at}function Ce(lt,at,pt){var wi,$i,Ei,Ls,Qs,Do,Vt=function yn(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),wn=function ni(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Dn(){var lt=!1;try{var at=Object.defineProperty({},"passive",{get:function(){lt=!0}});window.addEventListener("test",null,at)}catch{}return lt}(),hi=lt,Yi=at.spectrum,hr=[],Os=[],Uo=[],oa=0,Mo={},ss=!1,Oo=lt.ownerDocument,pr=at.documentElement||Oo.documentElement,zr=Oo.body,ra="rtl"===Oo.dir||1===at.ort?0:100;function gr(Gt,mn){var In=Oo.createElement("div");return mn&&Vn(In,mn),Gt.appendChild(In),In}function xr(Gt,mn){var In=gr(Gt,at.cssClasses.origin),Hn=gr(In,at.cssClasses.handle);if(gr(Hn,at.cssClasses.touchArea),Hn.setAttribute("data-handle",String(mn)),at.keyboardSupport&&(Hn.setAttribute("tabindex","0"),Hn.addEventListener("keydown",function(ui){return function Jc(Gt,mn){if(en()||he(mn))return!1;var In=["Left","Right"],Hn=["Down","Up"],di=["PageDown","PageUp"],ui=["Home","End"];at.dir&&!at.ort?In.reverse():at.ort&&!at.dir&&(Hn.reverse(),di.reverse());var uo,Qi=Gt.key.replace("Arrow",""),vi=Qi===di[0],Zs=Qi===di[1],As=Qi===Hn[0]||Qi===In[0]||vi,vo=Qi===Hn[1]||Qi===In[1]||Zs,Bs=Qi===ui[1];if(!(As||vo||Qi===ui[0]||Bs))return!0;if(Gt.preventDefault(),vo||As){var Ro=As?0:1,Ao=Ll(mn)[Ro];if(null===Ao)return!1;!1===Ao&&(Ao=Yi.getDefaultStep(Os[mn],As,at.keyboardDefaultStep)),Ao*=Zs||vi?at.keyboardPageMultiplier:at.keyboardMultiplier,Ao=Math.max(Ao,1e-7),uo=hr[mn]+(Ao*=As?-1:1)}else uo=Bs?at.spectrum.xVal[at.spectrum.xVal.length-1]:at.spectrum.xVal[0];return wr(mn,Yi.toStepping(uo),!0,!0),so("slide",mn),so("update",mn),so("change",mn),so("set",mn),!1}(ui,mn)})),void 0!==at.handleAttributes){var di=at.handleAttributes[mn];Object.keys(di).forEach(function(ui){Hn.setAttribute(ui,di[ui])})}return Hn.setAttribute("role","slider"),Hn.setAttribute("aria-orientation",at.ort?"vertical":"horizontal"),0===mn?Vn(Hn,at.cssClasses.handleLower):mn===at.handles-1&&Vn(Hn,at.cssClasses.handleUpper),In.handle=Hn,In}function sr(Gt,mn){return!!mn&&gr(Gt,at.cssClasses.connect)}function It(Gt,mn){return!(!at.tooltips||!at.tooltips[mn])&&gr(Gt.firstChild,at.cssClasses.tooltip)}function en(){return hi.hasAttribute("disabled")}function he(Gt){return Ei[Gt].hasAttribute("disabled")}function sn(){Do&&(So("update"+Ri.tooltips),Do.forEach(function(Gt){Gt&&Le(Gt)}),Do=null)}function Bn(){sn(),Do=Ei.map(It),vs("update"+Ri.tooltips,function(Gt,mn,In){if(Do&&at.tooltips&&!1!==Do[mn]){var Hn=Gt[mn];!0!==at.tooltips[mn]&&(Hn=at.tooltips[mn].to(In[mn])),Do[mn].innerHTML=Hn}})}function Oe(Gt,mn){return Gt.map(function(In){return Yi.fromStepping(mn?Yi.getStep(In):In)})}function mi(){Qs&&(Le(Qs),Qs=null)}function os(Gt){mi();var mn=function dt(Gt){function mn(As,vo){return Number((As+vo).toFixed(7))}var In=function Ve(Gt){if(Gt.mode===Yt.Range||Gt.mode===Yt.Steps)return Yi.xVal;if(Gt.mode===Yt.Count){if(Gt.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var mn=Gt.values-1,In=100/mn,Hn=[];mn--;)Hn[mn]=mn*In;return Hn.push(100),Oe(Hn,Gt.stepped)}return Gt.mode===Yt.Positions?Oe(Gt.values,Gt.stepped):Gt.mode===Yt.Values?Gt.stepped?Gt.values.map(function(di){return Yi.fromStepping(Yi.getStep(Yi.toStepping(di)))}):Gt.values:[]}(Gt),Hn={},di=Yi.xVal[0],ui=Yi.xVal[Yi.xVal.length-1],Qi=!1,vi=!1,Zs=0;return In=function Wt(lt){return lt.filter(function(at){return!this[at]&&(this[at]=!0)},{})}(In.slice().sort(function(As,vo){return As-vo})),In[0]!==di&&(In.unshift(di),Qi=!0),In[In.length-1]!==ui&&(In.push(ui),vi=!0),In.forEach(function(As,vo){var oo,Bs,uo,Ao,Ia,ge,rt,tt,Kt,Ro=As,Ss=In[vo+1],Pn=Gt.mode===Yt.Steps;for(Pn&&(oo=Yi.xNumSteps[vo]),oo||(oo=Ss-Ro),void 0===Ss&&(Ss=Ro),oo=Math.max(oo,1e-7),Bs=Ro;Bs<=Ss;Bs=mn(Bs,oo)){for(Kt=(Ia=(Ao=Yi.toStepping(Bs))-Zs)/(tt=Math.round(Ia/(Gt.density||1))),uo=1;uo<=tt;uo+=1)Hn[(ge=Zs+uo*Kt).toFixed(5)]=[Yi.fromStepping(ge),0];rt=In.indexOf(Bs)>-1?Ht.LargeValue:Pn?Ht.SmallValue:Ht.NoValue,!vo&&Qi&&Bs!==Ss&&(rt=0),Bs===Ss&&vi||(Hn[Ao.toFixed(5)]=[Bs,rt]),Zs=Ao}}),Hn}(Gt);return Qs=hi.appendChild(function Xt(Gt,mn,In){var Hn,di,ui=Oo.createElement("div"),Qi=((Hn={})[Ht.None]="",Hn[Ht.NoValue]=at.cssClasses.valueNormal,Hn[Ht.LargeValue]=at.cssClasses.valueLarge,Hn[Ht.SmallValue]=at.cssClasses.valueSub,Hn),vi=((di={})[Ht.None]="",di[Ht.NoValue]=at.cssClasses.markerNormal,di[Ht.LargeValue]=at.cssClasses.markerLarge,di[Ht.SmallValue]=at.cssClasses.markerSub,di),Zs=[at.cssClasses.valueHorizontal,at.cssClasses.valueVertical],As=[at.cssClasses.markerHorizontal,at.cssClasses.markerVertical];function vo(Bs,uo){var Ro=uo===at.cssClasses.value;return uo+" "+(Ro?Zs:As)[at.ort]+" "+(Ro?Qi:vi)[Bs]}return Vn(ui,at.cssClasses.pips),Vn(ui,0===at.ort?at.cssClasses.pipsHorizontal:at.cssClasses.pipsVertical),Object.keys(Gt).forEach(function(Bs){!function oo(Bs,uo,Ro){if((Ro=mn?mn(uo,Ro):Ro)!==Ht.None){var Ss=gr(ui,!1);Ss.className=vo(Ro,at.cssClasses.marker),Ss.style[at.style]=Bs+"%",Ro>Ht.NoValue&&((Ss=gr(ui,!1)).className=vo(Ro,at.cssClasses.value),Ss.setAttribute("data-value",String(uo)),Ss.style[at.style]=Bs+"%",Ss.innerHTML=String(In.to(uo)))}}(Bs,Gt[Bs][0],Gt[Bs][1])}),ui}(mn,Gt.filter,Gt.format||{to:function(di){return String(Math.round(di))}}))}function Mr(){var Gt=wi.getBoundingClientRect(),mn="offset"+["Width","Height"][at.ort];return 0===at.ort?Gt.width||wi[mn]:Gt.height||wi[mn]}function zo(Gt,mn,In,Hn){var di=function(Qi){var vi=function _l(Gt,mn,In){var Hn=0===Gt.type.indexOf("touch"),di=0===Gt.type.indexOf("mouse"),ui=0===Gt.type.indexOf("pointer"),Qi=0,vi=0;if(0===Gt.type.indexOf("MSPointer")&&(ui=!0),"mousedown"===Gt.type&&!Gt.buttons&&!Gt.touches)return!1;if(Hn){var Zs=function(oo){var Bs=oo.target;return Bs===In||In.contains(Bs)||Gt.composed&&Gt.composedPath().shift()===In};if("touchstart"===Gt.type){var As=Array.prototype.filter.call(Gt.touches,Zs);if(As.length>1)return!1;Qi=As[0].pageX,vi=As[0].pageY}else{var vo=Array.prototype.find.call(Gt.changedTouches,Zs);if(!vo)return!1;Qi=vo.pageX,vi=vo.pageY}}return mn=mn||vt(Oo),(di||ui)&&(Qi=Gt.clientX+mn.x,vi=Gt.clientY+mn.y),Gt.pageOffset=mn,Gt.points=[Qi,vi],Gt.cursor=di||ui,Gt}(Qi,Hn.pageOffset,Hn.target||mn);if(!vi||en()&&!Hn.doNotReject||function Dt(lt,at){return lt.classList?lt.classList.contains(at):new RegExp("\\b"+at+"\\b").test(lt.className)}(hi,at.cssClasses.tap)&&!Hn.doNotReject||Gt===Vt.start&&void 0!==vi.buttons&&vi.buttons>1||Hn.hover&&vi.buttons)return!1;wn||vi.preventDefault(),vi.calcPoint=vi.points[at.ort],In(vi,Hn)},ui=[];return Gt.split(" ").forEach(function(Qi){mn.addEventListener(Qi,di,!!wn&&{passive:!0}),ui.push([Qi,di])}),ui}function vl(Gt){var mn=Gt-function xt(lt,at){var pt=lt.getBoundingClientRect(),Vt=lt.ownerDocument,Bt=Vt.documentElement,wn=vt(Vt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(wn.x=0),at?pt.top+wn.y-Bt.clientTop:pt.left+wn.x-Bt.clientLeft}(wi,at.ort),In=100*mn/Mr();return In=Ft(In),at.dir?100-In:In}function Rl(Gt,mn){"mouseout"===Gt.type&&"HTML"===Gt.target.nodeName&&null===Gt.relatedTarget&&_c(Gt,mn)}function gc(Gt,mn){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Gt.buttons&&0!==mn.buttonsProperty)return _c(Gt,mn);var In=(at.dir?-1:1)*(Gt.calcPoint-mn.startCalcPoint);Ua(In>0,100*In/mn.baseSize,mn.locations,mn.handleNumbers,mn.connect)}function _c(Gt,mn){mn.handle&&(bi(mn.handle,at.cssClasses.active),oa-=1),mn.listeners.forEach(function(In){pr.removeEventListener(In[0],In[1])}),0===oa&&(bi(hi,at.cssClasses.drag),Sa(),Gt.cursor&&(zr.style.cursor="",zr.removeEventListener("selectstart",ct))),at.events.smoothSteps&&(mn.handleNumbers.forEach(function(In){wr(In,Os[In],!0,!0,!1,!1)}),mn.handleNumbers.forEach(function(In){so("update",In)})),mn.handleNumbers.forEach(function(In){so("change",In),so("set",In),so("end",In)})}function tl(Gt,mn){if(!mn.handleNumbers.some(he)){var In;1===mn.handleNumbers.length&&(oa+=1,Vn(In=Ei[mn.handleNumbers[0]].children[0],at.cssClasses.active)),Gt.stopPropagation();var di=[],ui=zo(Vt.move,pr,gc,{target:Gt.target,handle:In,connect:mn.connect,listeners:di,startCalcPoint:Gt.calcPoint,baseSize:Mr(),pageOffset:Gt.pageOffset,handleNumbers:mn.handleNumbers,buttonsProperty:Gt.buttons,locations:Os.slice()}),Qi=zo(Vt.end,pr,_c,{target:Gt.target,handle:In,listeners:di,doNotReject:!0,handleNumbers:mn.handleNumbers}),vi=zo("mouseout",pr,Rl,{target:Gt.target,handle:In,listeners:di,doNotReject:!0,handleNumbers:mn.handleNumbers});di.push.apply(di,ui.concat(Qi,vi)),Gt.cursor&&(zr.style.cursor=getComputedStyle(Gt.target).cursor,Ei.length>1&&Vn(hi,at.cssClasses.drag),zr.addEventListener("selectstart",ct,!1)),mn.handleNumbers.forEach(function(Zs){so("start",Zs)})}}function Xo(Gt){Gt.stopPropagation();var mn=vl(Gt.calcPoint),In=function Pd(Gt){var mn=100,In=!1;return Ei.forEach(function(Hn,di){if(!he(di)){var ui=Os[di],Qi=Math.abs(ui-Gt);(Qi<mn||Qi<=mn&&Gt>ui||100===Qi&&100===mn)&&(In=di,mn=Qi)}}),In}(mn);!1!==In&&(at.events.snap||ht(hi,at.cssClasses.tap,at.animationDuration),wr(In,mn,!0,!0),Sa(),so("slide",In,!0),so("update",In,!0),at.events.snap?tl(Gt,{handleNumbers:[In]}):(so("change",In,!0),so("set",In,!0)))}function Al(Gt){var mn=vl(Gt.calcPoint),In=Yi.getStep(mn),Hn=Yi.fromStepping(In);Object.keys(Mo).forEach(function(di){"hover"===di.split(".")[0]&&Mo[di].forEach(function(ui){ui.call(Gs,Hn)})})}function yl(Gt){Gt.fixed||Ei.forEach(function(mn,In){zo(Vt.start,mn.children[0],tl,{handleNumbers:[In]})}),Gt.tap&&zo(Vt.start,wi,Xo,{}),Gt.hover&&zo(Vt.move,wi,Al,{hover:!0}),Gt.drag&&Ls.forEach(function(mn,In){if(!1!==mn&&0!==In&&In!==Ls.length-1){var Hn=Ei[In-1],di=Ei[In],ui=[mn],Qi=[Hn,di],vi=[In-1,In];Vn(mn,at.cssClasses.draggable),Gt.fixed&&(ui.push(Hn.children[0]),ui.push(di.children[0])),Gt.dragAll&&(Qi=Ei,vi=Uo),ui.forEach(function(Zs){zo(Vt.start,Zs,tl,{handles:Qi,handleNumbers:vi,connect:mn})})}})}function vs(Gt,mn){Mo[Gt]=Mo[Gt]||[],Mo[Gt].push(mn),"update"===Gt.split(".")[0]&&Ei.forEach(function(In,Hn){so("update",Hn)})}function So(Gt){var mn=Gt&&Gt.split(".")[0],In=mn?Gt.substring(mn.length):Gt;Object.keys(Mo).forEach(function(Hn){var di=Hn.split(".")[0],ui=Hn.substring(di.length);mn&&mn!==di||In&&In!==ui||function or(Gt){return Gt===Ri.aria||Gt===Ri.tooltips}(ui)&&In!==ui||delete Mo[Hn]})}function so(Gt,mn,In){Object.keys(Mo).forEach(function(Hn){var di=Hn.split(".")[0];Gt===di&&Mo[Hn].forEach(function(ui){ui.call(Gs,hr.map(at.format.to),mn,hr.slice(),In||!1,Os.slice(),Gs)})})}function jo(Gt,mn,In,Hn,di,ui,Qi){var vi;return Ei.length>1&&!at.events.unconstrained&&(Hn&&mn>0&&(vi=Yi.getAbsoluteDistance(Gt[mn-1],at.margin,!1),In=Math.max(In,vi)),di&&mn<Ei.length-1&&(vi=Yi.getAbsoluteDistance(Gt[mn+1],at.margin,!0),In=Math.min(In,vi))),Ei.length>1&&at.limit&&(Hn&&mn>0&&(vi=Yi.getAbsoluteDistance(Gt[mn-1],at.limit,!1),In=Math.min(In,vi)),di&&mn<Ei.length-1&&(vi=Yi.getAbsoluteDistance(Gt[mn+1],at.limit,!0),In=Math.max(In,vi))),at.padding&&(0===mn&&(vi=Yi.getAbsoluteDistance(0,at.padding[0],!1),In=Math.max(In,vi)),mn===Ei.length-1&&(vi=Yi.getAbsoluteDistance(100,at.padding[1],!0),In=Math.min(In,vi))),Qi||(In=Yi.getStep(In)),!((In=Ft(In))===Gt[mn]&&!ui)&&In}function xl(Gt,mn){var In=at.ort;return(In?mn:Gt)+", "+(In?Gt:mn)}function Ua(Gt,mn,In,Hn,di){var ui=In.slice(),Qi=Hn[0],vi=at.events.smoothSteps,Zs=[!Gt,Gt],As=[Gt,!Gt];Hn=Hn.slice(),Gt&&Hn.reverse(),Hn.length>1?Hn.forEach(function(oo,Bs){var uo=jo(ui,oo,ui[oo]+mn,Zs[Bs],As[Bs],!1,vi);!1===uo?mn=0:(mn=uo-ui[oo],ui[oo]=uo)}):Zs=As=[!0];var vo=!1;Hn.forEach(function(oo,Bs){vo=wr(oo,In[oo]+mn,Zs[Bs],As[Bs],!1,vi)||vo}),vo&&(Hn.forEach(function(oo){so("update",oo),so("slide",oo)}),null!=di&&so("drag",Qi))}function El(Gt,mn){return at.dir?100-Gt-mn:Gt}function Sa(){Uo.forEach(function(Gt){Ei[Gt].style.zIndex=String(3+(Ei.length+(Os[Gt]>50?-1:1)*Gt))})}function wr(Gt,mn,In,Hn,di,ui){return di||(mn=jo(Os,Gt,mn,In,Hn,!1,ui)),!1!==mn&&(function vc(Gt,mn){Os[Gt]=mn,hr[Gt]=Yi.fromStepping(mn);var Hn="translate("+xl(El(mn,0)-ra+"%","0")+")";if(Ei[Gt].style[at.transformRule]=Hn,at.events.invertConnects&&Os.length>1){var di=Os.every(function(ui,Qi,vi){return 0===Qi||ui>=vi[Qi-1]});if(ss!==!di)return void function Ql(){ss=!ss,En(at,at.connect.map(function(Gt){return!Gt})),Vr()}()}ja(Gt),ja(Gt+1),ss&&(ja(Gt-1),ja(Gt+2))}(Gt,mn),!0)}function ja(Gt){if(Ls[Gt]){var mn=Os.slice();ss&&mn.sort(function(vi,Zs){return vi-Zs});var In=0,Hn=100;0!==Gt&&(In=mn[Gt-1]),Gt!==Ls.length-1&&(Hn=mn[Gt]);var di=Hn-In,ui="translate("+xl(El(In,di)+"%","0")+")",Qi="scale("+xl(di/100,"1")+")";Ls[Gt].style[at.transformRule]=ui+" "+Qi}}function wl(Gt,mn){return null===Gt||!1===Gt||void 0===Gt||("number"==typeof Gt&&(Gt=String(Gt)),!1!==(Gt=at.format.from(Gt))&&(Gt=Yi.toStepping(Gt)),!1===Gt||isNaN(Gt))?Os[mn]:Gt}function nl(Gt,mn,In){var Hn=At(Gt),di=void 0===Os[0];mn=void 0===mn||mn,at.animate&&!di&&ht(hi,at.cssClasses.tap,at.animationDuration),Uo.forEach(function(vi){wr(vi,wl(Hn[vi],vi),!0,!1,In)});var ui=1===Uo.length?0:1;if(di&&Yi.hasNoSize()&&(In=!0,Os[0]=0,Uo.length>1)){var Qi=100/(Uo.length-1);Uo.forEach(function(vi){Os[vi]=vi*Qi})}for(;ui<Uo.length;++ui)Uo.forEach(function(vi){wr(vi,Os[vi],!0,!0,In)});Sa(),Uo.forEach(function(vi){so("update",vi),null!==Hn[vi]&&mn&&so("set",vi)})}function Cl(Gt){if(void 0===Gt&&(Gt=!1),Gt)return 1===hr.length?hr[0]:hr.slice(0);var mn=hr.map(at.format.to);return 1===mn.length?mn[0]:mn}function Ll(Gt){var mn=Os[Gt],In=Yi.getNearbySteps(mn),Hn=hr[Gt],di=In.thisStep.step,ui=null;if(at.snap)return[Hn-In.stepBefore.startValue||null,In.stepAfter.startValue-Hn||null];!1!==di&&Hn+di>In.stepAfter.startValue&&(di=In.stepAfter.startValue-Hn),ui=Hn>In.thisStep.startValue?In.thisStep.step:!1!==In.stepBefore.step&&Hn-In.stepBefore.highestStep,100===mn?di=null:0===mn&&(ui=null);var Qi=Yi.countStepDecimals();return null!==di&&!1!==di&&(di=Number(di.toFixed(Qi))),null!==ui&&!1!==ui&&(ui=Number(ui.toFixed(Qi))),[ui,di]}function Vr(){for(;$i.firstChild;)$i.removeChild($i.firstChild);for(var Gt=0;Gt<=at.handles;Gt++)Ls[Gt]=sr($i,at.connect[Gt]),ja(Gt);yl({drag:at.events.drag,fixed:!0})}!function rr(){wi=function Xr(Gt){return Vn(Gt,at.cssClasses.target),Vn(Gt,0===at.dir?at.cssClasses.ltr:at.cssClasses.rtl),Vn(Gt,0===at.ort?at.cssClasses.horizontal:at.cssClasses.vertical),Vn(Gt,"rtl"===getComputedStyle(Gt).direction?at.cssClasses.textDirectionRtl:at.cssClasses.textDirectionLtr),gr(Gt,at.cssClasses.base)}(hi),function el(Gt,mn){$i=gr(mn,at.cssClasses.connects),Ei=[],(Ls=[]).push(sr($i,Gt[0]));for(var In=0;In<at.handles;In++)Ei.push(xr(mn,In)),Uo[In]=In,Ls.push(sr($i,Gt[In+1]))}(at.connect,wi),yl(at.events),nl(at.start),at.pips&&os(at.pips),at.tooltips&&Bn(),function xe(){So("update"+Ri.aria),vs("update"+Ri.aria,function(Gt,mn,In,Hn,di){Uo.forEach(function(ui){var Qi=Ei[ui],vi=jo(Os,ui,0,!0,!0,!0),Zs=jo(Os,ui,100,!0,!0,!0),As=di[ui],vo=String(at.ariaFormat.to(In[ui]));vi=Yi.fromStepping(vi).toFixed(1),Zs=Yi.fromStepping(Zs).toFixed(1),As=Yi.fromStepping(As).toFixed(1),Qi.children[0].setAttribute("aria-valuemin",vi),Qi.children[0].setAttribute("aria-valuemax",Zs),Qi.children[0].setAttribute("aria-valuenow",As),Qi.children[0].setAttribute("aria-valuetext",vo)})})}()}();var Gs={destroy:function Rd(){for(So(Ri.aria),So(Ri.tooltips),Object.keys(at.cssClasses).forEach(function(Gt){bi(hi,at.cssClasses[Gt])});hi.firstChild;)hi.removeChild(hi.firstChild);delete hi.noUiSlider},steps:function yc(){return Uo.map(Ll)},on:vs,off:So,get:Cl,set:nl,setHandle:function Qc(Gt,mn,In,Hn){if(!((Gt=Number(Gt))>=0&&Gt<Uo.length))throw new Error("noUiSlider: invalid handle number, got: "+Gt);wr(Gt,wl(mn,Gt),!0,!0,Hn),so("update",Gt),In&&so("set",Gt)},reset:function Jl(Gt){nl(at.start,Gt)},disable:function Je(Gt){null!=Gt?(Ei[Gt].setAttribute("disabled",""),Ei[Gt].handle.removeAttribute("tabindex")):(hi.setAttribute("disabled",""),Ei.forEach(function(mn){mn.handle.removeAttribute("tabindex")}))},enable:function Mt(Gt){null!=Gt?(Ei[Gt].removeAttribute("disabled"),Ei[Gt].handle.setAttribute("tabindex","0")):(hi.removeAttribute("disabled"),Ei.forEach(function(mn){mn.removeAttribute("disabled"),mn.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Gt,mn,In){Ua(Gt,mn,Os,In)},options:pt,updateOptions:function ko(Gt,mn){var In=Cl(),Hn=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Hn.forEach(function(ui){void 0!==Gt[ui]&&(pt[ui]=Gt[ui])});var di=Ke(pt);Hn.forEach(function(ui){void 0!==Gt[ui]&&(at[ui]=di[ui])}),Yi=di.spectrum,at.margin=di.margin,at.limit=di.limit,at.padding=di.padding,at.pips?os(at.pips):mi(),at.tooltips?Bn():sn(),Os=[],nl(Xe(Gt.start)?Gt.start:In,mn),Gt.connect&&Vr()},target:hi,removePips:mi,removeTooltips:sn,getPositions:function(){return Os.slice()},getTooltips:function(){return Do},getOrigins:function(){return Ei},pips:os};return Gs}class ft{to(at){return String(parseFloat(parseFloat(String(at)).toFixed(2)))}from(at){return parseFloat(at)}}let kt=(()=>{class lt{constructor(pt,Vt,Bt){this.ngZone=pt,this.el=Vt,this.renderer=Bt,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(wn,hi,wi,$i)=>{let Ei=this.toValues(hi),Ls=!1;void 0!==this.value?(Array.isArray(Ei)&&this.value[wi]!=Ei[wi]&&(Ls=!0),!Array.isArray(Ei)&&this.value!=Ei&&(Ls=!0),Ls&&this.ngZone.run(()=>{wn.observers.length>0&&wn.emit(Ei),this.onChange(Ei)}),Array.isArray(Ei)?this.value[wi]=Ei[wi]:this.value=Ei):this.value=Ei},this.defaultKeyHandler=wn=>{let Do,hi=this.slider.steps(),wi=parseInt(wn.target.getAttribute("data-handle")),$i=1,Ei=1,Ls=0,Qs=0;switch(wn.which){case 34:case 33:Ei=this.config.pageSteps;break;case 40:case 37:$i=-1,Ls=hi[wi][0],wn.preventDefault();break;case 38:case 39:Ls=hi[wi][1],wn.preventDefault()}Qs=$i*Ei*Ls,Array.isArray(this.value)?(Do=[...this.value],Do[wi]=Do[wi]+Qs):Do=this.value+Qs,this.slider.set(Do)}}ngOnChanges(pt){this.slider&&(pt.min||pt.max||pt.step||pt.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(pt){let Vt=pt.map(this.config.format.from);return 1==Vt.length?Vt[0]:Vt}writeValue(pt){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(pt)})}):null!==pt&&(this.value=pt,this.createSlider(pt))}registerOnChange(pt){this.onChange=pt}registerOnTouched(pt){}setDisabledState(pt){pt?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(pt){let Vt=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:pt,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(Vt.tooltips=this.tooltips||this.config.tooltips,Vt.format=this.format||this.config.format||new ft,this.ngZone.runOutsideAngular(()=>{this.slider=function Me(lt,at){if(!lt||!lt.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+lt);if(lt.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Vt=Ce(lt,Ke(at),at);return lt.noUiSlider=Vt,Vt}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,Vt))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Bt of this.handles){Bt.setAttribute("tabindex",0);const wn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Bt,"keydown",wn),this.renderer.listen(Bt,"click",()=>{Bt.focus()}))})}}this.slider.on("set",(Bt,wn,hi)=>{this.eventHandler(this.set,Bt,wn,hi)}),this.slider.on("update",(Bt,wn,hi)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Bt))})}),this.slider.on("change",(Bt,wn,hi)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Bt))})}),this.slider.on("slide",(Bt,wn,hi)=>{this.eventHandler(this.slide,Bt,wn,hi)}),this.slider.on("start",(Bt,wn,hi)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Bt))})}),this.slider.on("end",(Bt,wn,hi)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Bt))})})}}return lt.\u0275fac=function(pt){return new(pt||lt)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},lt.\u0275cmp=t.VBU({type:lt,selectors:[["nouislider"]],hostVars:2,hostBindings:function(pt,Vt){2&pt&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:ee.kq,useExisting:(0,t.Rfq)(()=>lt),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(pt,Vt){1&pt&&t.nrm(0,"div"),2&pt&&t.BMQ("disabled",!!Vt.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),lt})();var un=n(50813),kn=n(87507),Qn=n(19370);const xi=".min",ms=".max",No=lt=>[lt];function dr(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&lt){const pt=t.XpG();t.Y8G("routerLink",t.eq3(6,No,pt.searchLink))("queryParams",pt.changeQueryParams),t.R7$(2),t.JRh(pt.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,pt.filterValue.count))}}let qo=(()=>{class lt{constructor(pt,Vt,Bt,wn,hi){this.searchService=pt,this.filterService=Vt,this.searchConfigService=Bt,this.router=wn,this.paginationService=hi}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,v.T)(pt=>!pt)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const pt=this.filterValue.value.split("-"),Vt=pt.length>1?Number(pt[0].trim()):this.filterValue.value,Bt=pt.length>1?Number(pt[1].trim()):this.filterValue.value,wn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+xi]:[Vt],[this.filterConfig.paramName+ms]:Bt===(new Date).getUTCFullYear()?null:[Bt],[wn]:1}}ngOnDestroy(){(0,h.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(O.S),t.rXU(I.U),t.rXU(C.g),t.rXU(z.Ix),t.rXU(ye.m))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["queryParamsHandling","merge","role","button","tabindex","0",1,"d-flex","flex-row",3,"routerLink","queryParams"],["queryParamsHandling","merge","role","button","tabindex","0",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-end","filter-value-count","ms-auto"],[1,"badge","bg-secondary","rounded-pill"]],template:function(Vt,Bt){1&Vt&&(t.DNE(0,dr,7,8,"a",0),t.nI1(1,"async")),2&Vt&&t.vxM(t.bMT(1,1,Bt.isVisible)?0:-1)},dependencies:[i.Jj,z.Wk,ue],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return lt})();function Js(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"nouislider",11),t.bIt("change",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onSliderChange(Bt))})("keydown",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.startKeyboardControl())})("keyup",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.stopKeyboardControl())}),t.mxI("ngModelChange",function(Bt){t.eBV(pt);const wn=t.XpG();return t.DH7(wn.range,Bt)||(wn.range=Bt),t.Njj(Bt)}),t.k0s()}if(2&lt){const pt=t.XpG();t.Y8G("connect",!0)("config",pt.config)("min",pt.min)("max",pt.max)("step",1)("dsDebounce",250),t.R50("ngModel",pt.range)}}function er(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-range-option",12),2&lt){const pt=at.$implicit,Vt=t.XpG(2);t.Y8G("filterConfig",Vt.filterConfig)("filterValue",pt)("inPlaceSearch",Vt.inPlaceSearch)}}function mr(lt,at){if(1&lt&&(t.j41(0,"div"),t.Z7z(1,er,1,3,"ds-search-facet-range-option",12,t.BUC().trackUpdate,!0),t.k0s()),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("@facetLoad",Vt.animationState),t.R7$(),t.Dyx(pt.page)}}let Dr=(()=>{class lt extends G{constructor(pt,Vt,Bt,wn,hi,wi,$i,Ei){super(pt,Vt,hi,Bt,$i),this.searchService=pt,this.filterService=Vt,this.router=Bt,this.route=wn,this.rdbs=hi,this.translateService=wi,this.searchConfigService=$i,this.platformId=Ei,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,un.zX)(this.filterConfig.minValue)||this.min,this.max=(0,un.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const pt=this.route.getQueryParameterValue(this.filterConfig.paramName+xi).pipe((0,f.Z)(void 0)),Vt=this.route.getQueryParameterValue(this.filterConfig.paramName+ms).pipe((0,f.Z)(void 0));this.subs.push((0,m.z)([pt,Vt]).pipe((0,v.T)(([Bt,wn])=>[(0,h.a4)(Bt)?Number(Bt):this.min,(0,h.a4)(wn)?Number(wn):this.max])).subscribe(Bt=>this.range=Bt)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(pt){this.sliderRange=pt}onSubmit(){if(this.keyboardControl)return;const pt=this.range[0]!==this.min?[this.range[0]]:null,Vt=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+xi]:pt,[this.filterConfig.paramName+ms]:Vt},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(O.S),t.rXU(I.U),t.rXU(z.Ix),t.rXU(kn.v$),t.rXU(j.o),t.rXU(c.c$),t.rXU(D.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:26,vars:24,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","mb-3","mb-0"],[1,"form-label"],[1,"fw-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit","role","button","tabindex","0",1,"sr-only"],["ngDefaultControl","",3,"connect","config","min","max","step","dsDebounce","ngModel"],["role","button","tabindex","0",1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(Vt,Bt){if(1&Vt){const wn=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(wn),t.Njj(Bt.onSubmit())}),t.j41(4,"div",3)(5,"label",4)(6,"span",5),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",6),t.mxI("ngModelChange",function(wi){return t.eBV(wn),t.DH7(Bt.range[0],wi)||(Bt.range[0]=wi),t.Njj(wi)}),t.k0s()()(),t.j41(10,"div",7)(11,"label",4)(12,"span",5),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",6),t.mxI("ngModelChange",function(wi){return t.eBV(wn),t.DH7(Bt.range[1],wi)||(Bt.range[1]=wi),t.Njj(wi)}),t.k0s()()(),t.j41(16,"button",8),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,Js,1,7,"nouislider",9),t.Z7z(20,mr,3,1,"div",null,t.fX1),t.nI1(22,"async"),t.j41(23,"button",10),t.bIt("click",function(){return t.eBV(wn),t.Njj(Bt.onSubmit())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()}2&Vt&&(t.R7$(2),t.Y8G("action",Bt.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,14,"search.filters.filter."+Bt.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Bt.range[0]),t.Y8G("name",Bt.filterConfig.paramName+".min")("placeholder",Bt.minLabel),t.BMQ("aria-label",Bt.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,16,"search.filters.filter."+Bt.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Bt.range[1]),t.Y8G("name",Bt.filterConfig.paramName+".max")("placeholder",Bt.maxLabel),t.BMQ("aria-label",Bt.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,18,"search.filters.search.submit")," "),t.R7$(2),t.vxM(Bt.shouldShowSlider()?19:-1),t.R7$(),t.Dyx(t.bMT(22,20,Bt.facetValues$)),t.R7$(4),t.SpI(" ",t.bMT(25,22,"search.filters.search.submit")," "))},dependencies:[i.Jj,Qn.R,ee.YN,ee.qT,ee.me,ee.BC,ee.cb,ee.vS,ee.cV,kt,qo,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[X]}})}}return lt})();function ta(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-selected-option",1),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("selectedValue",pt)("filterConfig",Vt.filterConfig)("inPlaceSearch",Vt.inPlaceSearch)}}function ur(lt,at){if(1&lt&&t.nrm(0,"ds-search-facet-option",6),2&lt){const pt=at.$implicit,Vt=t.XpG(2);t.Y8G("filterConfig",Vt.filterConfig)("filterValue",pt)("inPlaceSearch",Vt.inPlaceSearch)}}function Hr(lt,at){if(1&lt&&(t.j41(0,"div"),t.Z7z(1,ur,1,3,"ds-search-facet-option",6,t.BUC().trackUpdate,!0),t.k0s()),2&lt){const pt=at.$implicit,Vt=t.XpG();t.Y8G("@facetLoad",Vt.animationState),t.R7$(),t.Dyx(pt.page)}}function Bo(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function na(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&lt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function _o(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"ds-filter-input-suggestions",9),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(pt);const wn=t.XpG();return t.DH7(wn.filter,Bt)||(wn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.findSuggestions(Bt))}),t.k0s()}if(2&lt){const pt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,pt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+pt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+pt.filterConfig.name+".label"))("action",pt.currentUrl)("name",pt.filterConfig.paramName),t.R50("ngModel",pt.filter)}}let Ca=(()=>{class lt extends G{onSubmit(pt){super.onSubmit((0,se.mq)(pt,"query"))}static{this.\u0275fac=(()=>{let pt;return function(Bt){return(pt||(pt=t.xGo(lt)))(Bt||lt)}})()}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:13,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Vt,Bt){1&Vt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,ta,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,Hr,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,Bo,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,na,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,_o,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s()),2&Vt&&(t.R7$(2),t.Dyx(t.bMT(4,3,Bt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,5,Bt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,7,Bt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,9,Bt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,11,Bt.isAvailableForShowSearchText)?13:-1))},dependencies:[i.Jj,fe.H,ee.YN,ee.me,ee.BC,ee.vS,Z,ze,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return lt})();const yi=new Map;function Tr(lt,at){}yi.set(ne.R.text,Ca),yi.set(ne.R.authority,ut),yi.set(ne.R.boolean,je),yi.set(ne.R.hierarchy,on),yi.set(ne.R.range,Dr);let Fa=(()=>{class lt extends J.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function ia(lt){return yi.get(lt)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let pt;return function(Bt){return(pt||(pt=t.xGo(lt)))(Bt||lt)}})()}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Vt,Bt){1&Vt&&t.DNE(0,Tr,0,0,"ng-template",1,0,t.C5r)},dependencies:[q.z],encapsulation:2})}}return lt})(),ba=(()=>{class lt{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(Vt){return new(Vt||lt)}}static{this.\u0275prov=t.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})();const Da=lt=>({focus:lt}),Ba=(lt,at)=>({closed:lt,notab:at});function sa(lt,at){if(1&lt){const pt=t.RV6();t.j41(0,"div",0)(1,"button",1),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.toggle())})("focusin",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.focusBox=!0)})("focusout",function(){t.eBV(pt);const Bt=t.XpG();return t.Njj(Bt.focusBox=!1)}),t.j41(8,"span",2),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",3),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",4),t.nI1(16,"async"),t.bIt("@slide.start",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.startSlide(Bt))})("@slide.done",function(Bt){t.eBV(pt);const wn=t.XpG();return t.Njj(wn.finishSlide(Bt))}),t.nrm(17,"ds-search-facet-filter-wrapper",5),t.k0s()()}if(2&lt){const pt=t.XpG();t.Y8G("id",pt.regionId)("ngClass",t.eq3(39,Da,pt.focusBox)),t.BMQ("aria-labelledby",pt.toggleId),t.R7$(),t.Y8G("id",pt.toggleId),t.BMQ("aria-controls",pt.regionId)("aria-expanded",!0!==t.bMT(2,17,pt.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,pt.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+pt.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+pt.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,pt.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,pt.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,pt.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,Ba,pt.closed,pt.notab)),t.R7$(2),t.Y8G("scope",pt.scope)("filterConfig",pt.filter)("inPlaceSearch",pt.inPlaceSearch)("refreshFilters",pt.refreshFilters)}}let Ta=(()=>{class lt{constructor(pt,Vt,Bt,wn){this.filterService=pt,this.searchService=Vt,this.searchConfigService=Bt,this.sequenceService=wn,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(pt=>{(0,h.hj)(pt)&&this.filterService.expand(this.filter.name)}),this.getIsActive().subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(pt=>pt.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(pt){"collapsed"===pt.fromState&&(this.closed=!1),"collapsed"===pt.toState&&(this.notab=!0)}startSlide(pt){"collapsed"===pt.toState&&(this.closed=!0),"collapsed"===pt.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,f.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,p.n)(([pt,Vt,Bt])=>(0,h.hj)(pt.filter(wn=>V.includes(wn.operator)))?(0,y.of)(!0):((0,h.a4)(Bt)&&(Vt.scope=Bt),this.searchService.getFacetValuesFor(this.filter,1,Vt).pipe((0,E.p)(wn=>!wn.isLoading),(0,v.T)(wn=>wn.payload?.totalElements>0)))))}static{this.\u0275fac=function(Vt){return new(Vt||lt)(t.rXU(I.U),t.rXU(O.S),t.rXU(D.EN),t.rXU(ba))}}static{this.\u0275cmp=t.VBU({type:lt,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],["role","button","tabindex","0",1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-start","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(Vt,Bt){1&Vt&&(t.DNE(0,sa,18,44,"div",0),t.nI1(1,"async")),2&Vt&&t.vxM(t.bMT(1,1,Bt.active$)?0:-1)},dependencies:[i.Jj,S.L,i.GH,i.YU,Fa,c.h,c.D9],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[R.M6]}})}}return lt})()},99719:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFiltersComponent:()=>$});var i=n(60177),t=n(7901),c=n(68018),e=n(72234),f=n(96354),m=n(5964),p=n(96697),y=n(79096),E=n(40645),O=(n(74272),n(4255)),C=n(50553),I=n(54034),D=n(86351),R=n(54438);const h=(k,K)=>K.name,S=k=>[k];function T(k,K){if(1&k&&(R.j41(0,"h3"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&k){const z=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,z.filterLabel+".filters.head"))}}function w(k,K){if(1&k&&(R.j41(0,"h2"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&k){const z=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,z.filterLabel+".filters.head"))}}function M(k,K){if(1&k){const z=R.RV6();R.j41(0,"ds-search-filter",4),R.bIt("isVisibilityComputed",function(G){R.eBV(z);const X=R.XpG(2);return R.Njj(X.countFiltersWithComputedVisibility(G))}),R.k0s()}if(2&k){const z=K.$implicit,V=R.XpG(2);R.Y8G("scope",V.currentScope)("filter",z)("inPlaceSearch",V.inPlaceSearch)("refreshFilters",V.refreshFilters)}}function L(k,K){if(1&k&&(R.j41(0,"div"),R.nI1(1,"async"),R.Z7z(2,M,1,4,"ds-search-filter",3,h),R.nI1(4,"async"),R.k0s()),2&k){let z,V;const G=R.XpG();R.AVh("visually-hidden",G.getCurrentFiltersComputed(G.currentConfiguration)<(null==(z=R.bMT(1,2,G.filters))||null==z.payload?null:z.payload.length)),R.R7$(2),R.Dyx(null==(V=R.bMT(4,4,G.filters))?null:V.payload)}}function N(k,K){if(1&k&&R.nrm(0,"ngx-skeleton-loader",1),2&k){const z=R.XpG();R.Y8G("count",z.defaultFilterCount)}}function j(k,K){if(1&k){const z=R.RV6();R.j41(0,"button",5),R.nI1(1,"async"),R.bIt("click",function(){R.eBV(z);const G=R.XpG();return R.Njj(G.minimizeFilters())}),R.nrm(2,"i",6),R.EFF(3),R.nI1(4,"translate"),R.k0s()}if(2&k){const z=R.XpG();R.Y8G("routerLink",R.eq3(7,S,z.searchLink))("queryParams",R.bMT(1,3,z.clearParams)),R.R7$(3),R.SpI(" ",R.bMT(4,5,"search.filters.reset")," ")}}let $=(()=>{class k{constructor(z,V,G,X,J){this.searchService=z,this.searchFilterService=V,this.router=G,this.searchConfigService=X,this.appConfig=J,this.appliedFilters=new Map,this.currentFiltersComputed=[],this.finalFiltersComputed=[],this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,f.T)(z=>(Object.keys(z).forEach(V=>z[V]=null),z))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}trackUpdate(z,V){return V?V.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(z){z&&this.filters.pipe((0,f.T)(V=>{if(V&&V.hasSucceeded&&V.payload){const G=V.payload.length;return this.getCurrentFiltersComputed(this.currentConfiguration)>=G?(this.findConfigInFinalFilters(this.currentConfiguration)||this.updateFinalFiltersComputed(this.currentConfiguration,G),{shouldIncrement:!1}):{shouldIncrement:!0,totalFilters:G}}return{shouldIncrement:!1}}),(0,m.p)(V=>V.shouldIncrement),(0,f.T)(V=>{const G=this.findConfigInCurrentFilters(this.currentConfiguration);return G?G.filtersComputed+=1:this.currentFiltersComputed.push({configuration:this.currentConfiguration,filtersComputed:1}),{totalFilters:V.totalFilters,currentComputed:this.getCurrentFiltersComputed(this.currentConfiguration)}}),(0,f.T)(V=>(V.currentComputed===V.totalFilters&&this.updateFinalFiltersComputed(this.currentConfiguration,V.currentComputed),V))).pipe((0,p.s)(1)).subscribe()}findConfigInCurrentFilters(z){return this.currentFiltersComputed.find(V=>V.configuration===z)}findConfigInFinalFilters(z){return this.finalFiltersComputed.find(V=>V.configuration===z)}updateFinalFiltersComputed(z,V){const G=this.findConfigInFinalFilters(z);G?G.filtersComputed=V:this.finalFiltersComputed.push({configuration:z,filtersComputed:V})}getCurrentFiltersComputed(z){return this.findConfigInCurrentFilters(z)?.filtersComputed||0}static{this.\u0275fac=function(V){return new(V||k)(R.rXU(E.S),R.rXU(O.U),R.rXU(t.Ix),R.rXU(C.EN),R.rXU(y.vQ))}}static{this.\u0275cmp=R.VBU({type:k,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[R.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(V,G){if(1&V&&(R.DNE(0,T,3,3,"h3")(1,w,3,3,"h2")(2,L,5,6,"div",0),R.nI1(3,"async"),R.DNE(4,N,1,1,"ngx-skeleton-loader",1),R.nI1(5,"async"),R.DNE(6,j,5,9,"button",2)),2&V){let X,J;R.vxM(G.inPlaceSearch?0:1),R.R7$(2),R.vxM(null!=(X=R.bMT(3,4,G.filters))&&X.hasSucceeded?2:-1),R.R7$(2),R.vxM(G.getCurrentFiltersComputed(G.currentConfiguration)<(null==(J=R.bMT(5,6,G.filters))||null==J.payload?null:J.payload.length)?4:-1),R.R7$(2),R.vxM(G.inPlaceSearch?6:-1)}},dependencies:[i.Jj,e.Yq,e.Zm,t.Wk,D.a,c.h,c.D9],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return k})()},23151:(U,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(29710),c=(n(99719),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(E){return n(64565)(`./${E}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,99719))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},10996:(U,b,n)=>{"use strict";n.d(b,{L:()=>V});var i=n(60177),t=n(40645),c=n(43764),e=n(60163),m=(n(43537),n(89777)),p=n(21193),y=n(7901),E=n(68018),v=n(31),O=n(74272),C=n(4255),I=n(54034),D=n(54438);const R=(G,X)=>({type:G,value:X}),h=G=>({default:G});let S=(()=>{class G{constructor(J,q,ne,ee,fe){this.paginationService=J,this.router=q,this.searchConfigurationService=ne,this.searchService=ee,this.searchFilterService=fe}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(q){return new(q||G)(D.rXU(v.m),D.rXU(y.Ix),D.rXU(O.g),D.rXU(t.S),D.rXU(C.U))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:12,vars:25,consts:[[1,"badge","bg-primary","me-1","mb-1","text-capitalize",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-start"],["aria-hidden","true",1,"ps-1"]],template:function(q,ne){1&q&&(D.j41(0,"a",0),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){return ne.searchFilterService.minimizeAll()}),D.j41(4,"span",1)(5,"span",2),D.EFF(6),D.nI1(7,"translate"),D.nI1(8,"translate"),D.nI1(9,"translate"),D.k0s(),D.j41(10,"span",3),D.EFF(11,"\xd7"),D.k0s()()()),2&q&&(D.Y8G("routerLink",ne.searchLink)("queryParams",D.bMT(1,6,ne.removeParameters$)),D.BMQ("aria-label",D.i5U(3,10,"search.filters.remove",D.l_i(20,R,D.bMT(2,8,"search.filters.applied.f."+ne.appliedFilter.filter),ne.appliedFilter.label))),D.R7$(6),D.E5c("",D.bMT(7,13,"search.filters.applied.f."+ne.appliedFilter.filter),"",D.bMT(8,15,"search.filters.applied.operator."+ne.appliedFilter.operator),": ",D.i5U(9,17,"search.filters."+ne.appliedFilter.filter+"."+ne.appliedFilter.label,D.eq3(23,h,ne.appliedFilter.label)),""))},dependencies:[i.Jj,y.Wk,E.h,E.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return G})();const T=(G,X)=>({type:G,value:X});function w(G,X){if(1&G){const J=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(J);const ne=D.XpG();return D.Njj(ne.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&G){const J=D.XpG();D.Y8G("routerLink",J.searchLink)("queryParams",D.bMT(1,5,J.removeParametersMin$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,T,D.bMT(2,7,"search.filters.applied.f."+J.appliedFilter.filter+".min"),J.min))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+J.appliedFilter.filter+".min"),": ",J.min,"")}}function M(G,X){if(1&G){const J=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(J);const ne=D.XpG();return D.Njj(ne.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&G){const J=D.XpG();D.Y8G("routerLink",J.searchLink)("queryParams",D.bMT(1,5,J.removeParametersMax$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,T,D.bMT(2,7,"search.filters.applied.f."+J.appliedFilter.filter+".max"),J.max))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+J.appliedFilter.filter+".max"),": ",J.max,"")}}let L=(()=>{class G{constructor(J,q,ne,ee,fe){this.paginationService=J,this.router=q,this.searchConfigurationService=ne,this.searchService=ee,this.searchFilterService=fe}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(J,q,ne){return this.searchConfigurationService.unselectAppliedFilterParams(J,q,ne)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(q){return new(q||G)(D.rXU(v.m),D.rXU(y.Ix),D.rXU(O.g),D.rXU(t.S),D.rXU(C.U))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:2,vars:2,consts:[[1,"badge","bg-primary",3,"routerLink","queryParams"],[1,"badge","bg-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-start"],["aria-hidden","true",1,"ps-1"]],template:function(q,ne){1&q&&D.DNE(0,w,10,17,"a",0)(1,M,10,17,"a",0),2&q&&(D.vxM("*"!==ne.min?0:-1),D.R7$(),D.vxM("*"!==ne.max?1:-1))},dependencies:[i.Jj,y.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return G})();const N=void 0,j=new Map([[N,new Map([[p.SS,S]])],["range",new Map([[p.SS,L]])]]);function k(G,X){}let K=(()=>{class G extends c.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function $(G,X){let J=j.get(G);(0,m.Tn)(J)&&(J=j.get(N));const q=J.get(X);return(0,m.Tn)(q)?J.get(p.SS):q}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let J;return function(ne){return(J||(J=D.xGo(G)))(ne||G)}})()}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.Vt3,D.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(q,ne){1&q&&D.DNE(0,k,0,0,"ng-template",1,0,D.C5r)},dependencies:[e.z],encapsulation:2})}}return G})();function z(G,X){if(1&G&&D.nrm(0,"ds-search-label-loader",1),2&G){const J=X.$implicit,q=D.XpG();D.Y8G("appliedFilter",J)("inPlaceSearch",q.inPlaceSearch)}}let V=(()=>{class G{constructor(J){this.searchService=J}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(q){return new(q||G)(D.rXU(t.S))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[D.aNF],decls:4,vars:2,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch"]],template:function(q,ne){1&q&&(D.j41(0,"div",0),D.Z7z(1,z,1,2,"ds-search-label-loader",1,D.fX1),D.nI1(3,"async"),D.k0s()),2&q&&(D.R7$(),D.Dyx(D.bMT(3,0,ne.appliedFilters$)))},dependencies:[i.Jj,K],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return G})()},71384:(U,b,n)=>{"use strict";n.d(b,{L:()=>T});var i=n(12560),t=n(74831),c=n(48145),e=n(10406),f=n(15862),m=n(56327),p=n(84821),y=n(17144),E=n(13005),v=n(93644),O=n(97593),C=n(22260),I=n(39210),D=n(55621),R=n(59194),h=n(62378);const S=new Map([[i.a,t.o],[y.T,v.y],[E.k,D.d],[c.p,O.A],[e.E,C.L],[f.q,I.H],[m.t,R.q],[p.F,h.I]]);function T(w){return S.get(w)}},93145:(U,b,n)=>{"use strict";n.d(b,{b:()=>C});var i=n(60177),t=n(72234),c=n(40645),e=n(19192),f=n(89777),m=n(54438);function p(I,D){1&I&&(m.j41(0,"div",5)(1,"div",9),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function y(I,D){if(1&I&&(m.j41(0,"div",4),m.DNE(1,p,3,0,"div",5),m.j41(2,"div")(3,"div",6),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",7),m.nrm(6,"ngx-skeleton-loader",8),m.k0s()()()),2&I){const R=D.$index,h=m.XpG(2);m.AVh("my-4",0!==R),m.R7$(),m.vxM(h.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",h.showThumbnails)("col-md-10",h.showThumbnails)("col-md-12",!h.showThumbnails),m.R7$(4),m.Y8G("count",h.textLineCount)}}function E(I,D){if(1&I&&m.Z7z(0,y,7,10,"div",3,m.fX1),2&I){const R=m.XpG();m.Dyx(R.loadingResults)}}function v(I,D){1&I&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function O(I,D){if(1&I&&(m.j41(0,"div",2),m.Z7z(1,v,3,0,"div",10,m.fX1),m.k0s()),2&I){const R=m.XpG();m.R7$(),m.Dyx(R.loadingResults)}}let C=(()=>{class I{constructor(R){this.searchService=R,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(R,h)=>h+1),(0,f.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(h){return new(h||I)(m.rXU(c.S))}}static{this.\u0275cmp=m.VBU({type:I,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"card-columns","row"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(h,S){1&h&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,E,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,O,3,0,"div",2)),2&h&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,S.viewMode$)===S.ViewMode.ListElement),m.R7$(3),m.vxM(m.bMT(5,5,S.viewMode$)===S.ViewMode.ListElement?4:m.bMT(6,7,S.viewMode$)===S.ViewMode.GridElement?7:-1))},dependencies:[i.Jj,t.Yq,t.Zm],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return I})()},49965:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchResultsComponent:()=>G});var i=n(60177),t=n(54438),c=n(7901),e=n(68018),f=n(72234),E=(n(70998),n(25788),n(40940),n(40645)),v=n(74272),C=(n(19192),n(2180)),I=n(89777),D=n(14744),h=(n(79669),n(52186)),T=(n(30726),n(50825)),w=n(93145);const M=()=>["/search"],L=X=>({query:X});function N(X,J){if(1&X&&(t.j41(0,"div",0)(1,"div",5)(2,"div",6)(3,"div",7),t.nrm(4,"ngx-skeleton-loader",8),t.nI1(5,"async"),t.k0s()()()()),2&X){const q=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,q.activeFilters$).length)}}function j(X,J){if(1&X&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X){const q=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,q.configuration?q.configuration+".search.results.head":"search.results.head"))}}function $(X,J){if(1&X&&t.nrm(0,"ds-search-export-csv",2),2&X){const q=t.XpG();t.Y8G("searchConfig",q.searchConfig)("total",null==q.searchResults||null==q.searchResults.payload?null:q.searchResults.payload.totalElements)}}function k(X,J){if(1&X){const q=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",9),t.bIt("contentChange",function(ee){t.eBV(q);const fe=t.XpG();return t.Njj(fe.contentChange.emit(ee))})("deselectObject",function(ee){t.eBV(q);const fe=t.XpG();return t.Njj(fe.deselectObject.emit(ee))})("selectObject",function(ee){t.eBV(q);const fe=t.XpG();return t.Njj(fe.selectObject.emit(ee))}),t.k0s()()}if(2&X){const q=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",q.searchConfig.pagination)("sortConfig",q.searchConfig.sort)("objects",q.searchResults)("hideGear",!0)("showRSS",!0)("selectable",q.selectable)("selectionConfig",q.selectionConfig)("linkType",q.linkType)("context",q.context)("hidePaginationDetail",q.hidePaginationDetail)("showThumbnails",q.showThumbnails)}}function K(X,J){if(1&X&&t.nrm(0,"ds-search-results-skeleton",3),2&X){const q=t.XpG();t.Y8G("showThumbnails",q.showThumbnails)("numberOfResults",q.searchConfig.pagination.pageSize)}}function z(X,J){if(1&X&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&X){const q=t.XpG();t.FS9("message",t.bMT(1,1,q.errorMessageLabel()))}}function V(X,J){if(1&X&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&X){const q=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,M))("queryParams",t.eq3(9,L,q.surroundStringWithQuotes(null==q.searchConfig?null:q.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let G=(()=>{class X{constructor(q,ne){this.searchConfigService=q,this.searchService=ne,this.hasNoValue=I.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,I.Tn)(this.searchResults)||(0,I.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(q){let ne=q;return(0,I.hj)(ne)&&!(ne.startsWith('"')&&ne.endsWith('"'))&&(ne=`"${ne}"`),ne}static{this.\u0275fac=function(ne){return new(ne||X)(t.rXU(v.g),t.rXU(E.S))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[3,"searchConfig","total"],[3,"showThumbnails","numberOfResults"],[3,"message"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","showRSS","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],["queryParamsHandling","merge","role","link","tabindex","0",3,"routerLink","queryParams"]],template:function(ne,ee){1&ne&&(t.DNE(0,N,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,j,3,3,"h1")(5,$,1,2,"ds-search-export-csv",2),t.k0s(),t.DNE(6,k,2,12,"div")(7,K,1,2,"ds-search-results-skeleton",3)(8,z,2,3,"ds-error",4)(9,V,6,11,"div")),2&ne&&(t.vxM(t.bMT(1,7,ee.activeFilters$).length>0&&0===t.bMT(2,9,ee.appliedFilters$).length?0:-1),t.R7$(4),t.vxM(ee.disableHeader?-1:4),t.R7$(),t.vxM(ee.showCsvExport?5:-1),t.R7$(),t.vxM(ee.searchResults&&null!=ee.searchResults&&ee.searchResults.hasSucceeded&&(null==ee.searchResults||!ee.searchResults.isLoading)&&(null==ee.searchResults||null==ee.searchResults.payload?null:ee.searchResults.payload.page.length)>0?6:-1),t.R7$(),t.vxM(ee.isLoading()?7:-1),t.R7$(),t.vxM(ee.showError()?8:-1),t.R7$(),t.vxM(0===(null==ee.searchResults||null==ee.searchResults.payload?null:ee.searchResults.payload.page.length)||400===(null==ee.searchResults?null:ee.searchResults.statusCode)?9:-1))},dependencies:[i.Jj,D.A,f.Yq,f.Zm,h.h,c.Wk,T.w,w.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[C.qG,C.Ws]}})}}return X})()},18155:(U,b,n)=>{"use strict";n.d(b,{N:()=>C});var i=n(54438),p=(n(70998),n(25788),n(40940),n(19192),n(79669),n(29710));n(30726),n(49965);const v=["*"];function O(I,D){}let C=(()=>{class I extends p.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(R){return n(18527)(`./${R}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,49965))}static{this.\u0275fac=(()=>{let R;return function(S){return(R||(R=i.xGo(I)))(S||I)}})()}static{this.\u0275cmp=i.VBU({type:I,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:v,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,S){1&h&&(i.NAR(),i.DNE(0,O,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return I})()},60253:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSettingsComponent:()=>C});var i=n(89417),t=n(68018),e=(n(70998),n(31)),m=(n(74272),n(50553)),p=n(70780),y=n(59398),E=n(54438);function v(I,D){if(1&I&&(E.j41(0,"option",3),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&I){const R=D.$implicit,h=E.XpG(2);E.Y8G("value",R.field+","+R.direction.toString())("selected",R.field===(null==h.currentSortOption?null:h.currentSortOption.field)&&R.direction===(null==h.currentSortOption?null:h.currentSortOption.direction)?"selected":null),E.R7$(),E.SpI(" ",E.bMT(2,3,"sorting."+R.field+"."+R.direction)," ")}}function O(I,D){if(1&I){const R=E.RV6();E.j41(0,"ds-sidebar-dropdown",2),E.bIt("changed",function(S){E.eBV(R);const T=E.XpG();return E.Njj(T.reloadOrder(S))}),E.Z7z(1,v,3,5,"option",3,E.fX1),E.k0s()}if(2&I){const R=E.XpG();E.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),E.R7$(),E.Dyx(R.sortOptionsList)}}let C=(()=>{class I{constructor(R,h){this.paginationService=R,this.searchConfigurationService=h}reloadOrder(R){const h=R.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:h[0],sortDirection:h[1],page:1})}static{this.\u0275fac=function(h){return new(h||I)(E.rXU(e.m),E.rXU(m.EN))}}static{this.\u0275cmp=E.VBU({type:I,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[E.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label"],[3,"changed","id","label"],[3,"value","selected"]],template:function(h,S){1&h&&(E.qex(0),E.j41(1,"h3"),E.EFF(2),E.nI1(3,"translate"),E.k0s(),E.j41(4,"div",0),E.DNE(5,O,3,2,"ds-sidebar-dropdown",1),E.k0s(),E.nrm(6,"ds-page-size-selector"),E.bVm()),2&h&&(E.R7$(2),E.JRh(E.bMT(3,2,"search.sidebar.settings.title")),E.R7$(3),E.vxM(S.sortOptionsList?5:-1))},dependencies:[i.YN,i.xH,i.y7,p.b,y.v,t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return I})()},19229:(U,b,n)=>{"use strict";n.d(b,{_:()=>p}),n(70998);var t=n(29710),e=(n(60253),n(54438));const f=["*"];function m(y,E){}let p=(()=>{class y extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(v){return n(60911)(`./${v}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,60253))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(y)))(C||y)}})()}static{this.\u0275cmp=e.VBU({type:y,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,C){1&O&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return y})()},38689:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSidebarComponent:()=>T});var i=n(60177),t=n(54438),c=n(68018),e=n(96354),f=n(79096),p=(n(70998),n(74272)),y=n(19194),E=n(36237),O=(n(30726),n(23151)),C=n(19229),I=n(88245);function D(w,M){if(1&w){const L=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(j){t.eBV(L);const $=t.XpG();return t.Njj($.changeViewMode.emit(j))}),t.k0s()}if(2&w){const L=t.XpG();t.Y8G("viewModeList",L.viewModeList)}}function R(w,M){if(1&w){const L=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(j){t.eBV(L);const $=t.XpG();return t.Njj($.changeConfiguration.emit(j))}),t.k0s()}if(2&w){const L=t.XpG();t.Y8G("configurationList",L.configurationList)("defaultConfiguration",L.configuration)("inPlaceSearch",L.inPlaceSearch)}}function h(w,M){if(1&w&&(t.nrm(0,"ds-advanced-search",9),t.nI1(1,"async")),2&w){let L;const N=t.XpG();t.Y8G("configuration",N.configuration)("filtersConfig",null==(L=t.bMT(1,3,N.filters))?null:L.payload)("scope",N.currentScope)}}function S(w,M){if(1&w&&t.nrm(0,"ds-search-settings",10),2&w){const L=t.XpG();t.Y8G("currentSortOption",L.currentSortOption)("sortOptionsList",L.sortOptionsList)}}let T=(()=>{class w{constructor(L,N){this.appConfig=L,this.searchConfigurationService=N,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(L=>this.appConfig.search.advancedFilters.enabled&&L.length>0))}static{this.\u0275fac=function(N){return new(N||w)(t.rXU(f.vQ),t.rXU(p.g))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-end","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],[1,"d-none","d-md-block",3,"viewModeList"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"]],template:function(N,j){1&N&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return j.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,D,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,R,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,h,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,S,1,2,"ds-search-settings",10),t.k0s()()()),2&N&&(t.R7$(3),t.Lme("",j.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.vxM(j.showViewModes?11:-1),t.R7$(2),t.vxM(j.configurationList?13:-1),t.R7$(),t.Y8G("currentScope",j.currentScope)("currentConfiguration",j.configuration)("filters",j.filters)("refreshFilters",j.refreshFilters)("inPlaceSearch",j.inPlaceSearch),t.R7$(),t.vxM(j.inPlaceSearch&&!0===t.bMT(16,19,j.showAdvancedSearch$)?15:-1),t.R7$(2),t.vxM(j.inPlaceSearch?17:-1))},dependencies:[E.Q,i.Jj,I.o,O.k,C._,c.h,c.D9,y.g],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return w})()},27499:(U,b,n)=>{"use strict";n.d(b,{p:()=>y});var i=n(54438),c=(n(70998),n(29710));n(30726),n(38689);const m=["*"];function p(E,v){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(O){return n(98587)(`./${O}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38689))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=i.xGo(E)))(I||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},88245:(U,b,n)=>{"use strict";n.d(b,{o:()=>D});var i=n(54438),t=n(89417),c=n(68018),e=n(48376),f=n.n(e),m=n(40645),y=(n(74272),n(50553)),E=n(89777),v=n(54034),O=n(7901);function C(R,h){if(1&R&&(i.j41(0,"option",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&R){const S=h.$implicit;i.Y8G("ngValue",S),i.R7$(),i.SpI(" ",i.bMT(2,2,S.label)," ")}}function I(R,h){if(1&R){const S=i.RV6();i.j41(0,"div",0)(1,"h3",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"select",2),i.mxI("ngModelChange",function(w){i.eBV(S);const M=i.XpG();return i.DH7(M.selectedOption,w)||(M.selectedOption=w),i.Njj(w)}),i.bIt("change",function(){i.eBV(S);const w=i.XpG();return i.Njj(w.onSelect())}),i.Z7z(5,C,3,4,"option",3,i.fX1),i.k0s()()}if(2&R){const S=i.XpG();i.R7$(2),i.JRh(i.bMT(3,3,"search.switch-configuration.title")),i.R7$(2),i.Y8G("compareWith",S.compare),i.R50("ngModel",S.selectedOption),i.R7$(),i.Dyx(S.configurationList)}}let D=(()=>{class R{constructor(S,T,w){this.router=S,this.searchService=T,this.searchConfigService=w,this.configurationList=[],this.changeConfiguration=new i.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(S=>{const T=f()(this.configurationList,{value:S});this.selectedOption=this.configurationList[T]})}onSelect(){const S={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),S)}compare(S,T){return S===T}ngOnDestroy(){(0,E.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,v.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(T){return new(T||R)(i.rXU(O.Ix),i.rXU(m.S),i.rXU(y.EN))}}static{this.\u0275cmp=i.VBU({type:R,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-select",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue"]],template:function(T,w){1&T&&i.DNE(0,I,7,5,"div",0),2&T&&i.vxM((null==w.configurationList?null:w.configurationList.length)>1?0:-1)},dependencies:[t.YN,t.xH,t.y7,t.wz,t.BC,t.vS,c.h,c.D9]})}}return R})()},33006:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SearchComponent:()=>je});var i=n(60177),t=n(54438),c=n(7901),e=n(68018),f=n(59519),m=n.n(f),p=n(84412),y=n(84572),E=n(23294),v=n(96354),O=n(25558),C=n(5964),I=n(70152),D=n(79096),R=n(78544),h=n(47067),S=n(39015),T=n(87507),w=n(40940),M=n(4093),L=n(40645),j=(n(74272),n(92767)),$=n(50553),k=n(34366),K=n(89777),z=n(50842),G=(n(79669),n(43144)),X=n(41519),J=n(60768),q=n(4600),ne=n(54034),ee=n(19194),fe=n(30726),ye=n(10996),oe=n(18155),ue=n(27499);const te=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],se=["[searchContentTop]","[additionalSearchOptions]"];function be(mt,vn){}function me(mt,vn){1&mt&&t.DNE(0,be,0,0,"ng-template")}function re(mt,vn){if(1&mt&&(t.j41(0,"div",3)(1,"div",5)(2,"div",6),t.DNE(3,me,1,0,null,7),t.k0s()()()),2&mt){t.XpG();const hn=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",hn)}}function Z(mt,vn){}function le(mt,vn){1&mt&&t.DNE(0,Z,0,0,"ng-template")}function ce(mt,vn){if(1&mt&&(t.j41(0,"div"),t.DNE(1,le,1,0,null,7),t.k0s()),2&mt){t.XpG();const hn=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",hn)}}function ve(mt,vn){}function ze(mt,vn){1&mt&&t.DNE(0,ve,0,0,"ng-template")}function Se(mt,vn){if(1&mt&&(t.j41(0,"ds-page-with-sidebar",4),t.DNE(1,ze,1,0,null,7),t.k0s()),2&mt){const hn=t.XpG(),jn=t.sdS(7),bt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",hn.sideBarWidth)("sidebarContent",bt),t.R7$(),t.Y8G("ngTemplateOutlet",jn)}}function et(mt,vn){}function $e(mt,vn){1&mt&&t.DNE(0,et,0,0,"ng-template")}function st(mt,vn){if(1&mt&&t.DNE(0,$e,1,0,null,7),2&mt){t.XpG(3);const hn=t.sdS(11);t.Y8G("ngTemplateOutlet",hn)}}function We(mt,vn){if(1&mt&&(t.j41(0,"div",6),t.DNE(1,st,1,1),t.SdG(2,1),t.k0s()),2&mt){const hn=t.XpG(2);t.R7$(),t.vxM(hn.searchEnabled?1:-1)}}function De(mt,vn){if(1&mt&&t.nrm(0,"ds-view-mode-switch",10),2&mt){const hn=t.XpG(2);t.Y8G("viewModeList",hn.viewModeList)("inPlaceSearch",hn.inPlaceSearch)}}function ut(mt,vn){if(1&mt){const hn=t.RV6();t.j41(0,"ds-search-results",14),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(bt){t.eBV(hn);const St=t.XpG(2);return t.Njj(St.onContentChange(bt))})("deselectObject",function(bt){t.eBV(hn);const St=t.XpG(2);return t.Njj(St.deselectObject.emit(bt))})("selectObject",function(bt){t.eBV(hn);const St=t.XpG(2);return t.Njj(St.selectObject.emit(bt))}),t.k0s()}if(2&mt){const hn=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,hn.resultsRD$))("searchConfig",t.bMT(2,12,hn.searchOptions$))("configuration",t.bMT(3,14,hn.currentConfiguration$))("disableHeader",!hn.searchEnabled)("linkType",hn.linkType)("context",t.bMT(4,16,hn.currentContext$))("selectable",hn.selectable)("selectionConfig",hn.selectionConfig)("showCsvExport",hn.showCsvExport)("showThumbnails",hn.showThumbnails)}}function Ge(mt,vn){if(1&mt){const hn=t.RV6();t.j41(0,"div",5),t.DNE(1,We,3,1,"div",6),t.nI1(2,"async"),t.j41(3,"div",8)(4,"div",9),t.DNE(5,De,1,2,"ds-view-mode-switch",10),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(hn);const bt=t.XpG();return t.Njj(bt.openSidebar())}),t.nrm(7,"i",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,ut,5,18,"ds-search-results",13),t.k0s()()}if(2&mt){const hn=t.XpG();t.R7$(),t.vxM(!0!==t.bMT(2,4,hn.isXsOrSm$)?1:-1),t.R7$(4),t.vxM(hn.inPlaceSearch&&hn.showViewModes?5:-1),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.vxM(hn.inPlaceSearch?11:-1)}}function wt(mt,vn){if(1&mt){const hn=t.RV6();t.j41(0,"ds-search-sidebar",17),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(bt){t.eBV(hn);const St=t.XpG(2);return t.Njj(St.changeContext(bt.context))})("changeViewMode",function(){t.eBV(hn);const bt=t.XpG(2);return t.Njj(bt.changeViewMode())}),t.k0s()}if(2&mt){let hn;const jn=t.XpG(2);t.Y8G("configurationList",jn.configurationList)("configuration",t.bMT(1,12,jn.currentConfiguration$))("currentScope",t.bMT(2,14,jn.currentScope$))("filters",jn.filtersRD$.asObservable())("refreshFilters",jn.refreshFilters)("resultCount",null==(hn=t.bMT(3,16,jn.resultsRD$))||null==hn.payload?null:hn.payload.totalElements)("searchOptions",t.bMT(4,18,jn.searchOptions$))("sortOptionsList",t.bMT(5,20,jn.sortOptionsList$))("currentSortOption",t.bMT(6,22,jn.currentSortOptions$))("inPlaceSearch",jn.inPlaceSearch)("viewModeList",jn.viewModeList)("showViewModes",jn.showViewModes)}}function ot(mt,vn){if(1&mt){const hn=t.RV6();t.j41(0,"ds-search-sidebar",18),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(hn);const bt=t.XpG(2);return t.Njj(bt.closeSidebar())})("changeConfiguration",function(bt){t.eBV(hn);const St=t.XpG(2);return t.Njj(St.changeContext(bt.context))})("changeViewMode",function(){t.eBV(hn);const bt=t.XpG(2);return t.Njj(bt.changeViewMode())}),t.k0s()}if(2&mt){let hn;const jn=t.XpG(2);t.Y8G("configurationList",jn.configurationList)("configuration",t.bMT(1,12,jn.currentConfiguration$))("currentScope",t.bMT(2,14,jn.currentScope$))("filters",jn.filtersRD$.asObservable())("refreshFilters",jn.refreshFilters)("resultCount",null==(hn=t.bMT(3,16,jn.resultsRD$))||null==hn.payload?null:hn.payload.totalElements)("searchOptions",t.bMT(4,18,jn.searchOptions$))("sortOptionsList",t.bMT(5,20,jn.sortOptionsList$))("currentSortOption",t.bMT(6,22,jn.currentSortOptions$))("inPlaceSearch",jn.inPlaceSearch)("viewModeList",jn.viewModeList)("showViewModes",jn.showViewModes)}}function Tt(mt,vn){if(1&mt&&(t.DNE(0,wt,7,24,"ds-search-sidebar",15),t.nI1(1,"async"),t.DNE(2,ot,7,24,"ds-search-sidebar",16),t.nI1(3,"async")),2&mt){const hn=t.XpG();t.vxM(!0!==t.bMT(1,2,hn.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(t.bMT(3,4,hn.isXsOrSm$)?2:-1)}}function Ee(mt,vn){if(1&mt&&(t.nrm(0,"ds-search-form",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",20)(5,"div",21),t.nrm(6,"ds-search-labels",22),t.k0s()()),2&mt){let hn,jn;const bt=t.XpG();t.Y8G("query",null==(hn=t.bMT(1,8,bt.searchOptions$))?null:hn.query)("scope",null==(jn=t.bMT(2,10,bt.searchOptions$))?null:jn.scope)("hideScopeInUrl",bt.hideScopeInUrl)("currentUrl",bt.searchLink)("showScopeSelector",bt.showScopeSelector)("inPlaceSearch",bt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,bt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",bt.inPlaceSearch)}}let je=(()=>{class mt{constructor(hn,jn,bt,St,Nt,gt,an,we){this.service=hn,this.sidebarService=jn,this.windowService=bt,this.searchConfigService=St,this.routeService=Nt,this.router=gt,this.appConfig=an,this.platformId=we,this.configurationList=[],this.context=w.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new p.t(""),this.currentContext$=new p.t(null),this.currentSortOptions$=new p.t(null),this.filtersRD$=new p.t(null),this.resultsRD$=new p.t(null),this.searchOptions$=new p.t(null),this.sortOptionsList$=new p.t([]),this.initialized$=new p.t(!1),this.refreshFilters=new p.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",j.xb,h.CC,S.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,E.F)()).subscribe(Nt=>{this.searchOptions$.next(Nt)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,K.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,K.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,v.T)(Nt=>(0,K.a4)(Nt)?Nt:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const hn=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,E.F)()),jn=(0,y.z)([hn,this.currentScope$]).pipe((0,O.n)(([Nt,gt])=>this.searchConfigService.getConfigurationSearchConfig(Nt,gt)),(0,v.T)(Nt=>this.searchConfigService.getConfigurationSortOptions(Nt)),(0,E.F)()),bt=jn.pipe((0,O.n)(Nt=>this.searchConfigService.getCurrentSort(this.paginationId,Nt[0])),(0,E.F)()),St=this.getSearchOptions().pipe((0,E.F)());this.subs.push((0,y.z)([hn,jn,St,bt,this.currentScope$]).pipe((0,C.p)(([Nt,gt,an,we,Ct])=>an.pagination.id===this.paginationId),(0,I.B)(100)).subscribe(([Nt,gt,an,we,Ct])=>{const $t=Object.assign({},an,{configuration:an.configuration||Nt,sort:we||an.sort});""===$t.query&&($t.query=this.query),(0,K.Im)($t.scope)&&($t.scope=Ct);const yt=new fe.C($t);JSON.stringify(yt)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(Nt),this.currentSortOptions$.next(yt.sort),this.sortOptionsList$.next(gt),this.searchOptions$.next(yt),this.initialized$.next(!0),this.retrieveSearchResults(yt),this.retrieveFilters(yt))})),this.subscribeToRoutingEvents()}changeContext(hn){this.currentContext$.next(hn)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(hn){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(hn=>(0,K.a4)(hn)).forEach(hn=>hn.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(hn){this.searchConfigService.getConfig(hn.scope,hn.configuration).pipe((0,M.qD)()).subscribe(jn=>{this.filtersRD$.next(jn)})}retrieveSearchResults(hn){this.resultsRD$.next(null),this.lastSearchOptions=hn;const jn=[(0,q.s)("thumbnail",{isOptional:!0}),(0,q.s)("item",{isOptional:!0},(0,q.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&jn.push((0,q.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&jn.push((0,q.s)("supervisionOrders",{isOptional:!0}));const bt=Object.assign(new fe.C({}),hn);(0,K.hj)(this.hiddenQuery)&&(bt.query=(0,K.hj)(bt.query)?bt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(bt,void 0,this.useCachedVersionIfAvailable,!0,...jn).pipe((0,M.qD)()).subscribe(St=>{St.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(bt,St.payload),St.payload?.page?.length>0&&this.resultFound.emit(St.payload)),this.resultsRD$.next(St)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,C.p)(hn=>hn instanceof c.Z),(0,v.T)(hn=>this.getDsoUUIDFromUrl(hn.url)),(0,K.Az)()).subscribe(hn=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,hn)}))}getDsoUUIDFromUrl(hn){if((0,K.hj)(hn)&&this.allowedObjectPaths.some(jn=>hn.startsWith(`/${jn}`))){const jn=hn.substring(hn.lastIndexOf("/")+1);if(jn.match(this.uuidRegex))return jn}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,ne.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(jn){return new(jn||mt)(t.rXU(L.S),t.rXU(J.o),t.rXU(z.CV),t.rXU($.EN),t.rXU(T.v$),t.rXU(c.Ix),t.rXU(D.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:mt,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:se,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[3,"id","sideBarWidth","sidebarContent"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(jn,bt){1&jn&&(t.NAR(te),t.DNE(0,re,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,ce,2,1,"div"),t.nI1(3,"async"),t.DNE(4,Se,2,4,"ds-page-with-sidebar",4),t.nI1(5,"async"),t.DNE(6,Ge,12,8,"ng-template",null,0,t.C5r)(8,Tt,4,6,"ng-template",null,1,t.C5r)(10,Ee,7,14,"ng-template",null,2,t.C5r)),2&jn&&(t.vxM(bt.searchEnabled&&t.bMT(1,3,bt.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(!bt.showSidebar&&t.bMT(3,5,bt.initialized$)?2:-1),t.R7$(2),t.vxM(bt.showSidebar&&t.bMT(5,7,bt.initialized$)?4:-1))},dependencies:[i.Jj,i.T3,X.f,ye.L,G.d,oe.N,ue.p,e.h,e.D9,ee.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[k.W]},changeDetection:0})}}return mt})()},77868:(U,b,n)=>{"use strict";n.d(b,{SB:()=>t,gp:()=>e,mq:()=>f});var i=n(89777);function t(m,p){const y=new RegExp(`[?|&]${c(encodeURIComponent(p.paramName))}=(${c(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const E=y.exec(m._links.search.href);if((0,i.hj)(E))return decodeURIComponent(E[1])}return m.authorityKey?f(m.authorityKey,"authority"):f(m.value,"equals")}function c(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function f(m,p){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${p}`}},89336:(U,b,n)=>{"use strict";n.d(b,{N:()=>y});var i=n(54438),e=(n(40940),n(79669),n(29710));n(33006);const m=["*"];function p(E,v){}let y=(()=>{class E extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(O){return n(13390)(`./${O}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,33006))}static{this.\u0275fac=(()=>{let O;return function(I){return(O||(O=i.xGo(E)))(I||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},41519:(U,b,n)=>{"use strict";n.d(b,{f:()=>v});var i=n(60177),t=n(96354),c=n(34366),e=n(50842),f=n(60768),m=n(54438);const p=["*"];function y(O,C){1&O&&m.eu8(0)}function E(O,C){if(1&O&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,y,1,0,"ng-container",5),m.k0s()),2&O){const I=m.XpG();m.STu("col-12 col-md-",I.sideBarWidth," sidebar-content ",m.bMT(1,9,I.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,I.isSidebarCollapsed$)&&!0===m.bMT(3,13,I.isXsOrSm$)),m.Mz_("id","",I.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",I.sidebarContent)}}let v=(()=>{class O{constructor(I,D){this.sidebarService=I,this.windowService=D,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(I=>I?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(D){return new(D||O)(m.rXU(f.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:O,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:p,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left","px-0"],[3,"id","invisible","class"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(D,R){1&D&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,E,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&D&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,R.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.vxM(R.sideBarWidth>0?4:-1),m.R7$(),m.ZvI("col-12 col-md-",12-R.sideBarWidth,""),m.AVh("px-0",0===R.sideBarWidth)("invisible",!0!==m.bMT(6,11,R.isSidebarCollapsed$)&&!0===m.bMT(7,13,R.isXsOrSm$)))},dependencies:[i.Jj,i.T3],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:calc(var(--bs-gutter-x) / 2);padding-left:calc(var(--bs-gutter-x) / 2)}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[c.W]}})}}return O})()},59398:(U,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(54438),t=n(68018);const c=["*"];let e=(()=>{class f{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(y){return new(y||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:c,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[1,"form-label",3,"for"],[1,"form-select",3,"change","id"]],template:function(y,E){1&y&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(O){return E.changed.emit(O)}),i.SdG(6),i.k0s()()),2&y&&(i.R7$(2),i.FS9("for",E.id),i.R7$(),i.JRh(i.bMT(4,3,E.label)),i.R7$(2),i.FS9("id",E.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return f})()},16464:(U,b,n)=>{"use strict";n.d(b,{EI:()=>c,Kd:()=>t,pm:()=>e});var i=n(6800);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class c{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},60768:(U,b,n)=>{"use strict";n.d(b,{o:()=>E});var i=n(59640),t=n(84572),c=n(96354),e=n(50842),f=n(16464),m=n(54438);const y=(0,i.Mz)(v=>v.sidebar,v=>v.sidebarCollapsed);let E=(()=>{class v{constructor(C,I){this.store=C,this.windowService=I,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(y))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,c.T)(([C,I])=>!C||I))}collapse(){this.store.dispatch(new f.EI)}expand(){this.store.dispatch(new f.pm)}static{this.\u0275fac=function(I){return new(I||v)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},45387:(U,b,n)=>{"use strict";n.d(b,{P5:()=>R});var i=n(89417),t=n(68018),c=n(89777),e=n(31),f=n(41358),m=n(54438),p=n(7901);let y=(()=>{class h{constructor(T,w,M){this.paginationService=T,this.route=w,this.router=M,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(T=>{(0,c.a4)(T.startsWith)&&this.setStartsWith(T.startsWith)})),this.formData=new i.J3({startsWith:new i.hs})}getStartsWith(){return this.startsWith}setStartsWith(T){this.startsWith=T}setStartsWithParam(T=!0){"-1"===this.startsWith&&(this.startsWith=void 0),T?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(T){this.startsWith=T.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(T=>(0,c.a4)(T)).forEach(T=>T.unsubscribe())}static{this.\u0275fac=function(w){return new(w||h)(m.rXU(e.m),m.rXU(p.nX),m.rXU(p.Ix))}}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[m.aNF],decls:0,vars:0,template:function(w,M){},encapsulation:2})}}return h})();function E(h,S){if(1&h&&(m.j41(0,"option",5),m.EFF(1),m.k0s()),2&h){const T=S.$implicit,w=m.XpG();m.Y8G("value",T)("selected",T===w.startsWithYear?"selected":null),m.R7$(),m.SpI(" ",T," ")}}function v(h,S){if(1&h&&(m.j41(0,"option",5),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&h){const T=S.$implicit,w=m.XpG();m.Y8G("value",T)("selected",T===w.startsWithMonth?"selected":null),m.R7$(),m.SpI(" ",m.bMT(2,3,"browse.startsWith.months."+T)," ")}}let O=(()=>{class h extends y{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(T){this.startsWithYear=+T.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(T){this.startsWithMonth=T.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const T=this.getStartsWithMonth();if(T>0&&(0,c.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let w=""+T;return T<10&&(w=`0${T}`),`${this.startsWithYear}-${w}`}return(0,c.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(T){if(this.startsWith=T,(0,c.a4)(T)&&T.indexOf("-")>-1){const w=T.split("-");this.startsWithYear=+w[0];const M=+w[1];this.startsWithMonth=M<this.monthOptions.length?this.monthOptions[M]:this.monthOptions[0]}else this.startsWithYear=+T}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let T;return function(M){return(T||(T=m.xGo(h)))(M||h)}})()}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-starts-with-date"]],standalone:!0,features:[m.Vt3,m.aNF],decls:27,vars:25,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","fw-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-select",3,"change"],[3,"value","selected"],["id","month-select",1,"form-select",3,"change"],[1,"col-12","col-md-6"],[1,"mb-3","input-group","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit","role","button","tabindex","0",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(w,M){1&w&&(m.j41(0,"form",0),m.bIt("ngSubmit",function(){return M.submitForm(M.formData.value)}),m.j41(1,"div",1)(2,"span",2),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"div",3)(6,"select",4),m.nI1(7,"translate"),m.bIt("change",function(N){return M.setStartsWithYearEvent(N)}),m.j41(8,"option",5),m.EFF(9),m.nI1(10,"translate"),m.k0s(),m.Z7z(11,E,2,3,"option",5,m.fX1),m.k0s()(),m.j41(13,"div",3)(14,"select",6),m.nI1(15,"translate"),m.bIt("change",function(N){return M.setStartsWithMonthEvent(N)}),m.Z7z(16,v,3,5,"option",5,m.fX1),m.k0s()(),m.j41(18,"div",7)(19,"div",8),m.nrm(20,"input",9),m.nI1(21,"translate"),m.nI1(22,"translate"),m.j41(23,"button",10),m.nrm(24,"i",11),m.EFF(25),m.nI1(26,"translate"),m.k0s()()()()()),2&w&&(m.Y8G("formGroup",M.formData),m.R7$(3),m.SpI(" ",m.bMT(4,11,"browse.startsWith.jump")," "),m.R7$(3),m.BMQ("aria-label",m.bMT(7,13,"browse.startsWith.choose_year.label")),m.R7$(2),m.Y8G("value",-1)("selected",!M.startsWithYear),m.R7$(),m.SpI(" ",m.bMT(10,15,"browse.startsWith.choose_year")," "),m.R7$(2),m.Dyx(M.startsWithOptions),m.R7$(3),m.BMQ("aria-label",m.bMT(15,17,"browse.startsWith.months.none.label")),m.R7$(2),m.Dyx(M.monthOptions),m.R7$(4),m.FS9("placeholder",m.bMT(21,19,"browse.startsWith.type_date")),m.Y8G("value",M.getStartsWith()?M.getStartsWith():""),m.BMQ("aria-label",m.bMT(22,21,"browse.startsWith.type_date.label")),m.R7$(5),m.SpI(" ",m.bMT(26,23,"browse.startsWith.submit"),""))},dependencies:[i.YN,i.qT,i.xH,i.y7,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return h})();const I=new Map([[f.c.text,(()=>{class h extends y{getStartsWith(){return(0,c.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(T=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(T)}static{this.\u0275fac=(()=>{let T;return function(M){return(T||(T=m.xGo(h)))(M||h)}})()}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-starts-with-text"]],standalone:!0,features:[m.Vt3,m.aNF],decls:14,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"mb-3","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit","role","button","tabindex","0",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(w,M){1&w&&(m.j41(0,"form",0),m.bIt("ngSubmit",function(){return M.submitForm(M.formData.value)}),m.j41(1,"div",1)(2,"div",2)(3,"div",3),m.nrm(4,"input",4),m.nI1(5,"translate"),m.nI1(6,"translate"),m.j41(7,"button",5),m.nrm(8,"i",6),m.EFF(9),m.nI1(10,"translate"),m.k0s()()(),m.j41(11,"small",7),m.EFF(12),m.nI1(13,"translate"),m.k0s()()()),2&w&&(m.Y8G("formGroup",M.formData),m.R7$(4),m.FS9("placeholder",m.bMT(5,6,"browse.search-form.placeholder")),m.Y8G("value",M.getStartsWith()),m.BMQ("aria-label",m.bMT(6,8,"browse.startsWith.input")),m.R7$(5),m.SpI(" ",m.bMT(10,10,"browse.startsWith.submit"),""),m.R7$(3),m.JRh(m.bMT(13,12,"browse.startsWith.type_text")))},dependencies:[i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return h})()],[f.c.date,O]]);function R(h){return I.get(h)}},71708:(U,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(43764),t=n(45387),e=(n(41358),n(54438));function f(p,y){}let m=(()=>{class p extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=e.xGo(p)))(O||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(v,O){1&v&&e.DNE(0,f,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return p})()},41358:(U,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},49886:(U,b,n)=>{"use strict";n.d(b,{y:()=>E});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),f=n(70963),m=n(73685),p=n(80675),y=n(77356);let E=class extends m.M{static{this.type=y.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N),(0,i.Sn)("design:type",c.c)],E.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.X),(0,i.Sn)("design:type",c.c)],E.prototype,"resource",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],E)},77356:(U,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(44043).v)("subscription")},84981:(U,b,n)=>{"use strict";n.d(b,{w:()=>ye});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),f=n(48376),m=n.n(f),p=n(84412),y=n(44668),E=n(22806),v=n(84572),O=n(96697),C=n(96354),I=n(73028),D=n(88141),R=n(94196),h=n(43446),T=(n(73685),n(4093)),w=n(64972),M=n(79104),L=n(89777),N=n(9847),j=n(91880),k=(n(49886),n(41947)),K=n(58003);function z(oe,ue){if(1&oe&&t.nrm(0,"ds-type-badge",13),2&oe){const te=t.XpG(3);t.Y8G("object",te.dso)}}function V(oe,ue){if(1&oe&&(t.j41(0,"span",7),t.DNE(1,z,1,1,"ds-type-badge",13),t.k0s()),2&oe){const te=t.XpG(2);t.R7$(),t.vxM(te.dso?1:-1)}}function G(oe,ue){if(1&oe&&(t.j41(0,"div",17),t.nrm(1,"input",19),t.j41(2,"label",20),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&oe){const te=ue.$implicit;t.R7$(),t.Y8G("id","checkbox-"+te)("formControlName",te),t.R7$(),t.Y8G("for","checkbox-"+te),t.R7$(),t.JRh(t.bMT(4,4,"subscriptions.modal.new-subscription-form.frequency."+te))}}function X(oe,ue){1&oe&&(t.j41(0,"ds-alert",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.Y8G("type","alert-danger"),t.R7$(),t.SpI(" ",t.bMT(2,2,"context-menu.actions.subscription.frequency.required")," "))}function J(oe,ue){if(1&oe&&(t.j41(0,"fieldset",8)(1,"legend",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",15),t.nrm(5,"input",16),t.Z7z(6,G,5,6,"div",17,t.fX1),t.k0s(),t.DNE(8,X,3,4,"ds-alert",18),t.k0s()),2&oe){const te=ue.$implicit,se=t.XpG(2);t.FS9("formGroupName",te.key),t.R7$(2),t.SpI(" ",t.bMT(3,4,"subscriptions.modal.new-subscription-form.type."+te.key),": "),t.R7$(3),t.Y8G("value",null==te||null==te.value?null:te.value.controls.subscriptionId.value),t.R7$(),t.Dyx(se.frequencyDefaultValues),t.R7$(2),t.vxM(se.submitted&&null!=te&&null!=te.value&&null!=te.value.controls.frequencies.errors&&te.value.controls.frequencies.errors.required?8:-1)}}function q(oe,ue){1&oe&&(t.j41(0,"p",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.JRh(t.bMT(2,1,"subscriptions.modal.delete-info")))}function ne(oe,ue){1&oe&&(t.j41(0,"span"),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&oe&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"subscriptions.modal.new-subscription-form.processing")," "))}function ee(oe,ue){1&oe&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&oe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"subscriptions.modal.new-subscription-form.submit")," "))}function fe(oe,ue){if(1&oe){const te=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){t.eBV(te);const be=t.XpG();return t.Njj(be.submit())}),t.j41(1,"div",2)(2,"h4",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){t.eBV(te);const be=t.XpG();return t.Njj(be.activeModal.close())}),t.k0s()(),t.j41(6,"div",5)(7,"p",6)(8,"strong"),t.EFF(9),t.k0s(),t.DNE(10,V,2,1,"span",7),t.k0s(),t.j41(11,"div"),t.Z7z(12,J,9,6,"fieldset",8,t.fX1),t.nI1(14,"keyvalue"),t.k0s(),t.DNE(15,q,3,3,"p",9),t.nI1(16,"async"),t.k0s(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){t.eBV(te);const be=t.XpG();return t.Njj(be.activeModal.close())}),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"button",12),t.nI1(22,"async"),t.DNE(23,ne,4,3,"span"),t.nI1(24,"async"),t.DNE(25,ee,3,3,"span"),t.nI1(26,"async"),t.k0s()()()}if(2&oe){const te=t.XpG();t.Y8G("formGroup",te.subscriptionForm),t.R7$(3),t.JRh(t.bMT(4,9,"subscriptions.modal.title")),t.R7$(6),t.JRh(te.dsoNameService.getName(te.dso)),t.R7$(),t.vxM(te.dso?10:-1),t.R7$(2),t.Dyx(t.bMT(14,11,null==te.subscriptionForm?null:te.subscriptionForm.controls)),t.R7$(3),t.vxM(t.bMT(16,13,te.showDeleteInfo$)?15:-1),t.R7$(4),t.SpI(" ",t.bMT(20,15,"subscriptions.modal.close")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(22,17,te.processing$)||!te.isValid),t.R7$(2),t.vxM(t.bMT(24,19,te.processing$)?23:-1),t.R7$(2),t.vxM(!0!==t.bMT(26,21,te.processing$)?25:-1)}}let ye=(()=>{class oe{constructor(te,se,be,me,re,Z,le,ce){this.formBuilder=te,this.modalService=se,this.notificationsService=be,this.subscriptionService=me,this.activeModal=re,this.authService=Z,this.translate=le,this.dsoNameService=ce,this.processing$=new p.t(!1),this.showDeleteInfo$=new p.t(!1),this.submitted=!1,this.subscriptionDefaultTypes=["content"],this.frequencyDefaultValues=["D","W","M"],this.isValid=!1,this.updateSubscription=new t.bkB}ngOnInit(){this.authService.getAuthenticatedUserFromStore().pipe((0,O.s)(1),(0,C.T)(te=>te.uuid),(0,y.t)({refCount:!1})).subscribe(te=>{this.ePersonId=te,(0,L.hj)(this.subscription)?this.initFormByGivenSubscription():this.initFormByAllSubscriptions()}),this.subscriptionForm.valueChanges.subscribe(te=>{let se=!1;for(const be of this.frequencyDefaultValues)se=se||te.content.frequencies[be];this.isValid=se})}initFormByAllSubscriptions(){this.subscriptionForm=new c.J3({});for(const te of this.subscriptionDefaultTypes){const se=new c.J3({});se.addControl("subscriptionId",this.formBuilder.control("")),se.addControl("frequencies",this.formBuilder.group({}));for(const be of this.frequencyDefaultValues)se.controls.frequencies.addControl(be,this.formBuilder.control(!1));this.subscriptionForm.addControl(te,se)}this.initFormDataBySubscriptions()}initFormByGivenSubscription(){const te=new c.J3({});te.addControl("subscriptionId",this.formBuilder.control(this.subscription.id)),te.addControl("frequencies",this.formBuilder.group({})),te.get("frequencies").addValidators(c.k0.required);for(const se of this.frequencyDefaultValues){const be=-1!==m()(this.subscription.subscriptionParameterList,["value",se]);te.controls.frequencies.addControl(se,this.formBuilder.control(be))}this.subscriptionForm=this.formBuilder.group({[this.subscription.subscriptionType]:te})}initFormDataBySubscriptions(){this.processing$.next(!0),this.subscriptionService.getSubscriptionsByPersonDSO(this.ePersonId,this.dso?.uuid).pipe((0,T.ak)()).subscribe({next:te=>{if(te.pageInfo.totalElements>0){this.showDeleteInfo$.next(!0);for(const se of te.page){const me=this.subscriptionForm.get(se.subscriptionType);if((0,L.hj)(me)){me.controls.subscriptionId.setValue(se.id);for(const re of se.subscriptionParameterList.filter(Z=>"frequency"===Z.name))me.controls.frequencies.controls[re.value]?.setValue(!0)}}}this.processing$.next(!1)},error:te=>{this.processing$.next(!1)}})}submit(){this.submitted=!0;const te=Object.keys(this.subscriptionForm.controls),se=[],be=[];te.forEach(re=>{const Z=this.subscriptionForm.controls[re];if(Z.touched&&Z.dirty){const le=this.createBody(Z.controls.subscriptionId.value,re,Z.controls.frequencies);(0,L.hj)(le.id)?be.push(le):(0,L.hj)(le.subscriptionParameterList)&&se.push(le)}});const me=[];(0,L.hj)(se)&&me.push((0,E.H)(se).pipe((0,I.Z)(re=>this.subscriptionService.createSubscription(re,this.ePersonId,this.dso.uuid).pipe((0,T.qD)())),(0,D.M)(re=>{if(re.hasSucceeded){const Z=this.translate.instant("subscriptions.modal.create.success",{type:re.payload.subscriptionType});this.notificationsService.success(null,Z)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.create.error"))}))),(0,L.hj)(be)&&me.push((0,E.H)(be).pipe((0,I.Z)(re=>this.subscriptionService.updateSubscription(re,this.ePersonId,this.dso.uuid).pipe((0,T.qD)())),(0,D.M)(re=>{if(re.hasSucceeded){const Z=this.translate.instant("subscriptions.modal.update.success",{type:re.payload.subscriptionType});this.notificationsService.success(null,Z),(0,L.hj)(this.subscription)&&this.updateSubscription.emit(re.payload)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.update.error"))}))),(0,v.z)([...me]).subscribe(re=>{this.activeModal.close()})}createBody(te,se,be){const me={id:(0,L.hj)(te)?te:null,subscriptionType:se,subscriptionParameterList:[]};for(const re of this.frequencyDefaultValues)be.value[re]&&me.subscriptionParameterList.push({name:"frequency",value:re});return me}static{this.\u0275fac=function(se){return new(se||oe)(t.rXU(c.ze),t.rXU(K.Bq),t.rXU(N.I),t.rXU(k.SubscriptionsDataService),t.rXU(K.Lw),t.rXU(R.uR),t.rXU(e.c$),t.rXU(h.f))}}static{this.\u0275cmp=t.VBU({type:oe,selectors:[["ds-subscription-modal"]],inputs:{dso:"dso",subscription:"subscription"},outputs:{updateSubscription:"updateSubscription"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["data-test","subscription-form",3,"formGroup"],["data-test","subscription-form",3,"ngSubmit","formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"float-end"],[1,"mb-3","row",3,"formGroupName"],[1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"dsBtnDisabled"],[3,"object"],[1,"col-md-4","col-form-label","float-md-start","pt-0"],[1,"col-md-8"],["type","hidden","formControlName","subscriptionId",3,"value"],["formGroupName","frequencies",1,"form-check"],[3,"type"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(se,be){1&se&&t.DNE(0,fe,27,23,"form",0),2&se&&t.vxM(be.subscriptionForm?0:-1)},dependencies:[w.C,i.Jj,M.A,c.YN,c.qT,c.me,c.Zm,c.BC,c.cb,i.lG,c.X1,c.j4,c.JD,c.$R,j.C,e.h,e.D9]})}}return oe})()},41947:(U,b,n)=>{"use strict";n.r(b),n.d(b,{SubscriptionsDataService:()=>K});var i=n(96697),t=n(96354),c=n(25558),e=n(5964),f=n(23294),m=n(85426),p=n(43446),y=n(57775),E=n(10186),v=n(81948),O=n(72073),C=n(20881),I=n(60796),D=n(73054),R=n(36343),h=n(49755),S=n(3601),T=n(7094),w=n(4093),M=n(89777),L=n(9847),N=n(4600),j=n(54438),$=n(21626),k=n(59640);let K=(()=>{class z extends C.W{constructor(G,X,J,q,ne,ee,fe,ye,oe){super("subscriptions",q,ne,fe,ye),this.comparator=G,this.http=X,this.notificationsService=J,this.requestService=q,this.rdbService=ne,this.store=ee,this.objectCache=fe,this.halService=ye,this.nameService=oe,this.findByEpersonLinkPath="findByEPerson",this.searchData=new I.X(this.linkPath,q,ne,fe,ye,this.responseMsToLive),this.deleteData=new O.I(this.linkPath,q,ne,fe,ye,J,this.responseMsToLive,this.constructIdEndpoint)}getSubscriptionsByPersonDSO(G,X){const J=Object.assign(new R._,{searchParams:[new E.x("resource",X),new E.x("eperson_id",G)]});return this.searchData.searchBy("findByEPersonAndDso",J,!1,!0)}createSubscription(G,X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,M.VT)(),(0,i.s)(1),(0,t.T)(q=>`${q}?resource=${J}&eperson_id=${X}`),(0,t.T)(q=>new h.QU(this.requestService.generateRequestId(),q,JSON.stringify(G))),(0,m.w$)(this.requestService),(0,c.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)),(0,w.qD)())}updateSubscription(G,X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,M.VT)(),(0,i.s)(1),(0,t.T)(q=>`${q}/${G.id}?resource=${J}&eperson_id=${X}`),(0,t.T)(q=>new h.v_(this.requestService.generateRequestId(),q,JSON.stringify(G))),(0,m.w$)(this.requestService),(0,c.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)),(0,w.qD)())}deleteSubscription(G){return this.halService.getEndpoint(this.linkPath).pipe((0,e.p)(X=>(0,M.hj)(X)),(0,f.F)(),(0,c.n)(X=>this.deleteData.delete(G)),(0,w.qD)())}findAllSubscriptions(G){return this.findAllData.findAll(G,!0,!0,(0,N.s)("resource"),(0,N.s)("eperson"))}findByEPerson(G,X){const J=Object.assign(new R._,X,{searchParams:[new E.x("uuid",G)]});return this.getEndpoint().pipe((0,t.T)(q=>`${q}/search/${this.findByEpersonLinkPath}`),(0,c.n)(q=>this.findListByHref(q,J,!1,!0,(0,N.s)("resource"),(0,N.s)("eperson"))))}static{this.\u0275fac=function(X){return new(X||z)(j.KVO(D.j),j.KVO($.Qq),j.KVO(L.I),j.KVO(S.B),j.KVO(y.o),j.KVO(k.il),j.KVO(v.$),j.KVO(T.Y),j.KVO(p.f))}}static{this.\u0275prov=j.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},97402:(U,b,n)=>{"use strict";n.d(b,{K:()=>c,t:()=>t});const t={SET:(0,n(6800).N)("dspace/theme/SET")};class c{constructor(f){this.type=t.SET,this.payload={name:f}}}},93620:(U,b,n)=>{"use strict";n.d(b,{Q:()=>i});const i="base"},73838:(U,b,n)=>{"use strict";n.d(b,{Fs:()=>be});var i=n(60177),t=n(7901),c=n(59640),e=n(84412),f=n(7673),m=n(22806),p=n(70274),y=n(983),E=n(96697),v=n(5964),O=n(25558),C=n(96354),I=n(39974),D=n(85412),h=n(56594),S=n(39901),T=n(72001),w=n(78544),M=n(8177),L=n(98733),N=n(12238),j=n(4093),$=n(89777),k=n(195),K=n(21193),z=n(4600),V=n(97402),G=n(93620),X=n(84572),J=n(15343),q=n(74511);class ne{constructor(re){this.config=re}matches(re,Z){return(0,f.of)(!0)}}class ee extends ne{constructor(re){super(re),this.config=re,this.regex=new RegExp(this.config.regex)}matches(re,Z){let le;const ce=(0,J.wN)(Z);return(0,$.hj)(ce)&&(le=ce.match(this.regex)),(0,$.Tn)(le)&&(le=re.match(this.regex)),(0,f.of)((0,$.a4)(le))}}class fe extends ne{constructor(re,Z){super(re),this.config=re,this.handleService=Z}matches(re,Z){return(0,$.a4)(Z?.handle)?(0,X.z)([this.handleService.normalizeHandle(Z?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,C.T)(([le,ce])=>(0,$.a4)(Z)&&(0,$.a4)(Z.handle)&&le===ce),(0,E.s)(1)):(0,f.of)(!1)}}class ye extends ne{constructor(re){super(re),this.config=re}matches(re,Z){return(0,f.of)((0,$.a4)(Z)&&Z.uuid===this.config.uuid)}}var ue=n(54438);const te=(0,c.UX)("theme"),se=(0,c.Mz)(te,me=>(0,$.a4)(me)?me.currentTheme:G.Q);let be=(()=>{class me{constructor(Z,le,ce,ve,ze,Se,et){this.store=Z,this.linkService=le,this.dSpaceObjectDataService=ce,this.injector=ve,this.gtcf=ze,this.router=Se,this.document=et,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=w.c.themes.map($e=>((me,re)=>(0,$.a4)(me.regex)?new ee(me):(0,$.a4)(me.handle)?new fe(me,re.get(q.e)):(0,$.a4)(me.uuid)?new ye(me):new ne(me))($e,ve)),this.hasDynamicTheme=w.c.themes.some($e=>(0,$.a4)($e.regex)||(0,$.a4)($e.handle)||(0,$.a4)($e.uuid))}setTheme(Z){this.store.dispatch(new V.K(Z))}getThemeName(){let Z;return this.store.pipe((0,c.Lt)(se),(0,E.s)(1)).subscribe(le=>Z=le),Z}getThemeName$(){return this.store.pipe((0,c.Lt)(se))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(Z){this.getThemeName$().subscribe(le=>{if(Z&&(0,N.S)(this._isThemeCSSLoading$,!0),(0,$.a4)(le))this.loadGlobalThemeConfig(le);else{const ce=(0,T.Nv)();(0,$.a4)(ce)?this.loadGlobalThemeConfig(ce.name):this.loadGlobalThemeConfig(G.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,v.p)(Z=>Z instanceof t.gx),(0,O.n)(Z=>this.updateThemeOnRouteChange$(Z.urlAfterRedirects,Z.state.root)),(0,O.n)(Z=>Z?this._isThemeCSSLoading$:[!1])).subscribe(Z=>{(0,N.S)(this._isThemeLoading$,Z)})}loadGlobalThemeConfig(Z){this.setThemeCss(Z),this.setHeadTags(Z)}setThemeCss(Z){const le=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(le))return;const ce=Array.from(le.getElementsByClassName("theme-css")),ve=this.document.createElement("link");ve.setAttribute("rel","stylesheet"),ve.setAttribute("type","text/css"),ve.setAttribute("class","theme-css"),ve.setAttribute("href",`${encodeURIComponent(Z)}-theme.css`),ve.onload=()=>{(0,$.hj)(ce)&&ce.forEach(ze=>{(0,$.a4)(ze)&&ze.remove()}),(0,N.S)(this._isThemeCSSLoading$,!1)},le.appendChild(ve)}setHeadTags(Z){const le=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(le))return;const ce=Array.from(le.getElementsByClassName("theme-head-tag"));(0,$.a4)(ce)&&ce.forEach(ze=>ze.remove());const ve=this.document.createDocumentFragment();this.createHeadTags(Z).forEach(ze=>ve.appendChild(ze)),le.appendChild(ve)}createHeadTags(Z){const le=this.getThemeConfigFor(Z),ce=le?.headTags;if((0,$.Tn)(ce)){const ve=le?.extends;return(0,$.a4)(ve)?this.createHeadTags(ve):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return ce.map(this.createHeadTag.bind(this))}createHeadTag(Z){const le=this.document.createElement(Z.tagName);return(0,$.a4)(Z.attributes)&&Object.entries(Z.attributes).forEach(([ce,ve])=>le.setAttribute(ce,ve)),le.setAttribute("class","theme-head-tag"),le}updateThemeOnRouteChange$(Z,le){const ve=this.store.pipe((0,c.Lt)(se)).pipe((0,O.n)(ze=>{const Se=this.findRouteData(le);if(!0===this.hasDynamicTheme&&(0,$.hj)(this.themes)){if((0,$.a4)(Se)&&(0,$.a4)(Se.data)&&(0,$.a4)(Se.data.dso)){const et=Se.data.dso;if(et.hasSucceeded)return(0,f.of)(et.payload).pipe(this.getAncestorDSOs(),(0,O.n)($e=>this.matchThemeToDSOs($e,Z)),(0,C.T)($e=>this.getActionForMatch($e,ze)))}return(0,$.a4)(le.queryParams)&&(0,$.a4)(le.queryParams.scope)?this.dSpaceObjectDataService.findById(le.queryParams.scope).pipe((0,j.yd)(),(0,j.Bo)(),this.getAncestorDSOs(),(0,O.n)($e=>this.matchThemeToDSOs($e,Z)),(0,C.T)($e=>this.getActionForMatch($e,ze))):(0,m.H)(this.themes).pipe((0,p.H)(et=>et.matches(Z,void 0).pipe((0,v.p)($e=>!0===$e),(0,C.T)(()=>et),(0,E.s)(1))),(0,E.s)(1),(0,C.T)(et=>this.getActionForMatch(et,ze)))}return(0,f.of)(new k.L)}),(0,E.s)(1));return ve.pipe((0,v.p)(ze=>ze.type!==k.o)).subscribe(ze=>{this.store.dispatch(ze)}),ve.pipe((0,C.T)(ze=>ze.type===V.t.SET))}findRouteData(...Z){const le=Z.find(ce=>(0,$.a4)(ce.data)&&(0,$.a4)(ce.data.dso));if((0,$.a4)(le))return le;{const ce=Z.map(ve=>ve.children).reduce((ve,ze)=>[...ve,...ze]);return(0,$.hj)(ce)?this.findRouteData(...ce):void 0}}getAncestorDSOs(){return Z=>Z.pipe(function R(me,re=1/0,Z){return re=(re||0)<1?1/0:re,(0,I.N)((le,ce)=>(0,D.h)(le,ce,me,re,void 0,!0,Z))}(le=>{if((0,$.a4)(le)&&"function"==typeof le.getParentLinkKey){const ce=le.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(le,(0,z.s)(ce)).pipe((0,j.qD)(),(0,C.T)(ve=>(0,$.a4)(ve.payload)?ve.payload:null))}return y.w}),(0,v.p)(le=>(0,$.a4)(le)),(0,h.$)())}getActionForMatch(Z,le){const ce=Z?.config.name??G.Q;return ce!==le?new V.K(ce):new k.L}matchThemeToDSOs(Z,le){return(0,m.H)(this.themes).pipe((0,p.H)(ce=>(0,m.H)(Z).pipe((0,p.H)(ve=>ce.matches(le,ve)),(0,v.p)(ve=>!0===ve),(0,C.T)(()=>ce),(0,E.s)(1))),(0,E.s)(1),(0,S.U)(void 0))}getThemeConfigFor(Z){return this.gtcf(Z)}static{this.\u0275fac=function(le){return new(le||me)(ue.KVO(c.il),ue.KVO(M._),ue.KVO(L.DSpaceObjectDataService),ue.KVO(ue.zZn),ue.KVO(K.zD),ue.KVO(t.Ix),ue.KVO(i.qQ))}}static{this.\u0275prov=ue.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},29710:(U,b,n)=>{"use strict";n.d(b,{J:()=>S});var i=n(54438),t=n(84412),c=n(84572),e=n(7673),f=n(22806),m=n(25558),p=n(88141),y=n(96354),E=n(99437),v=n(89777),O=n(93620),C=n(73838);const I=["vcr"],D=["content"],R=["*"];function h(T,w){}let S=(()=>{class T{constructor(M,L){this.cdr=M,this.themeService=L,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(M){(0,v.Tn)(this.compRef)?this.initComponentInstance(M):this.inAndOutputNames.some(L=>(0,v.a4)(M[L]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(M))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(M=>(0,v.a4)(M)).forEach(M=>M.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(M){(0,v.a4)(this.themeSub)&&this.themeSub.unsubscribe(),this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(M)})}renderComponentInstance(M){(0,v.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,v.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,c.z)([(0,e.of)(M),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(L=>(0,v.a4)(L)&&(0,v.a4)(L[this.getComponentName()])?[L[this.getComponentName()]]:(0,f.H)(this.importUnthemedComponent()).pipe((0,p.M)(()=>this.usedTheme=O.Q),(0,y.T)(N=>N[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([L,N])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(N,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,v.a4)(L)?this.ngOnChanges(L):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,v.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,v.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,v.hj)(this.inAndOutputNames)&&(0,v.a4)(this.compRef)&&(0,v.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(M=>void 0!==this[M]).forEach(M=>{this.compRef.instance[M]=this[M]})}resolveThemedComponent(M,L=[]){return(0,v.hj)(M)?(0,f.H)(this.importThemedComponent(M)).pipe((0,p.M)(()=>this.usedTheme=M),(0,E.W)(()=>{const N=this.themeService.getThemeConfigFor(M)?.extends,j=[...L,M];if(L.includes(N))throw new Error("Theme extension cycle detected: "+[...j,N].join(" -> "));return this.resolveThemedComponent(N,j)})):(0,e.of)(null)}static{this.\u0275fac=function(L){return new(L||T)(i.rXU(i.gRc),i.rXU(C.Fs))}}static{this.\u0275cmp=i.VBU({type:T,selectors:[["ds-themed"]],viewQuery:function(L,N){if(1&L&&(i.GBs(I,5,i.c1b),i.GBs(D,5)),2&L){let j;i.mGM(j=i.lsd())&&(N.vcr=j.first),i.mGM(j=i.lsd())&&(N.themedElementContent=j.first)}},hostVars:1,hostBindings:function(L,N){2&L&&i.BMQ("data-used-theme",N.usedTheme)},standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(L,N){1&L&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return T})()},45615:(U,b,n)=>{"use strict";n.d(b,{M:()=>i});class i{handle(c){return c.interpolateParams&&c.interpolateParams.default||c.key}}},25713:(U,b,n)=>{"use strict";n.d(b,{W:()=>y});var i=n(68018),t=n(89777),c=n(54438);let e=(()=>{class E{constructor(){this.actualClick=new c.bkB}mousedownEvent(O){this.start=new Date}mouseupEvent(O){new Date-this.start<250&&this.actualClick.emit(O)}static{this.\u0275fac=function(C){return new(C||E)}}static{this.\u0275dir=c.FsC({type:E,selectors:[["","dsDragClick",""]],hostBindings:function(C,I){1&C&&c.bIt("mousedown",function(R){return I.mousedownEvent(R)})("mouseup",function(R){return I.mouseupEvent(R)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return E})();var f=n(44860);const m=["content"],p=["*"];let y=(()=>{class E{constructor(O){this.service=O,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(O=>{O?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const O=this.content.nativeElement;O.scrollHeight>O.offsetHeight?O.children.length>0?O.children[O.children.length-1].offsetHeight>O.offsetHeight?(O.classList.add("truncated"),O.classList.remove("removeFaded")):(O.classList.remove("truncated"),O.classList.add("removeFaded")):O.innerText.length>0?(O.classList.add("truncated"),O.classList.remove("removeFaded")):(O.classList.remove("truncated"),O.classList.add("removeFaded")):(O.classList.remove("truncated"),O.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(C){return new(C||E)(c.rXU(f.F))}}static{this.\u0275cmp=c.VBU({type:E,selectors:[["ds-truncatable-part"]],viewQuery:function(C,I){if(1&C&&c.GBs(m,7),2&C){let D;c.mGM(D=c.lsd())&&(I.content=D.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[c.aNF],ngContentSelectors:p,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button","tabindex","0",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ms-1"]],template:function(C,I){if(1&C){const D=c.RV6();c.NAR(),c.j41(0,"div")(1,"div",1,0),c.SdG(3),c.k0s(),c.j41(4,"button",2),c.bIt("actualClick",function(){return c.eBV(D),c.Njj(I.toggle())})("keyup.Enter",function(){return c.eBV(D),c.Njj(I.toggle())})("keyup.Space",function(){return c.eBV(D),c.Njj(I.toggle())}),c.nrm(5,"i"),c.j41(6,"span",3),c.EFF(7),c.nI1(8,"translate"),c.k0s()()()}2&C&&(c.ZBM("clamp-",I.background,"-",I.lines," min-",I.minLines," ",I.type," ",I.fixedHeight?"fixedHeight":"",""),c.R7$(4),c.ZvI("btn btn-link p-0 ",I.isExpanded?"collapseButton":"expandButton",""),c.BMQ("aria-expanded",I.isExpanded),c.R7$(),c.ZvI("fas ",I.isExpanded?"fa-angle-up":"fa-angle-down",""),c.R7$(2),c.JRh(c.bMT(8,15,"item.truncatable-part.show-"+(I.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return E})()},59788:(U,b,n)=>{"use strict";n.d(b,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>f});var i=n(6800);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class c{constructor(y){this.id=y}}class e extends c{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends c{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends c{constructor(){super(...arguments),this.type=t.EXPAND}}},24100:(U,b,n)=>{"use strict";n.d(b,{d:()=>e});var i=n(44860),t=n(54438);const c=["*"];let e=(()=>{class f{constructor(p,y){this.service=p,this.el=y,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const y=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let E=0;E<y.length-1;E++)y[E].classList.remove("truncated"),y[E].classList.add("notruncatable");y[y.length-1].classList.add("truncated")}}static{this.\u0275fac=function(y){return new(y||f)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:c,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(y,E){1&y&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return E.hoverExpand()})("mouseleave",function(){return E.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return f})()},44860:(U,b,n)=>{"use strict";n.d(b,{F:()=>p});var i=n(59640),t=n(96354),c=n(89777),e=n(59788),f=n(54438);const m=v=>v.truncatable;let p=(()=>{class v{constructor(C){this.store=C}isCollapsed(C){return this.store.pipe((0,i.Lt)(function y(v){return function E(v){return(0,i.Mz)(m,O=>{if((0,c.a4)(O))return O[v]})}(v)}(C)),(0,t.T)(I=>!!I&&I.collapsed))}toggle(C){this.store.dispatch(new e.GV(C))}collapse(C){this.store.dispatch(new e.f7(C))}expand(C){this.store.dispatch(new e.Qs(C))}static{this.\u0275fac=function(I){return new(I||v)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},89291:(U,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(51801);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},84780:(U,b,n)=>{"use strict";n.d(b,{y:()=>k});var i=n(60177),t=n(54438),c=n(68018),e=n(59519),f=n.n(e),m=n(27200),p=n(7673),y=n(44940),E=n(79104),v=n(89777);n(89291);let C=(()=>{class K{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(G){return new(G||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var I=n(21626),D=n(67138);const R=K=>({"ds-base-drop-zone-file-over":K}),h=K=>({width:K}),S=K=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":K});function T(K,z){if(1&K){const V=t.RV6();t.j41(0,"div",7),t.nI1(1,"async"),t.bIt("fileOver",function(X){t.eBV(V);const J=t.XpG();return t.Njj(J.fileOverDocument(X))}),t.k0s()}if(2&K){const V=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,V.isOverDocumentDropZone)),t.Y8G("uploader",V.uploader)}}function w(K,z){if(1&K&&(t.j41(0,"div",2)(1,"div",8)(2,"p",9),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&K){const V=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,V.dropOverDocumentMsg))}}function M(K,z){if(1&K){const V=t.RV6();t.j41(0,"div",6)(1,"span",10),t.nrm(2,"i",11),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",12),t.bIt("keyup.enter",function(X){t.eBV(V);const J=t.sdS(12);return X.stopImmediatePropagation(),t.Njj(J.click())}),t.j41(7,"span",13),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",14,0),t.k0s()()}if(2&K){const V=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,V.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",V.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,V.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",V.uploaderId,""),t.Y8G("uploader",V.uploader)}}function L(K,z){if(1&K&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K){const V=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==V.uploader||null==V.uploader.queue?null:V.uploader.queue.length," | ")}}function N(K,z){if(1&K&&(t.j41(0,"span",21),t.EFF(1),t.k0s()),2&K){const V=t.XpG(2);t.R7$(),t.SpI("",V.uploader.progress,"%")}}function j(K,z){1&K&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function $(K,z){if(1&K){const V=t.RV6();t.j41(0,"div")(1,"div",15)(2,"div",16)(3,"span",17),t.DNE(4,L,3,4,"span"),t.EFF(5),t.k0s(),t.j41(6,"div",18)(7,"button",19),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(V);const X=t.XpG();return t.Njj(X.uploader.clearQueue())}),t.nrm(9,"i",20),t.k0s()(),t.DNE(10,N,2,1,"span",21)(11,j,3,3,"span",21),t.k0s(),t.j41(12,"div",22),t.nrm(13,"div",23),t.k0s()()()}if(2&K){const V=t.XpG();t.R7$(4),t.vxM(V.uploader.options.disableMultipart?-1:4),t.R7$(),t.SpI("",null==V.uploader||null==V.uploader.queue[0]?null:V.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!V.uploader.queue.length),t.R7$(3),t.vxM(V.uploader.progress<100&&(0!==V.uploader.progress||V.uploader.options.autoUpload)?10:-1),t.R7$(),t.vxM(100===V.uploader.progress?11:-1),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,h,V.uploader.progress+"%"))("ngClass",t.eq3(12,S,100===V.uploader.progress))}}let k=(()=>{class K{onDragOver(V){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(V.preventDefault(),"HTML"!==V.target.tagName&&(this.isOverDocumentDropZone=(0,p.of)(!0)))}constructor(V,G,X,J){this.cdr=V,this.dragService=G,this.tokenExtractor=X,this.cookieService=J,this.ON_BEHALF_HEADER="X-On-Behalf-Of",this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,p.of)(!1),this.isOverDocumentDropZone=(0,p.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+f()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,v.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,v.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,v.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=V=>{this.onFileSelected.emit(V)},(0,v.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=V=>{V.url!==this.uploader.options.url&&(V.url=this.uploader.options.url),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}],(0,v.a4)(this.uploadFilesOptions.impersonatingID)&&this.uploader.options.headers.push({name:this.ON_BEHALF_HEADER,value:this.uploadFilesOptions.impersonatingID}),this.onBeforeUpload(),this.isOverDocumentDropZone=(0,p.of)(!1)},(0,v.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(V,G)=>{G.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(V,G,X,J)=>{const q=J[y.oo.toLowerCase()];if((0,v.hj)(q)&&(this.saveXsrfToken(q),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}]),(0,v.hj)(G)){const ne=JSON.parse(G);this.onCompleteItem.emit(ne)}},this.uploader.onErrorItem=(V,G,X,J)=>{const q=J[y.oo.toLowerCase()];(0,v.hj)(q)&&(this.saveXsrfToken(q),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:V,response:G,status:X,headers:J}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(V){this.isOverBaseDropZone=(0,p.of)(V)}fileOverDocument(V){V||(this.isOverDocumentDropZone=(0,p.of)(V))}onProgress(){this.cdr.detectChanges()}checkConfig(V){const X=["url","authToken","disableMultipart","itemAlias"].filter(J=>!(J in V&&""!==V[J]));if(0<X.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+X.join(", "))}saveXsrfToken(V){this.cookieService.remove(y.dX),this.cookieService.set(y.dX,V)}static{this.\u0275fac=function(G){return new(G||K)(t.rXU(t.gRc),t.rXU(C),t.rXU(I.B3),t.rXU(D.O))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["ds-uploader"]],hostBindings:function(G,X){1&G&&t.bIt("dragover",function(q){return X.onDragOver(q)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"ds-document-drop-zone-active","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pe-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ms-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-end"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],[1,"float-end","me-3"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"]],template:function(G,X){1&G&&(t.DNE(0,T,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,w,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(q){return X.fileOverBase(q)}),t.DNE(8,M,13,17,"div",6)(9,$,14,14,"div"),t.nI1(10,"async"),t.k0s()()()),2&G&&(t.vxM(t.bMT(1,7,X.isOverDocumentDropZone)?0:-1),t.R7$(2),t.vxM(t.bMT(3,9,X.isOverDocumentDropZone)?2:-1),t.R7$(2),t.BMQ("id",X.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,R,t.bMT(7,11,X.isOverBaseDropZone)))("uploader",X.uploader),t.R7$(2),t.vxM(0===(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)?8:-1),t.R7$(),t.vxM(t.bMT(10,13,X.isOverBaseDropZone)||0!==(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)?9:-1))},dependencies:[E.A,i.MD,i.YU,i.B3,i.Jj,m.eB,m.Ff,m.UJ,c.h,c.D9],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return K})()},33745:(U,b,n)=>{"use strict";n.d(b,{L:()=>c});var i=n(60177),t=n(54438);let c=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(p){return new(p||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},38133:(U,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class c{constructor(f){this._elementRef=f,this.dsClickOutside=new i.bkB}onClick(){const f=this._elementRef.nativeElement;f.contains(f.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsClickOutside",""]],hostBindings:function(m,p){1&m&&i.bIt("click",function(){return p.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return c})()},19370:(U,b,n)=>{"use strict";n.d(b,{R:()=>p});var i=n(54438),t=n(21413),c=n(70152),e=n(23294),f=n(56977),m=n(89417);let p=(()=>{class y{constructor(v){this.model=v,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,c.B)(this.dsDebounce),(0,e.F)(),(0,f.Q)(this.subject)).subscribe(v=>{this.model.dirty&&this.onDebounce.emit(v)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(O){return new(O||y)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:y,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return y})()},81829:(U,b,n)=>{"use strict";n.d(b,{s:()=>z});const c="bits",f="bytes",m="",C="jedec",j={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};var K=n(54438);let z=(()=>{class V{transform(X=0,J=2){return function $(V,{bits:G=!1,pad:X=!1,base:J=-1,round:q=2,locale:ne=m,localeOptions:ee={},separator:fe=m,spacer:ye=" ",symbols:oe={},standard:ue=m,output:te="string",fullform:se=!1,fullforms:be=[],exponent:me=-1,roundingMethod:re="round",precision:Z=0}={}){let le=me,ce=Number(V),ve=[],ze=0,Se=m;"si"===ue?(J=10,ue=C):"iec"===ue||ue===C?J=2:2===J?ue="iec":(J=10,ue=C);const et=10===J?1e3:1024,$e=!0===se,st=ce<0,We=Math[re];if("bigint"!=typeof V&&isNaN(V))throw new TypeError("Invalid number");if("function"!=typeof We)throw new TypeError("Invalid rounding method");if(st&&(ce=-ce),(-1===le||isNaN(le))&&(le=Math.floor(Math.log(ce)/Math.log(et)),le<0&&(le=0)),le>8&&(Z>0&&(Z+=8-le),le=8),"exponent"===te)return le;if(0===ce)ve[0]=0,Se=ve[1]=j.symbol[ue][G?c:f][le];else{ze=ce/(2===J?Math.pow(2,10*le):Math.pow(1e3,le)),G&&(ze*=8,ze>=et&&le<8&&(ze/=et,le++));const De=Math.pow(10,le>0?q:0);ve[0]=We(ze*De)/De,ve[0]===et&&le<8&&-1===me&&(ve[0]=1,le++),Se=ve[1]=10===J&&1===le?G?"kbit":"kB":j.symbol[ue][G?c:f][le]}if(st&&(ve[0]=-ve[0]),Z>0&&(ve[0]=ve[0].toPrecision(Z)),ve[1]=oe[ve[1]]||ve[1],!0===ne?ve[0]=ve[0].toLocaleString():ne.length>0?ve[0]=ve[0].toLocaleString(ne,ee):fe.length>0&&(ve[0]=ve[0].toString().replace(".",fe)),X&&q>0){const De=ve[0].toString(),ut=fe||(De.match(/(\D)/g)||[]).pop()||".",Ge=De.toString().split(ut),wt=Ge[1]||m,ot=wt.length;ve[0]=`${Ge[0]}${ut}${wt.padEnd(ot+(q-ot),"0")}`}return $e&&(ve[1]=be[le]?be[le]:j.fullform[ue][le]+(G?"bit":"byte")+(1===ve[0]?m:"s")),"array"===te?ve:"object"===te?{value:ve[0],symbol:ve[1],exponent:le,unit:Se}:ve.join(ye)}(X,{standard:"jedec",round:J})}static{this.\u0275fac=function(J){return new(J||V)}}static{this.\u0275pipe=K.EJ8({name:"dsFileSize",type:V,pure:!0,standalone:!0})}}return V})()},4600:(U,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(36343),t=n(89777);const e=(f,{findListOptions:m,shouldEmbed:p,useCachedVersionIfAvailable:y,reRequestOnStale:E,isOptional:v}={},...O)=>({name:f,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(p)||p,useCachedVersionIfAvailable:!(0,t.a4)(y)||y,reRequestOnStale:!(0,t.a4)(E)||E,isOptional:!!(0,t.a4)(v)&&v,linksToFollow:O})},83363:(U,b,n)=>{"use strict";n.d(b,{l:()=>t});var i=n(54438);let t=(()=>{class c{constructor(f){this.elementRef=f,this.dsHoverOutside=new i.bkB}onMouseOver(f){const m=f.target,p=document.querySelector(this.dsHoverOutsideOfParentSelector);(p?new i.aKT(p):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,p){1&m&&i.bIt("mouseover",function(E){return p.onMouseOver(E)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return c})()},93446:(U,b,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(b,{F:()=>i})},18902:(U,b,n)=>{"use strict";n.d(b,{U:()=>t});var i=n(54438);let t=(()=>{class c{transform(f,m=null){return Object.keys(f).map(p=>Object.assign({key:p},{value:f[p]}))}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:c,pure:!0,standalone:!0})}}return c})()},89856:(U,b,n)=>{"use strict";n.d(b,{as:()=>c,nW:()=>e});var i=n(4600);function c(f,m){return`f.${f}=${m},equals`}function e(f,m){const p=[];return f&&p.push((0,i.s)("thumbnail")),m&&p.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...p),(0,i.s)("rightItem",void 0,...p)]}},54034:(U,b,n)=>{"use strict";n.d(b,{F:()=>e,N:()=>c});var i=n(5127),t=n(89777);function c(f){return"/"+f.parseUrl(f.url).root.children.primary.segments.map(p=>p.path).join("/")}function e(f){if((0,t.a4)(f.parent)){const m=e(f.parent);return new i.t(m,f.routeConfig.path).toString()}return f.routeConfig?f.routeConfig.path:""}},40444:(U,b,n)=>{"use strict";n.d(b,{d:()=>c});var i=n(54438),t=n(345);let c=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(p){return new(p||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},50186:(U,b,n)=>{"use strict";n.d(b,{r:()=>t});var i=n(54438);let t=(()=>{class c{set ngVar(f){this.context.$implicit=this.context.ngVar=f,this.updateView()}constructor(f,m){this.vcRef=f,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return c})()},19194:(U,b,n)=>{"use strict";n.d(b,{g:()=>w});var i=n(54438),t=n(7901),c=n(68018),e=n(5964),f=n(78544),m=n(40645),p=n(19192),y=n(89777),E=n(33745),v=n(54034);const O=()=>({view:"list"}),C=()=>({view:"grid"}),I=()=>({view:"detailed"}),D=()=>({view:"geospatialMap"});function R(M,L){if(1&M){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.ListElement))}),i.nrm(4,"i",4),i.k0s()}if(2&M){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.ListElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-list"))("queryParams",i.lJ4(13,O)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.ListElement)("aria-label",i.bMT(2,9,"search.view-switch.show-list"))("data-test",i.bMT(3,11,"list-view"))}}function h(M,L){if(1&M){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.GridElement))}),i.nrm(4,"i",5),i.k0s()}if(2&M){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.GridElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-grid"))("queryParams",i.lJ4(13,C)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.GridElement)("aria-label",i.bMT(2,9,"search.view-switch.show-grid"))("data-test",i.bMT(3,11,"grid-view"))}}function S(M,L){if(1&M){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.DetailedListElement))}),i.nrm(4,"i",6),i.k0s()}if(2&M){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.DetailedListElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-detail"))("queryParams",i.lJ4(13,I)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.DetailedListElement)("aria-label",i.bMT(2,9,"search.view-switch.show-detail"))("data-test",i.bMT(3,11,"detail-view"))}}function T(M,L){if(1&M){const N=i.RV6();i.j41(0,"button",7),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.GeospatialMap))}),i.nrm(4,"span",8),i.j41(5,"span",9),i.EFF(6),i.nI1(7,"translate"),i.k0s()()}if(2&M){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.GeospatialMap),i.Y8G("title",i.bMT(1,8,"search.view-switch.show-geospatialMap"))("queryParams",i.lJ4(16,D)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.GeospatialMap)("aria-label",i.bMT(2,10,"search.view-switch.show-geospatialMap"))("data-test",i.bMT(3,12,"geospatial-view")),i.R7$(6),i.JRh(i.bMT(7,14,"search.view-switch.show-geospatialMap"))}}let w=(()=>{class M{constructor(N,j){this.searchService=N,this.router=j,this.currentMode=p.n.ListElement,this.viewModeEnum=p.n,this.changeViewMode=new i.bkB}ngOnInit(){(0,y.Im)(this.viewModeList)&&(this.viewModeList=[p.n.ListElement,p.n.GridElement],f.c.geospatialMapViewer.enableSearchViewMode&&this.viewModeList.push(p.n.GeospatialMap)),this.sub=this.searchService.getViewMode().pipe((0,e.p)(N=>(0,y.hj)(N))).subscribe(N=>{this.currentMode=N})}switchViewTo(N){N!==this.currentMode&&this.changeViewMode.emit(N),this.searchService.setViewMode(N,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(N){return this.viewModeList&&this.viewModeList.includes(N)}getSearchLink(){return this.inPlaceSearch?(0,v.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(j){return new(j||M)(i.rXU(m.S),i.rXU(t.Ix))}}static{this.\u0275cmp=i.VBU({type:M,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[i.aNF],decls:5,vars:4,consts:[["data-bs-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"title","queryParams","active"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active",1,"btn","btn-secondary",3,"title","queryParams","active"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","title","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active",1,"btn","btn-secondary",3,"click","title","queryParams"],[1,"fas","fa-map"],[1,"sr-only"]],template:function(j,$){1&j&&(i.j41(0,"div",0),i.DNE(1,R,5,14,"button",1)(2,h,5,14,"button",1)(3,S,5,14,"button",1)(4,T,8,17,"button",2),i.k0s()),2&j&&(i.R7$(),i.vxM($.isToShow($.viewModeEnum.ListElement)?1:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.GridElement)?2:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.DetailedListElement)?3:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.GeospatialMap)?4:-1))},dependencies:[E.L,t.Wk,t.wQ,c.h,c.D9]})}}return M})()},66423:(U,b,n)=>{"use strict";n.d(b,{Y:()=>E});var i=n(54438),t=n(7901),c=n(25558),e=n(5964),f=n(96697),m=n(97324),p=n(64691);let y=(()=>{class v{constructor(C,I,D){this.angulartics2=C,this.referrerService=I,this.router=D}resolve(C,I){const D=C.data.dsoPath||"dso.payload";return this.router.events.pipe((0,e.p)(R=>R instanceof t.gx),(0,f.s)(1),(0,c.n)(()=>this.referrerService.getReferrer().pipe((0,f.s)(1)))).subscribe(R=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.getNestedProperty(C.data,D),referrer:R}})}),!0}getNestedProperty(C,I){const D=I.split(".");let R=C;for(const h of D){if(!R||!R.hasOwnProperty(h))return;R=R[h]}return R}static{this.\u0275fac=function(I){return new(I||v)(i.KVO(m.il),i.KVO(p.f),i.KVO(t.Ix))}}static{this.\u0275prov=i.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const E=(v,O,C=(0,i.WQX)(y))=>C.resolve(v,O)},68660:(U,b,n)=>{"use strict";n.d(b,{$n:()=>S,Mz:()=>h});var i=n(54438),t=n(37542),c=n(84572),e=n(22806),f=n(7673),m=n(96354),p=n(96697),y=n(78544),E=n(94925),v=n(19252),O=n(4093),C=n(89564),I=n(89777);const h="matomo.enabled";let S=(()=>{class T{constructor(M){this.injector=M,this.orejimeService=(0,i.WQX)(C.B),this._window=(0,i.WQX)(v.lc),this.configService=(0,i.WQX)(E.ConfigurationDataService),this.changeMatomoConsent=L=>{L?this.matomoTracker?.setConsentGiven():this.matomoTracker?.forgetConsentGiven()}}init(){if(this._window.nativeWindow&&(this._window.nativeWindow.changeMatomoConsent=this.changeMatomoConsent),y.c.production){const M=this.orejimeService.getSavedPreferences();(0,c.z)([M,this.isMatomoEnabled$(),this.getSiteId$(),this.getTrackerUrl$()]).subscribe(([L,N,j,$])=>{N&&j&&$&&((0,i.N4e)(this.injector,()=>{this.matomoTracker=(0,i.WQX)(t.kA),this.matomoInitializer=(0,i.WQX)(t.TV)}),this.matomoInitializer.initializeTracker({siteId:j,trackerUrl:$}),this.changeMatomoConsent(L?.matomo))})}}appendVisitorId(M){return(0,e.H)(this.matomoTracker?.getVisitorId()).pipe((0,m.T)(L=>this.appendTrackerId(M,L)),(0,p.s)(1))}getTrackerUrl$(){return(0,I.hj)(y.c.matomo?.trackerUrl)?(0,f.of)(y.c.matomo.trackerUrl):this.configService.findByPropertyName("matomo.tracker.url").pipe((0,O.qD)(),(0,m.T)(M=>M.hasSucceeded&&M.payload&&(0,I.hj)(M.payload.values)&&M.payload.values[0]))}getSiteId$(){return this.configService.findByPropertyName("matomo.request.siteid").pipe((0,O.qD)(),(0,m.T)(M=>M.hasSucceeded&&M.payload&&(0,I.hj)(M.payload.values)&&M.payload.values[0]))}isMatomoEnabled$(){return this.configService.findByPropertyName(h).pipe((0,O.qD)(),(0,m.T)(M=>M.hasSucceeded&&M.payload&&(0,I.hj)(M.payload.values)&&"true"===M.payload.values[0]?.toLowerCase()))}appendTrackerId(M,L){const N=new URL(M);return(0,I.hj)(L)&&N.searchParams.append("trackerId",L),N.toString()}static{this.\u0275fac=function(L){return new(L||T)(i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},56066:(U,b,n)=>{"use strict";n.d(b,{m:()=>E});var i=n(60177),t=n(54438),c=n(68018),e=n(5598),f=n(15202),m=n(58003);const p=v=>({"d-none":v});function y(v,O){1&v&&t.nrm(0,"ds-loading")}let E=(()=>{class v{constructor(C){this.activeModal=C,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(C){this.loading=!0,this.selectedEvent.emit(C)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(C){this.selectedEvent.emit(C)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(I){return new(I||v)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:8,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(I,D){1&I&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return D.closeCollectionModal()}),t.k0s()(),t.j41(5,"div",2),t.DNE(6,y,1,0,"ds-loading"),t.j41(7,"ds-collection-dropdown",3),t.bIt("selectionChange",function(h){return D.selectObject(h)})("searchComplete",function(){return D.searchComplete()}),t.k0s()()()),2&I&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(4),t.vxM(D.isLoading()?6:-1),t.R7$(),t.Y8G("ngClass",t.eq3(6,p,D.isLoading()))("entityType",D.entityType))},dependencies:[i.YU,e.m,f.v,c.h,c.D9],styles:[".btn-close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return v})()},69123:(U,b,n)=>{"use strict";n.d(b,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},8734:(U,b,n)=>{"use strict";n.d(b,{Bo:()=>ye,CG:()=>E,Dy:()=>k,IE:()=>te,Ob:()=>q,SE:()=>ee,Sm:()=>v,Vn:()=>c,Z5:()=>ne,Zi:()=>O,Zl:()=>j,_D:()=>fe,dm:()=>y,f0:()=>R,h3:()=>L,hJ:()=>m,i6:()=>p,jc:()=>D,kq:()=>G,ky:()=>N,l5:()=>V,lE:()=>t,nt:()=>ue,nu:()=>z,oW:()=>h,pL:()=>K,sf:()=>$,sj:()=>T,t2:()=>C,tR:()=>w,ug:()=>I,v0:()=>J,w7:()=>oe,wM:()=>M,wT:()=>f,x9:()=>X});var i=n(6800);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class c{constructor(be,me,re){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:be,sectionId:me,error:re}}}class f{constructor(be,me,re,Z,le,ce,ve,ze,Se,et,$e){this.type=t.INIT_SECTION,this.payload={submissionId:be,sectionId:me,header:re,config:Z,mandatory:le,scope:ce,sectionType:ve,visibility:ze,enabled:Se,data:et,errors:$e}}}class m{constructor(be,me){this.type=t.ENABLE_SECTION,this.payload={submissionId:be,sectionId:me}}}class p{constructor(be,me){this.type=t.DISABLE_SECTION,this.payload={submissionId:be,sectionId:me}}}class y{constructor(be,me,re,Z,le,ce){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:be,sectionId:me,data:re,errorsToShow:Z,serverValidationErrors:le,metadata:ce}}}class E{constructor(be){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:be}}}class v{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class O{constructor(be,me){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:be,sectionId:me}}}class C{constructor(be,me,re){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:be,sectionId:me,formId:re}}}class I{constructor(be){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:be}}}class D{constructor(be,me,re,Z,le,ce,ve){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:be,submissionId:me,selfUrl:re,submissionDefinition:Z,sections:le,item:ce,errors:ve}}}class R{constructor(be){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:be}}}class h{constructor(be,me){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:be,submissionObject:me}}}class T{constructor(be,me=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:be,isManual:me}}}class w{constructor(be,me,re,Z){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:be,submissionObject:me,showNotifications:re,showErrors:Z}}}class M{constructor(be){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:be}}}class L{constructor(be,me){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:be,sectionId:me}}}class N{constructor(be,me,re){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:be,submissionObject:me,notify:re}}}class j{constructor(be){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:be}}}class ${constructor(be,me,re,Z,le,ce){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:be,submissionId:me,selfUrl:re,sections:Z,submissionDefinition:le,item:ce}}}class k{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class K{constructor(be,me){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:be,collectionId:me}}}class z{constructor(be){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:be}}}class V{constructor(be){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:be}}}class G{constructor(be){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:be}}}class X{constructor(be){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:be}}}class J{constructor(be){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:be}}}class q{constructor(be){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:be}}}class ne{constructor(be){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:be}}}class ee{constructor(be,me,re){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:be,sectionId:me,status:re}}}class fe{constructor(be,me){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:be,sectionId:me}}}class ye{constructor(be,me,re,Z){this.type=t.NEW_FILE,this.payload={submissionId:be,sectionId:me,fileId:re,data:Z}}}class oe{constructor(be,me,re){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:be,sectionId:me,fileId:re}}}class ue{constructor(be,me,re,Z){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:be,sectionId:me,fileId:re,data:Z}}}class te{constructor(be,me,re){this.type=t.DELETE_FILE,this.payload={submissionId:be,sectionId:me,fileId:re}}}},67707:(U,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},12443:(U,b,n)=>{"use strict";n.d(b,{c:()=>J});var i=n(1473),t=n(48376),c=n.n(t),e=n(5771),f=n.n(e),m=n(48125),p=n.n(m),y=n(84572),E=n(96354),v=n(23294),O=n(73028),C=n(5964),I=n(96697),D=n(33553),R=n(74242),h=n(61989),S=n(89777),T=n(59726),w=n(70338),M=n(9847),L=n(69123),N=n(8734),j=n(91261),$=n(30250),k=n(69289),K=n(67707),z=n(54438),V=n(53588),G=n(59640),X=n(68018);let J=(()=>{class q{constructor(ee,fe,ye,oe,ue,te){this.formService=ee,this.notificationsService=fe,this.scrollToService=ye,this.submissionService=oe,this.store=ue,this.translate=te}checkSectionErrors(ee,fe,ye,oe,ue=[]){if((0,S.Im)(oe))this.store.dispatch(new N.Zi(ee,fe)),this.store.dispatch(new T.Dp(ye));else if(!p()(oe,ue)){const te=[];oe.forEach(se=>{(0,k.A)(se.path).forEach(me=>{me.fieldId&&(this.formService.addError(ye,me.fieldId,me.fieldIndex,se.message),te.push(me.fieldId))})}),ue.forEach(se=>{(0,k.A)(se.path).forEach(me=>{me.fieldId&&(te.includes(me.fieldId)||this.formService.removeError(ye,me.fieldId,me.fieldIndex))})})}}dispatchRemoveSectionErrors(ee,fe){this.store.dispatch(new N.Zi(ee,fe))}dispatchSetSectionFormId(ee,fe,ye){this.store.dispatch(new N.t2(ee,fe,ye))}getSectionData(ee,fe,ye){return this.store.select((0,j.on)(ee,fe)).pipe((0,E.T)(oe=>ye===K.l.SubmissionForm?(0,R.Z5)(oe):oe),(0,v.F)())}getShownSectionErrors(ee,fe,ye){let oe;return oe=ye!==K.l.SubmissionForm?this.getSectionErrors(ee,fe):this.getSectionState(ee,fe,ye).pipe((0,O.Z)(ue=>this.formService.getFormErrors(ue.formId).pipe((0,E.T)(te=>{const se=new D.S("sections",fe),be=te.map(me=>({path:se.getPath(me.fieldId.replace(/\_/g,".")).path,message:me.message})).filter(me=>-1===c()(ue.errorsToShow,{path:me.path}));return[...ue.errorsToShow,...be]})))),oe}getSectionErrors(ee,fe){return this.store.select((0,j.D6)(ee,fe)).pipe((0,v.F)())}getSectionServerErrors(ee,fe){return this.store.select((0,j.aU)(ee,fe)).pipe((0,v.F)())}getSectionState(ee,fe,ye){return this.store.select((0,j.sR)(ee,fe)).pipe((0,C.p)(oe=>(0,S.a4)(oe)),(0,E.T)(oe=>oe),(0,E.T)(oe=>(0,S.a4)(oe.data)&&ye===K.l.SubmissionForm?Object.assign({},oe,{data:(0,R.Z5)(oe.data)}):oe),(0,v.F)())}isSectionValid(ee,fe){return this.store.select((0,j.sR)(ee,fe)).pipe((0,C.p)(ye=>(0,S.a4)(ye)),(0,E.T)(ye=>ye.isValid),(0,v.F)())}isSectionActive(ee,fe){return this.submissionService.getActiveSectionId(ee).pipe((0,E.T)(ye=>fe===ye),(0,v.F)())}isSectionEnabled(ee,fe){return this.store.select((0,j.sR)(ee,fe)).pipe((0,C.p)(ye=>(0,S.a4)(ye)),(0,E.T)(ye=>ye.enabled),(0,v.F)())}isSectionReadOnly(ee,fe,ye){return this.store.select((0,j.sR)(ee,fe)).pipe((0,C.p)(oe=>(0,S.a4)(oe)),(0,E.T)(oe=>!((0,S.Im)(ye)||(0,S.Im)(oe.visibility)||(0,S.Im)(oe.scope))&&"READONLY"===((ye.valueOf()===h.L.WorkspaceItem.valueOf()?L.S.Submission:L.S.Workflow).valueOf()===oe.scope.valueOf()?oe.visibility.main:oe.visibility.other)),(0,v.F)())}isSectionAvailable(ee,fe){return this.store.select((0,j.sO)(ee)).pipe((0,C.p)(ye=>(0,S.EA)(ye)),(0,E.T)(ye=>(0,S.EA)(ye.sections)&&(0,S.EA)(ye.sections[fe])),(0,v.F)())}isSectionTypeAvailable(ee,fe){return this.store.select((0,j.sO)(ee)).pipe((0,C.p)(ye=>(0,S.EA)(ye)),(0,E.T)(ye=>(0,S.EA)(ye.sections)&&(0,S.EA)(f()(ye.sections,{sectionType:fe}))),(0,v.F)())}isSectionType(ee,fe,ye){return this.store.select((0,j.sO)(ee)).pipe((0,C.p)(oe=>(0,S.EA)(oe)),(0,E.T)(oe=>(0,S.EA)(oe.sections)&&(0,S.EA)(oe.sections[fe])&&oe.sections[fe].sectionType===ye),(0,v.F)())}addSection(ee,fe){this.store.dispatch(new N.hJ(ee,fe)),this.scrollToService.scrollTo({target:fe,offset:-70})}removeSection(ee,fe){this.store.dispatch(new N.i6(ee,fe))}updateSectionData(ee,fe,ye,oe=[],ue=[],te){if((0,S.hj)(ye)){const se=this.isSectionAvailable(ee,fe),be=this.isSectionEnabled(ee,fe);(0,y.z)(se,be).pipe((0,I.s)(1),(0,C.p)(([me,re])=>me)).subscribe(([me,re])=>{this.store.dispatch(new N.dm(ee,fe,ye,oe,ue,te))})}}setSectionError(ee,fe,ye){this.store.dispatch(new N.Vn(ee,fe,ye))}setSectionStatus(ee,fe,ye){this.store.dispatch(new N.SE(ee,fe,ye))}computeSectionConfiguredMetadata(ee){const fe=[],ye="string"==typeof ee?JSON.parse(ee,i.zno):ee;return ye.rows&&!(0,S.Im)(ye.rows)&&ye.rows.forEach(oe=>{oe.fields&&!(0,S.Im)(oe.fields)&&oe.fields.forEach(ue=>{ue.selectableMetadata&&!(0,S.Im)(ue.selectableMetadata)&&ue.selectableMetadata.forEach(te=>{fe.includes(te.metadata)||fe.push(te.metadata)})})}),fe}getIsInformational(ee){return ee===K.l.SherpaPolicies}static{this.\u0275fac=function(fe){return new(fe||q)(z.KVO(w.u),z.KVO(M.I),z.KVO(V.WY),z.KVO($.E),z.KVO(G.il),z.KVO(X.c$))}}static{this.\u0275prov=z.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},52043:(U,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},91261:(U,b,n)=>{"use strict";n.d(b,{D6:()=>C,Uh:()=>y,aU:()=>I,hZ:()=>f,hi:()=>E,on:()=>O,pc:()=>e,sO:()=>m,sR:()=>v});var i=n(59640),t=n(89777),c=n(37098);function e(D,R,h){return(0,i.Mz)(D,S=>{if((0,t.a4)(S)&&(0,t.a4)(S[R]))return S[R][h]})}function f(D,R){return(0,i.Mz)(D,h=>{if((0,t.a4)(h)&&(0,t.a4)(h[R]))return h[R]})}function m(D){return e(c.O,"objects",D)}function y(D,R){return f(O(D,R),"files")}function E(D,R,h){return e(O(D,R),"files",h)}function v(D,R){return e(m(D),"sections",R)}function O(D,R){return f(v(D,R),"data")}function C(D,R){return f(v(D,R),"errorsToShow")}function I(D,R){return f(v(D,R),"serverValidationErrors")}},37098:(U,b,n)=>{"use strict";n.d(b,{u:()=>oe,O:()=>ue});var i=n(59640),t=n(25622),c=n.n(t),e=n(5771),f=n.n(e),m=n(48125),p=n.n(m),y=n(63448),E=n.n(y),v=n(89777),O=n(8734);const C=Object.create({});function G(te,se){return te||(se?[...se]:void 0)}function X(te,se,be){return(0,v.a4)(te[se.payload.submissionId].sections[se.payload.sectionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{enabled:be})})})}):te}const oe={objects:function I(te=C,se){switch(se.type){case O.lE.COMPLETE_INIT_SUBMISSION_FORM:return function w(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{isLoading:!1})}):te}(te,se);case O.lE.INIT_SUBMISSION_FORM:return function S(te,se){const be=Object.assign({},te);return be[se.payload.submissionId]={collection:se.payload.collectionId,definition:se.payload.submissionDefinition.name,selfUrl:se.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},be}(te,se);case O.lE.RESET_SUBMISSION_FORM:return function T(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):te}(te,se);case O.lE.CANCEL_SUBMISSION_FORM:return C;case O.lE.SAVE_SUBMISSION_FORM:case O.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case O.lE.SAVE_AND_DEPOSIT_SUBMISSION:case O.lE.SAVE_SUBMISSION_SECTION_FORM:return function M(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{activeSection:te[se.payload.submissionId].activeSection,sections:te[se.payload.submissionId].sections,isLoading:te[se.payload.submissionId].isLoading,savePending:!0})}):te}(te,se);case O.lE.SAVE_SUBMISSION_FORM_SUCCESS:case O.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case O.lE.SAVE_SUBMISSION_FORM_ERROR:case O.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case O.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function L(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{savePending:!1})}):te}(te,se);case O.lE.CHANGE_SUBMISSION_COLLECTION:return function $(te,se){return Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{collection:se.payload.collectionId})})}(te,se);case O.lE.DEPOSIT_SUBMISSION:return function N(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{savePending:!1,depositPending:!0})}):te}(te,se);case O.lE.DEPOSIT_SUBMISSION_SUCCESS:return C;case O.lE.DEPOSIT_SUBMISSION_ERROR:return function j(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{depositPending:!1})}):te}(te,se);case O.lE.DISCARD_SUBMISSION:return te;case O.lE.DISCARD_SUBMISSION_SUCCESS:return C;case O.lE.DISCARD_SUBMISSION_ERROR:return te;case O.lE.SET_ACTIVE_SECTION:return function k(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{activeSection:se.payload.sectionId,sections:te[se.payload.submissionId].sections,isLoading:te[se.payload.submissionId].isLoading,savePending:te[se.payload.submissionId].savePending})}):te}(te,se);case O.lE.INIT_SECTION:return function K(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:{header:se.payload.header,config:se.payload.config,mandatory:se.payload.mandatory,scope:se.payload.scope,sectionType:se.payload.sectionType,visibility:se.payload.visibility,collapsed:!1,enabled:se.payload.enabled,data:se.payload.data,errorsToShow:[],serverValidationErrors:se.payload.errors||[],isLoading:!1,isValid:(0,v.Im)(se.payload.errors)}})})}):te}(te,se);case O.lE.SET_SECTION_FORM_ID:return function z(te,se){return(0,v.a4)(te[se.payload.submissionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:{...te[se.payload.submissionId].sections[se.payload.sectionId],formId:se.payload.formId}})})}):te}(te,se);case O.lE.ENABLE_SECTION:return X(te,se,!0);case O.lE.UPDATE_SECTION_DATA:return function V(te,se){return(0,v.hj)(te[se.payload.submissionId])&&(0,v.hj)(te[se.payload.submissionId].sections[se.payload.sectionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{enabled:!0,data:se.payload.data,errorsToShow:se.payload.errorsToShow,serverValidationErrors:se.payload.serverValidationErrors,metadata:G(se.payload.metadata,te[se.payload.submissionId].sections[se.payload.sectionId].metadata)})})})}):te}(te,se);case O.lE.DISABLE_SECTION:return X(te,se,!1);case O.lE.SECTION_STATUS_CHANGE:return function J(te,se){return(0,v.hj)(te[se.payload.submissionId])&&(0,v.a4)(te[se.payload.submissionId].sections[se.payload.sectionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,Object.assign({},{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{isValid:se.payload.status})}))})}):te}(te,se);case O.lE.NEW_FILE:return function q(te,se){const be=te[se.payload.submissionId].sections[se.payload.sectionId].data;let me;return(0,v.b0)(be.files)?me={files:[se.payload.data]}:(me=be,me.files.push(se.payload.data)),Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{enabled:!0,data:me})})})})}(te,se);case O.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function ne(te,se){const be=te[se.payload.submissionId].sections[se.payload.sectionId].data,{submissionId:me,sectionId:re,fileId:Z}=se.payload,le=f()(be.files,{uuid:Z});if((0,v.kZ)(le))return te;const ce=te[me];return{...te,[me]:{...ce,sections:{...ce.sections,[re]:{...ce.sections[re],data:{...ce.sections[re].data,primary:Z}}},isLoading:ce.isLoading,savePending:ce.savePending}}}(te,se);case O.lE.EDIT_FILE_DATA:return function ee(te,se){const be=te[se.payload.submissionId].sections[se.payload.sectionId].data;if((0,v.a4)(be.files)){const me=f()(be.files,{uuid:se.payload.fileId});if((0,v.Pe)(me)){const re=Array.from(be.files);return re[me]=se.payload.data,Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{activeSection:te[se.payload.submissionId].activeSection,sections:Object.assign({},te[se.payload.submissionId].sections,Object.assign({},{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{data:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId].data,{files:re})})})),isLoading:te[se.payload.submissionId].isLoading,savePending:te[se.payload.submissionId].savePending})})}}return te}(te,se);case O.lE.DELETE_FILE:return function fe(te,se){const be=te[se.payload.submissionId].sections[se.payload.sectionId].data;if((0,v.a4)(be.files)){const me=f()(be.files,{uuid:se.payload.fileId});if((0,v.Pe)(me)){const re=Array.from(be.files);return re.splice(me,1),Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,Object.assign({},{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{data:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId].data,{files:re})})}))})})}}return te}(te,se);case O.lE.ADD_SECTION_ERROR:return((te,se)=>{const{submissionId:be,sectionId:me,error:re}=se.payload;if((0,v.a4)(te[be].sections[me])){const Z=E()(te[be].sections[me].errorsToShow.concat(re),p());return Object.assign({},te,{[be]:Object.assign({},te[be],{activeSection:te[se.payload.submissionId].activeSection,sections:Object.assign({},te[be].sections,{[me]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{errorsToShow:Z})})})})}return te})(te,se);case O.lE.DELETE_SECTION_ERROR:return((te,se)=>{const{submissionId:be,sectionId:me,errors:re}=se.payload;if((0,v.a4)(te[be].sections[me])){let Z;return Z=Array.isArray(re)?c()(re,re,p()):te[be].sections[me].errorsToShow.filter(le=>le.path!==re.path||!p()(le,re)),Object.assign({},te,{[be]:Object.assign({},te[be],{sections:Object.assign({},te[be].sections,{[me]:Object.assign({},te[be].sections[me],{errorsToShow:Z})})})})}return te})(te,se);case O.lE.REMOVE_SECTION_ERRORS:return function h(te,se){return(0,v.hj)(te[se.payload.submissionId])&&(0,v.hj)(te[se.payload.submissionId].sections[se.payload.sectionId])?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{[se.payload.sectionId]:Object.assign({},te[se.payload.submissionId].sections[se.payload.sectionId],{errorsToShow:[]})})})}):te}(te,se);case O.lE.CLEAN_DUPLICATE_DETECTION:return function ye(te,se){return(0,v.hj)(te[se.payload.submissionId])&&te[se.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},te,{[se.payload.submissionId]:Object.assign({},te[se.payload.submissionId],{sections:Object.assign({},te[se.payload.submissionId].sections,{duplicates:Object.assign({},te[se.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):te}(te,se);default:return te}}},ue=(0,i.UX)("submission")},30250:(U,b,n)=>{"use strict";n.d(b,{E:()=>ee});var i=n(21626),t=n(59640),c=n(7673),e=n(41584),f=n(96354),m=n(99437),p=n(47677),y=n(5964),E=n(99172),v=n(23294),O=n(96697),C=n(88141),I=n(70274),D=n(78544),R=n(76456),h=n(3601),S=n(87507),T=n(40645),w=n(28690),M=n(55121),L=n(61989),N=n(89777),j=n(9847),$=n(34180),k=n(69123),K=n(8734),z=n(91261),V=n(37098),G=n(54438),X=n(7901),J=n(68018);let ee=(()=>{class fe{constructor(oe,ue,te,se,be,me,re,Z,le){this.notificationsService=oe,this.restService=ue,this.router=te,this.routeService=se,this.store=be,this.translate=me,this.searchService=re,this.requestService=Z,this.jsonPatchOperationService=le,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(oe,ue){this.store.dispatch(new K.pL(oe,ue))}getSubmissionCollectionId(oe){return this.store.pipe((0,t.Lt)(function ne(fe){return(0,t.Mz)(function q(fe){return(0,t.Mz)(V.O,ye=>ye.objects[fe])}(fe),ye=>ye?.collection)}(oe)))}createSubmission(oe){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,oe).pipe((0,f.T)(ue=>ue[0]),(0,m.W)(()=>(0,c.of)({})))}createSubmissionFromExternalSource(oe,ue){const te=Object.create({});let se=new i.Lr;return se=se.append("Content-Type","text/uri-list"),te.headers=se,this.restService.postToEndpoint(this.workspaceLinkPath,oe,null,te,ue)}depositSubmission(oe){const ue=Object.create({});let te=new i.Lr;return te=te.append("Content-Type","text/uri-list"),ue.headers=te,this.restService.postToEndpoint(this.workflowLinkPath,oe,null,ue)}discardSubmission(oe){return this.restService.deleteById(oe)}dispatchInit(oe,ue,te,se,be,me,re){this.store.dispatch(new K.jc(oe,ue,te,se,be,me,re))}dispatchDeposit(oe){this.store.dispatch(new K.nu(oe))}dispatchDiscard(oe){this.store.dispatch(new K.v0(oe))}dispatchSave(oe,ue){this.getSubmissionSaveProcessingStatus(oe).pipe((0,p.I)(te=>!te)).subscribe(()=>{this.store.dispatch(new K.sj(oe,ue))})}dispatchSaveForLater(oe){this.store.dispatch(new K.f0(oe))}dispatchSaveSection(oe,ue){this.store.dispatch(new K.h3(oe,ue))}getActiveSectionId(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(ue=>ue.activeSection))}getSubmissionObject(oe){return this.store.select((0,z.sO)(oe)).pipe((0,y.p)(ue=>(0,N.EA)(ue)))}getSubmissionSections(oe){return this.getSubmissionObject(oe).pipe((0,p.I)(ue=>(0,N.EA)(ue.sections)&&!ue.isLoading),(0,f.T)(ue=>ue.sections),(0,f.T)(ue=>{const te=[];return Object.keys(ue).filter(se=>!this.isSectionHidden(ue[se])).forEach(se=>{const be=Object.create({});be.config=ue[se].config,be.mandatory=ue[se].mandatory,be.data=ue[se].data,be.errorsToShow=ue[se].errorsToShow,be.serverValidationErrors=ue[se].serverValidationErrors,be.header=ue[se].header,be.id=se,be.sectionType=ue[se].sectionType,te.push(be)}),te}),(0,E.Z)([]),(0,v.F)())}getDisabledSectionsList(oe){return this.getSubmissionObject(oe).pipe((0,y.p)(ue=>(0,N.EA)(ue.sections)&&!ue.isLoading),(0,f.T)(ue=>ue.sections),(0,f.T)(ue=>{const te=[];return Object.keys(ue).filter(se=>!this.isSectionHidden(ue[se])).filter(se=>!ue[se].enabled).forEach(se=>{const be=Object.create({});be.header=ue[se].header,be.id=se,te.push(be)}),te}),(0,E.Z)([]),(0,v.F)())}getSubmissionObjectLinkName(){const oe=this.router.routerState.snapshot.url;return oe.startsWith("/workspaceitems")||oe.startsWith("/submit")?this.workspaceLinkPath:oe.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let oe;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:oe=L.L.WorkspaceItem;break;case this.workflowLinkPath:oe=L.L.WorkflowItem}return oe}getSubmissionStatus(oe){return this.store.select(V.O).pipe((0,f.T)(ue=>ue.objects[oe]),(0,y.p)(ue=>(0,N.EA)(ue)&&(0,N.EA)(ue.sections)),(0,f.T)(ue=>ue.sections),(0,f.T)(ue=>{const te=[];return(0,N.EA)(ue)&&Object.keys(ue).filter(se=>ue.hasOwnProperty(se)).filter(se=>!this.isSectionHidden(ue[se])).filter(se=>ue[se].enabled).filter(se=>!1===ue[se].isValid).forEach(se=>{te.push(ue[se].isValid)}),!(0,N.Im)(ue)&&(0,N.Im)(te)}),(0,v.F)(),(0,E.Z)(!1))}getSubmissionSaveProcessingStatus(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(ue=>ue.savePending),(0,v.F)(),(0,E.Z)(!1))}getSubmissionDepositProcessingStatus(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(ue=>ue.depositPending),(0,v.F)(),(0,E.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(oe){const ue=this.getSubmissionScope();return!((0,N.Im)(ue)||(0,N.Im)(oe.visibility)||(0,N.Im)(oe.scope))&&"HIDDEN"===((ue.valueOf()===L.L.WorkspaceItem.valueOf()?k.S.Submission:k.S.Workflow).valueOf()===oe.scope.valueOf()?oe.visibility.main:oe.visibility.other)}isSubmissionLoading(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(ue=>ue.isLoading),(0,v.F)())}notifyNewSection(oe,ue,te){const se=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:ue});this.notificationsService.info(null,se,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,O.s)(1),(0,C.M)(oe=>this.requestService.removeByHrefSubstring(oe)),(0,I.H)(()=>this.routeService.getPreviousUrl().pipe((0,O.s)(1),(0,C.M)(oe=>{(0,N.Im)(oe)||!oe.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(oe)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new K.Dy)}resetSubmissionObject(oe,ue,te,se,be,me){this.store.dispatch(new K.sf(oe,ue,te,be,se,me))}retrieveSubmission(oe){return this.restService.getDataById(this.getSubmissionObjectLinkName(),oe).pipe((0,p.I)(ue=>(0,N.EA)(ue)),(0,f.T)(ue=>(0,$.SP)(ue[0])),(0,m.W)(ue=>{if(ue instanceof R._p)return(0,$.PM)(ue.errorMessage,ue.statusCode)}))}setActiveSection(oe,ue){this.store.dispatch(new K._D(oe,ue))}startAutoSave(oe){if(this.stopAutoSave(),0===D.c.submission.autosave.timer)return;const ue=D.c.submission.autosave.timer;this.timer$=(0,e.O)(ue,ue),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new K.sj(oe)))}stopAutoSave(){(0,N.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(ue){return new(ue||fe)(G.KVO(j.I),G.KVO(M.O),G.KVO(X.Ix),G.KVO(S.v$),G.KVO(t.il),G.KVO(J.c$),G.KVO(T.S),G.KVO(h.B),G.KVO(w.U))}}static{this.\u0275prov=G.jDH({token:fe,factory:fe.\u0275fac})}}return fe})()},69289:(U,b,n)=>{"use strict";n.d(b,{A:()=>f});var i=n(89777);const t=/([^\/]+)/g,c=/\/sections\/(.*)/,f=m=>("string"==typeof m?[m]:m).map(y=>y.match(t)&&y.match(t).length>2?{sectionId:y.match(t)[1],fieldId:y.match(t)[2],fieldIndex:(0,i.a4)(y.match(t)[3])?+y.match(t)[3]:0,originalPath:y}:{sectionId:y.match(c)[1],originalPath:y})},676:(U,b,n)=>{"use strict";n.d(b,{A:()=>c});var i=n(69289);const c=(e=[])=>{const f=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(y=>{const E={path:y.originalPath,message:m.message};f[y.sectionId]||(f[y.sectionId]=[]),f[y.sectionId].push(E)})}),f}},93007:(U,b,n)=>{"use strict";n.d(b,{C2:()=>t,jV:()=>e});var i=n(5127);const t="suggestions";function e(f){return new i.t(function c(){return`/${t}`}(),f).toString()}},70997:(U,b,n)=>{"use strict";n.d(b,{E:()=>$});var i=n(60177),t=n(54438),c=n(68018),e=n(56106),m=n(84412),p=n(40605),y=n(983),E=n(96354),v=n(5964),O=n(25558),C=n(35659),I=n(4093),D=n(89777),R=n(9847);const h=k=>({days:k}),S=k=>({hours:k}),T=k=>({minutes:k});function w(k,K){1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&k&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function M(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,h,t.bMT(2,1,z.countDownDays)))," ")}}function L(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,S,t.bMT(2,1,z.countDownHours)))," ")}}function N(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,T,t.bMT(2,1,z.countDownMinutes)))," ")}}function j(k,K){if(1&k&&(t.j41(0,"div")(1,"div",0)(2,"div",1)(3,"span",2),t.DNE(4,w,3,3,"span"),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,M,4,8,"span"),t.nI1(9,"async"),t.DNE(10,L,4,8,"span"),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,N,4,8,"span"),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",3),t.nI1(18,"async"),t.k0s()()()),2&k){let z;const V=t.XpG();t.R7$(4),t.vxM(t.bMT(5,5,V.countDownDays)>0||t.bMT(6,7,V.countDownHours)>0||t.bMT(7,9,V.countDownMinutes)>0?4:-1),t.R7$(4),t.vxM(t.bMT(9,11,V.countDownDays)>0?8:-1),t.R7$(2),t.vxM(t.bMT(11,13,V.countDownDays)>0||t.bMT(12,15,V.countDownHours)>0?10:-1),t.R7$(3),t.vxM(t.bMT(14,17,V.countDownDays)>0||t.bMT(15,19,V.countDownHours)>0||t.bMT(16,21,V.countDownMinutes)>0?13:-1),t.R7$(4),t.Y8G("innerHTML",null==(z=t.bMT(18,23,V.systemWideAlert$))?null:z.message,t.npT)}}let $=(()=>{class k{constructor(z,V,G){this.platformId=z,this.systemWideAlertDataService=V,this.notificationsService=G,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,I.Hz)(),(0,E.T)(z=>z.page),(0,v.p)(z=>(0,D.hj)(z)),(0,E.T)(z=>z[0])).subscribe(z=>{this.systemWideAlert$.next(z)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,O.n)(z=>{if((0,D.a4)(z)&&(0,D.a4)(z.countdownTo)){const G=(0,e.zonedTimeToUtc)(z.countdownTo,"UTC").getTime()-(new Date).getTime();if(G>0)return this.allocateTimeUnits(G),(0,i.UE)(this.platformId)?(0,p.Y)(1e3):y.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),y.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(z){const G=(0,e.zonedTimeToUtc)(z,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(G)}allocateTimeUnits(z){const V=Math.floor(z/6e4%60),G=Math.floor(z/36e5%24),X=Math.floor(z/864e5);this.countDownMinutes.next(V),this.countDownHours.next(G),this.countDownDays.next(X)}ngOnDestroy(){this.subscriptions.forEach(z=>{(0,D.a4)(z)&&z.unsubscribe()})}static{this.\u0275fac=function(V){return new(V||k)(t.rXU(t.Agw),t.rXU(C.SystemWideAlertDataService),t.rXU(R.I))}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"fw-bold"],[3,"innerHTML"]],template:function(V,G){if(1&V&&(t.DNE(0,j,19,25,"div"),t.nI1(1,"async")),2&V){let X;t.vxM(null!=(X=t.bMT(1,1,G.systemWideAlert$))&&X.active?0:-1)}},dependencies:[i.Jj,c.h,c.D9]})}}return k})()},17942:(U,b,n)=>{"use strict";n.d(b,{$:()=>p});var i=n(31635),t=n(74850),c=n(72153),e=n(44043),f=n(94152),m=n(67716);let p=class{static{this.type=m.B}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([c.gV],p)},67716:(U,b,n)=>{"use strict";n.d(b,{B:()=>t});const t=new(n(44043).v)("systemwidealert")},49170:(U,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(29710),c=(n(99524),n(54438));const e=["*"];function f(p,y){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(E){return n(572)(`./${E}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,99524))}static{this.\u0275fac=(()=>{let E;return function(O){return(E||(E=c.xGo(p)))(O||p)}})()}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,O){1&v&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return p})()},99524:(U,b,n)=>{"use strict";n.r(b),n.d(b,{ThumbnailComponent:()=>T});var i=n(60177),t=n(54438),c=n(68018),e=n(7673),f=n(25558),m=n(94196),p=n(11873),y=n(6170),E=n(25788),v=n(21832),O=n(76461),C=n(89777),I=n(15202),D=n(40444);function R(w,M){1&w&&(t.j41(0,"div",1)(1,"div",3)(2,"div",4),t.nrm(3,"ds-loading",5),t.k0s()()()),2&w&&(t.R7$(3),t.Y8G("spinner",!0))}function h(w,M){if(1&w){const L=t.RV6();t.j41(0,"img",6),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(L);const j=t.XpG();return t.Njj(j.errorHandler())})("load",function(){t.eBV(L);const j=t.XpG();return t.Njj(j.successHandler())}),t.k0s()}if(2&w){const L=t.XpG();t.AVh("d-none",L.isLoading()),t.Y8G("src",t.bMT(1,4,L.src()),t.B4B)("alt",t.bMT(2,6,L.alt))}}function S(w,M){if(1&w&&(t.j41(0,"div",1)(1,"div",3)(2,"div",7),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&w){const L=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,L.placeholder)," ")}}let T=(()=>{class w{constructor(L,N,j,$){this.platformID=L,this.auth=N,this.authorizationService=j,this.fileService=$,this.defaultImage=null,this.src=(0,t.vPA)(void 0),this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=(0,t.vPA)(!0)}ngOnChanges(L){if((0,i.UE)(this.platformID)){if((0,C.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const N=this.contentHref;(0,C.a4)(N)?this.setSrc(N):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof v._?this.thumbnail:this.thumbnail instanceof E.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof v._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof E.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const L=this.src(),N=this.bitstream,j=N?._links?.content?.href;!this.retriedWithToken&&(0,C.a4)(j)&&L===j?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,f.n)($=>$?this.authorizationService.isAuthorized(y._.CanDownload,N.self):(0,e.of)(!1)),(0,f.n)($=>$?this.fileService.retrieveFileDownloadLink(j):(0,e.of)(null))).subscribe($=>{(0,C.a4)($)?this.setSrc($):this.setSrc(this.defaultImage)})):this.setSrc(L!==this.defaultImage?this.defaultImage:null)}setSrc(L){this.src()!==L&&(null!==L&&!1===this.isLoading()&&this.isLoading.set(!0),this.src.set(L),null===L&&!0===this.isLoading()&&this.isLoading.set(!1))}successHandler(){this.isLoading.set(!1)}static{this.\u0275fac=function(N){return new(N||w)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(p.AuthorizationDataService),t.rXU(O.E))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],[1,"thumbnail-content","outer"],[1,"thumbnail-content","img-fluid",3,"d-none","src","alt"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","src","alt"],[1,"thumbnail-placeholder","centered"]],template:function(N,j){1&N&&(t.j41(0,"div",0),t.DNE(1,R,4,1,"div",1)(2,h,3,8,"img",2)(3,S,5,3,"div",1),t.k0s()),2&N&&(t.AVh("limit-width",j.limitWidth),t.R7$(),t.vxM(j.isLoading()?1:-1),t.R7$(),t.vxM(null!==j.src()?2:-1),t.R7$(),t.vxM(null===j.src()&&!1===j.isLoading()?3:-1))},dependencies:[D.d,I.v,c.D9],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return w})()},68174:(U,b,n)=>{"use strict";n.d(b,{$:()=>R});var i=n(84572),t=n(96354),c=n(25558),e=n(96697),f=n(3601),m=n(87507),p=n(4093),y=n(80189),E=n(89777),v=n(9847),O=n(54438),C=n(7901),I=n(68018),D=n(60177);let R=(()=>{class h{constructor(T,w,M,L,N,j,$,k){this.route=T,this.workflowItemService=w,this.router=M,this.routeService=L,this.notificationsService=N,this.translationService=j,this.requestService=$,this.location=k}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(T=>T.wfi),(0,p.Bo)()),this.item$=this.wfi$.pipe((0,c.n)(T=>T.item.pipe((0,p.v7)(),(0,p.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,c.n)(([T])=>this.sendRequest(T.id))).subscribe(T=>{if(T){const w=this.translationService.get("workflow-item."+this.type+".notification.success.title"),M=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(w,M)}else{const w=this.translationService.get("workflow-item."+this.type+".notification.error.title"),M=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(w,M)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(T=>{let w={};if((0,E.Im)(T)&&(T="/mydspace",w=this.previousQueryParameters),T.split("?").length>1)for(const M of T.split("?")[1].split("&"))w[M.split("=")[0]]=decodeURIComponent(M.split("=")[1]);this.router.navigate([T.split("?")[0]],{queryParams:w})})}static{this.\u0275fac=function(w){return new(w||h)(O.rXU(C.nX),O.rXU(y.WorkflowItemDataService),O.rXU(C.Ix),O.rXU(m.v$),O.rXU(v.I),O.rXU(I.c$),O.rXU(f.B),O.rXU(D.aZ))}}static{this.\u0275dir=O.FsC({type:h,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return h})()},33063:(U,b,n)=>{"use strict";n.d(b,{BD:()=>m,BY:()=>E,HJ:()=>y,RS:()=>R,Rd:()=>O,Rk:()=>p,UM:()=>C,Uf:()=>v,XH:()=>f,YN:()=>I,b1:()=>D});var i=n(15343),t=n(5127);function f(T){return new t.t((0,i.Q)(),T,I).toString()}function m(T){return new t.t((0,i.Q)(),T,C).toString()}function p(T){return new t.t((0,i.Q)(),T,D).toString()}function y(T){return new t.t((0,i.Q)(),T,R).toString()}function E(T){return new t.t((0,i.cp)(),T,h).toString()}function v(T){return new t.t((0,i.cp)(),T,S).toString()}const O="edit",C="delete",I="view",D="sendback",R="advanced",h="delete",S="edit"},79096:(U,b,n)=>{"use strict";n.d(b,{Dr:()=>c,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),c=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},72001:(U,b,n)=>{"use strict";n.d(b,{$k:()=>m,Nv:()=>y});var i=n(58813),c=n(89777),e=n(93620),f=n(78544);const m=(E,v)=>{p(E,v),console.log("Environment extended with app config")},p=(E,v)=>{Object.assign(E,(0,i.all)([E,v],{arrayMerge:(C,I,D)=>I}))},y=()=>f.c.themes.find(E=>(0,c.Tn)(E.regex)&&(0,c.Tn)(E.handle)&&(0,c.Tn)(E.uuid))??{name:e.Q}},78544:(U,b,n)=>{"use strict";n.d(b,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,excludePathPatterns:[{pattern:"^/communities/[a-f0-9-]{36}/browse(/.*)?$",flag:"i"},{pattern:"^/collections/[a-f0-9-]{36}/browse(/.*)?$",flag:"i"},{pattern:"^/browse/"},{pattern:"^/search"},{pattern:"^/community-list$"},{pattern:"^/statistics/?"},{pattern:"^/admin/"},{pattern:"^/processes/?"},{pattern:"^/notifications/"},{pattern:"^/access-control/"},{pattern:"^/health$"}],enableSearchComponent:!1,enableBrowseComponent:!1}}},95532:(U,b,n)=>{"use strict";n.d(b,{C:()=>c,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),c=new i.nKC("RESPONSE")},87480:(U,b,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),f=n(345),m=n(74523),p=n(60177),y=n(7901),E=n(59640),v=n(84412),O=n(23294),C=n(35335),I=n(53993),D=n(96697),R=n(78544),h=n(94196),S=n(12321),T=n(19252),w=n(12238),M=n(29710),L=n(47874);const N=["*"];function j(d,_){}let $=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(r){return n(94634)(`./${r}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,47874))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:N,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,j,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var k=n(53186),K=n(68018),z=n(45124),V=n(89777),G=n(58003);const X=d=>({timeToExpire:d});let J=(()=>{class d{constructor(r,u,x){this.activeModal=r,this.authService=u,this.store=x,this.response=new e.bkB,this.timeToExpire=(R.c.auth.ui.timeUntilIdle+R.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},R.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new z.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(h.uR),e.rXU(E.il))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(u,x){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.closePressed()}),e.k0s()(),e.j41(5,"div",2)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",3)(10,"button",4),e.bIt("click",function(){return x.logOutPressed()}),e.nrm(11,"i",5),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return x.extendSessionPressed()}),e.nrm(15,"i",7),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(5),e.JRh(e.i5U(8,6,"idle-modal.info",e.eq3(13,X,x.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(13,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(17,11,"idle-modal.extend-session")," "))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();var q=n(87837),ne=n(73838);let ee=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei){this._window=r,this.document=u,this.platformId=x,this.themeService=Y,this.translate=Te,this.store=Pe,this.authService=it,this.router=Rt,this.cssService=bn,this.modalService=tn,this.modalConfig=ei,this.isRouteLoading$=new v.t(!1),this.notificationOptions=R.c.notifications,(0,p.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,E.Lt)(S.Gv),(0,O.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,C.c)(0)).subscribe(r=>{r instanceof y.Z?(0,w.S)(this.isRouteLoading$,!0):(r instanceof y.wF||r instanceof y.j5)&&(0,w.S)(this.isRouteLoading$,!1)})}onResize(r){this.dispatchWindowSize(r.target.innerWidth,r.target.innerHeight)}dispatchWindowSize(r,u){this.store.dispatch(new k.l(r,u))}trackIdleModal(){const r=this.authService.isUserIdle(),u=this.authService.isAuthenticated();r.pipe((0,I.E)(u)).subscribe(([x,Y])=>{if(x&&Y&&!this.idleModalOpen){const Te=this.modalService.open(J,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,Te.componentInstance.response.pipe((0,D.s)(1)).subscribe(Pe=>{Pe&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(T.lc),e.rXU(p.qQ),e.rXU(e.Agw),e.rXU(ne.Fs),e.rXU(K.c$),e.rXU(E.il),e.rXU(h.uR),e.rXU(y.Ix),e.rXU(q.J),e.rXU(G.Bq),e.rXU(G.LY))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-app"]],hostBindings:function(u,x){1&u&&e.bIt("resize",function(Te){return x.onResize(Te)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(u,x){1&u&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&u&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,x.isAuthBlocking$)||e.bMT(2,4,x.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,x.isRouteLoading$))},dependencies:[p.Jj,$],changeDetection:0})}}return d})();var fe=n(72001),ye=Object.defineProperty,ue=(d,_,r)=>((d,_,r)=>_ in d?ye(d,_,{enumerable:!0,configurable:!0,writable:!0,value:r}):d[_]=r)(d,"symbol"!=typeof _?_+"":_,r);const te="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGY9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIHAoZSl7cmV0dXJuWy4uLm5ldyBVaW50OEFycmF5KGUpXS5tYXAodD0+dC50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKS5qb2luKCIiKX1hc3luYyBmdW5jdGlvbiB3KGUsdCxyKXtyZXR1cm4gcChhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChyLnRvVXBwZXJDYXNlKCksZi5lbmNvZGUoZSt0KSkpfWZ1bmN0aW9uIGIoZSx0LHI9IlNIQS0yNTYiLG49MWU2LHM9MCl7Y29uc3Qgbz1uZXcgQWJvcnRDb250cm9sbGVyLGE9RGF0ZS5ub3coKTtyZXR1cm57cHJvbWlzZTooYXN5bmMoKT0+e2ZvcihsZXQgYz1zO2M8PW47Yys9MSl7aWYoby5zaWduYWwuYWJvcnRlZClyZXR1cm4gbnVsbDtpZihhd2FpdCB3KHQsYyxyKT09PWUpcmV0dXJue251bWJlcjpjLHRvb2s6RGF0ZS5ub3coKS1hfX1yZXR1cm4gbnVsbH0pKCksY29udHJvbGxlcjpvfX1mdW5jdGlvbiBoKGUpe2NvbnN0IHQ9YXRvYihlKSxyPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylyW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gcn1mdW5jdGlvbiBnKGUsdD0xMil7Y29uc3Qgcj1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IG49MDtuPHQ7bisrKXJbbl09ZSUyNTYsZT1NYXRoLmZsb29yKGUvMjU2KTtyZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBtKGUsdD0iIixyPTFlNixuPTApe2NvbnN0IHM9IkFFUy1HQ00iLG89bmV3IEFib3J0Q29udHJvbGxlcixhPURhdGUubm93KCksbD1hc3luYygpPT57Zm9yKGxldCB1PW47dTw9cjt1Kz0xKXtpZihvLnNpZ25hbC5hYm9ydGVkfHwhY3x8IXkpcmV0dXJuIG51bGw7dHJ5e2NvbnN0IGQ9YXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOnMsaXY6Zyh1KX0sYyx5KTtpZihkKXJldHVybntjbGVhclRleHQ6bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGQpLHRvb2s6RGF0ZS5ub3coKS1hfX1jYXRjaHt9fXJldHVybiBudWxsfTtsZXQgYz1udWxsLHk9bnVsbDt0cnl7eT1oKGUpO2NvbnN0IHU9YXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoIlNIQS0yNTYiLGYuZW5jb2RlKHQpKTtjPWF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLHUscywhMSxbImRlY3J5cHQiXSl9Y2F0Y2h7cmV0dXJue3Byb21pc2U6UHJvbWlzZS5yZWplY3QoKSxjb250cm9sbGVyOm99fXJldHVybntwcm9taXNlOmwoKSxjb250cm9sbGVyOm99fWxldCBpO29ubWVzc2FnZT1hc3luYyBlPT57Y29uc3R7dHlwZTp0LHBheWxvYWQ6cixzdGFydDpuLG1heDpzfT1lLmRhdGE7bGV0IG89bnVsbDtpZih0PT09ImFib3J0IilpPT1udWxsfHxpLmFib3J0KCksaT12b2lkIDA7ZWxzZSBpZih0PT09IndvcmsiKXtpZigib2JmdXNjYXRlZCJpbiByKXtjb25zdHtrZXk6YSxvYmZ1c2NhdGVkOmx9PXJ8fHt9O289YXdhaXQgbShsLGEscyxuKX1lbHNle2NvbnN0e2FsZ29yaXRobTphLGNoYWxsZW5nZTpsLHNhbHQ6Y309cnx8e307bz1iKGwsYyxhLHMsbil9aT1vLmNvbnRyb2xsZXIsby5wcm9taXNlLnRoZW4oYT0+e3NlbGYucG9zdE1lc3NhZ2UoYSYmey4uLmEsd29ya2VyOiEwfSl9KX19fSkoKTsK",be=typeof self<"u"&&self.Blob&&new Blob([(d=te,Uint8Array.from(atob(d),_=>_.charCodeAt(0)))],{type:"text/javascript;charset=utf-8"});var d;function me(d){let _;try{if(_=be&&(self.URL||self.webkitURL).createObjectURL(be),!_)throw"";const r=new Worker(_,{name:d?.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(_)}),r}catch{return new Worker("data:text/javascript;base64,"+te,{name:d?.name})}finally{_&&(self.URL||self.webkitURL).revokeObjectURL(_)}}function re(){}function le(d){return d()}function ce(){return Object.create(null)}function ve(d){d.forEach(le)}function ze(d){return"function"==typeof d}function Se(d,_){return d!=d?_==_:d!==_||d&&"object"==typeof d||"function"==typeof d}function st(d,_,r,u){return d[1]&&u?function Z(d,_){for(const r in _)d[r]=_[r];return d}(r.ctx.slice(),d[1](u(_))):r.ctx}function Ge(d,_){d.appendChild(_)}function Ee(d,_,r){d.insertBefore(_,r||null)}function je(d){d.parentNode&&d.parentNode.removeChild(d)}function mt(d){return document.createElement(d)}function vn(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function jn(){return function hn(d){return document.createTextNode(d)}(" ")}function bt(d,_,r,u){return d.addEventListener(_,r,u),()=>d.removeEventListener(_,r,u)}function St(d,_,r){null==r?d.removeAttribute(_):d.getAttribute(_)!==r&&d.setAttribute(_,r)}function gt(d,_,r){d.classList.toggle(_,!!r)}let Ct;function $t(d){Ct=d}function yt(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}const Ht=[],Qe=[];let ke=[];const Le=[],Xe=Promise.resolve();let ct=!1;function Wt(){ct||(ct=!0,Xe.then(Ft))}function xt(d){ke.push(d)}const nn=new Set;let ht=0;function Ft(){if(0!==ht)return;const d=Ct;do{try{for(;ht<Ht.length;){const _=Ht[ht];ht++,$t(_),At(_.$$)}}catch(_){throw Ht.length=0,ht=0,_}for($t(null),Ht.length=0,ht=0;Qe.length;)Qe.pop()();for(let _=0;_<ke.length;_+=1){const r=ke[_];nn.has(r)||(nn.add(r),r())}ke.length=0}while(Ht.length);for(;Le.length;)Le.pop()();ct=!1,nn.clear(),$t(d)}function At(d){if(null!==d.fragment){d.update(),ve(d.before_update);const _=d.dirty;d.dirty=[-1],d.fragment&&d.fragment.p(d.ctx,_),d.after_update.forEach(xt)}}const Vn=new Set;let ai;function Dt(d,_){d&&d.i&&(Vn.delete(d),d.i(_))}function ts(d,_,r,u){var x;const Y=null==(x=r[d])?void 0:x.type;if(_="Boolean"===Y&&"boolean"!=typeof _?null!=_:_,!u||!r[d])return _;if("toAttribute"===u)switch(Y){case"Object":case"Array":return null==_?null:JSON.stringify(_);case"Boolean":return _?"":null;case"Number":return _??null;default:return _}else switch(Y){case"Object":case"Array":return _&&JSON.parse(_);case"Boolean":default:return _;case"Number":return null!=_?+_:_}}"function"==typeof HTMLElement&&(ai=class extends HTMLElement{constructor(d,_,r){super(),ue(this,"$$ctor"),ue(this,"$$s"),ue(this,"$$c"),ue(this,"$$cn",!1),ue(this,"$$d",{}),ue(this,"$$r",!1),ue(this,"$$p_d",{}),ue(this,"$$l",{}),ue(this,"$$l_u",new Map),this.$$ctor=d,this.$$s=_,r&&this.attachShadow({mode:"open"})}addEventListener(d,_,r){if(this.$$l[d]=this.$$l[d]||[],this.$$l[d].push(_),this.$$c){const u=this.$$c.$on(d,_);this.$$l_u.set(_,u)}super.addEventListener(d,_,r)}removeEventListener(d,_,r){if(super.removeEventListener(d,_,r),this.$$c){const u=this.$$l_u.get(_);u&&(u(),this.$$l_u.delete(_))}}connectedCallback(){var d=this;return(0,m.A)(function*(){if(d.$$cn=!0,!d.$$c){let _=function(Y){return()=>{let Te;return{c:function(){Te=mt("slot"),"default"!==Y&&St(Te,"name",Y)},m:function(Pe,it){Ee(Pe,Te,it)},d:function(Pe){Pe&&je(Te)}}}};if(yield Promise.resolve(),!d.$$cn||d.$$c)return;const r={},u=function we(d){const _={};return d.childNodes.forEach(r=>{_[r.slot||"default"]=!0}),_}(d);for(const Y of d.$$s)Y in u&&(r[Y]=[_(Y)]);for(const Y of d.attributes){const Te=d.$$g_p(Y.name);Te in d.$$d||(d.$$d[Te]=ts(Te,Y.value,d.$$p_d,"toProp"))}for(const Y in d.$$p_d)!(Y in d.$$d)&&void 0!==d[Y]&&(d.$$d[Y]=d[Y],delete d[Y]);d.$$c=new d.$$ctor({target:d.shadowRoot||d,props:{...d.$$d,$$slots:r,$$scope:{ctx:[]}}});const x=()=>{d.$$r=!0;for(const Y in d.$$p_d)if(d.$$d[Y]=d.$$c.$$.ctx[d.$$c.$$.props[Y]],d.$$p_d[Y].reflect){const Te=ts(Y,d.$$d[Y],d.$$p_d,"toAttribute");null==Te?d.removeAttribute(d.$$p_d[Y].attribute||Y):d.setAttribute(d.$$p_d[Y].attribute||Y,Te)}d.$$r=!1};d.$$c.$$.after_update.push(x),x();for(const Y in d.$$l)for(const Te of d.$$l[Y]){const Pe=d.$$c.$on(Y,Te);d.$$l_u.set(Te,Pe)}d.$$l={}}})()}attributeChangedCallback(d,_,r){var u;this.$$r||(d=this.$$g_p(d),this.$$d[d]=ts(d,r,this.$$p_d,"toProp"),null==(u=this.$$c)||u.$set({[d]:this.$$d[d]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(d){return Object.keys(this.$$p_d).find(_=>this.$$p_d[_].attribute===d||!this.$$p_d[_].attribute&&_.toLowerCase()===d)||d}});class si{constructor(){ue(this,"$$"),ue(this,"$$set")}$destroy(){(function Dn(d,_){const r=d.$$;null!==r.fragment&&(function On(d){const _=[],r=[];ke.forEach(u=>-1===d.indexOf(u)?_.push(u):r.push(u)),r.forEach(u=>u()),ke=_}(r.after_update),ve(r.on_destroy),r.fragment&&r.fragment.d(_),r.on_destroy=r.fragment=null,r.ctx=[])})(this,1),this.$destroy=re}$on(_,r){if(!ze(r))return re;const u=this.$$.callbacks[_]||(this.$$.callbacks[_]=[]);return u.push(r),()=>{const x=u.indexOf(r);-1!==x&&u.splice(x,1)}}$set(_){this.$$set&&!function et(d){return 0===Object.keys(d).length}(_)&&(this.$$.skip_bound=!0,this.$$set(_),this.$$.skip_bound=!1)}}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const cn=new TextEncoder;function Oi(){return Oi=(0,m.A)(function*(d,_="SHA-256",r=1e5){const u=Date.now().toString(16);return d||(d=Math.round(Math.random()*r)),{algorithm:_,challenge:yield ps(u,d,_),salt:u,signature:""}}),Oi.apply(this,arguments)}function ps(d,_,r){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,m.A)(function*(d,_,r){return function gn(d){return[...new Uint8Array(d)].map(_=>_.toString(16).padStart(2,"0")).join("")}(yield crypto.subtle.digest(r.toUpperCase(),cn.encode(d+_)))}),Ri.apply(this,arguments)}function Ai(d,_,r="SHA-256",u=1e6,x=0){const Y=new AbortController,Te=Date.now();return{promise:(0,m.A)(function*(){for(let Pe=x;Pe<=u;Pe+=1){if(Y.signal.aborted)return null;if((yield ps(_,Pe,r))===d)return{number:Pe,took:Date.now()-Te}}return null})(),controller:Y}}function Jt(d,_=12){const r=new Uint8Array(_);for(let u=0;u<_;u++)r[u]=d%256,d=Math.floor(d/256);return r}function Fe(){return Fe=(0,m.A)(function*(d,_="",r=1e6,u=0){const x="AES-GCM",Y=new AbortController,Te=Date.now(),Pe=function(){var bn=(0,m.A)(function*(){for(let tn=u;tn<=r;tn+=1){if(Y.signal.aborted||!it||!Rt)return null;try{const ei=yield crypto.subtle.decrypt({name:x,iv:Jt(tn)},it,Rt);if(ei)return{clearText:(new TextDecoder).decode(ei),took:Date.now()-Te}}catch{}}return null});return function(){return bn.apply(this,arguments)}}();let it=null,Rt=null;try{Rt=function Si(d){const _=atob(d),r=new Uint8Array(_.length);for(let u=0;u<_.length;u++)r[u]=_.charCodeAt(u);return r}(d);const bn=yield crypto.subtle.digest("SHA-256",cn.encode(_));it=yield crypto.subtle.importKey("raw",bn,x,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:Y}}return{promise:Pe(),controller:Y}}),Fe.apply(this,arguments)}var Ye=(d=>(d.ERROR="error",d.VERIFIED="verified",d.VERIFYING="verifying",d.UNVERIFIED="unverified",d.EXPIRED="expired",d))(Ye||{});function _t(d){!function wt(d,_,r){const u=function ot(d){if(!d)return document;const _=d.getRootNode?d.getRootNode():d.ownerDocument;return _&&_.host?_:d.ownerDocument}(d);if(!u.getElementById(_)){const x=mt("style");x.id=_,x.textContent=r,function Tt(d,_){Ge(d.head||d,_)}(u,x)}}(d,"svelte-ddsc3z",'.altcha.svelte-ddsc3z.svelte-ddsc3z{background:var(--altcha-color-base, transparent);border:var(--altcha-border-width, 1px) solid var(--altcha-color-border, #a0a0a0);border-radius:var(--altcha-border-radius, 3px);color:var(--altcha-color-text, currentColor);display:flex;flex-direction:column;max-width:var(--altcha-max-width, 260px);position:relative;text-align:left}.altcha.svelte-ddsc3z.svelte-ddsc3z:focus-within{border-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating].svelte-ddsc3z.svelte-ddsc3z{background:var(--altcha-color-base, white);display:none;filter:drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.2));left:-100%;position:fixed;top:-100%;width:var(--altcha-max-width, 260px);z-index:999999}.altcha[data-floating=top].svelte-ddsc3z .altcha-anchor-arrow.svelte-ddsc3z{border-bottom-color:transparent;border-top-color:var(--altcha-color-border, #a0a0a0);bottom:-12px;top:auto}.altcha[data-floating=bottom].svelte-ddsc3z.svelte-ddsc3z:focus-within::after{border-bottom-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating=top].svelte-ddsc3z.svelte-ddsc3z:focus-within::after{border-top-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating].svelte-ddsc3z.svelte-ddsc3z:not([data-state=unverified]){display:block}.altcha-anchor-arrow.svelte-ddsc3z.svelte-ddsc3z{border:6px solid transparent;border-bottom-color:var(--altcha-color-border, #a0a0a0);content:"";height:0;left:12px;position:absolute;top:-12px;width:0}.altcha-main.svelte-ddsc3z.svelte-ddsc3z{align-items:center;display:flex;gap:0.4rem;padding:0.7rem}.altcha-label.svelte-ddsc3z.svelte-ddsc3z{flex-grow:1}.altcha-label.svelte-ddsc3z label.svelte-ddsc3z{cursor:pointer}.altcha-logo.svelte-ddsc3z.svelte-ddsc3z{color:currentColor;opacity:0.3}.altcha-logo.svelte-ddsc3z.svelte-ddsc3z:hover{opacity:1}.altcha-error.svelte-ddsc3z.svelte-ddsc3z{color:var(--altcha-color-error-text, #f23939);display:flex;font-size:0.85rem;gap:0.3rem;padding:0 0.7rem 0.7rem}.altcha-footer.svelte-ddsc3z.svelte-ddsc3z{align-items:center;background-color:var(--altcha-color-footer-bg, transparent);display:flex;font-size:0.75rem;opacity:0.4;padding:0.2rem 0.7rem;text-align:right}.altcha-footer.svelte-ddsc3z.svelte-ddsc3z:hover{opacity:1}.altcha-footer.svelte-ddsc3z>.svelte-ddsc3z:first-child{flex-grow:1}.altcha-footer.svelte-ddsc3z a{color:currentColor}.altcha-checkbox.svelte-ddsc3z.svelte-ddsc3z{display:flex;align-items:center;height:24px;width:24px}.altcha-checkbox.svelte-ddsc3z input.svelte-ddsc3z{width:18px;height:18px;margin:0}.altcha-hidden.svelte-ddsc3z.svelte-ddsc3z{display:none}.altcha-spinner.svelte-ddsc3z.svelte-ddsc3z{animation:svelte-ddsc3z-altcha-spinner 0.75s infinite linear;transform-origin:center}@keyframes svelte-ddsc3z-altcha-spinner{100%{transform:rotate(360deg)}}')}function Qt(d){let _,r,u;return{c(){_=vn("svg"),r=vn("path"),u=vn("path"),St(r,"d","M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"),St(r,"fill","currentColor"),St(r,"opacity",".25"),St(u,"d","M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z"),St(u,"fill","currentColor"),St(u,"class","altcha-spinner svelte-ddsc3z"),St(_,"width","24"),St(_,"height","24"),St(_,"viewBox","0 0 24 24"),St(_,"xmlns","http://www.w3.org/2000/svg")},m(x,Y){Ee(x,_,Y),Ge(_,r),Ge(_,u)},d(x){x&&je(_)}}}function En(d){let _,u,r=d[11].label+"";return{c(){_=mt("label"),St(_,"for",u=d[4]+"_checkbox"),St(_,"class","svelte-ddsc3z")},m(x,Y){Ee(x,_,Y),_.innerHTML=r},p(x,Y){2048&Y[0]&&r!==(r=x[11].label+"")&&(_.innerHTML=r),16&Y[0]&&u!==(u=x[4]+"_checkbox")&&St(_,"for",u)},d(x){x&&je(_)}}}function Mn(d){let _,r=d[11].verifying+"";return{c(){_=mt("span")},m(u,x){Ee(u,_,x),_.innerHTML=r},p(u,x){2048&x[0]&&r!==(r=u[11].verifying+"")&&(_.innerHTML=r)},d(u){u&&je(_)}}}function Ln(d){let _,u,x,r=d[11].verified+"";return{c(){_=mt("span"),u=jn(),x=mt("input"),St(x,"type","hidden"),St(x,"name",d[4]),x.value=d[6]},m(Y,Te){Ee(Y,_,Te),_.innerHTML=r,Ee(Y,u,Te),Ee(Y,x,Te)},p(Y,Te){2048&Te[0]&&r!==(r=Y[11].verified+"")&&(_.innerHTML=r),16&Te[0]&&St(x,"name",Y[4]),64&Te[0]&&(x.value=Y[6])},d(Y){Y&&(je(_),je(u),je(x))}}}function Yn(d){let _,r,u,x,Y,Te,Pe;return{c(){_=mt("div"),r=mt("a"),u=vn("svg"),x=vn("path"),Y=vn("path"),Te=vn("path"),St(x,"d","M2.33955 16.4279C5.88954 20.6586 12.1971 21.2105 16.4279 17.6604C18.4699 15.947 19.6548 13.5911 19.9352 11.1365L17.9886 10.4279C17.8738 12.5624 16.909 14.6459 15.1423 16.1284C11.7577 18.9684 6.71167 18.5269 3.87164 15.1423C1.03163 11.7577 1.4731 6.71166 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577C16.9767 5.86872 17.5322 7.02798 17.804 8.2324L19.9522 9.01429C19.7622 7.07737 19.0059 5.17558 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956C-0.658625 5.88958 -1.21046 12.1971 2.33955 16.4279Z"),St(x,"fill","currentColor"),St(Y,"d","M3.57212 2.33956C1.65755 3.94607 0.496389 6.11731 0.12782 8.40523L2.04639 9.13961C2.26047 7.15832 3.21057 5.25375 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577L13.8302 6.78606L19.9633 9.13364C19.7929 7.15555 19.0335 5.20847 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956Z"),St(Y,"fill","currentColor"),St(Te,"d","M7 10H5C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10H13C13 11.6569 11.6569 13 10 13C8.3431 13 7 11.6569 7 10Z"),St(Te,"fill","currentColor"),St(u,"width","22"),St(u,"height","22"),St(u,"viewBox","0 0 20 20"),St(u,"fill","none"),St(u,"xmlns","http://www.w3.org/2000/svg"),St(r,"href",Ji),St(r,"target","_blank"),St(r,"class","altcha-logo svelte-ddsc3z"),St(r,"aria-label",Pe=d[11].ariaLinkLabel)},m(it,Rt){Ee(it,_,Rt),Ge(_,r),Ge(r,u),Ge(u,x),Ge(u,Y),Ge(u,Te)},p(it,Rt){2048&Rt[0]&&Pe!==(Pe=it[11].ariaLinkLabel)&&St(r,"aria-label",Pe)},d(it){it&&je(_)}}}function Jn(d){let _,r,u,x;function Y(it,Rt){return it[7]===Ye.EXPIRED?Bi:ki}let Te=Y(d),Pe=Te(d);return{c(){_=mt("div"),r=vn("svg"),u=vn("path"),x=jn(),Pe.c(),St(u,"stroke-linecap","round"),St(u,"stroke-linejoin","round"),St(u,"d","M6 18L18 6M6 6l12 12"),St(r,"width","14"),St(r,"height","14"),St(r,"xmlns","http://www.w3.org/2000/svg"),St(r,"fill","none"),St(r,"viewBox","0 0 24 24"),St(r,"stroke-width","1.5"),St(r,"stroke","currentColor"),St(_,"class","altcha-error svelte-ddsc3z")},m(it,Rt){Ee(it,_,Rt),Ge(_,r),Ge(r,u),Ge(_,x),Pe.m(_,null)},p(it,Rt){Te===(Te=Y(it))&&Pe?Pe.p(it,Rt):(Pe.d(1),Pe=Te(it),Pe&&(Pe.c(),Pe.m(_,null)))},d(it){it&&je(_),Pe.d()}}}function ki(d){let _,r=d[11].error+"";return{c(){_=mt("div"),St(_,"title",d[5])},m(u,x){Ee(u,_,x),_.innerHTML=r},p(u,x){2048&x[0]&&r!==(r=u[11].error+"")&&(_.innerHTML=r),32&x[0]&&St(_,"title",u[5])},d(u){u&&je(_)}}}function Bi(d){let _,r=d[11].expired+"";return{c(){_=mt("div"),St(_,"title",d[5])},m(u,x){Ee(u,_,x),_.innerHTML=r},p(u,x){2048&x[0]&&r!==(r=u[11].expired+"")&&(_.innerHTML=r),32&x[0]&&St(_,"title",u[5])},d(u){u&&je(_)}}}function is(d){let _,r,u=d[11].footer+"";return{c(){_=mt("div"),r=mt("div"),St(r,"class","svelte-ddsc3z"),St(_,"class","altcha-footer svelte-ddsc3z")},m(x,Y){Ee(x,_,Y),Ge(_,r),r.innerHTML=u},p(x,Y){2048&Y[0]&&u!==(u=x[11].footer+"")&&(r.innerHTML=u)},d(x){x&&je(_)}}}function us(d){let _;return{c(){_=mt("div"),St(_,"class","altcha-anchor-arrow svelte-ddsc3z")},m(r,u){Ee(r,_,u),d[48](_)},p:re,d(r){r&&je(_),d[48](null)}}}function fs(d){let _,r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei,ri,zn,Zn,Xi,Es;const Gi=d[46].default,Cs=function $e(d,_,r,u){if(d){const x=st(d,_,r,u);return d[0](x)}}(Gi,d,d[45],null);let Ps=d[7]===Ye.VERIFYING&&Qt();function jr(es,go){return es[7]===Ye.VERIFIED?Ln:es[7]===Ye.VERIFYING?Mn:En}let kr=jr(d),Co=kr(d),eo=(!0!==d[3]||d[12])&&Yn(d),Ko=(d[5]||d[7]===Ye.EXPIRED)&&Jn(d),To=d[11].footer&&(!0!==d[2]||d[12])&&is(d),Er=d[1]&&us(d);return{c(){Cs&&Cs.c(),_=jn(),r=mt("div"),u=mt("div"),Ps&&Ps.c(),x=jn(),Y=mt("div"),Te=mt("input"),Rt=jn(),bn=mt("div"),Co.c(),tn=jn(),eo&&eo.c(),ei=jn(),Ko&&Ko.c(),ri=jn(),To&&To.c(),zn=jn(),Er&&Er.c(),St(Te,"type","checkbox"),St(Te,"id",Pe=d[4]+"_checkbox"),Te.required=it="onsubmit"!==d[0]&&(!d[1]||"off"!==d[0]),St(Te,"class","svelte-ddsc3z"),St(Y,"class","altcha-checkbox svelte-ddsc3z"),gt(Y,"altcha-hidden",d[7]===Ye.VERIFYING),St(bn,"class","altcha-label svelte-ddsc3z"),St(u,"class","altcha-main svelte-ddsc3z"),St(r,"class","altcha svelte-ddsc3z"),St(r,"data-state",d[7]),St(r,"data-floating",d[1])},m(es,go){Cs&&Cs.m(es,go),Ee(es,_,go),Ee(es,r,go),Ge(r,u),Ps&&Ps.m(u,null),Ge(u,x),Ge(u,Y),Ge(Y,Te),Te.checked=d[8],Ge(u,Rt),Ge(u,bn),Co.m(bn,null),Ge(u,tn),eo&&eo.m(u,null),Ge(r,ei),Ko&&Ko.m(r,null),Ge(r,ri),To&&To.m(r,null),Ge(r,zn),Er&&Er.m(r,null),d[49](r),Zn=!0,Xi||(Es=[bt(Te,"change",d[47]),bt(Te,"change",d[13]),bt(Te,"invalid",d[14])],Xi=!0)},p(es,go){Cs&&Cs.p&&(!Zn||16384&go[1])&&function De(d,_,r,u,x,Y){if(x){const Te=st(_,r,u,Y);d.p(Te,x)}}(Cs,Gi,es,es[45],Zn?function We(d,_,r,u){if(d[2]&&u){const x=d[2](u(r));if(void 0===_.dirty)return x;if("object"==typeof x){const Y=[],Te=Math.max(_.dirty.length,x.length);for(let Pe=0;Pe<Te;Pe+=1)Y[Pe]=_.dirty[Pe]|x[Pe];return Y}return _.dirty|x}return _.dirty}(Gi,es[45],go,null):function ut(d){if(d.ctx.length>32){const _=[],r=d.ctx.length/32;for(let u=0;u<r;u++)_[u]=-1;return _}return-1}(es[45]),null),es[7]===Ye.VERIFYING?Ps||(Ps=Qt(),Ps.c(),Ps.m(u,x)):Ps&&(Ps.d(1),Ps=null),(!Zn||16&go[0]&&Pe!==(Pe=es[4]+"_checkbox"))&&St(Te,"id",Pe),(!Zn||3&go[0]&&it!==(it="onsubmit"!==es[0]&&(!es[1]||"off"!==es[0])))&&(Te.required=it),256&go[0]&&(Te.checked=es[8]),(!Zn||128&go[0])&&gt(Y,"altcha-hidden",es[7]===Ye.VERIFYING),kr===(kr=jr(es))&&Co?Co.p(es,go):(Co.d(1),Co=kr(es),Co&&(Co.c(),Co.m(bn,null))),!0!==es[3]||es[12]?eo?eo.p(es,go):(eo=Yn(es),eo.c(),eo.m(u,null)):eo&&(eo.d(1),eo=null),es[5]||es[7]===Ye.EXPIRED?Ko?Ko.p(es,go):(Ko=Jn(es),Ko.c(),Ko.m(r,ri)):Ko&&(Ko.d(1),Ko=null),es[11].footer&&(!0!==es[2]||es[12])?To?To.p(es,go):(To=is(es),To.c(),To.m(r,zn)):To&&(To.d(1),To=null),es[1]?Er?Er.p(es,go):(Er=us(es),Er.c(),Er.m(r,null)):Er&&(Er.d(1),Er=null),(!Zn||128&go[0])&&St(r,"data-state",es[7]),(!Zn||2&go[0])&&St(r,"data-floating",es[1])},i(es){Zn||(Dt(Cs,es),Zn=!0)},o(es){(function vt(d,_){if(d&&d.o){if(Vn.has(d))return;Vn.add(d),undefined.c.push(()=>{Vn.delete(d)}),d.o(_)}})(Cs,es),Zn=!1},d(es){es&&(je(_),je(r)),Cs&&Cs.d(es),Ps&&Ps.d(),Co.d(),eo&&eo.d(),Ko&&Ko.d(),To&&To.d(),Er&&Er.d(),d[49](null),Xi=!1,ve(Es)}}}const Ms="Visit Altcha.org",Ji="https://altcha.org/";function hs(d){return JSON.parse(d)}function jt(d,_,r){var u,x;let Y,Te,Pe,it,{$$slots:Rt={},$$scope:bn}=_,{auto:tn}=_,{blockspam:ei}=_,{challengeurl:ri}=_,{challengejson:zn}=_,{debug:Zn=!1}=_,{delay:Xi=0}=_,{expire:Es}=_,{floating:Gi}=_,{floatinganchor:Cs}=_,{floatingoffset:Ps}=_,{hidefooter:jr=!1}=_,{hidelogo:kr=!1}=_,{name:Co="altcha"}=_,{maxnumber:eo=1e6}=_,{mockerror:Ko=!1}=_,{obfuscated:To}=_,{plugins:Er}=_,{refetchonexpire:es=!0}=_,{spamfilter:go=!1}=_,{strings:xh}=_,{test:qa=!1}=_,{verifyurl:ji}=_,{workers:Zi=Math.min(16,navigator.hardwareConcurrency||8)}=_,{workerurl:as}=_;const Ws=function Yt(){const d=yt();return(_,r,{cancelable:u=!1}={})=>{const x=d.$$.callbacks[_];if(x){const Y=function an(d,_,{bubbles:r=!1,cancelable:u=!1}={}){return new CustomEvent(d,{detail:_,bubbles:r,cancelable:u})}(_,r,{cancelable:u});return x.slice().forEach(Te=>{Te.call(d,Y)}),!Y.defaultPrevented}return!0}}(),Pr=["SHA-256","SHA-384","SHA-512"],gl=null==(x=null==(u=document.documentElement.lang)?void 0:u.split("-"))?void 0:x[0];let bo,Kr=!1,io=null,mc=null,Ho=null,Rr=null,ya=null,Cr=null,Pl=[],Zo=Ye.UNVERIFIED;function e1(nt,Ut){return btoa(JSON.stringify({algorithm:nt.algorithm,challenge:nt.challenge,number:Ut.number,salt:nt.salt,signature:nt.signature,test:!!qa||void 0,took:Ut.took}))}function Gx(){ri&&es&&Zo===Ye.VERIFIED?ie():A(Ye.EXPIRED,it.expired)}function t1(){return t1=(0,m.A)(function*(){var nt;if(Ko)throw br("mocking error"),new Error("Mocked error.");if(Te)return br("using provided json data"),Te;if(qa)return br("generating test challenge",{test:qa}),function pi(d){return Oi.apply(this,arguments)}("boolean"!=typeof qa?+qa:void 0);{if(!ri&&Ho){const Ni=Ho.getAttribute("action");null!=Ni&&Ni.includes("/form/")&&r(15,ri=Ni+"/altcha")}if(!ri)throw new Error("Attribute challengeurl not set.");br("fetching challenge from",ri);const Ut=yield fetch(ri,{headers:go?{"x-altcha-spam-filter":"1"}:{}});if(200!==Ut.status)throw new Error(`Server responded with ${Ut.status}.`);const ln=Ut.headers.get("Expires"),Fn=Ut.headers.get("X-Altcha-Config"),ti=yield Ut.json(),li=new URLSearchParams(null==(nt=ti.salt.split("?"))?void 0:nt[1]),Un=li.get("expires")||li.get("expire");if(Un){const Ni=new Date(1e3*+Un),Ts=isNaN(Ni.getTime())?0:Ni.getTime()-Date.now();Ts>0&&Fv(Ts)}if(Fn)try{const Ni=JSON.parse(Fn);Ni&&"object"==typeof Ni&&(Ni.verifyurl&&(Ni.verifyurl=new URL(Ni.verifyurl,new URL(ri)).toString()),vM(Ni))}catch(Ni){br("unable to configure from X-Altcha-Config",Ni)}if(!Es&&null!=ln&&ln.length){const Ni=Date.parse(ln);if(Ni){const Ts=Ni-Date.now();Ts>0&&Fv(Ts)}}return ti}}),t1.apply(this,arguments)}function br(...nt){(Zn||nt.some(Ut=>Ut instanceof Error))&&console[nt[0]instanceof Error?"error":"log"]("ALTCHA",`[name=${Co}]`,...nt)}function hM(nt){const Ut=nt.target;Gi&&Ut&&!bo.contains(Ut)&&(Zo===Ye.VERIFIED||"off"===tn&&Zo===Ye.UNVERIFIED)&&r(9,bo.style.display="none",bo)}function pM(){Gi&&Zo!==Ye.UNVERIFIED&&n1()}function Yx(nt){Zo===Ye.UNVERIFIED&&ie()}function Jx(nt){Ho&&"onsubmit"===tn?Zo===Ye.UNVERIFIED?(nt.preventDefault(),nt.stopPropagation(),ie().then(()=>{Ho?.requestSubmit()})):Zo!==Ye.VERIFIED&&(nt.preventDefault(),nt.stopPropagation(),Zo===Ye.VERIFYING&&Zx()):Ho&&Gi&&"off"===tn&&Zo===Ye.UNVERIFIED&&(nt.preventDefault(),nt.stopPropagation(),r(9,bo.style.display="block",bo),n1())}function Qx(){A()}function Zx(){Zo===Ye.VERIFYING&&it.waitAlert&&alert(it.waitAlert)}function e2(){Gi&&n1()}function n1(nt=20){if(bo)if(mc||(mc=(Cs?document.querySelector(Cs):Ho?.querySelector('input[type="submit"], button[type="submit"], button:not([type="button"]):not([type="reset"])'))||Ho),mc){const Ut=parseInt(Ps,10)||12,ln=mc.getBoundingClientRect(),Fn=bo.getBoundingClientRect(),ti=document.documentElement.clientHeight,li=document.documentElement.clientWidth,Un="auto"===Gi?ln.bottom+Fn.height+Ut+nt>ti:"top"===Gi,Ni=Math.max(nt,Math.min(li-nt-Fn.width,ln.left+ln.width/2-Fn.width/2));if(r(9,bo.style.top=Un?ln.top-(Fn.height+Ut)+"px":`${ln.bottom+Ut}px`,bo),r(9,bo.style.left=`${Ni}px`,bo),bo.setAttribute("data-floating",Un?"top":"bottom"),io){const Ts=io.getBoundingClientRect();r(10,io.style.left=ln.left-Ni+ln.width/2-Ts.width/2+"px",io)}}else br("unable to find floating anchor element")}function fM(){return(fM=(0,m.A)(function*(nt){if(!ji)throw new Error("Attribute verifyurl not set.");br("requesting server verification from",ji);const Ut={payload:nt};if(go){const{blockedCountries:ti,classifier:li,disableRules:Un,email:Ni,expectedLanguages:Ts,expectedCountries:Po,fields:cr,ipAddress:Ea,text:af,timeZone:r1}=function Hx(){return"ipAddress"===go?{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:!1,expectedCountries:void 0,expectedLanguages:void 0,fields:!1,ipAddress:void 0,text:void 0,timeZone:void 0}:"object"==typeof go?go:{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:void 0,expectedCountries:void 0,expectedLanguages:void 0,fields:void 0,ipAddress:void 0,text:void 0,timeZone:void 0}}();Ut.blockedCountries=ti,Ut.classifier=li,Ut.disableRules=Un,Ut.email=!1===Ni?void 0:function RL(nt){var Ut;const ln=Ho?.querySelector("string"==typeof nt?`input[name="${nt}"]`:'input[type="email"]:not([data-no-spamfilter])');return(null==(Ut=ln?.value)?void 0:Ut.slice(ln.value.indexOf("@")))||void 0}(Ni),Ut.expectedCountries=Po,Ut.expectedLanguages=Ts||(gl?[gl]:void 0),Ut.fields=!1===cr?void 0:function zx(nt){return[...Ho?.querySelectorAll(null!=nt&&nt.length?nt.map(Ut=>`input[name="${Ut}"]`).join(", "):'input[type="text"]:not([data-no-spamfilter]), textarea:not([data-no-spamfilter])')||[]].reduce((Ut,ln)=>{const Fn=ln.name,ti=ln.value;return Fn&&ti&&(Ut[Fn]=/\n/.test(ti)?ti.replace(new RegExp("(?<!\\r)\\n","g"),"\r\n"):ti),Ut},{})}(cr),Ut.ipAddress=!1===Ea?void 0:Ea||"auto",Ut.text=af,Ut.timeZone=!1===r1?void 0:r1||function qt(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}()}const ln=yield fetch(ji,{body:JSON.stringify(Ut),headers:{"content-type":"application/json"},method:"POST"});if(200!==ln.status)throw new Error(`Server responded with ${ln.status}.`);const Fn=yield ln.json();if(null!=Fn&&Fn.payload&&r(6,Cr=Fn.payload),Ws("serververification",Fn),ei&&"BAD"===Fn.classification)throw new Error("SpamFilter returned negative classification.")})).apply(this,arguments)}function Fv(nt){br("expire",nt),ya&&(clearTimeout(ya),ya=null),nt<1?Gx():ya=setTimeout(Gx,nt)}function mM(nt){br("floating",nt),Gi!==nt&&(r(9,bo.style.left="",bo),r(9,bo.style.top="",bo)),r(1,Gi=!0===nt||""===nt?"auto":!1===nt||"false"===nt?void 0:Gi),Gi?(tn||r(0,tn="onsubmit"),document.addEventListener("scroll",pM),document.addEventListener("click",hM),window.addEventListener("resize",e2)):"onsubmit"===tn&&r(0,tn=void 0)}function gM(nt){if(!nt.algorithm)throw new Error("Invalid challenge. Property algorithm is missing.");if(void 0===nt.signature)throw new Error("Invalid challenge. Property signature is missing.");if(!Pr.includes(nt.algorithm.toUpperCase()))throw new Error(`Unknown algorithm value. Allowed values: ${Pr.join(", ")}`);if(!nt.challenge||nt.challenge.length<40)throw new Error("Challenge is too short. Min. 40 chars.");if(!nt.salt||nt.salt.length<10)throw new Error("Salt is too short. Min. 10 chars.")}function _M(nt){return s1.apply(this,arguments)}function s1(){return s1=(0,m.A)(function*(nt){let Ut=null;if("Worker"in window){try{Ut=yield function t2(nt){return Bv.apply(this,arguments)}(nt,nt.maxnumber)}catch(ln){br(ln)}if(void 0!==Ut?.number||"obfuscated"in nt)return{data:nt,solution:Ut}}if("obfuscated"in nt){const ln=yield function Pt(d){return Fe.apply(this,arguments)}(nt.obfuscated,nt.key,nt.maxnumber);return{data:nt,solution:yield ln.promise}}return{data:nt,solution:yield Ai(nt.challenge,nt.salt,nt.algorithm,nt.maxnumber||eo).promise}}),s1.apply(this,arguments)}function Bv(){return(Bv=(0,m.A)(function*(nt,Ut=("number"==typeof qa?qa:eo),ln=Math.ceil(Zi)){const Fn=[];ln=Math.min(16,Math.max(1,ln));for(let Un=0;Un<ln;Un++)Fn.push(altchaCreateWorker(as));const ti=Math.ceil(Ut/ln),li=yield Promise.all(Fn.map((Un,Ni)=>{const Ts=Ni*ti;return new Promise(Po=>{Un.addEventListener("message",cr=>{if(cr.data)for(const Ea of Fn)Ea!==Un&&Ea.postMessage({type:"abort"});Po(cr.data)}),Un.postMessage({payload:nt,max:Ts+ti,start:Ts,type:"work"})})}));for(const Un of Fn)Un.terminate();return li.find(Un=>!!Un)||null})).apply(this,arguments)}function hg(){return o1.apply(this,arguments)}function o1(){return(o1=(0,m.A)(function*(){if(!To)return void r(7,Zo=Ye.ERROR);const nt=Pl.find(Ut=>"obfuscation"===Ut.constructor.pluginName);return nt&&"clarify"in nt?"clarify"in nt&&"function"==typeof nt.clarify?nt.clarify():void 0:(r(7,Zo=Ye.ERROR),void br("Plugin `obfuscation` not found. Import `altcha/plugins/obfuscation` to load it."))})).apply(this,arguments)}function vM(nt){void 0!==nt.obfuscated&&r(24,To=nt.obfuscated),void 0!==nt.auto&&(r(0,tn=nt.auto),"onload"===tn&&(To?hg():ie())),void 0!==nt.blockspam&&r(16,ei=!!nt.blockspam),void 0!==nt.floatinganchor&&r(20,Cs=nt.floatinganchor),void 0!==nt.delay&&r(18,Xi=nt.delay),void 0!==nt.floatingoffset&&r(21,Ps=nt.floatingoffset),void 0!==nt.floating&&mM(nt.floating),void 0!==nt.expire&&(Fv(nt.expire),r(19,Es=nt.expire)),nt.challenge&&(gM(nt.challenge),Te=nt.challenge),void 0!==nt.challengeurl&&r(15,ri=nt.challengeurl),void 0!==nt.debug&&r(17,Zn=!!nt.debug),void 0!==nt.hidefooter&&r(2,jr=!!nt.hidefooter),void 0!==nt.hidelogo&&r(3,kr=!!nt.hidelogo),void 0!==nt.maxnumber&&r(22,eo=+nt.maxnumber),void 0!==nt.mockerror&&r(23,Ko=!!nt.mockerror),void 0!==nt.name&&r(4,Co=nt.name),void 0!==nt.refetchonexpire&&r(25,es=!!nt.refetchonexpire),void 0!==nt.spamfilter&&r(26,go="object"==typeof nt.spamfilter?nt.spamfilter:!!nt.spamfilter),nt.strings&&r(44,Pe=nt.strings),void 0!==nt.test&&r(27,qa="number"==typeof nt.test?nt.test:!!nt.test),void 0!==nt.verifyurl&&r(28,ji=nt.verifyurl),void 0!==nt.workers&&r(29,Zi=+nt.workers),void 0!==nt.workerurl&&r(30,as=nt.workerurl)}function o(){return{auto:tn,blockspam:ei,challengeurl:ri,debug:Zn,delay:Xi,expire:Es,floating:Gi,floatinganchor:Cs,floatingoffset:Ps,hidefooter:jr,hidelogo:kr,name:Co,maxnumber:eo,mockerror:Ko,obfuscated:To,refetchonexpire:es,spamfilter:go,strings:it,test:qa,verifyurl:ji,workers:Zi,workerurl:as}}function a(){return mc}function g(){return Zo}function A(nt=Ye.UNVERIFIED,Ut=null){ya&&(clearTimeout(ya),ya=null),r(8,Kr=!1),r(5,Rr=Ut),r(6,Cr=null),r(7,Zo=nt)}function B(nt){mc=nt}function H(nt,Ut=null){r(7,Zo=nt),r(5,Rr=Ut)}function ie(){return _e.apply(this,arguments)}function _e(){return _e=(0,m.A)(function*(){return A(Ye.VERIFYING),yield new Promise(nt=>setTimeout(nt,Xi||0)),function Kx(){return t1.apply(this,arguments)}().then(nt=>(gM(nt),br("challenge",nt),_M(nt))).then(({data:nt,solution:Ut})=>{if(br("solution",Ut),"challenge"in nt&&Ut&&!("clearText"in Ut)){if(void 0===Ut?.number)throw br("Unable to find a solution. Ensure that the 'maxnumber' attribute is greater than the randomly generated number."),new Error("Unexpected result returned.");if(ji)return function wL(nt){return fM.apply(this,arguments)}(e1(nt,Ut));r(6,Cr=e1(nt,Ut)),br("payload",Cr)}}).then(()=>{(function fn(){return Wt(),Xe})().then(()=>{r(7,Zo=Ye.VERIFIED),br("verified"),Ws("verified",{payload:Cr})})}).catch(nt=>{br(nt),r(7,Zo=Ye.ERROR),r(5,Rr=nt.message)})}),_e.apply(this,arguments)}return function on(d){yt().$$.on_destroy.push(d)}(()=>{(function uM(){for(const nt of Pl)nt.destroy()})(),Ho&&(Ho.removeEventListener("submit",Jx),Ho.removeEventListener("reset",Qx),Ho.removeEventListener("focusin",Yx),Ho=null),ya&&(clearTimeout(ya),ya=null),document.removeEventListener("click",hM),document.removeEventListener("scroll",pM),window.removeEventListener("resize",e2)}),function Zt(d){yt().$$.on_mount.push(d)}(()=>{br("mounted","0.9.0"),br("workers",Zi),function AL(){const nt=void 0!==Er?Er.split(","):void 0;for(const Ut of globalThis.altchaPlugins)(!nt||nt.includes(Ut.pluginName))&&Pl.push(new Ut({el:bo,clarify:hg,dispatch:Ws,getConfiguration:o,getFloatingAnchor:a,getState:g,log:br,reset:A,solve:_M,setState:H,setFloatingAnchor:B,verify:ie}))}(),br("plugins",Pl.length?Pl.map(nt=>nt.constructor.pluginName).join(", "):"none"),qa&&br("using test mode"),Es&&Fv(Es),void 0!==tn&&br("auto",tn),void 0!==Gi&&mM(Gi),Ho=bo.closest("form"),Ho&&(Ho.addEventListener("submit",Jx,{capture:!0}),Ho.addEventListener("reset",Qx),"onfocus"===tn&&Ho.addEventListener("focusin",Yx)),"onload"===tn&&(To?hg():ie()),Y&&(jr||kr)&&br("Attributes hidefooter and hidelogo ignored because usage with free API Keys requires attribution."),requestAnimationFrame(()=>{Ws("load")})}),d.$$set=nt=>{"auto"in nt&&r(0,tn=nt.auto),"blockspam"in nt&&r(16,ei=nt.blockspam),"challengeurl"in nt&&r(15,ri=nt.challengeurl),"challengejson"in nt&&r(31,zn=nt.challengejson),"debug"in nt&&r(17,Zn=nt.debug),"delay"in nt&&r(18,Xi=nt.delay),"expire"in nt&&r(19,Es=nt.expire),"floating"in nt&&r(1,Gi=nt.floating),"floatinganchor"in nt&&r(20,Cs=nt.floatinganchor),"floatingoffset"in nt&&r(21,Ps=nt.floatingoffset),"hidefooter"in nt&&r(2,jr=nt.hidefooter),"hidelogo"in nt&&r(3,kr=nt.hidelogo),"name"in nt&&r(4,Co=nt.name),"maxnumber"in nt&&r(22,eo=nt.maxnumber),"mockerror"in nt&&r(23,Ko=nt.mockerror),"obfuscated"in nt&&r(24,To=nt.obfuscated),"plugins"in nt&&r(32,Er=nt.plugins),"refetchonexpire"in nt&&r(25,es=nt.refetchonexpire),"spamfilter"in nt&&r(26,go=nt.spamfilter),"strings"in nt&&r(33,xh=nt.strings),"test"in nt&&r(27,qa=nt.test),"verifyurl"in nt&&r(28,ji=nt.verifyurl),"workers"in nt&&r(29,Zi=nt.workers),"workerurl"in nt&&r(30,as=nt.workerurl),"$$scope"in nt&&r(45,bn=nt.$$scope)},d.$$.update=()=>{32768&d.$$.dirty[0]&&r(12,Y=!(null==ri||!ri.includes(".altcha.org")||null==ri||!ri.includes("apiKey=ckey_"))),1&d.$$.dirty[1]&&(Te=zn?hs(zn):void 0),4&d.$$.dirty[1]&&r(44,Pe=xh?hs(xh):{}),8192&d.$$.dirty[1]&&r(11,it={ariaLinkLabel:Ms,error:"Verification failed. Try again later.",expired:"Verification expired. Try again.",footer:`Protected by <a href="${Ji}" target="_blank" aria-label="${Pe.ariaLinkLabel||Ms}">ALTCHA</a>`,label:"I'm not a robot",verified:"Verified",verifying:"Verifying...",waitAlert:"Verifying... please wait.",...Pe}),192&d.$$.dirty[0]&&Ws("statechange",{payload:Cr,state:Zo}),32&d.$$.dirty[0]&&function xL(){for(const Ut of Pl)"function"==typeof Ut.onErrorChange&&Ut.onErrorChange(Rr)}(),128&d.$$.dirty[0]&&function qx(){for(const Ut of Pl)"function"==typeof Ut.onStateChange&&Ut.onStateChange(Zo);Gi&&Zo!==Ye.UNVERIFIED&&requestAnimationFrame(()=>{n1()}),r(8,Kr=Zo===Ye.VERIFIED)}()},[tn,Gi,jr,kr,Co,Rr,Cr,Zo,Kr,bo,io,it,Y,function Xx(){[Ye.UNVERIFIED,Ye.ERROR,Ye.EXPIRED].includes(Zo)?go&&!1===Ho?.reportValidity()?r(8,Kr=!1):To?hg():ie():r(8,Kr=!0)},Zx,ri,ei,Zn,Xi,Es,Cs,Ps,eo,Ko,To,es,go,qa,ji,Zi,as,zn,Er,xh,hg,vM,o,a,function l(nt){return Pl.find(Ut=>Ut.constructor.pluginName===nt)},g,A,B,H,ie,Pe,bn,Rt,function Be(){Kr=this.checked,r(8,Kr)},function Ze(nt){Qe[nt?"unshift":"push"](()=>{io=nt,r(10,io)})},function Ot(nt){Qe[nt?"unshift":"push"](()=>{bo=nt,r(9,bo)})}]}customElements.define("altcha-widget",function ns(d,_,r,u,x){let Te=class extends ai{constructor(){super(d,r,x),this.$$p_d=_}static get observedAttributes(){return Object.keys(_).map(Pe=>(_[Pe].attribute||Pe).toLowerCase())}};return Object.keys(_).forEach(Pe=>{Object.defineProperty(Te.prototype,Pe,{get(){return this.$$c&&Pe in this.$$c?this.$$c[Pe]:this.$$d[Pe]},set(it){var Rt;it=ts(Pe,it,_),this.$$d[Pe]=it,null==(Rt=this.$$c)||Rt.$set({[Pe]:it})}})}),u.forEach(Pe=>{Object.defineProperty(Te.prototype,Pe,{get(){var it;return null==(it=this.$$c)?void 0:it[Pe]}})}),d.element=Te,Te}(class _n extends si{constructor(_){super(),function oi(d,_,r,u,x,Y,Te=null,Pe=[-1]){const it=Ct;$t(d);const Rt=d.$$={fragment:null,ctx:[],props:Y,update:re,not_equal:x,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(_.context||(it?it.$$.context:[])),callbacks:ce(),dirty:Pe,skip_bound:!1,root:_.target||it.$$.root};Te&&Te(Rt.root);let bn=!1;if(Rt.ctx=r?r(d,_.props||{},(tn,ei,...ri)=>{const zn=ri.length?ri[0]:ei;return Rt.ctx&&x(Rt.ctx[tn],Rt.ctx[tn]=zn)&&(!Rt.skip_bound&&Rt.bound[tn]&&Rt.bound[tn](zn),bn&&function ni(d,_){-1===d.$$.dirty[0]&&(Ht.push(d),Wt(),d.$$.dirty.fill(0)),d.$$.dirty[_/31|0]|=1<<_%31}(d,tn)),ei}):[],Rt.update(),bn=!0,ve(Rt.before_update),Rt.fragment=!!u&&u(Rt.ctx),_.target){if(_.hydrate){const tn=function Nt(d){return Array.from(d.childNodes)}(_.target);Rt.fragment&&Rt.fragment.l(tn),tn.forEach(je)}else Rt.fragment&&Rt.fragment.c();_.intro&&Dt(d.$$.fragment),function yn(d,_,r){const{fragment:u,after_update:x}=d.$$;u&&u.m(_,r),xt(()=>{const Y=d.$$.on_mount.map(le).filter(ze);d.$$.on_destroy?d.$$.on_destroy.push(...Y):ve(Y),d.$$.on_mount=[]}),x.forEach(xt)}(d,_.target,_.anchor),Ft()}$t(it)}(this,_,jt,fs,Se,{auto:0,blockspam:16,challengeurl:15,challengejson:31,debug:17,delay:18,expire:19,floating:1,floatinganchor:20,floatingoffset:21,hidefooter:2,hidelogo:3,name:4,maxnumber:22,mockerror:23,obfuscated:24,plugins:32,refetchonexpire:25,spamfilter:26,strings:33,test:27,verifyurl:28,workers:29,workerurl:30,clarify:34,configure:35,getConfiguration:36,getFloatingAnchor:37,getPlugin:38,getState:39,reset:40,setFloatingAnchor:41,setState:42,verify:43},_t,[-1,-1,-1])}get auto(){return this.$$.ctx[0]}set auto(_){this.$$set({auto:_}),Ft()}get blockspam(){return this.$$.ctx[16]}set blockspam(_){this.$$set({blockspam:_}),Ft()}get challengeurl(){return this.$$.ctx[15]}set challengeurl(_){this.$$set({challengeurl:_}),Ft()}get challengejson(){return this.$$.ctx[31]}set challengejson(_){this.$$set({challengejson:_}),Ft()}get debug(){return this.$$.ctx[17]}set debug(_){this.$$set({debug:_}),Ft()}get delay(){return this.$$.ctx[18]}set delay(_){this.$$set({delay:_}),Ft()}get expire(){return this.$$.ctx[19]}set expire(_){this.$$set({expire:_}),Ft()}get floating(){return this.$$.ctx[1]}set floating(_){this.$$set({floating:_}),Ft()}get floatinganchor(){return this.$$.ctx[20]}set floatinganchor(_){this.$$set({floatinganchor:_}),Ft()}get floatingoffset(){return this.$$.ctx[21]}set floatingoffset(_){this.$$set({floatingoffset:_}),Ft()}get hidefooter(){return this.$$.ctx[2]}set hidefooter(_){this.$$set({hidefooter:_}),Ft()}get hidelogo(){return this.$$.ctx[3]}set hidelogo(_){this.$$set({hidelogo:_}),Ft()}get name(){return this.$$.ctx[4]}set name(_){this.$$set({name:_}),Ft()}get maxnumber(){return this.$$.ctx[22]}set maxnumber(_){this.$$set({maxnumber:_}),Ft()}get mockerror(){return this.$$.ctx[23]}set mockerror(_){this.$$set({mockerror:_}),Ft()}get obfuscated(){return this.$$.ctx[24]}set obfuscated(_){this.$$set({obfuscated:_}),Ft()}get plugins(){return this.$$.ctx[32]}set plugins(_){this.$$set({plugins:_}),Ft()}get refetchonexpire(){return this.$$.ctx[25]}set refetchonexpire(_){this.$$set({refetchonexpire:_}),Ft()}get spamfilter(){return this.$$.ctx[26]}set spamfilter(_){this.$$set({spamfilter:_}),Ft()}get strings(){return this.$$.ctx[33]}set strings(_){this.$$set({strings:_}),Ft()}get test(){return this.$$.ctx[27]}set test(_){this.$$set({test:_}),Ft()}get verifyurl(){return this.$$.ctx[28]}set verifyurl(_){this.$$set({verifyurl:_}),Ft()}get workers(){return this.$$.ctx[29]}set workers(_){this.$$set({workers:_}),Ft()}get workerurl(){return this.$$.ctx[30]}set workerurl(_){this.$$set({workerurl:_}),Ft()}get clarify(){return this.$$.ctx[34]}get configure(){return this.$$.ctx[35]}get getConfiguration(){return this.$$.ctx[36]}get getFloatingAnchor(){return this.$$.ctx[37]}get getPlugin(){return this.$$.ctx[38]}get getState(){return this.$$.ctx[39]}get reset(){return this.$$.ctx[40]}get setFloatingAnchor(){return this.$$.ctx[41]}get setState(){return this.$$.ctx[42]}get verify(){return this.$$.ctx[43]}},{auto:{},blockspam:{},challengeurl:{},challengejson:{},debug:{type:"Boolean"},delay:{},expire:{},floating:{},floatinganchor:{},floatingoffset:{},hidefooter:{type:"Boolean"},hidelogo:{type:"Boolean"},name:{},maxnumber:{},mockerror:{type:"Boolean"},obfuscated:{},plugins:{},refetchonexpire:{type:"Boolean"},spamfilter:{type:"Boolean"},strings:{},test:{type:"Boolean"},verifyurl:{},workers:{},workerurl:{}},["default"],["clarify","configure","getConfiguration","getFloatingAnchor","getPlugin","getState","reset","setFloatingAnchor","setState","verify"],!1)),globalThis.altchaCreateWorker=d=>d?new Worker(new URL(d)):new me,globalThis.altchaPlugins=globalThis.altchaPlugins||[];var Ke=n(21626),Ce=n(49969);function Ue(d){return new e.wOt(3e3,!1)}function Vt(d){switch(d.length){case 0:return new Ce.sf;case 1:return d[0];default:return new Ce.ui(d)}}function Bt(d,_,r=new Map,u=new Map){const x=[],Y=[];let Te=-1,Pe=null;if(_.forEach(it=>{const Rt=it.get("offset"),bn=Rt==Te,tn=bn&&Pe||new Map;it.forEach((ei,ri)=>{let zn=ri,Zn=ei;if("offset"!==ri)switch(zn=d.normalizePropertyName(zn,x),Zn){case Ce.FX:Zn=r.get(ri);break;case Ce.kp:Zn=u.get(ri);break;default:Zn=d.normalizeStyleValue(ri,zn,Zn,x)}tn.set(zn,Zn)}),bn||Y.push(tn),Pe=tn,Te=Rt}),x.length)throw function yi(){return new e.wOt(3502,!1)}();return Y}function wn(d,_,r,u){switch(_){case"start":d.onStart(()=>u(r&&hi(r,"start",d)));break;case"done":d.onDone(()=>u(r&&hi(r,"done",d)));break;case"destroy":d.onDestroy(()=>u(r&&hi(r,"destroy",d)))}}function hi(d,_,r){const Y=wi(d.element,d.triggerName,d.fromState,d.toState,_||d.phaseName,r.totalTime??d.totalTime,!!r.disabled),Te=d._data;return null!=Te&&(Y._data=Te),Y}function wi(d,_,r,u,x="",Y=0,Te){return{element:d,triggerName:_,fromState:r,toState:u,phaseName:x,totalTime:Y,disabled:!!Te}}function $i(d,_,r){let u=d.get(_);return u||d.set(_,u=r),u}function Ei(d){const _=d.indexOf(":");return[d.substring(1,_),d.slice(_+1)]}const Ls=typeof document>"u"?null:document.documentElement;function Qs(d){const _=d.parentNode||d.host||null;return _===Ls?null:_}let Yi=null,hr=!1;function Mo(d,_){for(;_;){if(_===d)return!0;_=Qs(_)}return!1}function ss(d,_,r){if(r)return Array.from(d.querySelectorAll(_));const u=d.querySelector(_);return u?[u]:[]}let pr=(()=>{class d{validateStyleProperty(r){return function Os(d){Yi||(Yi=function oa(){return typeof document<"u"?document.body:null}()||{},hr=!!Yi.style&&"WebkitAppearance"in Yi.style);let _=!0;return Yi.style&&!function Do(d){return"ebkit"==d.substring(1,6)}(d)&&(_=d in Yi.style,!_&&hr&&(_="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in Yi.style)),_}(r)}containsElement(r,u){return Mo(r,u)}getParentElement(r){return Qs(r)}query(r,u,x){return ss(r,u,x)}computeStyle(r,u,x){return x||""}animate(r,u,x,Y,Te,Pe=[],it){return new Ce.sf(x,Y)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class zr{static{this.NOOP=new pr}}class ra{}const xr=1e3,Xr="ng-enter",It="ng-leave",en="ng-trigger",he=".ng-trigger",Je="ng-animating",Mt=".ng-animating";function sn(d){if("number"==typeof d)return d;const _=d.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:Bn(parseFloat(_[1]),_[2])}function Bn(d,_){return"s"===_?d*xr:d}function xe(d,_,r){return d.hasOwnProperty("duration")?d:function Ve(d,_,r){let x,Y=0,Te="";if("string"==typeof d){const Pe=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return _.push(Ue()),{duration:0,delay:0,easing:""};x=Bn(parseFloat(Pe[1]),Pe[2]);const it=Pe[3];null!=it&&(Y=Bn(parseFloat(it),Pe[4]));const Rt=Pe[5];Rt&&(Te=Rt)}else x=d;if(!r){let Pe=!1,it=_.length;x<0&&(_.push(function ft(){return new e.wOt(3100,!1)}()),Pe=!0),Y<0&&(_.push(function kt(){return new e.wOt(3101,!1)}()),Pe=!0),Pe&&_.splice(it,0,Ue())}return{duration:x,delay:Y,easing:Te}}(d,_,r)}function Xt(d,_,r){_.forEach((u,x)=>{const Y=Rl(x);r&&!r.has(x)&&r.set(x,d.style[Y]),d.style[Y]=u})}function mi(d,_){_.forEach((r,u)=>{const x=Rl(u);d.style[x]=""})}function os(d){return Array.isArray(d)?1==d.length?d[0]:(0,Ce.K2)(d):d}const zo=new RegExp("{{\\s*(.+?)\\s*}}","g");function _l(d){let _=[];if("string"==typeof d){let r;for(;r=zo.exec(d);)_.push(r[1]);zo.lastIndex=0}return _}function vl(d,_,r){const u=`${d}`,x=u.replace(zo,(Y,Te)=>{let Pe=_[Te];return null==Pe&&(r.push(function un(){return new e.wOt(3003,!1)}()),Pe=""),Pe.toString()});return x==u?d:x}const Pd=/-+([a-z0-9])/g;function Rl(d){return d.replace(Pd,(..._)=>_[1].toUpperCase())}function Xo(d,_,r){switch(_.type){case Ce.If.Trigger:return d.visitTrigger(_,r);case Ce.If.State:return d.visitState(_,r);case Ce.If.Transition:return d.visitTransition(_,r);case Ce.If.Sequence:return d.visitSequence(_,r);case Ce.If.Group:return d.visitGroup(_,r);case Ce.If.Animate:return d.visitAnimate(_,r);case Ce.If.Keyframes:return d.visitKeyframes(_,r);case Ce.If.Style:return d.visitStyle(_,r);case Ce.If.Reference:return d.visitReference(_,r);case Ce.If.AnimateChild:return d.visitAnimateChild(_,r);case Ce.If.AnimateRef:return d.visitAnimateRef(_,r);case Ce.If.Query:return d.visitQuery(_,r);case Ce.If.Stagger:return d.visitStagger(_,r);default:throw function kn(){return new e.wOt(3004,!1)}()}}function Al(d,_){return window.getComputedStyle(d)[_]}const Jc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yl extends ra{normalizePropertyName(_,r){return Rl(_)}normalizeStyleValue(_,r,u,x){let Y="";const Te=u.toString().trim();if(Jc.has(r)&&0!==u&&"0"!==u)if("number"==typeof u)Y="px";else{const Pe=u.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&x.push(function Qn(){return new e.wOt(3005,!1)}())}return Te+Y}}const Ua="*";const wr=new Set(["true","1"]),ja=new Set(["false","0"]);function wl(d,_){const r=wr.has(d)||ja.has(d),u=wr.has(_)||ja.has(_);return(x,Y)=>{let Te=d==Ua||d==x,Pe=_==Ua||_==Y;return!Te&&r&&"boolean"==typeof x&&(Te=x?wr.has(d):ja.has(d)),!Pe&&u&&"boolean"==typeof Y&&(Pe=Y?wr.has(_):ja.has(_)),Te&&Pe}}const Jl=new RegExp("s*:selfs*,?","g");function Qc(d,_,r,u){return new Rd(d).build(_,r,u)}class Rd{constructor(_){this._driver=_}build(_,r,u){const x=new ko(r);return this._resetContextStyleTimingState(x),Xo(this,os(_),x)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,r){let u=r.queryCount=0,x=r.depCount=0;const Y=[],Te=[];return"@"==_.name.charAt(0)&&r.errors.push(function xi(){return new e.wOt(3006,!1)}()),_.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(r),Pe.type==Ce.If.State){const it=Pe,Rt=it.name;Rt.toString().split(/\s*,\s*/).forEach(bn=>{it.name=bn,Y.push(this.visitState(it,r))}),it.name=Rt}else if(Pe.type==Ce.If.Transition){const it=this.visitTransition(Pe,r);u+=it.queryCount,x+=it.depCount,Te.push(it)}else r.errors.push(function ms(){return new e.wOt(3007,!1)}())}),{type:Ce.If.Trigger,name:_.name,states:Y,transitions:Te,queryCount:u,depCount:x,options:null}}visitState(_,r){const u=this.visitStyle(_.styles,r),x=_.options&&_.options.params||null;if(u.containsDynamicStyles){const Y=new Set,Te=x||{};u.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(it=>{_l(it).forEach(Rt=>{Te.hasOwnProperty(Rt)||Y.add(Rt)})})}),Y.size&&r.errors.push(function No(){return new e.wOt(3008,!1)}(0,Y.values()))}return{type:Ce.If.State,name:_.name,style:u,options:x?{params:x}:null}}visitTransition(_,r){r.queryCount=0,r.depCount=0;const u=Xo(this,os(_.animation),r),x=function El(d,_){const r=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(u=>function vc(d,_,r){if(":"==d[0]){const it=function Sa(d,_){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,u)=>parseFloat(u)>parseFloat(r);case":decrement":return(r,u)=>parseFloat(u)<parseFloat(r);default:return _.push(function Bo(){return new e.wOt(3016,!1)}()),"* => *"}}(d,r);if("function"==typeof it)return void _.push(it);d=it}const u=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return r.push(function Hr(){return new e.wOt(3015,!1)}()),_;const x=u[1],Y=u[2],Te=u[3];_.push(wl(x,Te)),"<"==Y[0]&&(x!=Ua||Te!=Ua)&&_.push(wl(Te,x))}(u,r,_)):r.push(d),r}(_.expr,r.errors);return{type:Ce.If.Transition,matchers:x,animation:u,queryCount:r.queryCount,depCount:r.depCount,options:rr(_.options)}}visitSequence(_,r){return{type:Ce.If.Sequence,steps:_.steps.map(u=>Xo(this,u,r)),options:rr(_.options)}}visitGroup(_,r){const u=r.currentTime;let x=0;const Y=_.steps.map(Te=>{r.currentTime=u;const Pe=Xo(this,Te,r);return x=Math.max(x,r.currentTime),Pe});return r.currentTime=x,{type:Ce.If.Group,steps:Y,options:rr(_.options)}}visitAnimate(_,r){const u=function Ql(d,_){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return Gs(xe(d,_).duration,0,"");const r=d;if(r.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=Gs(0,0,"");return Y.dynamic=!0,Y.strValue=r,Y}const x=xe(r,_);return Gs(x.duration,x.delay,x.easing)}(_.timings,r.errors);r.currentAnimateTimings=u;let x,Y=_.styles?_.styles:(0,Ce.iF)({});if(Y.type==Ce.If.Keyframes)x=this.visitKeyframes(Y,r);else{let Te=_.styles,Pe=!1;if(!Te){Pe=!0;const Rt={};u.easing&&(Rt.easing=u.easing),Te=(0,Ce.iF)(Rt)}r.currentTime+=u.duration+u.delay;const it=this.visitStyle(Te,r);it.isEmptyStep=Pe,x=it}return r.currentAnimateTimings=null,{type:Ce.If.Animate,timings:u,style:x,options:null}}visitStyle(_,r){const u=this._makeStyleAst(_,r);return this._validateStyleAst(u,r),u}_makeStyleAst(_,r){const u=[],x=Array.isArray(_.styles)?_.styles:[_.styles];for(let Pe of x)"string"==typeof Pe?Pe===Ce.kp?u.push(Pe):r.errors.push(new e.wOt(3002,!1)):u.push(new Map(Object.entries(Pe)));let Y=!1,Te=null;return u.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(Te=Pe.get("easing"),Pe.delete("easing")),!Y))for(let it of Pe.values())if(it.toString().indexOf("{{")>=0){Y=!0;break}}),{type:Ce.If.Style,styles:u,easing:Te,offset:_.offset,containsDynamicStyles:Y,options:null}}_validateStyleAst(_,r){const u=r.currentAnimateTimings;let x=r.currentTime,Y=r.currentTime;u&&Y>0&&(Y-=u.duration+u.delay),_.styles.forEach(Te=>{"string"!=typeof Te&&Te.forEach((Pe,it)=>{const Rt=r.collectedStyles.get(r.currentQuerySelector),bn=Rt.get(it);let tn=!0;bn&&(Y!=x&&Y>=bn.startTime&&x<=bn.endTime&&(r.errors.push(function qo(){return new e.wOt(3010,!1)}()),tn=!1),Y=bn.startTime),tn&&Rt.set(it,{startTime:Y,endTime:x}),r.options&&function Mr(d,_,r){const u=_.params||{},x=_l(d);x.length&&x.forEach(Y=>{u.hasOwnProperty(Y)||r.push(function pn(){return new e.wOt(3001,!1)}())})}(Pe,r.options,r.errors)})})}visitKeyframes(_,r){const u={type:Ce.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Js(){return new e.wOt(3011,!1)}()),u;let Y=0;const Te=[];let Pe=!1,it=!1,Rt=0;const bn=_.steps.map(Es=>{const Gi=this._makeStyleAst(Es,r);let Cs=null!=Gi.offset?Gi.offset:function Vr(d){if("string"==typeof d)return null;let _=null;if(Array.isArray(d))d.forEach(r=>{if(r instanceof Map&&r.has("offset")){const u=r;_=parseFloat(u.get("offset")),u.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const r=d;_=parseFloat(r.get("offset")),r.delete("offset")}return _}(Gi.styles),Ps=0;return null!=Cs&&(Y++,Ps=Gi.offset=Cs),it=it||Ps<0||Ps>1,Pe=Pe||Ps<Rt,Rt=Ps,Te.push(Ps),Gi});it&&r.errors.push(function er(){return new e.wOt(3012,!1)}()),Pe&&r.errors.push(function mr(){return new e.wOt(3200,!1)}());const tn=_.steps.length;let ei=0;Y>0&&Y<tn?r.errors.push(function Dr(){return new e.wOt(3202,!1)}()):0==Y&&(ei=1/(tn-1));const ri=tn-1,zn=r.currentTime,Zn=r.currentAnimateTimings,Xi=Zn.duration;return bn.forEach((Es,Gi)=>{const Cs=ei>0?Gi==ri?1:ei*Gi:Te[Gi],Ps=Cs*Xi;r.currentTime=zn+Zn.delay+Ps,Zn.duration=Ps,this._validateStyleAst(Es,r),Es.offset=Cs,u.styles.push(Es)}),u}visitReference(_,r){return{type:Ce.If.Reference,animation:Xo(this,os(_.animation),r),options:rr(_.options)}}visitAnimateChild(_,r){return r.depCount++,{type:Ce.If.AnimateChild,options:rr(_.options)}}visitAnimateRef(_,r){return{type:Ce.If.AnimateRef,animation:this.visitReference(_.animation,r),options:rr(_.options)}}visitQuery(_,r){const u=r.currentQuerySelector,x=_.options||{};r.queryCount++,r.currentQuery=_;const[Y,Te]=function Ll(d){const _=!!d.split(/\s*,\s*/).find(r=>":self"==r);return _&&(d=d.replace(Jl,"")),d=d.replace(/@\*/g,he).replace(/@\w+/g,r=>he+"-"+r.slice(1)).replace(/:animating/g,Mt),[d,_]}(_.selector);r.currentQuerySelector=u.length?u+" "+Y:Y,$i(r.collectedStyles,r.currentQuerySelector,new Map);const Pe=Xo(this,os(_.animation),r);return r.currentQuery=null,r.currentQuerySelector=u,{type:Ce.If.Query,selector:Y,limit:x.limit||0,optional:!!x.optional,includeSelf:Te,animation:Pe,originalSelector:_.selector,options:rr(_.options)}}visitStagger(_,r){r.currentQuery||r.errors.push(function ta(){return new e.wOt(3013,!1)}());const u="full"===_.timings?{duration:0,delay:0,easing:"full"}:xe(_.timings,r.errors,!0);return{type:Ce.If.Stagger,animation:Xo(this,os(_.animation),r),timings:u,options:null}}}class ko{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rr(d){return d?(d={...d}).params&&(d.params=function yc(d){return d?{...d}:null}(d.params)):d={},d}function Gs(d,_,r){return{duration:d,delay:_,easing:r}}function Gt(d,_,r,u,x,Y,Te=null,Pe=!1){return{type:1,element:d,keyframes:_,preStyleProps:r,postStyleProps:u,duration:x,delay:Y,totalTime:x+Y,easing:Te,subTimeline:Pe}}class mn{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,r){let u=this._map.get(_);u||this._map.set(_,u=[]),u.push(...r)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const di=new RegExp(":enter","g"),Qi=new RegExp(":leave","g");function vi(d,_,r,u,x,Y=new Map,Te=new Map,Pe,it,Rt=[]){return(new Zs).buildKeyframes(d,_,r,u,x,Y,Te,Pe,it,Rt)}class Zs{buildKeyframes(_,r,u,x,Y,Te,Pe,it,Rt,bn=[]){Rt=Rt||new mn;const tn=new vo(_,r,Rt,x,Y,bn,[]);tn.options=it;const ei=it.delay?sn(it.delay):0;tn.currentTimeline.delayNextStep(ei),tn.currentTimeline.setStyles([Te],null,tn.errors,it),Xo(this,u,tn);const ri=tn.timelines.filter(zn=>zn.containsAnimation());if(ri.length&&Pe.size){let zn;for(let Zn=ri.length-1;Zn>=0;Zn--){const Xi=ri[Zn];if(Xi.element===r){zn=Xi;break}}zn&&!zn.allowOnlyTimelineStyles()&&zn.setStyles([Pe],null,tn.errors,it)}return ri.length?ri.map(zn=>zn.buildKeyframes()):[Gt(r,[],[],[],0,ei,"",!1)]}visitTrigger(_,r){}visitState(_,r){}visitTransition(_,r){}visitAnimateChild(_,r){const u=r.subInstructions.get(r.element);if(u){const x=r.createSubContext(_.options),Y=r.currentTimeline.currentTime,Te=this._visitSubInstructions(u,x,x.options);Y!=Te&&r.transformIntoNewTimeline(Te)}r.previousNode=_}visitAnimateRef(_,r){const u=r.createSubContext(_.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],r,u),this.visitReference(_.animation,u),r.transformIntoNewTimeline(u.currentTimeline.currentTime),r.previousNode=_}_applyAnimationRefDelays(_,r,u){for(const x of _){const Y=x?.delay;if(Y){const Te="number"==typeof Y?Y:sn(vl(Y,x?.params??{},r.errors));u.delayNextStep(Te)}}}_visitSubInstructions(_,r,u){let Y=r.currentTimeline.currentTime;const Te=null!=u.duration?sn(u.duration):null,Pe=null!=u.delay?sn(u.delay):null;return 0!==Te&&_.forEach(it=>{const Rt=r.appendInstructionToTimeline(it,Te,Pe);Y=Math.max(Y,Rt.duration+Rt.delay)}),Y}visitReference(_,r){r.updateOptions(_.options,!0),Xo(this,_.animation,r),r.previousNode=_}visitSequence(_,r){const u=r.subContextCount;let x=r;const Y=_.options;if(Y&&(Y.params||Y.delay)&&(x=r.createSubContext(Y),x.transformIntoNewTimeline(),null!=Y.delay)){x.previousNode.type==Ce.If.Style&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=As);const Te=sn(Y.delay);x.delayNextStep(Te)}_.steps.length&&(_.steps.forEach(Te=>Xo(this,Te,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>u&&x.transformIntoNewTimeline()),r.previousNode=_}visitGroup(_,r){const u=[];let x=r.currentTimeline.currentTime;const Y=_.options&&_.options.delay?sn(_.options.delay):0;_.steps.forEach(Te=>{const Pe=r.createSubContext(_.options);Y&&Pe.delayNextStep(Y),Xo(this,Te,Pe),x=Math.max(x,Pe.currentTimeline.currentTime),u.push(Pe.currentTimeline)}),u.forEach(Te=>r.currentTimeline.mergeTimelineCollectedStyles(Te)),r.transformIntoNewTimeline(x),r.previousNode=_}_visitTiming(_,r){if(_.dynamic){const u=_.strValue;return xe(r.params?vl(u,r.params,r.errors):u,r.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,r){const u=r.currentAnimateTimings=this._visitTiming(_.timings,r),x=r.currentTimeline;u.delay&&(r.incrementTime(u.delay),x.snapshotCurrentStyles());const Y=_.style;Y.type==Ce.If.Keyframes?this.visitKeyframes(Y,r):(r.incrementTime(u.duration),this.visitStyle(Y,r),x.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=_}visitStyle(_,r){const u=r.currentTimeline,x=r.currentAnimateTimings;!x&&u.hasCurrentStyleProperties()&&u.forwardFrame();const Y=x&&x.easing||_.easing;_.isEmptyStep?u.applyEmptyStep(Y):u.setStyles(_.styles,Y,r.errors,r.options),r.previousNode=_}visitKeyframes(_,r){const u=r.currentAnimateTimings,x=r.currentTimeline.duration,Y=u.duration,Pe=r.createSubContext().currentTimeline;Pe.easing=u.easing,_.styles.forEach(it=>{Pe.forwardTime((it.offset||0)*Y),Pe.setStyles(it.styles,it.easing,r.errors,r.options),Pe.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(Pe),r.transformIntoNewTimeline(x+Y),r.previousNode=_}visitQuery(_,r){const u=r.currentTimeline.currentTime,x=_.options||{},Y=x.delay?sn(x.delay):0;Y&&(r.previousNode.type===Ce.If.Style||0==u&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=As);let Te=u;const Pe=r.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!x.optional,r.errors);r.currentQueryTotal=Pe.length;let it=null;Pe.forEach((Rt,bn)=>{r.currentQueryIndex=bn;const tn=r.createSubContext(_.options,Rt);Y&&tn.delayNextStep(Y),Rt===r.element&&(it=tn.currentTimeline),Xo(this,_.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),Te=Math.max(Te,tn.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(Te),it&&(r.currentTimeline.mergeTimelineCollectedStyles(it),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=_}visitStagger(_,r){const u=r.parentContext,x=r.currentTimeline,Y=_.timings,Te=Math.abs(Y.duration),Pe=Te*(r.currentQueryTotal-1);let it=Te*r.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":it=Pe-it;break;case"full":it=u.currentStaggerTime}const bn=r.currentTimeline;it&&bn.delayNextStep(it);const tn=bn.currentTime;Xo(this,_.animation,r),r.previousNode=_,u.currentStaggerTime=x.currentTime-tn+(x.startTime-u.currentTimeline.startTime)}}const As={};class vo{constructor(_,r,u,x,Y,Te,Pe,it){this._driver=_,this.element=r,this.subInstructions=u,this._enterClassName=x,this._leaveClassName=Y,this.errors=Te,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=As,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=it||new oo(this._driver,r,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,r){if(!_)return;const u=_;let x=this.options;null!=u.duration&&(x.duration=sn(u.duration)),null!=u.delay&&(x.delay=sn(u.delay));const Y=u.params;if(Y){let Te=x.params;Te||(Te=this.options.params={}),Object.keys(Y).forEach(Pe=>{(!r||!Te.hasOwnProperty(Pe))&&(Te[Pe]=vl(Y[Pe],Te,this.errors))})}}_copyOptions(){const _={};if(this.options){const r=this.options.params;if(r){const u=_.params={};Object.keys(r).forEach(x=>{u[x]=r[x]})}}return _}createSubContext(_=null,r,u){const x=r||this.element,Y=new vo(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,u||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(_),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(_){return this.previousNode=As,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,r,u){const x={duration:r??_.duration,delay:this.currentTimeline.currentTime+(u??0)+_.delay,easing:""},Y=new Bs(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,x,_.stretchStartingKeyframe);return this.timelines.push(Y),x}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,r,u,x,Y,Te){let Pe=[];if(x&&Pe.push(this.element),_.length>0){_=(_=_.replace(di,"."+this._enterClassName)).replace(Qi,"."+this._leaveClassName);let Rt=this._driver.query(this.element,_,1!=u);0!==u&&(Rt=u<0?Rt.slice(Rt.length+u,Rt.length):Rt.slice(0,u)),Pe.push(...Rt)}return!Y&&0==Pe.length&&Te.push(function ur(){return new e.wOt(3014,!1)}()),Pe}}class oo{constructor(_,r,u,x){this._driver=_,this.element=r,this.startTime=u,this._elementTimelineStylesLookup=x,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+_),r&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,r){return this.applyStylesToKeyframe(),new oo(this._driver,_,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,r){this._localTimelineStyles.set(_,r),this._globalTimelineStyles.set(_,r),this._styleSummary.set(_,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[r,u]of this._globalTimelineStyles)this._backFill.set(r,u||Ce.kp),this._currentKeyframe.set(r,Ce.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,r,u,x){r&&this._previousKeyframe.set("easing",r);const Y=x&&x.params||{},Te=function Ro(d,_){const r=new Map;let u;return d.forEach(x=>{if("*"===x){u??=_.keys();for(let Y of u)r.set(Y,Ce.kp)}else for(let[Y,Te]of x)r.set(Y,Te)}),r}(_,this._globalTimelineStyles);for(let[Pe,it]of Te){const Rt=vl(it,Y,u);this._pendingStyles.set(Pe,Rt),this._localTimelineStyles.has(Pe)||this._backFill.set(Pe,this._globalTimelineStyles.get(Pe)??Ce.kp),this._updateStyle(Pe,Rt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,r)=>{this._currentKeyframe.set(r,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,_)}))}snapshotCurrentStyles(){for(let[_,r]of this._localTimelineStyles)this._pendingStyles.set(_,r),this._updateStyle(_,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let r in this._currentKeyframe)_.push(r);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((r,u)=>{const x=this._styleSummary.get(u);(!x||r.time>x.time)&&this._updateStyle(u,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,r=new Set,u=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((Pe,it)=>{const Rt=new Map([...this._backFill,...Pe]);Rt.forEach((bn,tn)=>{bn===Ce.FX?_.add(tn):bn===Ce.kp&&r.add(tn)}),u||Rt.set("offset",it/this.duration),x.push(Rt)});const Y=[..._.values()],Te=[...r.values()];if(u){const Pe=x[0],it=new Map(Pe);Pe.set("offset",0),it.set("offset",1),x=[Pe,it]}return Gt(this.element,x,Y,Te,this.duration,this.startTime,this.easing,!1)}}class Bs extends oo{constructor(_,r,u,x,Y,Te,Pe=!1){super(_,r,Te.delay),this.keyframes=u,this.preStyleProps=x,this.postStyleProps=Y,this._stretchStartingKeyframe=Pe,this.timings={duration:Te.duration,delay:Te.delay,easing:Te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:r,duration:u,easing:x}=this.timings;if(this._stretchStartingKeyframe&&r){const Y=[],Te=u+r,Pe=r/Te,it=new Map(_[0]);it.set("offset",0),Y.push(it);const Rt=new Map(_[0]);Rt.set("offset",uo(Pe)),Y.push(Rt);const bn=_.length-1;for(let tn=1;tn<=bn;tn++){let ei=new Map(_[tn]);const ri=ei.get("offset");ei.set("offset",uo((r+ri*u)/Te)),Y.push(ei)}u=Te,r=0,x="",_=Y}return Gt(this.element,_,this.preStyleProps,this.postStyleProps,u,r,x,!0)}}function uo(d,_=3){const r=Math.pow(10,_-1);return Math.round(d*r)/r}function Ss(d,_,r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei){return{type:0,element:d,triggerName:_,isRemovalTransition:x,fromState:r,fromStyles:Y,toState:u,toStyles:Te,timelines:Pe,queriedElements:it,preStyleProps:Rt,postStyleProps:bn,totalTime:tn,errors:ei}}const Ao={};class Ia{constructor(_,r,u){this._triggerName=_,this.ast=r,this._stateStyles=u}match(_,r,u,x){return function rt(d,_,r,u,x){return d.some(Y=>Y(_,r,u,x))}(this.ast.matchers,_,r,u,x)}buildStyles(_,r,u){let x=this._stateStyles.get("*");return void 0!==_&&(x=this._stateStyles.get(_?.toString())||x),x?x.buildStyles(r,u):new Map}build(_,r,u,x,Y,Te,Pe,it,Rt,bn){const tn=[],ei=this.ast.options&&this.ast.options.params||Ao,zn=this.buildStyles(u,Pe&&Pe.params||Ao,tn),Zn=it&&it.params||Ao,Xi=this.buildStyles(x,Zn,tn),Es=new Set,Gi=new Map,Cs=new Map,Ps="void"===x,jr={params:Ae(Zn,ei),delay:this.ast.options?.delay},kr=bn?[]:vi(_,r,this.ast.animation,Y,Te,zn,Xi,jr,Rt,tn);let Co=0;return kr.forEach(eo=>{Co=Math.max(eo.duration+eo.delay,Co)}),tn.length?Ss(r,this._triggerName,u,x,Ps,zn,Xi,[],[],Gi,Cs,Co,tn):(kr.forEach(eo=>{const Ko=eo.element,To=$i(Gi,Ko,new Set);eo.preStyleProps.forEach(es=>To.add(es));const Er=$i(Cs,Ko,new Set);eo.postStyleProps.forEach(es=>Er.add(es)),Ko!==r&&Es.add(Ko)}),Ss(r,this._triggerName,u,x,Ps,zn,Xi,kr,[...Es.values()],Gi,Cs,Co))}}function Ae(d,_){const r={..._};return Object.entries(d).forEach(([u,x])=>{null!=x&&(r[u]=x)}),r}class tt{constructor(_,r,u){this.styles=_,this.defaultParams=r,this.normalizer=u}buildStyles(_,r){const u=new Map,x=Ae(_,this.defaultParams);return this.styles.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((Te,Pe)=>{Te&&(Te=vl(Te,x,r));const it=this.normalizer.normalizePropertyName(Pe,r);Te=this.normalizer.normalizeStyleValue(Pe,it,Te,r),u.set(Pe,Te)})}),u}}class Pn{constructor(_,r,u){this.name=_,this.ast=r,this._normalizer=u,this.transitionFactories=[],this.states=new Map,r.states.forEach(x=>{this.states.set(x.name,new tt(x.style,x.options&&x.options.params||{},u))}),fi(this.states,"true","1"),fi(this.states,"false","0"),r.transitions.forEach(x=>{this.transitionFactories.push(new Ia(_,x,this.states))}),this.fallbackTransition=function Wn(d,_){return new Ia(d,{type:Ce.If.Transition,animation:{type:Ce.If.Sequence,steps:[],options:null},matchers:[(Te,Pe)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,r,u,x){return this.transitionFactories.find(Te=>Te.match(_,r,u,x))||null}matchStyles(_,r,u){return this.fallbackTransition.buildStyles(_,r,u)}}function fi(d,_,r){d.has(_)?d.has(r)||d.set(r,d.get(_)):d.has(r)&&d.set(_,d.get(r))}const Xs=new mn;class ho{constructor(_,r,u){this.bodyNode=_,this._driver=r,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,r){const u=[],Y=Qc(this._driver,r,u,[]);if(u.length)throw function Ar(){return new e.wOt(3503,!1)}();this._animations.set(_,Y)}_buildPlayer(_,r,u){const x=_.element,Y=Bt(this._normalizer,_.keyframes,r,u);return this._driver.animate(x,Y,_.duration,_.delay,_.easing,[],!0)}create(_,r,u={}){const x=[],Y=this._animations.get(_);let Te;const Pe=new Map;if(Y?(Te=vi(this._driver,r,Y,Xr,It,new Map,new Map,u,Xs,x),Te.forEach(bn=>{const tn=$i(Pe,bn.element,new Map);bn.postStyleProps.forEach(ei=>tn.set(ei,null))})):(x.push(function ia(){return new e.wOt(3300,!1)}()),Te=[]),x.length)throw function Tr(){return new e.wOt(3504,!1)}();Pe.forEach((bn,tn)=>{bn.forEach((ei,ri)=>{bn.set(ri,this._driver.computeStyle(tn,ri,Ce.kp))})});const Rt=Vt(Te.map(bn=>{const tn=Pe.get(bn.element);return this._buildPlayer(bn,new Map,tn)}));return this._playersById.set(_,Rt),Rt.onDestroy(()=>this.destroy(_)),this.players.push(Rt),Rt}destroy(_){const r=this._getPlayer(_);r.destroy(),this._playersById.delete(_);const u=this.players.indexOf(r);u>=0&&this.players.splice(u,1)}_getPlayer(_){const r=this._playersById.get(_);if(!r)throw function Fa(){return new e.wOt(3301,!1)}();return r}listen(_,r,u,x){const Y=wi(r,"","","");return wn(this._getPlayer(_),u,Y,x),()=>{}}command(_,r,u,x){if("register"==u)return void this.register(_,x[0]);if("create"==u)return void this.create(_,r,x[0]||{});const Y=this._getPlayer(_);switch(u){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(_)}}}const Ks="ng-animate-queued",ro="ng-animate-disabled",Ui=[],zs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qs="__ng_removed";class po{get params(){return this.options.params}constructor(_,r=""){this.namespaceId=r;const u=_&&_.hasOwnProperty("value");if(this.value=function Ec(d){return d??null}(u?_.value:_),u){const{value:Y,...Te}=_;this.options=Te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const r=_.params;if(r){const u=this.options.params;Object.keys(r).forEach(x=>{null==u[x]&&(u[x]=r[x])})}}}const yo="void",to=new po(yo);class xo{constructor(_,r,u){this.id=_,this.hostElement=r,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Or(r,this._hostClassName)}listen(_,r,u,x){if(!this._triggers.has(r))throw function ba(){return new e.wOt(3302,!1)}();if(null==u||0==u.length)throw function Da(){return new e.wOt(3303,!1)}();if(!function wo(d){return"start"==d||"done"==d}(u))throw function Ba(){return new e.wOt(3400,!1)}();const Y=$i(this._elementListeners,_,[]),Te={name:r,phase:u,callback:x};Y.push(Te);const Pe=$i(this._engine.statesByElement,_,new Map);return Pe.has(r)||(Or(_,en),Or(_,en+"-"+r),Pe.set(r,to)),()=>{this._engine.afterFlush(()=>{const it=Y.indexOf(Te);it>=0&&Y.splice(it,1),this._triggers.has(r)||Pe.delete(r)})}}register(_,r){return!this._triggers.has(_)&&(this._triggers.set(_,r),!0)}_getTrigger(_){const r=this._triggers.get(_);if(!r)throw function sa(){return new e.wOt(3401,!1)}();return r}trigger(_,r,u,x=!0){const Y=this._getTrigger(r),Te=new ls(this.id,r,_);let Pe=this._engine.statesByElement.get(_);Pe||(Or(_,en),Or(_,en+"-"+r),this._engine.statesByElement.set(_,Pe=new Map));let it=Pe.get(r);const Rt=new po(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&it&&Rt.absorbOptions(it.options),Pe.set(r,Rt),it||(it=to),Rt.value!==yo&&it.value===Rt.value){if(!function zi(d,_){const r=Object.keys(d),u=Object.keys(_);if(r.length!=u.length)return!1;for(let x=0;x<r.length;x++){const Y=r[x];if(!_.hasOwnProperty(Y)||d[Y]!==_[Y])return!1}return!0}(it.params,Rt.params)){const Zn=[],Xi=Y.matchStyles(it.value,it.params,Zn),Es=Y.matchStyles(Rt.value,Rt.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{mi(_,Xi),Xt(_,Es)})}return}const ei=$i(this._engine.playersByElement,_,[]);ei.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==r&&Zn.queued&&Zn.destroy()});let ri=Y.matchTransition(it.value,Rt.value,_,Rt.params),zn=!1;if(!ri){if(!x)return;ri=Y.fallbackTransition,zn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:r,transition:ri,fromState:it,toState:Rt,player:Te,isFallbackTransition:zn}),zn||(Or(_,Ks),Te.onStart(()=>{Va(_,Ks)})),Te.onDone(()=>{let Zn=this.players.indexOf(Te);Zn>=0&&this.players.splice(Zn,1);const Xi=this._engine.playersByElement.get(_);if(Xi){let Es=Xi.indexOf(Te);Es>=0&&Xi.splice(Es,1)}}),this.players.push(Te),ei.push(Te),Te}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(r=>r.delete(_)),this._elementListeners.forEach((r,u)=>{this._elementListeners.set(u,r.filter(x=>x.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const r=this._engine.playersByElement.get(_);r&&(r.forEach(u=>u.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,r){const u=this._engine.driver.query(_,he,!0);u.forEach(x=>{if(x[qs])return;const Y=this._engine.fetchNamespacesByElement(x);Y.size?Y.forEach(Te=>Te.triggerLeaveAnimation(x,r,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(_,r,u,x){const Y=this._engine.statesByElement.get(_),Te=new Map;if(Y){const Pe=[];if(Y.forEach((it,Rt)=>{if(Te.set(Rt,it.value),this._triggers.has(Rt)){const bn=this.trigger(_,Rt,yo,x);bn&&Pe.push(bn)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,_,!0,r,Te),u&&Vt(Pe).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const r=this._elementListeners.get(_),u=this._engine.statesByElement.get(_);if(r&&u){const x=new Set;r.forEach(Y=>{const Te=Y.name;if(x.has(Te))return;x.add(Te);const it=this._triggers.get(Te).fallbackTransition,Rt=u.get(Te)||to,bn=new po(yo),tn=new ls(this.id,Te,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Te,transition:it,fromState:Rt,toState:bn,player:tn,isFallbackTransition:!0})})}}removeNode(_,r){const u=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,r),this.triggerLeaveAnimation(_,r,!0))return;let x=!1;if(u.totalAnimations){const Y=u.players.length?u.playersByQueriedElement.get(_):[];if(Y&&Y.length)x=!0;else{let Te=_;for(;Te=Te.parentNode;)if(u.statesByElement.get(Te)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(_),x)u.markElementAsRemoved(this.id,_,!1,r);else{const Y=_[qs];(!Y||Y===zs)&&(u.afterFlush(()=>this.clearElementCache(_)),u.destroyInnerAnimations(_),u._onRemovalComplete(_,r))}}insertNode(_,r){Or(_,this._hostClassName)}drainQueuedTransitions(_){const r=[];return this._queue.forEach(u=>{const x=u.player;if(x.destroyed)return;const Y=u.element,Te=this._elementListeners.get(Y);Te&&Te.forEach(Pe=>{if(Pe.name==u.triggerName){const it=wi(Y,u.triggerName,u.fromState.value,u.toState.value);it._data=_,wn(u.player,Pe.phase,it,Pe.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):r.push(u)}),this._queue=[],r.sort((u,x)=>{const Y=u.transition.ast.depCount,Te=x.transition.ast.depCount;return 0==Y||0==Te?Y-Te:this._engine.driver.containsElement(u.element,x.element)?1:-1})}destroy(_){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class aa{_onRemovalComplete(_,r){this.onRemovalComplete(_,r)}constructor(_,r,u){this.bodyNode=_,this.driver=r,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,Y)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(r=>{r.players.forEach(u=>{u.queued&&_.push(u)})}),_}createNamespace(_,r){const u=new xo(_,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(u,r):(this.newHostElements.set(r,u),this.collectEnterElement(r)),this._namespaceLookup[_]=u}_balanceNamespaceList(_,r){const u=this._namespaceList,x=this.namespacesByHostElement;if(u.length-1>=0){let Te=!1,Pe=this.driver.getParentElement(r);for(;Pe;){const it=x.get(Pe);if(it){const Rt=u.indexOf(it);u.splice(Rt+1,0,_),Te=!0;break}Pe=this.driver.getParentElement(Pe)}Te||u.unshift(_)}else u.push(_);return x.set(r,_),_}register(_,r){let u=this._namespaceLookup[_];return u||(u=this.createNamespace(_,r)),u}registerTrigger(_,r,u){let x=this._namespaceLookup[_];x&&x.register(r,u)&&this.totalAnimations++}destroy(_,r){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(_);this.namespacesByHostElement.delete(u.hostElement);const x=this._namespaceList.indexOf(u);x>=0&&this._namespaceList.splice(x,1),u.destroy(r),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const r=new Set,u=this.statesByElement.get(_);if(u)for(let x of u.values())if(x.namespaceId){const Y=this._fetchNamespace(x.namespaceId);Y&&r.add(Y)}return r}trigger(_,r,u,x){if(ka(r)){const Y=this._fetchNamespace(_);if(Y)return Y.trigger(r,u,x),!0}return!1}insertNode(_,r,u,x){if(!ka(r))return;const Y=r[qs];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const Te=this.collectedLeaveElements.indexOf(r);Te>=0&&this.collectedLeaveElements.splice(Te,1)}if(_){const Te=this._fetchNamespace(_);Te&&Te.insertNode(r,u)}x&&this.collectEnterElement(r)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,r){r?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Or(_,ro)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Va(_,ro))}removeNode(_,r,u){if(ka(r)){const x=_?this._fetchNamespace(_):null;x?x.removeNode(r,u):this.markElementAsRemoved(_,r,!1,u);const Y=this.namespacesByHostElement.get(r);Y&&Y.id!==_&&Y.removeNode(r,u)}else this._onRemovalComplete(r,u)}markElementAsRemoved(_,r,u,x,Y){this.collectedLeaveElements.push(r),r[qs]={namespaceId:_,setForRemoval:x,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:Y}}listen(_,r,u,x,Y){return ka(r)?this._fetchNamespace(_).listen(r,u,x,Y):()=>{}}_buildInstruction(_,r,u,x,Y){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,u,x,_.fromState.options,_.toState.options,r,Y)}destroyInnerAnimations(_){let r=this.driver.query(_,he,!0);r.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(_,Mt,!0),r.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(_){const r=this.playersByElement.get(_);r&&r.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(_){const r=this.playersByQueriedElement.get(_);r&&r.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Vt(this.players).onDone(()=>_());_()})}processLeaveNode(_){const r=_[qs];if(r&&r.setForRemoval){if(_[qs]=zs,r.namespaceId){this.destroyInnerAnimations(_);const u=this._fetchNamespace(r.namespaceId);u&&u.clearElementCache(_)}this._onRemovalComplete(_,r.setForRemoval)}_.classList?.contains(ro)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(_=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,x)=>this._balanceNamespaceList(u,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Or(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{r=this._flushAnimations(u,_)}finally{for(let x=0;x<u.length;x++)u[x]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],r.length?Vt(r).onDone(()=>{u.forEach(x=>x())}):u.forEach(x=>x())}}reportError(_){throw function Ta(){return new e.wOt(3402,!1)}()}_flushAnimations(_,r){const u=new mn,x=[],Y=new Map,Te=[],Pe=new Map,it=new Map,Rt=new Map,bn=new Set;this.disabledNodes.forEach(ji=>{bn.add(ji);const Zi=this.driver.query(ji,".ng-animate-queued",!0);for(let as=0;as<Zi.length;as++)bn.add(Zi[as])});const tn=this.bodyNode,ei=Array.from(this.statesByElement.keys()),ri=Pa(ei,this.collectedEnterElements),zn=new Map;let Zn=0;ri.forEach((ji,Zi)=>{const as=Xr+Zn++;zn.set(Zi,as),ji.forEach(Ws=>Or(Ws,as))});const Xi=[],Es=new Set,Gi=new Set;for(let ji=0;ji<this.collectedLeaveElements.length;ji++){const Zi=this.collectedLeaveElements[ji],as=Zi[qs];as&&as.setForRemoval&&(Xi.push(Zi),Es.add(Zi),as.hasAnimation?this.driver.query(Zi,".ng-star-inserted",!0).forEach(Ws=>Es.add(Ws)):Gi.add(Zi))}const Cs=new Map,Ps=Pa(ei,Array.from(Es));Ps.forEach((ji,Zi)=>{const as=It+Zn++;Cs.set(Zi,as),ji.forEach(Ws=>Or(Ws,as))}),_.push(()=>{ri.forEach((ji,Zi)=>{const as=zn.get(Zi);ji.forEach(Ws=>Va(Ws,as))}),Ps.forEach((ji,Zi)=>{const as=Cs.get(Zi);ji.forEach(Ws=>Va(Ws,as))}),Xi.forEach(ji=>{this.processLeaveNode(ji)})});const jr=[],kr=[];for(let ji=this._namespaceList.length-1;ji>=0;ji--)this._namespaceList[ji].drainQueuedTransitions(r).forEach(as=>{const Ws=as.player,Pr=as.element;if(jr.push(Ws),this.collectedEnterElements.length){const Rr=Pr[qs];if(Rr&&Rr.setForMove){if(Rr.previousTriggersValues&&Rr.previousTriggersValues.has(as.triggerName)){const ya=Rr.previousTriggersValues.get(as.triggerName),Cr=this.statesByElement.get(as.element);if(Cr&&Cr.has(as.triggerName)){const Pl=Cr.get(as.triggerName);Pl.value=ya,Cr.set(as.triggerName,Pl)}}return void Ws.destroy()}}const gl=!tn||!this.driver.containsElement(tn,Pr),Kr=Cs.get(Pr),bo=zn.get(Pr),io=this._buildInstruction(as,u,bo,Kr,gl);if(io.errors&&io.errors.length)return void kr.push(io);if(gl)return Ws.onStart(()=>mi(Pr,io.fromStyles)),Ws.onDestroy(()=>Xt(Pr,io.toStyles)),void x.push(Ws);if(as.isFallbackTransition)return Ws.onStart(()=>mi(Pr,io.fromStyles)),Ws.onDestroy(()=>Xt(Pr,io.toStyles)),void x.push(Ws);const mc=[];io.timelines.forEach(Rr=>{Rr.stretchStartingKeyframe=!0,this.disabledNodes.has(Rr.element)||mc.push(Rr)}),io.timelines=mc,u.append(Pr,io.timelines),Te.push({instruction:io,player:Ws,element:Pr}),io.queriedElements.forEach(Rr=>$i(Pe,Rr,[]).push(Ws)),io.preStyleProps.forEach((Rr,ya)=>{if(Rr.size){let Cr=it.get(ya);Cr||it.set(ya,Cr=new Set),Rr.forEach((Pl,Zo)=>Cr.add(Zo))}}),io.postStyleProps.forEach((Rr,ya)=>{let Cr=Rt.get(ya);Cr||Rt.set(ya,Cr=new Set),Rr.forEach((Pl,Zo)=>Cr.add(Zo))})});if(kr.length){const ji=[];kr.forEach(Zi=>{ji.push(function at(){return new e.wOt(3505,!1)}())}),jr.forEach(Zi=>Zi.destroy()),this.reportError(ji)}const Co=new Map,eo=new Map;Te.forEach(ji=>{const Zi=ji.element;u.has(Zi)&&(eo.set(Zi,Zi),this._beforeAnimationBuild(ji.player.namespaceId,ji.instruction,Co))}),x.forEach(ji=>{const Zi=ji.element;this._getPreviousPlayers(Zi,!1,ji.namespaceId,ji.triggerName,null).forEach(Ws=>{$i(Co,Zi,[]).push(Ws),Ws.destroy()})});const Ko=Xi.filter(ji=>Zc(ji,it,Rt)),To=new Map;Cc(To,this.driver,Gi,Rt,Ce.kp).forEach(ji=>{Zc(ji,it,Rt)&&Ko.push(ji)});const es=new Map;ri.forEach((ji,Zi)=>{Cc(es,this.driver,new Set(ji),it,Ce.FX)}),Ko.forEach(ji=>{const Zi=To.get(ji),as=es.get(ji);To.set(ji,new Map([...Zi?.entries()??[],...as?.entries()??[]]))});const go=[],xh=[],qa={};Te.forEach(ji=>{const{element:Zi,player:as,instruction:Ws}=ji;if(u.has(Zi)){if(bn.has(Zi))return as.onDestroy(()=>Xt(Zi,Ws.toStyles)),as.disabled=!0,as.overrideTotalTime(Ws.totalTime),void x.push(as);let Pr=qa;if(eo.size>1){let Kr=Zi;const bo=[];for(;Kr=Kr.parentNode;){const io=eo.get(Kr);if(io){Pr=io;break}bo.push(Kr)}bo.forEach(io=>eo.set(io,Pr))}const gl=this._buildAnimation(as.namespaceId,Ws,Co,Y,es,To);if(as.setRealPlayer(gl),Pr===qa)go.push(as);else{const Kr=this.playersByElement.get(Pr);Kr&&Kr.length&&(as.parentPlayer=Vt(Kr)),x.push(as)}}else mi(Zi,Ws.fromStyles),as.onDestroy(()=>Xt(Zi,Ws.toStyles)),xh.push(as),bn.has(Zi)&&x.push(as)}),xh.forEach(ji=>{const Zi=Y.get(ji.element);if(Zi&&Zi.length){const as=Vt(Zi);ji.setRealPlayer(as)}}),x.forEach(ji=>{ji.parentPlayer?ji.syncPlayerEvents(ji.parentPlayer):ji.destroy()});for(let ji=0;ji<Xi.length;ji++){const Zi=Xi[ji],as=Zi[qs];if(Va(Zi,It),as&&as.hasAnimation)continue;let Ws=[];if(Pe.size){let gl=Pe.get(Zi);gl&&gl.length&&Ws.push(...gl);let Kr=this.driver.query(Zi,Mt,!0);for(let bo=0;bo<Kr.length;bo++){let io=Pe.get(Kr[bo]);io&&io.length&&Ws.push(...io)}}const Pr=Ws.filter(gl=>!gl.destroyed);Pr.length?bc(this,Zi,Pr):this.processLeaveNode(Zi)}return Xi.length=0,go.forEach(ji=>{this.players.push(ji),ji.onDone(()=>{ji.destroy();const Zi=this.players.indexOf(ji);this.players.splice(Zi,1)}),ji.play()}),go}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,r,u,x,Y){let Te=[];if(r){const Pe=this.playersByQueriedElement.get(_);Pe&&(Te=Pe)}else{const Pe=this.playersByElement.get(_);if(Pe){const it=!Y||Y==yo;Pe.forEach(Rt=>{Rt.queued||!it&&Rt.triggerName!=x||Te.push(Rt)})}}return(u||x)&&(Te=Te.filter(Pe=>!(u&&u!=Pe.namespaceId||x&&x!=Pe.triggerName))),Te}_beforeAnimationBuild(_,r,u){const Y=r.element,Te=r.isRemovalTransition?void 0:_,Pe=r.isRemovalTransition?void 0:r.triggerName;for(const it of r.timelines){const Rt=it.element,bn=Rt!==Y,tn=$i(u,Rt,[]);this._getPreviousPlayers(Rt,bn,Te,Pe,r.toState).forEach(ri=>{const zn=ri.getRealPlayer();zn.beforeDestroy&&zn.beforeDestroy(),ri.destroy(),tn.push(ri)})}mi(Y,r.fromStyles)}_buildAnimation(_,r,u,x,Y,Te){const Pe=r.triggerName,it=r.element,Rt=[],bn=new Set,tn=new Set,ei=r.timelines.map(zn=>{const Zn=zn.element;bn.add(Zn);const Xi=Zn[qs];if(Xi&&Xi.removedBeforeQueried)return new Ce.sf(zn.duration,zn.delay);const Es=Zn!==it,Gi=function Ad(d){const _=[];return la(d,_),_}((u.get(Zn)||Ui).map(Co=>Co.getRealPlayer())).filter(Co=>!!Co.element&&Co.element===Zn),Cs=Y.get(Zn),Ps=Te.get(Zn),jr=Bt(this._normalizer,zn.keyframes,Cs,Ps),kr=this._buildPlayer(zn,jr,Gi);if(zn.subTimeline&&x&&tn.add(Zn),Es){const Co=new ls(_,Pe,Zn);Co.setRealPlayer(kr),Rt.push(Co)}return kr});Rt.forEach(zn=>{$i(this.playersByQueriedElement,zn.element,[]).push(zn),zn.onDone(()=>function il(d,_,r){let u=d.get(_);if(u){if(u.length){const x=u.indexOf(r);u.splice(x,1)}0==u.length&&d.delete(_)}return u}(this.playersByQueriedElement,zn.element,zn))}),bn.forEach(zn=>Or(zn,Je));const ri=Vt(ei);return ri.onDestroy(()=>{bn.forEach(zn=>Va(zn,Je)),Xt(it,r.toStyles)}),tn.forEach(zn=>{$i(x,zn,[]).push(ri)}),ri}_buildPlayer(_,r,u){return r.length>0?this.driver.animate(_.element,r,_.duration,_.delay,_.easing,u):new Ce.sf(_.duration,_.delay)}}class ls{constructor(_,r,u){this.namespaceId=_,this.triggerName=r,this.element=u,this._player=new Ce.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((r,u)=>{r.forEach(x=>wn(_,u,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const r=this._player;r.triggerCallback&&_.onStart(()=>r.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,r){$i(this._queuedCallbacks,_,[]).push(r)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const r=this._player;r.triggerCallback&&r.triggerCallback(_)}}function ka(d){return d&&1===d.nodeType}function Nl(d,_){const r=d.style.display;return d.style.display=_??"none",r}function Cc(d,_,r,u,x){const Y=[];r.forEach(it=>Y.push(Nl(it)));const Te=[];u.forEach((it,Rt)=>{const bn=new Map;it.forEach(tn=>{const ei=_.computeStyle(Rt,tn,x);bn.set(tn,ei),(!ei||0==ei.length)&&(Rt[qs]=tr,Te.push(Rt))}),d.set(Rt,bn)});let Pe=0;return r.forEach(it=>Nl(it,Y[Pe++])),Te}function Pa(d,_){const r=new Map;if(d.forEach(Pe=>r.set(Pe,[])),0==_.length)return r;const x=new Set(_),Y=new Map;function Te(Pe){if(!Pe)return 1;let it=Y.get(Pe);if(it)return it;const Rt=Pe.parentNode;return it=r.has(Rt)?Rt:x.has(Rt)?1:Te(Rt),Y.set(Pe,it),it}return _.forEach(Pe=>{const it=Te(Pe);1!==it&&r.get(it).push(Pe)}),r}function Or(d,_){d.classList?.add(_)}function Va(d,_){d.classList?.remove(_)}function bc(d,_,r){Vt(r).onDone(()=>d.processLeaveNode(_))}function la(d,_){for(let r=0;r<d.length;r++){const u=d[r];u instanceof Ce.ui?la(u.players,_):_.push(u)}}function Zc(d,_,r){const u=r.get(d);if(!u)return!1;let x=_.get(d);return x?u.forEach(Y=>x.add(Y)):_.set(d,u),r.delete(d),!0}class Eo{constructor(_,r,u){this._driver=r,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(x,Y)=>{},this._transitionEngine=new aa(_.body,r,u),this._timelineEngine=new ho(_.body,r,u),this._transitionEngine.onRemovalComplete=(x,Y)=>this.onRemovalComplete(x,Y)}registerTrigger(_,r,u,x,Y){const Te=_+"-"+x;let Pe=this._triggerCache[Te];if(!Pe){const it=[],bn=Qc(this._driver,Y,it,[]);if(it.length)throw function Ca(){return new e.wOt(3404,!1)}();Pe=function Kt(d,_,r){return new Pn(d,_,r)}(x,bn,this._normalizer),this._triggerCache[Te]=Pe}this._transitionEngine.registerTrigger(r,x,Pe)}register(_,r){this._transitionEngine.register(_,r)}destroy(_,r){this._transitionEngine.destroy(_,r)}onInsert(_,r,u,x){this._transitionEngine.insertNode(_,r,u,x)}onRemove(_,r,u){this._transitionEngine.removeNode(_,r,u)}disableAnimations(_,r){this._transitionEngine.markElementAsDisabled(_,r)}process(_,r,u,x){if("@"==u.charAt(0)){const[Y,Te]=Ei(u);this._timelineEngine.command(Y,r,Te,x)}else this._transitionEngine.trigger(_,r,u,x)}listen(_,r,u,x,Y){if("@"==u.charAt(0)){const[Te,Pe]=Ei(u);return this._timelineEngine.listen(Te,r,Pe,Y)}return this._transitionEngine.listen(_,r,u,x,Y)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}class bl{static{this.initialStylesByElement=new WeakMap}constructor(_,r,u){this._element=_,this._startStyles=r,this._endStyles=u,this._state=0;let x=bl.initialStylesByElement.get(_);x||bl.initialStylesByElement.set(_,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&Xt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xt(this._element,this._initialStyles),this._endStyles&&(Xt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(bl.initialStylesByElement.delete(this._element),this._startStyles&&(mi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mi(this._element,this._endStyles),this._endStyles=null),Xt(this._element,this._initialStyles),this._state=3)}}function Fl(d){let _=null;return d.forEach((r,u)=>{(function ar(d){return"display"===d||"position"===d})(u)&&(_=_||new Map,_.set(u,r))}),_}class Bl{constructor(_,r,u,x){this.element=_,this.keyframes=r,this.options=u,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const r=[];return _.forEach(u=>{r.push(Object.fromEntries(u))}),r}_triggerWebAnimation(_,r,u){return _.animate(this._convertKeyframesToObject(r),u)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,x)=>{"offset"!==x&&_.set(x,this._finished?u:Al(this.element,x))}),this.currentSnapshot=_}triggerCallback(_){const r="start"===_?this._onStartFns:this._onDoneFns;r.forEach(u=>u()),r.length=0}}class nr{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}containsElement(_,r){return Mo(_,r)}getParentElement(_){return Qs(_)}query(_,r,u){return ss(_,r,u)}computeStyle(_,r,u){return Al(_,r)}animate(_,r,u,x,Y,Te=[]){const it={duration:u,delay:x,fill:0==x?"both":"forwards"};Y&&(it.easing=Y);const Rt=new Map,bn=Te.filter(ri=>ri instanceof Bl);(function _c(d,_){return 0===d||0===_})(u,x)&&bn.forEach(ri=>{ri.currentSnapshot.forEach((zn,Zn)=>Rt.set(Zn,zn))});let tn=function Oe(d){return d.length?d[0]instanceof Map?d:d.map(_=>new Map(Object.entries(_))):[]}(r).map(ri=>new Map(ri));tn=function tl(d,_,r){if(r.size&&_.length){let u=_[0],x=[];if(r.forEach((Y,Te)=>{u.has(Te)||x.push(Te),u.set(Te,Y)}),x.length)for(let Y=1;Y<_.length;Y++){let Te=_[Y];x.forEach(Pe=>Te.set(Pe,Al(d,Pe)))}}return _}(_,tn,Rt);const ei=function Yr(d,_){let r=null,u=null;return Array.isArray(_)&&_.length?(r=Fl(_[0]),_.length>1&&(u=Fl(_[_.length-1]))):_ instanceof Map&&(r=Fl(_)),r||u?new bl(d,r,u):null}(_,tn);return new Bl(_,tn,it,ei)}}const xd="@.disabled";class $a{constructor(_,r,u,x){this.namespaceId=_,this.delegate=r,this.engine=u,this._onDestroy=x,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,r){return this.delegate.createElement(_,r)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,r){this.delegate.appendChild(_,r),this.engine.onInsert(this.namespaceId,r,_,!1)}insertBefore(_,r,u,x=!0){this.delegate.insertBefore(_,r,u),this.engine.onInsert(this.namespaceId,r,_,x)}removeChild(_,r,u){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(_,r){return this.delegate.selectRootElement(_,r)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,r,u,x){this.delegate.setAttribute(_,r,u,x)}removeAttribute(_,r,u){this.delegate.removeAttribute(_,r,u)}addClass(_,r){this.delegate.addClass(_,r)}removeClass(_,r){this.delegate.removeClass(_,r)}setStyle(_,r,u,x){this.delegate.setStyle(_,r,u,x)}removeStyle(_,r,u){this.delegate.removeStyle(_,r,u)}setProperty(_,r,u){"@"==r.charAt(0)&&r==xd?this.disableAnimations(_,!!u):this.delegate.setProperty(_,r,u)}setValue(_,r){this.delegate.setValue(_,r)}listen(_,r,u){return this.delegate.listen(_,r,u)}disableAnimations(_,r){this.engine.disableAnimations(_,r)}}class wd extends $a{constructor(_,r,u,x,Y){super(r,u,x,Y),this.factory=_,this.namespaceId=r}setProperty(_,r,u){"@"==r.charAt(0)?"."==r.charAt(1)&&r==xd?this.disableAnimations(_,u=void 0===u||!!u):this.engine.process(this.namespaceId,_,r.slice(1),u):this.delegate.setProperty(_,r,u)}listen(_,r,u){if("@"==r.charAt(0)){const x=function lf(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(_);let Y=r.slice(1),Te="";return"@"!=Y.charAt(0)&&([Y,Te]=function cf(d){const _=d.indexOf(".");return[d.substring(0,_),d.slice(_+1)]}(Y)),this.engine.listen(this.namespaceId,x,Y,Te,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,u,Pe)})}return this.delegate.listen(_,r,u)}}class qc{constructor(_,r,u){this.delegate=_,this.engine=r,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(x,Y)=>{Y?.removeChild(null,x)}}createRenderer(_,r){const x=this.delegate.createRenderer(_,r);if(!_||!r?.data?.animation){const Rt=this._rendererCache;let bn=Rt.get(x);return bn||(bn=new $a("",x,this.engine,()=>Rt.delete(x)),Rt.set(x,bn)),bn}const Y=r.id,Te=r.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,_);const Pe=Rt=>{Array.isArray(Rt)?Rt.forEach(Pe):this.engine.registerTrigger(Y,Te,_,Rt.name,Rt)};return r.data.animation.forEach(Pe),new wd(this,Te,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(_,r,u){if(_>=0&&_<this._microtaskId)return void this._zone.run(()=>r(u));const x=this._animationCallbacksBuffer;0==x.length&&queueMicrotask(()=>{this._zone.run(()=>{x.forEach(Y=>{const[Te,Pe]=Y;Te(Pe)}),this._animationCallbacksBuffer=[]})}),x.push([r,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let ae=(()=>{class d extends Eo{constructor(r,u,x){super(r,u,x)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(p.qQ),e.KVO(zr),e.KVO(ra))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Re=[{provide:ra,useFactory:function Ie(){return new yl}},{provide:Eo,useClass:ae},{provide:e._9s,useFactory:function de(d,_,r){return new qc(d,_,r)},deps:[f.B7,Eo,e.SKi]}],qe=[{provide:zr,useFactory:()=>new nr},{provide:e.bc$,useValue:"BrowserAnimations"},...Re];var cs=n(57786),qi=n(71985),ao=n(21413),Dl=n(73557),_r=n(983),Gn=n(7673),ca=n(18810),Ld=n(98071);class Wa{constructor(_,r,u){this.kind=_,this.value=r,this.error=u,this.hasValue="N"===_}observe(_){return Lh(this,_)}do(_,r,u){const{kind:x,value:Y,error:Te}=this;return"N"===x?_?.(Y):"E"===x?r?.(Te):u?.()}accept(_,r,u){var x;return(0,Ld.T)(null===(x=_)||void 0===x?void 0:x.next)?this.observe(_):this.do(_,r,u)}toObservable(){const{kind:_,value:r,error:u}=this,x="N"===_?(0,Gn.of)(r):"E"===_?(0,ca.$)(()=>u):"C"===_?_r.w:0;if(!x)throw new TypeError(`Unexpected notification kind ${_}`);return x}static createNext(_){return new Wa("N",_)}static createError(_){return new Wa("E",void 0,_)}static createComplete(){return Wa.completeNotification}}function Lh(d,_){var r,u,x;const{kind:Y,value:Te,error:Pe}=d;if("string"!=typeof Y)throw new TypeError('Invalid notification, missing "kind"');"N"===Y?null===(r=_.next)||void 0===r||r.call(_,Te):"E"===Y?null===(u=_.error)||void 0===u||u.call(_,Pe):null===(x=_.complete)||void 0===x||x.call(_)}Wa.completeNotification=new Wa("C");var Nd=n(39974),Dc=n(54360),Sn=n(96354),Io=n(99437),fo=n(5964),Su=n(58750);function uf(d,_,r,u){return(0,Nd.N)((x,Y)=>{let Te;_&&"function"!=typeof _?({duration:r,element:Te,connector:u}=_):Te=_;const Pe=new Map,it=zn=>{Pe.forEach(zn),zn(Y)},Rt=zn=>it(Zn=>Zn.error(zn));let bn=0,tn=!1;const ei=new Dc.H(Y,zn=>{try{const Zn=d(zn);let Xi=Pe.get(Zn);if(!Xi){Pe.set(Zn,Xi=u?u():new ao.B);const Es=function ri(zn,Zn){const Xi=new qi.c(Es=>{bn++;const Gi=Zn.subscribe(Es);return()=>{Gi.unsubscribe(),0==--bn&&tn&&ei.unsubscribe()}});return Xi.key=zn,Xi}(Zn,Xi);if(Y.next(Es),r){const Gi=(0,Dc._)(Xi,()=>{Xi.complete(),Gi?.unsubscribe()},void 0,void 0,()=>Pe.delete(Zn));ei.add((0,Su.Tg)(r(Es)).subscribe(Gi))}}Xi.next(Te?Te(zn):zn)}catch(Zn){Rt(Zn)}},()=>it(zn=>zn.complete()),Rt,()=>Pe.clear(),()=>(tn=!0,0===bn));x.subscribe(ei)})}var vr=n(73028);function Iu(d,_){return _?r=>r.pipe(Iu((u,x)=>(0,Su.Tg)(d(u,x)).pipe((0,Sn.T)((Y,Te)=>_(u,Y,x,Te))))):(0,Nd.N)((r,u)=>{let x=0,Y=null,Te=!1;r.subscribe((0,Dc._)(u,Pe=>{Y||(Y=(0,Dc._)(u,void 0,()=>{Y=null,Te&&u.complete()}),(0,Su.Tg)(d(Pe,x++)).subscribe(Y))},()=>{Te=!0,!Y&&u.complete()}))})}const Ul={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Pu="__@ngrx/effects_create__";function Di(d,_={}){const r=_.functional?d:d(),u={...Ul,..._};return Object.defineProperty(r,Pu,{value:u}),r}function da(d){return Object.getPrototypeOf(d)}function Tc(d){return"function"==typeof d}function jl(d){return d.filter(Tc)}function fg(d,_,r){const u=da(d),Y=u&&"Object"!==u.constructor.name?u.constructor.name:null,Te=function Fd(d){return function no(d){return Object.getOwnPropertyNames(d).filter(u=>!(!d[u]||!d[u].hasOwnProperty(Pu))&&d[u][Pu].hasOwnProperty("dispatch")).map(u=>({propertyName:u,...d[u][Pu]}))}(d)}(d).map(({propertyName:Pe,dispatch:it,useEffectsErrorHandler:Rt})=>{const bn="function"==typeof d[Pe]?d[Pe]():d[Pe],tn=Rt?r(bn,_):bn;return!1===it?tn.pipe((0,Dl.w)()):tn.pipe(function df(){return(0,Nd.N)((d,_)=>{d.subscribe((0,Dc._)(_,r=>{_.next(Wa.createNext(r))},()=>{_.next(Wa.createComplete()),_.complete()},r=>{_.next(Wa.createError(r)),_.complete()}))})}()).pipe((0,Sn.T)(ri=>({effect:d[Pe],notification:ri,propertyName:Pe,sourceName:Y,sourceInstance:d})))});return(0,cs.h)(...Te)}function mg(d,_,r=10){return d.pipe((0,Io.W)(u=>(_&&_.handleError(u),r<=1?d:mg(d,_,r-1))))}let lo=(()=>{class d extends qi.c{constructor(r){super(),r&&(this.source=r)}lift(r){const u=new d;return u.source=this,u.operator=r,u}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(E.sA))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Ii(...d){return(0,fo.p)(_=>d.some(r=>"string"==typeof r?r===_.type:r.type===_.type))}const hf=new e.nKC("@ngrx/effects Internal Root Guard"),Nh=new e.nKC("@ngrx/effects User Provided Effects"),Au=new e.nKC("@ngrx/effects Internal Root Effects"),pf=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Fh=new e.nKC("@ngrx/effects Internal Feature Effects"),Bh=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),gg=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>mg}),kl="@ngrx/effects/init";(0,E.VP)(kl);function c1(d){return vg(d,"ngrxOnInitEffects")}function vg(d,_){return d&&_ in d&&"function"==typeof d[_]}let yg=(()=>{class d extends ao.B{constructor(r,u){super(),this.errorHandler=r,this.effectsErrorHandler=u}addEffects(r){this.next(r)}toActions(){return this.pipe(uf(r=>function jv(d){return!!d.constructor&&"Object"!==d.constructor.name&&"Function"!==d.constructor.name}(r)?da(r):r),(0,vr.Z)(r=>r.pipe(uf(Eg))),(0,vr.Z)(r=>{const u=r.pipe(Iu(Y=>function d1(d,_){return r=>{const u=fg(r,d,_);return function $v(d){return vg(d,"ngrxOnRunEffects")}(r)?r.ngrxOnRunEffects(u):u}}(this.errorHandler,this.effectsErrorHandler)(Y)),(0,Sn.T)(Y=>(function ff(d,_){if("N"===d.notification.kind){const r=d.notification.value;!function _g(d){return"function"!=typeof d&&d&&d.type&&"string"==typeof d.type}(r)&&_.handleError(new Error(`Effect ${function kv({propertyName:d,sourceInstance:_,sourceName:r}){const u="function"==typeof _[d];return r?`"${r}.${String(d)}${u?"()":""}"`:`"${String(d)}()"`}(d)} dispatched an invalid action: ${function CO(d){try{return JSON.stringify(d)}catch{return d}}(r)}`))}}(Y,this.errorHandler),Y.notification)),(0,fo.p)(Y=>"N"===Y.kind&&null!=Y.value),function Uv(){return(0,Nd.N)((d,_)=>{d.subscribe((0,Dc._)(_,r=>Lh(r,_)))})}()),x=r.pipe((0,D.s)(1),(0,fo.p)(c1),(0,Sn.T)(Y=>Y.ngrxOnInitEffects()));return(0,cs.h)(u,x)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(e.zcH),e.KVO(gg))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Eg(d){return function Vv(d){return vg(d,"ngrxOnIdentifyEffects")}(d)?d.ngrxOnIdentifyEffects():""}let Nn=(()=>{class d{get isStarted(){return!!this.effectsSubscription}constructor(r,u){this.effectSources=r,this.store=u,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(yg),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Ki=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it){this.sources=r,u.start();for(const Rt of Y)r.addEffects(Rt);x.dispatch({type:kl})}addEffects(r){this.sources.addEffects(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(yg),e.KVO(Nn),e.KVO(E.il),e.KVO(pf),e.KVO(E.wc,8),e.KVO(E.ae,8),e.KVO(hf,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),Uh=(()=>{class d{constructor(r,u,x,Y){const Te=u.flat();for(const Pe of Te)r.addEffects(Pe)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Ki),e.KVO(Bh),e.KVO(E.wc,8),e.KVO(E.ae,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),Ud=(()=>{class d{static forFeature(...r){const u=r.flat(),x=jl(u);return{ngModule:Uh,providers:[x,{provide:Fh,multi:!0,useValue:u},{provide:Nh,multi:!0,useValue:[]},{provide:Bh,multi:!0,useFactory:co,deps:[Fh,Nh]}]}}static forRoot(...r){const u=r.flat(),x=jl(u);return{ngModule:Ki,providers:[x,{provide:Au,useValue:[u]},{provide:hf,useFactory:Cg},{provide:Nh,multi:!0,useValue:[]},{provide:pf,useFactory:co,deps:[Au,Nh]}]}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})();function co(d,_){const r=[];for(const u of d)r.push(...u);for(const u of _)r.push(...u);return r.map(u=>function ua(d){return d instanceof e.nKC||Tc(d)}(u)?(0,e.WQX)(u):u)}function Cg(){const d=(0,e.WQX)(Nn,{optional:!0,skipSelf:!0}),_=(0,e.WQX)(Au,{self:!0});if((1!==_.length||0!==_[0].length)&&d)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ed=n(97324),Ra=n(37542),xu=n(33669),Wv=n(27468),kh=n(22806),Ns=n(84572),Li=n(25558),mf=n(70274),Vi=n(88141),ha=n(39901),jd=n(73703);const Ma=new e.nKC("MATOMO_ROUTER_CONFIGURATION"),Vl={prependBaseHref:!0,trackPageTitle:!0,delay:0,exclude:[],navigationEndComparator:"fullUrl"},wu=new e.nKC("INTERNAL_ROUTER_CONFIGURATION",{factory:()=>{const{disabled:d,enableLinkTracking:_}=(0,e.WQX)(Ra.Gc),r=(0,e.WQX)(Ma,{optional:!0})||{};return{...Vl,...r,enableLinkTracking:_,disabled:d}}}),$l=new e.nKC("MATOMO_ROUTER_INTERCEPTORS");class u1{constructor(_,r){this.fn=_,this.injector=r}beforePageTrack(_){return(0,e.N4e)(this.injector,()=>this.fn(_))}}function gf(d){return function bg(d){return"function"!=typeof d.prototype?.beforePageTrack}(d)?{provide:$l,multi:!0,useFactory:()=>new u1(d,(0,e.WQX)(e.duS))}:{provide:$l,multi:!0,useClass:d}}function Vh(d,_){const r=function Tg(d,_){return d.children.find(r=>r.outlet===_)}(d,_);return r?Vh(r,_):d}class h1{constructor(){this.router=(0,e.WQX)(y.Ix)}beforePageTrack(_){const r=this.getRoute(_),u=this.extractRouteData(r);return this.processRouteData(u)}getRoute(_){return Vh(this.router.routerState.snapshot.root,y.Xk)}}const _f=new e.nKC("MATOMO_ROUTE_DATA_KEY",{providedIn:"root",factory:()=>"matomo"});let Kv=(()=>{class d extends h1{constructor(){super(...arguments),this.tracker=(0,e.WQX)(Ra.kA),this.dataKey=(0,e.WQX)(_f)}extractRouteData(r){return r.data[this.dataKey]}processRouteData(r){r&&(r.title&&this.tracker.setDocumentTitle(r.title),r.ecommerce&&this.tracker.setEcommerceView(r.ecommerce))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Xv=new e.nKC("MATOMO_PAGE_TITLE_PROVIDER",{factory:()=>new Mg((0,e.WQX)(f.hE))});class Mg{constructor(_){this.title=_}getCurrentPageTitle(_){return(0,Gn.of)(this.title.getTitle())}}const p1=new e.nKC("MATOMO_PAGE_URL_PROVIDER",{factory:()=>new Zl((0,e.WQX)(wu),(0,e.WQX)(p.kB,{optional:!0}),(0,e.WQX)(p.hb))});class Zl{constructor(_,r,u){this.config=_,this.baseHref=r,this.locationStrategy=u}getCurrentPageUrl(_){const r=this.config.prependBaseHref?this.getBaseHrefWithoutTrailingSlash()+_.urlAfterRedirects:_.urlAfterRedirects;return(0,Gn.of)(r)}getBaseHrefWithoutTrailingSlash(){return function pa(d){return d.endsWith("/")?d.slice(0,-1):d}(this.baseHref??this.locationStrategy.getBaseHref()??"")}}function Vo(d){return d instanceof y.wF}function $h(d){return"string"==typeof d?new RegExp(d):d}function Wh(d){return(_,r)=>d(_)===d(r)}let Gh=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it){if(this.router=r,this.platformId=u,this.config=x,this.pageTitleProvider=Y,this.pageUrlProvider=Te,this.tracker=Pe,this.interceptors=it,this.initialize=(0,Ra.MH)(()=>{if(this.config.disabled||!(0,p.UE)(this.platformId))return;const Rt=-1===this.config.delay?xu.D:(0,C.c)(this.config.delay),bn=function kd(d){switch(d.navigationEndComparator){case"fullUrl":return Wh(_=>_.urlAfterRedirects);case"ignoreQueryParams":return Wh(_=>function Lu(d){return d.split("?")[0]}(_.urlAfterRedirects));default:return d.navigationEndComparator}}(this.config);this.router.events.pipe((0,fo.p)(Vo),(0,fo.p)(function yf(d){const _=function vf(d){return d?Array.isArray(d)?d.map($h):[$h(d)]:[]}(d);return r=>!_.some(u=>r.urlAfterRedirects.match(u))}(this.config.exclude)),(0,O.F)(bn),Rt,(0,Li.n)(tn=>this.presetPageTitleAndUrl(tn).pipe((0,Sn.T)(({pageUrl:ei})=>({pageUrl:ei,event:tn})))),(0,mf.H)(({event:tn,pageUrl:ei})=>this.callInterceptors(tn).pipe((0,Vi.M)(()=>this.trackPageView(ei))))).subscribe()},"MatomoRouter has already been initialized"),it&&!Array.isArray(it))throw function zv(){return new Error('An invalid MATOMO_ROUTER_INTERCEPTORS provider was configured. Did you forget to set "multi: true" ?')}()}init(){this.initialize()}callInterceptors(r){return this.interceptors?(0,Wv.p)(this.interceptors.map(u=>{const x=u.beforePageTrack(r);return(null==x?(0,Gn.of)(void 0):(0,kh.H)(x)).pipe((0,D.s)(1),(0,ha.U)(void 0))})).pipe((0,jd.u)(void 0),(0,ha.U)(void 0)):(0,Gn.of)(void 0)}presetPageTitleAndUrl(r){const u=this.config.trackPageTitle?this.pageTitleProvider.getCurrentPageTitle(r).pipe((0,Vi.M)(Y=>this.tracker.setDocumentTitle(Y))):(0,Gn.of)(void 0),x=this.pageUrlProvider.getCurrentPageUrl(r).pipe((0,Vi.M)(Y=>this.tracker.setCustomUrl(Y)));return(0,Ns.z)([u,x]).pipe((0,Sn.T)(([Y,Te])=>({pageUrl:Te})))}trackPageView(r){this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking("enable-pseudo"===this.config.enableLinkTracking),this.tracker.setReferrerUrl(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(y.Ix),e.KVO(e.Agw),e.KVO(wu),e.KVO(Xv),e.KVO(p1),e.KVO(Ra.kA),e.KVO($l,8))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Hi=n(1473),Mc=n(20766),Og=n(53588),Sg=n(85188),mo=n(79096),Cf=n(60432),Bu=n(581),bf=n(18705),Df=n(370),Ig=n(12816),Kh=n(32954),Hh=n(13684),zh=n(82272),Wd=n(21772);const td=["*"];function Tf(d,_){}let ql=(()=>{class d extends M.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(r){return n(30130)(`./${r}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,21772))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:td,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Tf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Mf=n(84848),Uu=n(81176),Xh=n(88368),ju=n(11989),Gd=n(55681),Pg=n(9894);const Of=["*"];function Sf(d,_){}let Yh=(()=>{class d extends M.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(r){return n(18400)(`./${r}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9894))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Of,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Sf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var al=n(74154);const Rg=["*"];function ku(d,_){}let Jh=(()=>{class d extends M.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(r){return n(46544)(`./${r}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,74154))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Rg,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,ku,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Vu=n(80830);const Qh=["*"];function If(d,_){}let Zh=(()=>{class d extends M.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(r){return n(94826)(`./${r}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,80830))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Qh,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,If,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(65112),n(70687);const xg=[p.MD,G.UN],wg=[];let nd=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...wg],imports:[xg,L.RootComponent,$,Uu.HeaderComponent,Xh.q,ju.HeaderNavbarWrapperComponent,Gd.h,Cf.AdminSidebarComponent,Df.u,Bu.g,bf.W,Hh.FooterComponent,zh.C,Vu.PageNotFoundComponent,Zh,Ig.BreadcrumbsComponent,Kh.B,Wd.ForbiddenComponent,ql,J,Jh,al.PageInternalServerErrorComponent,Yh,Pg.PageErrorComponent,Mf.Y]})}}return d})();var Yv=n(39618),qh=n(66515),Kd=(n(24968),n(87136));const Oc=[];let Qv=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...Oc.map(r=>({provide:r}))],imports:[p.MD,nd,Yv.HeaderComponent,qh.HeaderNavbarWrapperComponent,Kd.NavbarComponent]})}}return d})(),ep=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[Qv]})}}return d})();var $u=n(61594),Hd=n(25428),zd=n(96132),ll=n(66372),tp=n(195);let Ng=(()=>{class d{constructor(r,u){this.actions$=r,this.menuService=u,this.menuID=ll.D.PUBLIC,this.resize$=Di(()=>this.actions$.pipe(Ii(k.O.RESIZE),(0,Sn.T)(()=>new Hd.F$(this.menuID)))),this.routeChange$=Di(()=>this.actions$.pipe(Ii(Mc.hr),(0,Sn.T)(()=>new Hd.F$(this.menuID)))),this.openAdminSidebar$=Di(()=>this.actions$.pipe(Ii(Hd.jZ.EXPAND_MENU_PREVIEW),(0,Li.n)(x=>this.menuService.getMenu(x.menuID).pipe((0,$u.$)(),(0,Sn.T)(Y=>Y.id===ll.D.ADMIN&&!Y.previewCollapsed&&Y.collapsed?new Hd.F$(ll.D.PUBLIC):new tp.L)))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(zd.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ga=n(81948),Wl=n(36482),id=n(87433),Zv=n(88392),Ka=n(3601),Qr=n(46755),Ti=n(4093),qv=n(66903),xs=n(8734),Zr=n(9847),Xd=n(76089),rs=n(4600),Yd=n(49792),Sr=function(d){return d[d.Add=0]="Add",d[d.Remove=1]="Remove",d}(Sr||{});let Bg=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei){this.actions$=r,this.relationshipService=u,this.relationshipTypeService=x,this.submissionObjectService=Y,this.store=Te,this.objectCache=Pe,this.requestService=it,this.notificationsService=Rt,this.translateService=bn,this.selectableListService=tn,this.debounceTime=ei,this.requestQueue=new ao.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=Di(()=>this.actions$.pipe(Ii(Yd.oE.ADD_RELATIONSHIP,Yd.oE.REMOVE_RELATIONSHIP),(0,Sn.T)(ri=>{const{item1:zn,item2:Zn,submissionId:Xi,relationshipType:Es}=ri.payload,Gi=this.createIdentifier(zn,Zn,Es);(0,V.Tn)(this.debounceMap[Gi])?(this.initialActionMap[Gi]=ri.type,this.debounceMap[Gi]=new v.t(ri.type),this.debounceMap[Gi].pipe(this.debounceTime(500),(0,D.s)(1)).subscribe(Cs=>{if(this.initialActionMap[Gi]===Cs)if(Cs===Yd.oE.ADD_RELATIONSHIP){let Ps=ri.payload.nameVariant;(0,V.a4)(this.nameVariantUpdates[Gi])&&(Ps=this.nameVariantUpdates[Gi],delete this.nameVariantUpdates[Gi]),this.requestQueue.next({type:Sr.Add,item1:zn,item2:Zn,relationshipType:Es,submissionId:Xi,nameVariant:Ps})}else this.requestQueue.next({type:Sr.Remove,item1:zn,item2:Zn,relationshipType:Es,submissionId:Xi});delete this.debounceMap[Gi],delete this.initialActionMap[Gi]})):this.debounceMap[Gi].next(ri.type)})),{dispatch:!1}),this.updateNameVariantsActions$=Di(()=>this.actions$.pipe(Ii(Yd.oE.UPDATE_NAME_VARIANT),(0,Sn.T)(ri=>{const{item1:zn,item2:Zn,relationshipType:Xi,submissionId:Es,nameVariant:Gi}=ri.payload,Cs=this.createIdentifier(zn,Zn,Xi);(0,V.a4)(this.debounceMap[Cs])?this.nameVariantUpdates[Cs]=Gi:this.relationshipService.updateNameVariant(zn,Zn,Xi,Gi).pipe((0,fo.p)(jr=>(0,V.a4)(jr.payload)),(0,D.s)(1)).subscribe(jr=>{this.updateAfterPatchSubmissionId=Es,this.relationshipService.refreshRelationshipItemsInCache(zn),this.relationshipService.refreshRelationshipItemsInCache(Zn)})})),{dispatch:!1}),this.updateRelationshipActions$=Di(()=>this.actions$.pipe(Ii(Yd.oE.UPDATE_RELATIONSHIP),(0,Sn.T)(ri=>{this.updateAfterPatchSubmissionId=ri.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=Di(()=>this.actions$.pipe(Ii(Wl.G9.EMPTY,Qr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,fo.p)(()=>(0,V.a4)(this.updateAfterPatchSubmissionId)),(0,Li.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,Sn.T)(ri=>new xs.ky(this.updateAfterPatchSubmissionId,[ri],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,mf.H)(r=>{switch(r.type){case Sr.Add:return this.addRelationship(r.item1,r.item2,r.relationshipType,r.submissionId,r.nameVariant).pipe((0,Sn.T)(()=>r));case Sr.Remove:return this.removeRelationship(r.item1,r.item2,r.relationshipType).pipe((0,Sn.T)(()=>r));default:return[r]}}),(0,Li.n)(r=>this.refreshWorkspaceItemInCache(r.submissionId))).subscribe(r=>{this.store.dispatch(new xs.ky(r.id,[r],!1))})}createIdentifier(r,u,x){return`${r.uuid}-${u.uuid}-${x}`}addRelationship(r,u,x,Y,Te){const Pe=r.firstMetadataValue("dspace.entity.type"),it=u.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(x,Pe,it).pipe((0,vr.Z)(Rt=>null===Rt?[null]:Rt.rightwardType===x?this.relationshipService.addRelationship(Rt.id,u,r,Te,void 0):this.relationshipService.addRelationship(Rt.id,r,u,void 0,Te)),(0,D.s)(1),(0,Vi.M)(Rt=>{if((0,V.Tn)(Rt)||Rt.hasFailed){const bn=`list-${Y}-${x}`;let tn;this.selectableListService.findSelectedByCondition(bn,ei=>(0,V.a4)(ei.indexableObject)&&ei.indexableObject.uuid===u.uuid).pipe((0,D.s)(1),(0,V.Az)()).subscribe(ei=>{this.selectableListService.deselectSingle(bn,ei)}),tn=(0,V.Tn)(Rt)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:x}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),tn)}}))}removeRelationship(r,u,x){return this.relationshipService.getRelationshipByItemsAndLabel(r,u,x).pipe((0,vr.Z)(Y=>this.relationshipService.deleteRelationship(Y.id,"none")),(0,D.s)(1))}refreshWorkspaceItemInCache(r){return this.submissionObjectService.findById(r,!1,!1,(0,rs.s)("item")).pipe((0,Ti.yd)(),(0,Ti.Bo)())}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(id.RelationshipDataService),e.KVO(Zv.RelationshipTypeDataService),e.KVO(qv.$),e.KVO(E.il),e.KVO(Ga.$),e.KVO(Ka.B),e.KVO(Zr.I),e.KVO(K.c$),e.KVO(Xd.K),e.KVO(Ti.f6))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),e0=(()=>{class d{constructor(r,u){this.actions$=r,this.store=u}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class f1{constructor(_){this.original=_}toString(){if((0,V.Im)(this.original))return"";{const _=this.original.indexOf("?");return _<0?this.original:this.original.substring(0,_)}}}var Ug=n(16464);let m1=(()=>{class d{constructor(r){this.actions$=r,this.routeChange$=Di(()=>this.actions$.pipe(Ii(Mc.hr),(0,fo.p)(u=>this.previousPath!==this.getBaseUrl(u)),(0,Vi.M)(u=>{this.previousPath=this.getBaseUrl(u)}),(0,Sn.T)(()=>new Ug.EI)))}getBaseUrl(r){return new f1(r.payload.routerState.url).toString()}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var np=n(97402),Rf=n(93620);let Jd=(()=>{class d{constructor(r){this.actions$=r,this.initTheme$=Di(()=>this.actions$.pipe(Ii(kl),(0,Sn.T)(()=>{const u=(0,fe.Nv)();return(0,V.a4)(u)?new np.K(u.name):new np.K(Rf.Q)})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Wu=n(6800);const cl={REHYDRATE:(0,Wu.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,Wu.N)("dspace/ngrx/REPLAY")};class ec{constructor(_,r){this.type=_,this.payload=r}}const g1=[(()=>{class d{constructor(r,u){this.actions=r,this.store=u,this.replay=Di(()=>this.actions.pipe(Ii(cl.REPLAY),(0,Sn.T)(x=>(0,Gn.of)({}))),{dispatch:!1}),this.resize=Di(()=>this.actions.pipe(Ii(cl.REPLAY,cl.REHYDRATE),(0,Sn.T)(()=>new k.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Ng,e0,m1,Jd,Bg],Gl=new e.nKC("MENU_PROVIDER");function xf(d,_,r,u,x,Y){if(r.hasOwnProperty("providerType")&&r.hasOwnProperty("childProviderTypes")){const Te=r.providerType;r.childProviderTypes.forEach((it,Rt)=>{xf(d,_,it,Rt,`${_}_${u}_0`,Y)}),xf(d,_,Te,u,x,!0)}else r.hasOwnProperty("providerType")&&r.hasOwnProperty("paths")?jg(d,r.providerType,_,u,x,Y,r.paths):jg(d,r,_,u,x,Y)}function jg(d,_,r,u,x,Y,Te){d.push({provide:Gl,multi:!0,useFactory(it){if(it.menuID=r,it.index=it.index??u,(0,V.a4)(x)){it.menuProviderId=it.menuProviderId??`${x}_${u}`;let Rt=it.parentID;(0,V.a4)(Rt)&&(Rt=`${Rt}_0`),it.parentID=Rt??x}else it.menuProviderId=it.menuProviderId??`${r}_${u}`;return(0,V.hj)(Te)&&(it.activePaths=Te,it.shouldPersistOnRouteChange=!1),Y&&(it.shouldPersistOnRouteChange=!1),it},deps:[_]}),d.push(_)}var sd=n(10686),Lo=n(11873),Ds=n(6170),Kl=n(60696),Pi=n(19125);class Q{constructor(){this.shouldPersistOnRouteChange=!0,this.alwaysRenderExpandable=!1,this.renderBrowserOnly=!1}static onRoute(..._){if(!Q.isPrototypeOf(this))throw new Error("onRoute should only be called from concrete subclasses of AbstractMenuProvider");return{providerType:this,paths:_}}static withSubs(_){if(!Q.isPrototypeOf(this))throw new Error("withSubs should only be called from concrete subclasses of AbstractMenuProvider");return{providerType:this,childProviderTypes:_}}getAutomatedSectionId(_){return`${this.menuProviderId}_${_}`}}class P extends Q{constructor(){super(...arguments),this.alwaysRenderExpandable=!0}getSections(){return(0,Ns.z)([this.getTopSection(),this.getSubSections()]).pipe((0,Sn.T)(([_,r])=>{const u=_.id??this.getAutomatedSectionIdForTopSection();return[...r.map((Y,Te)=>({...Y,id:Y.id??this.getAutomatedSectionIdForSubsection(Te),parentID:u,alwaysRenderExpandable:!1})),{..._,id:u,alwaysRenderExpandable:this.alwaysRenderExpandable}]}))}getAutomatedSectionIdForTopSection(){return this.getAutomatedSectionId(0)}getAutomatedSectionIdForSubsection(_){return`${this.getAutomatedSectionIdForTopSection()}_${_}`}}let W=(()=>{class d extends P{constructor(r,u,x){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=x}getTopSection(){return(0,Gn.of)({model:{type:Pi.x.TEXT,text:"menu.section.access_control"},icon:"key",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf),this.authorizationService.isAuthorized(Ds._.CanManageGroups)]).pipe((0,Sn.T)(([r,u])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{visible:u,model:{type:Pi.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{visible:r,model:{type:Pi.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(Kl.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),pe=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return this.authorizationService.isAuthorized(Ds._.AdministratorOf).pipe((0,Sn.T)(r=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ne=n(57168);let Lt=(()=>{class d extends P{constructor(r,u){super(),this.appConfig=r,this.browseService=u}getTopSection(){return(0,Gn.of)({model:{type:Pi.x.TEXT,text:"menu.section.browse_global"},icon:"globe",visible:!0})}getSubSections(){return this.browseService.getBrowseDefinitions().pipe((0,Ti.yd)(),(0,Sn.T)(r=>[...r.payload.page.map(u=>({visible:!0,model:{type:Pi.x.LINK,text:`menu.section.browse_global_by_${u.id}`,link:`/browse/${u.id}`}})),{visible:this.appConfig.geospatialMapViewer.enableBrowseMap,model:{type:Pi.x.LINK,text:"menu.section.browse_global_geospatial_map",link:"/browse/map"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(mo.vQ),e.KVO(Ne.q))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),rn=(()=>{class d extends P{constructor(r){super(),this.authorizationService=r}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CoarNotifyEnabled),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>[{visible:u&&r,model:{type:Pi.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{visible:u&&r,model:{type:Pi.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}}]))}getTopSection(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CoarNotifyEnabled),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>({visible:u&&r,model:{type:Pi.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var dn=n(84981);class xn extends Q{constructor(){super(...arguments),this.shouldPersistOnRouteChange=!1}getSections(_,r){return this.getRouteContext(_,r).pipe((0,Li.n)(u=>this.isApplicable(u)?this.getSectionsForContext(u):(0,Gn.of)([])))}isApplicable(_){return!0}}class Rn extends xn{getRouteContext(_,r){let u=_.data.dso;for(;(0,V.a4)(_.parent)&&(0,V.Tn)(u);)u=(_=_.parent).data.dso;return(0,V.a4)(u)&&u.hasSucceeded&&(0,V.a4)(u.payload)?(0,Gn.of)(u.payload):(0,Gn.of)(void 0)}getDsoType(_){const r=_.getRenderTypes()[0];return"string"==typeof r||r instanceof String?r.toLowerCase():_.type.toString().toLowerCase()}isApplicable(_){return(0,V.a4)(_)}}let Ci=(()=>{class d extends Rn{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanSubscribe,r.self)]).pipe((0,Sn.T)(([u])=>[{visible:u,model:{type:Pi.x.ONCLICK,text:"subscriptions.tooltip",function:()=>{this.modalService.open(dn.w).componentInstance.dso=r}},icon:"bell"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),qn=(()=>{class d extends Q{getSections(){return(0,Gn.of)([{visible:!0,model:{type:Pi.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"},icon:"diagram-project"}])}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var _i=n(94925);let js=(()=>{class d extends P{constructor(r,u){super(),this.authorizationService=r,this.configurationDataService=u}getSubSections(){return(0,Ns.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Ti.qD)(),(0,Sn.T)(r=>r.hasSucceeded&&r.payload&&"true"===r.payload.values[0])),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>[{visible:u&&r,model:{type:Pi.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{visible:u&&r,model:{type:Pi.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}]))}getTopSection(){return(0,Ns.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Ti.qD)(),(0,Sn.T)(r=>r.hasSucceeded&&r.payload&&"true"===r.payload.values[0])),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>({visible:u&&r,model:{type:Pi.x.TEXT,text:"menu.section.reports"},icon:"file-alt"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(_i.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),ds=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Wi=n(15343),gs=n(5127);let $s=(()=>{class d extends Rn{constructor(r){super(),this.authorizationDataService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationDataService.isAuthorized(Ds._.CanEditMetadata,r.self)]).pipe((0,Sn.T)(([u])=>[{visible:u,model:{type:Pi.x.LINK,text:this.getDsoType(r)+".page.edit",link:new gs.t((0,Wi.wN)(r),"edit","metadata").toString()},icon:"pencil-alt"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Yo=(()=>{class d extends Rn{constructor(){super(...arguments),this.alwaysRenderExpandable=!0}getSectionsForContext(r){return(0,Gn.of)([{visible:!0,model:{type:Pi.x.TEXT,text:this.getDsoType(r)+".page.options"},icon:"ellipsis-vertical"}])}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(6138);const Vs=["*"];function Ys(d,_){}let $o=(()=>{class d extends M.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(r){return n(61130)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,6138))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Vs,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Ys,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(64134);const yr=["*"];function lr(d,_){}let fa=(()=>{class d extends M.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(r){return n(11452)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64134))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:yr,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,lr,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(52684);const ma=["*"];function Tl(d,_){}let Ml=(()=>{class d extends M.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(r){return n(6122)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52684))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ma,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Tl,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),Aa=(()=>{class d extends P{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getTopSection(){return(0,Gn.of)({accessibilityHandle:"edit",model:{type:Pi.x.TEXT,text:"menu.section.edit"},icon:"pencil",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.IsCollectionAdmin),this.authorizationService.isAuthorized(Ds._.IsCommunityAdmin),this.authorizationService.isAuthorized(Ds._.CanEditItem)]).pipe((0,Sn.T)(([r,u,x])=>[{visible:u,model:{type:Pi.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(fa)}}},{visible:r,model:{type:Pi.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open($o)}}},{visible:x,model:{type:Pi.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(Ml)}}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Mi=n(43446),Sc=n(48145),Ol=n(93136),Qd=n(44280),od=n(34010),tc=n(3116),Gu=n(34180),Ir=n(16903),Ha=n(44905);function Zd(d,_){if(1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,r.header))}}let rd=(()=>{class d extends Ha.${constructor(r,u,x,Y,Te,Pe,it,Rt,bn){super(r,u),this.activeModal=r,this.route=u,this.router=x,this.notificationsService=Y,this.translationService=Te,this.scriptDataService=Pe,this.authorizationDataService=it,this.dsoNameService=Rt,this.modalService=bn,this.objectType=Ol.W.DSPACEOBJECT,this.selectorTypes=[Ol.W.COLLECTION],this.action=Ha.u.EXPORT_BATCH}navigate(r){if(r instanceof Sc.p){const u=this.modalService.open(tc.M);u.componentInstance.name=this.dsoNameService.getName(r),u.componentInstance.headerLabel="confirmation-modal.export-batch.header",u.componentInstance.infoLabel="confirmation-modal.export-batch.info",u.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",u.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",u.componentInstance.confirmIcon="fas fa-file-export";const x=u.componentInstance.response.pipe((0,Li.n)(Y=>{if(Y)return this.startScriptNotifyAndRedirect(r).pipe((0,Li.n)(Pe=>(0,Gn.of)(Pe)));this.modalService.open(d).componentInstance.dsoRD=(0,Gu.SP)(r)}));return x.subscribe(),x}return(0,Gn.of)(!1)}startScriptNotifyAndRedirect(r){const u=[Object.assign(new od.p,{name:"--id",value:r.uuid}),Object.assign(new od.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(Ds._.AdministratorOf).pipe((0,Li.n)(()=>this.scriptDataService.invoke(Kl.BATCH_EXPORT_SCRIPT_NAME,u,[])),(0,Ti.qD)(),(0,Sn.T)(x=>{if(x.hasSucceeded){const Y=this.translationService.get("process.new.notification.success.title"),Te=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(Y,Te),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,Qd.yJ)(x.payload.processId)),!0}{const Y=this.translationService.get("process.new.notification.error.title"),Te=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(Y,Te),!1}}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(y.nX),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Kl.ScriptDataService),e.rXU(Lo.AuthorizationDataService),e.rXU(Mi.f),e.rXU(G.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(u,x){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,Zd,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(Te){return x.selectObject(Te)}),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.vxM(x.header?6:-1),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[Ir.x,K.h,K.D9],encapsulation:2})}}return d})();var nc=n(10406);function kg(d,_){if(1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,r.header))}}let _a=(()=>{class d extends Ha.${constructor(r,u,x,Y,Te,Pe,it,Rt,bn){super(r,u),this.activeModal=r,this.route=u,this.router=x,this.notificationsService=Y,this.translationService=Te,this.scriptDataService=Pe,this.authorizationDataService=it,this.dsoNameService=Rt,this.modalService=bn,this.objectType=Ol.W.DSPACEOBJECT,this.selectorTypes=[Ol.W.COLLECTION,Ol.W.COMMUNITY],this.action=Ha.u.EXPORT_METADATA}navigate(r){if(r instanceof Sc.p||r instanceof nc.E){const u=this.modalService.open(tc.M);u.componentInstance.name=this.dsoNameService.getName(r),u.componentInstance.headerLabel="confirmation-modal.export-metadata.header",u.componentInstance.infoLabel="confirmation-modal.export-metadata.info",u.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",u.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",u.componentInstance.confirmIcon="fas fa-file-export";const x=u.componentInstance.response.pipe((0,Li.n)(Y=>{if(Y)return this.startScriptNotifyAndRedirect(r).pipe((0,Li.n)(Pe=>(0,Gn.of)(Pe)));this.modalService.open(d).componentInstance.dsoRD=(0,Gu.SP)(r)}));return x.subscribe(),x}return(0,Gn.of)(!1)}startScriptNotifyAndRedirect(r){const u=[Object.assign(new od.p,{name:"-i",value:r.uuid})];return this.authorizationDataService.isAuthorized(Ds._.AdministratorOf).pipe((0,Li.n)(x=>(x&&u.push(Object.assign(new od.p,{name:"-a"})),this.scriptDataService.invoke(Kl.METADATA_EXPORT_SCRIPT_NAME,u,[]))),(0,Ti.qD)(),(0,Sn.T)(x=>{if(x.hasSucceeded){const Y=this.translationService.get("process.new.notification.success.title"),Te=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(Y,Te),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,Qd.yJ)(x.payload.processId)),!0}{const Y=this.translationService.get("process.new.notification.error.title"),Te=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(Y,Te),!1}}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(y.nX),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Kl.ScriptDataService),e.rXU(Lo.AuthorizationDataService),e.rXU(Mi.f),e.rXU(G.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(u,x){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,kg,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(Te){return x.selectObject(Te)}),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.vxM(x.header?6:-1),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[Ir.x,K.h,K.D9],encapsulation:2})}}return d})(),Ic=(()=>{class d extends P{constructor(r,u,x){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=x}getTopSection(){return(0,Gn.of)({accessibilityHandle:"export",model:{type:Pi.x.TEXT,text:"menu.section.export"},icon:"file-export",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kl.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Sn.T)(([r,u])=>[{visible:r&&u,model:{type:Pi.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(_a)}}},{visible:r&&u,model:{type:Pi.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(rd)}}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(Kl.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Vg=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),wf=(()=>{class d extends P{constructor(r,u,x){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=x}getTopSection(){return(0,Gn.of)({model:{type:Pi.x.TEXT,text:"menu.section.import"},icon:"file-import",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kl.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Sn.T)(([r,u])=>[{visible:r&&u,model:{type:Pi.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"}},{visible:r&&u,model:{type:Pi.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(Kl.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var t0=n(89894),za=n(15862);let $g=(()=>{class d extends Rn{constructor(r,u,x,Y,Te,Pe){super(),this.authorizationService=r,this.menuService=u,this.translate=x,this.notificationsService=Y,this.researcherProfileService=Te,this.modalService=Pe}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanClaimItem,r.self)]).pipe((0,Sn.T)(([u])=>[{visible:u,model:{type:Pi.x.ONCLICK,text:"item.page.claim.button",function:()=>{this.claimResearcher(r)}},icon:"hand-paper"}]))}isApplicable(r){return r instanceof za.q&&"person"===this.getDsoType(r)}claimResearcher(r){this.researcherProfileService.createFromExternalSourceAndReturnRelatedItemId(r.self).subscribe(u=>{(0,V.hj)(u)?(this.notificationsService.success(this.translate.get("researcherprofile.success.claim.title"),this.translate.get("researcherprofile.success.claim.body")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.menuService.hideMenuSection(ll.D.DSO_EDIT,this.getAutomatedSectionId(0))):this.notificationsService.error(this.translate.get("researcherprofile.error.claim.title"),this.translate.get("researcherprofile.error.claim.body"))})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(zd.$),e.KVO(K.c$),e.KVO(Zr.I),e.KVO(t0.ResearcherProfileDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Lf=(()=>{class d extends Rn{constructor(r){super(),this.authorizationService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanSynchronizeWithORCID,r.self)]).pipe((0,Sn.T)(([u])=>[{visible:u,model:{type:Pi.x.LINK,text:"item.page.orcid.tooltip",link:new gs.t((0,Wi.wN)(r),"orcid").toString()},icon:"orcid fab fa-lg"}]))}isApplicable(r){return r instanceof za.q&&"person"===this.getDsoType(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ku=n(61206),Wg=n(57439),ad=n(7164),Hu=n(25645),Gg=n(38884),Kg=n(82574);let ip=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it){this.modalService=r,this.versionService=u,this.versionHistoryService=x,this.itemVersionShared=Y,this.router=Te,this.workspaceItemDataService=Pe,this.itemService=it}openCreateVersionModal(r){const u=r,x=u._links.version.href,Y=this.modalService.open(Kg.L);this.versionService.findByHref(x).pipe((0,Ti.qD)()).subscribe(Te=>{Y.componentInstance.firstVersion=Te.hasNoContent,Y.componentInstance.versionNumber=Te.hasNoContent?void 0:Te.payload.version}),Y.componentInstance.createVersionEvent.pipe((0,Li.n)(Te=>this.versionHistoryService.createVersion(u._links.self.href,Te)),(0,Ti.qD)(),(0,Vi.M)(()=>Y.close()),(0,Vi.M)(Te=>{this.itemVersionShared.notifyCreateNewVersion(Te)}),(0,Ti.ak)(),(0,Li.n)(Te=>this.itemService.findByHref(Te._links.item.href)),(0,Ti.ak)(),(0,Li.n)(Te=>this.workspaceItemDataService.findByItem(Te.uuid,!0,!1)),(0,Ti.ak)()).subscribe(Te=>{this.router.navigateByUrl("workspaceitems/"+Te.id+"/edit")})}isNewVersionButtonDisabled(r){return this.versionHistoryService.hasDraftVersion$(r._links.version.href).pipe((0,Sn.T)(u=>!!u))}getVersioningTooltipMessage(r,u,x){return this.isNewVersionButtonDisabled(r).pipe((0,Li.n)(Y=>(0,Gn.of)(Y?u:x)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(G.Bq),e.KVO(Wg.VersionDataService),e.KVO(ad.VersionHistoryDataService),e.KVO(Gg.h),e.KVO(y.Ix),e.KVO(Hu.WorkspaceitemDataService),e.KVO(Ku.ItemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Nf=(()=>{class d extends Rn{constructor(r,u){super(),this.authorizationService=r,this.dsoVersioningModalService=u}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanCreateVersion,r.self),this.dsoVersioningModalService.isNewVersionButtonDisabled(r),this.dsoVersioningModalService.getVersioningTooltipMessage(r,"item.page.version.hasDraft","item.page.version.create")]).pipe((0,Sn.T)(([u,x,Y])=>[{visible:u,model:{type:Pi.x.ONCLICK,text:Y,disabled:x,function:()=>{this.dsoVersioningModalService.openCreateVersionModal(r)}},icon:"code-branch"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(ip))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(89862);const zu=["*"];function Ff(d,_){}let _1=(()=>{class d extends M.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(r){return n(12706)(`./${r}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,89862))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:zu,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Ff,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(20258);const v1=["*"];function MO(d,_){}let OO=(()=>{class d extends M.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(r){return n(27122)(`./${r}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,20258))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:v1,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,MO,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var SO=n(39334);let IO=(()=>{class d extends P{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getTopSection(){return(0,Gn.of)({accessibilityHandle:"new",model:{type:Pi.x.TEXT,text:"menu.section.new"},icon:"plus",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.IsCollectionAdmin),this.authorizationService.isAuthorized(Ds._.IsCommunityAdmin),this.authorizationService.isAuthorized(Ds._.AdministratorOf),this.authorizationService.isAuthorized(Ds._.CanSubmit),this.authorizationService.isAuthorized(Ds._.CoarNotifyEnabled)]).pipe((0,Sn.T)(([r,u,x,Y,Te])=>[{visible:u,model:{type:Pi.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(OO)}}},{visible:r,model:{type:Pi.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(_1)}}},{visible:Y,model:{type:Pi.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(SO.L)}}},{visible:x,model:{type:Pi.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{visible:x&&Te,model:{type:Pi.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var y1=n(80883);let R2=(()=>{class d extends P{constructor(r){super(),this.authorizationService=r}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanSeeQA),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{visible:u,model:{type:Pi.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+y1.VZ}}]))}getTopSection(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanSeeQA),this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r,u])=>({visible:r||u,model:{type:Pi.x.TEXT,text:"menu.section.notifications"},icon:"bell"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),E1=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),PO=(()=>{class d extends P{constructor(r,u,x){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=x}getTopSection(){return(0,Gn.of)({model:{type:Pi.x.TEXT,text:"menu.section.registries"},icon:"list",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{visible:r,model:{type:Pi.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService),e.KVO(Kl.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),RO=(()=>{class d extends Rn{constructor(r){super(),this.authorizationService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.CanViewUsageStatistics,r?._links.self.href)]).pipe((0,Sn.T)(([u])=>{let Y,x="statistics";return(0,V.a4)(r)&&(Y=(0,Wi.wN)(r),(0,V.a4)(Y)&&(x=`statistics${Y}`)),[{visible:u,model:{type:Pi.x.LINK,text:"menu.section.statistics",link:x},icon:"chart-line"}]}))}isApplicable(r){return!0}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),A2=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var AO=n(23743),zg=n(82418);let n0=(()=>{class d extends Rn{constructor(r,u){super(),this.dsoWithdrawnReinstateModalService=r,this.correctionTypeDataService=u}getSectionsForContext(r){return(0,Ns.z)([this.correctionTypeDataService.findByItem(r.uuid,!0).pipe((0,Ti.qD)(),(0,Ti.Bo)())]).pipe((0,Sn.T)(([u])=>[{visible:r.isArchived&&u?.page.some(x=>x.topic===zg.pc),model:{type:Pi.x.ONCLICK,text:"item.page.withdrawn",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(r,"request-withdrawn",r.isArchived)}},icon:"eye-slash"},{visible:r.isWithdrawn&&u?.page.some(x=>x.topic===zg.el),model:{type:Pi.x.ONCLICK,text:"item.page.reinstate",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(r,"request-reinstate",r.isArchived)}},icon:"eye"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(zg.Ee),e.KVO(AO.CorrectionTypeDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),xO=(()=>{class d extends Q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Ds._.AdministratorOf)]).pipe((0,Sn.T)(([r])=>[{visible:r,model:{type:Pi.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const qd=function Af(d){const _=[];return Object.entries(d).forEach(([r,u])=>{for(const[x,Y]of u.entries())xf(_,r,Y,x)}),_}({[ll.D.PUBLIC]:[qn,Lt,RO],[ll.D.ADMIN]:[IO,Aa,wf,Ic,R2,W,pe,js,PO,ds,E1,xO,Vg,A2,rn],[ll.D.DSO_EDIT]:[Yo.withSubs([Ci.onRoute(sd.r.COMMUNITY_PAGE,sd.r.COLLECTION_PAGE),$s.onRoute(sd.r.COMMUNITY_PAGE,sd.r.COLLECTION_PAGE,sd.r.ITEM_PAGE),n0.onRoute(sd.r.ITEM_PAGE),Nf.onRoute(sd.r.ITEM_PAGE),Lf.onRoute(sd.r.ITEM_PAGE),$g.onRoute(sd.r.ITEM_PAGE)])]});let Bf=0;const Xg=[function wO(d){return(_,r)=>(Bf++,console.log("@ngrx action",Bf,r.type),console.log("state",JSON.stringify(_)),console.log("action",JSON.stringify(r)),console.log("------------------------------------"),d(_,r))}],LO=[function C1(d){return(_,r)=>(r.type===cl.REHYDRATE&&(_=Object.assign({},_,r.payload)),d(_,r))}];var Uf=n(23679),NO=n(83),s0=n(47067),o0=n(39015),op=n(85643),jf=n(54761),BO=n(42657),Yg=n(61457);const r0=(0,Yg.L)(()=>(0,Gn.of)(Ds._.EPersonRegistration));var rp=n(17102),Jg=n(40220);const Wo=(0,rp.e)(()=>{const d=(0,e.WQX)(Jg.GH);return R.c.info.enableEndUserAgreement?d.hasCurrentUserAcceptedAgreement(!0):(0,Gn.of)(!0)}),Qg=(0,Yg.L)(()=>(0,Gn.of)(Ds._.EPersonForgotPassword));var eu=n(82923),Zg=n(45402),Xu=n(92767),x2=n(25913),l0=n(20387),ld=n(44030),UO=n(26646);let b1=(()=>{class d{constructor(r,u,x,Y,Te,Pe){this.actions$=r,this.store$=u,this.translate=x,this.notificationsService=Y,this.qualityAssuranceSourceService=Te,this.qualityAssuranceSourceDataService=Pe,this.retrieveAllSource$=Di(()=>this.actions$.pipe(Ii(ld.xq.RETRIEVE_ALL_SOURCE),(0,I.E)(this.store$),(0,Li.n)(([it,Rt])=>this.qualityAssuranceSourceService.getSources(it.payload.elementsPerPage,it.payload.currentPage).pipe((0,Sn.T)(bn=>new ld.$_(bn.page,bn.totalPages,bn.currentPage,bn.totalElements)),(0,Io.W)(bn=>(bn instanceof Error?console.error(bn.message):console.error("Unexpected object thrown",bn),(0,Gn.of)(new ld.Fx))))))),this.retrieveAllSourceErrorAction$=Di(()=>this.actions$.pipe(Ii(ld.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=Di(()=>this.actions$.pipe(Ii(ld.xq.ADD_SOURCE),(0,Vi.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il),e.KVO(K.c$),e.KVO(Zr.I),e.KVO(UO.p),e.KVO(l0.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var D1=n(45688),$f=n(39848),qg=n(10186),c0=n(70998);let jO=(()=>{class d{constructor(r){this.qualityAssuranceTopicRestService=r}getTopics(r,u,x,Y){const Pe={elementsPerPage:r,currentPage:u,sort:new c0.z("name",c0.U.ASC),searchParams:[new qg.x("source",x)]};let it;return(0,V.a4)(Y)?(Pe.searchParams.push(new qg.x("target",Y)),it=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Pe)):it=this.qualityAssuranceTopicRestService.searchTopicsBySource(Pe),it.pipe((0,Ti.qD)(),(0,Sn.T)(Rt=>{if(Rt.hasSucceeded)return Rt.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(D1.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),kO=(()=>{class d{constructor(r,u,x,Y,Te,Pe){this.actions$=r,this.store$=u,this.translate=x,this.notificationsService=Y,this.qualityAssuranceTopicService=Te,this.qualityAssuranceTopicDataService=Pe,this.retrieveAllTopics$=Di(()=>this.actions$.pipe(Ii($f.py.RETRIEVE_ALL_TOPICS),(0,I.E)(this.store$),(0,Li.n)(([it,Rt])=>this.qualityAssuranceTopicService.getTopics(it.payload.elementsPerPage,it.payload.currentPage,it.payload.source,it.payload.target).pipe((0,Sn.T)(bn=>new $f.C3(bn.page,bn.totalPages,bn.currentPage,bn.totalElements)),(0,Io.W)(bn=>(bn instanceof Error?console.error(bn.message):console.error("Unexpected object thrown",bn),(0,Gn.of)(new $f.IL))))))),this.retrieveAllTopicsErrorAction$=Di(()=>this.actions$.pipe(Ii($f.py.RETRIEVE_ALL_TOPICS_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=Di(()=>this.actions$.pipe(Ii($f.py.ADD_TOPICS),(0,Vi.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il),e.KVO(K.c$),e.KVO(Zr.I),e.KVO(jO),e.KVO(D1.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Wf=n(85955),ul=n(69470);const VO=[kO,b1,(()=>{class d{constructor(r,u,x,Y,Te,Pe){this.actions$=r,this.store$=u,this.translate=x,this.notificationsService=Y,this.suggestionsService=Te,this.configurationService=Pe,this.retrieveTargetsBySource$=Di(()=>this.actions$.pipe(Ii(ul.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,Li.n)(it=>this.suggestionsService.getTargets(it.payload.source,it.payload.elementsPerPage,it.payload.currentPage).pipe((0,Sn.T)(Rt=>new ul.Pc(it.payload.source,Rt.page,Rt.totalPages,Rt.currentPage,Rt.totalElements)),(0,Io.W)(Rt=>(Rt instanceof Error&&console.error(Rt.message),(0,Gn.of)(new ul.Fz(it.payload.source)))))))),this.retrieveAllTargetsErrorAction$=Di(()=>this.actions$.pipe(Ii(ul.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=Di(()=>this.actions$.pipe(Ii(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,Li.n)(it=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Ti.qD)(),(0,Li.n)(Rt=>Rt.hasSucceeded&&Rt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(it.payload).pipe((0,Sn.T)(bn=>new ul.Gx(bn))):(0,Gn.of)(new ul.Gx([]))))))),this.refreshUserSuggestionsAction$=Di(()=>this.actions$.pipe(Ii(ul.lz.REFRESH_USER_SUGGESTIONS),(0,Li.n)(()=>this.store$.select(it=>it.core.auth.userId).pipe((0,Li.n)(it=>it?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Ti.qD)(),(0,Li.n)(Rt=>Rt.hasSucceeded&&Rt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(it).pipe((0,Sn.T)(bn=>new ul.Gx(bn)),(0,Io.W)(bn=>(bn instanceof Error&&console.error(bn.message),(0,Gn.of)(new ul.Af)))):(0,Gn.of)(new ul.Gx([]))),(0,Io.W)(Rt=>(Rt instanceof Error&&console.error(Rt.message),(0,Gn.of)(new ul.Af)))):(0,Gn.of)(new ul.Gx([]))),(0,Io.W)(it=>(it instanceof Error&&console.error(it.message),(0,Gn.of)(new ul.Af)))))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il),e.KVO(K.c$),e.KVO(Zr.I),e.KVO(Wf.F),e.KVO(_i.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()],e_=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("suggestionNotifications",x2.W,Uf.wP),Ud.forFeature(VO))]);var w2=n(66423),Gf=n(5771),d0=n.n(Gf),t_=n(48125),Yu=n.n(t_),M1=n(28898),$O=n.n(M1),O1=n(28690),u0=n(12443),Pc=n(67707),cd=n(30250),S1=n(69289),n_=n(676);let I1=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it,Rt,bn){this.actions$=r,this.notificationsService=u,this.operationsService=x,this.sectionService=Y,this.store$=Te,this.submissionService=Pe,this.submissionObjectService=it,this.translate=Rt,this.workspaceItemDataService=bn,this.loadForm$=Di(()=>this.actions$.pipe(Ii(xs.lE.INIT_SUBMISSION_FORM),(0,Sn.T)(tn=>{const ei=tn.payload.submissionDefinition,ri=[];return ei.sections.page.forEach(zn=>{const Zn=zn._links.self.href||zn._links.self,Xi=Zn.substr(Zn.lastIndexOf("/")+1),Es=zn._links.config?zn._links.config.href||zn._links.config:"";let Cs,Gi=zn.mandatory||(0,V.hj)(tn.payload.sections)&&tn.payload.sections.hasOwnProperty(Xi);zn.sectionType===Pc.l.Duplicates&&(Gi=i_()||(0,V.hj)(tn.payload.sections[Xi].potentialDuplicates)),Cs=zn.sectionType!==Pc.l.SubmissionForm?(0,V.EA)(tn.payload.sections)&&(0,V.EA)(tn.payload.sections[Xi])?tn.payload.sections[Xi]:Object.create(null):tn.payload.item.metadata;const Ps=(0,V.hj)(tn.payload.errors)&&tn.payload.errors[Xi]||null;ri.push(new xs.wT(tn.payload.submissionId,Xi,zn.header,Es,zn.mandatory,zn.scope,zn.sectionType,zn.visibility,Gi,Cs,Ps))}),{action:tn,definition:ei,mappedActions:ri}}),(0,vr.Z)(tn=>(0,kh.H)(tn.mappedActions.concat(new xs.ug(tn.action.payload.submissionId)))))),this.resetForm$=Di(()=>this.actions$.pipe(Ii(xs.lE.RESET_SUBMISSION_FORM),(0,Sn.T)(tn=>new xs.jc(tn.payload.collectionId,tn.payload.submissionId,tn.payload.selfUrl,tn.payload.submissionDefinition,tn.payload.sections,tn.payload.item,null)))),this.saveSubmission$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_SUBMISSION_FORM),(0,Li.n)(tn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),tn.payload.submissionId,"sections").pipe((0,Sn.T)(ei=>new xs.tR(tn.payload.submissionId,ei,tn.payload.isManual,tn.payload.isManual)),(0,Io.W)(()=>(0,Gn.of)(new xs.wM(tn.payload.submissionId))))))),this.saveForLaterSubmission$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,Li.n)(tn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),tn.payload.submissionId,"sections").pipe((0,Sn.T)(ei=>new xs.oW(tn.payload.submissionId,ei)),(0,Io.W)(()=>(0,Gn.of)(new xs.wM(tn.payload.submissionId))))))),this.saveSubmissionSuccess$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Sn.T)(([tn,ei])=>this.parseSaveResponse(ei.submission.objects[tn.payload.submissionId],tn.payload.submissionObject,tn.payload.submissionId,ei.forms,tn.payload.showNotifications,tn.payload.showErrors)),(0,vr.Z)(tn=>(0,kh.H)(tn)))),this.saveSubmissionSectionSuccess$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Sn.T)(([tn,ei])=>this.parseSaveResponse(ei.submission.objects[tn.payload.submissionId],tn.payload.submissionObject,tn.payload.submissionId,ei.forms,!1,!1)),(0,vr.Z)(tn=>(0,kh.H)(tn)))),this.saveSection$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_SUBMISSION_SECTION_FORM),(0,Li.n)(tn=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),tn.payload.submissionId,"sections",tn.payload.sectionId).pipe((0,Sn.T)(ei=>new xs.ky(tn.payload.submissionId,ei)),(0,Io.W)(()=>(0,Gn.of)(new xs.Zl(tn.payload.submissionId))))))),this.saveError$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_SUBMISSION_FORM_ERROR,xs.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,I.E)(this.store$),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,I.E)(this.submissionService.hasUnsavedModification()),(0,Li.n)(([tn,ei])=>{let ri;return ri=ei?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),tn.payload.submissionId,"sections"):this.submissionObjectService.findById(tn.payload.submissionId,!1,!0,(0,rs.s)("item"),(0,rs.s)("collection")).pipe((0,Ti.ak)(),(0,Sn.T)(zn=>[zn])),ri.pipe((0,Sn.T)(zn=>this.canDeposit(zn)?new xs.l5(tn.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new xs.tR(tn.payload.submissionId,zn,!1,!0))),(0,Io.W)(()=>(0,Gn.of)(new xs.wM(tn.payload.submissionId))))}))),this.depositSubmission$=Di(()=>this.actions$.pipe(Ii(xs.lE.DEPOSIT_SUBMISSION),(0,I.E)(this.store$),(0,Li.n)(([tn,ei])=>this.submissionService.depositSubmission(ei.submission.objects[tn.payload.submissionId].selfUrl).pipe((0,Sn.T)(()=>new xs.kq(tn.payload.submissionId)),(0,Io.W)(ri=>(0,Gn.of)(new xs.x9(tn.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=Di(()=>this.actions$.pipe(Ii(xs.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=Di(()=>this.actions$.pipe(Ii(xs.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,Vi.M)(tn=>this.workspaceItemDataService.invalidateById(tn.payload.submissionId)),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=Di(()=>this.actions$.pipe(Ii(xs.lE.DEPOSIT_SUBMISSION_ERROR),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=Di(()=>this.actions$.pipe(Ii(xs.lE.DISCARD_SUBMISSION),(0,Li.n)(tn=>this.submissionService.discardSubmission(tn.payload.submissionId).pipe((0,Sn.T)(()=>new xs.Ob(tn.payload.submissionId)),(0,Io.W)(()=>(0,Gn.of)(new xs.Z5(tn.payload.submissionId))))))),this.addAllMetadataToSectionData=Di(()=>this.actions$.pipe(Ii(xs.lE.UPDATE_SECTION_DATA),(0,Li.n)(tn=>this.sectionService.getSectionState(tn.payload.submissionId,tn.payload.sectionId,Pc.l.Upload).pipe((0,Sn.T)(ei=>[tn,ei]),(0,D.s)(1))),(0,fo.p)(([tn,ei])=>ei.sectionType===Pc.l.SubmissionForm),(0,Li.n)(([tn,ei])=>ei.sectionType===Pc.l.SubmissionForm?this.submissionObjectService.findById(tn.payload.submissionId,!0,!1,(0,rs.s)("item")).pipe((0,Ti.ak)()).pipe((0,Li.n)(Zn=>Zn.item.pipe((0,Ti.ak)()))).pipe((0,Sn.T)(Zn=>Zn.metadata),(0,fo.p)(Zn=>!Yu()(tn.payload.data,Zn)),(0,Sn.T)(Zn=>new xs.dm(tn.payload.submissionId,tn.payload.sectionId,Zn,tn.payload.errorsToShow,tn.payload.serverValidationErrors,tn.payload.metadata))):(0,Gn.of)(new xs.Sm)))),this.discardSubmissionSuccess$=Di(()=>this.actions$.pipe(Ii(xs.lE.DISCARD_SUBMISSION_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=Di(()=>this.actions$.pipe(Ii(xs.lE.DISCARD_SUBMISSION_ERROR),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(r){let u=!0;return(0,V.hj)(r)&&r.forEach(x=>{const{errors:Y}=x;Y&&!(0,V.Im)(Y)&&(u=!1)}),u}parseSaveResponse(r,u,x,Y,Te=!0,Pe=!0){const it=[];return(0,V.hj)(u)&&(Te&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),u.forEach(Rt=>{let bn=Object.create({});const{errors:tn}=Rt;tn&&!(0,V.Im)(tn)&&(bn=(0,n_.A)(tn),Te&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const ei=Rt.sections&&(0,V.hj)(Rt.sections)?Rt.sections:{},ri=$O()(Object.keys(ei),Object.keys(bn));for(const Zn of ri){const Xi=bn[Zn]||[],Es=ei[Zn]||{};if(r.sections[Zn].sectionType===Pc.l.Upload&&(0,V.Im)(Es.files)&&!r.sections[Zn].enabled)continue;Te&&!r.sections[Zn].enabled&&this.submissionService.notifyNewSection(x,Zn,r.sections[Zn].sectionType);const Cs=R1(P1(Y,r,Zn),Xi,r.sections[Zn].sectionType,Pe);it.push(new xs.dm(x,Zn,Es,Cs,Xi))}const zn=d0()(r.sections,Zn=>Zn.sectionType===Pc.l.SherpaPolicies);if((0,V.EA)(zn)&&(0,V.hj)(r.sections[zn]?.data)&&(0,V.Im)(ei[zn])&&it.push(new xs.dm(x,zn,null,[],[])),!i_()){const Zn=d0()(r.sections,Xi=>Xi.sectionType===Pc.l.Duplicates);(0,V.EA)(Zn)&&ei.hasOwnProperty(Zn)&&(0,V.Im)(ei[Zn].potentialDuplicates)&&it.push(new xs.CG(x))}})),it}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(Zr.I),e.KVO(O1.U),e.KVO(u0.c),e.KVO(E.il),e.KVO(cd.E),e.KVO(qv.$),e.KVO(K.c$),e.KVO(Hu.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();function P1(d,_,r){return d?d[_.sections[r].formId]:null}function R1(d,_,r,u){if(u||r!==Pc.l.SubmissionForm.valueOf())return _;if(!d||!d.touched)return[];const x=[];return _.forEach(Y=>{(0,S1.A)(Y.path).forEach(Pe=>{Pe.fieldId&&d.touched[Pe.fieldId]&&x.push(Y)})}),x}function i_(){return R.c.submission.duplicateDetection.alwaysShowSection}const A1=[I1];var s_=n(37098);const Kf=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("submission",s_.u,Uf.wP),Ud.forFeature(A1))]);var ap=n(93007);const WO=[{path:Wi.n,component:Jh},{path:Wi.RC,component:Yh},{path:"",canActivate:[(d,_,r=(0,e.WQX)(E.il))=>r.pipe((0,E.Lt)(S.Gv)).pipe((0,Sn.T)(u=>!1===u),(0,O.F)(),(0,fo.p)(u=>!0===u),(0,D.s)(1))],canActivateChild:[(d,_,r=(0,e.WQX)(eu.RootDataService),u=(0,e.WQX)(y.Ix))=>r.checkServerAvailability().pipe((0,D.s)(1),(0,Sn.T)(x=>!!x||u.parseUrl((0,Wi.N2)())))],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:Zh,pathMatch:"full",canActivate:[(d,_,r=(0,e.WQX)(mo.vQ),u=(0,e.WQX)(y.Ix))=>{if((0,V.hj)(d.queryParams.redirect)){const x=d.queryParams.redirect.startsWith(r.ui.nameSpace)?d.queryParams.redirect.substring(r.ui.nameSpace.length):d.queryParams.redirect;return u.parseUrl(x)}return u.createUrlTree([Wi.Eo])}]},{path:"home",loadChildren:()=>n.e(2550).then(n.bind(n,82550)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0,dsoPath:"site"},providers:[e_()],canActivate:[Wo],resolve:{site:(d,_,r=(0,e.WQX)(Zg.SiteDataService))=>r.find().pipe((0,D.s)(1)),tracking:w2.Y}},{path:"community-list",loadChildren:()=>n.e(1257).then(n.bind(n,31257)).then(d=>d.ROUTES),canActivate:[Wo]},{path:"id",loadChildren:()=>n.e(7993).then(n.bind(n,57993)).then(d=>d.ROUTES),canActivate:[Wo]},{path:"handle",loadChildren:()=>n.e(7993).then(n.bind(n,57993)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.il,loadChildren:()=>Promise.all([n.e(9532),n.e(2076),n.e(6140)]).then(n.bind(n,26140)).then(d=>d.ROUTES),canActivate:[r0]},{path:Wi.sT,loadChildren:()=>Promise.all([n.e(9532),n.e(2076),n.e(857)]).then(n.bind(n,80857)).then(d=>d.ROUTES),canActivate:[Wo,Qg]},{path:o0.b2,loadChildren:()=>Promise.all([n.e(2963),n.e(5338)]).then(n.bind(n,35338)).then(d=>d.ROUTES),canActivate:[Wo]},{path:s0.CC,loadChildren:()=>Promise.all([n.e(7502),n.e(9494),n.e(2963),n.e(2076),n.e(3945)]).then(n.bind(n,13945)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Xu.xb,loadChildren:()=>Promise.all([n.e(906),n.e(2076),n.e(9916)]).then(n.bind(n,59916)).then(d=>d.ROUTES),canActivate:[Wo]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(906),n.e(2076),n.e(9916)]).then(n.bind(n,59916)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.H_,loadChildren:()=>Promise.all([n.e(2313),n.e(3381)]).then(n.bind(n,43381)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.l2,loadChildren:()=>Promise.all([n.e(2313),n.e(3381)]).then(n.bind(n,43381)).then(d=>d.ROUTES),canActivate:[Wo]},{path:"mydspace",loadChildren:()=>n.e(303).then(n.bind(n,20303)).then(d=>d.ROUTES),data:{enableRSS:!0},providers:[e_()],canActivate:[op.t,Wo]},{path:"search",loadChildren:()=>n.e(6395).then(n.bind(n,86395)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Wo]},{path:"browse",loadChildren:()=>n.e(473).then(n.bind(n,60473)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.pU,loadChildren:()=>n.e(1197).then(n.bind(n,61197)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[BO.Y,Wo]},{path:NO.uD,loadChildren:()=>Promise.all([n.e(6958),n.e(9673)]).then(n.bind(n,99673)).then(d=>d.ROUTES),providers:[e_()],canActivate:[op.t,Wo]},{path:"login",loadChildren:()=>n.e(4623).then(n.bind(n,64623)).then(d=>d.ROUTES)},{path:"logout",loadChildren:()=>n.e(3584).then(n.bind(n,13584)).then(d=>d.ROUTES)},{path:"submit",loadChildren:()=>n.e(3314).then(n.bind(n,53314)).then(d=>d.ROUTES),providers:[Kf()],canActivate:[Wo]},{path:"import-external",loadChildren:()=>n.e(9170).then(n.bind(n,39170)).then(d=>d.ROUTES),canActivate:[Wo]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(906),n.e(2306),n.e(8922)]).then(n.bind(n,18922)).then(d=>d.ROUTES),providers:[Kf()],canActivate:[Wo]},{path:Wi.Vv,providers:[Kf()],loadChildren:()=>Promise.all([n.e(906),n.e(2306),n.e(4113)]).then(n.bind(n,74113)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Wo]},{path:Wi.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(8495)]).then(n.bind(n,68495)).then(d=>d.ROUTES),providers:[e_()],canActivate:[op.t,Wo]},{path:Qd.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(454)]).then(n.bind(n,10454)).then(d=>d.ROUTES),canActivate:[op.t,Wo]},{path:ap.C2,loadChildren:()=>n.e(620).then(n.bind(n,50620)).then(d=>d.ROUTES),providers:[e_()],canActivate:[op.t,Wo]},{path:Wi.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(1206)]).then(n.bind(n,71206)).then(d=>d.ROUTES)},{path:Wi.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(7490)]).then(n.bind(n,77490)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.OC,component:ql},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(1493)]).then(n.bind(n,31493)).then(d=>d.ROUTES),canActivate:[Wo]},{path:Wi.lH,loadChildren:()=>n.e(2973).then(n.bind(n,22973)).then(d=>d.ROUTES)},{path:Wi.UP,loadChildren:()=>Promise.all([n.e(1200),n.e(9532),n.e(8519)]).then(n.bind(n,78519)).then(d=>d.ROUTES),canActivate:[jf.i,Wo]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(2076),n.e(3344)]).then(n.bind(n,3344)).then(d=>d.ROUTES),canActivate:[op.t]},{path:"external-login/:token",loadChildren:()=>Promise.all([n.e(2076),n.e(8254)]).then(n.bind(n,98254)).then(d=>d.ROUTES)},{path:"review-account/:token",loadChildren:()=>Promise.all([n.e(2076),n.e(7846)]).then(n.bind(n,97846)).then(d=>d.ROUTES)},{path:"email-confirmation",loadChildren:()=>n.e(221).then(n.bind(n,60221)).then(d=>d.ROUTES)},{path:"**",pathMatch:"full",component:Zh}]}];n(29297);var Ju=n(93635),Qu=n(38196),p0=n(14700),f0=n(34298);let Zu=(()=>{class d{constructor(r,u,x){this.inj=r,this.router=u,this.store=x,this.refreshTokenRequestUrls=[]}isUnauthorized(r){return 401===r.status}isSuccess(r){return 200===r.status||204===r.status}isAuthRequest(r){return r&&r.url&&(r.url.endsWith("/authn/login")||r.url.endsWith("/authn/logout")||r.url.endsWith("/authn/status"))}isLoginResponse(r){return r.url&&r.url.endsWith("/authn/login")}isLogoutResponse(r){return r.url&&r.url.endsWith("/authn/logout")}isStatusResponse(r){return r.url&&r.url.endsWith("/authn/status")}parseLocation(r){let u=r.trim();u=u.replace('location="',""),u=u.replace('"',"");let x=/%3A%2F%2F/g;return u=u.replace(x,"://"),x=/%3A/g,u=u.replace(x,":"),u.trim()}sortAuthMethods(r){const u=[];let x=!1,Y=!1;return r.forEach(Te=>{Te.authMethodType===Qu.Q.Password&&(u.push(Te),x=!0),Te.authMethodType===Qu.Q.Ldap&&(Y=!0)}),Y&&!x&&u.push(new Ju.q(Qu.Q.Password,0)),r.forEach(Te=>{Te.authMethodType!==Qu.Q.Password&&u.push(Te)}),u}parseAuthMethodsFromHeaders(r){let u=[];if((0,V.hj)(r.get("www-authenticate"))){const Te=r.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Pe in Te){const it=Te[Pe].split(", "),Rt=it[0].split(" ")[0].trim();let bn;if(1===it.length)bn=new Ju.q(Rt,Number(Pe)),u.push(bn);else if(it.length>1){let tn=it[1];tn=this.parseLocation(tn),bn=new Ju.q(Rt,Number(Pe),tn),u.push(bn)}}u=this.sortAuthMethods(u)}else u.push(new Ju.q(Qu.Q.Password,0));return u}makeAuthStatusObject(r,u,x,Y){const Te=new p0.T;if(Y&&(Te.authMethods=this.parseAuthMethodsFromHeaders(Y)),Te.id=null,Te.okay=!0,r)Te.authenticated=!0,Te.token=new f0.S(u);else if(Te.authenticated=!1,(0,V.hj)(x))if("string"==typeof x)try{Te.error=JSON.parse(x)}catch(Pe){console.error('Unknown auth error "',x,'" caused ',Pe),Te.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else Te.error=x;return Te}intercept(r,u){const x=this.inj.get(h.uR),Y=x.getToken();let Te,Pe;if(x.isTokenExpired())return(0,Gn.of)(null);if(this.isAuthRequest(r)&&!this.isLogoutResponse(r)||!(0,V.hj)(Y))Te=r.clone();else{Pe=x.buildAuthHeader(Y);let it=r.headers.set("authorization",Pe);const Rt=x.getImpersonateID();(0,V.a4)(Rt)&&(it=it.set("X-On-Behalf-Of",Rt)),Te=r.clone({headers:it})}return u.handle(Te).pipe((0,Sn.T)(it=>{if(it instanceof Ke.cS&&this.isSuccess(it)&&this.isAuthRequest(it)){let Rt;if(this.isLoginResponse(it)){const bn=it.headers.get("authorization");Rt=it.clone({body:this.makeAuthStatusObject(!0,bn)}),this.refreshTokenRequestUrls=[]}else Rt=this.isStatusResponse(it)?it.clone({body:Object.assign(it.body,{authMethods:this.parseAuthMethodsFromHeaders(it.headers)})}):it.clone({body:this.makeAuthStatusObject(!1)});return Rt}return it}),(0,Io.W)((it,Rt)=>{if(it instanceof Ke.yz){if(this.isAuthRequest(it)){this.refreshTokenRequestUrls=[];const bn=new Ke.cS({body:this.makeAuthStatusObject(!1,null,it.error,it.headers),headers:it.headers,status:it.status,statusText:it.statusText,url:it.url});return(0,Gn.of)(bn)}this.isUnauthorized(it)&&(0,V.Pe)(Y)&&x.isTokenExpired()&&this.store.dispatch(new z.Wu("auth.messages.expired"))}return(0,ca.$)(it)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(e.zZn),e.KVO(y.Ix),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),KO=(()=>{class d{constructor(r,u){this.appConfig=r,this.platformId=u,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(r,u){if((0,p.UE)(this.platformId)||(0,V.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return u.handle(r);const x=r.url.replace(this.baseUrl,this.ssrBaseUrl),Y=r.clone({url:x});return u.handle(Y)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(mo.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var x1=n(31943),lp=n(97576);let HO=(()=>{class d{constructor(r){this.localeService=r}intercept(r,u){let x;return this.localeService.getLanguageCodeList().pipe((0,x1.S)((Y,Te)=>[...Y,Te],[]),(0,vr.Z)(Y=>(x=r.clone({headers:r.headers.set("Accept-Language",Y.toString())}),u.handle(x))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lp.iH))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var zO=n(75398),ic=n(44242);const m0="orejime-anonymous",g0="google-analytics",o_="correlation-id",_0="CORRELATION-ID";var YO=n(77270);const JO=d=>d.correlationId;var Hf=n(67138),QO=n(65148),dd=n(89564);let sc=(()=>{class d{constructor(r,u,x,Y,Te){this.cookieService=r,this.uuidService=u,this.store=x,this.orejimeService=Y,this._window=Te,this._window?.nativeWindow&&(this._window.nativeWindow.initCorrelationId=()=>this.initCorrelationId())}initCorrelationId(){this.orejimeService?.getSavedPreferences().subscribe(r=>{(0,V.a4)(r)&&r[o_]&&this.setCorrelationId()})}setCorrelationId(){let r=this.cookieService.get(_0);(0,V.Im)(r)&&(r=this.getCorrelationId()),(0,V.Im)(r)&&(r=this.uuidService.generate()),this.store.dispatch(new YO.q(r)),this.cookieService.set(_0,r)}getCorrelationId(){let r;return this.store.pipe((0,E.Lt)(JO),(0,D.s)(1)).subscribe(u=>{r=u}),r}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Hf.O),e.KVO(QO.v),e.KVO(E.il),e.KVO(dd.B),e.KVO(T.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),zf=(()=>{class d{constructor(r,u,x){this.cidService=r,this.router=u,this.orejimeService=x}intercept(r,u){return this.orejimeService.getSavedPreferences().pipe((0,Li.n)(x=>{const Y=(0,V.Im)(x)||(0,V.Im)(x[o_])||!x[o_];let Te=r.headers;if(!Y){const Pe=this.cidService.getCorrelationId();(0,V.a4)(Pe)&&(Te=Te.append("X-CORRELATION-ID",Pe))}return Te=Te.append("X-REFERRER",this.router.url),r=r.clone({withCredentials:!0,headers:Te}),u.handle(r)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(sc),e.KVO(y.Ix),e.KVO(dd.B))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var He=n(31635),Cn=n(74850),_s=n(72153),ud=n(56538),Is=n(44043),fr=n(94152),dp=n(89465);let tu=class extends ud.I{static{this.type=dp.uC}get self(){return this._links.self.href}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],tu.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],tu.prototype,"id",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],tu.prototype,"_links",void 0),tu=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ud.I)],tu);let xa=class extends ud.I{static{this.type=dp.zd}get self(){return this._links.self.href}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],xa.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],xa.prototype,"id",void 0),(0,He.Cg)([(0,Cn.deserializeAs)("id"),(0,He.Sn)("design:type",String)],xa.prototype,"uuid",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"name",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"description",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"url",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],xa.prototype,"score",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],xa.prototype,"enabled",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],xa.prototype,"usesActorEmailId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"ldnUrl",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"lowerIp",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xa.prototype,"upperIp",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],xa.prototype,"notifyServiceInboundPatterns",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],xa.prototype,"_links",void 0),xa=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ud.I)],xa);const ZO=new Is.v("notifyrequests");let nu=class{static{this.type=ZO}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],nu.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],nu.prototype,"notifyStatus",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],nu.prototype,"itemuuid",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],nu.prototype,"_links",void 0),nu=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ud.I)],nu),n(42728),n(71695);var r_=n(32506);const v0=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>N1}),N1=new Map([]);let tS=(()=>{class d extends r_.Y{constructor(r,u){super(u),this.mockResponseMap=r,this.http=u}get(r){const u=this.getMockData(r);return(0,V.Im)(u)?super.get(r):this.toMockResponse$(u)}request(r,u,x,Y,Te){const Pe=this.getMockData(u);return(0,V.Im)(Pe)?super.request(r,u,x,Y,Te):this.toMockResponse$(Pe)}toMockResponse$(r){return(0,Gn.of)({payload:r,headers:new Ke.Lr,statusCode:200,statusText:"OK"})}getMockData(r){let u;if(u=this.mockResponseMap.has(r)?r:new URL(r).pathname.slice(R.c.rest.nameSpace.length),this.mockResponseMap.has(u))return JSON.parse(JSON.stringify(this.mockResponseMap.get(u)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(v0),e.KVO(Ke.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var F1=n(442);let iu=class{static{this.type=F1.E}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],iu.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],iu.prototype,"status",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],iu.prototype,"embargoDate",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],iu.prototype,"_links",void 0),iu=(0,He.Cg)([_s.gV],iu);var Xf=n(66977);let qu=class{static{this.type=Xf.f}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],qu.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],qu.prototype,"identifiers",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],qu.prototype,"_links",void 0),qu=(0,He.Cg)([_s.gV],qu),n(49886);const B1=new Is.v("submissioncoarnotifyconfig");new Is.v("workspaceitem");let hd=class extends ud.I{static{this.type=B1}get self(){return this._links.self.href}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],hd.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hd.prototype,"id",void 0),(0,He.Cg)([(0,Cn.deserializeAs)("id"),(0,He.Sn)("design:type",String)],hd.prototype,"uuid",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],hd.prototype,"patterns",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],hd.prototype,"_links",void 0),hd=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ud.I)],hd),n(17942);const E0=new Is.v("shortlivedtoken");let su=class{static{this.type=E0}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],su.prototype,"type",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)("token"),(0,He.Sn)("design:type",String)],su.prototype,"value",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],su.prototype,"_links",void 0),su=(0,He.Cg)([_s.gV],su);var ou=n(80541),oc=n(2523);let ru=class extends ou.G{static{this.type=oc.XI}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],ru.prototype,"type",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)(String,"name"),(0,He.Sn)("design:type",String)],ru.prototype,"uuid",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],ru.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],ru.prototype,"itemAccessConditionOptions",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],ru.prototype,"bitstreamAccessConditionOptions",void 0),ru=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ou.G)],ru);let au=class extends ou.G{static{this.type=oc.NS}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],au.prototype,"accessConditionOptions",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],au.prototype,"discoverable",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],au.prototype,"canChangeDiscoverable",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],au.prototype,"_links",void 0),au=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ou.G)],au);let a_=class extends au{static{this.type=oc.NS}};a_=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(au)],a_),n(80892),n(56541),n(69123);let pd=class extends ou.G{static{this.type=oc.WJ}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],pd.prototype,"header",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],pd.prototype,"mandatory",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],pd.prototype,"scope",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],pd.prototype,"sectionType",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Object)],pd.prototype,"visibility",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],pd.prototype,"_links",void 0),pd=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ou.G)],pd);let fd=class extends ou.G{static{this.type=oc.mU}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],fd.prototype,"accessConditionOptions",void 0),(0,He.Cg)([(0,_s.nf)(oc.KX),(0,He.Sn)("design:type",qi.c)],fd.prototype,"metadata",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],fd.prototype,"required",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],fd.prototype,"maxSize",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],fd.prototype,"_links",void 0),fd=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(ou.G)],fd);let C0=class extends fd{static{this.type=oc.V_}};C0=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(fd)],C0);const b0=new Is.v("root");let Rc=class{static{this.type=b0}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],Rc.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Rc.prototype,"dspaceUI",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Rc.prototype,"dspaceName",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Rc.prototype,"dspaceServer",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Rc.prototype,"dspaceVersion",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Rc.prototype,"_links",void 0),Rc=(0,He.Cg)([_s.gV],Rc),n(89253),n(49340),n(33749),n(27632);var Yf=n(46884);const c_=new Is.v("qualityassuranceevent");let hl=class{static{this.type=c_}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hl.prototype,"id",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)(String,"id"),(0,He.Sn)("design:type",String)],hl.prototype,"uuid",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hl.prototype,"originalId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hl.prototype,"title",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],hl.prototype,"trust",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hl.prototype,"eventDate",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hl.prototype,"status",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Object)],hl.prototype,"message",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],hl.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],hl.prototype,"_links",void 0),(0,He.Cg)([(0,_s.nf)(Yf.U),(0,He.Sn)("design:type",qi.c)],hl.prototype,"target",void 0),(0,He.Cg)([(0,_s.nf)(Yf.U),(0,He.Sn)("design:type",qi.c)],hl.prototype,"related",void 0),hl=(0,He.Cg)([_s.gV],hl);const aS=new Is.v("qualityassurancesource");let Ac=class{static{this.type=aS}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Ac.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Ac.prototype,"lastEvent",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],Ac.prototype,"totalEvents",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],Ac.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Ac.prototype,"_links",void 0),Ac=(0,He.Cg)([_s.gV],Ac);const lS=new Is.v("qualityassurancetopic");let lu=class{static{this.type=lS}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],lu.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],lu.prototype,"name",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],lu.prototype,"lastEvent",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],lu.prototype,"totalEvents",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],lu.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],lu.prototype,"_links",void 0),lu=(0,He.Cg)([_s.gV],lu);const cS=new Is.v("suggestionsource");let hp=class{static{this.type=cS}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],hp.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],hp.prototype,"total",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],hp.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],hp.prototype,"_links",void 0),hp=(0,He.Cg)([_s.gV],hp);const dS=new Is.v("suggestiontarget");let md=class{static{this.type=dS}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],md.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],md.prototype,"display",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],md.prototype,"source",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],md.prototype,"total",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],md.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],md.prototype,"_links",void 0),md=(0,He.Cg)([_s.gV],md);const Jf=new Is.v("orcidhistory");let Xa=class extends ud.I{static{this.type=Jf}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],Xa.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],Xa.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xa.prototype,"entityName",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xa.prototype,"profileItemId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xa.prototype,"entityId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xa.prototype,"entityType",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],Xa.prototype,"status",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xa.prototype,"putCode",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Xa.prototype,"_links",void 0),Xa=(0,He.Cg)([_s.gV],Xa);const D0=new Is.v("orcidqueue");let Hl=class extends ud.I{static{this.type=D0}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],Hl.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],Hl.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Hl.prototype,"description",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Hl.prototype,"profileItemId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Hl.prototype,"entityId",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Hl.prototype,"recordType",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Hl.prototype,"operation",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Hl.prototype,"_links",void 0),Hl=(0,He.Cg)([_s.gV],Hl),n(12207),n(77123);var T0=n(70963);const M0=new Is.v("authorization");var va=n(73685);const Ya=new Is.v("feature");let Wr=class extends va.M{static{this.type=M0}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Wr.prototype,"id",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Wr.prototype,"_links",void 0),(0,He.Cg)([(0,_s.nf)(T0.N),(0,He.Sn)("design:type",qi.c)],Wr.prototype,"eperson",void 0),(0,He.Cg)([(0,_s.nf)(Ya),(0,He.Sn)("design:type",qi.c)],Wr.prototype,"feature",void 0),(0,He.Cg)([(0,_s.nf)(Yf.U),(0,He.Sn)("design:type",qi.c)],Wr.prototype,"object",void 0),Wr=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],Wr);var O0=n(21832),k2=(n(36480),n(611),n(77766));const V2=new Is.v("browseEntry");let zl=class extends k2.u{static{this.type=V2}getRenderTypes(){return[this.constructor]}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],zl.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],zl.prototype,"authority",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],zl.prototype,"value",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)("valueLang"),(0,He.Sn)("design:type",String)],zl.prototype,"language",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)("thumbnail"),(0,He.Sn)("design:type",String)],zl.prototype,"thumbnail",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Number)],zl.prototype,"count",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],zl.prototype,"_links",void 0),zl=(0,He.Cg)([_s.gV],zl);var S0=n(41033);const hS=new Is.v("property");let rc=class{static{this.type=hS}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],rc.prototype,"type",void 0),(0,He.Cg)([(0,Cn.autoserializeAs)(String,"name"),(0,He.Sn)("design:type",String)],rc.prototype,"uuid",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],rc.prototype,"name",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],rc.prototype,"values",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],rc.prototype,"_links",void 0),rc=(0,He.Cg)([_s.gV],rc),n(38516);var Qf=n(99278);let eh=class extends va.M{static{this.type=Ya}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],eh.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],eh.prototype,"description",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],eh.prototype,"resourcetypes",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],eh.prototype,"_links",void 0),eh=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],eh),n(58771),n(34621),n(89505),n(9575),n(83174),n(43588);var V1=n(8322);let fp=class extends va.M{static{this.type=V1.m}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],fp.prototype,"custom",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],fp.prototype,"text",void 0),fp=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],fp),n(86576),n(88906);const W1=new Is.v("discover");let xc=class{static{this.type=W1}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],xc.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],xc.prototype,"filters",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],xc.prototype,"sortOptions",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],xc.prototype,"type",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],xc.prototype,"_links",void 0),xc=(0,He.Cg)([_s.gV],xc);const mp=new Is.v("site");let gp=class extends va.M{static{this.type=mp}};gp=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],gp);var u_=n(96799);const mS=new Is.v("itemtemplate");let h_=class extends za.q{static{this.type=mS}};(0,He.Cg)([(0,_s.nf)(u_.n),(0,He.Sn)("design:type",qi.c)],h_.prototype,"templateItemOf",void 0),h_=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(za.q)],h_),n(83800),n(71147);var cu=n(46969),x0=n(43040);let wc=class extends va.M{static{this.type=x0.s}};(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],wc.prototype,"_links",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],wc.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],wc.prototype,"summary",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],wc.prototype,"submitterName",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],wc.prototype,"draftVersion",void 0),(0,He.Cg)([fr.aK,(0,_s.nf)(cu.x,!0),(0,He.Sn)("design:type",qi.c)],wc.prototype,"versions",void 0),wc=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],wc),n(11774),n(16868);var L0=n(55349);const N0=new Is.v("submissioncclicenseUrl");let _p=class extends L0.s{static{this.type=N0}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],_p.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],_p.prototype,"url",void 0),_p=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(L0.s)],_p);var p_=n(56327),F0=n(84821),gd=n(38608);let Oa=class{static{this.type=gd.Hx}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Oa.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Oa.prototype,"name",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],Oa.prototype,"scrollable",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],Oa.prototype,"hierarchical",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Object)],Oa.prototype,"preloadLevel",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Object)],Oa.prototype,"type",void 0),(0,He.Cg)([(0,_s.nf)(gd.mt,!0),(0,He.Sn)("design:type",qi.c)],Oa.prototype,"entries",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Oa.prototype,"_links",void 0),Oa=(0,He.Cg)([_s.gV],Oa);var vp=n(13627);n(38511);class Lc{}(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Lc.prototype,"id",void 0);var U0=n(17144),f_=n(13005);const m_=new Is.v("ratingrevieweraction"),_S=new Is.v("selectrevieweraction");let yp=class extends Lc{static{this.type=m_}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],yp.prototype,"descriptionRequired",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Number)],yp.prototype,"maxValue",void 0),yp=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(Lc)],yp);let g_=class extends Lc{static{this.type=_S}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],g_.prototype,"group",void 0),g_=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(Lc)],g_),n(92229);var K1=n(9701);let _d=class extends va.M{static{this.type=K1.f}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],_d.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],_d.prototype,"options",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Boolean)],_d.prototype,"advanced",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],_d.prototype,"advancedOptions",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",Array)],_d.prototype,"advancedInfo",void 0),_d=(0,He.Cg)([_s.gV,(0,Cn.inheritSerialization)(va.M)],_d);var Zf=n(2632);let th=(()=>{class d extends Hf.O{set(r,u,x){(0,Zf.set)(r,u,x),this.updateSource()}remove(r,u){(0,Zf.remove)(r,u),this.updateSource()}get(r){return(0,Zf.getJSON)(r)}getAll(){return(0,Zf.getJSON)()}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Xn=n(89417),Fi=n(40940),Kn=n(19192),ac=n(97593),$n=n(21193),ws=n(8177),Lr=n(4266),Go=n(49170),Nr=n(83333),Fs=n(44860),nh=n(61880),ir=n(79032);let Nc=(()=>{class d extends ir.C{constructor(r,u,x){super(r),this.dsoNameService=r,this.truncatableService=u,this.bitstreamDataService=x}ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(r){return nh.O.allValues([this.object.hitHighlights,this.dso.metadata],r)}firstMetadataValue(r){return nh.O.firstValue([this.object.hitHighlights,this.dso.metadata],r)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Mi.f),e.rXU(Fs.F),e.rXU(Lr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(u,x){},encapsulation:2})}}return d})();const ES=["*"],z1=d=>["/collections/",d];function CS(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,z1,u.dso.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function X1(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function bS(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function DS(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.dso.shortDescription)}}function TS(d,_){if(1&d&&(e.j41(0,"div",7)(1,"a",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,z1,r.dso.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let qf=class n2 extends Nc{constructor(_,r,u,x){super(_,u,x),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.bitstreamDataService=x}set dso(_){this._dso=_,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,rs.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(r){return new(r||n2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Fs.F),e.rXU(Lr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:n2,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ES,decls:10,vars:6,consts:[[1,"card"],["tabindex","-1",1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[3,"object","context"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,CS,4,12,"a",1)(2,X1,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,bS,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,DS,2,1,"p",6)(8,TS,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(2),e.vxM(u.showLabel?4:-1),e.R7$(2),e.JRh(u.dsoNameService.getName(u.dso)),e.R7$(),e.vxM(u.dso.shortDescription?7:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?8:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};qf=(0,He.Cg)([(0,$n.VK)(ac.A,Kn.n.GridElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Fs.F,Lr.BitstreamDataService])],qf);const Y1=d=>[d];let em=class EM extends Nc{ngOnInit(){super.ngOnInit(),this.editPath=(0,s0._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(EM)))(u||EM)}})()}static{this.\u0275cmp=e.VBU({type:EM,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,Y1,u.editPath)))},dependencies:[qf,y.Wk]})}};em=(0,He.Cg)([(0,$n.VK)(ac.A,Kn.n.GridElement,Fi.o.AdminSearch)],em);var du=n(22260);const MS=["*"],Ja=d=>["/communities/",d];function OS(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Ja,u.dso.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function SS(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function $2(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function j0(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.dso.shortDescription)}}function J1(d,_){if(1&d&&(e.j41(0,"div",7)(1,"a",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Ja,r.dso.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let tm=class s2 extends Nc{constructor(_,r,u,x){super(_,u,x),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.bitstreamDataService=x}set dso(_){this._dso=_,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,rs.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(r){return new(r||s2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Fs.F),e.rXU(Lr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:s2,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:MS,decls:10,vars:6,consts:[[1,"card"],["tabindex","-1",1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[3,"object","context"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,OS,4,12,"a",1)(2,SS,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,$2,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,j0,2,1,"p",6)(8,J1,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(2),e.vxM(u.showLabel?4:-1),e.R7$(2),e.JRh(u.dsoNameService.getName(u.dso)),e.R7$(),e.vxM(u.dso.shortDescription?7:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?8:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};tm=(0,He.Cg)([(0,$n.VK)(du.L,Kn.n.GridElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Fs.F,Lr.BitstreamDataService])],tm);const IS=d=>[d];let __=class CM extends Nc{ngOnInit(){super.ngOnInit(),this.editPath=(0,o0.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(CM)))(u||CM)}})()}static{this.\u0275cmp=e.VBU({type:CM,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,IS,u.editPath)))},dependencies:[tm,y.Wk]})}};__=(0,He.Cg)([(0,$n.VK)(du.L,Kn.n.GridElement,Fi.o.AdminSearch)],__);var uu=n(60163),pl=n(39210),ih=n(55743);const vd=d=>({"btn-sm":d}),sh=d=>[d];function PS(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function RS(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function AS(d,_){if(1&d&&(e.j41(0,"a",4),e.nI1(1,"translate"),e.nrm(2,"i",12),e.DNE(3,RS,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,vd,r.small))("routerLink",e.eq3(8,sh,r.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.vxM(r.small?-1:3)}}function xS(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function Fc(d,_){if(1&d&&(e.j41(0,"a",5),e.nI1(1,"translate"),e.nrm(2,"i",13),e.DNE(3,xS,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,vd,r.small))("routerLink",e.eq3(8,sh,r.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.vxM(r.small?-1:3)}}function k0(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function wS(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function LS(d,_){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,wS,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,vd,r.small))("routerLink",e.eq3(8,sh,r.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.vxM(r.small?-1:3)}}function Q1(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function Z1(d,_){if(1&d&&(e.j41(0,"a",9),e.nI1(1,"translate"),e.nrm(2,"i",15),e.DNE(3,Q1,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,vd,r.small))("routerLink",e.eq3(8,sh,r.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.vxM(r.small?-1:3)}}function v_(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let nm=(()=>{class d{getEditRoute(){return(0,Xu.$r)(this.item)}getMoveRoute(){return new gs.t(this.getEditRoute(),ih.Bw).toString()}getDeleteRoute(){return new gs.t(this.getEditRoute(),ih.Jr).toString()}getWithdrawRoute(){return new gs.t(this.getEditRoute(),ih.kH).toString()}getReinstateRoute(){return new gs.t(this.getEditRoute(),ih.Pg).toString()}getPrivateRoute(){return new gs.t(this.getEditRoute(),ih.$2).toString()}getPublicRoute(){return new gs.t(this.getEditRoute(),ih.RS).toString()}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"fa","fa-eye-slash"],[1,"fa","fa-eye"],[1,"fa","fa-ban"],[1,"fa","fa-undo"]],template:function(u,x){1&u&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,PS,3,3,"span",3),e.k0s(),e.DNE(5,AS,4,10,"a",4)(6,Fc,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,k0,3,3,"span",3),e.k0s(),e.DNE(11,LS,4,10,"a",8)(12,Z1,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,v_,3,3,"span",3),e.k0s()()),2&u&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,vd,x.small))("routerLink",e.eq3(24,sh,x.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.vxM(x.small?-1:4),e.R7$(),e.vxM(x.item&&x.item.isDiscoverable?5:-1),e.R7$(),e.vxM(x.item&&!x.item.isDiscoverable?6:-1),e.R7$(),e.Y8G("ngClass",e.eq3(26,vd,x.small))("routerLink",e.eq3(28,sh,x.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.vxM(x.small?-1:10),e.R7$(),e.vxM(x.item&&!x.item.isWithdrawn?11:-1),e.R7$(),e.vxM(x.item&&x.item.isWithdrawn?12:-1),e.R7$(),e.Y8G("ngClass",e.eq3(30,vd,x.small))("routerLink",e.eq3(32,sh,x.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.vxM(x.small?-1:16))},dependencies:[p.YU,y.Wk,K.h,K.D9]})}}return d})();const W2=["badges"],q1=["buttons"],eC=["*"];function tC(d,_){}let oh=class o2 extends Nc{constructor(_,r,u,x){super(_,r,u),this.dsoNameService=_,this.truncatableService=r,this.bitstreamDataService=u,this.themeService=x}ngOnInit(){super.ngOnInit();const _=this.getComponent(),r=this.dynamicComponentLoaderDirective.viewContainerRef;r.clear(),this.compRef=r.createComponent(_,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,$n.Zx)(this.object.getRenderTypes(),Kn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(r){return new(r||o2)(e.rXU(Mi.f),e.rXU(Fs.F),e.rXU(Lr.BitstreamDataService),e.rXU(ne.Fs))}}static{this.\u0275cmp=e.VBU({type:o2,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(uu.z,7),e.GBs(W2,7),e.GBs(q1,7)),2&r){let x;e.mGM(x=e.lsd())&&(u.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(u.badges=x.first),e.mGM(x=e.lsd())&&(u.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:eC,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(r,u){1&r&&(e.NAR(),e.DNE(0,tC,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&r&&(e.R7$(7),e.Y8G("item",u.dso)("small",!0))},dependencies:[uu.z,nm]})}};oh=(0,He.Cg)([(0,$n.VK)(pl.H,Kn.n.GridElement,Fi.o.AdminSearch),(0,He.Sn)("design:paramtypes",[Mi.f,Fs.F,Lr.BitstreamDataService,ne.Fs])],oh);var Gr=n(26971);const yd=d=>[d];function NS(d,_){if(1&d&&e.nrm(0,"ds-badges",2),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function FS(d,_){if(1&d&&e.nrm(0,"a",3),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,yd,"/collections/"+r.dso.id))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function V0(d,_){if(1&d&&e.nrm(0,"span",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function BS(d,_){if(1&d&&e.nrm(0,"div",5),2&d){const r=e.XpG();e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}let Bc=class bM extends Gr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(bM)))(u||bM)}})()}static{this.\u0275cmp=e.VBU({type:bM,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,NS,1,2,"ds-badges",2)(3,FS,1,6,"a",3)(4,V0,1,1,"span",4)(5,BS,1,1,"div",5),e.k0s()()),2&r&&(e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.vxM(u.showLabel?2:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?3:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.dso.shortDescription?5:-1))},dependencies:[p.YU,y.Wk,Nr.F],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Bc=(0,He.Cg)([(0,$n.VK)(ac.A,Kn.n.ListElement)],Bc);const nC=d=>[d];let Uc=class DM extends Gr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,s0._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(DM)))(u||DM)}})()}static{this.\u0275cmp=e.VBU({type:DM,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,nC,u.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[Bc,y.Wk,K.h,K.D9]})}};Uc=(0,He.Cg)([(0,$n.VK)(ac.A,Kn.n.ListElement,Fi.o.AdminSearch)],Uc);const Ep=d=>[d];function $0(d,_){if(1&d&&e.nrm(0,"ds-badges",2),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function im(d,_){if(1&d&&e.nrm(0,"a",3),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Ep,"/communities/"+r.dso.id))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function iC(d,_){if(1&d&&e.nrm(0,"span",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function sC(d,_){if(1&d&&e.nrm(0,"div",5),2&d){const r=e.XpG();e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}let sm=class TM extends Gr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(TM)))(u||TM)}})()}static{this.\u0275cmp=e.VBU({type:TM,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,$0,1,2,"ds-badges",2)(3,im,1,6,"a",3)(4,iC,1,1,"span",4)(5,sC,1,1,"div",5),e.k0s()()),2&r&&(e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.vxM(u.showLabel?2:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?3:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.dso.shortDescription?5:-1))},dependencies:[p.YU,y.Wk,Nr.F],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};sm=(0,He.Cg)([(0,$n.VK)(du.L,Kn.n.ListElement)],sm);const US=d=>[d];let y_=class MM extends Gr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,o0.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(MM)))(u||MM)}})()}static{this.\u0275cmp=e.VBU({type:MM,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,US,u.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[sm,y.Wk,K.h,K.D9]})}};y_=(0,He.Cg)([(0,$n.VK)(du.L,Kn.n.ListElement,Fi.o.AdminSearch)],y_);var rh=n(8447);let E_=class OM extends Gr.P{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(OM)))(u||OM)}})()}static{this.\u0275cmp=e.VBU({type:OM,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(r,u){1&r&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&r&&(e.Y8G("object",u.object)("viewMode",u.viewModes.ListElement)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(),e.Y8G("item",u.dso)("small",!1))},dependencies:[nm,rh.v]})}};E_=(0,He.Cg)([(0,$n.VK)(pl.H,Kn.n.ListElement,Fi.o.AdminSearch)],E_);var Cp=n(33063);const W0=d=>({"btn-sm":d}),oC=d=>[d];function C_(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function jS(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let b_=(()=>{class d{getDeleteRoute(){return(0,Cp.BD)(this.wfi.id)}getSendBackRoute(){return(0,Cp.Rk)(this.wfi.id)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"]],template:function(u,x){1&u&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,C_,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,jS,3,3,"span",3),e.k0s()()),2&u&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,W0,x.small))("routerLink",e.eq3(14,oC,x.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.vxM(x.small?-1:4),e.R7$(),e.Y8G("ngClass",e.eq3(16,W0,x.small))("routerLink",e.eq3(18,oC,x.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.vxM(x.small?-1:8))},dependencies:[p.YU,y.Wk,K.h,K.D9]})}}return d})();var bp=n(99737),rC=n(71384),wa=n(85186),kS=n(96283),G0=n(59922),D_=n(85579);let lc=class{static{this.type=D_.T}};(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],lc.prototype,"id",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],lc.prototype,"type",void 0),(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",String)],lc.prototype,"ordertype",void 0),(0,He.Cg)([(0,Cn.deserializeAs)(new kS.a("supervision-order"),"id"),(0,He.Sn)("design:type",String)],lc.prototype,"uuid",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],lc.prototype,"_links",void 0),(0,He.Cg)([(0,_s.nf)(Yf.U),(0,He.Sn)("design:type",qi.c)],lc.prototype,"item",void 0),(0,He.Cg)([(0,_s.nf)(G0.U),(0,He.Sn)("design:type",qi.c)],lc.prototype,"group",void 0),lc=(0,He.Cg)([_s.gV],lc);var om=n(80094),rm=n(14744);function am(d,_){1&d&&(e.nrm(0,"ds-error",9),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function VS(d,_){1&d&&(e.nrm(0,"ds-error",9),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let $S=(()=>{class d{constructor(r,u,x,Y,Te){this.dsoNameService=r,this.activeModal=u,this.supervisionOrderDataService=x,this.notificationsService=Y,this.translateService=Te,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(r){this.selectedGroup=r}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const r=new lc;r.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(r,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,Ti.qD)()).subscribe(u=>{u.state===wa.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(u.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===u.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):u.errorMessage)})}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Mi.f),e.rXU(G.Lw),e.rXU(bp.SupervisionOrderDataService),e.rXU(Zr.I),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder",1,"form-label"],["name","supervisionOrder","id","supervisionOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message"],["for","supervisionGroup",1,"form-label"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"]],template:function(u,x){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.k0s()(),e.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"select",6),e.nI1(12,"translate"),e.mxI("ngModelChange",function(Te){return e.DH7(x.selectedOrderType,Te)||(x.selectedOrderType=Te),Te}),e.j41(13,"option",7),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",8),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.DNE(19,am,2,3,"ds-error",9),e.k0s()(),e.j41(20,"div",3)(21,"div",4)(22,"label",10),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.qex(25,11),e.nrm(26,"input",12),e.DNE(27,VS,2,3,"ds-error",9),e.bVm(),e.j41(28,"ds-eperson-group-list",13),e.bIt("select",function(Te){return x.updateGroupObjectSelected(Te)}),e.k0s()()(),e.j41(29,"div",14)(30,"button",15),e.bIt("click",function(){return x.close()}),e.nrm(31,"i",16),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",17),e.bIt("click",function(){return x.save()}),e.nrm(35,"i",18),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(7),e.JRh(e.bMT(10,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",x.selectedOrderType),e.BMQ("aria-label",e.bMT(12,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(15,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(18,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.vxM(!x.isSubmitted||x.selectedOrderType&&""!==x.selectedOrderType?-1:19),e.R7$(4),e.JRh(e.bMT(24,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",x.selectedGroup?x.dsoNameService.getName(x.selectedGroup):""),e.R7$(),e.vxM(x.isSubmitted&&!x.selectedGroup?27:-1),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(33,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(37,27,"supervision-group-selector.button.save")," "))},dependencies:[om.T,rm.A,Xn.YN,Xn.xH,Xn.y7,Xn.wz,Xn.BC,Xn.vS,K.h,K.D9]})}}return d})();var WS=n(19852),Xl=n(50186);function K0(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",3),e.nI1(1,"translate"),e.bIt("click",function(x){const Y=e.eBV(r).$implicit,Te=e.XpG(3);return x.preventDefault(),x.stopImmediatePropagation(),e.Njj(Te.deleteSupervisionOrder(Y))}),e.EFF(2),e.j41(3,"span",4),e.EFF(4," \xd7"),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",u.dsoNameService.getName(r.group)," ")}}function GS(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.Z7z(6,K0,5,4,"a",2,e.fX1),e.k0s()()),2&d){const r=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,1,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Dyx(r)}}function G2(d,_){if(1&d&&(e.qex(0),e.DNE(1,GS,8,3,"div",1),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM((null==r?null:r.length)>0?1:-1)}}let K2=(()=>{class d{constructor(r){this.dsoNameService=r,this.supervisionOrderList=[],this.supervisionOrderEntries$=new v.t([]),this.delete=new e.bkB}ngOnChanges(r){r&&r.supervisionOrderList&&this.getSupervisionOrderEntries(r.supervisionOrderList.currentValue).subscribe(u=>{this.supervisionOrderEntries$.next(u)})}getSupervisionOrderEntries(r){return(0,kh.H)(r).pipe((0,vr.Z)(u=>u.group.pipe((0,Ti.qD)(),(0,Sn.T)(x=>x.hasSucceeded?{supervisionOrder:u,group:x.payload}:null))),(0,WS.T)((u,x)=>(0,V.hj)(x)?[...u,x]:u,[]))}deleteSupervisionOrder(r){this.delete.emit(r)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Mi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"item-list-supervision"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"ngbTooltip"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(u,x){1&u&&(e.DNE(0,G2,2,1,"ng-container",0),e.nI1(1,"async")),2&u&&e.Y8G("ngVar",e.bMT(1,1,x.supervisionOrderEntries$))},dependencies:[p.Jj,G.n8,G.md,K.h,K.D9,Xl.r],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return d})();const H0=d=>({"btn-sm":d}),KS=d=>[d];function H2(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function HS(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function z2(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let z0=(()=>{class d{constructor(r,u,x,Y,Te){this.dsoNameService=r,this.modalService=u,this.notificationsService=x,this.supervisionOrderDataService=Y,this.translateService=Te,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const r=this.wsi.item.pipe((0,Ti.ak)());r.pipe((0,Sn.T)(u=>this.getPoliciesRoute(u))).subscribe(u=>{this.resourcePoliciesPageRoute=u}),r.subscribe(u=>{this.item=u})}getDeleteRoute(){return(0,Cp.BY)(this.wsi.id)}getPoliciesRoute(r){return["/items",r.uuid,"edit",ih.K4]}deleteSupervisionOrder(r){const u=this.modalService.open(tc.M);u.componentInstance.name=this.dsoNameService.getName(r.group),u.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",u.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",u.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",u.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",u.componentInstance.brandColor="danger",u.componentInstance.confirmIcon="fas fa-trash",u.componentInstance.response.pipe((0,D.s)(1),(0,Li.n)(x=>{if(x&&(0,V.a4)(r.supervisionOrder.id))return this.supervisionOrderDataService.delete(r.supervisionOrder.id).pipe((0,D.s)(1),(0,Vi.M)(Y=>{Y?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(r.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(r.group)}))}))})).subscribe(x=>{x&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const r=this.modalService.open($S,{size:"lg",backdrop:"static"});r.componentInstance.itemUUID=this.item.uuid,r.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const r=(0,rC.L)(this.wsi.constructor);return Object.assign(new r,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Mi.f),e.rXU(G.Bq),e.rXU(Zr.I),e.rXU(bp.SupervisionOrderDataService),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"]],template:function(u,x){1&u&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(Te){return x.deleteSupervisionOrder(Te)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,H2,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,HS,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return x.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,z2,3,3,"span",5),e.k0s()()),2&u&&(e.R7$(),e.Y8G("supervisionOrderList",x.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,H0,x.small))("routerLink",e.eq3(20,KS,x.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.vxM(x.small?-1:6),e.R7$(),e.Y8G("ngClass",e.eq3(22,H0,x.small))("routerLink",x.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.vxM(x.small?-1:10),e.R7$(),e.Y8G("ngClass",e.eq3(24,H0,x.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.vxM(x.small?-1:14))},dependencies:[p.YU,y.Wk,K2,K.h,K.D9]})}}return d})();var T_=n(59194);const zS=["badges"],X0=["buttons"];function lm(d,_){}function Y0(d,_){if(1&d&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",8),2&d){const r=e.XpG();e.Y8G("wfi",r.dso)("small",!0)}}let ah=class r2 extends Nc{constructor(_,r,u,x,Y){super(_,u,Y),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.themeService=x,this.bitstreamDataService=Y}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.item$=this.dso.item.pipe((0,Ti.v7)(),(0,Ti.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(_=>{const r=this.getComponent(_),u=this.dynamicComponentLoaderDirective.viewContainerRef;u.clear(),this.compRef=u.createComponent(r,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",_),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(_){return(0,$n.Zx)(_.getRenderTypes(),Kn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(r){return new(r||r2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Fs.F),e.rXU(ne.Fs),e.rXU(Lr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:r2,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(uu.z,7),e.GBs(zS,7),e.GBs(X0,7)),2&r){let x;e.mGM(x=e.lsd())&&(u.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(u.badges=x.first),e.mGM(x=e.lsd())&&(u.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(r,u){1&r&&(e.DNE(0,lm,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,Y0,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&r&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.vxM(u.object?10:-1))},dependencies:[uu.z,K.h,K.D9,b_]})}};ah=(0,He.Cg)([(0,$n.VK)(T_.q,Kn.n.GridElement,Fi.o.AdminWorkflowSearch),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Fs.F,ne.Fs,Lr.BitstreamDataService])],ah);var cm=n(62378);const dm=["badges"],aC=["buttons"];function XS(d,_){}let hu=class a2 extends Nc{constructor(_,r,u,x,Y,Te){super(_,u,Y),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.themeService=x,this.bitstreamDataService=Y,this.supervisionOrderDataService=Te,this.supervisionOrder$=new v.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.item$=this.dso.item.pipe((0,Ti.v7)(),(0,Ti.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(_=>{const r=this.getComponent(_),u=this.dynamicComponentLoaderDirective.viewContainerRef;u.clear(),this.compRef=u.createComponent(r,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",_),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,D.s)(1),(0,Vi.M)(_=>this.itemId=_.id),(0,vr.Z)(_=>this.retrieveSupervisorOrders(_.id))).subscribe(_=>{this.supervisionOrder$.next(_)})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(_){return(0,$n.Zx)(_.getRenderTypes(),Kn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(_){return this.supervisionOrderDataService.searchByItem(_,!1,!0,(0,rs.s)("group")).pipe((0,Ti.qD)(),(0,Sn.T)(r=>r.hasSucceeded&&!r.hasNoContent?r.payload.page:[]))}reloadObject(_){this.reloadedObject.emit(_)}static{this.\u0275fac=function(r){return new(r||a2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Fs.F),e.rXU(ne.Fs),e.rXU(Lr.BitstreamDataService),e.rXU(bp.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:a2,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(uu.z,7),e.GBs(dm,7),e.GBs(aC,7)),2&r){let x;e.mGM(x=e.lsd())&&(u.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(u.badges=x.first),e.mGM(x=e.lsd())&&(u.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(r,u){if(1&r){const x=e.RV6();e.DNE(0,XS,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(Te){return e.eBV(x),e.Njj(u.reloadObject(Te))})("delete",function(Te){return e.eBV(x),e.Njj(u.reloadObject(Te))}),e.k0s()()()}2&r&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,u.supervisionOrder$))("wsi",u.dso))},dependencies:[p.Jj,uu.z,K.h,K.D9,z0]})}};function lC(d,_){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",2),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("object",e.bMT(1,5,r.item$))("viewMode",r.viewModes.ListElement)("index",r.index)("linkType",r.linkType)("listID",r.listID)}}hu=(0,He.Cg)([(0,$n.VK)(cm.I,Kn.n.GridElement,Fi.o.AdminWorkflowSearch),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Fs.F,ne.Fs,Lr.BitstreamDataService,bp.SupervisionOrderDataService])],hu);let um=class l2 extends Gr.P{constructor(_,r,u,x){super(r,u,x),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=x,this.item$=new v.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.dso.item.pipe((0,Ti.qD)(),(0,Ti.Bo)()).subscribe(_=>{this.item$.next(_)})}static{this.\u0275fac=function(r){return new(r||l2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:l2,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID"],[3,"wfi","small"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,lC,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&r&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.vxM(e.bMT(5,6,u.item$)?4:-1),e.R7$(2),e.Y8G("wfi",u.dso)("small",!1))},dependencies:[p.Jj,rh.v,K.h,K.D9,b_]})}};function cC(d,_){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("object",e.bMT(1,5,r.item$))("viewMode",r.viewModes.ListElement)("index",r.index)("linkType",r.linkType)("listID",r.listID)}}um=(0,He.Cg)([(0,$n.VK)(T_.q,Kn.n.ListElement,Fi.o.AdminWorkflowSearch),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Object])],um);let hm=class c2 extends Gr.P{constructor(_,r,u,x,Y){super(x,r,Y),this.linkService=_,this.dsoNameService=r,this.supervisionOrderDataService=u,this.truncatableService=x,this.appConfig=Y,this.item$=new v.t(void 0),this.supervisionOrder$=new v.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.dso.item.pipe((0,Ti.qD)(),(0,Ti.Bo)()).pipe((0,D.s)(1),(0,Vi.M)(r=>{this.item$.next(r),this.itemId=r.id}),(0,vr.Z)(r=>this.retrieveSupervisorOrders(r.id))).subscribe(r=>{this.supervisionOrder$.next(r)})}retrieveSupervisorOrders(_){return this.supervisionOrderDataService.searchByItem(_,!1,!0,(0,rs.s)("group")).pipe((0,Ti.qD)(),(0,Sn.T)(r=>r.hasSucceeded&&!r.hasNoContent?r.payload.page:[]))}reloadObject(_){this.reloadedObject.emit(_)}static{this.\u0275fac=function(r){return new(r||c2)(e.rXU(ws._),e.rXU(Mi.f),e.rXU(bp.SupervisionOrderDataService),e.rXU(Fs.F),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:c2,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(r,u){1&r&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,cC,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(Y){return u.reloadObject(Y)})("delete",function(Y){return u.reloadObject(Y)}),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.vxM(e.bMT(4,7,u.item$)?3:-1),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,u.supervisionOrder$))("wsi",u.dso))},dependencies:[p.Jj,rh.v,K.h,K.D9,z0]})}};hm=(0,He.Cg)([(0,$n.VK)(cm.I,Kn.n.ListElement,Fi.o.AdminWorkflowSearch),(0,He.Sn)("design:paramtypes",[ws._,Mi.f,bp.SupervisionOrderDataService,Fs.F,Object])],hm);const pu=(0,Ce.hZ)("focusShadow",[(0,Ce.wk)("focus",(0,Ce.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,Ce.wk)("blur",(0,Ce.iF)({boxShadow:"none"})),(0,Ce.kY)("focus <=> blur",[(0,Ce.i0)("250ms")])]);(0,Ce.hZ)("focusBackground",[(0,Ce.wk)("focus",(0,Ce.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,Ce.wk)("blur",(0,Ce.iF)({backgroundColor:"transparent"})),(0,Ce.kY)("focus <=> blur",[(0,Ce.i0)("250ms")])]);var Sl=n(24100),Qo=n(25713);const dC=["*","*"],uC=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],hC=d=>[d];function M_(d,_){if(1&d&&(e.j41(0,"a",2),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",11),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,hC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function pC(d,_){if(1&d&&(e.j41(0,"span",3)(1,"div"),e.nrm(2,"ds-thumbnail",11),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function fC(d,_){if(1&d&&e.nrm(0,"ds-badges",5),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)("showAccessStatus",!0)}}function mC(d,_){if(1&d&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.JRh(r.firstMetadataValue("dc.date.issued"))}}function YS(d,_){if(1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",14),e.k0s()),2&d){const r=_.$implicit;e.R7$(2),e.Y8G("innerHTML",r,e.npT)}}function gC(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",9)(1,"p",12),e.DNE(2,mC,2,1,"span",13),e.Z7z(3,YS,3,1,"span",null,e.fX1),e.k0s()()),2&d){const r=e.XpG();e.Y8G("id",r.dso.id)("minLines",1),e.R7$(2),e.vxM(r.dso.hasMetadata("dc.date.issued")?2:-1),e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(3,uC)))}}function J0(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",9)(1,"p",15),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.Y8G("id",r.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}function O_(d,_){if(1&d&&(e.j41(0,"div",10)(1,"a",16),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,hC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let cc=class d2 extends Nc{constructor(_,r,u){super(_,r,u),this.dsoNameService=_,this.truncatableService=r,this.bitstreamDataService=u}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,Xu._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(r){return new(r||d2)(e.rXU(Mi.f),e.rXU(Fs.F),e.rXU(Lr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:d2,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:dC,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context","showAccessStatus"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"item-authors","card-text","text-muted"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(dC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,M_,5,12,"a",2)(5,pC,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,fC,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,gC,5,4,"ds-truncatable-part",9)(12,J0,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,O_,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(4),e.vxM(u.linkType!==u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?5:-1),e.R7$(2),e.vxM(u.showLabel?7:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata(e.lJ4(13,uC))?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description.abstract")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};cc=(0,He.Cg)([(0,$n.VK)("PublicationSearchResult",Kn.n.GridElement),(0,$n.VK)(pl.H,Kn.n.GridElement),(0,He.Sn)("design:paramtypes",[Mi.f,Fs.F,Lr.BitstreamDataService])],cc);const _C=["*","*"],vC=d=>[d];function JS(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,vC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function QS(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function ZS(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Q0(d,_){if(1&d&&(e.j41(0,"span",15)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const r=e.XpG(2);e.R7$(3),e.SpI(" ",r.firstMetadataValue("creativework.publisher")," ")}}function pm(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13)(2,"span",14),e.EFF(3),e.k0s(),e.DNE(4,Q0,4,1,"span",15),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(2),e.JRh(r.firstMetadataValue("creativework.editor")),e.R7$(),e.vxM(r.dso.hasMetadata("creativework.publisher")?4:-1)}}function yC(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",16),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function EC(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,vC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let fm=class SM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(SM)))(u||SM)}})()}static{this.\u0275cmp=e.VBU({type:SM,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_C,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-publisher","card-text","text-muted"],[1,"item-description","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[1,"item-editor"],[1,"item-publisher"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(_C),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,JS,5,12,"a",3)(6,QS,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,ZS,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,pm,5,4,"p",9)(12,yC,3,3,"p",10)(13,EC,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.editor")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};fm=(0,He.Cg)([(0,$n.VK)("JournalSearchResult",Kn.n.GridElement)],fm);const mm=()=>({}),S_=(d,_)=>({indexableObject:d,hitHighlights:_});let Z0=class IM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(IM)))(u||IM)}})()}static{this.\u0275cmp=e.VBU({type:IM,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,S_,u.object,e.lJ4(3,mm)))("linkType",u.linkType)},dependencies:[fm]})}};Z0=(0,He.Cg)([(0,$n.VK)("Journal",Kn.n.GridElement)],Z0);const CC=["*","*"],q0=d=>[d];function ey(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,q0,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function qS(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function bC(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function eI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("creativework.datePublished"),e.npT)}}function DC(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("journal.title"),e.npT)}}function TC(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,q0,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Dp=class PM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(PM)))(u||PM)}})()}static{this.\u0275cmp=e.VBU({type:PM,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:CC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-journal-title","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(CC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,ey,5,12,"a",3)(6,qS,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,bC,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,eI,3,3,"p",9)(12,DC,3,3,"p",10)(13,TC,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.datePublished")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("journal.title")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};Dp=(0,He.Cg)([(0,$n.VK)("JournalIssueSearchResult",Kn.n.GridElement)],Dp);const ty=()=>({}),tI=(d,_)=>({indexableObject:d,hitHighlights:_});let I_=class RM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(RM)))(u||RM)}})()}static{this.\u0275cmp=e.VBU({type:RM,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,tI,u.object,e.lJ4(3,ty)))("linkType",u.linkType)},dependencies:[Dp]})}};I_=(0,He.Cg)([(0,$n.VK)("JournalIssue",Kn.n.GridElement)],I_);const MC=["*","*"],OC=d=>[d];function nI(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,OC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function iI(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function ny(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function sI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("creativework.datePublished"),e.npT)}}function oI(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function rI(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,OC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let dc=class AM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(AM)))(u||AM)}})()}static{this.\u0275cmp=e.VBU({type:AM,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:MC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-description","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(MC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,nI,5,12,"a",3)(6,iI,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,ny,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,sI,3,3,"p",9)(12,oI,3,3,"p",10)(13,rI,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.datePublished")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};dc=(0,He.Cg)([(0,$n.VK)("JournalVolumeSearchResult",Kn.n.GridElement)],dc);const gm=()=>({}),iy=(d,_)=>({indexableObject:d,hitHighlights:_});let Tp=class xM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(xM)))(u||xM)}})()}static{this.\u0275cmp=e.VBU({type:xM,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,iy,u.object,e.lJ4(3,gm)))("linkType",u.linkType)},dependencies:[dc]})}};Tp=(0,He.Cg)([(0,$n.VK)("JournalVolume",Kn.n.GridElement)],Tp);var fu=n(15610);const lh=()=>["creativeworkseries.issn"],sy=d=>[d];function aI(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,sy,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function lI(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function cI(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,aI,3,9,"a",10)(2,lI,3,4,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function dI(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function uI(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,sy,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function SC(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function hI(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function IC(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",13),e.DNE(2,hI,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==x-1?2:-1)}}function P_(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,IC,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,lh)))}}let _m=class wM extends fu.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(wM)))(u||wM)}})()}static{this.\u0275cmp=e.VBU({type:wM,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journals"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,cI,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,dI,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,uI,1,6,"a",5)(6,SC,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,P_,3,1,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,lh)).length>0?9:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,Sl.d,Qo.W]})}};_m=(0,He.Cg)([(0,$n.VK)("JournalSearchResult",Kn.n.ListElement)],_m);const pI=()=>({}),PC=(d,_)=>({indexableObject:d,hitHighlights:_});let R_=class LM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(LM)))(u||LM)}})()}static{this.\u0275cmp=e.VBU({type:LM,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,PC,u.object,e.lJ4(3,pI)))("linkType",u.linkType)},dependencies:[_m]})}};R_=(0,He.Cg)([(0,$n.VK)("Journal",Kn.n.ListElement)],R_);const RC=()=>["publicationvolume.volumeNumber"],mu=d=>[d],ch=()=>["publicationissue.issueNumber"];function Mp(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,mu,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function Y2(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function AC(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Mp,3,9,"a",10)(2,Y2,3,4,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function oy(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function fI(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,mu,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function xC(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function mI(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function wC(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",14),e.DNE(2,mI,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==x-1?2:-1)}}function J2(d,_){1&d&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function gI(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function vm(d,_){if(1&d&&(e.j41(0,"span"),e.DNE(1,J2,2,0,"span"),e.nrm(2,"span",14),e.DNE(3,gI,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(),e.vxM(0===u?1:-1),e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==x-1?3:-1)}}function ry(d,_){if(1&d&&(e.j41(0,"span",13),e.Z7z(1,vm,4,3,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,ch)))}}function _I(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,wC,3,2,"span",null,e.fX1),e.DNE(3,ry,3,1,"span",13),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(1,RC))),e.R7$(2),e.vxM(r.dso.allMetadata(e.lJ4(2,ch)).length>0?3:-1)}}let ym=class NM extends fu.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(NM)))(u||NM)}})()}static{this.\u0275cmp=e.VBU({type:NM,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journal-issues"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[1,"item-list-journal-issue-numbers"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,AC,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,oy,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,fI,1,6,"a",5)(6,xC,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,_I,4,3,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,RC)).length>0?9:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,Sl.d,Qo.W]})}};ym=(0,He.Cg)([(0,$n.VK)("JournalIssueSearchResult",Kn.n.ListElement)],ym);const vI=()=>({}),ay=(d,_)=>({indexableObject:d,hitHighlights:_});let uc=class FM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(FM)))(u||FM)}})()}static{this.\u0275cmp=e.VBU({type:FM,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,ay,u.object,e.lJ4(3,vI)))("linkType",u.linkType)},dependencies:[ym]})}};uc=(0,He.Cg)([(0,$n.VK)("JournalIssue",Kn.n.ListElement)],uc);const Em=()=>["journal.title"],ly=()=>["publicationvolume.volumeNumber"],Op=d=>[d];function yI(d,_){if(1&d&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Op,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function EI(d,_){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function cy(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,yI,3,9,"a",11)(2,EI,3,4,"span",12),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function LC(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function gu(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Op,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Cm(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function Q2(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function A_(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",14),e.DNE(2,Q2,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==x-1?2:-1)}}function NC(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,A_,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,Em)))}}function FC(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function CI(d,_){if(1&d&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",14),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,FC,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(3),e.Y8G("innerHTML",r,e.npT),e.R7$(3),e.vxM(u!==x-1?6:-1)}}function bm(d,_){if(1&d&&(e.j41(0,"span",10),e.Z7z(1,CI,7,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,ly)))}}let Dm=class BM extends fu.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(BM)))(u||BM)}})()}static{this.\u0275cmp=e.VBU({type:BM,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journal-volumes"],[1,"item-list-journal-volume-identifiers"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,cy,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,LC,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,gu,1,6,"a",5)(6,Cm,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,NC,3,1,"span",9)(10,bm,3,1,"span",10),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(10,Em)).length>0?9:-1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(11,ly)).length>0?10:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,Sl.d,Qo.W]})}};Dm=(0,He.Cg)([(0,$n.VK)("JournalVolumeSearchResult",Kn.n.ListElement)],Dm);const bI=()=>({}),DI=(d,_)=>({indexableObject:d,hitHighlights:_});let x_=class UM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(UM)))(u||UM)}})()}static{this.\u0275cmp=e.VBU({type:UM,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,DI,u.object,e.lJ4(3,bI)))("linkType",u.linkType)},dependencies:[Dm]})}};x_=(0,He.Cg)([(0,$n.VK)("JournalVolume",Kn.n.ListElement)],x_);var Sp=n(47677);function TI(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}let Ed=(()=>{class d extends Gr.P{constructor(r,u,x){super(r,x,null),this.truncatableService=r,this.linkService=u,this.dsoNameService=x}ngOnInit(){super.ngOnInit(),(0,V.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===Fi.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,Sn.T)(r=>(0,V.a4)(r)&&(0,V.a4)(r.payload)?this.dsoNameService.getName(r.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const r=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,rs.s)(r))[r].pipe((0,Sp.I)(u=>u.hasSucceeded||204===u.statusCode))}return(0,Gn.of)(void 0)}getDescription(){const r=this.firstMetadataValue("dc.publisher"),u=this.firstMetadataValue("dc.date.issued"),x=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let Y="";return((0,V.hj)(r)||(0,V.hj)(u))&&(Y+="("),(0,V.hj)(r)&&(Y+=r),(0,V.hj)(u)&&((0,V.hj)(r)&&(Y+=", "),Y+=u),(0,V.hj)(Y)&&(Y+=") "),(0,V.hj)(x)&&x.forEach((Te,Pe)=>{Y+=Te,Pe<x.length-1&&(Y+="; ")}),this.undefinedIfEmpty(Y)}undefinedIfEmpty(r){return this.defaultIfEmpty(r,void 0)}defaultIfEmpty(r,u){return(0,V.hj)(r)?r:u}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Fs.F),e.rXU(ws._),e.rXU(Mi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(u,x){1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,TI,2,5,"ds-truncatable-part",0)),2&u&&(e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,x.parentTitle$&&x.parentTitle$)?e.bMT(3,13,x.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-primary")("innerHTML",x.dsoTitle,e.npT),e.R7$(),e.vxM(x.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}}return d})();function MI(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}let dh=class jM extends Ed{getDescription(){const _=this.allMetadataValues(["creativeworkseries.issn"]);let r="";return(0,V.hj)(_)&&(r+=_.join(", ")),this.undefinedIfEmpty(r)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(jM)))(u||jM)}})()}static{this.\u0275cmp=e.VBU({type:jM,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,MI,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function OI(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}dh=(0,He.Cg)([(0,$n.VK)("JournalSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("JournalSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("JournalSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("JournalSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],dh);let w_=class kM extends Ed{getDescription(){const _=this.allMetadataValues(["publicationvolume.volumeNumber"]),r=this.allMetadataValues(["publicationissue.issueNumber"]);let u="";return(0,V.hj)(_)&&(u+=_.join(", ")),(0,V.hj)(u)&&(0,V.hj)(r)&&(u+=" - "),(0,V.hj)(r)&&(u+=r.join(", ")),this.undefinedIfEmpty(u)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(kM)))(u||kM)}})()}static{this.\u0275cmp=e.VBU({type:kM,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,OI,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function BC(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}w_=(0,He.Cg)([(0,$n.VK)("JournalIssueSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("JournalIssueSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("JournalIssueSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("JournalIssueSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],w_);let Tm=class VM extends Ed{getDescription(){const _=this.allMetadataValues(["journal.title"]),r=this.allMetadataValues(["publicationvolume.volumeNumber"]);let u="";return(0,V.hj)(_)&&(u+=_.join(", ")),(0,V.hj)(r)&&((0,V.hj)(u)&&(u+=" "),u+=r.map(x=>`(${x})`).join(" ")),this.undefinedIfEmpty(u)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(VM)))(u||VM)}})()}static{this.\u0275cmp=e.VBU({type:VM,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,BC,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};Tm=(0,He.Cg)([(0,$n.VK)("JournalVolumeSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("JournalVolumeSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("JournalVolumeSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("JournalVolumeSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],Tm);var dy=n(61806),Qa=n(72862),SI=n(56977);class L_{}const uy=function(){var d=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return d.apply(this,arguments)}}(),UC=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:uy});let jC=(()=>{class d{constructor(r,u,x,Y){this.markdownIt=r,this.sanitizer=u,this.mathService=x,this.elementRef=Y,this.alive$=new ao.B,this.el=Y.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(r,u=!1){var x=this;return(0,m.A)(function*(){(0,V.Im)(r)||!R.c.markdown.enabled&&!u?x.el.innerHTML=x.sanitizer.sanitize(e.WPN.HTML,r):R.c.markdown.mathjax?x.renderMathjaxThenMarkdown(r):x.renderMarkdown(r)})()}renderMathjaxThenMarkdown(r){const u=this.sanitizer.sanitize(e.WPN.HTML,r);this.el.innerHTML=u,this.mathService.ready().pipe((0,fo.p)(x=>x),(0,D.s)(1),(0,SI.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(x=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(r,u=!1){var x=this;return(0,m.A)(function*(){const Te=new(yield x.markdownIt)({html:!0,linkify:!0}),Pe=u?Te.render(r):x.sanitizer.sanitize(e.WPN.HTML,Te.render(r));x.el.innerHTML=Pe})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(UC),e.rXU(f.up),e.rXU(L_),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:d,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return d})();const II=(d,_)=>({value:d,img:_}),PI=d=>["/browse",d];function RI(d,_){1&d&&e.eu8(0)}function hy(d,_){if(1&d&&e.nrm(0,"span",7),2&d){const r=e.XpG(2);e.Y8G("innerHTML",r.separator,e.npT)}}function py(d,_){if(1&d&&e.DNE(0,RI,1,0,"ng-container",6)(1,hy,1,1,"span",7),2&d){const r=_.$implicit,u=_.$index,x=_.$count,Y=e.XpG(),Te=e.sdS(5),Pe=e.sdS(7),it=e.sdS(9),Rt=e.sdS(11),bn=e.sdS(13);e.Y8G("ngTemplateOutlet",Y.renderMarkdown?Te:Y.hasLink(r)?Y.hasValue(Y.img)?it:Pe:Y.hasBrowseDefinition()?bn:Rt)("ngTemplateOutletContext",e.l_i(3,II,r.value,Y.img)),e.R7$(),e.vxM(u!==x-1?1:-1)}}function kC(d,_){1&d&&e.nrm(0,"span",8),2&d&&e.Y8G("dsMarkdown",_.value)}function fy(d,_){if(1&d&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&d){const r=_.value,u=e.XpG();e.Y8G("href",r,e.B4B),e.BMQ("target",u.getLinkAttributes(r).target)("rel",u.getLinkAttributes(r).rel),e.R7$(),e.SpI(" ",r," ")}}function my(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"img",11),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&d){const r=_.img,u=_.value;e.Y8G("href",u,e.B4B),e.R7$(),e.xc7("height","var("+r.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,r.alt))("src",r.URI,e.B4B),e.R7$(2),e.SpI(" ",u," ")}}function AI(d,_){if(1&d&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&d){const r=_.value;e.R7$(),e.JRh(r)}}function xI(d,_){if(1&d&&(e.j41(0,"a",13),e.EFF(1),e.k0s()),2&d){const r=_.value,u=e.XpG();e.Y8G("routerLink",e.eq3(3,PI,u.browseDefinition.id))("queryParams",u.getQueryParams(r)),e.R7$(),e.JRh(r)}}let Ip=(()=>{class d{constructor(r){this.appConfig=r,this.enableMarkdown=!1,this.hasValue=V.a4}ngOnChanges(r){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,V.a4)(this.browseDefinition)}hasLink(r){return!!(0,V.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(r.value)}getQueryParams(r){const u={startsWith:r};return this.browseDefinition.getRenderType()===dy.o.value?{value:r}:u}hasInternalLink(r){return r.startsWith(R.c.ui.baseUrl)}getLinkAttributes(r){return this.hasInternalLink(r)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:14,vars:3,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],["role","link","tabindex","0",1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank","role","link","tabindex","0",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],["role","link","tabindex","0",1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(u,x){1&u&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.Z7z(2,py,2,6,null,null,e.fX1),e.k0s(),e.DNE(4,kC,1,1,"ng-template",null,0,e.C5r)(6,fy,2,4,"ng-template",null,1,e.C5r)(8,my,4,8,"ng-template",null,2,e.C5r)(10,AI,2,1,"ng-template",null,3,e.C5r)(12,xI,2,5,"ng-template",null,4,e.C5r)),2&u&&(e.Y8G("label",e.bMT(1,1,x.label)),e.R7$(2),e.Dyx(x.mdValues))},dependencies:[jC,Qa.Q,p.T3,y.Wk,K.h,K.D9]})}}return d})();var wI=n(27916),VC=n.n(wI),gy=n(26365),_y=n(54009);let uh=(()=>{class d{constructor(r,u){this.browseDefinitionDataService=r,this.browseService=u,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,Ti.qD)(),(0,Ti.Bo)(),(0,Ti.W8)(),(0,gy.U)(),(0,fo.p)(r=>VC()(r.metadataKeys,this.fields,d.fieldMatch).length>0),(0,D.s)(1))}static fieldMatch(r,u){return u===r||r.endsWith(".*")&&u.substring(0,r.length-1)===r.substring(0,r.length-1)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(_y.BrowseDefinitionDataService),e.rXU(Ne.q))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[p.Jj,Ip],encapsulation:2})}}return d})(),jc=(()=>{class d extends uh{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[p.Jj,Ip],encapsulation:2})}}return d})();var hc=n(31893),Mm=n(87507);let Cd=(()=>{class d{constructor(r,u){this.routeService=r,this.router=u,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.geospatialItemPageFieldsEnabled=!1,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,D.s)(1)).subscribe(x=>{this.router.navigateByUrl(x)})},this.mediaViewer=R.c.mediaViewer,this.geospatialItemPageFieldsEnabled=R.c.geospatialMapViewer.enableItemPageFields}ngOnInit(){this.itemPageRoute=(0,Xu._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,Sn.T)(r=>this.previousRoute.test(r)),(0,D.s)(1)),this.iiifEnabled=(()=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(()=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,fo.p)(r=>r.includes("/search")),(0,Sn.T)(r=>(new y.nU).parse(r).queryParamMap.get("query")),(0,D.s)(1)))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Mm.v$),e.rXU(y.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(u,x){},encapsulation:2})}}return d})();var WC=n(10653),La=n(89856);let yy=(()=>{class d{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,V.hj)(this.relationType)&&(0,V.hj)(this.item)&&(this.fixedFilter=(0,La.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(u,x){1&u&&e.nrm(0,"ds-configuration-search-page",0),2&u&&e.Y8G("fixedFilterQuery",x.fixedFilter)("configuration",x.configuration)("searchEnabled",x.searchEnabled)("sideBarWidth",x.sideBarWidth)("showCsvExport",!0)},dependencies:[WC.M],encapsulation:2})}}return d})();function Z2(d,_){if(1&d&&(e.j41(0,"div",1),e.nrm(1,"ds-related-entities-search",7),e.k0s()),2&d){const r=e.XpG().$implicit,u=e.XpG(2);e.R7$(),e.Y8G("item",u.item)("relationType",r.filter)("configuration",r.configuration)("searchEnabled",u.searchEnabled)("sideBarWidth",u.sideBarWidth)}}function q2(d,_){if(1&d&&(e.j41(0,"li",3)(1,"a",5),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,Z2,2,5,"ng-template",6),e.k0s()),2&d){const r=_.$implicit;e.Y8G("ngbNavItem",r.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+r.label)," ")}}function GC(d,_){if(1&d){const r=e.RV6();e.j41(0,"ul",2,0),e.nI1(2,"async"),e.bIt("navChange",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onTabChange(x))}),e.Z7z(3,q2,5,4,"li",3,e.fX1),e.k0s(),e.nrm(5,"div",4)}if(2&d){const r=e.sdS(1),u=e.XpG();e.Y8G("destroyOnHide",!0)("activeId",e.bMT(2,3,u.activeTab$)),e.R7$(3),e.Dyx(u.relationTypes),e.R7$(2),e.Y8G("ngbNavOutlet",r)}}function KC(d,_){if(1&d&&e.nrm(0,"ds-related-entities-search",7),2&d){const r=_.ngVar,u=e.XpG(2);e.Y8G("item",u.item)("relationType",r.filter)("configuration",r.configuration)("searchEnabled",u.searchEnabled)("sideBarWidth",u.sideBarWidth)}}function HC(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,KC,1,5,"ds-related-entities-search",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("ngVar",r.relationTypes[0])}}let Pp=(()=>{class d{constructor(r,u){this.route=r,this.router=u,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,Sn.T)(r=>r.tab))}onTabChange(r){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:r.nextId},queryParamsHandling:"merge"})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(y.nX),e.rXU(y.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[1,"mt-4"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem"],[3,"ngbNavOutlet"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(u,x){1&u&&e.DNE(0,GC,6,5)(1,HC,2,1,"div",1),2&u&&(e.vxM(x.relationTypes.length>1?0:-1),e.R7$(),e.vxM(1===x.relationTypes.length?1:-1))},dependencies:[p.Jj,G.Pv,G.Um,G.X9,G.sy,G.Ri,G.m_,yy,K.h,K.D9,Xl.r],encapsulation:2})}}return d})();var Ey=n(36343),Rp=n(15202),zC=n(93446),XC=n(1837);const YC=d=>({amount:d});function ew(d,_){if(1&d&&e.nrm(0,"ds-listable-object-component-loader",2),2&d){const r=_.$implicit,u=e.XpG(3);e.Y8G("object",r)("viewMode",u.viewMode)}}function tw(d,_){1&d&&(e.nrm(0,"ds-loading",3),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"loading.default"))}function nw(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"button",7),e.bIt("click",function(){e.eBV(r);const x=e.XpG(4);return e.Njj(x.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const r=e.XpG(2).ngVar,u=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,YC,(null==r||null==r.payload?null:r.payload.totalElements)-u.incrementBy*u.objects.length<u.incrementBy?(null==r||null==r.payload?null:r.payload.totalElements)-u.incrementBy*u.objects.length:u.incrementBy))," ",u.label,"")}}function iw(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",6)(1,"button",7),e.bIt("click",function(){e.eBV(r);const x=e.XpG(4);return e.Njj(x.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const r=e.XpG(2).ngVar,u=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,YC,null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length))," ",u.label,"")}}function sw(d,_){if(1&d&&(e.j41(0,"div",4),e.DNE(1,nw,4,7,"div",5)(2,iw,4,7,"div",6),e.k0s()),2&d){const r=e.XpG().ngVar,u=e.XpG(2);e.R7$(),e.vxM((null==r||null==r.payload?null:r.payload.totalPages)>u.objects.length?1:-1),e.R7$(),e.vxM(u.objects.length>1?2:-1)}}function ow(d,_){if(1&d&&(e.qex(0),e.Z7z(1,ew,1,2,"ds-listable-object-component-loader",2,e.fX1),e.DNE(3,tw,2,3,"ds-loading",3)(4,sw,3,2,"div",4),e.bVm()),2&d){const r=_.ngVar,u=e.XpG().$index,x=e.XpG();e.R7$(),e.Dyx(null==r||null==r.payload?null:r.payload.page),e.R7$(2),e.vxM(u+1!==x.objects.length||!(r||u>0)||null!=r&&r.hasSucceeded&&null!=r&&r.payload&&(null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length)>0?-1:3),e.R7$(),e.vxM(u+1===x.objects.length&&(null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length)>0?4:-1)}}function rw(d,_){1&d&&(e.DNE(0,ow,5,2,"ng-container",1),e.nI1(1,"async")),2&d&&e.Y8G("ngVar",e.bMT(1,1,_.$implicit))}let hh=(()=>{class d extends XC.e{constructor(r,u,x,Y){super(),this.relationshipService=r,this.elementRef=u,this.appConfig=x,this.platformId=Y,this.incrementBy=5,this.options=new Ey._,this.viewMode=Kn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,p.UE)(this.platformId)?(0,zC.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(r){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:r,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(id.RelationshipDataService),e.rXU(e.aKT),e.rXU(mo.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:2,consts:[[3,"label","ngClass"],[4,"ngVar"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["id","view-more",1,"float-start"],["id","view-less",1,"float-end"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"]],template:function(u,x){1&u&&(e.j41(0,"ds-metadata-field-wrapper",0),e.Z7z(1,rw,2,3,"ng-container",null,e.fX1),e.k0s()),2&u&&(e.Y8G("label",x.label)("ngClass",x.placeholderFontClass),e.R7$(),e.Dyx(x.objects))},dependencies:[p.Jj,rh.v,Qa.Q,p.YU,Rp.v,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return d})();var bd=n(44087),Dd=n(93164);const aw=()=>["creativeworkseries.issn"],lw=()=>["creativework.publisher"],cw=()=>["creativework.editor"],dw=()=>["dc.description"],NI=d=>[d],uw=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function hw(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let Cy=class $M extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo($M)))(u||$M)}})()}static{this.\u0275cmp=e.VBU({type:$M,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,hw,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&r&&(e.vxM(e.bMT(1,23,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(31,aw))("label","journal.page.issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(32,lw))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(33,cw))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"item.page.journal-volumes")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(34,dw))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,NI,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.eq3(38,NI,e.lJ4(37,uw))))},dependencies:[p.Jj,bd.T,jc,Qa.Q,hh,y.Wk,Pp,hc.V,Dd.U,Go.T,K.h,K.D9]})}};Cy=(0,He.Cg)([(0,$n.VK)("Journal",Kn.n.StandalonePage)],Cy);const pw=()=>["publicationvolume.volumeNumber"],FI=()=>["publicationissue.issueNumber"],Ap=()=>["creativework.datePublished"],Om=()=>["journal.title"],BI=()=>["creativeworkseries.issn"],fw=()=>["dc.description"],JC=()=>["creativework.keywords"],UI=d=>[d];function mw(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let N_=class WM extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(WM)))(u||WM)}})()}static{this.\u0275cmp=e.VBU({type:WM,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,mw,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,33,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(43,pw))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(44,FI))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(45,Ap))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(46,Om))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(47,BI))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"item.page.journal-volume")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"item.page.articles")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(48,fw))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(49,JC))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,UI,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[p.Jj,bd.T,jc,Qa.Q,hh,y.Wk,hc.V,Dd.U,Go.T,K.h,K.D9]})}};N_=(0,He.Cg)([(0,$n.VK)("JournalIssue",Kn.n.StandalonePage)],N_);const jI=()=>["publicationvolume.volumeNumber"],kI=()=>["creativework.datePublished"],F_=()=>["dc.description"],QC=d=>[d];function VI(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let Sm=class GM extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(GM)))(u||GM)}})()}static{this.\u0275cmp=e.VBU({type:GM,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,VI,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,21,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(31,jI))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(32,kI))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"item.page.journal")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"item.page.journal-issues")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(33,F_))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,QC,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[p.Jj,bd.T,jc,Qa.Q,hh,y.Wk,hc.V,Dd.U,Go.T,K.h,K.D9]})}};Sm=(0,He.Cg)([(0,$n.VK)("JournalVolume",Kn.n.StandalonePage)],Sm);const $I=["*","*"],by=d=>[d];function gw(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,by,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function WI(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function ZC(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Dy(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("organization.foundingDate"),e.npT)}}function GI(d,_){if(1&d&&(e.j41(0,"span",16)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const r=e.XpG(2);e.R7$(3),e.SpI(" ",r.firstMetadataValue("organization.address.addressLocality")," ")}}function KI(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13)(2,"span",15),e.EFF(3),e.k0s(),e.DNE(4,GI,4,1,"span",16),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(2),e.JRh(r.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.vxM(r.dso.hasMetadata("organization.address.addressLocality")?4:-1)}}function B_(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,by,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Im=class KM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(KM)))(u||KM)}})()}static{this.\u0275cmp=e.VBU({type:KM,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$I,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-location","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-country"],[1,"item-city"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR($I),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,gw,5,12,"a",3)(6,WI,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,ZC,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Dy,3,3,"p",9)(12,KI,5,4,"p",10)(13,B_,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("organization.foundingDate")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("organization.address.addressCountry")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};Im=(0,He.Cg)([(0,$n.VK)("OrgUnitSearchResult",Kn.n.GridElement)],Im);const HI=()=>({}),zI=(d,_)=>({indexableObject:d,hitHighlights:_});let U_=class HM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(HM)))(u||HM)}})()}static{this.\u0275cmp=e.VBU({type:HM,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,zI,u.object,e.lJ4(3,HI)))("linkType",u.linkType)},dependencies:[Im]})}};U_=(0,He.Cg)([(0,$n.VK)("OrgUnit",Kn.n.GridElement)],U_);const qC=["*","*"],eb=d=>[d];function XI(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,eb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function tb(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function nb(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Ty(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("person.email"),e.npT)}}function ib(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("person.jobTitle"),e.npT)}}function YI(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,eb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let j_=class zM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(zM)))(u||zM)}})()}static{this.\u0275cmp=e.VBU({type:zM,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:qC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-email","card-text","text-muted"],[1,"item-jobtitle","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(qC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,XI,5,12,"a",3)(6,tb,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,nb,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Ty,3,3,"p",9)(12,ib,3,3,"p",10)(13,YI,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("person.email")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("person.jobTitle")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};j_=(0,He.Cg)([(0,$n.VK)("PersonSearchResult",Kn.n.GridElement)],j_);const sb=()=>({}),ob=(d,_)=>({indexableObject:d,hitHighlights:_});let kc=class XM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(XM)))(u||XM)}})()}static{this.\u0275cmp=e.VBU({type:XM,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-person-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,ob,u.object,e.lJ4(3,sb)))("linkType",u.linkType)},dependencies:[j_]})}};kc=(0,He.Cg)([(0,$n.VK)("Person",Kn.n.GridElement)],kc);const My=["*","*"],rb=d=>[d];function _w(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",11),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,rb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Oy(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",11),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Sy(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function JI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",12),e.nrm(2,"span",13),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function ab(d,_){if(1&d&&(e.j41(0,"div",10)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,rb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ph=class YM extends cc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(YM)))(u||YM)}})()}static{this.\u0275cmp=e.VBU({type:YM,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:My,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-description","card-text","text-muted"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(My),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,_w,5,12,"a",3)(6,Oy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Sy,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,JI,3,3,"p",9)(12,ab,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,10,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?11:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?12:-1))},dependencies:[p.Jj,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W],data:{animation:[pu]}})}};ph=(0,He.Cg)([(0,$n.VK)("ProjectSearchResult",Kn.n.GridElement)],ph);const QI=()=>({}),vw=(d,_)=>({indexableObject:d,hitHighlights:_});let fh=class JM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(JM)))(u||JM)}})()}static{this.\u0275cmp=e.VBU({type:JM,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-project-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,vw,u.object,e.lJ4(3,QI)))("linkType",u.linkType)},dependencies:[ph]})}};fh=(0,He.Cg)([(0,$n.VK)("Project",Kn.n.GridElement)],fh);const ZI=()=>["dc.description"],lb=d=>[d];function Iy(d,_){if(1&d&&(e.j41(0,"a",9),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,lb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function qI(d,_){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function Vc(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Iy,3,11,"a",9)(2,qI,3,6,"span",10),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Pm(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Fr(d,_){if(1&d&&(e.nrm(0,"a",5),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,lb,r.itemPageRoute))("innerHTML",r.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function mh(d,_){if(1&d&&(e.nrm(0,"span",6),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function k_(d,_){if(1&d&&(e.j41(0,"span",8)(1,"ds-truncatable-part",12),e.nrm(2,"span",13),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}let Na=class QM extends fu.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(QM)))(u||QM)}})()}static{this.\u0275cmp=e.VBU({type:QM,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[1,"item-list-org-unit-description"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"id","minLines"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Vc,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Pm,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Fr,2,8,"a",5)(6,mh,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,k_,3,3,"span",8),e.k0s()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.dso.allMetadata(e.lJ4(7,ZI)).length>0?8:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W]})}};Na=(0,He.Cg)([(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement)],Na);const xp=()=>({}),eP=(d,_)=>({indexableObject:d,hitHighlights:_});let _u=class ZM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(ZM)))(u||ZM)}})()}static{this.\u0275cmp=e.VBU({type:ZM,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,eP,u.object,e.lJ4(3,xp)))("linkType",u.linkType)},dependencies:[Na]})}};_u=(0,He.Cg)([(0,$n.VK)("OrgUnit",Kn.n.ListElement)],_u);const V_=()=>["person.jobTitle"],Py=d=>[d];function cb(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Py,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function tP(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function nP(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,cb,3,11,"a",10)(2,tP,3,6,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Br(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function db(d,_){if(1&d&&(e.nrm(0,"a",5),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Py,r.itemPageRoute))("innerHTML",r.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function iP(d,_){if(1&d&&(e.nrm(0,"span",6),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function Ur(d,_){if(1&d&&(e.j41(0,"span")(1,"span",13),e.nrm(2,"span",13),e.k0s()()),2&d){const r=_.$implicit;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.Y8G("innerHTML",r,e.npT)}}function Rm(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,Ur,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,V_)))}}let $c=class u2 extends fu.k{constructor(_,r,u){super(_,r,u),this.truncatableService=_,this.dsoNameService=r,this.appConfig=u}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(r){return new(r||u2)(e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:u2,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-job-title"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,nP,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Br,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,db,2,8,"a",5)(6,iP,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Rm,3,1,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,V_)).length>0?9:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,K.h,K.D9,Sl.d,Qo.W]})}};$c=(0,He.Cg)([(0,$n.VK)("PersonSearchResult",Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[Fs.F,Mi.f,Object])],$c);const $_=()=>({}),Am=(d,_)=>({indexableObject:d,hitHighlights:_});let gh=class qM extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(qM)))(u||qM)}})()}static{this.\u0275cmp=e.VBU({type:qM,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(r,u){1&r&&e.nrm(0,"ds-person-search-result-list-element",0),2&r&&e.Y8G("object",e.l_i(5,Am,u.object,e.lJ4(4,$_)))("linkType",u.linkType)("showLabel",u.showLabel)("value",u.value)},dependencies:[$c]})}};gh=(0,He.Cg)([(0,$n.VK)("Person",Kn.n.ListElement)],gh);const Ry=d=>[d];function ub(d,_){if(1&d&&(e.j41(0,"a",7),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Ry,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function hb(d,_){if(1&d&&(e.j41(0,"span",8),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function W_(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,ub,3,11,"a",7)(2,hb,3,6,"span",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Ay(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function pb(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Ry,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function sP(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}let Wc=class eO extends fu.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(eO)))(u||eO)}})()}static{this.\u0275cmp=e.VBU({type:eO,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"id"],[3,"object","context"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,W_,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,Ay,1,2,"ds-badges",4)(5,pb,1,6,"a",5)(6,sP,1,1,"span",6),e.k0s()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.showLabel?4:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1))},dependencies:[p.Jj,p.YU,y.Wk,Nr.F,Go.T,Sl.d]})}};Wc=(0,He.Cg)([(0,$n.VK)("ProjectSearchResult",Kn.n.ListElement)],Wc);const fb=()=>({}),xm=(d,_)=>({indexableObject:d,hitHighlights:_});let G_=class tO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(tO)))(u||tO)}})()}static{this.\u0275cmp=e.VBU({type:tO,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-project-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,xm,u.object,e.lJ4(3,fb)))("linkType",u.linkType)},dependencies:[Wc]})}};function oP(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}G_=(0,He.Cg)([(0,$n.VK)("Project",Kn.n.ListElement)],G_);let _h=class nO extends Ed{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(nO)))(u||nO)}})()}static{this.\u0275cmp=e.VBU({type:nO,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,oP,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function rP(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}_h=(0,He.Cg)([(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],_h);let wm=class h2 extends Ed{constructor(_,r,u,x){super(_,r,x),this.truncatableService=_,this.linkService=r,this.translateService=u,this.dsoNameService=x}getDescription(){const _=this.allMetadataValues(["person.jobTitle"]);let r="";return(0,V.hj)(_)&&(r+=_.join(", ")),this.undefinedIfEmpty(r)}static{this.\u0275fac=function(r){return new(r||h2)(e.rXU(Fs.F),e.rXU(ws._),e.rXU(K.c$),e.rXU(Mi.f))}}static{this.\u0275cmp=e.VBU({type:h2,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,rP,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function mb(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}wm=(0,He.Cg)([(0,$n.VK)("PersonSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("PersonSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("PersonSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("PersonSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent),(0,He.Sn)("design:paramtypes",[Fs.F,ws._,K.c$,Mi.f])],wm);let vh=class iO extends Ed{getDescription(){}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(iO)))(u||iO)}})()}static{this.\u0275cmp=e.VBU({type:iO,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,mb,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};vh=(0,He.Cg)([(0,$n.VK)("ProjectSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("ProjectSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)("ProjectSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)("ProjectSearchResult",Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],vh);let yh=(()=>{class d extends uh{static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[p.Jj,Ip],encapsulation:2})}}return d})();const aP=()=>["organization.foundingDate"],Il=()=>["organization.address.addressLocality"],lP=()=>["organization.address.addressCountry"],cP=()=>["dc.identifier"],xy=()=>["organization.identifier.ror"],gb=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),_b=()=>["dc.description"],dP=d=>[d],yw=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),uP=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),K_=(d,_)=>[d,_];function wy(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let wp=class sO extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(sO)))(u||sO)}})()}static{this.\u0275cmp=e.VBU({type:sO,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,wy,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&r&&(e.vxM(e.bMT(1,34,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(42,aP))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(43,Il))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(44,lP))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(45,cP))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,xy))("img",e.lJ4(47,gb))("item",u.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",u.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"item.page.publications")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(48,_b))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,dP,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.l_i(53,K_,e.lJ4(51,yw),e.lJ4(52,uP))))},dependencies:[p.Jj,bd.T,jc,yh,Qa.Q,hh,y.Wk,Pp,hc.V,Dd.U,Go.T,K.h,K.D9]})}};wp=(0,He.Cg)([(0,$n.VK)("OrgUnit",Kn.n.StandalonePage)],wp);const Lp=()=>["person.email"],vb=()=>["person.birthDate"],yb=()=>["person.jobTitle"],Np=()=>["person.familyName"],Ly=()=>["person.givenName"],Ny=()=>["dc.title"],Fy=d=>[d],Eb=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function Cb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let H_=class oO extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(oO)))(u||oO)}})()}static{this.\u0275cmp=e.VBU({type:oO,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,Cb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&r&&(e.vxM(e.bMT(1,35,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(45,Lp))("label","person.page.email"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(46,vb))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"item.page.projects")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"item.page.org-units")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(47,yb))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(48,Np))("label","person.page.lastname"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(49,Ly))("label","person.page.firstname"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(50,Ny))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,Fy,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.eq3(54,Fy,e.lJ4(53,Eb))))},dependencies:[p.Jj,bd.T,jc,Qa.Q,hh,y.Wk,Pp,hc.V,Dd.U,Go.T,K.h,K.D9]})}};H_=(0,He.Cg)([(0,$n.VK)("Person",Kn.n.StandalonePage)],H_),n(80551);const Fp=["*"];function bb(d,_){}let z_=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(r){return n(89979)(`./${r}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,80551))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Fp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,bb,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const hP=()=>["project.contributor.other"],pP=()=>["project.identifier.funder"],Db=()=>["dc.identifier"],Tb=()=>["dc.description"],fP=()=>["dc.subject"],Cw=d=>[d];function mP(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let Bp=class rO extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(rO)))(u||rO)}})()}static{this.\u0275cmp=e.VBU({type:rO,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,mP,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,34,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",u.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,hP))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(49,pP))("label","project.page.funder"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(50,Db))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"item.page.authors")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"item.page.publications")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"item.page.org-units")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(51,Tb))("label","project.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(52,fP))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,Cw,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[p.Jj,bd.T,jc,Qa.Q,hh,y.Wk,hc.V,z_,Dd.U,Go.T,K.h,K.D9]})}};function By(d,_){if(1&d&&(e.j41(0,"div")(1,"a",1),e.EFF(2),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("href",r.uri.value,e.B4B),e.R7$(),e.JRh(r.uri.value)}}Bp=(0,He.Cg)([(0,$n.VK)("Project",Kn.n.StandalonePage)],Bp);let Uy=class aO extends ir.C{ngOnInit(){this.uri=nh.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(aO)))(u||aO)}})()}static{this.\u0275cmp=e.VBU({type:aO,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],["target","_blank",3,"href"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,By,3,2,"div"),e.k0s()),2&r&&(e.R7$(2),e.JRh(u.object.display),e.R7$(),e.vxM(u.uri?3:-1))}})}};Uy=(0,He.Cg)([(0,$n.VK)(Qf.$,Kn.n.ListElement,Fi.o.EntitySearchModal),(0,$n.VK)(Qf.$,Kn.n.ListElement,Fi.o.EntitySearchModalWithNameVariants)],Uy);var jy=n(54095);const gP=d=>({value:d});let Mb=(()=>{class d{constructor(r){this.modal=r}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:14,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(u,x){1&u&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return x.modal.dismiss("Cross click")}),e.k0s()(),e.j41(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return x.modal.close()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return x.modal.dismiss()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()),2&u&&(e.R7$(5),e.SpI(" ",e.i5U(6,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,gP,x.value)),"\n"),e.R7$(4),e.JRh(e.bMT(10,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(13,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[K.h,K.D9]})}}return d})();var ky=n(51828),Ob=n(38133),Sb=n(19370);const _P=d=>({"is-invalid":d}),vP=()=>({standalone:!0}),yP=d=>({show:d});function EP(d,_){if(1&d){const r=e.RV6();e.j41(0,"div")(1,"a",8,2),e.bIt("click",function(){const x=e.eBV(r).$implicit,Y=e.XpG();return e.Njj(Y.onClickSuggestion(x))}),e.nrm(3,"span",9),e.k0s()()}if(2&d){const r=_.$implicit;e.R7$(3),e.Y8G("innerHTML",r,e.npT)}}let Ib=(()=>{class d extends ky.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(r){this.value=r,this.submitSuggestion.emit(r)}onClickSuggestion(r){return this.value=r,this.clickSuggestion.emit(r),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Xn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(u,x){if(1&u){const Y=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(Y),e.Njj(x.onSubmit(x.value))})("keydown",function(Pe){return e.eBV(Y),e.Njj(x.onKeydown(Pe))})("keydown.arrowdown",function(Pe){return e.eBV(Y),e.Njj(x.shiftFocusDown(Pe))})("keydown.arrowup",function(Pe){return e.eBV(Y),e.Njj(x.shiftFocusUp(Pe))})("keydown.esc",function(){return e.eBV(Y),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(Y),e.Njj(x.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Pe){return e.eBV(Y),e.DH7(x.value,Pe)||(x.value=Pe),e.Njj(Pe)}),e.bIt("focus",function(){return e.eBV(Y),e.Njj(x.open())})("click",function(){return e.eBV(Y),e.Njj(x.open())})("onDebounce",function(Pe){return e.eBV(Y),e.Njj(x.find(Pe))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.Z7z(10,EP,4,1,"div",null,e.fX1),e.k0s()()()}2&u&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.R50("ngModel",x.value),e.Y8G("name",x.name)("ngClass",e.eq3(13,_P,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(15,vP)),e.R7$(3),e.SpI(" ",e.bMT(6,9,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(16,yP,e.bMT(8,11,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Dyx(x.suggestions))},dependencies:[p.Jj,Ob.z,Sb.R,Xn.YN,Xn.qT,Xn.me,Xn.BC,Xn.cb,Xn.vS,Xn.cV,p.YU,K.h,K.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const CP=()=>["organization.address.addressLocality"],bP=()=>["organization.address.addressCountry"];function DP(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(x){e.eBV(r);const Y=e.XpG();return e.DH7(Y.selectedName,x)||(Y.selectedName=x),e.Njj(x)}),e.bIt("clickSuggestion",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.select(x))})("submitSuggestion",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.selectCustom(x))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("suggestions",r.allSuggestions),e.R50("ngModel",r.selectedName)}}function TP(d,_){if(1&d&&e.nrm(0,"div",3),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function Pb(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function Rb(d,_){if(1&d&&(e.j41(0,"span",5),e.nrm(1,"span",8),e.DNE(2,Pb,2,0,"span"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue(e.lJ4(2,CP)),e.npT),e.R7$(),e.vxM(r.dso.allMetadata("organization.address.addressCountry").length>0?2:-1)}}function vu(d,_){if(1&d&&(e.j41(0,"span",6),e.nrm(1,"span",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue(e.lJ4(1,bP)),e.npT)}}let Up=class p2 extends Gr.P{constructor(_,r,u,x,Y,Te,Pe,it,Rt,bn){super(_,Rt,bn),this.truncatableService=_,this.relationshipService=r,this.notificationsService=u,this.translateService=x,this.modalService=Y,this.itemDataService=Te,this.bitstreamDataService=Pe,this.selectableListService=it,this.dsoNameService=Rt,this.appConfig=bn,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===Fi.o.EntitySearchModalWithNameVariants,this.useNameVariants){const _=this.dso?this.dsoNameService.getName(this.dso):void 0,r=this.allMetadataValues(this.alternativeField);this.allSuggestions=[_,...r],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(u=>{this.selectedName=u||_})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(_){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(r=>{r||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,_)}selectCustom(_){this.allSuggestions.includes(_)||this.openModal(_).then(()=>{const r=new jy.vD;r.value=_;const u=this.dso.metadata[this.alternativeField]||[],x={[this.alternativeField]:[...u,r]},Y=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(Y).pipe((0,D.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(_)})}openModal(_){const r=this.modalService.open(Mb,{centered:!0});return r.componentInstance.value=_,r.result}static{this.\u0275fac=function(r){return new(r||p2)(e.rXU(Fs.F),e.rXU(id.RelationshipDataService),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(G.Bq),e.rXU(Ku.ItemDataService),e.rXU(Lr.BitstreamDataService),e.rXU(Xd.K),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:p2,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[1,"item-list-address-locality"],[1,"item-list-address-country"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,DP,1,2,"ds-org-unit-input-suggestions",2)(3,TP,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,Rb,3,3,"span",5)(6,vu,2,2,"span",6),e.k0s()()()),2&r&&(e.R7$(2),e.vxM(u.useNameVariants?2:-1),e.R7$(),e.vxM(u.useNameVariants?-1:3),e.R7$(2),e.vxM(u.dso.allMetadata("organization.address.addressLocality").length>0?5:-1),e.R7$(),e.vxM(u.dso.allMetadata("organization.address.addressCountry").length>0?6:-1))},dependencies:[Xn.YN,Xn.BC,Xn.vS,Ib],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};Up=(0,He.Cg)([(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.EntitySearchModal),(0,$n.VK)("OrgUnitSearchResult",Kn.n.ListElement,Fi.o.EntitySearchModalWithNameVariants),(0,He.Sn)("design:paramtypes",[Fs.F,id.RelationshipDataService,Zr.I,K.c$,G.Bq,Ku.ItemDataService,Lr.BitstreamDataService,Xd.K,Mi.f,Object])],Up);const MP=d=>({"is-invalid":d}),Ab=()=>({standalone:!0}),OP=d=>({show:d});function xb(d,_){if(1&d){const r=e.RV6();e.j41(0,"div")(1,"a",8,2),e.bIt("click",function(){const x=e.eBV(r).$implicit,Y=e.XpG();return e.Njj(Y.onClickSuggestion(x))}),e.nrm(3,"span",9),e.k0s()()}if(2&d){const r=_.$implicit;e.R7$(3),e.Y8G("innerHTML",r,e.npT)}}let Vy=(()=>{class d extends ky.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(r){r!==this.value&&(this.value=r,this.submitSuggestion.emit(r))}onClickSuggestion(r){return this.value=r,this.clickSuggestion.emit(r),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Xn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(u,x){if(1&u){const Y=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(Y);const Pe=e.sdS(3);return e.Njj(x.onSubmit(Pe.value))})("keydown",function(Pe){return e.eBV(Y),e.Njj(x.onKeydown(Pe))})("keydown.arrowdown",function(Pe){return e.eBV(Y),e.Njj(x.shiftFocusDown(Pe))})("keydown.arrowup",function(Pe){return e.eBV(Y),e.Njj(x.shiftFocusUp(Pe))})("keydown.esc",function(){return e.eBV(Y),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(Y),e.Njj(x.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(Y),e.Njj(x.open())})("blur",function(){e.eBV(Y);const Pe=e.sdS(3);return e.Njj(x.onSubmit(Pe.value))})("click",function(){return e.eBV(Y),e.Njj(x.open())})("onDebounce",function(Pe){return e.eBV(Y),e.Njj(x.find(Pe))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.Z7z(10,xb,4,1,"div",null,e.fX1),e.k0s()()()}2&u&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.Y8G("ngModel",x.value)("name",x.name)("ngClass",e.eq3(13,MP,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(15,Ab)),e.R7$(3),e.SpI(" ",e.bMT(6,9,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(16,OP,e.bMT(8,11,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Dyx(x.suggestions))},dependencies:[p.Jj,Ob.z,Sb.R,Xn.YN,Xn.qT,Xn.me,Xn.BC,Xn.cb,Xn.vS,Xn.cV,p.YU,K.h,K.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const jp=()=>["person.jobTitle"];function $y(d,_){if(1&d&&(e.j41(0,"a",8),e.nrm(1,"ds-thumbnail",10),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function kp(d,_){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",10),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function wb(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,$y,3,8,"a",8)(2,kp,3,6,"span",9),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Vp(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Wy(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",11),e.DNE(2,Vp,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==x-1?2:-1)}}function $p(d,_){if(1&d&&(e.j41(0,"span",7),e.Z7z(1,Wy,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,jp)))}}let Td=class f2 extends Gr.P{constructor(_,r,u,x,Y,Te,Pe){super(_,Te,Pe),this.truncatableService=_,this.relationshipService=r,this.modalService=u,this.itemDataService=x,this.selectableListService=Y,this.dsoNameService=Te,this.appConfig=Pe,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const _=this.dso?this.dsoNameService.getName(this.dso):void 0,r=this.allMetadataValues(this.alternativeField);this.allSuggestions=[_,...r],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(u=>{this.selectedName=u||_}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(_){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,_),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(r=>{r||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(_){this.allSuggestions.includes(_)||this.openModal(_).then(()=>{const r=new jy.vD;r.value=_;const u=this.dso.metadata[this.alternativeField]||[],x={[this.alternativeField]:[...u,r]},Y=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(Y).pipe((0,D.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(_)})}openModal(_){const r=this.modalService.open(Mb,{centered:!0});return r.componentInstance.value=_,r.result}static{this.\u0275fac=function(r){return new(r||f2)(e.rXU(Fs.F),e.rXU(id.RelationshipDataService),e.rXU(G.Bq),e.rXU(Ku.ItemDataService),e.rXU(Xd.K),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:f2,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],[1,"item-list-job-title"],[1,"dont-break-out",3,"target"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,wb,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(Y){return e.DH7(u.selectedName,Y)||(u.selectedName=Y),Y}),e.bIt("clickSuggestion",function(Y){return u.select(Y)})("submitSuggestion",function(Y){return u.selectCustom(Y)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,$p,3,1,"span",7),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",u.allSuggestions),e.R50("ngModel",u.selectedName),e.R7$(2),e.vxM(u.dso.allMetadata(e.lJ4(5,jp)).length>0?7:-1))},dependencies:[p.Jj,Xn.YN,Xn.BC,Xn.vS,p.YU,Vy,Go.T],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};Td=(0,He.Cg)([(0,$n.VK)("PersonSearchResult",Kn.n.ListElement,Fi.o.EntitySearchModalWithNameVariants),(0,He.Sn)("design:paramtypes",[Fs.F,id.RelationshipDataService,G.Bq,Ku.ItemDataService,Xd.K,Mi.f,Object])],Td);var yu=n(39264);n(82146);const Wp=["*"];function Gp(d,_){}let Eu=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(r){return n(5452)(`./${r}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82146))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Wp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,Gp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Eh=n(37419),Cu=n(50842),Lb=n(67018);let Nb=(()=>{class d{constructor(){this.LINKS_TO_FOLLOW=[(0,rs.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(r,u,x){let Y=0;return x.findAllByItem(r).pipe((0,Ti.qD)(),(0,Sn.T)(Te=>Te.payload),(0,Sn.T)(Te=>Te.page),(0,Li.n)(Te=>Te),(0,fo.p)(Te=>this.isIiifBundle(Te.name)),(0,vr.Z)(Te=>u.findAllByItemAndBundleName(r,Te.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,Ti.qD)(),(0,Sn.T)(Pe=>Pe.payload),(0,Sn.T)(Pe=>Pe.page),(0,Li.n)(Pe=>Pe),(0,Li.n)(Pe=>Pe.format.pipe((0,Ti.qD)(),(0,Sn.T)(it=>it.payload),(0,Sn.T)(it=>(it.mimetype.includes("image")&&Y++,Y)))))),(0,Lb.H)())}isIiifBundle(r){return!("OtherContent"===r||"LICENSE"===r||"THUMBNAIL"===r||"TEXT"===r||"METADATA"===r||"CC-LICENSE"===r||"BRANDED_PREVIEW"===r)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Fb(d,_){if(1&d&&(e.j41(0,"p",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.viewerMessage)}}function Bb(d,_){if(1&d&&(e.nrm(0,"iframe",2),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("src",e.bMT(1,1,r.iframeViewerUrl),e.f$h)}}let X_=(()=>{class d{constructor(r,u,x,Y,Te,Pe){this.sanitizer=r,this.viewerService=u,this.bitstreamDataService=x,this.bundleDataService=Y,this.hostWindowService=Te,this.platformId=Pe,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const r=encodeURIComponent(R.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let u=`${R.c.ui.nameSpace}${R.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${r}`;return this.searchable&&(u+="&searchable="+this.searchable),this.query&&(u+="&query="+this.query),this.multi&&(u+="&multi="+this.multi),this.notMobile&&(u+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(u)}ngOnInit(){if((0,p.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,D.s)(1)).subscribe(r=>{this.notMobile=!(r===Cu.tP.XS||r===Cu.tP.SM)}),this.searchable){this.multi=!0;const r=(0,Gn.of)("");this.iframeViewerUrl=r.pipe((0,Sn.T)(u=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,Sn.T)(r=>(r>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(f.up),e.rXU(Nb),e.rXU(Lr.BitstreamDataService),e.rXU(Eh.BundleDataService),e.rXU(Cu.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(u,x){1&u&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Fb,2,1,"p",1)(4,Bb,2,3,"iframe",2)),2&u&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.vxM(x.isViewerAvailable?-1:3),e.R7$(),e.vxM(x.isViewerAvailable?4:-1))},dependencies:[p.Jj,K.h,K.D9],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return d})();n(57047);const Ub=["*"];function jb(d,_){}let Y_=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(r){return n(78373)(`./${r}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,57047))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ub,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,jb,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),Kp=(()=>{class d extends uh{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[p.Jj,Ip],encapsulation:2})}}return d})(),Gc=(()=>{class d extends uh{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[p.Jj,Ip],encapsulation:2})}}return d})();function IP(d,_){if(1&d&&e.nrm(0,"span",2),2&d){const r=e.XpG(2);e.Y8G("innerHTML",r.separator,e.npT)}}function PP(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.DNE(2,IP,1,1,"span",2),e.k0s()),2&d){const r=_.$implicit,u=_.$index,x=_.$count,Y=e.XpG();e.Y8G("href",r.value,e.B4B)("target",Y.hasInternalLink(r.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",Y.linktext||r.value,""),e.R7$(),e.vxM(u!==x-1?2:-1)}}let Gy=(()=>{class d extends Ip{static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:3,consts:[[3,"label"],["role","link","tabindex","0",1,"dont-break-out",3,"href","target"],[3,"innerHTML"]],template:function(u,x){1&u&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.Z7z(2,PP,3,4,"a",1,e.fX1),e.k0s()),2&u&&(e.Y8G("label",e.bMT(1,1,x.label)),e.R7$(2),e.Dyx(x.mdValues))},dependencies:[Qa.Q,K.h,K.D9]})}}return d})(),Md=(()=>{class d extends uh{static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label))},dependencies:[Gy],encapsulation:2})}}return d})();const Ky=()=>[n.e(958).then(n.bind(n,60958)).then(d=>d.GeospatialMapComponent)];function RP(d,_){if(1&d&&e.nrm(0,"ds-geospatial-map",1),2&d){const r=e.XpG(2);e.Y8G("coordinates",r.points)("bbox",r.bboxes)("cluster",r.cluster)("layout","item")}}function Hy(d,_){if(1&d&&(e.j41(0,"div")(1,"ds-metadata-field-wrapper",0),e.nI1(2,"translate"),e.DNE(3,RP,1,4),e.nv$(4,3,Ky),e.g25(),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,r.label))}}let AP=(()=>{class d extends uh{constructor(){super(...arguments),this.pointFields=["dcterms.spatial"],this.bboxFields=["dcterms.spatial"],this.cluster=!1,this.hasValue=V.a4,this.isNotEmpty=V.hj}ngOnInit(){(0,V.a4)(this.item)&&(this.points=this.pointFields.map(r=>this.item?.allMetadataValues(r)).reduce((r,u)=>r.concat(u),[]).filter(Boolean),this.bboxes=this.bboxFields.map(r=>this.item?.allMetadataValues(r)).reduce((r,u)=>r.concat(u),[]).filter(Boolean))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-geospatial-item-page-field"]],inputs:{item:"item",label:"label",pointFields:"pointFields",bboxFields:"bboxFields",cluster:"cluster"},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[[3,"label"],[2,"width","100%",3,"coordinates","bbox","cluster","layout"]],template:function(u,x){1&u&&e.DNE(0,Hy,6,3,"div"),2&u&&e.vxM(x.isNotEmpty(x.points)||x.isNotEmpty(x.bboxes)?0:-1)},dependencies:[Qa.Q,K.D9],encapsulation:2})}}return d})();const bw=()=>["dc.contributor.author","dc.creator"],xP=()=>["journal.title"],wP=()=>["journal.identifier.issn"],kb=()=>["journalvolume.identifier.name"],LP=()=>["dc.publisher"],qr=()=>["dc.description"],Vb=()=>["dc.subject"],NP=()=>["dc.identifier.citation"],FP=()=>["dc.identifier.uri"],$b=()=>["coar.notify.endorsedBy"],BP=()=>["datacite.relation.isReviewedBy"],Wb=()=>["datacite.relation.isSupplementedBy"],Gb=()=>["datacite.relation.isReferencedBy"],Hp=d=>[d],Kb=()=>["dcterms.spatial"];function UP(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}function Hb(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div",16),e.nrm(2,"ds-mirador-viewer",17),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("object",r.object)("searchable",r.iiifSearchEnabled)("query",e.bMT(3,3,r.iiifQuery$))}}function jP(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nrm(1,"ds-thumbnail",18),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.object?null:r.object.thumbnail))}}function zb(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"ds-media-viewer",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("item",r.object)}}function Dw(d,_){if(1&d&&e.nrm(0,"ds-geospatial-item-page-field",13),2&d){const r=e.XpG();e.Y8G("item",r.object)("label","item.page.places")("pointFields",e.lJ4(5,Kb))("bboxFields",e.lJ4(6,Kb))("cluster",!0)}}let zp=class lO extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(lO)))(u||lO)}})()}static{this.\u0275cmp=e.VBU({type:lO,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:41,vars:89,consts:[[3,"back"],[1,"row"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[1,"mb-2"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],[3,"item","label","pointFields","bboxFields","cluster"],["role","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"thumbnail"]],template:function(r,u){1&r&&(e.DNE(0,UP,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,Hb,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",1)(7,"div",4),e.DNE(8,jP,3,4,"ds-metadata-field-wrapper",5)(9,zb,2,1,"div",6),e.nrm(10,"ds-item-page-file-section",7)(11,"ds-item-page-date-field",7)(12,"ds-metadata-representation-list",8),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",9)(15,"ds-generic-item-page-field",9)(16,"ds-generic-item-page-field",9)(17,"ds-generic-item-page-field",9),e.k0s(),e.j41(18,"div",10),e.nrm(19,"ds-related-items",11),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",11),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",11),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",7)(26,"ds-generic-item-page-field",9)(27,"ds-generic-item-page-field",12)(28,"ds-generic-item-page-field",9)(29,"ds-item-page-uri-field",9)(30,"ds-item-page-collections",7)(31,"ds-item-page-uri-field",9)(32,"ds-item-page-uri-field",9)(33,"ds-item-page-uri-field",9)(34,"ds-item-page-uri-field",9),e.DNE(35,Dw,1,7,"ds-geospatial-item-page-field",13),e.j41(36,"div")(37,"a",14),e.nrm(38,"i",15),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,62,u.showBackButton$)?0:-1),e.R7$(2),e.vxM(u.iiifEnabled?2:-1),e.R7$(2),e.Y8G("item",u.object),e.R7$(4),e.vxM(u.mediaViewer.image||u.mediaViewer.video?-1:8),e.R7$(),e.vxM(u.mediaViewer.image||u.mediaViewer.video?9:-1),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("parentItem",u.object)("itemType","Person")("metadataFields",e.lJ4(74,bw))("label",e.bMT(13,64,"item.page.authors")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(75,xP))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(76,wP))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(77,kb))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(78,LP))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isProjectOfPublication")("label",e.bMT(20,66,"item.page.projects")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,68,"item.page.org-units")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,70,"item.page.journal-issue")),e.R7$(2),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(79,qr))("label","publication.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(80,Vb))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(81,NP))("label","item.page.citation"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(82,FP))("label","item.page.uri"),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(83,$b))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(84,BP))("label","item.page.review"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(85,Wb))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(86,Gb))("label","item.page.referenced"),e.R7$(),e.vxM(u.geospatialItemPageFieldsEnabled?35:-1),e.R7$(2),e.Y8G("routerLink",e.eq3(87,Hp,u.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(40,72,"item.page.link.full")," "))},dependencies:[p.Jj,yu.r,bd.T,jc,AP,Kp,Gc,Md,Qa.Q,X_,hh,y.Wk,Y_,hc.V,Eu,z_,Dd.U,Go.T,K.h,K.D9],changeDetection:0})}};zp=(0,He.Cg)([(0,$n.VK)("Publication",Kn.n.StandalonePage)],zp);const J_=(d,_)=>({row:d,col:_}),Xy=(d,_)=>({"col-auto":d,row:_}),Kc=d=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":d});function kP(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",3)(1,"a",4)(2,"img",5),e.nI1(3,"async"),e.bIt("error",function(){e.eBV(r);const x=e.XpG(2);return e.Njj(x.showImage=!1)}),e.k0s()()()}if(2&d){const r=e.XpG(2),u=e.r8f(0),x=e.r8f(2);e.Y8G("ngClass",e.l_i(7,Xy,"full"===r.variant,"small"===r.variant)),e.R7$(),e.Y8G("href",u,e.B4B),e.R7$(),e.Y8G("src",e.bMT(3,5,r.imgSrc$),e.B4B)("alt",x)("ngStyle",e.eq3(10,Kc,"small"===r.variant?"1ch":"0"))}}function Xb(d,_){if(1&d&&(e.j41(0,"div",2)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"a",6),e.EFF(5),e.k0s()()()),2&d){const r=e.XpG(2),u=e.r8f(0),x=e.r8f(2);e.Y8G("ngClass",e.l_i(6,J_,"small"===r.variant,"full"===r.variant)),e.R7$(2),e.SpI(" ",r.showDisclaimer?e.bMT(3,4,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("href",u,e.B4B),e.R7$(),e.JRh(x)}}function Hc(d,_){if(1&d&&(e.j41(0,"div",0)(1,"ds-metadata-field-wrapper",1),e.nI1(2,"translate"),e.j41(3,"div",2),e.DNE(4,kP,4,12,"div",3)(5,Xb,6,9,"div",2),e.k0s()()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,5,"item.page.cc.license.title"))("hideIfNoTextContent",!1),e.R7$(2),e.Y8G("ngClass",e.l_i(7,J_,"full"===r.variant,"small"===r.variant)),e.R7$(),e.vxM(r.showImage?4:-1),e.R7$(),e.vxM(r.showName||!r.showImage?5:-1)}}let pc=(()=>{class d{constructor(r){this.configService=r,this.variant="small",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.name$=(0,V.a4)(this.ccLicenseNameField)?(0,Gn.of)(this.item.firstMetadataValue(this.ccLicenseNameField)):this.configService.findByPropertyName("cc.license.name").pipe((0,Ti.qD)(),(0,Ti.Bo)(),(0,Sn.T)(r=>r?.values?.[0]),(0,Sn.T)(r=>(0,V.a4)(r)?r:"dc.rights"),(0,Sn.T)(r=>this.item.firstMetadataValue(r))),this.uri$=(0,V.a4)(this.ccLicenseUriField)?(0,Gn.of)(this.item.firstMetadataValue(this.ccLicenseUriField)):this.configService.findByPropertyName("cc.license.uri").pipe((0,Ti.qD)(),(0,Ti.Bo)(),(0,Sn.T)(r=>r?.values?.[0]),(0,Sn.T)(r=>(0,V.a4)(r)?r:"dc.rights.uri"),(0,Sn.T)(r=>this.item.firstMetadataValue(r))),this.imgSrc$=this.uri$.pipe((0,Sn.T)(r=>function zy(d){const r=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(d??"")??[];return r.length>2?r[2]:null}(r)),(0,Sn.T)(r=>r?`assets/images/cc-licenses/${r}.png`:null))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(_i.ConfigurationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[[1,"item-page-field"],[3,"label","hideIfNoTextContent"],[3,"ngClass"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(u,x){if(1&u&&(e.SS7(0),e.nI1(1,"async"),e.SS7(2),e.nI1(3,"async"),e.DNE(4,Hc,6,10,"div",0)),2&u){const Y=e.bH3(e.bMT(1,1,x.uri$));e.R7$(2);const Te=e.bH3(e.bMT(3,4,x.name$));e.R7$(2),e.vxM(Y&&Te?4:-1)}},dependencies:[p.Jj,Qa.Q,p.YU,p.B3,K.h,K.D9],encapsulation:2})}}return d})();const fc=()=>["dc.contributor.author","dc.creator"],Yb=()=>["journal.title"],Jb=()=>["journal.identifier.issn"],VP=()=>["journalvolume.identifier.name"],$P=()=>["dc.publisher"],WP=()=>["dc.description"],GP=()=>["dc.subject"],Yy=()=>["dc.identifier.citation"],Nm=()=>["dc.identifier.uri"],KP=()=>["coar.notify.endorsedBy"],Qb=()=>["datacite.relation.isReviewedBy"],HP=()=>["datacite.relation.isSupplementedBy"],zP=()=>["datacite.relation.isReferencedBy"],Zb=d=>[d],Jy=()=>["dcterms.spatial"];function Q_(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}function XP(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div",16),e.nrm(2,"ds-mirador-viewer",17),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("object",r.object)("searchable",r.iiifSearchEnabled)("query",e.bMT(3,3,r.iiifQuery$))}}function qb(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nrm(1,"ds-thumbnail",18),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.object?null:r.object.thumbnail))}}function eD(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"ds-media-viewer",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("item",r.object)}}function tD(d,_){if(1&d&&e.nrm(0,"ds-geospatial-item-page-field",12),2&d){const r=e.XpG();e.Y8G("item",r.object)("label","item.page.places")("pointFields",e.lJ4(5,Jy))("bboxFields",e.lJ4(6,Jy))("cluster",!0)}}let Z_=class cO extends Cd{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(cO)))(u||cO)}})()}static{this.\u0275cmp=e.VBU({type:cO,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:36,vars:76,consts:[[3,"back"],[1,"row"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[1,"mb-2"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","label","pointFields","bboxFields","cluster"],[3,"item","variant"],["role","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"thumbnail"]],template:function(r,u){1&r&&(e.DNE(0,Q_,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,XP,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",1)(7,"div",4),e.DNE(8,qb,3,4,"ds-metadata-field-wrapper",5)(9,eD,2,1,"div",6),e.nrm(10,"ds-item-page-file-section",7)(11,"ds-item-page-date-field",7)(12,"ds-metadata-representation-list",8),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",9)(15,"ds-generic-item-page-field",9)(16,"ds-generic-item-page-field",9)(17,"ds-generic-item-page-field",9),e.k0s(),e.j41(18,"div",10),e.nrm(19,"ds-item-page-abstract-field",7)(20,"ds-generic-item-page-field",9)(21,"ds-generic-item-page-field",11)(22,"ds-generic-item-page-field",9),e.DNE(23,tD,1,7,"ds-geospatial-item-page-field",12),e.nrm(24,"ds-item-page-uri-field",9)(25,"ds-item-page-collections",7)(26,"ds-item-page-uri-field",9)(27,"ds-item-page-uri-field",9)(28,"ds-item-page-uri-field",9)(29,"ds-item-page-uri-field",9)(30,"ds-item-page-cc-license-field",13),e.j41(31,"div")(32,"a",14),e.nrm(33,"i",15),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,55,u.showBackButton$)?0:-1),e.R7$(2),e.vxM(u.iiifEnabled?2:-1),e.R7$(2),e.Y8G("item",u.object),e.R7$(4),e.vxM(u.mediaViewer.image||u.mediaViewer.video?-1:8),e.R7$(),e.vxM(u.mediaViewer.image||u.mediaViewer.video?9:-1),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("parentItem",u.object)("itemType","Person")("metadataFields",e.lJ4(61,fc))("label",e.bMT(13,57,"item.page.authors")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(62,Yb))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(63,Jb))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(64,VP))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(65,$P))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(66,WP))("label","item.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(67,GP))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(68,Yy))("label","item.page.citation"),e.R7$(),e.vxM(u.geospatialItemPageFieldsEnabled?23:-1),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(69,Nm))("label","item.page.uri"),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(70,KP))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(71,Qb))("label","item.page.review"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(72,HP))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(73,zP))("label","item.page.referenced"),e.R7$(),e.Y8G("item",u.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(74,Zb,u.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(35,59,"item.page.link.full")," "))},dependencies:[p.Jj,yu.r,bd.T,jc,AP,Kp,pc,Gc,Md,Qa.Q,X_,y.Wk,Y_,hc.V,Eu,z_,Dd.U,Go.T,K.h,K.D9],changeDetection:0})}};Z_=(0,He.Cg)([(0,$n.VK)(za.q,Kn.n.StandalonePage)],Z_);var YP=n(14597),Xp=n(40645),q_=n(79646),JP=n(43764),QP=n(54498);function ZP(d,_){}let nD=(()=>{class d extends JP.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,QP.u3)(this.option)}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(u,x){1&u&&e.DNE(0,ZP,0,0,"ng-template",1,0,e.C5r)},dependencies:[uu.z],encapsulation:2})}}return d})();const qP=d=>[d];function Qy(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.processCompleted.emit(x))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG(2);e.Y8G("item",u.item)("option",r)("object",u.object)("workflowitem",u.workflowitem)}}function Tw(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1),e.Z7z(2,Qy,1,4,"ds-claimed-task-actions-loader",2,e.fX1),e.j41(4,"button",3),e.nI1(5,"translate"),e.nrm(6,"i",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.bVm()),2&d){const r=_.ngVar,u=e.XpG();e.R7$(2),e.Dyx(null==r?null:r.options),e.R7$(2),e.FS9("ngbTooltip",e.bMT(5,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,qP,u.getWorkflowItemViewRoute(u.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(8,5,"submission.workflow.generic.view")," ")}}let Zy=(()=>{class d extends q_.p{constructor(r,u,x,Y,Te,Pe,it){super(U0.T.type,r,u,x,Y,Te,Pe),this.injector=r,this.router=u,this.notificationsService=x,this.translate=Y,this.searchService=Te,this.requestService=Pe,this.workflowActionService=it}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(r){this.object=r}initAction(r){this.actionRD$=r.action}getWorkflowItemViewRoute(r){return(0,Cp.XH)(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Ka.B),e.rXU(YP.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(u,x){if(1&u&&(e.DNE(0,Tw,9,9,"ng-container",0),e.nI1(1,"async")),2&u){let Y;e.Y8G("ngVar",null==(Y=e.bMT(1,1,x.actionRD$))?null:Y.payload)}},dependencies:[p.Jj,nD,G.n8,G.md,y.Wk,K.h,K.D9,Xl.r],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return d})();const qy=d=>[d];let ev=(()=>{class d extends q_.p{constructor(r,u,x,Y,Te,Pe){super(za.q.type,r,u,x,Y,Te,Pe),this.injector=r,this.router=u,this.notificationsService=x,this.translate=Y,this.searchService=Te,this.requestService=Pe}ngOnInit(){this.initPageRoute()}initObjects(r){this.object=r,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,Xu._o)(this.object)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Ka.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(u,x){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,qy,x.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[G.n8,G.md,y.Wk,K.h,K.D9]})}}return d})();var iD=n(25580),Fm=n(79104),sD=n(62297);const eR=d=>[d];function tR(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",3),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function oD(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let eE=(()=>{class d extends sD.i{constructor(r,u,x,Y,Te,Pe,it){super(f_.k.type,r,u,x,Te,Pe,it),this.injector=r,this.router=u,this.notificationsService=x,this.claimedTaskService=Y,this.translate=Te,this.searchService=Pe,this.requestService=it,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,D.s)(1)).subscribe())}initObjects(r){this.object=r}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,Li.n)(r=>this.claimedTaskService.claimTask(this.object.id,r)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,D.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(r=>r.unsubscribe())}getWorkflowItemViewRoute(r){return(0,Cp.XH)(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(iD.ClaimedTaskDataService),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Ka.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ms-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(u,x){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return x.claim()}),e.DNE(3,tR,4,3,"span"),e.nI1(4,"async"),e.DNE(5,oD,4,3,"span"),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",1),e.nI1(8,"translate"),e.nrm(9,"i",2),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,x.processing$)),e.R7$(3),e.vxM(e.bMT(4,11,x.processing$)?3:-1),e.R7$(2),e.vxM(!0!==e.bMT(6,13,x.processing$)?5:-1),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,eR,x.getWorkflowItemViewRoute(x.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[p.Jj,Fm.A,G.n8,G.md,y.Wk,K.h,K.D9]})}}return d})();const rD=d=>[d];let aD=(()=>{class d extends q_.p{constructor(r,u,x,Y,Te,Pe){super(p_.t.type,r,u,x,Y,Te,Pe),this.injector=r,this.router=u,this.notificationsService=x,this.translate=Y,this.searchService=Te,this.requestService=Pe}getWorkflowItemViewRoute(r){return(0,Cp.XH)(r?.id)}initObjects(r){this.object=r}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Ka.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(u,x){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,rD,x.getWorkflowItemViewRoute(x.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[G.n8,G.md,y.Wk,K.h,K.D9]})}}return d})();const tE=d=>[d];function tv(d,_){if(1&d&&(e.j41(0,"a",4),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",6),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&d){const r=e.XpG();e.FS9("id","edit_"+r.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,tE,"/workspaceitems/"+r.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function iR(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function sR(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function nE(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",7),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(x){e.eBV(r);const Y=e.XpG(),Te=e.sdS(12);return x.preventDefault(),e.Njj(Y.confirmDiscard(Te))}),e.DNE(3,iR,4,3,"span"),e.nI1(4,"async"),e.DNE(5,sR,4,3,"span"),e.nI1(6,"async"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("id","delete_"+r.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.vxM(e.bMT(4,9,r.processingDelete$)?3:-1),e.R7$(2),e.vxM(!0!==e.bMT(6,11,r.processingDelete$)?5:-1)}}function oR(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",10)(1,"div",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",12),e.bIt("click",function(){const x=e.eBV(r).dismiss;return e.Njj(x("cancel"))}),e.k0s()(),e.j41(5,"div",13)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",14)(10,"button",15),e.bIt("click",function(){const x=e.eBV(r).close;return e.Njj(x("cancel"))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",16),e.bIt("click",function(){const x=e.eBV(r).close;return e.Njj(x("ok"))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()}2&d&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(5),e.JRh(e.bMT(8,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(12,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(15,10,"submission.general.discard.confirm.submit")))}let Yp=(()=>{class d extends q_.p{constructor(r,u,x,Y,Te,Pe,it,Rt,bn){super(F0.F.type,r,u,Y,Te,Pe,it),this.injector=r,this.router=u,this.modalService=x,this.notificationsService=Y,this.translate=Te,this.searchService=Pe,this.requestService=it,this.authService=Rt,this.authorizationService=bn,this.processingDelete$=new v.t(!1)}confirmDiscard(r){this.modalService.open(r).result.then(u=>{"ok"===u&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,Ti.qD)()).subscribe(x=>{this.processingDelete$.next(!1),this.handleActionResponse(x.hasSucceeded)}))})}ngOnInit(){const r=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=r.pipe((0,Li.n)(u=>this.object?.item.pipe((0,Ti.qD)(),(0,Ti.Bo)(),(0,Li.n)(x=>this.authorizationService.isAuthorized(Ds._.CanEditItem,x?._links?.self.href,u.uuid)))))}initObjects(r){this.object=r}getWorkspaceItemViewRoute(r){return function Mw(d){return new gs.t((0,Wi.cp)(),d,"view").toString()}(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(G.Bq),e.rXU(Zr.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Ka.B),e.rXU(h.uR),e.rXU(Lo.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"id","ngbTooltip"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(u,x){1&u&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,tv,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,nE,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,oR,16,12,"ng-template",null,0,e.C5r)),2&u&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,tE,x.getWorkspaceItemViewRoute(x.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.vxM(e.bMT(8,12,x.canEditItem$)?7:-1),e.R7$(2),e.vxM(e.bMT(10,14,x.canEditItem$)?9:-1))},dependencies:[p.Jj,G.n8,G.md,y.Wk,K.h,K.D9]})}}return d})();var nv=n(46213),iv=n(93644),lD=n(76461),sv=n(7094),rR=n(2180),aR=n(90626),ov=(n(49891),n(81829));n(98288);const dD=["*"];function lR(d,_){}let cR=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(r){return n(4026)(`./${r}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,98288))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:dD,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,lR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const uD=["*"],sE=()=>["dc.contributor","dc.creator","dc.contributor.*"];function hD(d,_){if(1&d&&e.nrm(0,"span",15),2&d){const r=e.XpG(6);e.FS9("innerHTML",r.separator,e.npT)}}function Ch(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){const x=e.eBV(r).$implicit,Y=e.XpG(5);return e.Njj(Y.downloadBitstreamFile(null==x?null:x.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,hD,1,1,"span",15),e.k0s()}if(2&d){const r=_.$implicit,u=_.$index,x=_.$count,Y=e.XpG(5);e.R7$(2),e.JRh(Y.dsoNameService.getName(r)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==r?null:r.sizeBytes),")"),e.R7$(2),e.vxM(u!==x-1?6:-1)}}function dR(d,_){if(1&d&&(e.j41(0,"div",11),e.Z7z(1,Ch,7,5,"button",13,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r)}}function uR(d,_){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.JRh(e.bMT(2,1,"mydspace.results.no-files")))}function Jp(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",8),e.nI1(1,"translate"),e.DNE(2,dR,3,0,"div",11)(3,uR,3,3,"span",12),e.k0s()),2&d){const r=_;e.Y8G("label",e.bMT(1,3,"item.page.files")),e.R7$(2),e.vxM((null==r?null:r.length)>0?2:-1),e.R7$(),e.vxM(0===(null==r?null:r.length)?3:-1)}}function Ow(d,_){if(1&d&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",3),e.j41(2,"div",4)(3,"div",5)(4,"ds-metadata-field-wrapper",6),e.nrm(5,"ds-thumbnail",7),e.nI1(6,"async"),e.k0s(),e.DNE(7,Jp,4,5,"ds-metadata-field-wrapper",8),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",9),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",9),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",10),e.nrm(16,"ds-item-detail-preview-field",9),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",9),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&d){let r;const u=e.XpG(2);e.R7$(),e.Y8G("item",u.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==u.item?null:u.item.thumbnail)),e.R7$(2),e.vxM((r=e.bMT(8,30,u.bitstreams$))?7:-1,r),e.R7$(2),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",u.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(13,36,"item.page.authors"))("metadata",e.lJ4(48,sE))("separator",u.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",u.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",u.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function oE(d,_){if(1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-badges",2),e.DNE(2,Ow,24,49,"div"),e.k0s()),2&d){const r=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",r.item)("context",r.badgeContext),e.R7$(),e.vxM(r.item?2:-1)}}function Sw(d,_){if(1&d&&e.nrm(0,"ds-item-submitter",1),2&d){const r=e.XpG();e.Y8G("object",r.object.indexableObject)}}let bh=(()=>{class d{constructor(r,u,x,Y){this.fileService=r,this.halService=u,this.bitstreamDataService=x,this.dsoNameService=Y,this.showSubmitter=!1,this.separator=", "}ngOnChanges(r){(0,V.a4)(r.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(r){this.halService.getEndpoint("bitstreams").pipe((0,$u.$)()).subscribe(u=>{this.fileService.retrieveFileDownloadLink(`${u}/${r}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,Ti.Ar)())}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(lD.E),e.rXU(sv.Y),e.rXU(Lr.BitstreamDataService),e.rXU(Mi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:uD,decls:2,vars:2,consts:[[1,"item-page"],[3,"object"],[3,"object","context"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"label"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[1,"file-section"],[1,"text-muted"],[1,"btn","btn-link"],[1,"btn","btn-link",3,"click"],[3,"innerHTML"]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,oE,3,4,"div",0)(1,Sw,1,1,"ds-item-submitter",1)),2&u&&(e.vxM(x.item?0:-1),e.R7$(),e.vxM(x.showSubmitter?1:-1))},dependencies:[p.Jj,ov.s,aR.s,Qa.Q,Nr.F,cR,hc.V,Go.T,K.h,K.D9],data:{animation:[rR.Ws]}})}}return d})(),Qp=(()=>{class d extends ir.C{ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(r){return nh.O.allValues([this.object.hitHighlights,this.dso.metadata],r)}firstMetadataValue(r){return nh.O.firstValue([this.object.hitHighlights,this.dso.metadata],r)}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(u,x){},encapsulation:2})}}return d})();function Iw(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-detail-preview",0),e.j41(1,"ds-claimed-task-actions",1),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("item",null==r.item$?null:r.item$.value)("object",r.object)("showSubmitter",r.showSubmitter)("badgeContext",r.badgeContext),e.R7$(),e.Y8G("item",r.item$.value)("object",r.dso)("workflowitem",r.workflowitem$.value)}}let Od=class m2 extends Qp{constructor(_,r,u){super(_),this.dsoNameService=_,this.linkService=r,this.objectCache=u,this.item$=new v.t(null),this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceValidation,this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{},(0,rs.s)("item",{},(0,rs.s)("bundles")),(0,rs.s)("submitter")),(0,rs.s)("action")),this.dso.workflowitem.pipe((0,Ti.qD)(),(0,vr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Ti.qD)())):_r.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||m2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Ga.$))}}static{this.\u0275cmp=e.VBU({type:m2,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(r,u){1&r&&(e.DNE(0,Iw,2,7),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[p.Jj,Zy,bh],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Od=(0,He.Cg)([(0,$n.VK)(iv.y,Kn.n.DetailedListElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Ga.$])],Od);let rv=class dO extends Qp{constructor(){super(...arguments),this.badgeContext=Fi.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(dO)))(u||dO)}})()}static{this.\u0275cmp=e.VBU({type:dO,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&r&&(e.Y8G("item",u.dso)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[ev,bh],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};rv=(0,He.Cg)([(0,$n.VK)(pl.H,Kn.n.DetailedListElement,Fi.o.Workspace),(0,$n.VK)(pl.H,Kn.n.DetailedListElement,Fi.o.Workflow)],rv);var pD=n(55621);function hR(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-detail-preview",0),e.j41(1,"ds-pool-task-actions",1),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("item",null==r.item$?null:r.item$.value)("object",r.object)("showSubmitter",r.showSubmitter)("badgeContext",r.badgeContext),e.R7$(),e.Y8G("item",r.item$.value)("object",r.dso)("workflowitem",r.workflowitem$.value)}}let Dh=class g2 extends Qp{constructor(_,r,u){super(_),this.dsoNameService=_,this.linkService=r,this.objectCache=u,this.item$=new v.t(null),this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceWaitingController,this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{},(0,rs.s)("item",{},(0,rs.s)("bundles")),(0,rs.s)("submitter")),(0,rs.s)("action")),this.dso.workflowitem.pipe((0,Ti.qD)(),(0,vr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Ti.qD)())):_r.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||g2)(e.rXU(Mi.f),e.rXU(ws._),e.rXU(Ga.$))}}static{this.\u0275cmp=e.VBU({type:g2,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(r,u){1&r&&(e.DNE(0,hR,2,7),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[p.Jj,bh,eE],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Dh=(0,He.Cg)([(0,$n.VK)(pD.d,Kn.n.DetailedListElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._,Ga.$])],Dh);let av=class _2 extends Qp{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r,this.badgeContext=Fi.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.initItem(this.dso.item)}initItem(_){_.pipe((0,Sp.I)(r=>r.hasSucceeded&&(0,V.EA)(r.payload))).subscribe(r=>{this.item=r.payload})}static{this.\u0275fac=function(r){return new(r||_2)(e.rXU(Mi.f),e.rXU(ws._))}}static{this.\u0275cmp=e.VBU({type:_2,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&r&&(e.Y8G("item",u.item)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[bh,aD],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};av=(0,He.Cg)([(0,$n.VK)(T_.q,Kn.n.DetailedListElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._])],av);let Th=class v2 extends Qp{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r,this.badgeContext=Fi.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,rs.s)("item")),this.initItem(this.dso.item)}initItem(_){_.pipe((0,Sp.I)(r=>r.hasSucceeded&&(0,V.EA)(r.payload))).subscribe(r=>{this.item=r.payload})}static{this.\u0275fac=function(r){return new(r||v2)(e.rXU(Mi.f),e.rXU(ws._))}}static{this.\u0275cmp=e.VBU({type:v2,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&r&&(e.Y8G("item",u.item)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[bh,Yp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Th=(0,He.Cg)([(0,$n.VK)(cm.I,Kn.n.DetailedListElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._])],Th);const Bm=d=>["/collections/",d];function fl(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",7),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Bm,u.object.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.object.logo))?null:r.payload)("limitWidth",!1)}}function fD(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",7),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.object.logo))?null:r.payload)("limitWidth",!1)}}function pR(d,_){if(1&d&&(e.j41(0,"p",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.shortDescription)}}function fR(d,_){if(1&d&&(e.j41(0,"div",6)(1,"a",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Bm,r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let bu=class y2 extends ir.C{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r}set object(_){this._object=_,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,rs.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(r){return new(r||y2)(e.rXU(Mi.f),e.rXU(ws._))}}static{this.\u0275cmp=e.VBU({type:y2,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],[1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,fl,4,12,"a",1)(2,fD,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,pR,2,1,"p",5)(7,fR,4,8,"div",6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.JRh(u.dsoNameService.getName(u.object)),e.R7$(),e.vxM(u.object.shortDescription?6:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?7:-1))},dependencies:[p.Jj,y.Wk,Go.T,K.h,K.D9]})}};bu=(0,He.Cg)([(0,$n.VK)(Sc.p,Kn.n.GridElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._])],bu);const Zp=d=>["/communities/",d];function mR(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",7),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Zp,u.object.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.object.logo))?null:r.payload)("limitWidth",!1)}}function gR(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",7),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.object.logo))?null:r.payload)("limitWidth",!1)}}function mD(d,_){if(1&d&&(e.j41(0,"p",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.shortDescription)}}function Um(d,_){if(1&d&&(e.j41(0,"div",6)(1,"a",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Zp,r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let lv=class E2 extends ir.C{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r}set object(_){this._object=_,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,rs.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(r){return new(r||E2)(e.rXU(Mi.f),e.rXU(ws._))}}static{this.\u0275cmp=e.VBU({type:E2,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],[1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,mR,4,12,"a",1)(2,gR,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,mD,2,1,"p",5)(7,Um,4,8,"div",6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.JRh(u.dsoNameService.getName(u.object)),e.R7$(),e.vxM(u.object.shortDescription?6:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?7:-1))},dependencies:[p.Jj,y.Wk,Go.T,K.h,K.D9]})}};lv=(0,He.Cg)([(0,$n.VK)(nc.E,Kn.n.GridElement),(0,He.Sn)("design:paramtypes",[Mi.f,ws._])],lv);const gD=["*","*"],_R=()=>({}),_D=(d,_)=>({indexableObject:d,hitHighlights:_});let jm=class uO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(uO)))(u||uO)}})()}static{this.\u0275cmp=e.VBU({type:uO,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:gD,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&(e.NAR(gD),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,_D,u.object,e.lJ4(3,_R)))("linkType",u.linkType)},dependencies:[cc],data:{animation:[pu]}})}};jm=(0,He.Cg)([(0,$n.VK)("Publication",Kn.n.GridElement),(0,$n.VK)(za.q,Kn.n.GridElement)],jm);let cv=class hO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(hO)))(u||hO)}})()}static{this.\u0275cmp=e.VBU({type:hO,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(r,u){1&r&&e.EFF(0),2&r&&e.SpI(" ",u.object.name," ")}})}};cv=(0,He.Cg)([(0,$n.VK)(O0._,Kn.n.ListElement,Fi.o.Bitstream)],cv);var vD=n(16743),rE=n(31);const vR=()=>[];function Pw(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(8,vR))("queryParams",e.bMT(1,6,r.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",r.object.value," ")}}function Rw(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.value," ")}}let yD=class C2 extends ir.C{constructor(_,r,u){super(_),this.dsoNameService=_,this.paginationService=r,this.routeService=u}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const _=this.paginationService.getPageParam(vD.v0);return this.routeService.getQueryParameterValue(_).pipe((0,Sn.T)(r=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[_]:null,[vD.v0+".return"]:r})))}static{this.\u0275fac=function(r){return new(r||C2)(e.rXU(Mi.f),e.rXU(rE.m),e.rXU(Mm.v$))}}static{this.\u0275cmp=e.VBU({type:C2,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","ps-2","pe-2"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Pw,3,9,"a",1)(2,Rw,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(4),e.JRh(u.object.count))},dependencies:[p.Jj,y.Wk]})}};yD=(0,He.Cg)([(0,$n.VK)(zl,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[Mi.f,rE.m,Mm.v$])],yD);let ED=class pO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(pO)))(u||pO)}})()}static{this.\u0275cmp=e.VBU({type:pO,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(r,u){1&r&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&r&&(e.R7$(),e.JRh(u.dsoNameService.getName(u.object)))},encapsulation:2})}};ED=(0,He.Cg)([(0,$n.VK)(S0.N,Kn.n.ListElement)],ED);const CD=d=>[d];function dv(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,CD,"/collections/"+r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function yR(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function ER(d,_){if(1&d&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.archivedItemsCount)}}function bD(d,_){if(1&d&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.shortDescription," ")}}let Mh=class fO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(fO)))(u||fO)}})()}static{this.\u0275cmp=e.VBU({type:fO,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,dv,2,6,"a",1)(2,yR,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,ER,2,1,"span",4),e.k0s(),e.DNE(6,bD,2,1,"div",5)),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.vxM(u.object.archivedItemsCount>=0?5:-1),e.R7$(),e.vxM(u.object.shortDescription?6:-1))},dependencies:[y.Wk]})}};Mh=(0,He.Cg)([(0,$n.VK)(Sc.p,Kn.n.ListElement)],Mh);const CR=d=>[d];function bR(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,CR,"/communities/"+r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function DR(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function TR(d,_){if(1&d&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.archivedItemsCount)}}function Aw(d,_){if(1&d&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.shortDescription," ")}}let aE=class b2 extends ir.C{constructor(_){super(_),this.dsoNameService=_}static{this.\u0275fac=function(r){return new(r||b2)(e.rXU(Mi.f))}}static{this.\u0275cmp=e.VBU({type:b2,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,bR,2,6,"a",1)(2,DR,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,TR,2,1,"span",4),e.k0s(),e.DNE(6,Aw,2,1,"div",5)),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.vxM(u.object.archivedItemsCount>=0?5:-1),e.R7$(),e.vxM(u.object.shortDescription?6:-1))},dependencies:[y.Wk]})}};aE=(0,He.Cg)([(0,$n.VK)(nc.E,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[Mi.f])],aE);let uv=class mO extends ir.C{ngOnChanges(){(0,V.a4)(this.object)&&(this.itemSearchResult=Object.assign(new pl.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(mO)))(u||mO)}})()}static{this.\u0275cmp=e.VBU({type:mO,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-listable-object-component-loader",0),2&r&&e.Y8G("object",u.itemSearchResult)("viewMode",u.viewMode)("linkType",u.linkType)},dependencies:[rh.v]})}};uv=(0,He.Cg)([(0,$n.VK)("Publication",Kn.n.ListElement),(0,$n.VK)(za.q,Kn.n.ListElement)],uv);var MR=n(38117),OR=n(52467);let Du=class gO extends ir.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(gO)))(u||gO)}})()}static{this.\u0275cmp=e.VBU({type:gO,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(r,u){1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.ZvI("alert d-block ",null==u.object?null:u.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==u.object?null:u.object.message)))},dependencies:[K.h,K.D9]})}};Du=(0,He.Cg)([(0,$n.VK)(MR.t,Kn.n.ListElement),(0,$n.VK)(OR.t.value,Kn.n.ListElement)],Du);var SR=n(71622);n(85401);const DD=["*"];function PR(d,_){}let Tu=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(r){return n(71931)(`./${r}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,85401))}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:DD,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,x){1&u&&(e.NAR(),e.DNE(0,PR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();function RR(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function lE(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,RR,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let hv=class D2 extends Gr.P{constructor(_,r,u,x){super(r,u,x),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,rs.s)("item"),(0,rs.s)("submitter")),(0,rs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||D2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:D2,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,lE,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,u.workflowitemRD$))?null:x.payload)}},dependencies:[p.Jj,Tu,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};hv=(0,He.Cg)([(0,$n.VK)(SR.t,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Object])],hv);var TD=n(64537);function MD(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function AR(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,MD,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let pv=class T2 extends Gr.P{constructor(_,r,u,x){super(r,u,x),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,rs.s)("item"),(0,rs.s)("submitter")),(0,rs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||T2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:T2,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,AR,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,u.workflowitemRD$))?null:x.payload)}},dependencies:[p.Jj,Tu,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};pv=(0,He.Cg)([(0,$n.VK)(TD.q,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Object])],pv);var xR=n(87083);function cE(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function wR(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,cE,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let km=class M2 extends Gr.P{constructor(_,r,u,x){super(r,u,x),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,rs.s)("item"),(0,rs.s)("submitter")),(0,rs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||M2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:M2,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,wR,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,u.workflowitemRD$))?null:x.payload)}},dependencies:[p.Jj,Tu,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};km=(0,He.Cg)([(0,$n.VK)(xR.H,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Object])],km);var fv=n(72947);function LR(d,_){if(1&d&&(e.j41(0,"div",3),e.nrm(1,"div",3),e.j41(2,"div",3)(3,"div",5),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const r=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",r," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function NR(d,_){if(1&d&&(e.qex(0),e.DNE(1,LR,6,7,"div",3),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM(r>0?1:-1)}}function FR(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-list-preview",0),e.DNE(1,NR,2,1,"ng-container",1),e.nI1(2,"async"),e.j41(3,"div",2)(4,"div",3)(5,"ds-claimed-task-actions",4),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()()()}if(2&d){let r;const u=e.XpG();e.Y8G("item",u.item$.value)("object",u.object)("showSubmitter",u.showSubmitter)("badgeContext",u.badgeContext)("workflowItem",u.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(r=e.bMT(2,10,u.duplicates$))?null:r.length),e.R7$(3),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",u.item$.value)("object",u.dso)("workflowitem",u.workflowitem$.value)}}let mv=class O2 extends Gr.P{constructor(_,r,u,x,Y,Te,Pe){super(r,u,Pe),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.objectCache=x,this.configService=Y,this.duplicateDataService=Te,this.appConfig=Pe,this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceValidation,this.item$=new v.t(null),this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{},(0,rs.s)("item",{},(0,rs.s)("bundles")),(0,rs.s)("submitter")),(0,rs.s)("action")),this.dso.workflowitem.pipe((0,Ti.qD)(),(0,vr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Ti.qD)())):_r.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ns.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Ti.qD)(),(0,Sn.T)(_=>_.isSuccess&&_.payload&&"true"===_.payload.values[0])),this.item$.pipe()]).pipe((0,Sn.T)(([_,r])=>{if(!_)return[];this.duplicates$=this.duplicateDataService.findDuplicates(r.uuid).pipe((0,Ti.qD)(),(0,Sn.T)(u=>{if(u.hasSucceeded&&u.payload.page)return u.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||O2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(Ga.$),e.rXU(_i.ConfigurationDataService),e.rXU(fv.SubmissionDuplicateDataService),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:O2,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(r,u){1&r&&(e.DNE(0,FR,6,12),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[p.Jj,Zy,p.YU,Tu,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};mv=(0,He.Cg)([(0,$n.VK)(iv.y,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Ga.$,_i.ConfigurationDataService,fv.SubmissionDuplicateDataService,Object])],mv);let gv=class _O extends Gr.P{constructor(){super(...arguments),this.badgeContext=Fi.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(_O)))(u||_O)}})()}static{this.\u0275cmp=e.VBU({type:_O,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(Y){return u.reloadedObject.emit(Y.reloadedObject)}),e.k0s()()()),2&r&&(e.Y8G("item",u.dso)("object",u.object)("badgeContext",u.badgeContext),e.R7$(2),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",u.dso))},dependencies:[ev,p.YU,Tu],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function BR(d,_){if(1&d&&(e.j41(0,"div",3),e.nrm(1,"div",3),e.j41(2,"div",3)(3,"div",5),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const r=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",r," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function UR(d,_){if(1&d&&(e.qex(0),e.DNE(1,BR,6,7,"div",3),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM(r>0?1:-1)}}function OD(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-list-preview",0),e.DNE(1,UR,2,1,"ng-container",1),e.nI1(2,"async"),e.j41(3,"div",2)(4,"div",3)(5,"ds-pool-task-actions",4),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()()()}if(2&d){let r;const u=e.XpG();e.Y8G("item",u.item$.value)("object",u.object)("showSubmitter",u.showSubmitter)("badgeContext",u.badgeContext)("workflowItem",u.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(r=e.bMT(2,10,u.duplicates$))?null:r.length),e.R7$(3),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",u.item$.value)("object",u.dso)("workflowitem",u.workflowitem$.value)}}gv=(0,He.Cg)([(0,$n.VK)(pl.H,Kn.n.ListElement,Fi.o.Workspace),(0,$n.VK)(pl.H,Kn.n.ListElement,Fi.o.Workflow)],gv);let Vm=class S2 extends Gr.P{constructor(_,r,u,x,Y,Te,Pe){super(r,u,Pe),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.objectCache=x,this.configService=Y,this.duplicateDataService=Te,this.appConfig=Pe,this.showSubmitter=!0,this.badgeContext=Fi.o.MyDSpaceWaitingController,this.item$=new v.t(null),this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,rs.s)("workflowitem",{},(0,rs.s)("item",{},(0,rs.s)("bundles")),(0,rs.s)("submitter")),(0,rs.s)("action")),this.dso.workflowitem.pipe((0,Ti.qD)(),(0,vr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Ti.qD)())):_r.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ns.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Ti.qD)(),(0,Sn.T)(_=>_.isSuccess&&_.payload&&"true"===_.payload.values[0])),this.item$.pipe()]).pipe((0,Sn.T)(([_,r])=>{if(!_)return[];this.duplicates$=this.duplicateDataService.findDuplicates(r.uuid).pipe((0,Ti.qD)(),(0,Sn.T)(u=>{if(u.hasSucceeded&&u.payload.page)return u.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||S2)(e.rXU(ws._),e.rXU(Fs.F),e.rXU(Mi.f),e.rXU(Ga.$),e.rXU(_i.ConfigurationDataService),e.rXU(fv.SubmissionDuplicateDataService),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:S2,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(r,u){1&r&&(e.DNE(0,OD,6,12),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[p.Jj,p.YU,eE,Tu,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Vm=(0,He.Cg)([(0,$n.VK)(pD.d,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[ws._,Fs.F,Mi.f,Ga.$,_i.ConfigurationDataService,fv.SubmissionDuplicateDataService,Object])],Vm);var dE=n(79669);function jR(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async"),e.j41(2,"div",2)(3,"div",3)(4,"ds-workflowitem-actions",4),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()()()}if(2&d){const r=e.XpG();e.Y8G("viewMode",r.ViewModes.ListElement)("object",e.bMT(1,6,r.derivedSearchResult$))("linkType",r.LinkTypes.None)("context",r.badgeContext),e.R7$(3),e.Y8G("ngClass",r.showThumbnails?"offset-3 offset-md-2  col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",r.dso)}}function uE(d,_){1&d&&e.nrm(0,"ds-loading",0),2&d&&e.Y8G("showMessage",!1)}let $m=class I2 extends Gr.P{constructor(_,r,u,x){super(_,u,x),this.truncatableService=_,this.linkService=r,this.dsoNameService=u,this.appConfig=x,this.LinkTypes=dE.n,this.ViewModes=Kn.n,this.derivedSearchResult$=new v.t(void 0),this.badgeContext=Fi.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,rs.s)("item")),this.object.indexableObject.item.pipe((0,Ti.ak)()).subscribe(_=>{new pl.H,this.derivedSearchResult$.next(Object.assign(new pl.H,{indexableObject:_,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(r){return new(r||I2)(e.rXU(Fs.F),e.rXU(ws._),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:I2,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[3,"showMessage"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.DNE(0,jR,5,8),e.nI1(1,"async"),e.DNE(2,uE,1,1,"ds-loading",0),e.nI1(3,"async")),2&r&&(e.vxM(e.bMT(1,2,u.derivedSearchResult$)?0:-1),e.R7$(2),e.vxM(void 0===e.bMT(3,4,u.derivedSearchResult$)?2:-1))},dependencies:[p.Jj,rh.v,p.YU,Rp.v,aD],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function kR(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async"),e.j41(2,"div",2)(3,"div",3)(4,"ds-workspaceitem-actions",4),e.bIt("processCompleted",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(x.reloadedObject))}),e.k0s()()()}if(2&d){const r=e.XpG();e.Y8G("viewMode",r.ViewModes.ListElement)("object",e.bMT(1,6,r.derivedSearchResult$))("linkType",r.LinkTypes.None)("context",r.badgeContext),e.R7$(3),e.Y8G("ngClass",r.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",r.dso)}}function SD(d,_){1&d&&e.nrm(0,"ds-loading",0),2&d&&e.Y8G("showMessage",!1)}$m=(0,He.Cg)([(0,$n.VK)(T_.q,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[Fs.F,ws._,Mi.f,Object])],$m);let Wm=class P2 extends Gr.P{constructor(_,r,u,x){super(_,u,x),this.truncatableService=_,this.linkService=r,this.dsoNameService=u,this.appConfig=x,this.LinkTypes=dE.n,this.ViewModes=Kn.n,this.derivedSearchResult$=new v.t(void 0),this.badgeContext=Fi.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,rs.s)("item")),this.object.indexableObject.item.pipe((0,Ti.ak)()).subscribe(_=>{new pl.H,this.derivedSearchResult$.next(Object.assign(new pl.H,{indexableObject:_,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(r){return new(r||P2)(e.rXU(Fs.F),e.rXU(ws._),e.rXU(Mi.f),e.rXU(mo.vQ))}}static{this.\u0275cmp=e.VBU({type:P2,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[3,"showMessage"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.DNE(0,kR,5,8),e.nI1(1,"async"),e.DNE(2,SD,1,1,"ds-loading",0),e.nI1(3,"async")),2&r&&(e.vxM(e.bMT(1,2,u.derivedSearchResult$)?0:-1),e.R7$(2),e.vxM(void 0===e.bMT(3,4,u.derivedSearchResult$)?2:-1))},dependencies:[p.Jj,rh.v,p.YU,Rp.v,Yp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function hE(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}Wm=(0,He.Cg)([(0,$n.VK)(cm.I,Kn.n.ListElement),(0,He.Sn)("design:paramtypes",[Fs.F,ws._,Mi.f,Object])],Wm);let Gm=class vO extends Ed{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(vO)))(u||vO)}})()}static{this.\u0275cmp=e.VBU({type:vO,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,hE,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function VR(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}Gm=(0,He.Cg)([(0,$n.VK)(ac.A,Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)(ac.A,Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)(ac.A,Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)(ac.A,Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],Gm);let qp=class yO extends Ed{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(yO)))(u||yO)}})()}static{this.\u0275cmp=e.VBU({type:yO,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,VR,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};function ID(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}qp=(0,He.Cg)([(0,$n.VK)(du.L,Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)(du.L,Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)(du.L,Kn.n.ListElement,Fi.o.ScopeSelectorModal),(0,$n.VK)(du.L,Kn.n.ListElement,Fi.o.ScopeSelectorModalCurrent)],qp);let Km=class EO extends Ed{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(EO)))(u||EO)}})()}static{this.\u0275cmp=e.VBU({type:EO,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,ID,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[p.Jj,p.YU,K.h,K.D9,Qo.W],encapsulation:2})}};Km=(0,He.Cg)([(0,$n.VK)("PublicationSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)("PublicationSearchResult",Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent),(0,$n.VK)(pl.H,Kn.n.ListElement,Fi.o.SideBarSearchModal),(0,$n.VK)(pl.H,Kn.n.ListElement,Fi.o.SideBarSearchModalCurrent)],Km);const xw=[cv,yD,ED,em,Uc,bu,Mh,qf,Bc,Gm,__,y_,lv,aE,tm,sm,qp,Uy,oh,E_,jm,uv,cc,fu.k,Cy,Z0,N_,I_,uc,Dp,ym,w_,R_,fm,_m,dh,Sm,Tp,x_,dc,Dm,Tm,Du,wp,U_,_u,Im,Na,Up,_h,H_,kc,gh,j_,$c,Td,wm,Bp,fh,G_,ph,Wc,vh,Km,um,ah,hm,hu,Wm,$m,mv,hv,pv,km,Vm,rv,Th,av,Od,Dh,gv,zp,Z_];let PD=(()=>{class d{static withEntryComponents(){return{ngModule:d,providers:xw.map(r=>({provide:r}))}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[p.MD,y.iI,K.h,Qo.W,nv.BadgesComponent,Nr.F,bh,jc,hh,Yp,eE,Tu,Ib,z_,Zy,aD,nm,hc.V,ev,Vy,Pp,z0,b_,Xn.YN,X_,Eu,Y_,Gc,Kp,Md,yu.r,em,Uc,bu,qf,Bc,Gm,__,y_,lv,tm,sm,qp,oh,E_,jm,cc,fu.k,Cy,Z0,N_,I_,uc,Dp,ym,w_,R_,fm,_m,dh,Sm,Tp,x_,dc,Dm,Tm,Du,wp,U_,_u,Im,Na,Up,_h,H_,kc,gh,j_,$c,Td,wm,Bp,fh,G_,ph,Wc,vh,Km,um,ah,hm,hu,Wm,$m,mv,hv,pv,km,Vm,rv,Th,av,Od,Dh,gv,zp,Z_]})}}return d})();var RD=n(17624),Sd=n(44940);let AD=(()=>{class d{constructor(r,u){this.tokenExtractor=r,this.cookieService=u}intercept(r,u){const x=(r=r.clone({withCredentials:!0})).url.toLowerCase(),Y=new RD.F("/").toString().toLowerCase();if("GET"!==r.method&&"HEAD"!==r.method&&x.startsWith(Y)){const Te=this.tokenExtractor.getToken();null!==Te&&!r.headers.has(Sd.sA)&&(r=r.clone({headers:r.headers.set(Sd.sA,Te)}))}return u.handle(r).pipe((0,Vi.M)(Te=>{Te instanceof Ke.cS&&Te.headers.has(Sd.oo)&&this.saveXsrfToken(Te.headers.get(Sd.oo))}),(0,Io.W)(Te=>(Te instanceof Ke.yz&&Te.headers.has(Sd.oo)&&this.saveXsrfToken(Te.headers.get(Sd.oo)),(0,ca.$)(Te))))}saveXsrfToken(r){this.cookieService.remove(Sd.dX),this.cookieService.set(Sd.dX,r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Ke.B3),e.KVO(Hf.O))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(9129),n(87908),n(85526);let fE=(()=>{class d{serialize(r){const{url:u}=r;return{url:u,queryParams:r.root.queryParams}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(45387);const ND={providers:[(0,e.oKB)(Og.xG.forRoot(),G.UN,Ud.forRoot(g1),E.md.forRoot(Uf.rd,Uf.wP),Mc.hO.forRoot(),[],ep,nd,PD.withEntryComponents(),Sg.mB.forRoot()),(0,y.lh)(WO,(0,y.Ii)({onSameUrlNavigation:"reload"}),(0,y.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,y.Zy)(),(0,y.Sn)(y.D7),(0,y.lG)()),{provide:p.kB,useFactory:(d,_)=>{const r=d.querySelector("head > base");return r.setAttribute("href",`${_.ui.nameSpace}${_.ui.nameSpace.endsWith("/")?"":"/"}`),r.getAttribute("href")},deps:[p.qQ,mo.vQ]},{provide:E.iK,useFactory:function LD(d){return d.debug?[...LO,...Xg]:LO},deps:[mo.vQ]},{provide:Mc.jr,useClass:fE},th,{provide:Ke.a7,useClass:Zu,multi:!0},{provide:Ke.a7,useClass:HO,multi:!0},{provide:Ke.a7,useClass:AD,multi:!0},{provide:Ke.a7,useClass:zf,multi:!0},{provide:Ke.a7,useClass:KO,multi:!0},...Hi.A0q,...qd,(0,e.EmA)([{provide:r_.Y,useFactory:(d,_)=>R.c.production?new r_.Y(_):new tS(d,_),deps:[v0,Ke.Qq]}])]};var FD=n(95828),mE=n(57775),_v=n(49755);let JR=(()=>{class d extends FD.H{constructor(r,u,x){super(r,u,x)}createShortLivedTokenRequest(r){return(0,Gn.of)(new _v.Qf(this.requestService.generateRequestId(),r))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(sv.Y),e.KVO(Ka.B),e.KVO(mE.o))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),QR=(()=>{class d{constructor(r){this.actions$=r,this.reinitDSOMenus=Di(()=>this.actions$.pipe(Ii(cl.REHYDRATE),(0,Sn.T)(()=>new Hd.PM)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var ZR=n(41584),qR=n(43236),eA=n(47242),tA=n(40941),vv=n(37688),ml=n(51553);class nA{constructor(_,r){this.zone=_,this.scheduler=r}schedule(..._){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,_))}now(){return this.scheduler.now()}}class BD{constructor(_,r){this.zone=_,this.scheduler=r}schedule(..._){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,_))}now(){return this.scheduler.now()}}const UD=[...Object.values(z.Yk).filter(d=>d!==z.Yk.UNSET_USER_AS_IDLE),...Object.values(ml.tO),...Object.values(vv.Is)];function Oh(d,_){return _ instanceof Error||console.warn("AuthEffects caught non-Error object:",_),(0,Gn.of)(new d(_))}let jD=(()=>{class d{constructor(r,u,x,Y,Te){this.actions$=r,this.zone=u,this.authorizationsService=x,this.authService=Y,this.store=Te,this.authenticate$=Di(()=>this.actions$.pipe(Ii(z.Yk.AUTHENTICATE),(0,Li.n)(Pe=>this.authService.authenticate(Pe.payload.email,Pe.payload.password).pipe((0,D.s)(1),(0,Sn.T)(it=>new z.sy(it.token)),(0,Io.W)(it=>Oh(z.HQ,it)))))),this.authenticateSuccess$=Di(()=>this.actions$.pipe(Ii(z.Yk.AUTHENTICATE_SUCCESS),(0,Sn.T)(Pe=>new z.ks(Pe.payload)))),this.authenticated$=Di(()=>this.actions$.pipe(Ii(z.Yk.AUTHENTICATED),(0,Li.n)(Pe=>this.authService.authenticatedUser(Pe.payload).pipe((0,Sn.T)(it=>new z.D9(null!==it,Pe.payload,it)),(0,Io.W)(it=>Oh(z.IV,it)))))),this.authenticatedSuccess$=Di(()=>this.actions$.pipe(Ii(z.Yk.AUTHENTICATED_SUCCESS),(0,Vi.M)(Pe=>this.authService.storeToken(Pe.payload.authToken)),(0,Li.n)(Pe=>this.authService.getRedirectUrl().pipe((0,D.s)(1),(0,Sn.T)(it=>[Pe,it]))),(0,Sn.T)(([Pe,it])=>(0,V.a4)(it)?new z.FD(it):new z.K0(Pe.payload.userHref)))),this.redirectAfterLoginSuccess$=Di(()=>this.actions$.pipe(Ii(z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,Vi.M)(Pe=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Pe.payload)})),{dispatch:!1}),this.authenticatedError$=Di(()=>this.actions$.pipe(Ii(z.Yk.AUTHENTICATED_ERROR),(0,Vi.M)(Pe=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=Di(()=>this.actions$.pipe(Ii(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,Li.n)(Pe=>{const it=this.authService.getImpersonateID();let Rt;return Rt=(0,V.a4)(it)?this.authService.retrieveAuthenticatedUserById(it):this.authService.retrieveAuthenticatedUserByHref(Pe.payload),Rt.pipe((0,Sn.T)(bn=>new z.JT(bn.id)),(0,Io.W)(bn=>Oh(z.cU,bn)))}))),this.checkToken$=Di(()=>this.actions$.pipe(Ii(z.Yk.CHECK_AUTHENTICATION_TOKEN),(0,Li.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,Sn.T)(Pe=>new z.ks(Pe)),(0,Io.W)(Pe=>(0,Gn.of)(new z.e0)))))),this.checkTokenCookie$=Di(()=>this.actions$.pipe(Ii(z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,Li.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,Sn.T)(Pe=>Pe.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new z.kZ):new z.j3(Pe)),(0,Io.W)(Pe=>Oh(z.IV,Pe)))))),this.retrieveToken$=Di(()=>this.actions$.pipe(Ii(z.Yk.RETRIEVE_TOKEN),(0,Li.n)(Pe=>this.authService.refreshAuthenticationToken(null).pipe((0,D.s)(1),(0,Sn.T)(it=>new z.sy(it)),(0,Io.W)(it=>Oh(z.HQ,it)))))),this.refreshToken$=Di(()=>this.actions$.pipe(Ii(z.Yk.REFRESH_TOKEN),(0,Li.n)(Pe=>this.authService.refreshAuthenticationToken(Pe.payload).pipe((0,Sn.T)(it=>new z.IO(it)),(0,Io.W)(it=>(0,Gn.of)(new z.$K)))))),this.refreshTokenSuccess$=Di(()=>this.actions$.pipe(Ii(z.Yk.REFRESH_TOKEN_SUCCESS),(0,Vi.M)(Pe=>this.authService.replaceToken(Pe.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=Di(()=>this.actions$.pipe(Ii(cl.REHYDRATE),(0,Li.n)(()=>{const Pe=this.store.pipe((0,E.Lt)(S.TR)),it=this.store.pipe((0,E.Lt)(S.wR));return(0,Ns.z)([Pe,it]).pipe((0,D.s)(1),(0,fo.p)(([Rt,bn])=>Rt&&!bn),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=Di(()=>this.actions$.pipe(Ii(cl.REHYDRATE),(0,Vi.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=Di(()=>this.actions$.pipe(Ii(z.Yk.LOG_OUT),(0,Li.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,Sn.T)(()=>new z.G2),(0,Io.W)(Pe=>Oh(z.VU,Pe))))))),this.logOutSuccess$=Di(()=>this.actions$.pipe(Ii(z.Yk.LOG_OUT_SUCCESS),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.clearRedirectUrl()),(0,Vi.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=Di(()=>this.actions$.pipe(Ii(z.Yk.REDIRECT_TOKEN_EXPIRED),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=Di(()=>this.actions$.pipe(Ii(z.Yk.RETRIEVE_AUTH_METHODS),(0,Li.n)(Pe=>this.authService.retrieveAuthMethodsFromAuthStatus(Pe.payload).pipe((0,Sn.T)(it=>new z.qY(it)),(0,Io.W)(()=>(0,Gn.of)(new z.$X)))))),this.trackIdleness$=Di(()=>this.actions$.pipe((0,fo.p)(Pe=>!UD.includes(Pe.type)),(0,Li.n)(()=>(0,ZR.O)(R.c.auth.ui.timeUntilIdle,new BD(this.zone,qR.E))),(0,tA.Q)(new nA(this.zone,eA.T)),(0,Sn.T)(()=>new z.es)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(e.SKi),e.KVO(Lo.AuthorizationDataService),e.KVO(h.uR),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var ef=n(1708);let kD=(()=>{class d{constructor(r){this.actions$=r,this.fixTimestampsOnRehydrate=Di(()=>this.actions$.pipe(Ii(cl.REHYDRATE),(0,Sn.T)(()=>new ef.Yp((new Date).getTime()))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var yv=n(30269),Hm=n(51801);let VD=(()=>{class d{applyPatch(r){return this.objectCache.getByHref(r).pipe((0,D.s)(1)).pipe((0,Sn.T)(x=>{if((0,V.hj)(x.patches)){const Y=[].concat(...x.patches.map(Te=>Te.operations));(0,V.hj)(Y)&&this.requestService.send(new _v.EA(this.requestService.generateRequestId(),r,Y))}return new ef.gL(r)}))}constructor(r,u,x,Y){this.actions$=r,this.store=u,this.requestService=x,this.objectCache=Y,this.setTimeoutForServerSync=Di(()=>this.actions$.pipe(Ii(Wl.G9.ADD),Iu(Te=>{const Pe=R.c.cache.autoSync,it=Pe.timePerMethod[Te.payload.method]||Pe.defaultTime;return(0,Gn.of)(new Wl.eR(Te.payload.method)).pipe((0,C.c)(1e3*it))}))),this.commitServerSyncBuffer=Di(()=>this.actions$.pipe(Ii(Wl.G9.COMMIT),(0,Li.n)(Te=>this.store.pipe((0,E.Lt)(function $D(){return(0,E.Mz)(yv.N,d=>d["cache/syncbuffer"])}()),(0,D.s)(1),(0,Li.n)(Pe=>{const it=Pe.buffer.filter(Rt=>!(0,V.a4)(Te.payload)||Rt.method===Te.payload).map(Rt=>{if(Rt.method===Hm.D.PATCH)return this.applyPatch(Rt.href)});return(0,V.hj)(it)&&(0,V.EA)(it[0])?(0,Ns.z)(...it).pipe((0,Li.n)(Rt=>[...Rt,new Wl.a0(Te.payload)])):(0,Gn.of)(new tp.L)})))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il),e.KVO(Ka.B),e.KVO(Ga.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var WD=n(1033),zm=n(94289);let iA=(()=>{class d{constructor(r,u){this.actions$=r,this.notificationsService=u,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new ao.B},this.mapLastActions$=Di(()=>this.actions$.pipe(Ii(...Object.values(zm.Ft)),(0,Sn.T)(x=>{if((0,V.a4)(x.payload)){const Y=x.payload.url;(0,V.Tn)(this.actionMap$[Y])&&(this.actionMap$[Y]=new ao.B),this.actionMap$[Y].next(x)}})),{dispatch:!1}),this.mapLastNotificationActions$=Di(()=>this.actions$.pipe(Ii(...Object.values(vv.Is)),(0,Sn.T)(x=>{const Y=x.payload.id||x.payload||this.allIdentifier;(0,V.Tn)(this.notificationActionMap$[Y])&&(this.notificationActionMap$[Y]=new ao.B),this.notificationActionMap$[Y].next(x)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=Di(()=>this.actions$.pipe(Ii(zm.Ft.DISCARD),(0,Li.n)(x=>{const Y=x.payload.url,Te=x.payload.notification,Pe=Te.options.timeOut;let it=new zm.S3(x.payload.url);return x.payload.discardAll&&(it=new zm.zJ),(0,WD.O)((0,Gn.of)(it).pipe((0,C.c)(Pe)),this.actionMap$[Y].pipe((0,D.s)(1),(0,Vi.M)(()=>{this.notificationsService.remove(Te)}),(0,Sn.T)(Rt=>Rt.type===zm.Ft.REINSTATE?new tp.L:it)),this.notificationActionMap$[Te.id].pipe((0,fo.p)(Rt=>Rt.type===vv.Is.REMOVE_NOTIFICATION),(0,Sn.T)(()=>it)),this.notificationActionMap$[this.allIdentifier].pipe((0,fo.p)(Rt=>Rt.type===vv.Is.REMOVE_ALL_NOTIFICATIONS),(0,Sn.T)(()=>it)))})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(Zr.I))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var gE=n(60428),Ev=n(88884);let tf=(()=>{class d{constructor(){this.tokenInitialized$=new v.t(!1)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),_E=(()=>{class d{constructor(r,u,x,Y,Te){this.actions$=r,this.restApi=u,this.injector=x,this.requestService=Y,this.xsrfService=Te,this.execute=Di(()=>this.actions$.pipe(Ii(ml.tO.EXECUTE),(0,vr.Z)(Pe=>this.requestService.getByUUID(Pe.payload).pipe((0,D.s)(1))),(0,fo.p)(Pe=>(0,V.a4)(Pe)),(0,I.E)(this.xsrfService.tokenInitialized$),(0,fo.p)(([Pe,it])=>Pe.request.method===Hm.D.GET||!0===it),(0,Sn.T)(([Pe,it])=>Pe.request),(0,vr.Z)(Pe=>{let it=Pe.body;return(0,V.hj)(Pe.body)&&!Pe.isMultipart&&(it=new gE.T((0,_s.Qt)(Pe.body.type)).serialize(Pe.body)),this.restApi.request(Pe.method,Pe.href,it,Pe.options,Pe.isMultipart).pipe((0,Sn.T)(Rt=>this.injector.get(Pe.getResponseParser()).parse(Pe,Rt)),(0,Sn.T)(Rt=>new ml.Di(Pe.uuid,Rt.statusCode,Rt.link,Rt.unCacheableObject)),(0,Io.W)(Rt=>{if(Rt instanceof Ev.G)return[new ml.Gl(Pe.uuid,Rt.statusCode,Rt.message)];throw Rt}))}))),this.fixTimestampsOnRehydrate=Di(()=>this.actions$.pipe(Ii(cl.REHYDRATE),(0,Sn.T)(()=>new ml.cX((new Date).getTime()))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(r_.Y),e.KVO(e.zZn),e.KVO(Ka.B),e.KVO(tf))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Id=n(77274),Cv=n(35331),Xm=n(25056);let GD=(()=>{class d{constructor(r,u){this.actions$=r,this.store=u,this.addObject$=Di(()=>this.actions$.pipe(Ii(ef.db.ADD),(0,fo.p)(x=>(0,V.a4)(x.payload.objectToCache)&&(0,V.a4)(x.payload.objectToCache.uuid)),(0,Sn.T)(x=>new Id.Lv(Xm.U.OBJECT,x.payload.objectToCache.uuid,x.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=Di(()=>this.actions$.pipe(Ii(ef.db.ADD),(0,Sn.T)(x=>{const Y=x.payload.alternativeLink,Te=(0,V.a4)(x.payload.objectToCache?._links?.self)?x.payload.objectToCache._links.self.href:Y;return(0,V.a4)(Y)&&Y!==Te?new Id.Lv(Xm.U.ALTERNATIVE_OBJECT_LINK,Y,Te):new tp.L}))),this.removeObject$=Di(()=>this.actions$.pipe(Ii(ef.db.REMOVE),(0,Sn.T)(x=>new Id.H9(Xm.U.OBJECT,x.payload)))),this.addRequest$=Di(()=>this.actions$.pipe(Ii(ml.tO.CONFIGURE),(0,fo.p)(x=>x.payload.method===Hm.D.GET),(0,Li.n)(x=>{const Y=(0,Cv.tJ)(x.payload.href);return this.store.pipe((0,E.Lt)((0,Cv.Qc)(Y)),(0,D.s)(1),(0,Sn.T)(Te=>[x,Te]))}),(0,Li.n)(([x,Y])=>{let Te=[];return(0,V.a4)(Y)&&(Te=[new ml.HL(Y)]),Te=[...Te,new Id.Lv(Xm.U.REQUEST,(0,Cv.tJ)(x.payload.href),x.payload.uuid)],Te})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),KD=(()=>{class d{constructor(r){this.actions$=r,this.commit$=Di(()=>this.actions$.pipe(Ii(Qr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Sn.T)(u=>new Qr.pg(u.payload.resourceType,u.payload.resourceId))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const bv={ROUTE_UPDATE:(0,Wu.N)("dspace/core/router/ROUTE_UPDATE")};class zD{constructor(){this.type=bv.ROUTE_UPDATE}}let vE=(()=>{class d{constructor(r,u){this.actions$=r,this.router=u,this.routeChange$=Di(()=>this.actions$.pipe(Ii(Mc.hr),function HD(){return(0,Nd.N)((d,_)=>{let r,u=!1;d.subscribe((0,Dc._)(_,x=>{const Y=r;r=x,u&&_.next([Y,x]),u=!0}))})}(),(0,Sn.T)(x=>x.map(Y=>this.router.parseUrl(Y.payload.routerState.url).root.children.primary.segments.map(Pe=>Pe.path).join("/"))),(0,fo.p)(x=>x[0]!==x[1]),(0,Sn.T)(()=>new zD)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(y.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var zc=n(20009);const YD=[_E,kD,GD,jD,KD,VD,iA,(()=>{class d{constructor(r,u){this.actions$=r,this.service=u,this.routeChange$=Di(()=>this.actions$.pipe(Ii(bv.ROUTE_UPDATE),(0,Sn.T)(()=>new zc.sV))),this.afterResetChange$=Di(()=>this.actions$.pipe(Ii(zc.HH.RESET),(0,Vi.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(lo),e.KVO(Mm.v$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),vE,QR];var Dv=n(45879);const sA={selectedBitstreamFormats:[]},EE={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var CE=n(45451);const oA={buffer:[]};var aA=n(96266);const ZD=Object.create(null);var tT=n(75794);const nT=[],sT=Object.create(null);var Ym=function(d){return d.test="test",d.remove="remove",d.add="add",d.replace="replace",d.move="move",d.copy="copy",d}(Ym||{});const Jm=Object.create(null);function Zm(d){return{operation:d,timeCompleted:(new Date).getTime()}}const Ov={ADD:(0,Wu.N)("dspace/meta-tag/ADD"),CLEAR:(0,Wu.N)("dspace/meta-tag/CLEAR")};class pA{constructor(_){this.type=Ov.ADD,this.payload=_}}class qm{constructor(){this.type=Ov.CLEAR}}const DE={tagsInUse:[]},Sh={queryParams:{},params:{}};function mT(d,_,r){const u=d[r],Y=[...u[_.payload.key]||[],_.payload.value],Te=Object.assign({},u,{[_.payload.key]:Y});return Object.assign({},d,{[r]:Te})}function _A(d,_,r){const u=(0,V.hj)(_.payload)?{[r]:{[_.payload.key]:_.payload.value}}:{};return Object.assign({},d,u)}function vA(d,_,r){const x=Object.assign({},d[r],{[_.payload.key]:_.payload.value});return Object.assign({},d,{[r]:x})}const eg={bitstreamFormats:function yE(d=sA,_){switch(_.type){case Dv.Sh.SELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[...d.selectedBitstreamFormats,_.bitstreamFormat]});case Dv.Sh.DESELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:d.selectedBitstreamFormats.filter(r=>r!==_.bitstreamFormat)});case Dv.Sh.DESELECT_ALL_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[]});default:return d}},"cache/object":CE.gT,"cache/syncbuffer":function bE(d=oA,_){switch(_.type){case Wl.G9.ADD:return function rA(d,_){const r=_.payload;return(0,V.Tn)(d.buffer.find(u=>u.href===r.href&&u.method===r.method))?Object.assign({},d,{buffer:d.buffer.concat(r)}):d}(d,_);case Wl.G9.EMPTY:return function QD(d,_){let r=[];return(0,V.a4)(_.payload)&&(r=d.buffer.filter(u=>u.method!==_.payload)),Object.assign({},d,{buffer:r})}(d,_);default:return d}},"cache/object-updates":aA.O,"data/request":function lA(d=ZD,_){switch(_.type){case ml.tO.CONFIGURE:return function cA(d,_){return Object.assign({},d,{[_.payload.uuid]:{request:_.payload,state:wa.zE.RequestPending,response:null,lastUpdated:_.lastUpdated}})}(d,_);case ml.tO.EXECUTE:return function Tv(d,_){return(0,V.kZ)(d[_.payload])?d:Object.assign({},d,{[_.payload]:Object.assign({},d[_.payload],{state:wa.zE.ResponsePending,lastUpdated:_.lastUpdated})})}(d,_);case ml.tO.SUCCESS:return function qD(d,_){const r=d[_.payload.uuid];return(0,V.kZ)(r)?d:Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:(0,wa.QO)(r.state)?wa.zE.SuccessStale:wa.zE.Success,response:{timeCompleted:_.payload.timeCompleted,lastUpdated:_.payload.timeCompleted,statusCode:_.payload.statusCode,payloadLink:_.payload.link,unCacheableObject:_.payload.unCacheableObject,errorMessage:null},lastUpdated:_.lastUpdated})})}(d,_);case ml.tO.ERROR:return function Mv(d,_){const r=d[_.payload.uuid];return(0,V.kZ)(r)?d:Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:(0,wa.QO)(r.state)?wa.zE.ErrorStale:wa.zE.Error,response:{timeCompleted:_.payload.timeCompleted,lastUpdated:_.payload.timeCompleted,statusCode:_.payload.statusCode,payloadLink:null,errorMessage:_.payload.errorMessage},lastUpdated:_.lastUpdated})})}(d,_);case ml.tO.STALE:return function Bw(d,_){const r=d[_.payload.uuid];if((0,V.kZ)(r)||(0,wa.QO)(r.state)||(0,wa.DB)(r.state))return d;{let u;return u=(0,wa.vT)(r.state)?wa.zE.ResponsePendingStale:(0,wa.yO)(r.state)?wa.zE.SuccessStale:wa.zE.ErrorStale,Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:u,lastUpdated:_.lastUpdated})})}}(d,_);case ml.tO.RESET_TIMESTAMPS:return function dA(d,_){const r=Object.create(null);return Object.keys(d).forEach(u=>{r[u]=Object.assign({},d[u],{response:Object.assign({},d[u].response,{timeCompleted:_.payload}),lastUpdated:_.payload})}),r}(d,_);case ml.tO.REMOVE:return function eT(d,_){const r=Object.assign({},d);return r[_.uuid]=null,r}(d,_);default:return d}},history:function iT(d=nT,_){return _.type===tT.i.ADD_TO_HISTORY?[...d,_.payload.url]:d},index:function oT(d=sT,_){switch(_.type){case Id.WJ.ADD:return function rT(d,_){const u=Object.assign({},d[_.payload.name],{[_.payload.key]:_.payload.value});return Object.assign({},d,{[_.payload.name]:u})}(d,_);case Id.WJ.REMOVE_BY_VALUE:return function uA(d,_){const r=d[_.payload.name],u=Object.create(null);for(const x in r)r[x]!==_.payload.value&&(u[x]=r[x]);return Object.assign({},d,{[_.payload.name]:u})}(d,_);case Id.WJ.REMOVE_BY_SUBSTRING:return function hA(d,_){const r=d[_.payload.name],u=Object.create(null);for(const x in r)x.indexOf(_.payload.value)<0&&(u[x]=r[x]);return Object.assign({},d,{[_.payload.name]:u})}(d,_);default:return d}},auth:function JD(d=EE,_){switch(_.type){case z.Yk.AUTHENTICATE:return Object.assign({},d,{error:void 0,loading:!0,info:void 0});case z.Yk.AUTHENTICATED:return Object.assign({},d,{loading:!0,blocking:!0});case z.Yk.CHECK_AUTHENTICATION_TOKEN:case z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},d,{loading:!0});case z.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},d,{externalAuth:_.payload});case z.Yk.AUTHENTICATED_ERROR:case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:_.payload.message,loaded:!0,blocking:!1,loading:!1});case z.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},d,{authenticated:!0,authToken:_.payload.authToken});case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},d,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:_.payload});case z.Yk.AUTHENTICATE_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:_.payload.message,blocking:!1,loading:!1});case z.Yk.AUTHENTICATE_SUCCESS:case z.Yk.LOG_OUT:return d;case z.Yk.LOG_OUT_ERROR:return Object.assign({},d,{authenticated:!0,error:_.payload.message});case z.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case z.Yk.LOG_OUT_SUCCESS:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case z.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case z.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},d,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:_.payload,userId:void 0});case z.Yk.REFRESH_TOKEN:return Object.assign({},d,{refreshing:!0});case z.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},d,{authToken:_.payload,refreshing:!1,blocking:!1});case z.Yk.ADD_MESSAGE:return Object.assign({},d,{info:_.payload});case z.Yk.RESET_MESSAGES:return Object.assign({},d,{error:void 0,info:void 0});case z.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},d,{loading:!0});case z.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:_.payload});case z.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:[new Ju.q(Qu.Q.Password,0)]});case z.Yk.SET_REDIRECT_URL:return Object.assign({},d,{redirectUrl:_.payload});case z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},d,{loading:!0,blocking:!0});case z.Yk.SET_USER_AS_IDLE:return Object.assign({},d,{idle:!0});case z.Yk.UNSET_USER_AS_IDLE:return Object.assign({},d,{idle:!1});case cl.REHYDRATE:return Object.assign({},d,{blocking:!0});default:return d}},"json/patch":function aT(d=Jm,_){switch(_.type){case Qr.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function cT(d,_){return(0,V.a4)(d[_.payload.resourceType])&&d[_.payload.resourceType].commitPending?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{commitPending:!1})}):d}(d,_);case Qr.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function kw(d,_){if((0,V.a4)(d[_.payload.resourceType])){let r;return(0,V.EA)(_.payload.resourceId)?r=(0,V.a4)(d[_.payload.resourceType].children)&&(0,V.a4)(d[_.payload.resourceType].children[_.payload.resourceId])?Object.assign({},d[_.payload.resourceType].children,{[_.payload.resourceId]:{body:d[_.payload.resourceType].children[_.payload.resourceId].body.filter(u=>u.timeCompleted>d[_.payload.resourceType].transactionStartTime)}}):d[_.payload.resourceType].children:(r=d[_.payload.resourceType].children,Object.keys(r).forEach(u=>{r=Object.assign({},r,{[u]:{body:r[u].body.filter(x=>x.timeCompleted>d[_.payload.resourceType].transactionStartTime)}})})),Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{children:r,transactionStartTime:null})})}return d}(d,_);case Qr.Ce.NEW_JSON_PATCH_ADD_OPERATION:case Qr.Ce.NEW_JSON_PATCH_COPY_OPERATION:case Qr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case Qr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case Qr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function Qm(d,_){const r=Object.assign({},d),u=function jw(d,_,r){return(0,V.a4)(d[_])&&(0,V.a4)(d[_].children)&&(0,V.a4)(d[_].children[r])&&(0,V.hj)(d[_].children[r].body)}(r,_.payload.resourceType,_.payload.resourceId)?r[_.payload.resourceType].children[_.payload.resourceId].body:Array.of(),x=function pT(d,_,r,u,x){const Y=Array.from(d);switch(_){case Qr.Ce.NEW_JSON_PATCH_ADD_OPERATION:Y.push(Zm({op:Ym.add,path:r,value:u}));break;case Qr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:Y.push(Zm({op:Ym.replace,path:r,value:u}));break;case Qr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:Y.push(Zm({op:Ym.remove,path:r}));break;case Qr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:Y.push(Zm({op:Ym.move,from:x,path:r}))}return function fT(d){const _=new Map;for(let r=d.length-1;r>=0;r--){const u=d[r].operation,x=`${u.op}-${u.path}`;_.has(x)?_.get(x)-1===r&&(d.splice(r,1),_.set(x,r)):_.set(x,r)}return d}(Y)}(u,_.type,_.payload.path,(0,V.a4)(_.payload.value)?_.payload.value:null,(0,V.a4)(_.payload.from)?_.payload.from:null);return(0,V.a4)(r[_.payload.resourceType])&&(0,V.a4)(r[_.payload.resourceType].children)?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{children:Object.assign({},d[_.payload.resourceType].children,{[_.payload.resourceId]:{body:x}}),commitPending:!!(0,V.EA)(d[_.payload.resourceType].commitPending)&&d[_.payload.resourceType].commitPending})}):Object.assign({},d,{[_.payload.resourceType]:Object.assign({},{children:{[_.payload.resourceId]:{body:x}},transactionStartTime:null,commitPending:!1})})}(d,_);case Qr.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function dT(d,_){return(0,V.a4)(d[_.payload.resourceType])&&d[_.payload.resourceType].commitPending?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):d}(d,_);case Qr.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function lT(d,_){return(0,V.a4)(d[_.payload.resourceType])&&(0,V.kZ)(d[_.payload.resourceType].transactionStartTime)?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{transactionStartTime:_.payload.startTime,commitPending:!0})}):d}(d,_);case Qr.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case Qr.Ce.FLUSH_JSON_PATCH_OPERATION:return function hT(d,_){const r=_.payload;if(d[r.resourceType]&&d[r.resourceType].children){const u=d[r.resourceType].children[r.resourceId].body,x=u.filter(Pe=>Pe.operation.path===r.path)[0],Y=u.indexOf(x),Te=[...u];return Te.splice(Y,1),Object.assign({},d,{[_.payload.resourceType]:Object.assign({},{children:{[_.payload.resourceId]:{body:Te}}})})}return d}(d,_);default:return d}},metaTag:(d=DE,_)=>{switch(_.type){case Ov.ADD:return((d,_)=>({tagsInUse:[...d.tagsInUse,_.payload]}))(d,_);case Ov.CLEAR:return Object.assign({},DE);default:return d}},route:function gA(d=Sh,_){switch(_.type){case zc.HH.RESET:return Sh;case zc.HH.SET_PARAMETERS:return _A(d,_,"params");case zc.HH.SET_QUERY_PARAMETERS:return _A(d,_,"queryParams");case zc.HH.ADD_PARAMETER:return mT(d,_,"params");case zc.HH.ADD_QUERY_PARAMETER:return mT(d,_,"queryParams");case zc.HH.SET_PARAMETER:return vA(d,_,"params");case zc.HH.SET_QUERY_PARAMETER:return vA(d,_,"queryParams");default:return d}}};var gT=n(64691),nf=n(95488);let yA=(()=>{class d extends gT.f{constructor(r,u,x){super(),this.document=r,this.routeService=u,this.hardRedirectService=x}getReferrer(){return this.routeService.getHistory().pipe((0,Sn.T)(r=>{const u=r[r.length-1];if((0,V.Tn)(u)||r.every(x=>x===u))return this.document.referrer;{const Y=[...r].reverse().find(Te=>Te!==u);return new gs.t(this.hardRedirectService.getCurrentOrigin(),Y).toString()}}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(p.qQ),e.KVO(Mm.v$),e.KVO(nf.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const TE=new e.nKC("Location");let CA=(()=>{class d extends nf.${constructor(r){super(),this.location=r}redirect(r){this.location.replace(r)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(TE))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),bA=(()=>{class d extends L_{constructor(r,u){super(),this._document=r,this._window=u,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new v.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(x=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(r){var u=this;return(0,m.A)(function*(){return R.c.markdown.mathjax?new Promise((x,Y)=>{const Te=u._document.createElement("script");Te.type="text/javascript",Te.text=`MathJax = ${JSON.stringify(u.mathJaxOptions)};`,u._document.head.appendChild(Te);const Pe=u._document.createElement("script");Pe.id=r.id,Pe.type="text/javascript",Pe.src=r.source,Pe.crossOrigin="anonymous",Pe.async=!0,Pe.onload=()=>x(),Pe.onerror=it=>Y(it),u._document.head.appendChild(Pe)}):Promise.resolve()})()}ready(){return this.isReady$}render(r){if(R.c.markdown.mathjax)return window.MathJax.typesetPromise([r])}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(p.qQ),e.KVO(T.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),ME=(()=>{class d extends tf{initXSRFToken(r){return()=>new Promise(u=>{r.get(new RD.F("/security/csrf").toString(),void 0).pipe((0,D.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),u()})}static{this.\u0275fac=(()=>{let r;return function(x){return(r||(r=e.xGo(d)))(x||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var _T=n(84418),vT=n.n(_T),Sv=n(61889),OE=n.n(Sv),Vw=n(13817),SE=n(68660);const IE="dspace.agreements.cookies",PE=new e.nKC("Lazily loaded Orejime",{providedIn:"root",factory:function(){var d=(0,m.A)(function*(){return yield n.e(4691).then(n.t.bind(n,34691,23))});return function(){return d.apply(this,arguments)}}()});let $w=(()=>{class d extends dd.B{constructor(r,u,x,Y,Te,Pe,it){super(),this._window=r,this.translateService=u,this.authService=x,this.ePersonService=Y,this.configService=Te,this.cookieService=Pe,this.lazyOrejime=it,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.MATOMO_ENABLED=SE.Mz,this.orejimeConfig=vT()(function L1(d){return{cookieName:m0,privacyPolicy:"./info/privacy",cookieExpiresAfterDays:365,lang:"zz",appElement:"ds-app",stringifyCookie:_=>"string"==typeof _?_:JSON.stringify(_),parseCookie:_=>"string"==typeof _?(_=decodeURIComponent(_),JSON.parse(_)):_,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"}},consentNotice:{changeDescription:"cookies.consent.update",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",declineAll:"cookies.consent.decline-all",accept:"cookies.consent.ok",save:"cookies.consent.save",purposes:{},app:{optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},apps:[{name:"authentication",purposes:["functional"],required:!0,optOut:!0,cookies:[f0.R,h.of,h.kL]},{name:"preferences",purposes:["functional"],required:!0,optOut:!0,cookies:[lp.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,optOut:!0,cookies:[[/^orejime-.+$/],"dsHasAgreedEndUser"]},{name:o_,purposes:["statistical"],required:!1,cookies:[_0],callback:()=>{d?.nativeWindow.initCorrelationId()}},{name:"matomo",purposes:["statistical"],required:!1,cookies:["dsMatomo"],callback:_=>{d?.nativeWindow.changeMatomoConsent(_)}},{name:g0,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:ic.BA,purposes:["registration-password-recovery"],required:!1,cookies:[ic.oL],callback:_=>{d?.nativeWindow.refreshCaptchaScript?.call()},onlyOnce:!0},{name:"accessibility",purposes:["functional"],required:!1,cookies:[zO.SH],onlyOnce:!1}]}}(this._window))}initialize(){R.c.info.enablePrivacyStatement||(this.orejimeConfig.translations.zz.consentModal.privacyPolicy.text="cookies.consent.content-modal.no-privacy-policy.text");const r=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,Ti.qD)(),(0,Sn.T)(it=>!it.hasSucceeded||!it.payload||(0,V.Im)(it.payload.values))),u=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,Ti.qD)(),(0,Sn.T)(it=>!it.hasSucceeded||!it.payload||(0,V.Im)(it.payload.values)||"true"!==it.payload.values[0].toLowerCase())),x=this.configService.findByPropertyName(this.MATOMO_ENABLED).pipe((0,Ti.qD)(),(0,Sn.T)(it=>!it.hasSucceeded||!it.payload||(0,V.Im)(it.payload.values)||"true"!==it.payload.values[0].toLowerCase())),Y=(0,Ns.z)([r,u,x]).pipe((0,Sn.T)(([it,Rt,bn])=>{const tn=[];return it&&tn.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),Rt&&tn.push(ic.BA),bn&&tn.push("matomo"),tn}));this.translateService.setDefaultLang(R.c.defaultLanguage);const Te=this.getUser$(),Pe=this.translateService.get("loading.default").pipe((0,D.s)(1));(0,Ns.z)([Te,Y,Pe]).subscribe(([it,Rt,bn])=>{it=vT()(it),(0,V.a4)(it)&&this.initializeUser(it),this.addAppMessages(),this.createCategories(),this.translateConfiguration(),this.orejimeConfig.apps=R.c.info?.enableCookieConsentPopup?this.filterConfigApps(Rt):[],this.applyUpdateSettingsCallbackToApps(it),this.lazyOrejime.then(({init:tn})=>{this.orejimeInstance=tn(this.orejimeConfig)})})}applyUpdateSettingsCallbackToApps(r){const u=OE()(()=>this.updateSettingsForUsers(r),300);this.orejimeConfig.apps.forEach(x=>{const Y=x.callback;x.callback=Te=>{u(),Y&&Y(Te)}})}getSavedPreferences(){return this.getUserId$().pipe((0,Sn.T)(r=>{let u;return u=(0,V.Im)(r)?m0:this.getStorageName(r),this.cookieService.get(u)}))}initializeUser(r){this.orejimeConfig.cookieName=this.getStorageName(r.uuid);const u=this.cookieService.get(m0);(0,V.a4)(this.getSettingsForUser(r))?this.restoreSettingsForUsers(r):(0,V.a4)(u)&&(this.cookieService.set(this.getStorageName(r.uuid),u),this.updateSettingsForUsers(r))}getUserId$(){return this.authService.isAuthenticated().pipe((0,D.s)(1),(0,Li.n)(r=>r?this.authService.getAuthenticatedUserIdFromStore():(0,Gn.of)(void 0)),(0,D.s)(1))}getUser$(){return this.authService.isAuthenticated().pipe((0,D.s)(1),(0,Li.n)(r=>r?this.authService.getAuthenticatedUserFromStore():(0,Gn.of)(void 0)),(0,D.s)(1))}getTitleTranslation(r){return"cookies.consent.app.title."+r}getDescriptionTranslation(r){return"cookies.consent.app.description."+r}getPurposeTranslation(r){return"cookies.consent.purpose."+r}showSettings(){this.orejimeInstance.show()}addAppMessages(){this.orejimeConfig.apps.forEach(r=>{this.orejimeConfig.translations.zz[r.name]={title:this.getTitleTranslation(r.name),description:this.getDescriptionTranslation(r.name)},r.purposes.forEach(u=>{this.orejimeConfig.translations.zz.purposes[u]=this.getPurposeTranslation(u)})})}translateConfiguration(){this.translateService.setDefaultLang(R.c.defaultLanguage),this.translate(this.orejimeConfig.translations.zz)}createCategories(){this.orejimeConfig.categories=this.orejimeConfig.apps.reduce((r,u)=>{let x=r.find(Y=>Y.name===u.purposes[0]);return x||(x={name:u.purposes[0],title:this.translateService.instant(this.getPurposeTranslation(u.purposes[0])),apps:[]},r.push(x)),x.apps.push(u.name),r},[])}translate(r){return"string"==typeof r?this.translateService.instant(r):(Object.entries(r).forEach(([u,x])=>{r[u]=this.translate(x)}),r)}getSettingsForUser(r){const u=r.firstMetadataValue(IE);return(0,V.a4)(u)?JSON.parse(u):void 0}setSettingsForUser(r,u){(0,V.hj)(u)?r.setMetadata(IE,void 0,JSON.stringify(u)):r.removeMetadata(IE),this.ePersonService.createPatchFromCache(r).pipe((0,D.s)(1),(0,Li.n)(x=>(0,V.hj)(x)?this.ePersonService.patch(r,x):(0,Gn.of)(void 0))).subscribe()}restoreSettingsForUsers(r){this.cookieService.set(this.getStorageName(r.uuid),this.getSettingsForUser(r))}updateSettingsForUsers(r){r&&this.setSettingsForUser(r,this.cookieService.get(this.getStorageName(r.uuid)))}getStorageName(r){return"orejime-"+r}filterConfigApps(r){return this.orejimeConfig.categories.forEach(u=>{u.apps=u.apps.filter(x=>!r.some(Y=>Y===x))}),this.orejimeConfig.categories=this.orejimeConfig.categories.filter(u=>u.apps.length>0),this.orejimeConfig.apps.filter(u=>!r.some(x=>x===u.name))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(T.lc),e.KVO(K.c$),e.KVO(h.uR),e.KVO(Vw.EPersonDataService),e.KVO(_i.ConfigurationDataService),e.KVO(Hf.O),e.KVO(PE))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var TA=n(45615);let RE=(()=>{class d{constructor(r,u,x,Y,Te){this.googleAnalytics=r,this.googleGlobalSiteTag=u,this.orejimeService=x,this.configService=Y,this.document=Te}addTrackingIdToPage(){const r=this.configService.findByPropertyName("google.analytics.key").pipe((0,Ti.qD)()),u=this.orejimeService.getSavedPreferences();(0,Ns.z)([u,r]).subscribe(([x,Y])=>{if((0,V.Im)(x)||(0,V.Im)(x[g0])||!x[g0]||!Y.hasSucceeded)return;const Te=Y.payload.values[0];if(!(0,V.Im)(Te))if(this.isGTagVersion(Te)){const Pe=this.document.createElement("script");Pe.src=`https://www.googletagmanager.com/gtag/js?id=${Te}`,this.document.body.appendChild(Pe);const it=this.document.createElement("script");it.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${Te}');`,this.document.body.appendChild(it),this.googleGlobalSiteTag.startTracking()}else{const Pe=this.document.createElement("script");Pe.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${Te}', 'auto');`,this.document.body.appendChild(Pe),this.googleAnalytics.startTracking()}})}isGTagVersion(r){return r&&r.startsWith("G-")}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(ed.Z1),e.KVO(ed.RH),e.KVO(dd.B),e.KVO(_i.ConfigurationDataService),e.KVO(p.qQ))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var MA=n(95532);const CT=(0,e.zw6)("NGX_TRANSLATE_STATE");class SA{constructor(_,r,u,x){this.transferState=_,this.http=r,this.prefix=u,this.suffix=x}getTranslation(_){const u=this.transferState.get(CT,{})[_];return(0,V.a4)(u)?(0,Gn.of)(u):this.http.get(`${this.prefix}${_}${R.c.production?`.${{"ar.json5":"35fc12c526f208c01062ca7371e9b581","bn.json5":"3fdcc4244672b2e74fbbe67b44836d19","ca.json5":"329dfafb5c06ba67ac5bd79ffd4c332f","cs.json5":"486dbc8e16406c40ed48bf809c8ef096","de.json5":"276a5f8cd8954bb0f322eb3b6efd4025","el.json5":"0d4066b71bc25eb4aefa9c1a504161e7","en.json5":"c1578088847dc0416f9b265b73fd7ca5","es.json5":"cae8f1e3f2b602158a6737f1da06859f","fi.json5":"23c9cf46ef96f995fdfa533565cc177e","fr.json5":"3d464df82ac027d822becb9f67003f2c","gd.json5":"e347eb4a00a631522d0a9389e2dfcfcb","gu.json5":"04f477d79ec5126c8c2d68de2d16f59c","hi.json5":"3b5ca0032c3f6891f1263f00f8063e8d","hu.json5":"84ba6b1a694939ef0f8a87b6ed4bf138","it.json5":"c0ede066196b9b9aec08c1c9bd7738a1","ja.json5":"13100fedc18f00efe0b7a4a36b056688","kk.json5":"96d3b1492d00232da54237f9b0551616","lv.json5":"96c2fd233892db6da245ad007c314f9a","mr.json5":"5f7b7b5aa48ac8d0a5ec24b13e429972","nl.json5":"a8e7ca268575bfe085216e7feb641794","pl.json5":"bf215e490cc60fb3e36a40ca17188dd9","pt-BR.json5":"556bd9536bde7f94d42e68a2f6642e5e","pt-PT.json5":"68d6f6d81aa2aa5de25c3d46c317a529","ru.json5":"bb4e774fd6556241d852064c5777db16","sr-cyr.json5":"7a0ad735b70a69e9d80119ff7bb58468","sr-lat.json5":"eeda0cb9d8c599bb6396edacde6e8f55","sv.json5":"8e6b208232037797d5d2346904b30023","sw.json5":"13100fedc18f00efe0b7a4a36b056688","tr.json5":"9a15f3ce86d90fcc3d2b35b9ce469332","uk.json5":"29bd29ade9baeace0980225b557b4333","vi.json5":"7c0de0e6ddc97d5bd8861290b2e09da4"}[_+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,Sn.T)(Y=>JSON.parse(Y)))}}var AE=n(9350);function xE(d,_){const r="object"==typeof _;return new Promise((u,x)=>{let Te,Y=!1;d.subscribe({next:Pe=>{Te=Pe,Y=!0},error:x,complete:()=>{Y?u(Te):r?u(_.defaultValue):x(new AE.G)}})})}var IA=n(47707);var DT=n(92688);const Iv=d=>_=>_.pipe((0,Li.n)(r=>(0,V.a4)(r)?d.isAuthorized(Ds._.CanDownload,r.self).pipe((0,Sn.T)(u=>u?r:null)):(0,Gn.of)(null))),TT=(0,E.Mz)(yv.N,d=>d.metaTag),MT=(0,E.Mz)(TT,d=>d.tagsInUse);let OT=(()=>{class d{constructor(r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei){this.router=r,this.translate=u,this.meta=x,this.title=Y,this.dsoNameService=Te,this.bundleDataService=Pe,this.rootService=it,this.store=Rt,this.hardRedirectService=bn,this.appConfig=tn,this.authorizationService=ei,this.currentObject=new v.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,fo.p)(r=>r instanceof y.wF),(0,Sn.T)(()=>this.router.routerState.root),(0,Sn.T)(r=>({params:(r=this.getCurrentRoute(r)).params,data:r.data}))).subscribe(r=>{this.processRouteChange(r)})}processRouteChange(r){if(this.clearMetaTags(),(0,V.a4)(r.data.value.dso)&&(0,V.a4)(r.data.value.dso.payload)&&(this.currentObject.next(r.data.value.dso.payload),this.setDSOMetaTags()),r.data.value.title){const u=this.translate.get("repository.title.prefix"),x=this.translate.get(r.data.value.title,r.data.value);(0,Ns.z)([u,x]).pipe((0,D.s)(1)).subscribe(([Y,Te])=>{this.addMetaTag("title",Y+Te),this.title.setTitle(Y+Te)})}r.data.value.description&&this.translate.get(r.data.value.description).pipe((0,D.s)(1)).subscribe(u=>{this.addMetaTag("description",u)})}getCurrentRoute(r){for(;r.firstChild;)r=r.firstChild;return r}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationDoiTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const r=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",r),this.title.setTitle(r)}setDescriptionTag(){const r=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",r)}setCitationTitleTag(){const r=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",r)}setCitationAuthorTags(){const r=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",r)}setCitationPublicationDateTag(){const r=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",r)}setCitationISSNTag(){const r=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",r)}setCitationISBNTag(){const r=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",r)}setCitationLanguageTag(){const r=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",r)}setCitationDissertationNameTag(){const r=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",r)}setCitationPublisherTag(){const r=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",r):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",r):this.addMetaTag("citation_publisher",r)}setCitationKeywordsTag(){const r=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",r)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof za.q){let r=this.getMetaTagValue("dc.identifier.uri");(0,V.Tn)(r)&&(r=new gs.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",r)}}setCitationDoiTag(){if(this.currentObject.value instanceof za.q){const r=this.getMetaTagValue("dc.identifier.doi");(0,V.a4)(r)&&this.addMetaTag("citation_doi",r)}}setCitationPdfUrlTag(){this.currentObject.value instanceof za.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new Ey._,(0,rs.s)("primaryBitstream"),(0,rs.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,rs.s)("format"))).pipe((0,Ti.ak)(),(0,Li.n)(u=>u.primaryBitstream.pipe((0,Ti.qD)(),(0,Sn.T)(x=>(0,V.a4)(x.payload)?x.payload:null),Iv(this.authorizationService),(0,Sn.T)(x=>[u,x]))),(0,Li.n)(([u,x])=>(0,V.a4)(x)?[(0,Wi.hV)(x)]:u.bitstreams.pipe((0,Ti.qD)(),(0,Li.n)(Y=>(0,V.a4)(Y.payload)&&1===Y.payload.totalElements?this.getBitLinkIfDownloadable(Y.payload.page[0],Y):this.getFirstAllowedFormatBitstreamLink(Y)))),(0,D.s)(1)).subscribe(u=>{this.addMetaTag("citation_pdf_url",new gs.t(this.hardRedirectService.getCurrentOrigin(),u).toString())})}getBitLinkIfDownloadable(r,u){return(0,Gn.of)(r).pipe(Iv(this.authorizationService),(0,Li.n)(x=>(0,V.a4)(x)?[(0,Wi.hV)(x)]:this.getFirstAllowedFormatBitstreamLink(u)))}getFirstAllowedFormatBitstreamLink(r){return(0,V.a4)(r.payload)&&(0,V.hj)(r.payload.page)?(0,DT.x)(...r.payload.page.map(u=>u.format.pipe((0,Ti.ak)(),(0,Sn.T)(x=>[u,x])))).pipe((0,vr.Z)(([u,x])=>(0,Gn.of)(u).pipe(Iv(this.authorizationService),(0,Sn.T)(Y=>[Y,x]))),(0,fo.p)(([u,x])=>(0,V.a4)(x)&&(0,V.a4)(u)&&this.CITATION_PDF_URL_MIMETYPES.includes(x.mimetype)),(0,D.s)(1),(0,Sn.T)(([u,x])=>(0,Wi.hV)(u))):_r.w}setGenerator(){this.rootService.findRoot().pipe((0,Ti.ak)()).subscribe(r=>{this.meta.addTag({name:"Generator",content:r.dspaceVersion})})}hasType(r){return this.currentObject.value.hasMetadata("dc.type",{value:r,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(r){return this.currentObject.value.firstMetadataValue(r)}getFirstMetaTagValue(r){return this.currentObject.value.firstMetadataValue(r)}getMetaTagValuesAndCombine(r){return this.getMetaTagValues([r]).join("; ")}getMetaTagValues(r){return this.currentObject.value.allMetadataValues(r)}addMetaTag(r,u){u&&(this.meta.addTag({name:r,content:u}),this.storeTag(r))}addMetaTags(r,u){for(const x of u)this.addMetaTag(r,x)}storeTag(r){this.store.dispatch(new pA(r))}clearMetaTags(){this.store.pipe((0,E.Lt)(MT),(0,D.s)(1)).subscribe(r=>{for(const u of r)this.meta.removeTag("name='"+u+"'");this.store.dispatch(new qm)})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(y.Ix),e.KVO(K.c$),e.KVO(f.W8),e.KVO(f.hE),e.KVO(Mi.f),e.KVO(Eh.BundleDataService),e.KVO(eu.RootDataService),e.KVO(E.il),e.KVO(nf.$),e.KVO(mo.vQ),e.KVO(Lo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var ST=n(38248),Ww=n(78022),IT=n(60410),Gw=n(59997);const Kw=new Is.v("duplicate");var Hw=n(77356),zw=n(67716),Xw=n(49229),Yw=n(16811);const Jw=new Is.v("feedback");var Qw=n(46499),PT=n(23942),Zw=n(90762),qw=n(78397),RT=n(10129),AA=n(74942),tg=n(83286),Pv=n(35953),xA=n(24759),wA=n(32468),LA=n(80675),NA=n(81711),FA=n(39637),BA=n(7316),AT=n(45740);let Xc=class extends ud.I{static{this.type=new Is.v("correctiontype")}};(0,He.Cg)([fr.aK,Cn.autoserialize,(0,He.Sn)("design:type",Is.v)],Xc.prototype,"type",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xc.prototype,"id",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xc.prototype,"topic",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xc.prototype,"discoveryConfiguration",void 0),(0,He.Cg)([Cn.autoserialize,(0,He.Sn)("design:type",String)],Xc.prototype,"creationForm",void 0),(0,He.Cg)([Cn.deserialize,(0,He.Sn)("design:type",Object)],Xc.prototype,"_links",void 0),Xc=(0,He.Cg)([_s.gV],Xc);var UA=n(11082),xT=n(52526),jA=n(88827);const kA=new Map([[M0.value,()=>Promise.resolve().then(n.bind(n,11873)).then(d=>d.AuthorizationDataService)],[Pv.z.value,()=>Promise.resolve().then(n.bind(n,54009)).then(d=>d.BrowseDefinitionDataService)],[oc.XI.value,()=>n.e(3271).then(n.bind(n,63271)).then(d=>d.BulkAccessConfigDataService)],[PT.M.value,()=>n.e(3706).then(n.bind(n,51325)).then(d=>d.MetadataSchemaDataService)],[oc.V_.value,()=>n.e(9545).then(n.bind(n,99545)).then(d=>d.SubmissionUploadsConfigDataService)],[AA.e.value,()=>Promise.resolve().then(n.bind(n,4266)).then(d=>d.BitstreamDataService)],[oc.NS.value,()=>n.e(1271).then(n.bind(n,61271)).then(d=>d.SubmissionAccessesConfigDataService)],[zw.B.value,()=>Promise.resolve().then(n.bind(n,35659)).then(d=>d.SystemWideAlertDataService)],[AT.N.value,()=>n.e(2076).then(n.bind(n,98676)).then(d=>d.UsageReportDataService)],[F1.E.value,()=>n.e(3993).then(n.bind(n,86374)).then(d=>d.AccessStatusDataService)],[u_.n.value,()=>Promise.resolve().then(n.bind(n,69295)).then(d=>d.CollectionDataService)],[xT.a.value,()=>Promise.resolve().then(n.bind(n,25580)).then(d=>d.ClaimedTaskDataService)],[gd.mt.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[NA.N.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[V1.m.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[Hw.m.value,()=>Promise.resolve().then(n.bind(n,41947)).then(d=>d.SubscriptionsDataService)],[wA.G.value,()=>Promise.resolve().then(n.bind(n,30684)).then(d=>d.CommunityDataService)],[gd.Hx.value,()=>Promise.resolve().then(n.bind(n,37921)).then(d=>d.VocabularyDataService)],[xA.d.value,()=>Promise.resolve().then(n.bind(n,37419)).then(d=>d.BundleDataService)],[hS.value,()=>Promise.resolve().then(n.bind(n,94925)).then(d=>d.ConfigurationDataService)],[jA.T.value,()=>Promise.resolve().then(n.bind(n,31755)).then(d=>d.PoolTaskDataService)],[xT.a.value,()=>Promise.resolve().then(n.bind(n,25580)).then(d=>d.ClaimedTaskDataService)],[D_.T.value,()=>Promise.resolve().then(n.bind(n,99737)).then(d=>d.SupervisionOrderDataService)],[Yw.l.value,()=>Promise.resolve().then(n.bind(n,25645)).then(d=>d.WorkspaceitemDataService)],[Xw.z.value,()=>Promise.resolve().then(n.bind(n,80189)).then(d=>d.WorkflowItemDataService)],[gd.Hx.value,()=>Promise.resolve().then(n.bind(n,37921)).then(d=>d.VocabularyDataService)],[gd.cK.value,()=>Promise.resolve().then(n.bind(n,50475)).then(d=>d.VocabularyEntryDetailsDataService)],[N0.value,()=>n.e(9938).then(n.bind(n,9938)).then(d=>d.SubmissionCcLicenseUrlDataService)],[UA.Q.value,()=>n.e(6106).then(n.bind(n,6106)).then(d=>d.SubmissionCcLicenseDataService)],[AT.N.value,()=>n.e(2076).then(n.bind(n,98676)).then(d=>d.UsageReportDataService)],[RT.O.value,()=>n.e(3017).then(n.bind(n,33017)).then(d=>d.ResourcePolicyDataService)],[qw.T.value,()=>Promise.resolve().then(n.bind(n,89894)).then(d=>d.ResearcherProfileDataService)],[D0.value,()=>n.e(2076).then(n.bind(n,23619)).then(d=>d.OrcidQueueDataService)],[Jf.value,()=>n.e(2076).then(n.bind(n,27038)).then(d=>d.OrcidHistoryDataService)],[Jw.value,()=>n.e(2076).then(n.bind(n,44585)).then(d=>d.FeedbackDataService)],[G0.U.value,()=>Promise.resolve().then(n.bind(n,2086)).then(d=>d.GroupDataService)],[T0.N.value,()=>Promise.resolve().then(n.bind(n,13817)).then(d=>d.EPersonDataService)],[K1.f.value,()=>Promise.resolve().then(n.bind(n,14597)).then(d=>d.WorkflowActionDataService)],[x0.s.value,()=>Promise.resolve().then(n.bind(n,7164)).then(d=>d.VersionHistoryDataService)],[mp.value,()=>Promise.resolve().then(n.bind(n,45402)).then(d=>d.SiteDataService)],[b0.value,()=>Promise.resolve().then(n.bind(n,82923)).then(d=>d.RootDataService)],[BA.U.value,()=>Promise.resolve().then(n.bind(n,88392)).then(d=>d.RelationshipTypeDataService)],[FA.X.value,()=>Promise.resolve().then(n.bind(n,87433)).then(d=>d.RelationshipDataService)],[Gw.M.value,()=>Promise.resolve().then(n.bind(n,60696)).then(d=>d.ScriptDataService)],[IT.A.value,()=>n.e(2076).then(n.bind(n,96766)).then(d=>d.ProcessDataService)],[Qw.R.value,()=>n.e(7151).then(n.bind(n,87151)).then(d=>d.MetadataFieldDataService)],[Yf.U.value,()=>Promise.resolve().then(n.bind(n,61206)).then(d=>d.ItemDataService)],[cu.x.value,()=>Promise.resolve().then(n.bind(n,57439)).then(d=>d.VersionDataService)],[Xf.f.value,()=>n.e(2076).then(n.bind(n,77714)).then(d=>d.IdentifierDataService)],[Ya.value,()=>Promise.resolve().then(n.bind(n,11873)).then(d=>d.AuthorizationDataService)],[LA.X.value,()=>Promise.resolve().then(n.bind(n,98733)).then(d=>d.DSpaceObjectDataService)],[tg.a.value,()=>Promise.resolve().then(n.bind(n,32336)).then(d=>d.BitstreamFormatDataService)],[B1.value,()=>n.e(9832).then(n.bind(n,49832)).then(d=>d.CoarNotifyConfigDataService)],[dp.tc.value,()=>n.e(2076).then(n.bind(n,70518)).then(d=>d.LdnItemfiltersService)],[dp.zd.value,()=>Promise.resolve().then(n.bind(n,43374)).then(d=>d.LdnServicesService)],[Ww.g.value,()=>Promise.resolve().then(n.bind(n,12673)).then(d=>d.AdminNotifyMessagesService)],[oc.KX.value,()=>n.e(2384).then(n.bind(n,12384)).then(d=>d.SubmissionFormsConfigDataService)],[ZO.value,()=>n.e(284).then(n.bind(n,20284)).then(d=>d.NotifyRequestsStatusDataService)],[c_.value,()=>Promise.resolve().then(n.bind(n,78130)).then(d=>d.QualityAssuranceEventDataService)],[aS.value,()=>Promise.resolve().then(n.bind(n,20387)).then(d=>d.QualityAssuranceSourceDataService)],[lS.value,()=>Promise.resolve().then(n.bind(n,45688)).then(d=>d.QualityAssuranceTopicDataService)],[Zw.P.value,()=>Promise.resolve().then(n.bind(n,295)).then(d=>d.SuggestionDataService)],[cS.value,()=>n.e(8675).then(n.bind(n,8675)).then(d=>d.SuggestionSourceDataService)],[dS.value,()=>Promise.resolve().then(n.bind(n,64959)).then(d=>d.SuggestionTargetDataService)],[Kw.value,()=>Promise.resolve().then(n.bind(n,72947)).then(d=>d.SubmissionDuplicateDataService)],[Xc.type.value,()=>Promise.resolve().then(n.bind(n,23743)).then(d=>d.CorrectionTypeDataService)]]),Ih=(d,_)=>[d,_];function VA(d,_){if(1&d){const r=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("change",function(x){const Y=e.eBV(r).$implicit,Te=e.XpG();return e.Njj(Te.onCheckboxChange(x,Y))})("focus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.Y8G("hidden",r.hidden)("ngClass",u.getClass("element","control",r)),e.R7$(),e.Y8G("checked",r.checked)("formControlName",r.id)("id",u.getCheckboxId(r))("name",r.name)("required",r.required)("tabindex",r.tabIndex)("value",r.value),e.R7$(),e.Y8G("ngClass",u.getClass("element","label",r))("innerHTML",r.label,e.npT)}}function $A(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.model.prefix,e.npT)}}function WA(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("change",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(x))})("focus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("is-invalid",r.showErrorMessages),e.Y8G("autocomplete",r.model.autoComplete)("autofocus",r.model.autoFocus)("dynamicList",r.model.listId)("formControlName",r.model.id)("id",r.id)("maxlength",r.model.maxLength)("minlength",r.model.minLength)("name",r.model.name)("ngClass",r.getClass("element","control"))("pattern",r.model.pattern)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("required",r.model.required)("spellcheck",r.model.spellCheck)("tabindex",r.model.tabIndex)("type",r.model.inputType),e.BMQ("accept",r.model.accept)("max",r.model.max)("min",r.model.min)("multiple",r.model.multiple)("step",r.model.step)}}function GA(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("change",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(x))})("focus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("is-invalid",r.showErrorMessages),e.Y8G("autocomplete",r.model.autoComplete)("autofocus",r.model.autoFocus)("dynamicList",r.model.listId)("formControlName",r.model.id)("id",r.id)("maxlength",r.model.maxLength)("minlength",r.model.minLength)("name",r.model.name)("ngClass",r.getClass("element","control"))("pattern",r.model.pattern)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("required",r.model.required)("spellcheck",r.model.spellCheck)("tabindex",r.model.tabIndex)("mask",r.model.mask)("specialCharacters",null==r.model.maskConfig?null:r.model.maskConfig.specialCharacters)("patterns",null==r.model.maskConfig?null:r.model.maskConfig.patterns)("prefix",null==r.model.maskConfig?null:r.model.maskConfig.prefix)("suffix",null==r.model.maskConfig?null:r.model.maskConfig.suffix)("thousandSeparator",null==r.model.maskConfig?null:r.model.maskConfig.thousandSeparator)("decimalMarker",null==r.model.maskConfig?null:r.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==r.model.maskConfig?null:r.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==r.model.maskConfig?null:r.model.maskConfig.hiddenInput)("showMaskTyped",null==r.model.maskConfig?null:r.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==r.model.maskConfig?null:r.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==r.model.maskConfig?null:r.model.maskConfig.shownMaskExpression)("showTemplate",null==r.model.maskConfig?null:r.model.maskConfig.showTemplate)("clearIfNotMatch",r.model.maskConfig.clearIfNotMatch)("validation",r.model.maskConfig.validation)("separatorLimit",r.model.maskConfig.separatorLimit)("allowNegativeNumbers",r.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",r.model.maskConfig.leadZeroDateTime)("type",r.model.inputType),e.BMQ("accept",r.model.accept)("max",r.model.max)("min",r.model.min)("multiple",r.model.multiple)("step",r.model.step)}}function KA(d,_){if(1&d&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.model.suffix,e.npT)}}function HA(d,_){1&d&&e.nrm(0,"option",13),2&d&&e.Y8G("value",_.$implicit)}function wT(d,_){if(1&d&&(e.j41(0,"datalist",11),e.DNE(1,HA,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("id",r.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,r.model.list$))}}function wE(d,_){if(1&d&&e.nrm(0,"legend",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.model.legend,e.npT)}}function zA(d,_){if(1&d){const r=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("focus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.Y8G("ngClass",e.l_i(5,Ih,u.getClass("element","option"),u.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",r.disabled)("name",u.model.name)("value",r.value),e.R7$(),e.Y8G("innerHTML",r.label,e.npT)}}function XA(d,_){if(1&d&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&d){const r=_.$implicit;e.Y8G("disabled",r.disabled)("ngValue",r.value),e.R7$(),e.JRh(r.label)}}let ng=(()=>{class d extends Hi.S6A{constructor(r,u,x){super(r,u),this.layoutService=r,this.validationService=u,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK),e.rXU(G.I5))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(r,u){if(1&r&&e.GBs(G.yB,7),2&r){let x;e.mGM(x=e.lsd())&&(u.ngbCalendar=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(Y){return u.onChange(Y)}),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("displayMonths",u.model.getAdditional("displayMonths",u.config.displayMonths))("firstDayOfWeek",u.model.getAdditional("firstDayOfWeek",u.config.firstDayOfWeek))("formControlName",u.model.id)("id",u.id)("maxDate",u.model.max)("minDate",u.model.min)("navigation",u.model.getAdditional("navigation",u.config.navigation))("ngClass",u.getClass("element","control"))("outsideDays",u.model.getAdditional("outsideDays",u.config.outsideDays))("showWeekNumbers",u.model.getAdditional("showWeekNumbers",u.config.showWeekNumbers))("weekdays",u.model.getAdditional("showWeekdays",u.config.weekdays))("startDate",u.model.focusedDate))},dependencies:[p.YU,Xn.BC,Xn.cb,Xn.j4,Xn.JD,G.yB],encapsulation:2,changeDetection:0}),d})(),NT=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&r&&(e.AVh("disabled",u.model.disabled),e.Y8G("formGroup",u.group),e.R7$(2),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("checked",u.model.checked)("formControlName",u.model.id)("id",u.id)("indeterminate",u.model.indeterminate)("name",u.model.name)("ngClass",u.getClass("element","control"))("required",u.model.required)("tabindex",u.model.tabIndex)("value",u.model.value),e.R7$(),e.Y8G("innerHTML",u.model.label,e.npT)("ngClass",e.l_i(16,Ih,u.getClass("element","label"),u.getClass("grid","label"))))},dependencies:[p.YU,Xn.Zm,Xn.BC,Xn.cb,Xn.xq,Xn.j4,Xn.JD],encapsulation:2}),d})(),FE=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(r){return this.layoutService.getElementId(r)}onCheckboxChange(r,u){this.onChange(r),u.value=r.target.checked}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,VA,3,11,"label",2),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("formGroupName",u.model.id)("id",u.id)("ngClass",u.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",u.model.group))},dependencies:[p.YU,p.Sq,Xn.Zm,Xn.BC,Xn.cb,Xn.xq,Xn.j4,Xn.JD,Xn.$R,G.so,G.b7],encapsulation:2,changeDetection:0}),d})(),sx=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,u){if(1&r&&(e.j41(0,"div",1),e.DNE(1,$A,2,1,"div",2)(2,WA,1,23,"input",3)(3,GA,1,41,"ng-template",null,0,e.C5r)(5,KA,2,1,"div",4)(6,wT,3,4,"datalist",5),e.k0s()),2&r){const x=e.sdS(4);e.AVh("input-group",u.model.prefix||u.model.suffix),e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("ngIf",u.model.prefix),e.R7$(),e.Y8G("ngIf","file"===u.model.inputType)("ngIfElse",x),e.R7$(3),e.Y8G("ngIf",u.model.suffix),e.R7$(),e.Y8G("ngIf",u.model.hasList)}},dependencies:[p.YU,p.Sq,p.bT,Xn.xH,Xn.y7,Xn.me,Xn.BC,Xn.cb,Xn.YS,Xn.xh,Xn.tU,Xn.R_,Xn.j4,Xn.JD,Sg.I0,Hi.Vne,p.Jj],encapsulation:2}),d})(),FT=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(Y){return u.onChange(Y)}),e.DNE(2,wE,1,1,"legend",2)(3,zA,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("formControlName",u.model.id)("id",u.id)("ngClass",u.getClass("element","control"))("tabindex",u.model.tabIndex),e.R7$(),e.Y8G("ngIf",u.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,u.model.options$)))},dependencies:[p.YU,p.Sq,p.bT,Xn.BC,Xn.cb,Xn.j4,Xn.JD,G.so,G.M0,G.px,p.Jj],encapsulation:2,changeDetection:0}),d})(),BE=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.DNE(2,XA,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("compareWith",u.model.compareWithFn)("formControlName",u.model.id)("id",u.id)("name",u.model.name)("ngClass",u.getClass("element","control"))("required",u.model.required)("tabindex",u.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,u.model.options$)))},dependencies:[p.YU,p.Sq,Xn.xH,Xn.y7,Xn.wz,Xn.BC,Xn.cb,Xn.YS,Xn.j4,Xn.JD,p.Jj],encapsulation:2}),d})(),ig=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("cols",u.model.cols)("formControlName",u.model.id)("id",u.id)("maxlength",u.model.maxLength)("minlength",u.model.minLength)("name",u.model.name)("ngClass",u.getClass("element","control"))("placeholder",u.model.placeholder)("readonly",u.model.readOnly)("required",u.model.required)("rows",u.model.rows)("spellcheck",u.model.spellCheck)("tabindex",u.model.tabIndex)("wrap",u.model.wrap))},dependencies:[p.YU,Xn.me,Xn.BC,Xn.cb,Xn.YS,Xn.xh,Xn.tU,Xn.j4,Xn.JD],encapsulation:2}),d})(),sg=(()=>{class d extends Hi.S6A{constructor(r,u,x){super(r,u),this.layoutService=r,this.validationService=u,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK),e.rXU(G.Ng))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(r,u){if(1&r&&e.GBs(G.Pe,7),2&r){let x;e.mGM(x=e.lsd())&&(u.ngbTimePicker=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(r,u){1&r&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("id",u.id)("formControlName",u.model.id)("hourStep",u.model.getAdditional("hourStep",u.config.hourStep))("meridian",u.model.meridian)("minuteStep",u.model.getAdditional("minuteStep",u.config.minuteStep))("ngClass",u.getClass("element","control"))("seconds",u.model.showSeconds)("secondStep",u.model.getAdditional("secondStep",u.config.secondStep))("size",u.model.getAdditional("size",u.config.size))("spinners",u.model.getAdditional("spinners",u.config.spinners)))},dependencies:[p.YU,Xn.BC,Xn.cb,Xn.j4,Xn.JD,G.Pe],encapsulation:2,changeDetection:0}),d})();var Ph=n(11275),Rh=n(40031),lx=n(50808),UT=n(53195);n(55398);const cx=(d,_)=>[d,_];function UE(d,_){1&d&&e.eu8(0)}function dx(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(x){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onBlur(x))})("dfChange",function(x){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onChange(x))})("dfFocus",function(x){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onFocus(x))})("ngbEvent",function(x){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onCustomEvent(x,null,!0))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG().$implicit,x=e.XpG();e.AVh("d-none",r.hidden),e.Y8G("bindId",!1)("formGroup",x.group)("formModel",x.formModel)("context",u)("group",x.getControlOfGroup(u))("hidden",r.hidden)("layout",x.formLayout)("model",r)("templates",x.templates)("ngClass",e.l_i(12,cx,x.getClass("element","host",r),x.getClass("grid","host",r)))}}function kT(d,_){1&d&&e.eu8(0)}function jE(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(r);const x=e.sdS(1),Y=e.XpG();return e.Njj(Y.addInstructionMessageToLiveRegion(x))})("keydown.space",function(x){const Y=e.eBV(r),Te=Y.$index,Pe=Y.$count,it=e.sdS(1),Rt=e.XpG();return e.Njj(Rt.toggleKeyboardDragAndDrop(x,it,Te,Pe))})("keydown.enter",function(x){const Y=e.eBV(r),Te=Y.$index,Pe=Y.$count,it=e.sdS(1),Rt=e.XpG();return e.Njj(Rt.toggleKeyboardDragAndDrop(x,it,Te,Pe))})("keydown.tab",function(){const x=e.eBV(r),Y=x.$index,Te=x.$count,Pe=e.sdS(1),it=e.XpG();return e.Njj(it.stopKeyboardDragAndDrop(Pe,Y,Te))})("keydown.escape",function(){const x=e.eBV(r),Y=x.$index,Te=x.$count,Pe=e.sdS(1),it=e.XpG();return e.Njj(it.cancelKeyboardDragAndDrop(Pe,Y,Te))})("keydown.arrowUp",function(x){const Y=e.eBV(r),Te=Y.$index,Pe=Y.$count,it=e.XpG(),Rt=e.sdS(3);return e.Njj(it.handleArrowPress(x,Rt,Pe,Te,"up"))})("keydown.arrowDown",function(x){const Y=e.eBV(r),Te=Y.$index,Pe=Y.$count,it=e.XpG(),Rt=e.sdS(3);return e.Njj(it.handleArrowPress(x,Rt,Pe,Te,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,UE,1,0,"ng-container",9),e.Z7z(5,dx,1,15,"ds-dynamic-form-control-container",10,e.fX1),e.DNE(7,kT,1,0,"ng-container",9),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.AVh("grey-background",u.model.isInlineGroupArray),e.Y8G("formGroupName",r.index)("ngClass",e.l_i(14,cx,u.getClass("element","group"),u.getClass("grid","group")))("cdkDragDisabled",u.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",u.dragDisabled),e.R7$(),e.AVh("drag-disable",u.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==u.startTemplate?null:u.startTemplate.templateRef)("ngTemplateOutletContext",r),e.R7$(),e.Dyx(r.group),e.R7$(2),e.Y8G("ngTemplateOutlet",null==u.endTemplate?null:u.endTemplate.templateRef)("ngTemplateOutletContext",r)}}let VT=(()=>{class d extends Hi.mEL{constructor(r,u,x,Y){super(r,u),this.layoutService=r,this.validationService=u,this.liveRegionService=x,this.translateService=Y,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(r){if(r.previousIndex===r.currentIndex)return;this.model.moveGroup(r.previousIndex,r.currentIndex-r.previousIndex);const u=r.previousIndex,x=r.currentIndex;(0,V.a4)(this.model.groups[x])&&(0,V.a4)(this.control.controls[x])&&this.onCustomEvent({previousIndex:u,index:x,arrayModel:this.model,model:this.model.groups[x].group[0],control:this.control.controls[x]},"move")}update(r,u){const x=Object.assign({},r,{context:{index:u-1}});this.onChange(x)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(r){return r.hasOwnProperty("startingIndex")||(r.startingIndex=r.index),this.control.get([r.startingIndex])}toggleKeyboardDragAndDrop(r,u,x,Y){r.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(u,x,Y):(u.classList.add("sorting-with-keyboard"),this.elementBeingSorted=u,this.elementBeingSortedStartingIndex=x,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:u.querySelector("input")?.value,index:x+1,length:Y})))}stopKeyboardDragAndDrop(r,u,x){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:r.querySelector("input")?.value,index:u+1,length:x})))}handleArrowPress(r,u,x,Y,Te){let Pe="up"===Te?Y-1:Y+1;Pe<0?Pe=x-1:Pe>=x&&(Pe=0),this.elementBeingSorted?(this.model.moveGroup(Y,Pe-Y),(0,V.a4)(this.model.groups[Pe])&&(0,V.a4)(this.control.controls[Pe])&&(this.onCustomEvent({previousIndex:Y,newIndex:Pe,arrayModel:this.model,model:this.model.groups[Pe].group[0],control:this.control.controls[Pe]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Pe+1,length:x}))),r.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(u,Pe,Te)})):(r.preventDefault(),this.setFocusToDropListElementOfIndex(u,Pe,Te))}cancelKeyboardDragAndDrop(r,u,x){this.model.moveGroup(u,this.elementBeingSortedStartingIndex-u),(0,V.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,V.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:u,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(r,this.elementBeingSortedStartingIndex,x))}setFocusToDropListElementOfIndex(r,u,x){const Y=r.querySelectorAll("[cdkDragHandle]")[u];Y&&(Y.focus(),this.isElementInViewport(Y)||Y.scrollIntoView("up"===x))}isElementInViewport(r){const u=r.getBoundingClientRect();return u.top>=0&&u.left>=0&&u.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&u.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(r){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:r.querySelector("input")?.value})))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK),e.rXU(lx.A),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:9,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(u,x){if(1&u){const Y=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Pe){return e.eBV(Y),e.Njj(x.moveSelection(Pe))}),e.Z7z(5,jE,8,17,"div",5,e.fX1),e.k0s()(),e.bVm()}2&u&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("id",x.id)("formArrayName",x.model.id)("ngClass",x.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,7,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Dyx(x.model.groups))},dependencies:()=>[Rh.T1,Rh.Fb,Rh.O7,UT._,p.YU,p.T3,Xn.X1,Xn.cb,Xn.j4,Xn.$R,Xn.v8,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.cdk-drag[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return d})();var aL=n(17964);const og=(d,_)=>[d,_];let lL=(()=>{class d extends NT{constructor(r,u){super(r,u),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","form-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","form-check-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","form-check-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(u,x){1&u&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(Te){return x.onBlur(Te)})("change",function(Te){return x.onChange(Te)})("focus",function(Te){return x.onFocus(Te)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&u&&(e.AVh("disabled",x.model.disabled),e.Y8G("formGroup",x.group)("ngClass",x.getClass("element","container")),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("checked",x.model.checked)("id",x.id)("formControlName",x.model.id)("indeterminate",x.model.indeterminate)("name",x.model.name)("ngClass",x.getClass("element","control"))("required",x.model.required)("tabindex",x.model.tabIndex)("value",x.model.value),e.R7$(),e.Y8G("for",x.bindId&&x.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,x.model.label),e.npT)("ngClass",e.l_i(20,og,x.getClass("element","label"),x.getClass("grid","label"))))},dependencies:[p.YU,Xn.X1,Xn.Zm,Xn.BC,Xn.cb,Xn.xq,Xn.j4,Xn.JD,K.h,K.D9]})}}return d})();var ux=n(38941),kE=n(91836);function hx(d,_){if(1&d&&e.nrm(0,"i",5),2&d){const r=e.XpG();e.HbH(r.model.toggleIcon)}}function cL(d,_){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.model.toggleLabel)}}let dL=(()=>{class d extends Hi.S6A{constructor(r,u,x){super(r,u),this.layoutService=r,this.validationService=u,this.config=x,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK),e.rXU(G.I5))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(u,x){if(1&u&&e.GBs(G.yB,5),2&u){let Y;e.mGM(Y=e.lsd())&&(x.ngbDatePicker=Y.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class"],["aria-hidden","true"]],template:function(u,x){if(1&u){const Y=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Pe){return e.eBV(Y),e.Njj(x.onBlur(Pe))})("dateSelect",function(Pe){return e.eBV(Y),e.Njj(x.onChange(Pe))})("change",function(Pe){return e.eBV(Y),e.Njj(x.onChange(Pe))})("focus",function(Pe){return e.eBV(Y),e.Njj(x.onFocus(Pe))}),e.k0s(),e.j41(3,"button",3),e.bIt("click",function(){e.eBV(Y);const Pe=e.sdS(2);return e.Njj(Pe.toggle())}),e.DNE(4,hx,1,3,"i",4)(5,cL,2,1,"span"),e.k0s()()}2&u&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("displayMonths",x.model.getAdditional("displayMonths",x.config.displayMonths))("id",x.id)("firstDayOfWeek",x.model.getAdditional("firstDayOfWeek",x.config.firstDayOfWeek))("formControlName",x.model.id)("maxDate",x.model.max)("minDate",x.model.min)("name",x.model.name)("navigation",x.model.getAdditional("navigation",x.config.navigation))("ngClass",x.getClass("element","control"))("outsideDays",x.model.getAdditional("outsideDays",x.config.outsideDays))("placeholder",x.model.placeholder)("placement",x.model.getAdditional("placement","bottom-left"))("weekdays",x.model.getAdditional("showWeekdays",x.config.showWeekdays))("showWeekNumbers",x.model.getAdditional("showWeekNumbers",x.config.showWeekNumbers))("startDate",x.model.focusedDate),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(2),e.AVh("disabled",x.model.disabled),e.Y8G("dsBtnDisabled",x.model.disabled),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.vxM(x.model.toggleIcon?4:-1),e.R7$(),e.vxM(x.model.toggleLabel?5:-1))},dependencies:[Fm.A,G.IQ,G.cw,p.YU,Xn.X1,Xn.me,Xn.BC,Xn.cb,Xn.j4,Xn.JD],encapsulation:2})}}return d})();var px=n(23762);let fx=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(u,x){1&u&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&u&&(e.R7$(3),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.id)("name",x.model.name)("value",x.modelValuesString)("disabled",x.model.disabled)("type",x.model.inputType)("placeholder",e.bMT(4,9,x.model.placeholder))("readonly",x.model.readOnly))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();const $T=(d,_)=>[d,_];function uL(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("dfChange",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(x))})("dfFocus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))})("ngbEvent",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onCustomEvent(x,null,!0))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.AVh("d-none",r.hidden),e.Y8G("formGroup",u.group)("formModel",u.formModel)("group",u.control)("hasErrorMessaging",u.model.hasErrorMessages)("hidden",r.hidden)("layout",u.formLayout)("model",r)("templates",u.templates)("ngClass",e.l_i(11,$T,u.getClass("element","host",r),u.getClass("grid","host",r)))}}let mx=(()=>{class d extends Hi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.Z7z(3,uL,1,14,"ds-dynamic-form-control-container",3,e.fX1),e.k0s(),e.bVm(),e.k0s()),2&u&&(e.R7$(),e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("formGroupName",x.model.id)("id",x.id)("ngClass",x.getClass("element","control")),e.R7$(),e.Dyx(x.model.group))},dependencies:()=>[UT._,p.YU,Xn.X1,Xn.cb,Xn.j4,Xn.$R],encapsulation:2})}}return d})();var rg=n(73409),Ah=n(90306),ag=n(49838);function WT(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"input",6),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onBlur(x))})("change",function(x){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onChange(x))})("focus",function(x){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onFocus(x))}),e.k0s(),e.j41(2,"label",7),e.nrm(3,"span",8),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.R7$(),e.Y8G("checked",r.value)("id",r.id)("formControlName",r.id)("name",u.model.name)("value",r.value),e.BMQ("aria-labelledby","label_"+u.model.id)("tabindex",r.index),e.R7$(),e.AVh("disabled",u.model.disabled),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.control)("for",r.id),e.R7$(),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.label)("innerHTML",r.label,e.npT)}}function gx(d,_){if(1&d&&(e.j41(0,"div",4),e.Z7z(1,WT,4,13,"div",5,e.fX1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Dyx(r)}}function GT(d,_){if(1&d&&(e.j41(0,"div",1),e.Z7z(1,gx,3,0,"div",4,e.fX1),e.k0s()),2&d){const r=e.XpG();e.Y8G("id",r.id)("formGroupName",r.model.id)("ngClass",null==r.model.layout.element?null:r.model.layout.element.control),e.BMQ("tabindex",r.model.tabIndex),e.R7$(),e.Dyx(r.items)}}function Mu(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"input",10),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onBlur(x))})("focus",function(x){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onFocus(x))}),e.k0s(),e.j41(2,"label",7),e.nrm(3,"span",8),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.R7$(),e.Y8G("checked",r.value)("id",r.id)("name",u.model.id)("required",u.model.required)("value",r.index),e.R7$(),e.AVh("disabled",u.model.disabled),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.control)("for",r.id),e.R7$(),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.label)("innerHTML",r.label,e.npT)}}function KT(d,_){if(1&d&&(e.j41(0,"div",4),e.Z7z(1,Mu,4,11,"div",5,e.fX1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Dyx(r)}}function _x(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",9),e.bIt("change",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(x))}),e.Z7z(1,KT,3,0,"div",4,e.fX1),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("id",r.id)("ngClass",null==r.model.layout.element?null:r.model.layout.element.control),e.BMQ("tabindex",r.model.tabIndex),e.R7$(),e.Dyx(r.items)}}function hL(d,_){1&d&&(e.j41(0,"div",3),e.nrm(1,"ds-loading"),e.k0s())}let VE=(()=>{class d extends Hi.S6A{constructor(r,u,x,Y,Te){super(Y,Te),this.vocabularyService=r,this.cdr=u,this.formBuilderService=x,this.layoutService=Y,this.validationService=Te,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new v.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(r=>r.unsubscribe())}onBlur(r){this.blur.emit(r)}onFocus(r){this.focus.emit(r)}onChange(r){const u=r.target;if(this.model.repeatable){const x=this.optionsList[u.tabIndex];if(u.checked)this.model.valueUpdates.next(x);else{const Y=[];this.model.value.filter(Te=>Te.value!==x.value).forEach(Te=>Y.push(Te)),this.model.valueUpdates.next(Y)}}else this.model.value=this.optionsList[u.value];this.change.emit(r)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const r=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&r.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new rg.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(r)}}hasAtLeastOneVocabularyEntry(){return r=>r&&r.value&&Object.values(r.value).find(u=>!0===u)?null:this.model.errorMessages}setPaginationInfo(r){r.pageInfo.currentPage<r.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new rg.Q,r.pageInfo,{currentPage:r.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(r){(0,V.a4)(r)||(r=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,Ti.ak)(),(0,Vi.M)(u=>this.setPaginationInfo(u)),(0,Sn.T)(u=>u.page)).subscribe(u=>{this.optionsList=[...this.optionsList,...u];let x=this.items.length,Y=0,Te=[];u.forEach(Pe=>{const it=Pe.authority||Pe.value,Rt=(0,V.hj)(d0()(this.model.value,tn=>tn?.value===Pe.value)),bn={id:`${this.model.id}_${it}`,label:Pe.display,value:Rt,index:this.optionsList.indexOf(Pe)};this.model.repeatable?this.formBuilderService.addFormGroupControl(r,this.model,new Hi.M7d(bn)):this.model.options.push({label:bn.label,value:Pe}),Te.push(bn),Y++,this.items[x]=Te,Y===this.model.groupLength&&(x++,Y=0,Te=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Ah.g),e.rXU(e.gRc),e.rXU(ag.j),e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],[1,"row",3,"id","formGroupName","ngClass"],["ngbRadioGroup","",1,"row",3,"id","ngClass"],[1,"d-flex","justify-content-center"],[1,"col-sm"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"form-check-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"row",3,"change","id","ngClass"],["type","radio",1,"form-check-input",3,"blur","focus","checked","id","name","required","value"]],template:function(u,x){1&u&&(e.j41(0,"div",0),e.DNE(1,GT,3,4,"div",1)(2,_x,3,3,"div",2)(3,hL,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&u&&(e.Y8G("formGroup",x.group),e.R7$(),e.vxM(x.model.repeatable?1:-1),e.R7$(),e.vxM(x.model.repeatable?-1:2),e.R7$(),e.vxM(e.bMT(4,4,x.isLoading$)?3:-1))},dependencies:[p.Jj,G.Ll,G.M0,p.YU,Xn.X1,Xn.Zm,Xn.BC,Xn.cb,Xn.j4,Xn.JD,Xn.$R,Rp.v,K.h]})}}return d})();var vx=n(64370),$E=n(76486),yx=n(86820),HT=n(58956),zT=n(18902),Ex=n(48457),WE=n(95720),Cx=n(13059),XT=n(74994);const bx=()=>({}),pL=d=>({entry:d});function fL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",8)(1,"input",17),e.nI1(2,"translate"),e.mxI("ngModelChange",function(x){e.eBV(r);const Y=e.XpG();return e.DH7(Y.secondInputValue,x)||(Y.secondInputValue=x),e.Njj(x)}),e.bIt("change",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(x))})("blur",function(x){e.eBV(r);const Y=e.XpG(),Te=e.sdS(1);return Y.onBlur(x),x.stopPropagation(),e.Njj(Te.close())})("focus",function(x){e.eBV(r);const Y=e.XpG(),Te=e.sdS(1);return Y.onFocus(x),x.stopPropagation(),e.Njj(Te.close())})("click",function(x){e.eBV(r),e.XpG();const Y=e.sdS(1);return x.stopPropagation(),e.Njj(Y.close())}),e.k0s()()}if(2&d){const r=e.XpG();e.R7$(),e.AVh("is-invalid",r.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,bx))("id",r.id)("name",r.model.name+"_2")("type",r.model.inputType),e.R50("ngModel",r.secondInputValue),e.Y8G("disabled",0===r.firstInputValue.length||r.isInputDisabled())("placeholder",e.bMT(2,12,r.model.secondPlaceholder))("readonly",r.model.readOnly),e.BMQ("aria-labelledby","label_"+r.model.id)("autoComplete",r.model.autoComplete)}}function YT(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const x=e.XpG();return e.Njj(x.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",r.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function JT(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const x=e.XpG();return e.Njj(x.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",r.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function Dx(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const x=e.XpG();return e.Njj(x.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!r.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function Tx(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",19),e.bIt("click",function(x){e.eBV(r);const Y=e.XpG(),Te=e.sdS(1);return x.stopPropagation(),Y.clearFields(),e.Njj(Te.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function mL(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",20),e.bIt("click",function(x){const Y=e.eBV(r).$implicit,Te=e.XpG(),Pe=e.sdS(1);return x.stopPropagation(),Te.onSelect(Y),e.Njj(Pe.close())}),e.eu8(1,21),e.k0s()}if(2&d){const r=_.$implicit;e.XpG();const u=e.sdS(24),x=e.sdS(26);e.FS9("title",r.display),e.R7$(),e.Y8G("ngTemplateOutlet",r.hasOtherInformation()?u:x)("ngTemplateOutletContext",e.eq3(3,pL,r))}}function gL(d,_){1&d&&(e.j41(0,"div",16)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function _L(d,_){if(1&d&&(e.j41(0,"li",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+r.key)," : ",r.value," ")}}function vL(d,_){if(1&d&&(e.j41(0,"ul",22)(1,"li",23),e.EFF(2),e.k0s(),e.Z7z(3,_L,3,4,"li",24,e.fX1),e.nI1(5,"dsObjNgFor"),e.k0s()),2&d){const r=_.entry,u=e.XpG();e.BMQ("aria-labelledby","label_"+u.model.id),e.R7$(2),e.JRh(r.value),e.R7$(),e.Dyx(e.bMT(5,2,r.otherInformation))}}function yL(d,_){if(1&d&&(e.j41(0,"ul",22)(1,"li",23),e.EFF(2),e.k0s()()),2&d){const r=_.entry,u=e.XpG();e.BMQ("aria-labelledby","label_"+u.model.id),e.R7$(2),e.JRh(r.value)}}let GE=(()=>{class d extends Cx.o{constructor(r,u,x,Y){super(r,x,Y),this.vocabularyService=r,this.cdr=u,this.layoutService=x,this.validationService=Y,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(Te,Pe)=>1===Pe?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,V.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(r=>{(0,V.Im)(r)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,V.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,V.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof XT._}isSearchDisabled(){return(0,V.Im)(this.firstInputValue)||this.editMode}onChange(r){if(r.preventDefault(),!this.model.vocabularyOptions.closed)if((0,V.hj)(this.getCurrentValue())){const u=new WE.e(this.getCurrentValue());this.editMode||this.updateModel(u)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(r){this.updateModel(r)}openChange(r){r||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,V.hj)(this.getCurrentValue())){const r=Object.assign(new vp.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(r)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,Ti.ak)(),(0,Io.W)(()=>(0,Gn.of)((0,HT.g)(new rg.Q,[]))),(0,O.F)()).subscribe(r=>{this.optionsList=r.page,this.updatePageInfo(r.pageInfo.elementsPerPage,r.pageInfo.currentPage,r.pageInfo.totalElements,r.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(r,u){this.model.readOnly||(r.open(),this.search())}ngOnDestroy(){this.subs.filter(r=>(0,V.a4)(r)).forEach(r=>r.unsubscribe())}setCurrentValue(r,u=!1){u?this.getInitValueFromModel().subscribe(x=>this.setDisplayInputValue(x.display)):(0,V.a4)(r)&&(r instanceof WE.e||r instanceof vp.b)&&this.setDisplayInputValue(r.display)}setDisplayInputValue(r){if((0,V.a4)(r)){if(this.isLookupName()){const u=r.split(this.model.separator);this.firstInputValue=(u[0]||"").trim(),this.secondInputValue=(u[1]||"").trim()}else this.firstInputValue=r||"";this.cdr.detectChanges()}}getCurrentValue(){let r="";return this.isLookupName()?((0,V.hj)(this.firstInputValue)&&(r=this.firstInputValue),(0,V.hj)(this.secondInputValue)&&(r=(0,V.Im)(r)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):r=this.firstInputValue,r}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(r){this.group.markAsDirty(),this.dispatchUpdate(r),this.setCurrentValue(r),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Ah.g),e.rXU(e.gRc),e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:32,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pe-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],[1,"col"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","dsBtnDisabled"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["type","button",1,"dropdown-item","disabled"],["type","button",1,"dropdown-item","lookup-item",3,"title"],[1,"scrollable-dropdown-loading","text-center"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"]],template:function(u,x){if(1&u){const Y=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Pe){return e.eBV(Y),e.Njj(Pe.stopPropagation())})("openChange",function(Pe){return e.eBV(Y),e.Njj(x.openChange(Pe))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Pe){e.eBV(Y);const it=e.sdS(1);return e.Njj(x.whenClickOnConfidenceNotAccepted(it,Pe))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Pe){return e.eBV(Y),e.DH7(x.firstInputValue,Pe)||(x.firstInputValue=Pe),e.Njj(Pe)}),e.bIt("change",function(Pe){return e.eBV(Y),e.Njj(x.onChange(Pe))})("blur",function(Pe){e.eBV(Y);const it=e.sdS(1);return x.onBlur(Pe),Pe.stopPropagation(),e.Njj(it.close())})("focus",function(Pe){e.eBV(Y);const it=e.sdS(1);return x.onFocus(Pe),Pe.stopPropagation(),e.Njj(it.close())})("click",function(Pe){e.eBV(Y);const it=e.sdS(1);return Pe.stopPropagation(),Pe.stopPropagation(),e.Njj(it.close())}),e.k0s()(),e.DNE(7,fL,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Pe){return e.eBV(Y),e.sdS(1).open(),x.search(),e.Njj(Pe.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,YT,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,JT,4,7,"button",11)(16,Dx,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(Y),e.Njj(x.onScroll())}),e.DNE(19,Tx,3,3,"button",14),e.Z7z(20,mL,2,5,"button",15,e.fX1),e.DNE(22,gL,4,3,"div",16),e.k0s()()(),e.DNE(23,vL,6,4,"ng-template",null,1,e.C5r)(25,yL,3,2,"ng-template",null,2,e.C5r)}2&u&&(e.R7$(4),e.Y8G("authorityValue",x.model.value),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.model.id)("name",x.model.name)("type",x.model.inputType),e.R50("ngModel",x.firstInputValue),e.Y8G("disabled",x.isInputDisabled())("placeholder",e.bMT(6,26,x.model.placeholder))("readonly",x.model.readOnly),e.BMQ("aria-labelledby","label_"+x.model.id)("autoComplete",x.model.autoComplete),e.R7$(2),e.vxM(x.isLookupName()?7:-1),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,28,"form.search-help")),e.Y8G("dsBtnDisabled",x.model.readOnly||x.isSearchDisabled())("hidden",x.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,30,"form.search")," "),e.R7$(2),e.vxM(x.isInputDisabled()?13:-1),e.R7$(2),e.vxM(x.editMode?-1:15),e.R7$(),e.vxM(x.editMode?16:-1),e.R7$(),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.vxM(x.optionsList&&0===x.optionsList.length?19:-1),e.R7$(),e.Dyx(x.optionsList),e.R7$(2),e.vxM(x.loading?22:-1))},dependencies:[Ex.K,Fm.A,Xn.YN,Xn.me,Xn.BC,Xn.vS,yx.e,yx.D,G.zH,G.tg,G.E5,G.U0,G.n8,G.md,p.YU,p.T3,zT.U,K.h,K.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}div.col[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}"]})}}return d})();var Rv=n(86910),Mx=n(1622),Ox=n(83124),QT=n(83278),Yl=n.n(QT);const ZT=(0,Ce.hZ)("shrinkInOut",[(0,Ce.wk)("in",(0,Ce.iF)({height:"100%",opacity:1})),(0,Ce.kY)("* => void",[(0,Ce.iF)({height:"!",opacity:1}),(0,Ce.i0)(200,(0,Ce.iF)({height:0,opacity:0}))]),(0,Ce.kY)("void => *",[(0,Ce.iF)({height:0,opacity:0}),(0,Ce.i0)(200,(0,Ce.iF)({height:"*",opacity:1}))])]);var KE=n(94525),HE=n(48376),lg=n.n(HE),zE=n(59519),XE=n.n(zE),Av=n(14379);class Sx{constructor(_,r="display",u,x,Y){this.id=XE()(),this._item=_,this.fieldToDisplay=r,this.objToDisplay=u,this.setDisplayText(),this.editMode=Y||!1,this.icons=x||[]}set item(_){this._item=_}get item(){return this._item}isNestedItem(){return(0,V.hj)(this.item)&&Yl()(this.item)&&(0,V.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,V.hj)(this.icons)}hasVisibleIcons(){if((0,V.hj)(this.icons)){let _=!1;for(const r of this.icons)if(this._item.hasOwnProperty(r.metadata)&&("string"==typeof this._item[r.metadata]&&(0,V.a4)(this._item[r.metadata])||this._item[r.metadata].hasValue())&&!this.hasPlaceholder(this._item[r.metadata])&&(r.visibleWhenAuthorityEmpty||this._item[r.metadata].confidence!==Av.l.CF_UNSET)&&(0,V.hj)(r.style)){_=!0;break}return _}return!1}setEditMode(){this.editMode=!0}updateIcons(_){this.icons=_}updateItem(_){this._item=_,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let _=this._item;if(Yl()(this._item)){const r=this.objToDisplay?this._item[this.objToDisplay]:this._item;_=Yl()(r)&&r?r[this.fieldToDisplay]||r.value:r}this.display=_}hasPlaceholder(_){return"string"==typeof _?_===Ph.N:_.hasPlaceholder()}}class Ix{constructor(_=[],r="display",u,x){this.displayField=r,this.displayObj=u,this.iconsConfig=x||[],Array.isArray(_)&&this.setInitialItems(_)}add(_){const r=this.getChipsIcons(_),u=new Sx(_,this.displayField,this.displayObj,r),x=lg()(this._items,{display:u.display.trim()});(-1===x||!Yu()(_,this.getChipByIndex(x).item))&&(this._items.push(u),this.chipsItems.next(this._items))}getChipById(_){const r=lg()(this._items,{id:_});return this.getChipByIndex(r)}getChipByIndex(_){return this._items.length>0&&this._items[_]?this._items[_]:null}getChips(){return this._items}getChipsItems(){const _=[];return this._items.forEach(r=>{_.push(r.item)}),_}hasItems(){return this._items.length>0}hasPlaceholder(_){return Yl()(_)?_.value===Ph.N:_===Ph.N}remove(_){const r=lg()(this._items,{id:_.id});this._items.splice(r,1),this.chipsItems.next(this._items)}update(_,r){const u=this.getChipById(_),x=this.getChipsIcons(r);u.updateItem(r),u.updateIcons(x),u.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(_){const r=[];if("string"==typeof _||_ instanceof WE.e||_ instanceof vp.b)return r;const u=lg()(this.iconsConfig,{name:"default"}),x=-1!==u?this.iconsConfig[u]:void 0;let Y,Te,Pe;return Object.keys(_).forEach(it=>{Pe=_[it],Te=lg()(this.iconsConfig,{name:it}),Y=-1!==Te?this.iconsConfig[Te]:x,(0,V.a4)(Pe)&&(0,V.hj)(Y)&&!this.hasPlaceholder(Pe)&&r.push({metadata:it,visibleWhenAuthorityEmpty:this.displayObj!==it,style:Y.style})}),r}setInitialItems(_){this._items=[],_.forEach(r=>{const u=this.getChipsIcons(r),x=new Sx(r,this.displayField,this.displayObj,u);this._items.push(x)}),this.chipsItems=new v.t(this._items)}}const EL=["*"],qT=d=>({"chip-selected disabled":d});function Px(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.SpI(" ",r," ")}}function Rx(d,_){if(1&d&&e.Z7z(0,Px,2,1,"p",6,e.fX1),2&d){const r=e.XpG();e.Dyx(r.tipText)}}function Ax(d,_){if(1&d&&(e.j41(0,"i",9),e.EFF(1,"\xa0"),e.k0s()),2&d){const r=e.XpG().$implicit;e.Y8G("authorityValue",r.item)}}function xx(d,_){if(1&d){const r=e.RV6();e.j41(0,"i",13,1),e.bIt("mouseover",function(){const x=e.eBV(r).$implicit,Y=e.sdS(1),Te=e.XpG(2).$index,Pe=e.XpG();return e.Njj(Pe.showTooltip(Y,Te,x.metadata))})("mouseout",function(){e.eBV(r);const x=e.sdS(1);return e.Njj(x.close())}),e.k0s()}if(2&d){const r=_.$implicit,u=_.$index,x=_.$count,Y=e.XpG(2).$implicit;e.XpG();const Te=e.sdS(3);e.HbH(r.style),e.AVh("me-1",u!==x-1)("me-2",u===x-1),e.Y8G("ngbTooltip",Te)("authorityValue",Y.item[r.metadata]||Y.item)("visibleWhenAuthorityEmpty",r.visibleWhenAuthorityEmpty)}}function eM(d,_){if(1&d&&e.Z7z(0,xx,2,10,"i",12,e.fX1),2&d){const r=e.XpG().$implicit;e.Dyx(r.icons)}}function tM(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",7,1),e.bIt("mouseover",function(){const x=e.eBV(r).$index,Y=e.sdS(1),Te=e.XpG();return e.Njj(Te.showTooltip(Y,x))})("mouseout",function(){e.eBV(r);const x=e.sdS(1);return e.Njj(x.close())}),e.j41(2,"a",8),e.bIt("cdkDragStarted",function(){const x=e.eBV(r).$index,Y=e.XpG();return e.Njj(Y.onDrag(x))})("click",function(x){const Y=e.eBV(r).$index,Te=e.XpG();return e.Njj(Te.chipsSelected(x,Y))}),e.j41(3,"span"),e.DNE(4,Ax,2,1,"i",9)(5,eM,2,0),e.j41(6,"p",10),e.EFF(7),e.k0s(),e.j41(8,"i",11),e.nI1(9,"translate"),e.bIt("click",function(x){const Y=e.eBV(r).$index,Te=e.XpG();return e.Njj(Te.removeChips(x,Y))}),e.k0s()()()()}if(2&d){const r=_.$implicit,u=_.$index,x=e.XpG(),Y=e.sdS(3);e.Y8G("ngbTooltip",Y),e.R7$(2),e.Y8G("ngClass",e.eq3(8,qT,x.editable&&r.editMode||x.dragged===u)),e.R7$(2),e.vxM(x.showIcons&&!r.isNestedItem()?4:-1),e.R7$(),e.vxM(x.showIcons&&r.hasVisibleIcons()?5:-1),e.R7$(2),e.JRh(r.display),e.R7$(),e.Y8G("title",e.bMT(9,6,"chips.remove"))}}let YE=(()=>{class d{constructor(r,u){this.cdr=r,this.translate=u,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new v.t(!1),this.dragged=-1}ngOnChanges(r){r.chips&&!r.chips.isFirstChange()&&(this.chips=r.chips.currentValue)}chipsSelected(r,u){r.preventDefault(),this.editable&&(this.chips.getChips().forEach((x,Y)=>{Y===u?x.setEditMode():x.unsetEditMode()}),this.selected.emit(u))}removeChips(r,u){r.preventDefault(),r.stopPropagation(),this.chips.getChipByIndex(u).editMode||this.chips.remove(this.chips.getChipByIndex(u))}onDrag(r){this.isDragging.next(!0),this.dragged=r}onDrop(r){(0,Rh.HD)(this.chips.chipsItems.getValue(),r.previousIndex,r.currentIndex),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(r,u,x){if(r.close(),this.isDragging.value)return;const Y=this.chips.getChipByIndex(u),Te=[];!Y.editMode&&-1===this.dragged&&(x?Yl()(Y.item[x])?(Te.push(Y.item[x].display),Y.item[x].hasOtherInformation()&&Object.keys(Y.item[x].otherInformation).forEach(Pe=>{this.translate.get("form.other-information."+Pe).subscribe(it=>{Te.push(it+": "+Y.item[x].otherInformation[Pe])})})):Te.push(Y.item[x]):Te.push(Y.display),this.cdr.detectChanges(),(!Y.hasIcons()||!Y.hasVisibleIcons()||x)&&(this.tipText=Te,r.open()))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.gRc),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:EL,decls:9,vars:5,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"cdkDropListDropped"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"ngbTooltip"],[1,"flex-grow-1"],[1,"text-start","p-0","m-0"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"mouseover","mouseout","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ms-2",3,"click","title"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","me-1","me-2","authorityValue","visibleWhenAuthorityEmpty"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(u,x){if(1&u){const Y=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3),e.bIt("cdkDropListDropped",function(Pe){return e.eBV(Y),e.Njj(x.onDrop(Pe))}),e.DNE(2,Rx,2,0,"ng-template",null,0,e.C5r),e.Z7z(4,tM,10,10,"div",4,e.fX1),e.j41(6,"div",5),e.nI1(7,"async"),e.SdG(8),e.k0s()()()}2&u&&(e.Y8G("className","float-start w-100 "+x.wrapperClass),e.R7$(4),e.Dyx(x.chips.getChips()),e.R7$(2),e.AVh("chips-sort-ignore",e.bMT(7,3,x.isDragging)))},dependencies:[p.Jj,Ex.K,Rh.T1,Rh.O7,G.n8,G.md,p.YU,K.h,K.D9],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return d})();var wx=n(86332),Lx=n(70338);n(14166);const JE=["formRef"],CL=(d,_)=>({"border-top":d,"border border-danger":_});function nM(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",1),e.nI1(1,"translate"),e.j41(2,"span",7),e.bIt("click",function(){e.eBV(r);const x=e.XpG();return e.Njj(x.collapseForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function QE(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",1),e.nI1(1,"translate"),e.j41(2,"span",8),e.bIt("click",function(){e.eBV(r);const x=e.XpG();return e.Njj(x.expandForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function Fx(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",10)(1,"button",12),e.bIt("click",function(){e.eBV(r);const x=e.XpG(2);return e.Njj(x.save())}),e.nrm(2,"i",13),e.k0s(),e.j41(3,"button",12),e.bIt("click",function(){e.eBV(r);const x=e.XpG(2);return e.Njj(x.delete())}),e.nrm(4,"i",14),e.k0s(),e.j41(5,"button",12),e.bIt("click",function(){e.eBV(r);const x=e.XpG(2);return e.Njj(x.clear())}),e.nrm(6,"i",15),e.k0s()()}if(2&d){const r=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",r.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!r.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",r.isMandatoryFieldEmpty())}}function Bx(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",3)(1,"ds-form",9,0),e.bIt("dfBlur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("dfFocus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))}),e.k0s(),e.DNE(3,Fx,7,3,"div",10),e.nI1(4,"async"),e.nrm(5,"div",11),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",r.formId)("formModel",r.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.vxM(!0!==e.bMT(4,7,r.formCollapsed)?3:-1)}}function bL(d,_){1&d&&e.nrm(0,"ds-loading",5),2&d&&e.Y8G("showMessage",!1)}function DL(d,_){1&d&&(e.j41(0,"div"),e.nrm(1,"input",16),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function TL(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-chips",17),e.bIt("selected",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChipSelected(x))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("chips",r.chips)("editable",!0)("showIcons",!0)}}let ML=(()=>{class d extends Hi.S6A{constructor(r,u,x,Y,Te,Pe){super(Te,Pe),this.vocabularyService=r,this.formBuilderService=u,this.formService=x,this.cdr=Y,this.layoutService=Te,this.validationService=Pe,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Gn.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const r={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Gn.of)(!0)),this.model.valueChanges.subscribe(u=>{!(0,V.hj)(u)||1===u.length&&(0,KE.Zb)(u[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,r,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let r=!0;return this.formModel.forEach(u=>{u.group.forEach(Y=>{Y.name!==this.model.mandatoryField||(r=null==Y.value)})}),r}onBlur(r){this.blur.emit()}onChipSelected(r){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(r),this.formModel.forEach(u=>{u.group.forEach(Y=>{const Te=this.selectedChipItem.item[Y.name]===Ph.N||this.selectedChipItem.item[Y.name].value===Ph.N?null:this.selectedChipItem.item[Y.name],Pe=this.formBuilderService.isInputModel(Y)&&(0,V.Pe)(Te)&&"string"!=typeof Te?Te.value:Te;Y.value=Pe})}),this.editMode=!0}onFocus(r){this.focus.emit(r)}collapseForm(){this.formCollapsed=(0,Gn.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Gn.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Gn.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(r=>(0,V.a4)(r)).forEach(r=>r.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const r=this.buildChipItem();this.chips.add(r),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const r=this.buildChipItem();this.chips.update(this.selectedChipItem.id,r),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const r=Object.create({});return this.formModel.forEach(u=>{u.group.forEach(Y=>{r[Y.name]=Y.value||Ph.N})}),r}initChipsFromModelValue(){let r;this.model.isEmpty()?this.initChips([]):(r=(0,Gn.of)(this.model.value),this.subs.push(r.pipe((0,vr.Z)(u=>{const x=[];return u.forEach(Y=>{const Te=Object.keys(Y).map(Pe=>{let it;if(Yl()(Y[Pe])&&Y[Pe].hasAuthority()&&(0,V.hj)(Y[Pe].authority)){const Rt=Pe.replace(/\./g,"_"),bn=this.formBuilderService.findById(Rt,this.formModel);it=this.vocabularyService.findEntryDetailById(Y[Pe].authority,bn.vocabularyOptions.name).pipe((0,Ti.ak)(),(0,Sn.T)(tn=>Object.assign(new WE.e,Y[Pe],{otherInformation:tn.otherInformation})))}else it=(0,Gn.of)(Y[Pe]);return it.pipe((0,Sn.T)(Rt=>({[Pe]:Rt})))});x.push((0,Ns.z)(Te))}),x}),(0,vr.Z)((u,x)=>u.pipe((0,Sn.T)(Y=>({index:x,value:Y.reduce((Te,Pe)=>Object.assign({},Te,Pe))})))),(0,x1.S)((u,x)=>(0===u.length?u.push(x.value):u.splice(x.index,0,x.value),u),[]),(0,fo.p)(u=>this.model.value.length===u.length)).subscribe(u=>{this.model.value=u,this.initChips(u),this.cdr.markForCheck()})))}initChips(r){this.chips=new Ix(r,"value",this.model.mandatoryField,R.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const u=this.chips.getChipsItems();Yu()(u,this.model.value)||(0,V.Im)(u)&&this.model.isEmpty()||(this.model.value=u,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Ah.g),e.rXU(ag.j),e.rXU(Lx.u),e.rXU(e.gRc),e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(u,x){if(1&u&&e.GBs(JE,5),2&u){let Y;e.mGM(Y=e.lsd())&&(x.formRef=Y.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],[1,"pt-2",3,"ngClass"],[1,"ps-2","row"],[1,"d-flex"],[3,"showMessage"],[3,"chips","editable","showIcons"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","ps-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],[1,"clearfix"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","link-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","link-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","ps-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(u,x){1&u&&(e.DNE(0,nM,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,QE,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,Bx,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,bL,1,1,"ds-loading",5)(9,DL,3,3,"div")(10,TL,1,3,"ds-chips",6),e.k0s()()),2&u&&(e.vxM(!0!==e.bMT(1,7,x.formCollapsed)?0:-1),e.R7$(2),e.vxM(e.bMT(3,9,x.formCollapsed)?2:-1),e.R7$(2),e.Y8G("ngClass",e.l_i(13,CL,!x.showErrorMessages,x.showErrorMessages)),e.R7$(),e.vxM(!0!==e.bMT(6,11,x.formCollapsed)?5:-1),e.R7$(3),e.vxM(x.chips?-1:8),e.R7$(),e.vxM(x.chips&&!x.chips.hasItems()?9:-1),e.R7$(),e.vxM(x.chips&&x.chips.hasItems()?10:-1))},dependencies:()=>[p.Jj,Fm.A,YE,wx.s,G.n8,G.md,p.YU,Rp.v,K.h,K.D9],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[ZT]}})}}return d})();var OL=n(18190),ea=n(8428),cg=n(70152),xv=n(1716),wv=n(78504);const iM=["instance"];function SL(d,_){1&d&&e.EFF(0),2&d&&e.SpI(" ",_.result.display,"\n")}function Ux(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(x){e.eBV(r);const Y=e.XpG();return e.DH7(Y.currentValue,x)||(Y.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("keypress",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(x))})("keydown",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(x))})("keyup",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onKeyUp(x))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("ps-3",r.chips.hasItems()),e.Y8G("placeholder",r.model.placeholder)("readonly",r.model.readOnly),e.R50("ngModel",r.currentValue)}}function IL(d,_){1&d&&e.nrm(0,"i",6)}function PL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",4),e.DNE(1,IL,1,0,"i",6),e.j41(2,"input",7,1),e.mxI("ngModelChange",function(x){e.eBV(r);const Y=e.XpG();return e.DH7(Y.currentValue,x)||(Y.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(x))})("focus",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(x))})("change",function(x){return e.eBV(r),e.Njj(x.stopPropagation())})("input",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onInput(x))})("selectItem",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onSelectItem(x))})("keypress",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(x))})("keydown",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(x))})("keyup",function(x){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onKeyUp(x))}),e.k0s()()}if(2&d){const r=e.XpG(),u=e.sdS(1);e.R7$(),e.vxM(r.searching?1:-1),e.R7$(),e.AVh("is-invalid",r.showErrorMessages)("ps-3",r.chips.hasItems()),e.R50("ngModel",r.currentValue),e.Y8G("id",r.id)("inputFormatter",r.formatter)("name",r.model.name)("ngbTypeahead",r.search)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("resultTemplate",u)("type",r.model.inputType),e.BMQ("aria-labelledby","label_"+r.model.id)("autoComplete",r.model.autoComplete)}}let ZE=(()=>{class d extends Cx.o{constructor(r,u,x,Y){super(r,x,Y),this.vocabularyService=r,this.cdr=u,this.layoutService=x,this.validationService=Y,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new qi.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=Te=>Te.display,this.search=Te=>Te.pipe((0,cg.B)(300),(0,O.F)(),(0,Vi.M)(()=>this.changeSearchingStatus(!0)),(0,Li.n)(Pe=>""===Pe||Pe.length<this.model.minChars?(0,Gn.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Pe,!1,this.model.vocabularyOptions,new rg.Q).pipe((0,Ti.ak)(),(0,Vi.M)(()=>this.searchFailed=!1),(0,Io.W)(()=>(this.searchFailed=!0,(0,Gn.of)((0,HT.g)(new rg.Q,[])))))),(0,Sn.T)(Pe=>Pe.page),(0,Sn.T)(Pe=>{if(Pe&&Pe.length>0&&(0,V.hj)(this.currentValue)){const it=new vp.b;it.display=this.currentValue,it.value=this.currentValue,Pe.push(it)}return Pe}),(0,Vi.M)(()=>this.changeSearchingStatus(!1)),(0,xv.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name),this.chips=new Ix(this.model.value,"display",null,R.c.submission.icons.metadata),this.chips.chipsItems.subscribe(r=>{const u=this.chips.getChipsItems();Yu()(u,this.model.value)||this.dispatchUpdate(u)})}changeSearchingStatus(r){this.searching=r,this.cdr.detectChanges()}onInput(r){r.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(r){(0,V.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(r)}onSelectItem(r){this.chips.add(r.item),this.updateModel(r),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(r){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(r){(13===r.keyCode||188===r.keyCode)&&(r.preventDefault(),this.addTagsToChips(),r.stopPropagation())}preventEventsPropagation(r){r.stopPropagation(),13===r.keyCode&&r.preventDefault()}setCurrentValue(r,u=!1){this.currentValue=r}addTagsToChips(){if((0,V.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let r=[];r=this.currentValue.split(",");const u=[];r.forEach(x=>{x.split(";").forEach(Y=>{u.push(Y)})}),u.forEach(x=>{(x=x.trim()).length>0&&this.chips.add(x)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Ah.g),e.rXU(e.gRc),e.rXU(Hi.fpj),e.rXU(Hi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-tag"]],viewQuery:function(u,x){if(1&u&&e.GBs(iM,5),2&u){let Y;e.mGM(Y=e.lsd())&&(x.instance=Y.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ps-3","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"]],template:function(u,x){1&u&&(e.DNE(0,SL,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,Ux,1,5,"input",3)(4,PL,4,16,"div",4),e.k0s()),2&u&&(e.R7$(2),e.Y8G("chips",x.chips)("editable",!1)("showIcons",x.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.vxM(x.model.hasAuthority?-1:3),e.R7$(),e.vxM(x.model.hasAuthority?4:-1))},dependencies:[YE,Xn.YN,Xn.me,Xn.BC,Xn.vS,G.h_,G.$n],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return d})();function jx(d){const _=d;switch(d.type){case Hi.WlY:return VT;case Hi.eU4:return NT;case Hi.W25:return d instanceof vx.R?VE:FE;case Hi.fQD:return _.inline?ng:dL;case Hi.wnr:return mx;case Hi.FlA:return sx;case Hi.KMD:return d instanceof $E.t?VE:FT;case Hi.PTN:return BE;case Hi.TwG:return ig;case Hi.CTm:return sg;case Ox.m:return Mx.d;case ea.W:return OL.s;case wv.v:return ZE;case Ph.T:return ML;case kE.s:return ux.P;case Rv.d:case XT.V:return GE;case px.v:return fx;case aL.L:return lL;default:return null}}let qE=(()=>{class d{constructor(r,u,x){this.providers=r,this.menuService=u,this.router=x}waitForMenu$(r){return this.menuService.getMenu(r).pipe((0,Sp.I)(u=>(0,V.a4)(u)),(0,Sn.T)(()=>!0))}listenForRouteChanges(r){this.router.events.pipe((0,fo.p)(u=>u instanceof y.gx),(0,Li.n)(u=>{const x=this.getCurrentRoute(u.state.root);return this.resolveRouteMenus(x,u.state,r)})).subscribe()}getCurrentRoute(r){for(;r.firstChild;)r=r.firstChild;return r}initPersistentMenus(r){(0,Ns.z)([...this.providers.map(u=>u).filter(u=>!(r&&u.renderBrowserOnly)).filter(u=>u.shouldPersistOnRouteChange).map(u=>u.getSections().pipe((0,Sn.T)(x=>({provider:u,sections:x}))))]).pipe((0,Li.n)(u=>[u.map((Y,Te)=>(Y.sections.forEach((Pe,it)=>{this.addSection(Y.provider,Pe,it)}),this.waitForMenu$(Y.provider.menuID)))]),(0,Sn.T)(u=>u.every(Boolean)),(0,D.s)(1)).subscribe()}resolveRouteMenus(r,u,x){const Y=(0,Ns.z)([...Object.values(ll.D).map(Pe=>this.menuService.getNonPersistentMenuSections(Pe).pipe((0,D.s)(1),(0,Sn.T)(it=>({menuId:Pe,sections:it}))))]),Te=(0,Ns.z)([...this.providers.filter(Pe=>!(x&&Pe.renderBrowserOnly)).filter(Pe=>{let it=!1;return!Pe.shouldPersistOnRouteChange&&(0,V.hj)(Pe.activePaths)?Pe.activePaths.forEach(Rt=>{r.data.menuRoute===Rt&&(it=!0)}):Pe.shouldPersistOnRouteChange||(it=!0),it}).map(Pe=>Pe.getSections(r,u).pipe((0,Sn.T)(it=>({provider:Pe,sections:it}))))]);return(0,Ns.z)([Y,Te]).pipe((0,Li.n)(([Pe,it])=>(this.removeNonPersistentSections(Pe),[it.map(bn=>(bn.sections.forEach((tn,ei)=>{this.addSection(bn.provider,tn,ei)}),this.waitForMenu$(bn.provider.menuID)))])),(0,Sn.T)(Pe=>Pe.every(Boolean)))}addSection(r,u,x){this.menuService.addSection(r.menuID,{...u,id:u.id??`${r.menuProviderId}_${x}`,parentID:u.parentID??r.parentID,index:r.index,active:u.active??!1,shouldPersistOnRouteChange:u.shouldPersistOnRouteChange??r.shouldPersistOnRouteChange,alwaysRenderExpandable:u.alwaysRenderExpandable??r.alwaysRenderExpandable})}removeNonPersistentSections(r){r.forEach(u=>{u.sections.forEach(x=>{this.menuService.removeSection(u.menuId,x.id)})})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Gl,8),e.KVO(zd.$),e.KVO(y.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var sM=n(74642);class oM extends _v.Qf{getResponseParser(){return sM.M}}let rM=(()=>{class d{constructor(r,u){this.requestService=r,this.halService=u}sendEvent(r,u){const x=this.requestService.generateRequestId();this.halService.getEndpoint(r).pipe((0,Sn.T)(Y=>new oM(x,Y,JSON.stringify(u))),(0,D.s)(1)).subscribe(Y=>this.requestService.send(Y))}trackViewEvent(r,u){this.sendEvent("/statistics/viewevents",{targetId:r.uuid,targetType:r.type,referrer:u})}trackSearchEvent(r,u,x,Y,Te){const Pe={query:r.query,page:{size:u.size,totalElements:u.totalElements,totalPages:u.totalPages,number:u.number},sort:{by:x.by,order:x.order.toLowerCase()}};if((0,V.a4)(r.configuration)&&Object.assign(Pe,{configuration:r.configuration}),(0,V.hj)(r.dsoTypes)&&Object.assign(Pe,{dsoType:r.dsoTypes[0].toLowerCase()}),(0,V.a4)(r.scope)&&Object.assign(Pe,{scope:r.scope}),(0,V.hj)(Y)){const it=[];for(let Rt=0,bn=Y.length;Rt<bn;Rt++){const tn=Y[Rt];it.push({filter:tn.filter,operator:tn.operator,value:tn.value,label:tn.label})}Object.assign(Pe,{appliedFilters:it})}(0,V.a4)(Te)&&Object.assign(Pe,{clickedObject:Te}),this.sendEvent("/statistics/searchevents",Pe)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Ka.B),e.KVO(sv.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),aM=(()=>{class d{constructor(r,u){this.angulartics2=r,this.statisticsService=u}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(r=>this.eventTrack(r))}eventTrack(r){"page_view"===r.action?this.statisticsService.trackViewEvent(r.properties.object,r.properties.referrer):"search"===r.action&&this.statisticsService.trackSearchEvent(r.properties.searchOptions,r.properties.page,r.properties.sort,r.properties.filters,r.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(ed.il),e.KVO(rM))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var dg;let rf=class{static{dg=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(_,r,u,x,Y,Te,Pe,it,Rt,bn,tn){this.store=_,this.correlationIdService=r,this.appConfig=u,this.translate=x,this.localeService=Y,this.angulartics2DSpace=Te,this.headTagService=Pe,this.breadcrumbsService=it,this.themeService=Rt,this.menuService=bn,this.menuProviderService=tn}static providers(){if(!dg.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:dg,useClass:this},{provide:mo.vQ,useFactory:_=>(this.resolveAppConfig(_),R.c),deps:[e.pJN]},{provide:e.hnV,useFactory:_=>_.init(),deps:[dg],multi:!0},{provide:mo.l9,useValue:kA},{provide:Hi.Fdw,useValue:jx}]}static resolveAppConfig(_){}checkAuthenticationToken(){this.store.dispatch(new z.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!Yu()(R.c,this.appConfig))throw new Error("environment does not match app config!");R.c.debug&&console.info(R.c)}initI18n(){this.translate.addLangs(R.c.languages.filter(_=>!0===_.active).map(_=>_.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,E.Lt)(S.Gv),(0,O.F)(),(0,Sp.I)(_=>!1===_))}};rf=dg=(0,He.Cg)([(0,He.Qj)(2,(0,e.y_5)(mo.vQ)),(0,He.Sn)("design:paramtypes",[E.il,sc,Object,K.c$,lp.iH,aM,OT,ST.E,ne.Fs,zd.$,qE])],rf);var kx=n(10878);class lM{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[Hm.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:kx.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"gu",label:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"mr",label:"\u092e\u0930\u093e\u0920\u0940",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"ru",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5,showAccessStatuses:!1}},this.community={defaultBrowseTab:"search",searchSection:{showSidebar:!0}},this.collection={defaultBrowseTab:"search",searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0,enableCookieConsentPopup:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1},this.matomo={},this.geospatialMapViewer={spatialMetadataFields:["dcterms.spatial"],spatialFacetDiscoveryConfiguration:"geospatial",spatialPointFilterName:"point",enableItemPageFields:!1,enableSearchViewMode:!1,enableBrowseMap:!1,tileProviders:["OpenStreetMap.Mapnik"],defaultCentrePoint:{lat:41.015137,lng:28.97953}},this.accessibility={cookieExpirationDuration:7}}}let Lv=(()=>{class d extends rf{constructor(r,u,x,Y,Te,Pe,it,Rt,bn,tn,ei,ri,zn,Zn,Xi,Es,Gi,Cs,Ps,jr){super(r,u,Y,Te,Pe,it,bn,tn,zn,Zn,jr),this.store=r,this.correlationIdService=u,this.transferState=x,this.appConfig=Y,this.translate=Te,this.localeService=Pe,this.angulartics2DSpace=it,this.googleAnalyticsService=Rt,this.headTagService=bn,this.breadcrumbsService=tn,this.orejimeService=ei,this.authService=ri,this.themeService=zn,this.menuService=Zn,this.rootDataService=Xi,this.router=Es,this.requestService=Gi,this.halService=Cs,this.matomoService=Ps,this.menuProviderService=jr}static resolveAppConfig(r){if(r.hasKey(mo.Dr)){const u=r.get(mo.Dr,new lM);(0,fe.$k)(R.c,u)}}init(){var r=this;return(0,m.A)(function*(){return yield r.loadAppState(),r.checkAuthenticationToken(),r.externalAuthCheck(),r.initCorrelationId(),r.checkEnvironment(),(d=>{const _=d.production?"Production":"Development",r=d.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c9.1.0","font-weight: bold;"),console.info(`Environment: %c${_}`,`color: ${r}; font-weight: bold;`),console.info("")})(R.c),r.initI18n(),r.initAngulartics(),r.initGoogleAnalytics(),r.initMatomo(),r.initRouteListeners(),r.themeService.listenForThemeChanges(!0),r.trackAuthTokenExpiration(),r.initOrejime(),yield xE(r.authenticationReady$()),r.menuProviderService.initPersistentMenus(!1),!0})}loadAppState(){var r=this;return(0,m.A)(function*(){if(r.appConfig.ssr.transferState){const u=r.transferState.get(rf.NGRX_STATE,null);return r.transferState.remove(rf.NGRX_STATE),r.store.dispatch(new ec(cl.REHYDRATE,u)),xE(r.store.select(yv.N).pipe((0,Sp.I)(x=>(0,V.hj)(x)),(0,Sn.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initOrejime(){this.authenticationReady$().subscribe(()=>{this.orejimeService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}initMatomo(){this.matomoService.init()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,fo.p)(r=>r)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function PA(d,_){const r="object"==typeof _;return new Promise((u,x)=>{const Y=new IA.Ms({next:Te=>{u(Te),Y.unsubscribe()},error:x,complete:()=>{r?u(_.defaultValue):x(new AE.G)}});d.subscribe(Y)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges(),this.menuProviderService.listenForRouteChanges(!1)}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,fo.p)(r=>r instanceof y.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(E.il),e.KVO(sc),e.KVO(e.pJN),e.KVO(mo.vQ),e.KVO(K.c$),e.KVO(lp.iH),e.KVO(aM),e.KVO(RE),e.KVO(OT),e.KVO(ST.E),e.KVO(dd.B),e.KVO(h.uR),e.KVO(ne.Fs),e.KVO(zd.$),e.KVO(eu.RootDataService),e.KVO(y.Ix),e.KVO(Ka.B),e.KVO(sv.Y),e.KVO(SE.$n),e.KVO(qE))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const ug=(0,e.zw6)("req"),dM=(0,e.v7R)({providers:[(0,Ke.$R)((0,Ke.Sx)()),function An(){return(0,e.ngT)("NgEagerAnimations"),[...qe]}(),(0,f.$x)(),(0,e.oKB)(ed.ok.forRoot(),E.md.forFeature("core",eg,Uf.wP),Ud.forFeature(YD),K.h.forRoot({loader:{provide:K.Wr,useFactory:function Nv(d,_){return new SA(d,_,"assets/i18n/",".json")},deps:[e.pJN,Ke.Qq]},missingTranslationHandler:{provide:K.er,useClass:TA.M},useDefaultLang:!0})),...Lv.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:MA.S,useFactory:function cM(d){return d.get(ug,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(d,_)=>d.initXSRFToken(_),deps:[tf,Ke.Qq],multi:!0},{provide:tf,useClass:ME},{provide:h.uR,useClass:h.uR},{provide:Hf.O,useClass:th},{provide:dd.B,useClass:$w},{provide:cd.E,useClass:cd.E},{provide:lp.iH,useClass:lp.iH},{provide:nf.$,useClass:CA},{provide:RE,useClass:RE},{provide:ed.eB,useClass:ed.eB},{provide:FD.H,useClass:JR},{provide:gT.f,useClass:yA},{provide:TE,useFactory:function EA(){return window.location}},{provide:L_,useClass:bA},(0,Ra.$z)({mode:"deferred"},function rl(d){return(0,Ra.rm)("Router",[{provide:Ra.HU,useValue:!0},{provide:Ma,useValue:d},{provide:e.Z63,multi:!0,useValue(){(0,e.WQX)(Gh).initialize()}}])}(),function Nu(d){const _=[gf(Kv)];return d&&_.push({provide:_f,useValue:d}),(0,Ra.rm)("BuiltInRouteDataInterceptor",_,r=>{if(!r.includes("Router"))throw new Error("Matomo feature withRouteData() cannot be used without router feature! Did you forget to call withRouter()?")})}())]},ND),Vx=()=>(0,f.B8)(ee,dM),$x=null!==document.querySelector("script#dspace-angular-state"),Wx=()=>(R.c.production&&(0,e.SmG)(),$x?Vx():fetch("assets/config.json").then(d=>d.json()).then(d=>((0,fe.$k)(R.c,d),Vx())));"complete"!==document.readyState||$x?document.addEventListener("DOMContentLoaded",Wx):Wx()},66515:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(68018),c=n(88368),e=n(11989),f=n(31352),m=n(13957),p=n(54438);function y(v,O){if(1&v&&(p.j41(0,"div",1),p.nI1(1,"async"),p.j41(2,"nav",2),p.nI1(3,"async"),p.nI1(4,"translate"),p.nrm(5,"ds-navbar"),p.k0s()()),2&v){const C=p.XpG();p.Y8G("@slideMobileNav",p.bMT(1,3,C.isNavBarCollapsed$)?"collapsed":"expanded"),p.R7$(2),p.BMQ("aria-hidden",p.bMT(3,5,C.isNavBarCollapsed$))("aria-label",p.bMT(4,7,"nav.main.description"))}}let E=(()=>{class v extends e.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let C;return function(D){return(C||(C=p.xGo(v)))(D||v)}})()}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[p.Vt3,p.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(I,D){1&I&&(p.j41(0,"div",0),p.nrm(1,"ds-header"),p.DNE(2,y,6,9,"div",1),p.nI1(3,"async"),p.k0s()),2&I&&(p.R7$(2),p.vxM(p.bMT(3,1,D.isMobile$)?2:-1))},dependencies:[i.Jj,c.q,f.D,t.h,t.D9],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[m.p8]}})}}return v})()},39618:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),f=n(72012),m=n(84848),p=n(81176),y=n(31352),E=n(51728),v=n(85546),O=n(22114),C=n(54438);function I(h,S){1&h&&(C.j41(0,"nav",5),C.nI1(1,"translate"),C.nrm(2,"ds-navbar"),C.k0s()),2&h&&C.BMQ("aria-label",C.bMT(1,1,"nav.main.description"))}function D(h,S){if(1&h){const T=C.RV6();C.j41(0,"div",8)(1,"button",9),C.nI1(2,"translate"),C.nI1(3,"async"),C.bIt("click",function(){C.eBV(T);const M=C.XpG();return C.Njj(M.toggleNavbar())}),C.nrm(4,"span",10),C.k0s()()}if(2&h){const T=C.XpG();C.R7$(),C.BMQ("aria-label",C.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==C.bMT(3,4,T.isNavBarCollapsed$))}}let R=(()=>{class h extends p.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let T;return function(M){return(T||(T=C.xGo(h)))(M||h)}})()}static{this.\u0275cmp=C.VBU({type:h,selectors:[["ds-themed-header"]],standalone:!0,features:[C.Vt3,C.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3","flex-grow-1"],["routerLink","/home","role","button","tabindex","0",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/dspace-logo.svg"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch","flex-grow-1","flex-shrink-1"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","flex-shrink-0","justify-content-end","align-items-center","gapx-1","ms-auto"],["role","toolbar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ms-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn","btn-transparent",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(w,M){1&w&&(C.j41(0,"header",0)(1,"div",1)(2,"div",2),C.nI1(3,"async"),C.nI1(4,"async"),C.nI1(5,"translate"),C.j41(6,"a",3),C.nI1(7,"translate"),C.nrm(8,"img",4),C.nI1(9,"translate"),C.k0s(),C.DNE(10,I,3,3,"nav",5),C.nI1(11,"async"),C.k0s(),C.j41(12,"div",6),C.nrm(13,"ds-search-navbar"),C.j41(14,"div",7),C.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),C.k0s(),C.DNE(19,D,5,6,"div",8),C.nI1(20,"async"),C.k0s()()()),2&w&&(C.R7$(2),C.BMQ("role",C.bMT(3,6,M.isMobile$)?"navigation":"presentation")("aria-label",C.bMT(4,8,M.isMobile$)?C.bMT(5,10,"nav.main.description"):null),C.R7$(4),C.BMQ("aria-label",C.bMT(7,12,"home.title")),C.R7$(2),C.BMQ("alt",C.bMT(9,14,"menu.header.image.logo")),C.R7$(2),C.vxM(!0!==C.bMT(11,16,M.isMobile$)?10:-1),C.R7$(9),C.vxM(C.bMT(20,18,M.isMobile$)?19:-1))},dependencies:[i.Jj,m.Y,O.d,c.zH,c.QE,t.Wk,v.v,f.n,y.D,E.X,e.h,e.D9],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return h})()},24968:(U,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>c});var i=n(96762),t=n(54438);let c=(()=>{class e extends i.HomeNewsComponent{static{this.\u0275fac=(()=>{let m;return function(y){return(m||(m=t.xGo(e)))(y||e)}})()}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"home-news-content","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"fas","fa-circle-info"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/banner.webp 2000w, assets/dspace/images/banner-half.webp 1200w, assets/dspace/images/banner-tall.webp 768w"],["type","image/jpg","srcset","assets/dspace/images/banner.jpg 2000w, assets/dspace/images/banner-half.jpg 1200w, assets/dspace/images/banner-tall.jpg 768w"],["alt","",3,"src"],[1,"credits"],["href","https://www.pexels.com/@inspiredimages"]],template:function(p,y){1&p&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),t.EFF(6,"Semear - Jo\xe3o XXIII"),t.k0s(),t.j41(7,"p"),t.nrm(8,"i",5),t.EFF(9," Reposit\xf3rio institucional."),t.k0s()()()()(),t.j41(10,"picture",6),t.nrm(11,"source",7)(12,"source",8)(13,"img",9),t.k0s(),t.j41(14,"small",10),t.EFF(15,"Photo by "),t.j41(16,"a",11),t.EFF(17,"@inspiredimages"),t.k0s()()()),2&p&&(t.R7$(13),t.Y8G("src","assets/dspace/images/banner.jpg",t.B4B))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;font-weight:600}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6);background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .home-news-content[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}']})}}return e})()},87136:(U,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>O});var i=n(60177),t=n(58003),c=n(68018),e=n(57046),f=n(13957),m=n(72067),p=n(54438);function y(C,I){1&C&&p.nrm(0,"ds-user-menu",0),2&C&&p.Y8G("inExpandableNavbar",!0)}function E(C,I){1&C&&p.eu8(0)}function v(C,I){if(1&C&&(p.DNE(0,E,1,0,"ng-container",2),p.nI1(1,"async"),p.nI1(2,"async")),2&C){let D,R;const h=I.$implicit,S=p.XpG();p.Y8G("ngComponentOutlet",null==(D=p.bMT(1,2,S.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(R=p.bMT(2,4,S.sectionMap$).get(h.id))?null:R.injector)}}let O=(()=>{class C extends e.NavbarComponent{static{this.\u0275fac=(()=>{let D;return function(h){return(D||(D=p.xGo(C)))(h||C)}})()}static{this.\u0275cmp=p.VBU({type:C,selectors:[["ds-themed-navbar"]],standalone:!0,features:[p.Vt3,p.aNF],decls:8,vars:10,consts:[[3,"inExpandableNavbar"],["role","menubar","id","main-site-navigation",1,"navbar-nav","flex-shrink-1","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,h){1&R&&(p.DNE(0,y,1,1,"ds-user-menu",0),p.nI1(1,"async"),p.nI1(2,"async"),p.j41(3,"div",1),p.nI1(4,"async"),p.Z7z(5,v,3,6,"ng-container",null,p.fX1),p.nI1(7,"async"),p.k0s()),2&R&&(p.vxM(p.bMT(1,2,h.isMobile$)&&p.bMT(2,4,h.isAuthenticated$)?0:-1),p.R7$(3),p.Y8G("ngClass",p.bMT(4,6,h.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),p.R7$(2),p.Dyx(p.bMT(7,8,h.sections)))},dependencies:[i.Jj,t.zH,i.YU,i.OI,m.r,c.h],data:{animation:[f.p8]}})}}return C})()},77181:(U,b)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function p(Se){return Array.isArray(Se)?Se.map(function(et){return et&&et.toString()||null}):Se&&Se.toString()||null}function y(Se){return Array.isArray(Se)?Se.map(function(et){return parseFloat(et)}):parseFloat(Se)}function E(Se){return Array.isArray(Se)?Se.map(function(et){return!!et}):!!Se}function v(Se){return Array.isArray(Se)?Se.map(function(et){return et&&et.toString()||null}):Se&&Se.toString()||null}function O(Se){return Array.isArray(Se)?Se.map(function(et){return parseInt(et)}):parseInt(Se)}function C(Se){return Array.isArray(Se)?Se.map(function(et){return!!et}):!!Se}function I(Se){return Se===String?p:Se===Number?y:Se===Boolean?E:Se}function D(Se){return Se===String?v:Se===Number?O:Se===Boolean?C:Se}function R(Se,et){for(var $e=0;$e<Se.length;$e++)if(Se[$e].keyName===et)return Se[$e];return Se.push(new z(et)),Se[Se.length-1]}function h(Se,et){var $e=null,st=null;return"string"==typeof Se?st=Se:(Se&&"function"==typeof Se||"object"==typeof Se)&&($e=Se,st=et),{key:st,type:$e}}b.inheritSerialization=function S(Se){return function(et){for(var $e=t.get(Se)||[],st=t.get(et)||[],We=0;We<$e.length;We++)z.hasKeyName(st,$e[We].keyName)||st.push(z.clone($e[We]));t.set(et,st)}},b.deserialize=function w(Se,et){if(Se&&et){var $e=t.get(Se.constructor)||[];R($e,et).deserializedKey=et,t.set(Se.constructor,$e)}},b.autoserialize=function M(Se,et){if(Se&&et){var $e=t.get(Se.constructor)||[],st=R($e,et);st.serializedKey=et,st.deserializedKey=et,t.set(Se.constructor,$e)}},b.serializeAs=function L(Se,et){if(Se){var $e=h(Se,et),st=$e.key,We=$e.type;return function(De,ut){if(De&&ut){var Ge=t.get(De.constructor)||[],wt=R(Ge,ut);wt.serializedKey=st||ut,wt.serializedType=We,We!==Date&&We!==RegExp&&!t.get(We)&&"function"==typeof We&&(wt.serializedType={Serialize:D(We)}),t.set(De.constructor,Ge)}}}},b.deserializeAs=function j(Se,et){if(Se){var $e=h(Se,et),st=$e.key,We=$e.type;return function(De,ut){if(De&&ut){var Ge=t.get(De.constructor)||[],wt=R(Ge,ut);wt.deserializedKey=st||ut,wt.deserializedType=We,!t.get(We)&&We!==Date&&We!==RegExp&&"function"==typeof We&&(wt.deserializedType={Deserialize:I(We)}),t.set(De.constructor,Ge)}}}},b.autoserializeAs=function k(Se,et){if(Se){var $e=h(Se,et),st=$e.key,We=$e.type;return function(De,ut){if(De&&ut){var Ge=t.get(De.constructor)||[],wt=R(Ge,ut),ot=st||ut;wt.deserializedKey=ot,wt.deserializedType=We,wt.serializedKey=ot,wt.serializedType=D(We),!t.get(We)&&We!==Date&&We!==RegExp&&"function"==typeof We&&(wt.deserializedType={Deserialize:I(We)}),t.set(De.constructor,Ge)}}}};var z=function(){function Se(et){this.keyName=et,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return Se.hasKeyName=function(et,$e){for(var st=0;st<et.length;st++)if(et[st].keyName===$e)return!0;return!1},Se.clone=function(et){var $e=new Se(et.keyName);return $e.deserializedKey=et.deserializedKey,$e.serializedKey=et.serializedKey,$e.serializedType=et.serializedType,$e.deserializedType=et.deserializedType,$e.indexable=et.indexable,$e},Se}();function J(Se,et){return Array.isArray(Se)?ne(Se,et):Se&&"object"==typeof Se?ye(Se,et):("string"==typeof Se||Se instanceof Date)&&et===Date.prototype.constructor?new Date(Se):"string"==typeof Se&&et===RegExp?new RegExp(Se):Se}function ne(Se,et){for(var $e=new Array(Se.length),st=0;st<Se.length;st++)$e[st]=J(Se[st],et);return $e}function ee(Se,et,$e){$e&&"function"==typeof $e.OnDeserialized&&$e.OnDeserialized(Se,et)}function fe(Se,et){"function"==typeof Se.constructor.OnSerialized&&Se.constructor.OnSerialized(Se,et)}function ye(Se,et){var $e=t.get(et);if(!$e){var st=null;return et?ee(st=new et,Se,et):st=JSON.parse(JSON.stringify(Se)),st}for(var We=new et,De=0;De<$e.length;De++){var ut=$e[De];if(ut.deserializedKey){var Ge=ut.deserializedKey;ut.deserializedKey===ut.keyName&&"function"==typeof le&&(Ge=le(ut.keyName));var wt=Se[Ge];void 0!==wt&&(We[ut.keyName]=null===wt?wt:ut.deserializedType&&"function"==typeof ut.deserializedType.Deserialize?ut.deserializedType.Deserialize(wt):Array.isArray(wt)?ne(wt,ut.deserializedType||null):("string"==typeof wt||wt instanceof Date)&&ut.deserializedType===Date.prototype.constructor?new Date(wt):"string"==typeof wt&&ut.deserializedType===RegExp?new RegExp(Se):wt&&"object"==typeof wt?ut.indexable?oe(wt,ut.deserializedType):ye(wt,ut.deserializedType):wt)}}return ee(We,Se,et),We}function oe(Se,et){var $e={};return Object.keys(Se).forEach(function(st){$e[st]=ye(Se[st],et)}),$e}function te(Se,et){for(var $e=new Array(Se.length),st=0;st<Se.length;st++)$e[st]=be(Se[st],et);return $e}function se(Se,et){var st,$e={};st=t.get(et||Se.constructor);for(var We=0;We<st.length;We++){var De=st[We];if(De.serializedKey){var ut=De.serializedKey;De.serializedKey===De.keyName&&"function"==typeof Z&&(ut=Z(De.keyName));var Ge=Se[De.keyName];if(void 0!==Ge)if(Array.isArray(Ge))$e[ut]=te(Ge,De.serializedType||null);else if(De.serializedType&&"function"==typeof De.serializedType.Serialize)$e[ut]=De.serializedType.Serialize(Ge);else{var wt=be(Ge);void 0!==wt&&($e[ut]=wt)}}}return fe(Se,$e),$e}function be(Se,et){if(null==Se)return null;if(Array.isArray(Se))return te(Se,et);if(et&&t.has(et))return se(Se,et);if(Se.constructor&&t.has(Se.constructor))return se(Se);if(Se instanceof Date)return Se.toISOString();if(Se instanceof RegExp)return Se.toString();if(Se&&"object"==typeof Se||"function"==typeof Se){for(var $e=Object.keys(Se),st={},We=0;We<$e.length;We++)st[$e[We]]=be(Se[$e[We]]);return fe(Se,st),st}return Se}b.Deserialize=J,b.Serialize=be;var Z=null,le=null},74850:(U,b,n)=>{U.exports=n(77181)},43364:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){for(var c=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return c+e},U.exports=b.default},66139:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i},U.exports=b.default},88200:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function c(e){return(0,t.default)({},e)};var t=i(n(66139));U.exports=b.default},70733:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(12606));b.default=t.default,U.exports=b.default},18635:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultOptions=function i(){return n},b.setDefaultOptions=function t(c){n=c};var n={}},99073:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(3498)),c=i(n(79429)),e=i(n(29348)),f=i(n(86964)),m=i(n(10125)),p=i(n(43364)),y=i(n(33133));function O(R,h){var S=R>0?"-":"+",T=Math.abs(R),w=Math.floor(T/60),M=T%60;if(0===M)return S+String(w);var L=h||"";return S+String(w)+L+(0,p.default)(M,2)}function C(R,h){return R%60==0?(R>0?"-":"+")+(0,p.default)(Math.abs(R)/60,2):I(R,h)}function I(R,h){var S=h||"",T=R>0?"-":"+",w=Math.abs(R);return T+(0,p.default)(Math.floor(w/60),2)+S+(0,p.default)(w%60,2)}b.default={G:function(h,S,T){var w=h.getUTCFullYear()>0?1:0;switch(S){case"G":case"GG":case"GGG":return T.era(w,{width:"abbreviated"});case"GGGGG":return T.era(w,{width:"narrow"});default:return T.era(w,{width:"wide"})}},y:function(h,S,T){if("yo"===S){var w=h.getUTCFullYear();return T.ordinalNumber(w>0?w:1-w,{unit:"year"})}return y.default.y(h,S)},Y:function(h,S,T,w){var M=(0,m.default)(h,w),L=M>0?M:1-M;return"YY"===S?(0,p.default)(L%100,2):"Yo"===S?T.ordinalNumber(L,{unit:"year"}):(0,p.default)(L,S.length)},R:function(h,S){var T=(0,e.default)(h);return(0,p.default)(T,S.length)},u:function(h,S){var T=h.getUTCFullYear();return(0,p.default)(T,S.length)},Q:function(h,S,T){var w=Math.ceil((h.getUTCMonth()+1)/3);switch(S){case"Q":return String(w);case"QQ":return(0,p.default)(w,2);case"Qo":return T.ordinalNumber(w,{unit:"quarter"});case"QQQ":return T.quarter(w,{width:"abbreviated",context:"formatting"});case"QQQQQ":return T.quarter(w,{width:"narrow",context:"formatting"});default:return T.quarter(w,{width:"wide",context:"formatting"})}},q:function(h,S,T){var w=Math.ceil((h.getUTCMonth()+1)/3);switch(S){case"q":return String(w);case"qq":return(0,p.default)(w,2);case"qo":return T.ordinalNumber(w,{unit:"quarter"});case"qqq":return T.quarter(w,{width:"abbreviated",context:"standalone"});case"qqqqq":return T.quarter(w,{width:"narrow",context:"standalone"});default:return T.quarter(w,{width:"wide",context:"standalone"})}},M:function(h,S,T){var w=h.getUTCMonth();switch(S){case"M":case"MM":return y.default.M(h,S);case"Mo":return T.ordinalNumber(w+1,{unit:"month"});case"MMM":return T.month(w,{width:"abbreviated",context:"formatting"});case"MMMMM":return T.month(w,{width:"narrow",context:"formatting"});default:return T.month(w,{width:"wide",context:"formatting"})}},L:function(h,S,T){var w=h.getUTCMonth();switch(S){case"L":return String(w+1);case"LL":return(0,p.default)(w+1,2);case"Lo":return T.ordinalNumber(w+1,{unit:"month"});case"LLL":return T.month(w,{width:"abbreviated",context:"standalone"});case"LLLLL":return T.month(w,{width:"narrow",context:"standalone"});default:return T.month(w,{width:"wide",context:"standalone"})}},w:function(h,S,T,w){var M=(0,f.default)(h,w);return"wo"===S?T.ordinalNumber(M,{unit:"week"}):(0,p.default)(M,S.length)},I:function(h,S,T){var w=(0,c.default)(h);return"Io"===S?T.ordinalNumber(w,{unit:"week"}):(0,p.default)(w,S.length)},d:function(h,S,T){return"do"===S?T.ordinalNumber(h.getUTCDate(),{unit:"date"}):y.default.d(h,S)},D:function(h,S,T){var w=(0,t.default)(h);return"Do"===S?T.ordinalNumber(w,{unit:"dayOfYear"}):(0,p.default)(w,S.length)},E:function(h,S,T){var w=h.getUTCDay();switch(S){case"E":case"EE":case"EEE":return T.day(w,{width:"abbreviated",context:"formatting"});case"EEEEE":return T.day(w,{width:"narrow",context:"formatting"});case"EEEEEE":return T.day(w,{width:"short",context:"formatting"});default:return T.day(w,{width:"wide",context:"formatting"})}},e:function(h,S,T,w){var M=h.getUTCDay(),L=(M-w.weekStartsOn+8)%7||7;switch(S){case"e":return String(L);case"ee":return(0,p.default)(L,2);case"eo":return T.ordinalNumber(L,{unit:"day"});case"eee":return T.day(M,{width:"abbreviated",context:"formatting"});case"eeeee":return T.day(M,{width:"narrow",context:"formatting"});case"eeeeee":return T.day(M,{width:"short",context:"formatting"});default:return T.day(M,{width:"wide",context:"formatting"})}},c:function(h,S,T,w){var M=h.getUTCDay(),L=(M-w.weekStartsOn+8)%7||7;switch(S){case"c":return String(L);case"cc":return(0,p.default)(L,S.length);case"co":return T.ordinalNumber(L,{unit:"day"});case"ccc":return T.day(M,{width:"abbreviated",context:"standalone"});case"ccccc":return T.day(M,{width:"narrow",context:"standalone"});case"cccccc":return T.day(M,{width:"short",context:"standalone"});default:return T.day(M,{width:"wide",context:"standalone"})}},i:function(h,S,T){var w=h.getUTCDay(),M=0===w?7:w;switch(S){case"i":return String(M);case"ii":return(0,p.default)(M,S.length);case"io":return T.ordinalNumber(M,{unit:"day"});case"iii":return T.day(w,{width:"abbreviated",context:"formatting"});case"iiiii":return T.day(w,{width:"narrow",context:"formatting"});case"iiiiii":return T.day(w,{width:"short",context:"formatting"});default:return T.day(w,{width:"wide",context:"formatting"})}},a:function(h,S,T){var M=h.getUTCHours()/12>=1?"pm":"am";switch(S){case"a":case"aa":return T.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"aaa":return T.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return T.dayPeriod(M,{width:"narrow",context:"formatting"});default:return T.dayPeriod(M,{width:"wide",context:"formatting"})}},b:function(h,S,T){var M,w=h.getUTCHours();switch(M=12===w?"noon":0===w?"midnight":w/12>=1?"pm":"am",S){case"b":case"bb":return T.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"bbb":return T.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return T.dayPeriod(M,{width:"narrow",context:"formatting"});default:return T.dayPeriod(M,{width:"wide",context:"formatting"})}},B:function(h,S,T){var M,w=h.getUTCHours();switch(M=w>=17?"evening":w>=12?"afternoon":w>=4?"morning":"night",S){case"B":case"BB":case"BBB":return T.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"BBBBB":return T.dayPeriod(M,{width:"narrow",context:"formatting"});default:return T.dayPeriod(M,{width:"wide",context:"formatting"})}},h:function(h,S,T){if("ho"===S){var w=h.getUTCHours()%12;return 0===w&&(w=12),T.ordinalNumber(w,{unit:"hour"})}return y.default.h(h,S)},H:function(h,S,T){return"Ho"===S?T.ordinalNumber(h.getUTCHours(),{unit:"hour"}):y.default.H(h,S)},K:function(h,S,T){var w=h.getUTCHours()%12;return"Ko"===S?T.ordinalNumber(w,{unit:"hour"}):(0,p.default)(w,S.length)},k:function(h,S,T){var w=h.getUTCHours();return 0===w&&(w=24),"ko"===S?T.ordinalNumber(w,{unit:"hour"}):(0,p.default)(w,S.length)},m:function(h,S,T){return"mo"===S?T.ordinalNumber(h.getUTCMinutes(),{unit:"minute"}):y.default.m(h,S)},s:function(h,S,T){return"so"===S?T.ordinalNumber(h.getUTCSeconds(),{unit:"second"}):y.default.s(h,S)},S:function(h,S){return y.default.S(h,S)},X:function(h,S,T,w){var L=(w._originalDate||h).getTimezoneOffset();if(0===L)return"Z";switch(S){case"X":return C(L);case"XXXX":case"XX":return I(L);default:return I(L,":")}},x:function(h,S,T,w){var L=(w._originalDate||h).getTimezoneOffset();switch(S){case"x":return C(L);case"xxxx":case"xx":return I(L);default:return I(L,":")}},O:function(h,S,T,w){var L=(w._originalDate||h).getTimezoneOffset();switch(S){case"O":case"OO":case"OOO":return"GMT"+O(L,":");default:return"GMT"+I(L,":")}},z:function(h,S,T,w){var L=(w._originalDate||h).getTimezoneOffset();switch(S){case"z":case"zz":case"zzz":return"GMT"+O(L,":");default:return"GMT"+I(L,":")}},t:function(h,S,T,w){var L=Math.floor((w._originalDate||h).getTime()/1e3);return(0,p.default)(L,S.length)},T:function(h,S,T,w){var L=(w._originalDate||h).getTime();return(0,p.default)(L,S.length)}},U.exports=b.default},33133:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43364));b.default={y:function(m,p){var y=m.getUTCFullYear(),E=y>0?y:1-y;return(0,t.default)("yy"===p?E%100:E,p.length)},M:function(m,p){var y=m.getUTCMonth();return"M"===p?String(y+1):(0,t.default)(y+1,2)},d:function(m,p){return(0,t.default)(m.getUTCDate(),p.length)},a:function(m,p){var y=m.getUTCHours()/12>=1?"pm":"am";switch(p){case"a":case"aa":return y.toUpperCase();case"aaa":return y;case"aaaaa":return y[0];default:return"am"===y?"a.m.":"p.m."}},h:function(m,p){return(0,t.default)(m.getUTCHours()%12||12,p.length)},H:function(m,p){return(0,t.default)(m.getUTCHours(),p.length)},m:function(m,p){return(0,t.default)(m.getUTCMinutes(),p.length)},s:function(m,p){return(0,t.default)(m.getUTCSeconds(),p.length)},S:function(m,p){var y=p.length,E=m.getUTCMilliseconds(),v=Math.floor(E*Math.pow(10,y-3));return(0,t.default)(v,p.length)}},U.exports=b.default},26035:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=function(m,p){switch(m){case"P":return p.date({width:"short"});case"PP":return p.date({width:"medium"});case"PPP":return p.date({width:"long"});default:return p.date({width:"full"})}},i=function(m,p){switch(m){case"p":return p.time({width:"short"});case"pp":return p.time({width:"medium"});case"ppp":return p.time({width:"long"});default:return p.time({width:"full"})}};b.default={p:i,P:function(m,p){var O,y=m.match(/(P+)(p+)?/)||[],E=y[1],v=y[2];if(!v)return n(m,p);switch(E){case"P":O=p.dateTime({width:"short"});break;case"PP":O=p.dateTime({width:"medium"});break;case"PPP":O=p.dateTime({width:"long"});break;default:O=p.dateTime({width:"full"})}return O.replace("{{date}}",n(E,p)).replace("{{time}}",i(v,p))}},U.exports=b.default},20059:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},U.exports=b.default},3498:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,c.default)(1,arguments);var p=(0,t.default)(m),y=p.getTime();p.setUTCMonth(0,1),p.setUTCHours(0,0,0,0);var E=p.getTime();return Math.floor((y-E)/e)+1};var t=i(n(75624)),c=i(n(5238)),e=864e5;U.exports=b.default},29348:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,c.default)(1,arguments);var p=(0,t.default)(m),y=p.getUTCFullYear(),E=new Date(0);E.setUTCFullYear(y+1,0,4),E.setUTCHours(0,0,0,0);var v=(0,e.default)(E),O=new Date(0);O.setUTCFullYear(y,0,4),O.setUTCHours(0,0,0,0);var C=(0,e.default)(O);return p.getTime()>=v.getTime()?y+1:p.getTime()>=C.getTime()?y:y-1};var t=i(n(75624)),c=i(n(5238)),e=i(n(68224));U.exports=b.default},79429:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(y){(0,f.default)(1,arguments);var E=(0,t.default)(y),v=(0,c.default)(E).getTime()-(0,e.default)(E).getTime();return Math.round(v/m)+1};var t=i(n(75624)),c=i(n(68224)),e=i(n(96145)),f=i(n(5238)),m=6048e5;U.exports=b.default},10125:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(y,E){var v,O,C,I,D,R,h,S;(0,c.default)(1,arguments);var T=(0,t.default)(y),w=T.getUTCFullYear(),M=(0,m.getDefaultOptions)(),L=(0,f.default)(null!==(v=null!==(O=null!==(C=null!==(I=E?.firstWeekContainsDate)&&void 0!==I?I:null==E||null===(D=E.locale)||void 0===D||null===(R=D.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==C?C:M.firstWeekContainsDate)&&void 0!==O?O:null===(h=M.locale)||void 0===h||null===(S=h.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==v?v:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(w+1,0,L),N.setUTCHours(0,0,0,0);var j=(0,e.default)(N,E),$=new Date(0);$.setUTCFullYear(w,0,L),$.setUTCHours(0,0,0,0);var k=(0,e.default)($,E);return T.getTime()>=j.getTime()?w+1:T.getTime()>=k.getTime()?w:w-1};var t=i(n(75624)),c=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);U.exports=b.default},86964:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(y,E){(0,f.default)(1,arguments);var v=(0,t.default)(y),O=(0,c.default)(v,E).getTime()-(0,e.default)(v,E).getTime();return Math.round(O/m)+1};var t=i(n(75624)),c=i(n(3595)),e=i(n(12086)),f=i(n(5238)),m=6048e5;U.exports=b.default},79850:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isProtectedDayOfYearToken=function t(f){return-1!==n.indexOf(f)},b.isProtectedWeekYearToken=function c(f){return-1!==i.indexOf(f)},b.throwProtectedError=function e(f,m,p){if("YYYY"===f)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===f)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===f)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===f)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},U.exports=b.default},96145:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,e.default)(1,arguments);var p=(0,t.default)(m),y=new Date(0);return y.setUTCFullYear(p,0,4),y.setUTCHours(0,0,0,0),(0,c.default)(y)};var t=i(n(29348)),c=i(n(68224)),e=i(n(5238));U.exports=b.default},68224:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){(0,c.default)(1,arguments);var p=(0,t.default)(f),y=p.getUTCDay(),E=(y<1?7:0)+y-1;return p.setUTCDate(p.getUTCDate()-E),p.setUTCHours(0,0,0,0),p};var t=i(n(75624)),c=i(n(5238));U.exports=b.default},12086:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(y,E){var v,O,C,I,D,R,h,S;(0,c.default)(1,arguments);var T=(0,m.getDefaultOptions)(),w=(0,f.default)(null!==(v=null!==(O=null!==(C=null!==(I=E?.firstWeekContainsDate)&&void 0!==I?I:null==E||null===(D=E.locale)||void 0===D||null===(R=D.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==C?C:T.firstWeekContainsDate)&&void 0!==O?O:null===(h=T.locale)||void 0===h||null===(S=h.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==v?v:1),M=(0,t.default)(y,E),L=new Date(0);return L.setUTCFullYear(M,0,w),L.setUTCHours(0,0,0,0),(0,e.default)(L,E)};var t=i(n(10125)),c=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);U.exports=b.default},3595:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(p,y){var E,v,O,C,I,D,R,h;(0,c.default)(1,arguments);var S=(0,f.getDefaultOptions)(),T=(0,e.default)(null!==(E=null!==(v=null!==(O=null!==(C=y?.weekStartsOn)&&void 0!==C?C:null==y||null===(I=y.locale)||void 0===I||null===(D=I.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==O?O:S.weekStartsOn)&&void 0!==v?v:null===(R=S.locale)||void 0===R||null===(h=R.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==E?E:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=(0,t.default)(p),M=w.getUTCDay(),L=(M<T?7:0)+M-T;return w.setUTCDate(w.getUTCDate()-L),w.setUTCHours(0,0,0,0),w};var t=i(n(75624)),c=i(n(5238)),e=i(n(25167)),f=n(18635);U.exports=b.default},25167:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},U.exports=b.default},82678:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,p){(0,e.default)(2,arguments);var y=(0,c.default)(m).getTime(),E=(0,t.default)(p);return new Date(y+E)};var t=i(n(25167)),c=i(n(75624)),e=i(n(5238));U.exports=b.default},24150:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function T(M,L,N){var j,$,k,K,z,V,G,X,J,q,ne,ee,fe,ye,oe,ue,te,se;(0,v.default)(2,arguments);var be=String(L),me=(0,O.getDefaultOptions)(),re=null!==(j=null!==($=N?.locale)&&void 0!==$?$:me.locale)&&void 0!==j?j:C.default,Z=(0,E.default)(null!==(k=null!==(K=null!==(z=null!==(V=N?.firstWeekContainsDate)&&void 0!==V?V:null==N||null===(G=N.locale)||void 0===G||null===(X=G.options)||void 0===X?void 0:X.firstWeekContainsDate)&&void 0!==z?z:me.firstWeekContainsDate)&&void 0!==K?K:null===(J=me.locale)||void 0===J||null===(q=J.options)||void 0===q?void 0:q.firstWeekContainsDate)&&void 0!==k?k:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=(0,E.default)(null!==(ne=null!==(ee=null!==(fe=null!==(ye=N?.weekStartsOn)&&void 0!==ye?ye:null==N||null===(oe=N.locale)||void 0===oe||null===(ue=oe.options)||void 0===ue?void 0:ue.weekStartsOn)&&void 0!==fe?fe:me.weekStartsOn)&&void 0!==ee?ee:null===(te=me.locale)||void 0===te||null===(se=te.options)||void 0===se?void 0:se.weekStartsOn)&&void 0!==ne?ne:0);if(!(le>=0&&le<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!re.localize)throw new RangeError("locale must contain localize property");if(!re.formatLong)throw new RangeError("locale must contain formatLong property");var ce=(0,e.default)(M);if(!(0,t.default)(ce))throw new RangeError("Invalid time value");var ve=(0,p.default)(ce),ze=(0,c.default)(ce,ve),Se={firstWeekContainsDate:Z,weekStartsOn:le,locale:re,_originalDate:ce};return be.match(D).map(function($e){var st=$e[0];return"p"===st||"P"===st?(0,m.default[st])($e,re.formatLong):$e}).join("").match(I).map(function($e){if("''"===$e)return"'";var st=$e[0];if("'"===st)return function w(M){var L=M.match(R);return L?L[1].replace(h,"'"):M}($e);var We=f.default[st];if(We)return!(null!=N&&N.useAdditionalWeekYearTokens)&&(0,y.isProtectedWeekYearToken)($e)&&(0,y.throwProtectedError)($e,L,String(M)),!(null!=N&&N.useAdditionalDayOfYearTokens)&&(0,y.isProtectedDayOfYearToken)($e)&&(0,y.throwProtectedError)($e,L,String(M)),We(ze,$e,re.localize,Se);if(st.match(S))throw new RangeError("Format string contains an unescaped latin alphabet character `"+st+"`");return $e}).join("")};var t=i(n(79649)),c=i(n(38695)),e=i(n(75624)),f=i(n(99073)),m=i(n(26035)),p=i(n(20059)),y=n(79850),E=i(n(25167)),v=i(n(5238)),O=n(18635),C=i(n(70733)),I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,h=/''/g,S=/[a-zA-Z]/;U.exports=b.default},24321:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){return(0,c.default)(1,arguments),f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===Object.prototype.toString.call(f)};var t=i(n(73738)),c=i(n(5238));U.exports=b.default},79649:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var p=(0,c.default)(m);return!isNaN(Number(p))};var t=i(n(24321)),c=i(n(75624)),e=i(n(5238));U.exports=b.default},93126:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=t.width?String(t.width):i.defaultWidth;return i.formats[c]||i.formats[i.defaultWidth]}},U.exports=b.default},33628:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t,c){var f;if("formatting"===(null!=c&&c.context?String(c.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,p=null!=c&&c.width?String(c.width):m;f=i.formattingValues[p]||i.formattingValues[m]}else{var y=i.defaultWidth,E=null!=c&&c.width?String(c.width):i.defaultWidth;f=i.values[E]||i.values[y]}return f[i.argumentCallback?i.argumentCallback(t):t]}},U.exports=b.default},43636:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(c){return function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=f.width,y=e.match(m&&c.matchPatterns[m]||c.matchPatterns[c.defaultMatchWidth]);if(!y)return null;var C,E=y[0],v=m&&c.parsePatterns[m]||c.parsePatterns[c.defaultParseWidth],O=Array.isArray(v)?function t(c,e){for(var f=0;f<c.length;f++)if(e(c[f]))return f}(v,function(D){return D.test(E)}):function i(c,e){for(var f in c)if(c.hasOwnProperty(f)&&e(c[f]))return f}(v,function(D){return D.test(E)});return C=c.valueCallback?c.valueCallback(O):O,{value:C=f.valueCallback?f.valueCallback(C):C,rest:e.slice(E.length)}}},U.exports=b.default},59354:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var f=e[0],m=t.match(i.parsePattern);if(!m)return null;var p=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:p=c.valueCallback?c.valueCallback(p):p,rest:t.slice(f.length)}}},U.exports=b.default},93204:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};b.default=function(e,f,m){var p,y=n[e];return p="string"==typeof y?y:1===f?y.one:y.other.replace("{{count}}",f.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+p:p+" ago":p},U.exports=b.default},64837:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};b.default=m,U.exports=b.default},77767:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};b.default=function(e,f,m,p){return n[e]},U.exports=b.default},29063:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(33628)),v={ordinalNumber:function(I,D){var R=Number(I),h=R%100;if(h>20||h<10)switch(h%10){case 1:return R+"st";case 2:return R+"nd";case 3:return R+"rd"}return R+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(I){return I-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};b.default=v,U.exports=b.default},95401:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43636)),h={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(w){return parseInt(w,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};b.default=h,U.exports=b.default},12606:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93204)),c=i(n(64837)),e=i(n(77767)),f=i(n(29063)),m=i(n(95401));b.default={code:"en-US",formatDistance:t.default,formatLong:c.default,formatRelative:e.default,localize:f.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},U.exports=b.default},38695:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,p){(0,c.default)(2,arguments);var y=(0,e.default)(p);return(0,t.default)(m,-y)};var t=i(n(82678)),c=i(n(5238)),e=i(n(25167));U.exports=b.default},75624:(U,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){(0,c.default)(1,arguments);var m=Object.prototype.toString.call(f);return f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===m?new Date(f.getTime()):"number"==typeof f||"[object Number]"===m?new Date(f):(("string"==typeof f||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),c=i(n(5238));U.exports=b.default},58813:U=>{"use strict";var b=function(S){return function n(h){return!!h&&"object"==typeof h}(S)&&!function i(h){var S=Object.prototype.toString.call(h);return"[object RegExp]"===S||"[object Date]"===S||function e(h){return h.$$typeof===c}(h)}(S)},c="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(h,S){return!1!==S.clone&&S.isMergeableObject(h)?D(function f(h){return Array.isArray(h)?[]:{}}(h),h,S):h}function p(h,S,T){return h.concat(S).map(function(w){return m(w,T)})}function v(h){return Object.keys(h).concat(function E(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(S){return Object.propertyIsEnumerable.call(h,S)}):[]}(h))}function O(h,S){try{return S in h}catch{return!1}}function D(h,S,T){(T=T||{}).arrayMerge=T.arrayMerge||p,T.isMergeableObject=T.isMergeableObject||b,T.cloneUnlessOtherwiseSpecified=m;var w=Array.isArray(S);return w===Array.isArray(h)?w?T.arrayMerge(h,S,T):function I(h,S,T){var w={};return T.isMergeableObject(h)&&v(h).forEach(function(M){w[M]=m(h[M],T)}),v(S).forEach(function(M){(function C(h,S){return O(h,S)&&!(Object.hasOwnProperty.call(h,S)&&Object.propertyIsEnumerable.call(h,S))})(h,M)||(w[M]=O(h,M)&&T.isMergeableObject(S[M])?function y(h,S){if(!S.customMerge)return D;var T=S.customMerge(h);return"function"==typeof T?T:D}(M,T)(h[M],S[M],T):m(S[M],T))}),w}(h,S,T):m(S,T)}D.all=function(S,T){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(w,M){return D(w,M,T)},{})},U.exports=D},2632:(U,b,n)=>{var i,t,c;void 0!==(t="function"==typeof(i=c=function(){function c(){for(var m=0,p={};m<arguments.length;m++){var y=arguments[m];for(var E in y)p[E]=y[E]}return p}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function f(m){function p(){}function y(v,O,C){if(!(typeof document>"u")){"number"==typeof(C=c({path:"/"},p.defaults,C)).expires&&(C.expires=new Date(1*new Date+864e5*C.expires)),C.expires=C.expires?C.expires.toUTCString():"";try{var I=JSON.stringify(O);/^[\{\[]/.test(I)&&(O=I)}catch{}O=m.write?m.write(O,v):encodeURIComponent(String(O)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var D="";for(var R in C)C[R]&&(D+="; "+R,!0!==C[R]&&(D+="="+C[R].split(";")[0]));return document.cookie=v+"="+O+D}}function E(v,O){if(!(typeof document>"u")){for(var C={},I=document.cookie?document.cookie.split("; "):[],D=0;D<I.length;D++){var R=I[D].split("="),h=R.slice(1).join("=");!O&&'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var S=e(R[0]);if(h=(m.read||m)(h,S)||e(h),O)try{h=JSON.parse(h)}catch{}if(C[S]=h,v===S)break}catch{}}return v?C[v]:C}}return p.set=y,p.get=function(v){return E(v,!1)},p.getJSON=function(v){return E(v,!0)},p.remove=function(v,O){y(v,"",c(O,{expires:-1}))},p.defaults={},p.withConverter=f,p}(function(){})})?i.call(b,n,b,U):i)&&(U.exports=t),U.exports=c()},55013:(U,b,n)=>{var c=n(54385)(n(81464),"DataView");U.exports=c},63028:(U,b,n)=>{var i=n(56399),t=n(61483),c=n(83434),e=n(5230),f=n(33718);function m(p){var y=-1,E=null==p?0:p.length;for(this.clear();++y<E;){var v=p[y];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=f,U.exports=m},25752:(U,b,n)=>{var i=n(23643),t=n(27103),c=n(30062),e=n(31610),f=n(1090);function m(p){var y=-1,E=null==p?0:p.length;for(this.clear();++y<E;){var v=p[y];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=f,U.exports=m},51012:(U,b,n)=>{var c=n(54385)(n(81464),"Map");U.exports=c},90752:(U,b,n)=>{var i=n(21891),t=n(92759),c=n(97766),e=n(40322),f=n(47258);function m(p){var y=-1,E=null==p?0:p.length;for(this.clear();++y<E;){var v=p[y];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=f,U.exports=m},81339:(U,b,n)=>{var c=n(54385)(n(81464),"Promise");U.exports=c},57814:(U,b,n)=>{var c=n(54385)(n(81464),"Set");U.exports=c},50342:(U,b,n)=>{var i=n(90752),t=n(74643),c=n(92768);function e(f){var m=-1,p=null==f?0:f.length;for(this.__data__=new i;++m<p;)this.add(f[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=c,U.exports=e},6898:(U,b,n)=>{var i=n(25752),t=n(48945),c=n(78425),e=n(25280),f=n(80324),m=n(84516);function p(y){var E=this.__data__=new i(y);this.size=E.size}p.prototype.clear=t,p.prototype.delete=c,p.prototype.get=e,p.prototype.has=f,p.prototype.set=m,U.exports=p},8516:(U,b,n)=>{var i=n(81464);U.exports=i.Symbol},12737:(U,b,n)=>{var i=n(81464);U.exports=i.Uint8Array},72248:(U,b,n)=>{var c=n(54385)(n(81464),"WeakMap");U.exports=c},81458:U=>{U.exports=function b(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:U=>{U.exports=function b(n,i,t,c){for(var e=-1,f=null==n?0:n.length;++e<f;){var m=n[e];i(c,m,t(m),n)}return c}},75558:U=>{U.exports=function b(n,i){for(var t=-1,c=null==n?0:n.length;++t<c&&!1!==i(n[t],t,n););return n}},32873:U=>{U.exports=function b(n,i){for(var t=-1,c=null==n?0:n.length,e=0,f=[];++t<c;){var m=n[t];i(m,t,n)&&(f[e++]=m)}return f}},75306:(U,b,n)=>{var i=n(55300);U.exports=function t(c,e){return!(null==c||!c.length)&&i(c,e,0)>-1}},35878:U=>{U.exports=function b(n,i,t){for(var c=-1,e=null==n?0:n.length;++c<e;)if(t(i,n[c]))return!0;return!1}},28548:(U,b,n)=>{var i=n(69695),t=n(56265),c=n(9812),e=n(63151),f=n(98426),m=n(31028),y=Object.prototype.hasOwnProperty;U.exports=function E(v,O){var C=c(v),I=!C&&t(v),D=!C&&!I&&e(v),R=!C&&!I&&!D&&m(v),h=C||I||D||R,S=h?i(v.length,String):[],T=S.length;for(var w in v)(O||y.call(v,w))&&(!h||!("length"==w||D&&("offset"==w||"parent"==w)||R&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||f(w,T)))&&S.push(w);return S}},12757:U=>{U.exports=function b(n,i){for(var t=-1,c=null==n?0:n.length,e=Array(c);++t<c;)e[t]=i(n[t],t,n);return e}},86319:U=>{U.exports=function b(n,i){for(var t=-1,c=i.length,e=n.length;++t<c;)n[e+t]=i[t];return n}},57371:U=>{U.exports=function b(n,i){for(var t=-1,c=null==n?0:n.length;++t<c;)if(i(n[t],t,n))return!0;return!1}},10732:(U,b,n)=>{var i=n(64399),t=n(12651);U.exports=function c(e,f,m){(void 0!==m&&!t(e[f],m)||void 0===m&&!(f in e))&&i(e,f,m)}},69220:(U,b,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;U.exports=function f(m,p,y){var E=m[p];(!e.call(m,p)||!t(E,y)||void 0===y&&!(p in m))&&i(m,p,y)}},86316:(U,b,n)=>{var i=n(12651);U.exports=function t(c,e){for(var f=c.length;f--;)if(i(c[f][0],e))return f;return-1}},61512:(U,b,n)=>{var i=n(40868);U.exports=function t(c,e,f,m){return i(c,function(p,y,E){e(m,p,f(p),E)}),m}},28336:(U,b,n)=>{var i=n(43190),t=n(32561);U.exports=function c(e,f){return e&&i(f,t(f),e)}},66303:(U,b,n)=>{var i=n(43190),t=n(47674);U.exports=function c(e,f){return e&&i(f,t(f),e)}},64399:(U,b,n)=>{var i=n(44678);U.exports=function t(c,e,f){"__proto__"==e&&i?i(c,e,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[e]=f}},25052:(U,b,n)=>{var i=n(6898),t=n(75558),c=n(69220),e=n(28336),f=n(66303),m=n(7697),p=n(25820),y=n(5308),E=n(67491),v=n(3539),O=n(49088),C=n(20828),I=n(89900),D=n(69686),R=n(92870),h=n(9812),S=n(63151),T=n(56879),w=n(83278),M=n(74257),L=n(32561),N=n(47674),K="[object Arguments]",J="[object Function]",fe="[object Object]",st={};st[K]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object DataView]"]=st["[object Boolean]"]=st["[object Date]"]=st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Map]"]=st["[object Number]"]=st[fe]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object Symbol]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Error]"]=st[J]=st["[object WeakMap]"]=!1,U.exports=function We(De,ut,Ge,wt,ot,Tt){var Ee,je=1&ut,mt=2&ut,vn=4&ut;if(Ge&&(Ee=ot?Ge(De,wt,ot,Tt):Ge(De)),void 0!==Ee)return Ee;if(!w(De))return De;var hn=h(De);if(hn){if(Ee=I(De),!je)return p(De,Ee)}else{var jn=C(De),bt=jn==J||"[object GeneratorFunction]"==jn;if(S(De))return m(De,je);if(jn==fe||jn==K||bt&&!ot){if(Ee=mt||bt?{}:R(De),!je)return mt?E(De,f(Ee,De)):y(De,e(Ee,De))}else{if(!st[jn])return ot?De:{};Ee=D(De,jn,je)}}Tt||(Tt=new i);var St=Tt.get(De);if(St)return St;Tt.set(De,Ee),M(De)?De.forEach(function(an){Ee.add(We(an,ut,Ge,an,De,Tt))}):T(De)&&De.forEach(function(an,we){Ee.set(we,We(an,ut,Ge,we,De,Tt))});var gt=hn?void 0:(vn?mt?O:v:mt?N:L)(De);return t(gt||De,function(an,we){gt&&(an=De[we=an]),c(Ee,we,We(an,ut,Ge,we,De,Tt))}),Ee}},19593:(U,b,n)=>{var i=n(83278),t=Object.create;U.exports=function(){function e(){}return function(f){if(!i(f))return{};if(t)return t(f);e.prototype=f;var m=new e;return e.prototype=void 0,m}}()},6362:(U,b,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(12757),f=n(42502),m=n(31890);U.exports=function y(E,v,O,C){var I=-1,D=t,R=!0,h=E.length,S=[],T=v.length;if(!h)return S;O&&(v=e(v,f(O))),C?(D=c,R=!1):v.length>=200&&(D=m,R=!1,v=new i(v));e:for(;++I<h;){var w=E[I],M=null==O?w:O(w);if(w=C||0!==w?w:0,R&&M==M){for(var L=T;L--;)if(v[L]===M)continue e;S.push(w)}else D(v,M,C)||S.push(w)}return S}},40868:(U,b,n)=>{var i=n(73432),c=n(55892)(i);U.exports=c},75736:U=>{U.exports=function b(n,i,t,c){for(var e=n.length,f=t+(c?1:-1);c?f--:++f<e;)if(i(n[f],f,n))return f;return-1}},12875:U=>{U.exports=function b(n,i,t){var c;return t(n,function(e,f,m){if(i(e,f,m))return c=f,!1}),c}},13091:(U,b,n)=>{var i=n(86319),t=n(98892);U.exports=function c(e,f,m,p,y){var E=-1,v=e.length;for(m||(m=t),y||(y=[]);++E<v;){var O=e[E];f>0&&m(O)?f>1?c(O,f-1,m,p,y):i(y,O):p||(y[y.length]=O)}return y}},32898:(U,b,n)=>{var t=n(99602)();U.exports=t},73432:(U,b,n)=>{var i=n(32898),t=n(32561);U.exports=function c(e,f){return e&&i(e,f,t)}},98137:(U,b,n)=>{var i=n(43916),t=n(58130);U.exports=function c(e,f){for(var m=0,p=(f=i(f,e)).length;null!=e&&m<p;)e=e[t(f[m++])];return m&&m==p?e:void 0}},79926:(U,b,n)=>{var i=n(86319),t=n(9812);U.exports=function c(e,f,m){var p=f(e);return t(e)?p:i(p,m(e))}},61057:(U,b,n)=>{var i=n(8516),t=n(8488),c=n(53327),m=i?i.toStringTag:void 0;U.exports=function p(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":m&&m in Object(y)?t(y):c(y)}},31398:U=>{U.exports=function b(n,i){return null!=n&&i in Object(n)}},55300:(U,b,n)=>{var i=n(75736),t=n(59636),c=n(75220);U.exports=function e(f,m,p){return m==m?c(f,m,p):i(f,t,p)}},16324:(U,b,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(12757),f=n(42502),m=n(31890),p=Math.min;U.exports=function y(E,v,O){for(var C=O?c:t,I=E[0].length,D=E.length,R=D,h=Array(D),S=1/0,T=[];R--;){var w=E[R];R&&v&&(w=e(w,f(v))),S=p(w.length,S),h[R]=!O&&(v||I>=120&&w.length>=120)?new i(R&&w):void 0}w=E[0];var M=-1,L=h[0];e:for(;++M<I&&T.length<S;){var N=w[M],j=v?v(N):N;if(N=O||0!==N?N:0,!(L?m(L,j):C(T,j,O))){for(R=D;--R;){var $=h[R];if(!($?m($,j):C(E[R],j,O)))continue e}L&&L.push(j),T.push(N)}}return T}},18313:(U,b,n)=>{var i=n(61057),t=n(57433);U.exports=function e(f){return t(f)&&"[object Arguments]"==i(f)}},32925:(U,b,n)=>{var i=n(89471),t=n(57433);U.exports=function c(e,f,m,p,y){return e===f||(null==e||null==f||!t(e)&&!t(f)?e!=e&&f!=f:i(e,f,m,p,c,y))}},89471:(U,b,n)=>{var i=n(6898),t=n(12900),c=n(7987),e=n(47880),f=n(20828),m=n(9812),p=n(63151),y=n(31028),v="[object Arguments]",O="[object Array]",C="[object Object]",D=Object.prototype.hasOwnProperty;U.exports=function R(h,S,T,w,M,L){var N=m(h),j=m(S),$=N?O:f(h),k=j?O:f(S),K=($=$==v?C:$)==C,z=(k=k==v?C:k)==C,V=$==k;if(V&&p(h)){if(!p(S))return!1;N=!0,K=!1}if(V&&!K)return L||(L=new i),N||y(h)?t(h,S,T,w,M,L):c(h,S,$,T,w,M,L);if(!(1&T)){var G=K&&D.call(h,"__wrapped__"),X=z&&D.call(S,"__wrapped__");if(G||X){var J=G?h.value():h,q=X?S.value():S;return L||(L=new i),M(J,q,T,w,L)}}return!!V&&(L||(L=new i),e(h,S,T,w,M,L))}},26095:(U,b,n)=>{var i=n(20828),t=n(57433);U.exports=function e(f){return t(f)&&"[object Map]"==i(f)}},32692:(U,b,n)=>{var i=n(6898),t=n(32925);U.exports=function f(m,p,y,E){var v=y.length,O=v,C=!E;if(null==m)return!O;for(m=Object(m);v--;){var I=y[v];if(C&&I[2]?I[1]!==m[I[0]]:!(I[0]in m))return!1}for(;++v<O;){var D=(I=y[v])[0],R=m[D],h=I[1];if(C&&I[2]){if(void 0===R&&!(D in m))return!1}else{var S=new i;if(E)var T=E(R,h,D,m,p,S);if(!(void 0===T?t(h,R,3,E,S):T))return!1}}return!0}},59636:U=>{U.exports=function b(n){return n!=n}},60298:(U,b,n)=>{var i=n(58653),t=n(48401),c=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,O=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");U.exports=function C(I){return!(!c(I)||t(I))&&(i(I)?O:m).test(e(I))}},91889:(U,b,n)=>{var i=n(20828),t=n(57433);U.exports=function e(f){return t(f)&&"[object Set]"==i(f)}},18068:(U,b,n)=>{var i=n(61057),t=n(18845),c=n(57433),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1,U.exports=function G(X){return c(X)&&t(X.length)&&!!V[i(X)]}},12344:(U,b,n)=>{var i=n(7432),t=n(61669),c=n(39631),e=n(9812),f=n(15788);U.exports=function m(p){return"function"==typeof p?p:null==p?c:"object"==typeof p?e(p)?t(p[0],p[1]):i(p):f(p)}},13809:(U,b,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;U.exports=function f(m){if(!i(m))return t(m);var p=[];for(var y in Object(m))e.call(m,y)&&"constructor"!=y&&p.push(y);return p}},71194:(U,b,n)=>{var i=n(83278),t=n(3164),c=n(20908),f=Object.prototype.hasOwnProperty;U.exports=function m(p){if(!i(p))return c(p);var y=t(p),E=[];for(var v in p)"constructor"==v&&(y||!f.call(p,v))||E.push(v);return E}},45619:(U,b,n)=>{var i=n(40868),t=n(47291);U.exports=function c(e,f){var m=-1,p=t(e)?Array(e.length):[];return i(e,function(y,E,v){p[++m]=f(y,E,v)}),p}},7432:(U,b,n)=>{var i=n(32692),t=n(90613),c=n(2878);U.exports=function e(f){var m=t(f);return 1==m.length&&m[0][2]?c(m[0][0],m[0][1]):function(p){return p===f||i(p,f,m)}}},61669:(U,b,n)=>{var i=n(32925),t=n(26681),c=n(49830),e=n(181),f=n(94745),m=n(2878),p=n(58130);U.exports=function v(O,C){return e(O)&&f(C)?m(p(O),C):function(I){var D=t(I,O);return void 0===D&&D===C?c(I,O):i(C,D,3)}}},85765:(U,b,n)=>{var i=n(6898),t=n(10732),c=n(32898),e=n(91239),f=n(83278),m=n(47674),p=n(3609);U.exports=function y(E,v,O,C,I){E!==v&&c(v,function(D,R){if(I||(I=new i),f(D))e(E,v,R,O,y,C,I);else{var h=C?C(p(E,R),D,R+"",E,v,I):void 0;void 0===h&&(h=D),t(E,R,h)}},m)}},91239:(U,b,n)=>{var i=n(10732),t=n(7697),c=n(11334),e=n(25820),f=n(92870),m=n(56265),p=n(9812),y=n(25152),E=n(63151),v=n(58653),O=n(83278),C=n(49970),I=n(31028),D=n(3609),R=n(6729);U.exports=function h(S,T,w,M,L,N,j){var $=D(S,w),k=D(T,w),K=j.get(k);if(K)i(S,w,K);else{var z=N?N($,k,w+"",S,T,j):void 0,V=void 0===z;if(V){var G=p(k),X=!G&&E(k),J=!G&&!X&&I(k);z=k,G||X||J?p($)?z=$:y($)?z=e($):X?(V=!1,z=t(k,!0)):J?(V=!1,z=c(k,!0)):z=[]:C(k)||m(k)?(z=$,m($)?z=R($):(!O($)||v($))&&(z=f(k))):V=!1}V&&(j.set(k,z),L(z,k,M,N,j),j.delete(k)),i(S,w,z)}}},32168:(U,b,n)=>{var i=n(12757),t=n(98137),c=n(12344),e=n(45619),f=n(90480),m=n(42502),p=n(81653),y=n(39631),E=n(9812);U.exports=function v(O,C,I){C=C.length?i(C,function(h){return E(h)?function(S){return t(S,1===h.length?h[0]:h)}:h}):[y];var D=-1;C=i(C,m(c));var R=e(O,function(h,S,T){return{criteria:i(C,function(M){return M(h)}),index:++D,value:h}});return f(R,function(h,S){return p(h,S,I)})}},21740:U=>{U.exports=function b(n){return function(i){return i?.[n]}}},55058:(U,b,n)=>{var i=n(98137);U.exports=function t(c){return function(e){return i(e,c)}}},68591:(U,b,n)=>{var i=n(39631),t=n(28452),c=n(11230);U.exports=function e(f,m){return c(t(f,m,i),f+"")}},48565:(U,b,n)=>{var i=n(26205),t=n(44678),c=n(39631);U.exports=t?function(f,m){return t(f,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:c},90480:U=>{U.exports=function b(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:U=>{U.exports=function b(n,i){for(var t=-1,c=Array(n);++t<n;)c[t]=i(t);return c}},87005:(U,b,n)=>{var i=n(8516),t=n(12757),c=n(9812),e=n(15153),f=1/0,m=i?i.prototype:void 0,p=m?m.toString:void 0;U.exports=function y(E){if("string"==typeof E)return E;if(c(E))return t(E,y)+"";if(e(E))return p?p.call(E):"";var v=E+"";return"0"==v&&1/E==-f?"-0":v}},35461:(U,b,n)=>{var i=n(37327),t=/^\s+/;U.exports=function c(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:U=>{U.exports=function b(n){return function(i){return n(i)}}},73136:(U,b,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(31890),f=n(67366),m=n(3578);U.exports=function y(E,v,O){var C=-1,I=t,D=E.length,R=!0,h=[],S=h;if(O)R=!1,I=c;else if(D>=200){var T=v?null:f(E);if(T)return m(T);R=!1,I=e,S=new i}else S=v?[]:h;e:for(;++C<D;){var w=E[C],M=v?v(w):w;if(w=O||0!==w?w:0,R&&M==M){for(var L=S.length;L--;)if(S[L]===M)continue e;v&&S.push(M),h.push(w)}else I(S,M,O)||(S!==h&&S.push(M),h.push(w))}return h}},31890:U=>{U.exports=function b(n,i){return n.has(i)}},86638:(U,b,n)=>{var i=n(25152);U.exports=function t(c){return i(c)?c:[]}},43916:(U,b,n)=>{var i=n(9812),t=n(181),c=n(22447),e=n(54717);U.exports=function f(m,p){return i(m)?m:t(m,p)?[m]:c(e(m))}},96220:(U,b,n)=>{var i=n(12737);U.exports=function t(c){var e=new c.constructor(c.byteLength);return new i(e).set(new i(c)),e}},7697:(U,b,n)=>{U=n.nmd(U);var i=n(81464),t=b&&!b.nodeType&&b,c=t&&U&&!U.nodeType&&U,f=c&&c.exports===t?i.Buffer:void 0,m=f?f.allocUnsafe:void 0;U.exports=function p(y,E){if(E)return y.slice();var v=y.length,O=m?m(v):new y.constructor(v);return y.copy(O),O}},55942:(U,b,n)=>{var i=n(96220);U.exports=function t(c,e){var f=e?i(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}},38466:U=>{var b=/\w*$/;U.exports=function n(i){var t=new i.constructor(i.source,b.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(U,b,n)=>{var i=n(8516),t=i?i.prototype:void 0,c=t?t.valueOf:void 0;U.exports=function e(f){return c?Object(c.call(f)):{}}},11334:(U,b,n)=>{var i=n(96220);U.exports=function t(c,e){var f=e?i(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}},44967:(U,b,n)=>{var i=n(15153);U.exports=function t(c,e){if(c!==e){var f=void 0!==c,m=null===c,p=c==c,y=i(c),E=void 0!==e,v=null===e,O=e==e,C=i(e);if(!v&&!C&&!y&&c>e||y&&E&&O&&!v&&!C||m&&E&&O||!f&&O||!p)return 1;if(!m&&!y&&!C&&c<e||C&&f&&p&&!m&&!y||v&&f&&p||!E&&p||!O)return-1}return 0}},81653:(U,b,n)=>{var i=n(44967);U.exports=function t(c,e,f){for(var m=-1,p=c.criteria,y=e.criteria,E=p.length,v=f.length;++m<E;){var O=i(p[m],y[m]);if(O)return m>=v?O:O*("desc"==f[m]?-1:1)}return c.index-e.index}},25820:U=>{U.exports=function b(n,i){var t=-1,c=n.length;for(i||(i=Array(c));++t<c;)i[t]=n[t];return i}},43190:(U,b,n)=>{var i=n(69220),t=n(64399);U.exports=function c(e,f,m,p){var y=!m;m||(m={});for(var E=-1,v=f.length;++E<v;){var O=f[E],C=p?p(m[O],e[O],O,m,e):void 0;void 0===C&&(C=e[O]),y?t(m,O,C):i(m,O,C)}return m}},5308:(U,b,n)=>{var i=n(43190),t=n(90181);U.exports=function c(e,f){return i(e,t(e),f)}},67491:(U,b,n)=>{var i=n(43190),t=n(35254);U.exports=function c(e,f){return i(e,t(e),f)}},20336:(U,b,n)=>{var i=n(81464);U.exports=i["__core-js_shared__"]},3145:(U,b,n)=>{var i=n(99526),t=n(61512),c=n(12344),e=n(9812);U.exports=function f(m,p){return function(y,E){var v=e(y)?i:t,O=p?p():{};return v(y,m,c(E,2),O)}}},87530:(U,b,n)=>{var i=n(68591),t=n(12721);U.exports=function c(e){return i(function(f,m){var p=-1,y=m.length,E=y>1?m[y-1]:void 0,v=y>2?m[2]:void 0;for(E=e.length>3&&"function"==typeof E?(y--,E):void 0,v&&t(m[0],m[1],v)&&(E=y<3?void 0:E,y=1),f=Object(f);++p<y;){var O=m[p];O&&e(f,O,p,E)}return f})}},55892:(U,b,n)=>{var i=n(47291);U.exports=function t(c,e){return function(f,m){if(null==f)return f;if(!i(f))return c(f,m);for(var p=f.length,y=e?p:-1,E=Object(f);(e?y--:++y<p)&&!1!==m(E[y],y,E););return f}}},99602:U=>{U.exports=function b(n){return function(i,t,c){for(var e=-1,f=Object(i),m=c(i),p=m.length;p--;){var y=m[n?p:++e];if(!1===t(f[y],y,f))break}return i}}},67366:(U,b,n)=>{var i=n(57814),t=n(68145),c=n(3578),f=i&&1/c(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;U.exports=f},44678:(U,b,n)=>{var i=n(54385),t=function(){try{var c=i(Object,"defineProperty");return c({},"",{}),c}catch{}}();U.exports=t},12900:(U,b,n)=>{var i=n(50342),t=n(57371),c=n(31890);U.exports=function m(p,y,E,v,O,C){var I=1&E,D=p.length,R=y.length;if(D!=R&&!(I&&R>D))return!1;var h=C.get(p),S=C.get(y);if(h&&S)return h==y&&S==p;var T=-1,w=!0,M=2&E?new i:void 0;for(C.set(p,y),C.set(y,p);++T<D;){var L=p[T],N=y[T];if(v)var j=I?v(N,L,T,y,p,C):v(L,N,T,p,y,C);if(void 0!==j){if(j)continue;w=!1;break}if(M){if(!t(y,function($,k){if(!c(M,k)&&(L===$||O(L,$,E,v,C)))return M.push(k)})){w=!1;break}}else if(L!==N&&!O(L,N,E,v,C)){w=!1;break}}return C.delete(p),C.delete(y),w}},7987:(U,b,n)=>{var i=n(8516),t=n(12737),c=n(12651),e=n(12900),f=n(37152),m=n(3578),M=i?i.prototype:void 0,L=M?M.valueOf:void 0;U.exports=function N(j,$,k,K,z,V,G){switch(k){case"[object DataView]":if(j.byteLength!=$.byteLength||j.byteOffset!=$.byteOffset)return!1;j=j.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(j.byteLength!=$.byteLength||!V(new t(j),new t($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+j,+$);case"[object Error]":return j.name==$.name&&j.message==$.message;case"[object RegExp]":case"[object String]":return j==$+"";case"[object Map]":var X=f;case"[object Set]":if(X||(X=m),j.size!=$.size&&!(1&K))return!1;var q=G.get(j);if(q)return q==$;K|=2,G.set(j,$);var ne=e(X(j),X($),K,z,V,G);return G.delete(j),ne;case"[object Symbol]":if(L)return L.call(j)==L.call($)}return!1}},47880:(U,b,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;U.exports=function f(m,p,y,E,v,O){var C=1&y,I=i(m),D=I.length;if(D!=i(p).length&&!C)return!1;for(var S=D;S--;){var T=I[S];if(!(C?T in p:e.call(p,T)))return!1}var w=O.get(m),M=O.get(p);if(w&&M)return w==p&&M==m;var L=!0;O.set(m,p),O.set(p,m);for(var N=C;++S<D;){var j=m[T=I[S]],$=p[T];if(E)var k=C?E($,j,T,p,m,O):E(j,$,T,m,p,O);if(!(void 0===k?j===$||v(j,$,y,E,O):k)){L=!1;break}N||(N="constructor"==T)}if(L&&!N){var K=m.constructor,z=p.constructor;K!=z&&"constructor"in m&&"constructor"in p&&!("function"==typeof K&&K instanceof K&&"function"==typeof z&&z instanceof z)&&(L=!1)}return O.delete(m),O.delete(p),L}},78657:U=>{var b="object"==typeof global&&global&&global.Object===Object&&global;U.exports=b},3539:(U,b,n)=>{var i=n(79926),t=n(90181),c=n(32561);U.exports=function e(f){return i(f,c,t)}},49088:(U,b,n)=>{var i=n(79926),t=n(35254),c=n(47674);U.exports=function e(f){return i(f,c,t)}},79038:(U,b,n)=>{var i=n(83329);U.exports=function t(c,e){var f=c.__data__;return i(e)?f["string"==typeof e?"string":"hash"]:f.map}},90613:(U,b,n)=>{var i=n(94745),t=n(32561);U.exports=function c(e){for(var f=t(e),m=f.length;m--;){var p=f[m],y=e[p];f[m]=[p,y,i(y)]}return f}},54385:(U,b,n)=>{var i=n(60298),t=n(58737);U.exports=function c(e,f){var m=t(e,f);return i(m)?m:void 0}},46902:(U,b,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);U.exports=t},8488:(U,b,n)=>{var i=n(8516),t=Object.prototype,c=t.hasOwnProperty,e=t.toString,f=i?i.toStringTag:void 0;U.exports=function m(p){var y=c.call(p,f),E=p[f];try{p[f]=void 0;var v=!0}catch{}var O=e.call(p);return v&&(y?p[f]=E:delete p[f]),O}},90181:(U,b,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;U.exports=f?function(p){return null==p?[]:(p=Object(p),i(f(p),function(y){return e.call(p,y)}))}:t},35254:(U,b,n)=>{var i=n(86319),t=n(46902),c=n(90181),e=n(2260);U.exports=Object.getOwnPropertySymbols?function(p){for(var y=[];p;)i(y,c(p)),p=t(p);return y}:e},20828:(U,b,n)=>{var i=n(55013),t=n(51012),c=n(81339),e=n(57814),f=n(72248),m=n(61057),p=n(68020),y="[object Map]",v="[object Promise]",O="[object Set]",C="[object WeakMap]",I="[object DataView]",D=p(i),R=p(t),h=p(c),S=p(e),T=p(f),w=m;(i&&w(new i(new ArrayBuffer(1)))!=I||t&&w(new t)!=y||c&&w(c.resolve())!=v||e&&w(new e)!=O||f&&w(new f)!=C)&&(w=function(M){var L=m(M),N="[object Object]"==L?M.constructor:void 0,j=N?p(N):"";if(j)switch(j){case D:return I;case R:return y;case h:return v;case S:return O;case T:return C}return L}),U.exports=w},58737:U=>{U.exports=function b(n,i){return n?.[i]}},85121:(U,b,n)=>{var i=n(43916),t=n(56265),c=n(9812),e=n(98426),f=n(18845),m=n(58130);U.exports=function p(y,E,v){for(var O=-1,C=(E=i(E,y)).length,I=!1;++O<C;){var D=m(E[O]);if(!(I=null!=y&&v(y,D)))break;y=y[D]}return I||++O!=C?I:!!(C=null==y?0:y.length)&&f(C)&&e(D,C)&&(c(y)||t(y))}},56399:(U,b,n)=>{var i=n(58247);U.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:U=>{U.exports=function b(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(U,b,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;U.exports=function f(m){var p=this.__data__;if(i){var y=p[m];return"__lodash_hash_undefined__"===y?void 0:y}return e.call(p,m)?p[m]:void 0}},5230:(U,b,n)=>{var i=n(58247),c=Object.prototype.hasOwnProperty;U.exports=function e(f){var m=this.__data__;return i?void 0!==m[f]:c.call(m,f)}},33718:(U,b,n)=>{var i=n(58247);U.exports=function c(e,f){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===f?"__lodash_hash_undefined__":f,this}},89900:U=>{var n=Object.prototype.hasOwnProperty;U.exports=function i(t){var c=t.length,e=new t.constructor(c);return c&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(U,b,n)=>{var i=n(96220),t=n(55942),c=n(38466),e=n(54511),f=n(11334);U.exports=function k(K,z,V){var G=K.constructor;switch(z){case"[object ArrayBuffer]":return i(K);case"[object Boolean]":case"[object Date]":return new G(+K);case"[object DataView]":return t(K,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(K,V);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(K);case"[object RegExp]":return c(K);case"[object Symbol]":return e(K)}}},92870:(U,b,n)=>{var i=n(19593),t=n(46902),c=n(3164);U.exports=function e(f){return"function"!=typeof f.constructor||c(f)?{}:i(t(f))}},98892:(U,b,n)=>{var i=n(8516),t=n(56265),c=n(9812),e=i?i.isConcatSpreadable:void 0;U.exports=function f(m){return c(m)||t(m)||!!(e&&m&&m[e])}},98426:U=>{var n=/^(?:0|[1-9]\d*)$/;U.exports=function i(t,c){var e=typeof t;return!!(c=c??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<c}},12721:(U,b,n)=>{var i=n(12651),t=n(47291),c=n(98426),e=n(83278);U.exports=function f(m,p,y){if(!e(y))return!1;var E=typeof p;return!!("number"==E?t(y)&&c(p,y.length):"string"==E&&p in y)&&i(y[p],m)}},181:(U,b,n)=>{var i=n(9812),t=n(15153),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;U.exports=function f(m,p){if(i(m))return!1;var y=typeof m;return!("number"!=y&&"symbol"!=y&&"boolean"!=y&&null!=m&&!t(m))||e.test(m)||!c.test(m)||null!=p&&m in Object(p)}},83329:U=>{U.exports=function b(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(U,b,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";U.exports=function c(e){return!!t&&t in e}},3164:U=>{var b=Object.prototype;U.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||b)}},94745:(U,b,n)=>{var i=n(83278);U.exports=function t(c){return c==c&&!i(c)}},23643:U=>{U.exports=function b(){this.__data__=[],this.size=0}},27103:(U,b,n)=>{var i=n(86316),c=Array.prototype.splice;U.exports=function e(f){var m=this.__data__,p=i(m,f);return!(p<0||(p==m.length-1?m.pop():c.call(m,p,1),--this.size,0))}},30062:(U,b,n)=>{var i=n(86316);U.exports=function t(c){var e=this.__data__,f=i(e,c);return f<0?void 0:e[f][1]}},31610:(U,b,n)=>{var i=n(86316);U.exports=function t(c){return i(this.__data__,c)>-1}},1090:(U,b,n)=>{var i=n(86316);U.exports=function t(c,e){var f=this.__data__,m=i(f,c);return m<0?(++this.size,f.push([c,e])):f[m][1]=e,this}},21891:(U,b,n)=>{var i=n(63028),t=n(25752),c=n(51012);U.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(c||t),string:new i}}},92759:(U,b,n)=>{var i=n(79038);U.exports=function t(c){var e=i(this,c).delete(c);return this.size-=e?1:0,e}},97766:(U,b,n)=>{var i=n(79038);U.exports=function t(c){return i(this,c).get(c)}},40322:(U,b,n)=>{var i=n(79038);U.exports=function t(c){return i(this,c).has(c)}},47258:(U,b,n)=>{var i=n(79038);U.exports=function t(c,e){var f=i(this,c),m=f.size;return f.set(c,e),this.size+=f.size==m?0:1,this}},37152:U=>{U.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(c,e){t[++i]=[e,c]}),t}},2878:U=>{U.exports=function b(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(U,b,n)=>{var i=n(89605);U.exports=function c(e){var f=i(e,function(p){return 500===m.size&&m.clear(),p}),m=f.cache;return f}},58247:(U,b,n)=>{var t=n(54385)(Object,"create");U.exports=t},96199:(U,b,n)=>{var t=n(72852)(Object.keys,Object);U.exports=t},20908:U=>{U.exports=function b(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(U,b,n)=>{U=n.nmd(U);var i=n(78657),t=b&&!b.nodeType&&b,c=t&&U&&!U.nodeType&&U,f=c&&c.exports===t&&i.process,m=function(){try{return c&&c.require&&c.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();U.exports=m},53327:U=>{var n=Object.prototype.toString;U.exports=function i(t){return n.call(t)}},72852:U=>{U.exports=function b(n,i){return function(t){return n(i(t))}}},28452:(U,b,n)=>{var i=n(81458),t=Math.max;U.exports=function c(e,f,m){return f=t(void 0===f?e.length-1:f,0),function(){for(var p=arguments,y=-1,E=t(p.length-f,0),v=Array(E);++y<E;)v[y]=p[f+y];y=-1;for(var O=Array(f+1);++y<f;)O[y]=p[y];return O[f]=m(v),i(e,this,O)}}},81464:(U,b,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,c=i||t||Function("return this")();U.exports=c},3609:U=>{U.exports=function b(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:U=>{U.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:U=>{U.exports=function b(n){return this.__data__.has(n)}},3578:U=>{U.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(c){t[++i]=c}),t}},11230:(U,b,n)=>{var i=n(48565),c=n(12770)(i);U.exports=c},12770:U=>{var i=Date.now;U.exports=function t(c){var e=0,f=0;return function(){var m=i(),p=16-(m-f);if(f=m,p>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}},48945:(U,b,n)=>{var i=n(25752);U.exports=function t(){this.__data__=new i,this.size=0}},78425:U=>{U.exports=function b(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:U=>{U.exports=function b(n){return this.__data__.get(n)}},80324:U=>{U.exports=function b(n){return this.__data__.has(n)}},84516:(U,b,n)=>{var i=n(25752),t=n(51012),c=n(90752);U.exports=function f(m,p){var y=this.__data__;if(y instanceof i){var E=y.__data__;if(!t||E.length<199)return E.push([m,p]),this.size=++y.size,this;y=this.__data__=new c(E)}return y.set(m,p),this.size=y.size,this}},75220:U=>{U.exports=function b(n,i,t){for(var c=t-1,e=n.length;++c<e;)if(n[c]===i)return c;return-1}},22447:(U,b,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,e=i(function(f){var m=[];return 46===f.charCodeAt(0)&&m.push(""),f.replace(t,function(p,y,E,v){m.push(E?v.replace(c,"$1"):y||p)}),m});U.exports=e},58130:(U,b,n)=>{var i=n(15153),t=1/0;U.exports=function c(e){if("string"==typeof e||i(e))return e;var f=e+"";return"0"==f&&1/e==-t?"-0":f}},68020:U=>{var n=Function.prototype.toString;U.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:U=>{var b=/\s/;U.exports=function n(i){for(var t=i.length;t--&&b.test(i.charAt(t)););return t}},84418:(U,b,n)=>{var i=n(25052);U.exports=function e(f){return i(f,5)}},26205:U=>{U.exports=function b(n){return function(){return n}}},61889:(U,b,n)=>{var i=n(83278),t=n(90501),c=n(73521),f=Math.max,m=Math.min;U.exports=function p(y,E,v){var O,C,I,D,R,h,S=0,T=!1,w=!1,M=!0;if("function"!=typeof y)throw new TypeError("Expected a function");function L(X){var J=O,q=C;return O=C=void 0,S=X,D=y.apply(q,J)}function $(X){var J=X-h;return void 0===h||J>=E||J<0||w&&X-S>=I}function k(){var X=t();if($(X))return K(X);R=setTimeout(k,function j(X){var ne=E-(X-h);return w?m(ne,I-(X-S)):ne}(X))}function K(X){return R=void 0,M&&O?L(X):(O=C=void 0,D)}function G(){var X=t(),J=$(X);if(O=arguments,C=this,h=X,J){if(void 0===R)return function N(X){return S=X,R=setTimeout(k,E),T?L(X):D}(h);if(w)return clearTimeout(R),R=setTimeout(k,E),L(h)}return void 0===R&&(R=setTimeout(k,E)),D}return E=c(E)||0,i(v)&&(T=!!v.leading,I=(w="maxWait"in v)?f(c(v.maxWait)||0,E):I,M="trailing"in v?!!v.trailing:M),G.cancel=function z(){void 0!==R&&clearTimeout(R),S=0,O=h=C=R=void 0},G.flush=function V(){return void 0===R?D:K(t())},G}},25622:(U,b,n)=>{var i=n(6362),t=n(13091),c=n(68591),e=n(25152),f=n(95649),m=c(function(p,y){var E=f(y);return e(E)&&(E=void 0),e(p)?i(p,t(y,1,e,!0),void 0,E):[]});U.exports=m},12651:U=>{U.exports=function b(n,i){return n===i||n!=n&&i!=i}},48376:(U,b,n)=>{var i=n(75736),t=n(12344),c=n(71284),e=Math.max;U.exports=function f(m,p,y){var E=null==m?0:m.length;if(!E)return-1;var v=null==y?0:c(y);return v<0&&(v=e(E+v,0)),i(m,t(p,3),v)}},5771:(U,b,n)=>{var i=n(12875),t=n(73432),c=n(12344);U.exports=function e(f,m){return i(f,c(m,3),t)}},26681:(U,b,n)=>{var i=n(98137);U.exports=function t(c,e,f){var m=null==c?void 0:i(c,e);return void 0===m?f:m}},28267:(U,b,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,f=t(function(m,p,y){e.call(m,y)?m[y].push(p):i(m,y,[p])});U.exports=f},49830:(U,b,n)=>{var i=n(31398),t=n(85121);U.exports=function c(e,f){return null!=e&&t(e,f,i)}},39631:U=>{U.exports=function b(n){return n}},27916:(U,b,n)=>{var i=n(12757),t=n(16324),c=n(68591),e=n(86638),f=n(95649),m=c(function(p){var y=f(p),E=i(p,e);return(y="function"==typeof y?y:void 0)&&E.pop(),E.length&&E[0]===p[0]?t(E,void 0,y):[]});U.exports=m},56265:(U,b,n)=>{var i=n(18313),t=n(57433),c=Object.prototype,e=c.hasOwnProperty,f=c.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(p){return t(p)&&e.call(p,"callee")&&!f.call(p,"callee")};U.exports=m},9812:U=>{U.exports=Array.isArray},47291:(U,b,n)=>{var i=n(58653),t=n(18845);U.exports=function c(e){return null!=e&&t(e.length)&&!i(e)}},25152:(U,b,n)=>{var i=n(47291),t=n(57433);U.exports=function c(e){return t(e)&&i(e)}},63151:(U,b,n)=>{U=n.nmd(U);var i=n(81464),t=n(95710),c=b&&!b.nodeType&&b,e=c&&U&&!U.nodeType&&U,m=e&&e.exports===c?i.Buffer:void 0;U.exports=(m?m.isBuffer:void 0)||t},48125:(U,b,n)=>{var i=n(32925);U.exports=function t(c,e){return i(c,e)}},58653:(U,b,n)=>{var i=n(61057),t=n(83278);U.exports=function p(y){if(!t(y))return!1;var E=i(y);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},18845:U=>{U.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(U,b,n)=>{var i=n(26095),t=n(42502),c=n(90512),e=c&&c.isMap,f=e?t(e):i;U.exports=f},83278:U=>{U.exports=function b(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:U=>{U.exports=function b(n){return null!=n&&"object"==typeof n}},49970:(U,b,n)=>{var i=n(61057),t=n(46902),c=n(57433),p=Function.prototype.toString,y=Object.prototype.hasOwnProperty,E=p.call(Object);U.exports=function v(O){if(!c(O)||"[object Object]"!=i(O))return!1;var C=t(O);if(null===C)return!0;var I=y.call(C,"constructor")&&C.constructor;return"function"==typeof I&&I instanceof I&&p.call(I)==E}},74257:(U,b,n)=>{var i=n(91889),t=n(42502),c=n(90512),e=c&&c.isSet,f=e?t(e):i;U.exports=f},78124:(U,b,n)=>{var i=n(61057),t=n(9812),c=n(57433);U.exports=function f(m){return"string"==typeof m||!t(m)&&c(m)&&"[object String]"==i(m)}},15153:(U,b,n)=>{var i=n(61057),t=n(57433);U.exports=function e(f){return"symbol"==typeof f||t(f)&&"[object Symbol]"==i(f)}},31028:(U,b,n)=>{var i=n(18068),t=n(42502),c=n(90512),e=c&&c.isTypedArray,f=e?t(e):i;U.exports=f},32561:(U,b,n)=>{var i=n(28548),t=n(13809),c=n(47291);U.exports=function e(f){return c(f)?i(f):t(f)}},47674:(U,b,n)=>{var i=n(28548),t=n(71194),c=n(47291);U.exports=function e(f){return c(f)?i(f,!0):t(f)}},95649:U=>{U.exports=function b(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(U,b,n)=>{var i=n(90752);function c(e,f){if("function"!=typeof e||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var m=function(){var p=arguments,y=f?f.apply(this,p):p[0],E=m.cache;if(E.has(y))return E.get(y);var v=e.apply(this,p);return m.cache=E.set(y,v)||E,v};return m.cache=new(c.Cache||i),m}c.Cache=i,U.exports=c},25689:(U,b,n)=>{var i=n(85765),c=n(87530)(function(e,f,m,p){i(e,f,m,p)});U.exports=c},68145:U=>{U.exports=function b(){}},90501:(U,b,n)=>{var i=n(81464);U.exports=function(){return i.Date.now()}},15788:(U,b,n)=>{var i=n(21740),t=n(55058),c=n(181),e=n(58130);U.exports=function f(m){return c(m)?i(e(m)):t(m)}},69136:(U,b,n)=>{var i=n(13091),t=n(32168),c=n(68591),e=n(12721),f=c(function(m,p){if(null==m)return[];var y=p.length;return y>1&&e(m,p[0],p[1])?p=[]:y>2&&e(p[0],p[1],p[2])&&(p=[p[0]]),t(m,i(p,1),[])});U.exports=f},2260:U=>{U.exports=function b(){return[]}},95710:U=>{U.exports=function b(){return!1}},68263:(U,b,n)=>{var i=n(73521),t=1/0;U.exports=function e(f){return f?(f=i(f))===t||f===-t?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},71284:(U,b,n)=>{var i=n(68263);U.exports=function t(c){var e=i(c),f=e%1;return e==e?f?e-f:e:0}},73521:(U,b,n)=>{var i=n(35461),t=n(83278),c=n(15153),f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt;U.exports=function E(v){if("number"==typeof v)return v;if(c(v))return NaN;if(t(v)){var O="function"==typeof v.valueOf?v.valueOf():v;v=t(O)?O+"":O}if("string"!=typeof v)return 0===v?v:+v;v=i(v);var C=m.test(v);return C||p.test(v)?y(v.slice(2),C?2:8):f.test(v)?NaN:+v}},6729:(U,b,n)=>{var i=n(43190),t=n(47674);U.exports=function c(e){return i(e,t(e))}},54717:(U,b,n)=>{var i=n(87005);U.exports=function t(c){return null==c?"":i(c)}},95341:(U,b,n)=>{var i=n(75558),t=n(19593),c=n(73432),e=n(12344),f=n(46902),m=n(9812),p=n(63151),y=n(58653),E=n(83278),v=n(31028);U.exports=function O(C,I,D){var R=m(C),h=R||p(C)||v(C);if(I=e(I,4),null==D){var S=C&&C.constructor;D=h?R?new S:[]:E(C)&&y(S)?t(f(C)):{}}return(h?i:c)(C,function(T,w,M){return I(D,T,w,M)}),D}},28898:(U,b,n)=>{var i=n(13091),t=n(68591),c=n(73136),e=n(25152),f=t(function(m){return c(i(m,1,e,!0))});U.exports=f},30113:(U,b,n)=>{var i=n(12344),t=n(73136);U.exports=function c(e,f){return e&&e.length?t(e,i(f,2)):[]}},63448:(U,b,n)=>{var i=n(73136);U.exports=function t(c,e){return e="function"==typeof e?e:void 0,c&&c.length?i(c,void 0,e):[]}},59519:(U,b,n)=>{var i=n(54717),t=0;U.exports=function c(e){var f=++t;return i(e)+f}},77876:(U,b,n)=>{"use strict";n.d(b,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:f,_hasValue:m,_value:p,thrownError:y,isStopped:E,_isComplete:v}=this;f?e.error(y):(E||v)&&(m&&e.next(p),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:f,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(f),super.complete())}}},84412:(U,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const f=super._subscribe(e);return!f.closed&&e.next(this._value),f}getValue(){const{hasError:e,thrownError:f,_value:m}=this;if(e)throw f;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(U,b,n)=>{"use strict";n.d(b,{c:()=>y});var i=n(47707),t=n(18359),c=n(3494),e=n(71203),f=n(41026),m=n(98071),p=n(49786);let y=(()=>{class C{constructor(D){D&&(this._subscribe=D)}lift(D){const R=new C;return R.source=this,R.operator=D,R}subscribe(D,R,h){const S=function O(C){return C&&C instanceof i.vU||function v(C){return C&&(0,m.T)(C.next)&&(0,m.T)(C.error)&&(0,m.T)(C.complete)}(C)&&(0,t.Uv)(C)}(D)?D:new i.Ms(D,R,h);return(0,p.Y)(()=>{const{operator:T,source:w}=this;S.add(T?T.call(S,w):w?this._subscribe(S):this._trySubscribe(S))}),S}_trySubscribe(D){try{return this._subscribe(D)}catch(R){D.error(R)}}forEach(D,R){return new(R=E(R))((h,S)=>{const T=new i.Ms({next:w=>{try{D(w)}catch(M){S(M),T.unsubscribe()}},error:S,complete:h});this.subscribe(T)})}_subscribe(D){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(D)}[c.s](){return this}pipe(...D){return(0,e.m)(D)(this)}toPromise(D){return new(D=E(D))((R,h)=>{let S;this.subscribe(T=>S=T,T=>h(T),()=>R(S))})}}return C.create=I=>new C(I),C})();function E(C){var I;return null!==(I=C??f.$.Promise)&&void 0!==I?I:Promise}},92771:(U,b,n)=>{"use strict";n.d(b,{m:()=>c});var i=n(21413),t=n(86129);class c extends i.B{constructor(f=1/0,m=1/0,p=t.U){super(),this._bufferSize=f,this._windowTime=m,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,f),this._windowTime=Math.max(1,m)}next(f){const{isStopped:m,_buffer:p,_infiniteTimeWindow:y,_timestampProvider:E,_windowTime:v}=this;m||(p.push(f),!y&&p.push(E.now()+v)),this._trimBuffer(),super.next(f)}_subscribe(f){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(f),{_infiniteTimeWindow:p,_buffer:y}=this,E=y.slice();for(let v=0;v<E.length&&!f.closed;v+=p?1:2)f.next(E[v]);return this._checkFinalizedStatuses(f),m}_trimBuffer(){const{_bufferSize:f,_timestampProvider:m,_buffer:p,_infiniteTimeWindow:y}=this,E=(y?1:2)*f;if(f<1/0&&E<p.length&&p.splice(0,p.length-E),!y){const v=m.now();let O=0;for(let C=1;C<p.length&&p[C]<=v;C+=2)O=C;O&&p.splice(0,O+1)}}}},21413:(U,b,n)=>{"use strict";n.d(b,{B:()=>p});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=n(57908),m=n(49786);let p=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const C=new y(this,this);return C.operator=O,C}_throwIfClosed(){if(this.closed)throw new e}next(O){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(O)}})}error(O){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:C}=this;for(;C.length;)C.shift().error(O)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:C,isStopped:I,observers:D}=this;return C||I?t.Kn:(this.currentObservers=null,D.push(O),new t.yU(()=>{this.currentObservers=null,(0,f.o)(D,O)}))}_checkFinalizedStatuses(O){const{hasError:C,thrownError:I,isStopped:D}=this;C?O.error(I):D&&O.complete()}asObservable(){const O=new i.c;return O.source=this,O}}return E.create=(v,O)=>new y(v,O),E})();class y extends p{constructor(v,O){super(),this.destination=v,this.source=O}next(v){var O,C;null===(C=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===C||C.call(O,v)}error(v){var O,C;null===(C=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===C||C.call(O,v)}complete(){var v,O;null===(O=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===O||O.call(v)}_subscribe(v){var O,C;return null!==(C=null===(O=this.source)||void 0===O?void 0:O.subscribe(v))&&void 0!==C?C:t.Kn}}},47707:(U,b,n)=>{"use strict";n.d(b,{Ms:()=>h,vU:()=>C});var i=n(98071),t=n(18359),c=n(41026),e=n(45334),f=n(85343);const m=E("C",void 0,void 0);function E(L,N,j){return{kind:L,value:N,error:j}}var v=n(19270),O=n(49786);class C extends t.yU{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Uv)(N)&&N.add(this)):this.destination=M}static create(N,j,$){return new h(N,j,$)}next(N){this.isStopped?w(function y(L){return E("N",L,void 0)}(N),this):this._next(N)}error(N){this.isStopped?w(function p(L){return E("E",void 0,L)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?w(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function D(L,N){return I.call(L,N)}class R{constructor(N){this.partialObserver=N}next(N){const{partialObserver:j}=this;if(j.next)try{j.next(N)}catch($){S($)}}error(N){const{partialObserver:j}=this;if(j.error)try{j.error(N)}catch($){S($)}else S(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(j){S(j)}}}class h extends C{constructor(N,j,$){let k;if(super(),(0,i.T)(N)||!N)k={next:N??void 0,error:j??void 0,complete:$??void 0};else{let K;this&&c.$.useDeprecatedNextContext?(K=Object.create(N),K.unsubscribe=()=>this.unsubscribe(),k={next:N.next&&D(N.next,K),error:N.error&&D(N.error,K),complete:N.complete&&D(N.complete,K)}):k=N}this.destination=new R(k)}}function S(L){c.$.useDeprecatedSynchronousErrorHandling?(0,O.l)(L):(0,e.m)(L)}function w(L,N){const{onStoppedNotification:j}=c.$;j&&v.f.setTimeout(()=>j(L,N))}const M={closed:!0,next:f.l,error:function T(L){throw L},complete:f.l}},18359:(U,b,n)=>{"use strict";n.d(b,{Kn:()=>m,yU:()=>f,Uv:()=>p});var i=n(98071);const c=(0,n(81853).L)(E=>function(O){E(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((C,I)=>`${I+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var e=n(57908);class f{constructor(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let v;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const D of O)D.remove(this);else O.remove(this);const{initialTeardown:C}=this;if((0,i.T)(C))try{C()}catch(D){v=D instanceof c?D.errors:[D]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const D of I)try{y(D)}catch(R){v=v??[],R instanceof c?v=[...v,...R.errors]:v.push(R)}}if(v)throw new c(v)}}add(v){var O;if(v&&v!==this)if(this.closed)y(v);else{if(v instanceof f){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(v)}}_hasParent(v){const{_parentage:O}=this;return O===v||Array.isArray(O)&&O.includes(v)}_addParent(v){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(v),O):O?[O,v]:v}_removeParent(v){const{_parentage:O}=this;O===v?this._parentage=null:Array.isArray(O)&&(0,e.o)(O,v)}remove(v){const{_finalizers:O}=this;O&&(0,e.o)(O,v),v instanceof f&&v._removeParent(this)}}f.EMPTY=(()=>{const E=new f;return E.closed=!0,E})();const m=f.EMPTY;function p(E){return E instanceof f||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function y(E){(0,i.T)(E)?E():E.unsubscribe()}},41026:(U,b,n)=>{"use strict";n.d(b,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(U,b,n)=>{"use strict";n.d(b,{G:()=>m});var i=n(71985),t=n(18359),c=n(99898),e=n(54360),f=n(39974);class m extends i.c{constructor(y,E){super(),this.source=y,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,f.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new t.yU;const E=this.getSubject();y.add(this.source.subscribe((0,e._)(E,void 0,()=>{this._teardown(),E.complete()},v=>{this._teardown(),E.error(v)},()=>this._teardown()))),y.closed&&(this._connection=null,y=t.yU.EMPTY)}return y}refCount(){return(0,c.B)()(this)}}},84572:(U,b,n)=>{"use strict";n.d(b,{P:()=>O,z:()=>v});var i=n(71985),t=n(93073),c=n(22806),e=n(33669),f=n(6450),m=n(9326),p=n(58496),y=n(54360),E=n(45225);function v(...I){const D=(0,m.lI)(I),R=(0,m.ms)(I),{args:h,keys:S}=(0,t.D)(I);if(0===h.length)return(0,c.H)([],D);const T=new i.c(O(h,D,S?w=>(0,p.e)(S,w):e.D));return R?T.pipe((0,f.I)(R)):T}function O(I,D,R=e.D){return h=>{C(D,()=>{const{length:S}=I,T=new Array(S);let w=S,M=S;for(let L=0;L<S;L++)C(D,()=>{const N=(0,c.H)(I[L],D);let j=!1;N.subscribe((0,y._)(h,$=>{T[L]=$,j||(j=!0,M--),M||h.next(R(T.slice()))},()=>{--w||h.complete()}))},h)},h)}}function C(I,D,R){I?(0,E.N)(R,I,D):D()}},92688:(U,b,n)=>{"use strict";n.d(b,{x:()=>e});var i=n(79131),t=n(9326),c=n(22806);function e(...f){return(0,i.K)()((0,c.H)(f,(0,t.lI)(f)))}},59030:(U,b,n)=>{"use strict";n.d(b,{v:()=>c});var i=n(71985),t=n(58750);function c(e){return new i.c(f=>{(0,t.Tg)(e()).subscribe(f)})}},983:(U,b,n)=>{"use strict";n.d(b,{w:()=>t});const t=new(n(71985).c)(f=>f.complete())},27468:(U,b,n)=>{"use strict";n.d(b,{p:()=>y});var i=n(71985),t=n(93073),c=n(58750),e=n(9326),f=n(54360),m=n(6450),p=n(58496);function y(...E){const v=(0,e.ms)(E),{args:O,keys:C}=(0,t.D)(E),I=new i.c(D=>{const{length:R}=O;if(!R)return void D.complete();const h=new Array(R);let S=R,T=R;for(let w=0;w<R;w++){let M=!1;(0,c.Tg)(O[w]).subscribe((0,f._)(D,L=>{M||(M=!0,T--),h[w]=L},()=>S--,void 0,()=>{(!S||!M)&&(T||D.next(C?(0,p.e)(C,h):h),D.complete())}))}});return v?I.pipe((0,m.I)(v)):I}},22806:(U,b,n)=>{"use strict";n.d(b,{H:()=>j});var i=n(58750),t=n(40941),c=n(39974);function e($,k=0){return(0,c.N)((K,z)=>{z.add($.schedule(()=>K.subscribe(z),k))})}var p=n(71985),E=n(4761),v=n(98071),O=n(45225);function I($,k){if(!$)throw new Error("Iterable cannot be null");return new p.c(K=>{(0,O.N)(K,k,()=>{const z=$[Symbol.asyncIterator]();(0,O.N)(K,k,()=>{z.next().then(V=>{V.done?K.complete():K.next(V.value)})},0,!0)})})}var D=n(55055),R=n(59858),h=n(47441),S=n(85397),T=n(37953),w=n(50591),M=n(15196);function j($,k){return k?function N($,k){if(null!=$){if((0,D.l)($))return function f($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,h.X)($))return function y($,k){return new p.c(K=>{let z=0;return k.schedule(function(){z===$.length?K.complete():(K.next($[z++]),K.closed||this.schedule())})})}($,k);if((0,R.y)($))return function m($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,T.T)($))return I($,k);if((0,S.x)($))return function C($,k){return new p.c(K=>{let z;return(0,O.N)(K,k,()=>{z=$[E.l](),(0,O.N)(K,k,()=>{let V,G;try{({value:V,done:G}=z.next())}catch(X){return void K.error(X)}G?K.complete():K.next(V)},0,!0)}),()=>(0,v.T)(z?.return)&&z.return()})}($,k);if((0,M.U)($))return function L($,k){return I((0,M.C)($),k)}($,k)}throw(0,w.L)($)}($,k):(0,i.Tg)($)}},33726:(U,b,n)=>{"use strict";n.d(b,{R:()=>v});var i=n(58750),t=n(71985),c=n(73028),e=n(47441),f=n(98071),m=n(6450);const p=["addListener","removeListener"],y=["addEventListener","removeEventListener"],E=["on","off"];function v(R,h,S,T){if((0,f.T)(S)&&(T=S,S=void 0),T)return v(R,h,S).pipe((0,m.I)(T));const[w,M]=function D(R){return(0,f.T)(R.addEventListener)&&(0,f.T)(R.removeEventListener)}(R)?y.map(L=>N=>R[L](h,N,S)):function C(R){return(0,f.T)(R.addListener)&&(0,f.T)(R.removeListener)}(R)?p.map(O(R,h)):function I(R){return(0,f.T)(R.on)&&(0,f.T)(R.off)}(R)?E.map(O(R,h)):[];if(!w&&(0,e.X)(R))return(0,c.Z)(L=>v(L,h,S))((0,i.Tg)(R));if(!w)throw new TypeError("Invalid event target");return new t.c(L=>{const N=(...j)=>L.next(1<j.length?j:j[0]);return w(N),()=>M(N)})}function O(R,h){return S=>T=>R[S](h,T)}},58750:(U,b,n)=>{"use strict";n.d(b,{Tg:()=>I});var i=n(31635),t=n(47441),c=n(59858),e=n(71985),f=n(55055),m=n(37953),p=n(50591),y=n(85397),E=n(15196),v=n(98071),O=n(45334),C=n(3494);function I(L){if(L instanceof e.c)return L;if(null!=L){if((0,f.l)(L))return function D(L){return new e.c(N=>{const j=L[C.s]();if((0,v.T)(j.subscribe))return j.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(L);if((0,t.X)(L))return function R(L){return new e.c(N=>{for(let j=0;j<L.length&&!N.closed;j++)N.next(L[j]);N.complete()})}(L);if((0,c.y)(L))return function h(L){return new e.c(N=>{L.then(j=>{N.closed||(N.next(j),N.complete())},j=>N.error(j)).then(null,O.m)})}(L);if((0,m.T)(L))return T(L);if((0,y.x)(L))return function S(L){return new e.c(N=>{for(const j of L)if(N.next(j),N.closed)return;N.complete()})}(L);if((0,E.U)(L))return function w(L){return T((0,E.C)(L))}(L)}throw(0,p.L)(L)}function T(L){return new e.c(N=>{(function M(L,N){var j,$,k,K;return(0,i.sH)(this,void 0,void 0,function*(){try{for(j=(0,i.xN)(L);!($=yield j.next()).done;)if(N.next($.value),N.closed)return}catch(z){k={error:z}}finally{try{$&&!$.done&&(K=j.return)&&(yield K.call(j))}finally{if(k)throw k.error}}N.complete()})})(L,N).catch(j=>N.error(j))})}},40605:(U,b,n)=>{"use strict";n.d(b,{Y:()=>c});var i=n(43236),t=n(41584);function c(e=0,f=i.E){return e<0&&(e=0),(0,t.O)(e,e,f)}},57786:(U,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(26365),t=n(58750),c=n(983),e=n(9326),f=n(22806);function m(...p){const y=(0,e.lI)(p),E=(0,e.R0)(p,1/0),v=p;return v.length?1===v.length?(0,t.Tg)(v[0]):(0,i.U)(E)((0,f.H)(v,y)):c.w}},7673:(U,b,n)=>{"use strict";n.d(b,{of:()=>c});var i=n(9326),t=n(22806);function c(...e){const f=(0,i.lI)(e);return(0,t.H)(e,f)}},1033:(U,b,n)=>{"use strict";n.d(b,{O:()=>f});var i=n(71985),t=n(58750),c=n(42326),e=n(54360);function f(...p){return 1===(p=(0,c.K)(p)).length?(0,t.Tg)(p[0]):new i.c(function m(p){return y=>{let E=[];for(let v=0;E&&!y.closed&&v<p.length;v++)E.push((0,t.Tg)(p[v]).subscribe((0,e._)(y,O=>{if(E){for(let C=0;C<E.length;C++)C!==v&&E[C].unsubscribe();E=null}y.next(O)})))}}(p))}},18810:(U,b,n)=>{"use strict";n.d(b,{$:()=>c});var i=n(71985),t=n(98071);function c(e,f){const m=(0,t.T)(e)?e:()=>e,p=y=>y.error(m());return new i.c(f?y=>f.schedule(p,0,y):p)}},41584:(U,b,n)=>{"use strict";n.d(b,{O:()=>f});var i=n(71985),t=n(43236),c=n(79470);function f(m=0,p,y=t.b){let E=-1;return null!=p&&((0,c.m)(p)?y=p:E=p),new i.c(v=>{let O=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-y.now():m;O<0&&(O=0);let C=0;return y.schedule(function(){v.closed||(v.next(C++),0<=E?this.schedule(void 0,E):v.complete())},O)})}},44437:(U,b,n)=>{"use strict";n.d(b,{y:()=>p});var i=n(71985),t=n(58750),c=n(42326),e=n(983),f=n(54360),m=n(9326);function p(...y){const E=(0,m.ms)(y),v=(0,c.K)(y);return v.length?new i.c(O=>{let C=v.map(()=>[]),I=v.map(()=>!1);O.add(()=>{C=I=null});for(let D=0;!O.closed&&D<v.length;D++)(0,t.Tg)(v[D]).subscribe((0,f._)(O,R=>{if(C[D].push(R),C.every(h=>h.length)){const h=C.map(S=>S.shift());O.next(E?E(...h):h),C.some((S,T)=>!S.length&&I[T])&&O.complete()}},()=>{I[D]=!0,!C[D].length&&O.complete()}));return()=>{C=I=null}}):e.w}},54360:(U,b,n)=>{"use strict";n.d(b,{H:()=>c,_:()=>t});var i=n(47707);function t(e,f,m,p,y){return new c(e,f,m,p,y)}class c extends i.vU{constructor(f,m,p,y,E,v){super(f),this.onFinalize=E,this.shouldUnsubscribe=v,this._next=m?function(O){try{m(O)}catch(C){f.error(C)}}:super._next,this._error=y?function(O){try{y(O)}catch(C){f.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=p?function(){try{p()}catch(O){f.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}}},99437:(U,b,n)=>{"use strict";n.d(b,{W:()=>e});var i=n(58750),t=n(54360),c=n(39974);function e(f){return(0,c.N)((m,p)=>{let v,y=null,E=!1;y=m.subscribe((0,t._)(p,void 0,void 0,O=>{v=(0,i.Tg)(f(O,e(f)(m))),y?(y.unsubscribe(),y=null,v.subscribe(p)):E=!0})),E&&(y.unsubscribe(),y=null,v.subscribe(p))})}},79131:(U,b,n)=>{"use strict";n.d(b,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(U,b,n)=>{"use strict";n.d(b,{H:()=>c});var i=n(73028),t=n(98071);function c(e,f){return(0,t.T)(f)?(0,i.Z)(e,f,1):(0,i.Z)(e,1)}},70152:(U,b,n)=>{"use strict";n.d(b,{B:()=>e});var i=n(43236),t=n(39974),c=n(54360);function e(f,m=i.E){return(0,t.N)((p,y)=>{let E=null,v=null,O=null;const C=()=>{if(E){E.unsubscribe(),E=null;const D=v;v=null,y.next(D)}};function I(){const D=O+f,R=m.now();if(R<D)return E=this.schedule(void 0,D-R),void y.add(E);C()}p.subscribe((0,c._)(y,D=>{v=D,O=m.now(),E||(E=m.schedule(I,f),y.add(E))},()=>{C(),y.complete()},void 0,()=>{v=E=null}))})}},39901:(U,b,n)=>{"use strict";n.d(b,{U:()=>c});var i=n(39974),t=n(54360);function c(e){return(0,i.N)((f,m)=>{let p=!1;f.subscribe((0,t._)(m,y=>{p=!0,m.next(y)},()=>{p||m.next(e),m.complete()}))})}},35335:(U,b,n)=>{"use strict";n.d(b,{c:()=>v});var i=n(43236),t=n(92688),c=n(96697),e=n(73557),f=n(73703),m=n(73028),p=n(58750);function y(O,C){return C?I=>(0,t.x)(C.pipe((0,c.s)(1),(0,e.w)()),I.pipe(y(O))):(0,m.Z)((I,D)=>(0,p.Tg)(O(I,D)).pipe((0,c.s)(1),(0,f.u)(I)))}var E=n(41584);function v(O,C=i.E){const I=(0,E.O)(O,C);return y(()=>I)}},23294:(U,b,n)=>{"use strict";n.d(b,{F:()=>e});var i=n(33669),t=n(39974),c=n(54360);function e(m,p=i.D){return m=m??f,(0,t.N)((y,E)=>{let v,O=!0;y.subscribe((0,c._)(E,C=>{const I=p(C);(O||!m(v,I))&&(O=!1,v=I,E.next(C))}))})}function f(m,p){return m===p}},5964:(U,b,n)=>{"use strict";n.d(b,{p:()=>c});var i=n(39974),t=n(54360);function c(e,f){return(0,i.N)((m,p)=>{let y=0;m.subscribe((0,t._)(p,E=>e.call(f,E,y++)&&p.next(E)))})}},70980:(U,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(39974);function t(c){return(0,i.N)((e,f)=>{try{e.subscribe(f)}finally{f.add(c)}})}},47677:(U,b,n)=>{"use strict";n.d(b,{I:()=>c});var i=n(39974),t=n(54360);function c(f,m){return(0,i.N)(function e(f,m,p){const y="index"===p;return(E,v)=>{let O=0;E.subscribe((0,t._)(v,C=>{const I=O++;f.call(m,C,I,E)&&(v.next(y?I:C),v.complete())},()=>{v.next(y?-1:void 0),v.complete()}))}}(f,m,"value"))}},61594:(U,b,n)=>{"use strict";n.d(b,{$:()=>p});var i=n(9350),t=n(5964),c=n(96697),e=n(39901),f=n(93774),m=n(33669);function p(y,E){const v=arguments.length>=2;return O=>O.pipe(y?(0,t.p)((C,I)=>y(C,I,O)):m.D,(0,c.s)(1),v?(0,e.U)(E):(0,f.v)(()=>new i.G))}},73557:(U,b,n)=>{"use strict";n.d(b,{w:()=>e});var i=n(39974),t=n(54360),c=n(85343);function e(){return(0,i.N)((f,m)=>{f.subscribe((0,t._)(m,c.l))})}},67018:(U,b,n)=>{"use strict";n.d(b,{H:()=>p});var i=n(9350),t=n(5964),c=n(55109),e=n(93774),f=n(39901),m=n(33669);function p(y,E){const v=arguments.length>=2;return O=>O.pipe(y?(0,t.p)((C,I)=>y(C,I,O)):m.D,(0,c.o)(1),v?(0,f.U)(E):(0,e.v)(()=>new i.G))}},96354:(U,b,n)=>{"use strict";n.d(b,{T:()=>c});var i=n(39974),t=n(54360);function c(e,f){return(0,i.N)((m,p)=>{let y=0;m.subscribe((0,t._)(p,E=>{p.next(e.call(f,E,y++))}))})}},73703:(U,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(96354);function t(c){return(0,i.T)(()=>c)}},1716:(U,b,n)=>{"use strict";n.d(b,{h:()=>f});var i=n(39974),t=n(26365),c=n(9326),e=n(22806);function f(...m){const p=(0,c.lI)(m),y=(0,c.R0)(m,1/0);return(0,i.N)((E,v)=>{(0,t.U)(y)((0,e.H)([E,...m],p)).subscribe(v)})}},26365:(U,b,n)=>{"use strict";n.d(b,{U:()=>c});var i=n(73028),t=n(33669);function c(e=1/0){return(0,i.Z)(t.D,e)}},85412:(U,b,n)=>{"use strict";n.d(b,{h:()=>e});var i=n(58750),t=n(45225),c=n(54360);function e(f,m,p,y,E,v,O,C){const I=[];let D=0,R=0,h=!1;const S=()=>{h&&!I.length&&!D&&m.complete()},T=M=>D<y?w(M):I.push(M),w=M=>{v&&m.next(M),D++;let L=!1;(0,i.Tg)(p(M,R++)).subscribe((0,c._)(m,N=>{E?.(N),v?T(N):m.next(N)},()=>{L=!0},void 0,()=>{if(L)try{for(D--;I.length&&D<y;){const N=I.shift();O?(0,t.N)(m,O,()=>w(N)):w(N)}S()}catch(N){m.error(N)}}))};return f.subscribe((0,c._)(m,T,()=>{h=!0,S()})),()=>{C?.()}}},73028:(U,b,n)=>{"use strict";n.d(b,{Z:()=>m});var i=n(96354),t=n(58750),c=n(39974),e=n(85412),f=n(98071);function m(p,y,E=1/0){return(0,f.T)(y)?m((v,O)=>(0,i.T)((C,I)=>y(v,C,O,I))((0,t.Tg)(p(v,O))),E):("number"==typeof y&&(E=y),(0,c.N)((v,O)=>(0,e.h)(v,O,p,E)))}},40941:(U,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(45225),t=n(39974),c=n(54360);function e(f,m=0){return(0,t.N)((p,y)=>{p.subscribe((0,c._)(y,E=>(0,i.N)(y,f,()=>y.next(E),m),()=>(0,i.N)(y,f,()=>y.complete(),m),E=>(0,i.N)(y,f,()=>y.error(E),m)))})}},19852:(U,b,n)=>{"use strict";n.d(b,{T:()=>c});var i=n(46649),t=n(39974);function c(e,f){return(0,t.N)((0,i.S)(e,f,arguments.length>=2,!1,!0))}},99898:(U,b,n)=>{"use strict";n.d(b,{B:()=>c});var i=n(39974),t=n(54360);function c(){return(0,i.N)((e,f)=>{let m=null;e._refCount++;const p=(0,t._)(f,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const y=e._connection,E=m;m=null,y&&(!E||y===E)&&y.unsubscribe(),f.unsubscribe()});e.subscribe(p),p.closed||(m=e.connect())})}},31943:(U,b,n)=>{"use strict";n.d(b,{S:()=>c});var i=n(39974),t=n(46649);function c(e,f){return(0,i.N)((0,t.S)(e,f,arguments.length>=2,!0))}},46649:(U,b,n)=>{"use strict";n.d(b,{S:()=>t});var i=n(54360);function t(c,e,f,m,p){return(y,E)=>{let v=f,O=e,C=0;y.subscribe((0,i._)(E,I=>{const D=C++;O=v?c(O,I,D):(v=!0,I),m&&E.next(O)},p&&(()=>{v&&E.next(O),E.complete()})))}}},97647:(U,b,n)=>{"use strict";n.d(b,{u:()=>f});var i=n(58750),t=n(21413),c=n(47707),e=n(39974);function f(p={}){const{connector:y=()=>new t.B,resetOnError:E=!0,resetOnComplete:v=!0,resetOnRefCountZero:O=!0}=p;return C=>{let I,D,R,h=0,S=!1,T=!1;const w=()=>{D?.unsubscribe(),D=void 0},M=()=>{w(),I=R=void 0,S=T=!1},L=()=>{const N=I;M(),N?.unsubscribe()};return(0,e.N)((N,j)=>{h++,!T&&!S&&w();const $=R=R??y();j.add(()=>{h--,0===h&&!T&&!S&&(D=m(L,O))}),$.subscribe(j),!I&&h>0&&(I=new c.Ms({next:k=>$.next(k),error:k=>{T=!0,w(),D=m(M,E,k),$.error(k)},complete:()=>{S=!0,w(),D=m(M,v),$.complete()}}),(0,i.Tg)(N).subscribe(I))})(C)}}function m(p,y,...E){if(!0===y)return void p();if(!1===y)return;const v=new c.Ms({next:()=>{v.unsubscribe(),p()}});return(0,i.Tg)(y(...E)).subscribe(v)}},44668:(U,b,n)=>{"use strict";n.d(b,{t:()=>c});var i=n(92771),t=n(97647);function c(e,f,m){let p,y=!1;return e&&"object"==typeof e?({bufferSize:p=1/0,windowTime:f=1/0,refCount:y=!1,scheduler:m}=e):p=e??1/0,(0,t.u)({connector:()=>new i.m(p,f,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y})}},65245:(U,b,n)=>{"use strict";n.d(b,{i:()=>t});var i=n(5964);function t(c){return(0,i.p)((e,f)=>c<=f)}},28492:(U,b,n)=>{"use strict";n.d(b,{j:()=>c});var i=n(39974),t=n(54360);function c(e){return(0,i.N)((f,m)=>{let p=!1,y=0;f.subscribe((0,t._)(m,E=>(p||(p=!e(E,y++)))&&m.next(E)))})}},99172:(U,b,n)=>{"use strict";n.d(b,{Z:()=>e});var i=n(92688),t=n(9326),c=n(39974);function e(...f){const m=(0,t.lI)(f);return(0,c.N)((p,y)=>{(m?(0,i.x)(f,p,m):(0,i.x)(f,p)).subscribe(y)})}},25558:(U,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(58750),t=n(39974),c=n(54360);function e(f,m){return(0,t.N)((p,y)=>{let E=null,v=0,O=!1;const C=()=>O&&!E&&y.complete();p.subscribe((0,c._)(y,I=>{E?.unsubscribe();let D=0;const R=v++;(0,i.Tg)(f(I,R)).subscribe(E=(0,c._)(y,h=>y.next(m?m(I,h,R,D++):h),()=>{E=null,C()}))},()=>{O=!0,C()}))})}},96697:(U,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(983),t=n(39974),c=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,p)=>{let y=0;m.subscribe((0,c._)(p,E=>{++y<=f&&(p.next(E),f<=y&&p.complete())}))})}},55109:(U,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(983),t=n(39974),c=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,p)=>{let y=[];m.subscribe((0,c._)(p,E=>{y.push(E),f<y.length&&y.shift()},()=>{for(const E of y)p.next(E);p.complete()},void 0,()=>{y=null}))})}},56977:(U,b,n)=>{"use strict";n.d(b,{Q:()=>f});var i=n(39974),t=n(54360),c=n(58750),e=n(85343);function f(m){return(0,i.N)((p,y)=>{(0,c.Tg)(m).subscribe((0,t._)(y,()=>y.complete(),e.l)),!y.closed&&p.subscribe(y)})}},77048:(U,b,n)=>{"use strict";n.d(b,{v:()=>c});var i=n(39974),t=n(54360);function c(e,f=!1){return(0,i.N)((m,p)=>{let y=0;m.subscribe((0,t._)(p,E=>{const v=e(E,y++);(v||f)&&p.next(E),!v&&p.complete()}))})}},88141:(U,b,n)=>{"use strict";n.d(b,{M:()=>f});var i=n(98071),t=n(39974),c=n(54360),e=n(33669);function f(m,p,y){const E=(0,i.T)(m)||p||y?{next:m,error:p,complete:y}:m;return E?(0,t.N)((v,O)=>{var C;null===(C=E.subscribe)||void 0===C||C.call(E);let I=!0;v.subscribe((0,c._)(O,D=>{var R;null===(R=E.next)||void 0===R||R.call(E,D),O.next(D)},()=>{var D;I=!1,null===(D=E.complete)||void 0===D||D.call(E),O.complete()},D=>{var R;I=!1,null===(R=E.error)||void 0===R||R.call(E,D),O.error(D)},()=>{var D,R;I&&(null===(D=E.unsubscribe)||void 0===D||D.call(E)),null===(R=E.finalize)||void 0===R||R.call(E)}))}):e.D}},93774:(U,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(9350),t=n(39974),c=n(54360);function e(m=f){return(0,t.N)((p,y)=>{let E=!1;p.subscribe((0,c._)(y,v=>{E=!0,y.next(v)},()=>E?y.complete():y.error(m())))})}function f(){return new i.G}},56594:(U,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(19852),t=n(39974);const c=(f,m)=>(f.push(m),f);function e(){return(0,t.N)((f,m)=>{(0,i.T)(c,[])(f).subscribe(m)})}},53993:(U,b,n)=>{"use strict";n.d(b,{E:()=>p});var i=n(39974),t=n(54360),c=n(58750),e=n(33669),f=n(85343),m=n(9326);function p(...y){const E=(0,m.ms)(y);return(0,i.N)((v,O)=>{const C=y.length,I=new Array(C);let D=y.map(()=>!1),R=!1;for(let h=0;h<C;h++)(0,c.Tg)(y[h]).subscribe((0,t._)(O,S=>{I[h]=S,!R&&!D[h]&&(D[h]=!0,(R=D.every(e.D))&&(D=null))},f.l));v.subscribe((0,t._)(O,h=>{if(R){const S=[h,...I];O.next(E?E(...S):S)}}))})}},96780:(U,b,n)=>{"use strict";n.d(b,{R:()=>f});var i=n(18359);class t extends i.yU{constructor(p,y){super()}schedule(p,y=0){return this}}const c={setInterval(m,p,...y){const{delegate:E}=c;return E?.setInterval?E.setInterval(m,p,...y):setInterval(m,p,...y)},clearInterval(m){const{delegate:p}=c;return(p?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class f extends t{constructor(p,y){super(p,y),this.scheduler=p,this.work=y,this.pending=!1}schedule(p,y=0){var E;if(this.closed)return this;this.state=p;const v=this.id,O=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(O,v,y)),this.pending=!0,this.delay=y,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(O,this.id,y),this}requestAsyncId(p,y,E=0){return c.setInterval(p.flush.bind(p,this),E)}recycleAsyncId(p,y,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return y;null!=y&&c.clearInterval(y)}execute(p,y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(p,y);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,y){let v,E=!1;try{this.work(p)}catch(O){E=!0,v=O||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:p,scheduler:y}=this,{actions:E}=y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(E,this),null!=p&&(this.id=this.recycleAsyncId(y,p,null)),this.delay=null,super.unsubscribe()}}}},39687:(U,b,n)=>{"use strict";n.d(b,{q:()=>c});var i=n(86129);class t{constructor(f,m=t.now){this.schedulerActionCtor=f,this.now=m}schedule(f,m=0,p){return new this.schedulerActionCtor(this,f).schedule(p,m)}}t.now=i.U.now;class c extends t{constructor(f,m=t.now){super(f,m),this.actions=[],this._active=!1}flush(f){const{actions:m}=this;if(this._active)return void m.push(f);let p;this._active=!0;do{if(p=f.execute(f.state,f.delay))break}while(f=m.shift());if(this._active=!1,p){for(;f=m.shift();)f.unsubscribe();throw p}}}},25007:(U,b,n)=>{"use strict";n.d(b,{$:()=>D});var i=n(96780);let c,t=1;const e={};function f(h){return h in e&&(delete e[h],!0)}const m={setImmediate(h){const S=t++;return e[S]=!0,c||(c=Promise.resolve()),c.then(()=>f(S)&&h()),S},clearImmediate(h){f(h)}},{setImmediate:y,clearImmediate:E}=m,v={setImmediate(...h){const{delegate:S}=v;return(S?.setImmediate||y)(...h)},clearImmediate(h){const{delegate:S}=v;return(S?.clearImmediate||E)(h)},delegate:void 0};var C=n(39687);const D=new class I extends C.q{flush(S){this._active=!0;const T=this._scheduled;this._scheduled=void 0;const{actions:w}=this;let M;S=S||w.shift();do{if(M=S.execute(S.state,S.delay))break}while((S=w[0])&&S.id===T&&w.shift());if(this._active=!1,M){for(;(S=w[0])&&S.id===T&&w.shift();)S.unsubscribe();throw M}}}(class O extends i.R{constructor(S,T){super(S,T),this.scheduler=S,this.work=T}requestAsyncId(S,T,w=0){return null!==w&&w>0?super.requestAsyncId(S,T,w):(S.actions.push(this),S._scheduled||(S._scheduled=v.setImmediate(S.flush.bind(S,void 0))))}recycleAsyncId(S,T,w=0){var M;if(null!=w?w>0:this.delay>0)return super.recycleAsyncId(S,T,w);const{actions:L}=S;null!=T&&(null===(M=L[L.length-1])||void 0===M?void 0:M.id)!==T&&(v.clearImmediate(T),S._scheduled===T&&(S._scheduled=void 0))}})},43236:(U,b,n)=>{"use strict";n.d(b,{E:()=>c,b:()=>e});var i=n(96780);const c=new(n(39687).q)(i.R),e=c},86129:(U,b,n)=>{"use strict";n.d(b,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(U,b,n)=>{"use strict";n.d(b,{T:()=>f});var i=n(96780),c=n(39687);const f=new class e extends c.q{}(class t extends i.R{constructor(y,E){super(y,E),this.scheduler=y,this.work=E}schedule(y,E=0){return E>0?super.schedule(y,E):(this.delay=E,this.state=y,this.scheduler.flush(this),this)}execute(y,E){return E>0||this.closed?super.execute(y,E):this._execute(y,E)}requestAsyncId(y,E,v=0){return null!=v&&v>0||null==v&&this.delay>0?super.requestAsyncId(y,E,v):(y.flush(this),0)}})},19270:(U,b,n)=>{"use strict";n.d(b,{f:()=>i});const i={setTimeout(t,c,...e){const{delegate:f}=i;return f?.setTimeout?f.setTimeout(t,c,...e):setTimeout(t,c,...e)},clearTimeout(t){const{delegate:c}=i;return(c?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(U,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(U,b,n)=>{"use strict";n.d(b,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(U,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=(0,n(81853).L)(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(U,b,n)=>{"use strict";n.d(b,{R0:()=>m,lI:()=>f,ms:()=>e});var i=n(98071),t=n(79470);function c(p){return p[p.length-1]}function e(p){return(0,i.T)(c(p))?p.pop():void 0}function f(p){return(0,t.m)(c(p))?p.pop():void 0}function m(p,y){return"number"==typeof c(p)?p.pop():y}},93073:(U,b,n)=>{"use strict";n.d(b,{D:()=>f});const{isArray:i}=Array,{getPrototypeOf:t,prototype:c,keys:e}=Object;function f(p){if(1===p.length){const y=p[0];if(i(y))return{args:y,keys:null};if(function m(p){return p&&"object"==typeof p&&t(p)===c}(y)){const E=e(y);return{args:E.map(v=>y[v]),keys:E}}}return{args:p,keys:null}}},42326:(U,b,n)=>{"use strict";n.d(b,{K:()=>t});const{isArray:i}=Array;function t(c){return 1===c.length&&i(c[0])?c[0]:c}},57908:(U,b,n)=>{"use strict";function i(t,c){if(t){const e=t.indexOf(c);0<=e&&t.splice(e,1)}}n.d(b,{o:()=>i})},81853:(U,b,n)=>{"use strict";function i(t){const e=t(f=>{Error.call(f),f.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(b,{L:()=>i})},58496:(U,b,n)=>{"use strict";function i(t,c){return t.reduce((e,f,m)=>(e[f]=c[m],e),{})}n.d(b,{e:()=>i})},49786:(U,b,n)=>{"use strict";n.d(b,{Y:()=>c,l:()=>e});var i=n(41026);let t=null;function c(f){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),f(),m){const{errorThrown:p,error:y}=t;if(t=null,p)throw y}}else f()}function e(f){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=f)}},45225:(U,b,n)=>{"use strict";function i(t,c,e,f=0,m=!1){const p=c.schedule(function(){e(),m?t.add(this.schedule(null,f)):this.unsubscribe()},f);if(t.add(p),!m)return p}n.d(b,{N:()=>i})},33669:(U,b,n)=>{"use strict";function i(t){return t}n.d(b,{D:()=>i})},47441:(U,b,n)=>{"use strict";n.d(b,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(U,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(98071);function t(c){return Symbol.asyncIterator&&(0,i.T)(c?.[Symbol.asyncIterator])}},98071:(U,b,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(b,{T:()=>i})},55055:(U,b,n)=>{"use strict";n.d(b,{l:()=>c});var i=n(3494),t=n(98071);function c(e){return(0,t.T)(e[i.s])}},85397:(U,b,n)=>{"use strict";n.d(b,{x:()=>c});var i=n(4761),t=n(98071);function c(e){return(0,t.T)(e?.[i.l])}},74402:(U,b,n)=>{"use strict";n.d(b,{A:()=>c});var i=n(71985),t=n(98071);function c(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(U,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(98071);function t(c){return(0,i.T)(c?.then)}},15196:(U,b,n)=>{"use strict";n.d(b,{C:()=>c,U:()=>e});var i=n(31635),t=n(98071);function c(f){return(0,i.AQ)(this,arguments,function*(){const p=f.getReader();try{for(;;){const{value:y,done:E}=yield(0,i.N3)(p.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(y)}}finally{p.releaseLock()}})}function e(f){return(0,t.T)(f?.getReader)}},79470:(U,b,n)=>{"use strict";n.d(b,{m:()=>t});var i=n(98071);function t(c){return c&&(0,i.T)(c.schedule)}},39974:(U,b,n)=>{"use strict";n.d(b,{N:()=>c,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function c(e){return f=>{if(t(f))return f.lift(function(m){try{return e(m,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(U,b,n)=>{"use strict";n.d(b,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(f){return(0,i.T)(m=>function c(f,m){return t(m)?f(...m):f(m)}(f,m))}},85343:(U,b,n)=>{"use strict";function i(){}n.d(b,{l:()=>i})},71203:(U,b,n)=>{"use strict";n.d(b,{F:()=>t,m:()=>c});var i=n(33669);function t(...e){return c(e)}function c(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((p,y)=>y(p),m)}}},45334:(U,b,n)=>{"use strict";n.d(b,{m:()=>c});var i=n(41026),t=n(19270);function c(e){t.f.setTimeout(()=>{const{onUnhandledError:f}=i.$;if(!f)throw e;f(e)})}},50591:(U,b,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(b,{L:()=>i})},36883:(U,b,n)=>{"use strict";n.d(b,{A:()=>C});var i,t=new Uint8Array(16);function c(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=[],y=0;y<256;++y)p.push((y+256).toString(16).substr(1));const v=function E(I){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=(p[I[D+0]]+p[I[D+1]]+p[I[D+2]]+p[I[D+3]]+"-"+p[I[D+4]]+p[I[D+5]]+"-"+p[I[D+6]]+p[I[D+7]]+"-"+p[I[D+8]]+p[I[D+9]]+"-"+p[I[D+10]]+p[I[D+11]]+p[I[D+12]]+p[I[D+13]]+p[I[D+14]]+p[I[D+15]]).toLowerCase();if(!function f(I){return"string"==typeof I&&e.test(I)}(R))throw TypeError("Stringified UUID is invalid");return R},C=function O(I,D,R){var h=(I=I||{}).random||(I.rng||c)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,D){R=R||0;for(var S=0;S<16;++S)D[R+S]=h[S];return D}return v(h)}},96935:()=>{"use strict";const U=globalThis;function b(we){return(U.__Zone_symbol_prefix||"__zone_symbol__")+we}const t=Object.getOwnPropertyDescriptor,c=Object.defineProperty,e=Object.getPrototypeOf,f=Object.create,m=Array.prototype.slice,p="addEventListener",y="removeEventListener",E=b(p),v=b(y),O="true",C="false",I=b("");function D(we,Ct){return Zone.current.wrap(we,Ct)}function R(we,Ct,$t,yt,Zt){return Zone.current.scheduleMacroTask(we,Ct,$t,yt,Zt)}const h=b,S=typeof window<"u",T=S?window:void 0,w=S&&T||globalThis,M="removeAttribute";function L(we,Ct){for(let $t=we.length-1;$t>=0;$t--)"function"==typeof we[$t]&&(we[$t]=D(we[$t],Ct+"_"+$t));return we}function j(we){return!we||!1!==we.writable&&!("function"==typeof we.get&&typeof we.set>"u")}const $=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,k=!("nw"in w)&&typeof w.process<"u"&&"[object process]"===w.process.toString(),K=!k&&!$&&!(!S||!T.HTMLElement),z=typeof w.process<"u"&&"[object process]"===w.process.toString()&&!$&&!(!S||!T.HTMLElement),V={},G=h("enable_beforeunload"),X=function(we){if(!(we=we||w.event))return;let Ct=V[we.type];Ct||(Ct=V[we.type]=h("ON_PROPERTY"+we.type));const $t=this||we.target||w,yt=$t[Ct];let Zt;return K&&$t===T&&"error"===we.type?(Zt=yt&&yt.call(this,we.message,we.filename,we.lineno,we.colno,we.error),!0===Zt&&we.preventDefault()):(Zt=yt&&yt.apply(this,arguments),"beforeunload"===we.type&&w[G]&&"string"==typeof Zt?we.returnValue=Zt:null!=Zt&&!Zt&&we.preventDefault()),Zt};function J(we,Ct,$t){let yt=t(we,Ct);if(!yt&&$t&&t($t,Ct)&&(yt={enumerable:!0,configurable:!0}),!yt||!yt.configurable)return;const Zt=h("on"+Ct+"patched");if(we.hasOwnProperty(Zt)&&we[Zt])return;delete yt.writable,delete yt.value;const on=yt.get,Yt=yt.set,Ht=Ct.slice(2);let Qe=V[Ht];Qe||(Qe=V[Ht]=h("ON_PROPERTY"+Ht)),yt.set=function(ke){let Le=this;!Le&&we===w&&(Le=w),Le&&("function"==typeof Le[Qe]&&Le.removeEventListener(Ht,X),Yt&&Yt.call(Le,null),Le[Qe]=ke,"function"==typeof ke&&Le.addEventListener(Ht,X,!1))},yt.get=function(){let ke=this;if(!ke&&we===w&&(ke=w),!ke)return null;const Le=ke[Qe];if(Le)return Le;if(on){let Xe=on.call(this);if(Xe)return yt.set.call(this,Xe),"function"==typeof ke[M]&&ke.removeAttribute(Ct),Xe}return null},c(we,Ct,yt),we[Zt]=!0}function q(we,Ct,$t){if(Ct)for(let yt=0;yt<Ct.length;yt++)J(we,"on"+Ct[yt],$t);else{const yt=[];for(const Zt in we)"on"==Zt.slice(0,2)&&yt.push(Zt);for(let Zt=0;Zt<yt.length;Zt++)J(we,yt[Zt],$t)}}const ne=h("originalInstance");function ee(we){const Ct=w[we];if(!Ct)return;w[h(we)]=Ct,w[we]=function(){const Zt=L(arguments,we);switch(Zt.length){case 0:this[ne]=new Ct;break;case 1:this[ne]=new Ct(Zt[0]);break;case 2:this[ne]=new Ct(Zt[0],Zt[1]);break;case 3:this[ne]=new Ct(Zt[0],Zt[1],Zt[2]);break;case 4:this[ne]=new Ct(Zt[0],Zt[1],Zt[2],Zt[3]);break;default:throw new Error("Arg list too long.")}},oe(w[we],Ct);const $t=new Ct(function(){});let yt;for(yt in $t)"XMLHttpRequest"===we&&"responseBlob"===yt||function(Zt){"function"==typeof $t[Zt]?w[we].prototype[Zt]=function(){return this[ne][Zt].apply(this[ne],arguments)}:c(w[we].prototype,Zt,{set:function(on){"function"==typeof on?(this[ne][Zt]=D(on,we+"."+Zt),oe(this[ne][Zt],on)):this[ne][Zt]=on},get:function(){return this[ne][Zt]}})}(yt);for(yt in Ct)"prototype"!==yt&&Ct.hasOwnProperty(yt)&&(w[we][yt]=Ct[yt])}function fe(we,Ct,$t){let yt=we;for(;yt&&!yt.hasOwnProperty(Ct);)yt=e(yt);!yt&&we[Ct]&&(yt=we);const Zt=h(Ct);let on=null;if(yt&&(!(on=yt[Zt])||!yt.hasOwnProperty(Zt))&&(on=yt[Zt]=yt[Ct],j(yt&&t(yt,Ct)))){const Ht=$t(on,Zt,Ct);yt[Ct]=function(){return Ht(this,arguments)},oe(yt[Ct],on)}return on}function ye(we,Ct,$t){let yt=null;function Zt(on){const Yt=on.data;return Yt.args[Yt.cbIdx]=function(){on.invoke.apply(this,arguments)},yt.apply(Yt.target,Yt.args),on}yt=fe(we,Ct,on=>function(Yt,Ht){const Qe=$t(Yt,Ht);return Qe.cbIdx>=0&&"function"==typeof Ht[Qe.cbIdx]?R(Qe.name,Ht[Qe.cbIdx],Qe,Zt):on.apply(Yt,Ht)})}function oe(we,Ct){we[h("OriginalDelegate")]=Ct}let ue=!1,te=!1;function be(){if(ue)return te;ue=!0;try{const we=T.navigator.userAgent;(-1!==we.indexOf("MSIE ")||-1!==we.indexOf("Trident/")||-1!==we.indexOf("Edge/"))&&(te=!0)}catch{}return te}function me(we){return"function"==typeof we}function re(we){return"number"==typeof we}let Z=!1;if(typeof window<"u")try{const we=Object.defineProperty({},"passive",{get:function(){Z=!0}});window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{Z=!1}const le={useG:!0},ce={},ve={},ze=new RegExp("^"+I+"(\\w+)(true|false)$"),Se=h("propagationStopped");function et(we,Ct){const $t=(Ct?Ct(we):we)+C,yt=(Ct?Ct(we):we)+O,Zt=I+$t,on=I+yt;ce[we]={},ce[we][C]=Zt,ce[we][O]=on}function $e(we,Ct,$t,yt){const Zt=yt&&yt.add||p,on=yt&&yt.rm||y,Yt=yt&&yt.listeners||"eventListeners",Ht=yt&&yt.rmAll||"removeAllListeners",Qe=h(Zt),ke="."+Zt+":",Le="prependListener",Xe="."+Le+":",ct=function(Ft,At,On){if(Ft.isRemoved)return;const Vn=Ft.callback;let bi;"object"==typeof Vn&&Vn.handleEvent&&(Ft.callback=vt=>Vn.handleEvent(vt),Ft.originalDelegate=Vn);try{Ft.invoke(Ft,At,[On])}catch(vt){bi=vt}const Dt=Ft.options;return Dt&&"object"==typeof Dt&&Dt.once&&At[on].call(At,On.type,Ft.originalDelegate?Ft.originalDelegate:Ft.callback,Dt),bi};function Wt(Ft,At,On){if(!(At=At||we.event))return;const Vn=Ft||At.target||we,bi=Vn[ce[At.type][On?O:C]];if(bi){const Dt=[];if(1===bi.length){const vt=ct(bi[0],Vn,At);vt&&Dt.push(vt)}else{const vt=bi.slice();for(let yn=0;yn<vt.length&&(!At||!0!==At[Se]);yn++){const Dn=ct(vt[yn],Vn,At);Dn&&Dt.push(Dn)}}if(1===Dt.length)throw Dt[0];for(let vt=0;vt<Dt.length;vt++){const yn=Dt[vt];Ct.nativeScheduleMicroTask(()=>{throw yn})}}}const fn=function(Ft){return Wt(this,Ft,!1)},xt=function(Ft){return Wt(this,Ft,!0)};function nn(Ft,At){if(!Ft)return!1;let On=!0;At&&void 0!==At.useG&&(On=At.useG);const Vn=At&&At.vh;let bi=!0;At&&void 0!==At.chkDup&&(bi=At.chkDup);let Dt=!1;At&&void 0!==At.rt&&(Dt=At.rt);let vt=Ft;for(;vt&&!vt.hasOwnProperty(Zt);)vt=e(vt);if(!vt&&Ft[Zt]&&(vt=Ft),!vt||vt[Qe])return!1;const yn=At&&At.eventNameToString,Dn={},ni=vt[Qe]=vt[Zt],oi=vt[h(on)]=vt[on],ai=vt[h(Yt)]=vt[Yt],ts=vt[h(Ht)]=vt[Ht];let ns;At&&At.prepend&&(ns=vt[h(At.prepend)]=vt[At.prepend]);const ps=On?function(Ye){if(!Dn.isExisting)return ni.call(Dn.target,Dn.eventName,Dn.capture?xt:fn,Dn.options)}:function(Ye){return ni.call(Dn.target,Dn.eventName,Ye.invoke,Dn.options)},Ri=On?function(Ye){if(!Ye.isRemoved){const _t=ce[Ye.eventName];let Qt;_t&&(Qt=_t[Ye.capture?O:C]);const En=Qt&&Ye.target[Qt];if(En)for(let Mn=0;Mn<En.length;Mn++)if(En[Mn]===Ye){En.splice(Mn,1),Ye.isRemoved=!0,Ye.removeAbortListener&&(Ye.removeAbortListener(),Ye.removeAbortListener=null),0===En.length&&(Ye.allRemoved=!0,Ye.target[Qt]=null);break}}if(Ye.allRemoved)return oi.call(Ye.target,Ye.eventName,Ye.capture?xt:fn,Ye.options)}:function(Ye){return oi.call(Ye.target,Ye.eventName,Ye.invoke,Ye.options)},qt=At&&At.diff?At.diff:function(Ye,_t){const Qt=typeof _t;return"function"===Qt&&Ye.callback===_t||"object"===Qt&&Ye.originalDelegate===_t},Si=Zone[h("UNPATCHED_EVENTS")],Jt=we[h("PASSIVE_EVENTS")],Fe=function(Ye,_t,Qt,En,Mn=!1,Ln=!1){return function(){const Yn=this||we;let Jn=arguments[0];At&&At.transferEventName&&(Jn=At.transferEventName(Jn));let ki=arguments[1];if(!ki)return Ye.apply(this,arguments);if(k&&"uncaughtException"===Jn)return Ye.apply(this,arguments);let Bi=!1;if("function"!=typeof ki){if(!ki.handleEvent)return Ye.apply(this,arguments);Bi=!0}if(Vn&&!Vn(Ye,ki,Yn,arguments))return;const is=Z&&!!Jt&&-1!==Jt.indexOf(Jn),us=function Pt(Ye){if("object"==typeof Ye&&null!==Ye){const _t={...Ye};return Ye.signal&&(_t.signal=Ye.signal),_t}return Ye}(function si(Ye,_t){return!Z&&"object"==typeof Ye&&Ye?!!Ye.capture:Z&&_t?"boolean"==typeof Ye?{capture:Ye,passive:!0}:Ye?"object"==typeof Ye&&!1!==Ye.passive?{...Ye,passive:!0}:Ye:{passive:!0}:Ye}(arguments[2],is)),fs=us?.signal;if(fs?.aborted)return;if(Si)for(let un=0;un<Si.length;un++)if(Jn===Si[un])return is?Ye.call(Yn,Jn,ki,us):Ye.apply(this,arguments);const Ms=!!us&&("boolean"==typeof us||us.capture),Ji=!(!us||"object"!=typeof us)&&us.once,hs=Zone.current;let jt=ce[Jn];jt||(et(Jn,yn),jt=ce[Jn]);const _n=jt[Ms?O:C];let Me,Ke=Yn[_n],Ce=!1;if(Ke){if(Ce=!0,bi)for(let un=0;un<Ke.length;un++)if(qt(Ke[un],ki))return}else Ke=Yn[_n]=[];const Ue=Yn.constructor.name,ft=ve[Ue];ft&&(Me=ft[Jn]),Me||(Me=Ue+_t+(yn?yn(Jn):Jn)),Dn.options=us,Ji&&(Dn.options.once=!1),Dn.target=Yn,Dn.capture=Ms,Dn.eventName=Jn,Dn.isExisting=Ce;const kt=On?le:void 0;kt&&(kt.taskData=Dn),fs&&(Dn.options.signal=void 0);const pn=hs.scheduleEventTask(Me,ki,kt,Qt,En);if(fs){Dn.options.signal=fs;const un=()=>pn.zone.cancelTask(pn);Ye.call(fs,"abort",un,{once:!0}),pn.removeAbortListener=()=>fs.removeEventListener("abort",un)}return Dn.target=null,kt&&(kt.taskData=null),Ji&&(Dn.options.once=!0),!Z&&"boolean"==typeof pn.options||(pn.options=us),pn.target=Yn,pn.capture=Ms,pn.eventName=Jn,Bi&&(pn.originalDelegate=ki),Ln?Ke.unshift(pn):Ke.push(pn),Mn?Yn:void 0}};return vt[Zt]=Fe(ni,ke,ps,Ri,Dt),ns&&(vt[Le]=Fe(ns,Xe,function(Ye){return ns.call(Dn.target,Dn.eventName,Ye.invoke,Dn.options)},Ri,Dt,!0)),vt[on]=function(){const Ye=this||we;let _t=arguments[0];At&&At.transferEventName&&(_t=At.transferEventName(_t));const Qt=arguments[2],En=!!Qt&&("boolean"==typeof Qt||Qt.capture),Mn=arguments[1];if(!Mn)return oi.apply(this,arguments);if(Vn&&!Vn(oi,Mn,Ye,arguments))return;const Ln=ce[_t];let Yn;Ln&&(Yn=Ln[En?O:C]);const Jn=Yn&&Ye[Yn];if(Jn)for(let ki=0;ki<Jn.length;ki++){const Bi=Jn[ki];if(qt(Bi,Mn))return Jn.splice(ki,1),Bi.isRemoved=!0,0!==Jn.length||(Bi.allRemoved=!0,Ye[Yn]=null,En||"string"!=typeof _t)||(Ye[I+"ON_PROPERTY"+_t]=null),Bi.zone.cancelTask(Bi),Dt?Ye:void 0}return oi.apply(this,arguments)},vt[Yt]=function(){const Ye=this||we;let _t=arguments[0];At&&At.transferEventName&&(_t=At.transferEventName(_t));const Qt=[],En=st(Ye,yn?yn(_t):_t);for(let Mn=0;Mn<En.length;Mn++){const Ln=En[Mn];Qt.push(Ln.originalDelegate?Ln.originalDelegate:Ln.callback)}return Qt},vt[Ht]=function(){const Ye=this||we;let _t=arguments[0];if(_t){At&&At.transferEventName&&(_t=At.transferEventName(_t));const Qt=ce[_t];if(Qt){const Ln=Ye[Qt[C]],Yn=Ye[Qt[O]];if(Ln){const Jn=Ln.slice();for(let ki=0;ki<Jn.length;ki++){const Bi=Jn[ki];this[on].call(this,_t,Bi.originalDelegate?Bi.originalDelegate:Bi.callback,Bi.options)}}if(Yn){const Jn=Yn.slice();for(let ki=0;ki<Jn.length;ki++){const Bi=Jn[ki];this[on].call(this,_t,Bi.originalDelegate?Bi.originalDelegate:Bi.callback,Bi.options)}}}}else{const Qt=Object.keys(Ye);for(let En=0;En<Qt.length;En++){const Ln=ze.exec(Qt[En]);let Yn=Ln&&Ln[1];Yn&&"removeListener"!==Yn&&this[Ht].call(this,Yn)}this[Ht].call(this,"removeListener")}if(Dt)return this},oe(vt[Zt],ni),oe(vt[on],oi),ts&&oe(vt[Ht],ts),ai&&oe(vt[Yt],ai),!0}let ht=[];for(let Ft=0;Ft<$t.length;Ft++)ht[Ft]=nn($t[Ft],yt);return ht}function st(we,Ct){if(!Ct){const on=[];for(let Yt in we){const Ht=ze.exec(Yt);let Qe=Ht&&Ht[1];if(Qe&&(!Ct||Qe===Ct)){const ke=we[Yt];if(ke)for(let Le=0;Le<ke.length;Le++)on.push(ke[Le])}}return on}let $t=ce[Ct];$t||(et(Ct),$t=ce[Ct]);const yt=we[$t[C]],Zt=we[$t[O]];return yt?Zt?yt.concat(Zt):yt.slice():Zt?Zt.slice():[]}function We(we,Ct){const $t=we.Event;$t&&$t.prototype&&Ct.patchMethod($t.prototype,"stopImmediatePropagation",yt=>function(Zt,on){Zt[Se]=!0,yt&&yt.apply(Zt,on)})}const ut=h("zoneTask");function Ge(we,Ct,$t,yt){let Zt=null,on=null;$t+=yt;const Yt={};function Ht(ke){const Le=ke.data;Le.args[0]=function(){return ke.invoke.apply(this,arguments)};const Xe=Zt.apply(we,Le.args);return re(Xe)?Le.handleId=Xe:(Le.handle=Xe,Le.isRefreshable=me(Xe.refresh)),ke}function Qe(ke){const{handle:Le,handleId:Xe}=ke.data;return on.call(we,Le??Xe)}Zt=fe(we,Ct+=yt,ke=>function(Le,Xe){if(me(Xe[0])){const ct={isRefreshable:!1,isPeriodic:"Interval"===yt,delay:"Timeout"===yt||"Interval"===yt?Xe[1]||0:void 0,args:Xe},Wt=Xe[0];Xe[0]=function(){try{return Wt.apply(this,arguments)}finally{const{handle:On,handleId:Vn,isPeriodic:bi,isRefreshable:Dt}=ct;!bi&&!Dt&&(Vn?delete Yt[Vn]:On&&(On[ut]=null))}};const fn=R(Ct,Xe[0],ct,Ht,Qe);if(!fn)return fn;const{handleId:xt,handle:nn,isRefreshable:ht,isPeriodic:Ft}=fn.data;if(xt)Yt[xt]=fn;else if(nn&&(nn[ut]=fn,ht&&!Ft)){const At=nn.refresh;nn.refresh=function(){const{zone:On,state:Vn}=fn;return"notScheduled"===Vn?(fn._state="scheduled",On._updateTaskCount(fn,1)):"running"===Vn&&(fn._state="scheduling"),At.call(this)}}return nn??xt??fn}return ke.apply(we,Xe)}),on=fe(we,$t,ke=>function(Le,Xe){const ct=Xe[0];let Wt;re(ct)?(Wt=Yt[ct],delete Yt[ct]):(Wt=ct?.[ut],Wt?ct[ut]=null:Wt=ct),Wt?.type?Wt.cancelFn&&Wt.zone.cancelTask(Wt):ke.apply(we,Xe)})}function Ee(we,Ct,$t){if(!$t||0===$t.length)return Ct;const yt=$t.filter(on=>on.target===we);if(!yt||0===yt.length)return Ct;const Zt=yt[0].ignoreProperties;return Ct.filter(on=>-1===Zt.indexOf(on))}function je(we,Ct,$t,yt){we&&q(we,Ee(we,Ct,$t),yt)}function mt(we){return Object.getOwnPropertyNames(we).filter(Ct=>Ct.startsWith("on")&&Ct.length>2).map(Ct=>Ct.substring(2))}function St(we,Ct,$t,yt,Zt){const on=Zone.__symbol__(yt);if(Ct[on])return;const Yt=Ct[on]=Ct[yt];Ct[yt]=function(Ht,Qe,ke){return Qe&&Qe.prototype&&Zt.forEach(function(Le){const Xe=`${$t}.${yt}::`+Le,ct=Qe.prototype;try{if(ct.hasOwnProperty(Le)){const Wt=we.ObjectGetOwnPropertyDescriptor(ct,Le);Wt&&Wt.value?(Wt.value=we.wrapWithCurrentZone(Wt.value,Xe),we._redefineProperty(Qe.prototype,Le,Wt)):ct[Le]&&(ct[Le]=we.wrapWithCurrentZone(ct[Le],Xe))}else ct[Le]&&(ct[Le]=we.wrapWithCurrentZone(ct[Le],Xe))}catch{}}),Yt.call(Ct,Ht,Qe,ke)},we.attachOriginToPatched(Ct[yt],Yt)}const an=function i(){const we=globalThis,Ct=!0===we[b("forceDuplicateZoneCheck")];if(we.Zone&&(Ct||"function"!=typeof we.Zone.__symbol__))throw new Error("Zone already loaded.");return we.Zone??=function n(){const we=U.performance;function Ct(si){we&&we.mark&&we.mark(si)}function $t(si,ci){we&&we.measure&&we.measure(si,ci)}Ct("Zone");let yt=(()=>{class si{static{this.__symbol__=b}static assertZonePatched(){if(U.Promise!==Dn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let cn=si.current;for(;cn.parent;)cn=cn.parent;return cn}static get current(){return oi.zone}static get currentTask(){return ai}static __load_patch(cn,gn,pi=!1){if(Dn.hasOwnProperty(cn)){const Oi=!0===U[b("forceDuplicateZoneCheck")];if(!pi&&Oi)throw Error("Already loaded patch: "+cn)}else if(!U["__Zone_disable_"+cn]){const Oi="Zone:"+cn;Ct(Oi),Dn[cn]=gn(U,si,ni),$t(Oi,Oi)}}get parent(){return this._parent}get name(){return this._name}constructor(cn,gn){this._parent=cn,this._name=gn?gn.name||"unnamed":"<root>",this._properties=gn&&gn.properties||{},this._zoneDelegate=new on(this,this._parent&&this._parent._zoneDelegate,gn)}get(cn){const gn=this.getZoneWith(cn);if(gn)return gn._properties[cn]}getZoneWith(cn){let gn=this;for(;gn;){if(gn._properties.hasOwnProperty(cn))return gn;gn=gn._parent}return null}fork(cn){if(!cn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,cn)}wrap(cn,gn){if("function"!=typeof cn)throw new Error("Expecting function got: "+cn);const pi=this._zoneDelegate.intercept(this,cn,gn),Oi=this;return function(){return Oi.runGuarded(pi,this,arguments,gn)}}run(cn,gn,pi,Oi){oi={parent:oi,zone:this};try{return this._zoneDelegate.invoke(this,cn,gn,pi,Oi)}finally{oi=oi.parent}}runGuarded(cn,gn=null,pi,Oi){oi={parent:oi,zone:this};try{try{return this._zoneDelegate.invoke(this,cn,gn,pi,Oi)}catch(ps){if(this._zoneDelegate.handleError(this,ps))throw ps}}finally{oi=oi.parent}}runTask(cn,gn,pi){if(cn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(cn.zone||nn).name+"; Execution: "+this.name+")");const Oi=cn,{type:ps,data:{isPeriodic:Ri=!1,isRefreshable:Ai=!1}={}}=cn;if(cn.state===ht&&(ps===yn||ps===vt))return;const qt=cn.state!=On;qt&&Oi._transitionTo(On,At);const Si=ai;ai=Oi,oi={parent:oi,zone:this};try{ps==vt&&cn.data&&!Ri&&!Ai&&(cn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Oi,gn,pi)}catch(Jt){if(this._zoneDelegate.handleError(this,Jt))throw Jt}}finally{const Jt=cn.state;if(Jt!==ht&&Jt!==bi)if(ps==yn||Ri||Ai&&Jt===Ft)qt&&Oi._transitionTo(At,On,Ft);else{const Pt=Oi._zoneDelegates;this._updateTaskCount(Oi,-1),qt&&Oi._transitionTo(ht,On,ht),Ai&&(Oi._zoneDelegates=Pt)}oi=oi.parent,ai=Si}}scheduleTask(cn){if(cn.zone&&cn.zone!==this){let pi=this;for(;pi;){if(pi===cn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${cn.zone.name}`);pi=pi.parent}}cn._transitionTo(Ft,ht);const gn=[];cn._zoneDelegates=gn,cn._zone=this;try{cn=this._zoneDelegate.scheduleTask(this,cn)}catch(pi){throw cn._transitionTo(bi,Ft,ht),this._zoneDelegate.handleError(this,pi),pi}return cn._zoneDelegates===gn&&this._updateTaskCount(cn,1),cn.state==Ft&&cn._transitionTo(At,Ft),cn}scheduleMicroTask(cn,gn,pi,Oi){return this.scheduleTask(new Yt(Dt,cn,gn,pi,Oi,void 0))}scheduleMacroTask(cn,gn,pi,Oi,ps){return this.scheduleTask(new Yt(vt,cn,gn,pi,Oi,ps))}scheduleEventTask(cn,gn,pi,Oi,ps){return this.scheduleTask(new Yt(yn,cn,gn,pi,Oi,ps))}cancelTask(cn){if(cn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(cn.zone||nn).name+"; Execution: "+this.name+")");if(cn.state===At||cn.state===On){cn._transitionTo(Vn,At,On);try{this._zoneDelegate.cancelTask(this,cn)}catch(gn){throw cn._transitionTo(bi,Vn),this._zoneDelegate.handleError(this,gn),gn}return this._updateTaskCount(cn,-1),cn._transitionTo(ht,Vn),cn.runCount=-1,cn}}_updateTaskCount(cn,gn){const pi=cn._zoneDelegates;-1==gn&&(cn._zoneDelegates=null);for(let Oi=0;Oi<pi.length;Oi++)pi[Oi]._updateTaskCount(cn.type,gn)}}return si})();const Zt={name:"",onHasTask:(si,ci,cn,gn)=>si.hasTask(cn,gn),onScheduleTask:(si,ci,cn,gn)=>si.scheduleTask(cn,gn),onInvokeTask:(si,ci,cn,gn,pi,Oi)=>si.invokeTask(cn,gn,pi,Oi),onCancelTask:(si,ci,cn,gn)=>si.cancelTask(cn,gn)};class on{get zone(){return this._zone}constructor(ci,cn,gn){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=ci,this._parentDelegate=cn,this._forkZS=gn&&(gn&&gn.onFork?gn:cn._forkZS),this._forkDlgt=gn&&(gn.onFork?cn:cn._forkDlgt),this._forkCurrZone=gn&&(gn.onFork?this._zone:cn._forkCurrZone),this._interceptZS=gn&&(gn.onIntercept?gn:cn._interceptZS),this._interceptDlgt=gn&&(gn.onIntercept?cn:cn._interceptDlgt),this._interceptCurrZone=gn&&(gn.onIntercept?this._zone:cn._interceptCurrZone),this._invokeZS=gn&&(gn.onInvoke?gn:cn._invokeZS),this._invokeDlgt=gn&&(gn.onInvoke?cn:cn._invokeDlgt),this._invokeCurrZone=gn&&(gn.onInvoke?this._zone:cn._invokeCurrZone),this._handleErrorZS=gn&&(gn.onHandleError?gn:cn._handleErrorZS),this._handleErrorDlgt=gn&&(gn.onHandleError?cn:cn._handleErrorDlgt),this._handleErrorCurrZone=gn&&(gn.onHandleError?this._zone:cn._handleErrorCurrZone),this._scheduleTaskZS=gn&&(gn.onScheduleTask?gn:cn._scheduleTaskZS),this._scheduleTaskDlgt=gn&&(gn.onScheduleTask?cn:cn._scheduleTaskDlgt),this._scheduleTaskCurrZone=gn&&(gn.onScheduleTask?this._zone:cn._scheduleTaskCurrZone),this._invokeTaskZS=gn&&(gn.onInvokeTask?gn:cn._invokeTaskZS),this._invokeTaskDlgt=gn&&(gn.onInvokeTask?cn:cn._invokeTaskDlgt),this._invokeTaskCurrZone=gn&&(gn.onInvokeTask?this._zone:cn._invokeTaskCurrZone),this._cancelTaskZS=gn&&(gn.onCancelTask?gn:cn._cancelTaskZS),this._cancelTaskDlgt=gn&&(gn.onCancelTask?cn:cn._cancelTaskDlgt),this._cancelTaskCurrZone=gn&&(gn.onCancelTask?this._zone:cn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const pi=gn&&gn.onHasTask;(pi||cn&&cn._hasTaskZS)&&(this._hasTaskZS=pi?gn:Zt,this._hasTaskDlgt=cn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,gn.onScheduleTask||(this._scheduleTaskZS=Zt,this._scheduleTaskDlgt=cn,this._scheduleTaskCurrZone=this._zone),gn.onInvokeTask||(this._invokeTaskZS=Zt,this._invokeTaskDlgt=cn,this._invokeTaskCurrZone=this._zone),gn.onCancelTask||(this._cancelTaskZS=Zt,this._cancelTaskDlgt=cn,this._cancelTaskCurrZone=this._zone))}fork(ci,cn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,ci,cn):new yt(ci,cn)}intercept(ci,cn,gn){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,ci,cn,gn):cn}invoke(ci,cn,gn,pi,Oi){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,ci,cn,gn,pi,Oi):cn.apply(gn,pi)}handleError(ci,cn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,ci,cn)}scheduleTask(ci,cn){let gn=cn;if(this._scheduleTaskZS)this._hasTaskZS&&gn._zoneDelegates.push(this._hasTaskDlgtOwner),gn=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,ci,cn),gn||(gn=cn);else if(cn.scheduleFn)cn.scheduleFn(cn);else{if(cn.type!=Dt)throw new Error("Task is missing scheduleFn.");fn(cn)}return gn}invokeTask(ci,cn,gn,pi){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,ci,cn,gn,pi):cn.callback.apply(gn,pi)}cancelTask(ci,cn){let gn;if(this._cancelTaskZS)gn=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,ci,cn);else{if(!cn.cancelFn)throw Error("Task is not cancelable");gn=cn.cancelFn(cn)}return gn}hasTask(ci,cn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,ci,cn)}catch(gn){this.handleError(ci,gn)}}_updateTaskCount(ci,cn){const gn=this._taskCounts,pi=gn[ci],Oi=gn[ci]=pi+cn;if(Oi<0)throw new Error("More tasks executed then were scheduled.");0!=pi&&0!=Oi||this.hasTask(this._zone,{microTask:gn.microTask>0,macroTask:gn.macroTask>0,eventTask:gn.eventTask>0,change:ci})}}class Yt{constructor(ci,cn,gn,pi,Oi,ps){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=ci,this.source=cn,this.data=pi,this.scheduleFn=Oi,this.cancelFn=ps,!gn)throw new Error("callback is not defined");this.callback=gn;const Ri=this;this.invoke=ci===yn&&pi&&pi.useG?Yt.invokeTask:function(){return Yt.invokeTask.call(U,Ri,this,arguments)}}static invokeTask(ci,cn,gn){ci||(ci=this),ts++;try{return ci.runCount++,ci.zone.runTask(ci,cn,gn)}finally{1==ts&&xt(),ts--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(ht,Ft)}_transitionTo(ci,cn,gn){if(this._state!==cn&&this._state!==gn)throw new Error(`${this.type} '${this.source}': can not transition to '${ci}', expecting state '${cn}'${gn?" or '"+gn+"'":""}, was '${this._state}'.`);this._state=ci,ci==ht&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ht=b("setTimeout"),Qe=b("Promise"),ke=b("then");let ct,Le=[],Xe=!1;function Wt(si){if(ct||U[Qe]&&(ct=U[Qe].resolve(0)),ct){let ci=ct[ke];ci||(ci=ct.then),ci.call(ct,si)}else U[Ht](si,0)}function fn(si){0===ts&&0===Le.length&&Wt(xt),si&&Le.push(si)}function xt(){if(!Xe){for(Xe=!0;Le.length;){const si=Le;Le=[];for(let ci=0;ci<si.length;ci++){const cn=si[ci];try{cn.zone.runTask(cn,null,null)}catch(gn){ni.onUnhandledError(gn)}}}ni.microtaskDrainDone(),Xe=!1}}const nn={name:"NO ZONE"},ht="notScheduled",Ft="scheduling",At="scheduled",On="running",Vn="canceling",bi="unknown",Dt="microTask",vt="macroTask",yn="eventTask",Dn={},ni={symbol:b,currentZoneFrame:()=>oi,onUnhandledError:ns,microtaskDrainDone:ns,scheduleMicroTask:fn,showUncaughtError:()=>!yt[b("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ns,patchMethod:()=>ns,bindArguments:()=>[],patchThen:()=>ns,patchMacroTask:()=>ns,patchEventPrototype:()=>ns,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ns,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ns,wrapWithCurrentZone:()=>ns,filterProperties:()=>[],attachOriginToPatched:()=>ns,_redefineProperty:()=>ns,patchCallbacks:()=>ns,nativeScheduleMicroTask:Wt};let oi={parent:null,zone:new yt(null,null)},ai=null,ts=0;function ns(){}return $t("Zone","Zone"),yt}(),we.Zone}();(function gt(we){(function jn(we){we.__load_patch("ZoneAwarePromise",(Ct,$t,yt)=>{const Zt=Object.getOwnPropertyDescriptor,on=Object.defineProperty,Ht=yt.symbol,Qe=[],ke=!1!==Ct[Ht("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Le=Ht("Promise"),Xe=Ht("then"),ct="__creationTrace__";yt.onUnhandledError=Pt=>{if(yt.showUncaughtError()){const Fe=Pt&&Pt.rejection;Fe?console.error("Unhandled Promise rejection:",Fe instanceof Error?Fe.message:Fe,"; Zone:",Pt.zone.name,"; Task:",Pt.task&&Pt.task.source,"; Value:",Fe,Fe instanceof Error?Fe.stack:void 0):console.error(Pt)}},yt.microtaskDrainDone=()=>{for(;Qe.length;){const Pt=Qe.shift();try{Pt.zone.runGuarded(()=>{throw Pt.throwOriginal?Pt.rejection:Pt})}catch(Fe){fn(Fe)}}};const Wt=Ht("unhandledPromiseRejectionHandler");function fn(Pt){yt.onUnhandledError(Pt);try{const Fe=$t[Wt];"function"==typeof Fe&&Fe.call(this,Pt)}catch{}}function xt(Pt){return Pt&&Pt.then}function nn(Pt){return Pt}function ht(Pt){return Ri.reject(Pt)}const Ft=Ht("state"),At=Ht("value"),On=Ht("finally"),Vn=Ht("parentPromiseValue"),bi=Ht("parentPromiseState"),Dt="Promise.then",vt=null,yn=!0,Dn=!1,ni=0;function oi(Pt,Fe){return Ye=>{try{si(Pt,Fe,Ye)}catch(_t){si(Pt,!1,_t)}}}const ai=function(){let Pt=!1;return function(Ye){return function(){Pt||(Pt=!0,Ye.apply(null,arguments))}}},ts="Promise resolved with itself",ns=Ht("currentTaskTrace");function si(Pt,Fe,Ye){const _t=ai();if(Pt===Ye)throw new TypeError(ts);if(Pt[Ft]===vt){let Qt=null;try{("object"==typeof Ye||"function"==typeof Ye)&&(Qt=Ye&&Ye.then)}catch(En){return _t(()=>{si(Pt,!1,En)})(),Pt}if(Fe!==Dn&&Ye instanceof Ri&&Ye.hasOwnProperty(Ft)&&Ye.hasOwnProperty(At)&&Ye[Ft]!==vt)cn(Ye),si(Pt,Ye[Ft],Ye[At]);else if(Fe!==Dn&&"function"==typeof Qt)try{Qt.call(Ye,_t(oi(Pt,Fe)),_t(oi(Pt,!1)))}catch(En){_t(()=>{si(Pt,!1,En)})()}else{Pt[Ft]=Fe;const En=Pt[At];if(Pt[At]=Ye,Pt[On]===On&&Fe===yn&&(Pt[Ft]=Pt[bi],Pt[At]=Pt[Vn]),Fe===Dn&&Ye instanceof Error){const Mn=$t.currentTask&&$t.currentTask.data&&$t.currentTask.data[ct];Mn&&on(Ye,ns,{configurable:!0,enumerable:!1,writable:!0,value:Mn})}for(let Mn=0;Mn<En.length;)gn(Pt,En[Mn++],En[Mn++],En[Mn++],En[Mn++]);if(0==En.length&&Fe==Dn){Pt[Ft]=ni;let Mn=Ye;try{throw new Error("Uncaught (in promise): "+function Yt(Pt){return Pt&&Pt.toString===Object.prototype.toString?(Pt.constructor&&Pt.constructor.name||"")+": "+JSON.stringify(Pt):Pt?Pt.toString():Object.prototype.toString.call(Pt)}(Ye)+(Ye&&Ye.stack?"\n"+Ye.stack:""))}catch(Ln){Mn=Ln}ke&&(Mn.throwOriginal=!0),Mn.rejection=Ye,Mn.promise=Pt,Mn.zone=$t.current,Mn.task=$t.currentTask,Qe.push(Mn),yt.scheduleMicroTask()}}}return Pt}const ci=Ht("rejectionHandledHandler");function cn(Pt){if(Pt[Ft]===ni){try{const Fe=$t[ci];Fe&&"function"==typeof Fe&&Fe.call(this,{rejection:Pt[At],promise:Pt})}catch{}Pt[Ft]=Dn;for(let Fe=0;Fe<Qe.length;Fe++)Pt===Qe[Fe].promise&&Qe.splice(Fe,1)}}function gn(Pt,Fe,Ye,_t,Qt){cn(Pt);const En=Pt[Ft],Mn=En?"function"==typeof _t?_t:nn:"function"==typeof Qt?Qt:ht;Fe.scheduleMicroTask(Dt,()=>{try{const Ln=Pt[At],Yn=!!Ye&&On===Ye[On];Yn&&(Ye[Vn]=Ln,Ye[bi]=En);const Jn=Fe.run(Mn,void 0,Yn&&Mn!==ht&&Mn!==nn?[]:[Ln]);si(Ye,!0,Jn)}catch(Ln){si(Ye,!1,Ln)}},Ye)}const Oi=function(){},ps=Ct.AggregateError;class Ri{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Fe){return Fe instanceof Ri?Fe:si(new this(null),yn,Fe)}static reject(Fe){return si(new this(null),Dn,Fe)}static withResolvers(){const Fe={};return Fe.promise=new Ri((Ye,_t)=>{Fe.resolve=Ye,Fe.reject=_t}),Fe}static any(Fe){if(!Fe||"function"!=typeof Fe[Symbol.iterator])return Promise.reject(new ps([],"All promises were rejected"));const Ye=[];let _t=0;try{for(let Mn of Fe)_t++,Ye.push(Ri.resolve(Mn))}catch{return Promise.reject(new ps([],"All promises were rejected"))}if(0===_t)return Promise.reject(new ps([],"All promises were rejected"));let Qt=!1;const En=[];return new Ri((Mn,Ln)=>{for(let Yn=0;Yn<Ye.length;Yn++)Ye[Yn].then(Jn=>{Qt||(Qt=!0,Mn(Jn))},Jn=>{En.push(Jn),_t--,0===_t&&(Qt=!0,Ln(new ps(En,"All promises were rejected")))})})}static race(Fe){let Ye,_t,Qt=new this((Ln,Yn)=>{Ye=Ln,_t=Yn});function En(Ln){Ye(Ln)}function Mn(Ln){_t(Ln)}for(let Ln of Fe)xt(Ln)||(Ln=this.resolve(Ln)),Ln.then(En,Mn);return Qt}static all(Fe){return Ri.allWithCallback(Fe)}static allSettled(Fe){return(this&&this.prototype instanceof Ri?this:Ri).allWithCallback(Fe,{thenCallback:_t=>({status:"fulfilled",value:_t}),errorCallback:_t=>({status:"rejected",reason:_t})})}static allWithCallback(Fe,Ye){let _t,Qt,En=new this((Jn,ki)=>{_t=Jn,Qt=ki}),Mn=2,Ln=0;const Yn=[];for(let Jn of Fe){xt(Jn)||(Jn=this.resolve(Jn));const ki=Ln;try{Jn.then(Bi=>{Yn[ki]=Ye?Ye.thenCallback(Bi):Bi,Mn--,0===Mn&&_t(Yn)},Bi=>{Ye?(Yn[ki]=Ye.errorCallback(Bi),Mn--,0===Mn&&_t(Yn)):Qt(Bi)})}catch(Bi){Qt(Bi)}Mn++,Ln++}return Mn-=2,0===Mn&&_t(Yn),En}constructor(Fe){const Ye=this;if(!(Ye instanceof Ri))throw new Error("Must be an instanceof Promise.");Ye[Ft]=vt,Ye[At]=[];try{const _t=ai();Fe&&Fe(_t(oi(Ye,yn)),_t(oi(Ye,Dn)))}catch(_t){si(Ye,!1,_t)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Ri}then(Fe,Ye){let _t=this.constructor?.[Symbol.species];(!_t||"function"!=typeof _t)&&(_t=this.constructor||Ri);const Qt=new _t(Oi),En=$t.current;return this[Ft]==vt?this[At].push(En,Qt,Fe,Ye):gn(this,En,Qt,Fe,Ye),Qt}catch(Fe){return this.then(null,Fe)}finally(Fe){let Ye=this.constructor?.[Symbol.species];(!Ye||"function"!=typeof Ye)&&(Ye=Ri);const _t=new Ye(Oi);_t[On]=On;const Qt=$t.current;return this[Ft]==vt?this[At].push(Qt,_t,Fe,Fe):gn(this,Qt,_t,Fe,Fe),_t}}Ri.resolve=Ri.resolve,Ri.reject=Ri.reject,Ri.race=Ri.race,Ri.all=Ri.all;const Ai=Ct[Le]=Ct.Promise;Ct.Promise=Ri;const qt=Ht("thenPatched");function Si(Pt){const Fe=Pt.prototype,Ye=Zt(Fe,"then");if(Ye&&(!1===Ye.writable||!Ye.configurable))return;const _t=Fe.then;Fe[Xe]=_t,Pt.prototype.then=function(Qt,En){return new Ri((Ln,Yn)=>{_t.call(this,Ln,Yn)}).then(Qt,En)},Pt[qt]=!0}return yt.patchThen=Si,Ai&&(Si(Ai),fe(Ct,"fetch",Pt=>function Jt(Pt){return function(Fe,Ye){let _t=Pt.apply(Fe,Ye);if(_t instanceof Ri)return _t;let Qt=_t.constructor;return Qt[qt]||Si(Qt),_t}}(Pt))),Promise[$t.__symbol__("uncaughtPromiseErrors")]=Qe,Ri})})(we),function bt(we){we.__load_patch("toString",Ct=>{const $t=Function.prototype.toString,yt=h("OriginalDelegate"),Zt=h("Promise"),on=h("Error"),Yt=function(){if("function"==typeof this){const Le=this[yt];if(Le)return"function"==typeof Le?$t.call(Le):Object.prototype.toString.call(Le);if(this===Promise){const Xe=Ct[Zt];if(Xe)return $t.call(Xe)}if(this===Error){const Xe=Ct[on];if(Xe)return $t.call(Xe)}}return $t.call(this)};Yt[yt]=$t,Function.prototype.toString=Yt;const Ht=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ht.call(this)}})}(we),function Nt(we){we.__load_patch("util",(Ct,$t,yt)=>{const Zt=mt(Ct);yt.patchOnProperties=q,yt.patchMethod=fe,yt.bindArguments=L,yt.patchMacroTask=ye;const on=$t.__symbol__("BLACK_LISTED_EVENTS"),Yt=$t.__symbol__("UNPATCHED_EVENTS");Ct[Yt]&&(Ct[on]=Ct[Yt]),Ct[on]&&($t[on]=$t[Yt]=Ct[on]),yt.patchEventPrototype=We,yt.patchEventTarget=$e,yt.isIEOrEdge=be,yt.ObjectDefineProperty=c,yt.ObjectGetOwnPropertyDescriptor=t,yt.ObjectCreate=f,yt.ArraySlice=m,yt.patchClass=ee,yt.wrapWithCurrentZone=D,yt.filterProperties=Ee,yt.attachOriginToPatched=oe,yt._redefineProperty=Object.defineProperty,yt.patchCallbacks=St,yt.getGlobalObjects=()=>({globalSources:ve,zoneSymbolEventNames:ce,eventNames:Zt,isBrowser:K,isMix:z,isNode:k,TRUE_STR:O,FALSE_STR:C,ZONE_SYMBOL_PREFIX:I,ADD_EVENT_LISTENER_STR:p,REMOVE_EVENT_LISTENER_STR:y})})}(we)})(an),function hn(we){we.__load_patch("legacy",Ct=>{const $t=Ct[we.__symbol__("legacyPatch")];$t&&$t()}),we.__load_patch("timers",Ct=>{const yt="clear";Ge(Ct,"set",yt,"Timeout"),Ge(Ct,"set",yt,"Interval"),Ge(Ct,"set",yt,"Immediate")}),we.__load_patch("requestAnimationFrame",Ct=>{Ge(Ct,"request","cancel","AnimationFrame"),Ge(Ct,"mozRequest","mozCancel","AnimationFrame"),Ge(Ct,"webkitRequest","webkitCancel","AnimationFrame")}),we.__load_patch("blocking",(Ct,$t)=>{const yt=["alert","prompt","confirm"];for(let Zt=0;Zt<yt.length;Zt++)fe(Ct,yt[Zt],(Yt,Ht,Qe)=>function(ke,Le){return $t.current.run(Yt,Ct,Le,Qe)})}),we.__load_patch("EventTarget",(Ct,$t,yt)=>{(function Tt(we,Ct){Ct.patchEventPrototype(we,Ct)})(Ct,yt),function ot(we,Ct){if(Zone[Ct.symbol("patchEventTarget")])return;const{eventNames:$t,zoneSymbolEventNames:yt,TRUE_STR:Zt,FALSE_STR:on,ZONE_SYMBOL_PREFIX:Yt}=Ct.getGlobalObjects();for(let Qe=0;Qe<$t.length;Qe++){const ke=$t[Qe],ct=Yt+(ke+on),Wt=Yt+(ke+Zt);yt[ke]={},yt[ke][on]=ct,yt[ke][Zt]=Wt}const Ht=we.EventTarget;Ht&&Ht.prototype&&Ct.patchEventTarget(we,Ct,[Ht&&Ht.prototype])}(Ct,yt);const Zt=Ct.XMLHttpRequestEventTarget;Zt&&Zt.prototype&&yt.patchEventTarget(Ct,yt,[Zt.prototype])}),we.__load_patch("MutationObserver",(Ct,$t,yt)=>{ee("MutationObserver"),ee("WebKitMutationObserver")}),we.__load_patch("IntersectionObserver",(Ct,$t,yt)=>{ee("IntersectionObserver")}),we.__load_patch("FileReader",(Ct,$t,yt)=>{ee("FileReader")}),we.__load_patch("on_property",(Ct,$t,yt)=>{!function vn(we,Ct){if(k&&!z||Zone[we.symbol("patchEvents")])return;const $t=Ct.__Zone_ignore_on_properties;let yt=[];if(K){const Zt=window;yt=yt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const on=function se(){try{const we=T.navigator.userAgent;if(-1!==we.indexOf("MSIE ")||-1!==we.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Zt,ignoreProperties:["error"]}]:[];je(Zt,mt(Zt),$t&&$t.concat(on),e(Zt))}yt=yt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Zt=0;Zt<yt.length;Zt++){const on=Ct[yt[Zt]];on&&on.prototype&&je(on.prototype,mt(on.prototype),$t)}}(yt,Ct)}),we.__load_patch("customElements",(Ct,$t,yt)=>{!function wt(we,Ct){const{isBrowser:$t,isMix:yt}=Ct.getGlobalObjects();($t||yt)&&we.customElements&&"customElements"in we&&Ct.patchCallbacks(Ct,we.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(Ct,yt)}),we.__load_patch("XHR",(Ct,$t)=>{!function ke(Le){const Xe=Le.XMLHttpRequest;if(!Xe)return;const ct=Xe.prototype;let fn=ct[E],xt=ct[v];if(!fn){const ni=Le.XMLHttpRequestEventTarget;if(ni){const oi=ni.prototype;fn=oi[E],xt=oi[v]}}const nn="readystatechange",ht="scheduled";function Ft(ni){const oi=ni.data,ai=oi.target;ai[Yt]=!1,ai[Qe]=!1;const ts=ai[on];fn||(fn=ai[E],xt=ai[v]),ts&&xt.call(ai,nn,ts);const ns=ai[on]=()=>{if(ai.readyState===ai.DONE)if(!oi.aborted&&ai[Yt]&&ni.state===ht){const ci=ai[$t.__symbol__("loadfalse")];if(0!==ai.status&&ci&&ci.length>0){const cn=ni.invoke;ni.invoke=function(){const gn=ai[$t.__symbol__("loadfalse")];for(let pi=0;pi<gn.length;pi++)gn[pi]===ni&&gn.splice(pi,1);!oi.aborted&&ni.state===ht&&cn.call(ni)},ci.push(ni)}else ni.invoke()}else!oi.aborted&&!1===ai[Yt]&&(ai[Qe]=!0)};return fn.call(ai,nn,ns),ai[yt]||(ai[yt]=ni),yn.apply(ai,oi.args),ai[Yt]=!0,ni}function At(){}function On(ni){const oi=ni.data;return oi.aborted=!0,Dn.apply(oi.target,oi.args)}const Vn=fe(ct,"open",()=>function(ni,oi){return ni[Zt]=0==oi[2],ni[Ht]=oi[1],Vn.apply(ni,oi)}),Dt=h("fetchTaskAborting"),vt=h("fetchTaskScheduling"),yn=fe(ct,"send",()=>function(ni,oi){if(!0===$t.current[vt]||ni[Zt])return yn.apply(ni,oi);{const ai={target:ni,url:ni[Ht],isPeriodic:!1,args:oi,aborted:!1},ts=R("XMLHttpRequest.send",At,ai,Ft,On);ni&&!0===ni[Qe]&&!ai.aborted&&ts.state===ht&&ts.invoke()}}),Dn=fe(ct,"abort",()=>function(ni,oi){const ai=function Wt(ni){return ni[yt]}(ni);if(ai&&"string"==typeof ai.type){if(null==ai.cancelFn||ai.data&&ai.data.aborted)return;ai.zone.cancelTask(ai)}else if(!0===$t.current[Dt])return Dn.apply(ni,oi)})}(Ct);const yt=h("xhrTask"),Zt=h("xhrSync"),on=h("xhrListener"),Yt=h("xhrScheduled"),Ht=h("xhrURL"),Qe=h("xhrErrorBeforeScheduled")}),we.__load_patch("geolocation",Ct=>{Ct.navigator&&Ct.navigator.geolocation&&function N(we,Ct){const $t=we.constructor.name;for(let yt=0;yt<Ct.length;yt++){const Zt=Ct[yt],on=we[Zt];if(on){if(!j(t(we,Zt)))continue;we[Zt]=(Ht=>{const Qe=function(){return Ht.apply(this,L(arguments,$t+"."+Zt))};return oe(Qe,Ht),Qe})(on)}}}(Ct.navigator.geolocation,["getCurrentPosition","watchPosition"])}),we.__load_patch("PromiseRejectionEvent",(Ct,$t)=>{function yt(Zt){return function(on){st(Ct,Zt).forEach(Ht=>{const Qe=Ct.PromiseRejectionEvent;if(Qe){const ke=new Qe(Zt,{promise:on.promise,reason:on.rejection});Ht.invoke(ke)}})}}Ct.PromiseRejectionEvent&&($t[h("unhandledPromiseRejectionHandler")]=yt("unhandledrejection"),$t[h("rejectionHandledHandler")]=yt("rejectionhandled"))}),we.__load_patch("queueMicrotask",(Ct,$t,yt)=>{!function De(we,Ct){Ct.patchMethod(we,"queueMicrotask",$t=>function(yt,Zt){Zone.current.scheduleMicroTask("queueMicrotask",Zt[0])})}(Ct,yt)})}(an)},48832:(U,b,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[65235,5235]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=48832,U.exports=t},32012:(U,b,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[48519,900]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=32012,U.exports=t},43562:(U,b,n)=>{var i={"./custom/app/footer/footer.component":[79407,9407]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43562,U.exports=t},30130:(U,b,n)=>{var i={"./custom/app/forbidden/forbidden.component":[203,203]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=30130,U.exports=t},20991:(U,b,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[9600,9600],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[66515]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=20991,U.exports=t},16722:(U,b,n)=>{var i={"./custom/app/header/header.component":[16095,6095],"./dspace/app/header/header.component":[39618]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=16722,U.exports=t},52636:(U,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[8543,8543]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52636,U.exports=t},61196:(U,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[95499,5499]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=61196,U.exports=t},5452:(U,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[1077,1077]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=5452,U.exports=t},78373:(U,b,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[64256,4256]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=78373,U.exports=t},17026:(U,b,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[33971,3971]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=17026,U.exports=t},89979:(U,b,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[12418,2418]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=89979,U.exports=t},88289:(U,b,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[15650,5650]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=88289,U.exports=t},19318:(U,b,n)=>{var i={"./custom/app/navbar/navbar.component":[69189,9189],"./dspace/app/navbar/navbar.component":[87136]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=19318,U.exports=t},18400:U=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=18400,U.exports=b},46544:U=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=46544,U.exports=b},94826:(U,b,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[56509,6509]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94826,U.exports=t},94634:(U,b,n)=>{var i={"./custom/app/root/root.component":[51557,1557]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94634,U.exports=t},28754:(U,b,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[68323,8323]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=28754,U.exports=t},21133:(U,b,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[86196,6196]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=21133,U.exports=t},51808:(U,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[58885,8885]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=51808,U.exports=t},13361:(U,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[39168,9168]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13361,U.exports=t},60939:(U,b,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[43745,3745]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60939,U.exports=t},80882:(U,b,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[86525,6525]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=80882,U.exports=t},12706:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[44111,4111]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=12706,U.exports=t},27122:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[53659,3659]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=27122,U.exports=t},25074:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[81067,1067]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=25074,U.exports=t},61130:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[29739,9739]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=61130,U.exports=t},11452:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[55767,5767]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=11452,U.exports=t},6122:(U,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[55861,5861]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=6122,U.exports=t},72834:(U,b,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[63871,3871]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=72834,U.exports=t},90331:(U,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[47724,7724]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=90331,U.exports=t},14651:(U,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[93264,3264]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=14651,U.exports=t},37919:(U,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[81438,1438]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=37919,U.exports=t},97394:(U,b,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[4317,4317]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=97394,U.exports=t},54512:(U,b,n)=>{var i={"./custom/app/shared/loading/loading.component":[97281,2076,7281]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=54512,U.exports=t},43800:(U,b,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[16835,6835]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43800,U.exports=t},50822:(U,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[85553,5553]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=50822,U.exports=t},70295:(U,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[39214,9214]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=70295,U.exports=t},87596:(U,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[93131,3131]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=87596,U.exports=t},52504:(U,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[38959,8959]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52504,U.exports=t},45796:(U,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[94323,4323]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=45796,U.exports=t},4026:(U,b,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[23753,3753]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=4026,U.exports=t},71931:(U,b,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[9788,9788]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=71931,U.exports=t},8894:(U,b,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[28505,8505]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=8894,U.exports=t},79086:(U,b,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[34681,2076,4681]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=79086,U.exports=t},76142:(U,b,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[91421,1421]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=76142,U.exports=t},64565:(U,b,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[82816,2816]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=64565,U.exports=t},18527:(U,b,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[77290,7290]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=18527,U.exports=t},60911:(U,b,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[3758,3758]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60911,U.exports=t},98587:(U,b,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[46374,6374]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=98587,U.exports=t},13390:(U,b,n)=>{var i={"./custom/app/shared/search/search.component":[53507,3507]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13390,U.exports=t},572:(U,b,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[55371,5371]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=572,U.exports=t},18820:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t,c,e,f,m,p){var y=new Date(0);return y.setUTCFullYear(i,t,c),y.setUTCHours(e,f,m,p),y},U.exports=b.default},59573:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(e,f,m){var p=function c(e,f,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:f,timeZoneName:e})}(e,m.timeZone,m.locale);return p.formatToParts?function i(e,f){for(var m=e.formatToParts(f),p=m.length-1;p>=0;--p)if("timeZoneName"===m[p].type)return m[p].value}(p,f):function t(e,f){var m=e.format(f).replace(/\u200E/g,""),p=/ [\w-+ ]+$/.exec(m);return p?p[0].substr(1):""}(p,f)},U.exports=b.default},34898:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(D,R,h){var S,T,w;if(!D||(S=m.timezoneZ.exec(D)))return 0;if(S=m.timezoneHH.exec(D))return O(w=parseInt(S[1],10))?-w*e:NaN;if(S=m.timezoneHHMM.exec(D)){w=parseInt(S[1],10);var M=parseInt(S[2],10);return O(w,M)?(T=Math.abs(w)*e+M*f,w>0?-T:T):NaN}if(function I(D){if(C[D])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:D}),C[D]=!0,!0}catch{return!1}}(D)){R=new Date(R||Date.now());var L=h?R:function y(D){return(0,t.default)(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds())}(R),N=E(L,D),j=h?N:function v(D,R,h){var T=D.getTime()-R,w=E(new Date(T),h);if(R===w)return R;T-=w-R;var M=E(new Date(T),h);return w===M?w:Math.max(w,M)}(R,N,D);return-j}return NaN};var i=c(n(21771)),t=c(n(18820));function c(D){return D&&D.__esModule?D:{default:D}}var e=36e5,f=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function E(D,R){var h=(0,i.default)(D,R),S=(0,t.default)(h[0],h[1]-1,h[2],h[3]%24,h[4],h[5],0).getTime(),T=D.getTime(),w=T%1e3;return S-(T-(w>=0?w:1e3+w))}function O(D,R){return-23<=D&&D<=23&&(null==R||0<=R&&R<=59)}var C={};U.exports=b.default},85812:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,b.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,U.exports=b.default},21771:(U,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(m,p){var y=function f(m){if(!e[m]){var p=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===p||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===p?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(p);return y.formatToParts?function t(m,p){try{for(var y=m.formatToParts(p),E=[],v=0;v<y.length;v++){var O=i[y[v].type];O>=0&&(E[O]=parseInt(y[v].value,10))}return E}catch(C){if(C instanceof RangeError)return[NaN];throw C}}(y,m):function c(m,p){var y=m.format(p).replace(/\u200E/g,""),E=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(y);return[E[3],E[1],E[2],E[4],E[5],E[6]]}(y,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};U.exports=b.default},62628:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,p,y,E){var v=(0,i.default)(E);return v.timeZone=p,(0,t.default)((0,c.default)(m,p),y,v)};var i=e(n(88200)),t=e(n(38308)),c=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}U.exports=b.default},91490:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var i=c(n(59573)),t=c(n(34898));function c(C){return C&&C.__esModule?C:{default:C}}function m(C,I){var D=C?(0,t.default)(C,I,!0)/6e4:I.getTimezoneOffset();if(Number.isNaN(D))throw new RangeError("Invalid time zone specified: "+C);return D}function p(C,I){for(var D=C<0?"-":"",R=Math.abs(C).toString();R.length<I;)R="0"+R;return D+R}function y(C,I){var D=I||"",R=C>0?"-":"+",h=Math.abs(C);return R+p(Math.floor(h/60),2)+D+p(Math.floor(h%60),2)}function E(C,I){return C%60==0?(C>0?"-":"+")+p(Math.abs(C)/60,2):y(C,I)}b.default={X:function(C,I,D,R){var h=m(R.timeZone,R._originalDate||C);if(0===h)return"Z";switch(I){case"X":return E(h);case"XXXX":case"XX":return y(h);default:return y(h,":")}},x:function(C,I,D,R){var h=m(R.timeZone,R._originalDate||C);switch(I){case"x":return E(h);case"xxxx":case"xx":return y(h);default:return y(h,":")}},O:function(C,I,D,R){var h=m(R.timeZone,R._originalDate||C);switch(I){case"O":case"OO":case"OOO":return"GMT"+function v(C,I){var D=C>0?"-":"+",R=Math.abs(C),h=Math.floor(R/60),S=R%60;if(0===S)return D+String(h);var T=I||"";return D+String(h)+T+p(S,2)}(h,":");default:return"GMT"+y(h,":")}},z:function(C,I,D,R){var h=R._originalDate||C;switch(I){case"z":case"zz":case"zzz":return(0,i.default)("short",h,R);default:return(0,i.default)("long",h,R)}}},U.exports=b.default},38308:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(p,y,E){var v=String(y),O=E||{},C=v.match(f);if(C){var I=(0,c.default)(p,O);v=C.reduce(function(D,R){if("'"===R[0])return D;var h=D.indexOf(R),S="'"===D[h-1],T=D.replace(R,"'"+t.default[R[0]](I,R,null,O)+"'");return S?T.substring(0,h-1)+T.substring(h+1):T},v)}return(0,i.default)(p,v,O)};var i=e(n(24150)),t=e(n(91490)),c=e(n(64358));function e(p){return p&&p.__esModule?p:{default:p}}var f=/([xXOz]+)|''|'(''|[^'])+('|$)/g;U.exports=b.default},48493:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function c(e,f){return-(0,i.default)(e,f)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));U.exports=b.default},56106:(U,b,n)=>{"use strict";U.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function v(j,$){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===j)return new Date(NaN);var k=$||{},K=null==k.additionalDigits?y:(0,i.default)(k.additionalDigits);if(2!==K&&1!==K&&0!==K)throw new RangeError("additionalDigits must be 0, 1 or 2");if(j instanceof Date||"object"==typeof j&&"[object Date]"===Object.prototype.toString.call(j))return new Date(j.getTime());if("number"==typeof j||"[object Number]"===Object.prototype.toString.call(j))return new Date(j);if("string"!=typeof j&&"[object String]"!==Object.prototype.toString.call(j))return new Date(NaN);var z=function O(j){var K,$={},k=E.dateTimePattern.exec(j);if(k?($.date=k[1],K=k[3]):(k=E.datePattern.exec(j))?($.date=k[1],K=k[2]):($.date=null,K=j),K){var z=E.timeZone.exec(K);z?($.time=K.replace(z[1],""),$.timeZone=z[1].trim()):$.time=K}return $}(j),V=function C(j,$){var z,k=E.YYY[$],K=E.YYYYY[$];if(z=E.YYYY.exec(j)||K.exec(j)){var V=z[1];return{year:parseInt(V,10),restDateString:j.slice(V.length)}}if(z=E.YY.exec(j)||k.exec(j)){var G=z[1];return{year:100*parseInt(G,10),restDateString:j.slice(G.length)}}return{year:null}}(z.date,K),J=function I(j,$){if(null===$)return null;var k,K,z,V;if(0===j.length)return(K=new Date(0)).setUTCFullYear($),K;if(k=E.MM.exec(j))return K=new Date(0),w($,z=parseInt(k[1],10)-1)?(K.setUTCFullYear($,z),K):new Date(NaN);if(k=E.DDD.exec(j)){K=new Date(0);var G=parseInt(k[1],10);return function M(j,$){if($<1)return!1;var k=T(j);return!(k&&$>366||!k&&$>365)}($,G)?(K.setUTCFullYear($,0,G),K):new Date(NaN)}if(k=E.MMDD.exec(j)){K=new Date(0),z=parseInt(k[1],10)-1;var X=parseInt(k[2],10);return w($,z,X)?(K.setUTCFullYear($,z,X),K):new Date(NaN)}if(k=E.Www.exec(j))return L(0,V=parseInt(k[1],10)-1)?R($,V):new Date(NaN);if(k=E.WwwD.exec(j)){V=parseInt(k[1],10)-1;var J=parseInt(k[2],10)-1;return L(0,V,J)?R($,V,J):new Date(NaN)}return null}(V.restDateString,V.year);if(isNaN(J))return new Date(NaN);if(J){var ee,q=J.getTime(),ne=0;if(z.time&&(ne=function D(j){var $,k,K;if($=E.HH.exec(j))return N(k=parseFloat($[1].replace(",",".")))?k%24*m:NaN;if($=E.HHMM.exec(j))return N(k=parseInt($[1],10),K=parseFloat($[2].replace(",",".")))?k%24*m+K*p:NaN;if($=E.HHMMSS.exec(j)){k=parseInt($[1],10),K=parseInt($[2],10);var z=parseFloat($[3].replace(",","."));return N(k,K,z)?k%24*m+K*p+1e3*z:NaN}return null}(z.time),isNaN(ne)))return new Date(NaN);if(z.timeZone||k.timeZone){if(ee=(0,c.default)(z.timeZone||k.timeZone,new Date(q+ne)),isNaN(ee))return new Date(NaN)}else ee=(0,t.default)(new Date(q+ne)),ee=(0,t.default)(new Date(q+ne+ee));return new Date(q+ne+ee)}return new Date(NaN)};var i=f(n(25167)),t=f(n(20059)),c=f(n(34898)),e=f(n(85812));function f(j){return j&&j.__esModule?j:{default:j}}var m=36e5,p=6e4,y=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function R(j,$,k){$=$||0,k=k||0;var K=new Date(0);K.setUTCFullYear(j,0,4);var V=7*$+k+1-(K.getUTCDay()||7);return K.setUTCDate(K.getUTCDate()+V),K}var h=[31,28,31,30,31,30,31,31,30,31,30,31],S=[31,29,31,30,31,30,31,31,30,31,30,31];function T(j){return j%400==0||j%4==0&&j%100!=0}function w(j,$,k){if($<0||$>11)return!1;if(null!=k){if(k<1)return!1;var K=T(j);if(K&&k>S[$]||!K&&k>h[$])return!1}return!0}function L(j,$,k){return!($<0||$>52||null!=k&&(k<0||k>6))}function N(j,$,k){return!(null!=j&&(j<0||j>=25)||null!=$&&($<0||$>=60)||null!=k&&(k<0||k>=60))}U.exports=b.default},2589:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f,m,p){var y=(0,t.default)(f,p),E=(0,i.default)(m,y,!0),v=new Date(y.getTime()-E),O=new Date(0);return O.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),O.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),O};var i=c(n(34898)),t=c(n(64358));function c(f){return f&&f.__esModule?f:{default:f}}U.exports=b.default},56743:(U,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function p(y,E,v){if("string"==typeof y&&!y.match(c.default)){var O=(0,i.default)(v);return O.timeZone=E,(0,t.default)(y,O)}var C=(0,t.default)(y,v),I=(0,f.default)(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds(),C.getMilliseconds()).getTime(),D=(0,e.default)(E,new Date(I));return new Date(I+D)};var i=m(n(88200)),t=m(n(64358)),c=m(n(85812)),e=m(n(34898)),f=m(n(18820));function m(y){return y&&y.__esModule?y:{default:y}}U.exports=b.default},52165:()=>{var U,b;b=U||(U={}),function(){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function f(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=c(b);function c(p,y){return function(E,v){Object.defineProperty(p,E,{configurable:!0,writable:!0,value:v}),y&&y(E,v)}}typeof i.Reflect<"u"&&(t=c(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,c="function"==typeof Symbol,e=c&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",f=c&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,p={__proto__:[]}instanceof Array,y=!m&&!p,E={create:m?function(){return jn(Object.create(null))}:p?function(){return jn({__proto__:null})}:function(){return jn({})},has:y?function(bt,St){return t.call(bt,St)}:function(bt,St){return St in bt},get:y?function(bt,St){return t.call(bt,St)?bt[St]:void 0}:function(bt,St){return bt[St]}},v=Object.getPrototypeOf(Function),O="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function mt(){var bt={},St=[],Nt=function(){function $t(yt,Zt,on){this._index=0,this._keys=yt,this._values=Zt,this._selector=on}return $t.prototype["@@iterator"]=function(){return this},$t.prototype[f]=function(){return this},$t.prototype.next=function(){var yt=this._index;if(yt>=0&&yt<this._keys.length){var Zt=this._selector(this._keys[yt],this._values[yt]);return yt+1>=this._keys.length?(this._index=-1,this._keys=St,this._values=St):this._index++,{value:Zt,done:!1}}return{value:void 0,done:!0}},$t.prototype.throw=function(yt){throw this._index>=0&&(this._index=-1,this._keys=St,this._values=St),yt},$t.prototype.return=function(yt){return this._index>=0&&(this._index=-1,this._keys=St,this._values=St),{value:yt,done:!0}},$t}();return function(){function $t(){this._keys=[],this._values=[],this._cacheKey=bt,this._cacheIndex=-2}return Object.defineProperty($t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),$t.prototype.has=function(yt){return this._find(yt,!1)>=0},$t.prototype.get=function(yt){var Zt=this._find(yt,!1);return Zt>=0?this._values[Zt]:void 0},$t.prototype.set=function(yt,Zt){var on=this._find(yt,!0);return this._values[on]=Zt,this},$t.prototype.delete=function(yt){var Zt=this._find(yt,!1);if(Zt>=0){for(var on=this._keys.length,Yt=Zt+1;Yt<on;Yt++)this._keys[Yt-1]=this._keys[Yt],this._values[Yt-1]=this._values[Yt];return this._keys.length--,this._values.length--,et(yt,this._cacheKey)&&(this._cacheKey=bt,this._cacheIndex=-2),!0}return!1},$t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=bt,this._cacheIndex=-2},$t.prototype.keys=function(){return new Nt(this._keys,this._values,an)},$t.prototype.values=function(){return new Nt(this._keys,this._values,we)},$t.prototype.entries=function(){return new Nt(this._keys,this._values,Ct)},$t.prototype["@@iterator"]=function(){return this.entries()},$t.prototype[f]=function(){return this.entries()},$t.prototype._find=function(yt,Zt){if(!et(this._cacheKey,yt)){this._cacheIndex=-1;for(var on=0;on<this._keys.length;on++)if(et(this._keys[on],yt)){this._cacheIndex=on;break}}return this._cacheIndex<0&&Zt&&(this._cacheIndex=this._keys.length,this._keys.push(yt),this._values.push(void 0)),this._cacheIndex},$t}();function an($t,yt){return $t}function we($t,yt){return yt}function Ct($t,yt){return[$t,yt]}}(),C="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function vn(){return function(){function St(){this._map=new O}return Object.defineProperty(St.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),St.prototype.has=function(Nt){return this._map.has(Nt)},St.prototype.add=function(Nt){return this._map.set(Nt,Nt),this},St.prototype.delete=function(Nt){return this._map.delete(Nt)},St.prototype.clear=function(){this._map.clear()},St.prototype.keys=function(){return this._map.keys()},St.prototype.values=function(){return this._map.keys()},St.prototype.entries=function(){return this._map.entries()},St.prototype["@@iterator"]=function(){return this.keys()},St.prototype[f]=function(){return this.keys()},St}()}(),I="function"==typeof WeakMap?WeakMap:function hn(){var bt=16,St=E.create(),Nt=gt();return function(){function yt(){this._key=gt()}return yt.prototype.has=function(Zt){var on=an(Zt,!1);return void 0!==on&&E.has(on,this._key)},yt.prototype.get=function(Zt){var on=an(Zt,!1);return void 0!==on?E.get(on,this._key):void 0},yt.prototype.set=function(Zt,on){return an(Zt,!0)[this._key]=on,this},yt.prototype.delete=function(Zt){var on=an(Zt,!1);return void 0!==on&&delete on[this._key]},yt.prototype.clear=function(){this._key=gt()},yt}();function gt(){var yt;do{yt="@@WeakMap@@"+$t()}while(E.has(St,yt));return St[yt]=!0,yt}function an(yt,Zt){if(!t.call(yt,Nt)){if(!Zt)return;Object.defineProperty(yt,Nt,{value:E.create()})}return yt[Nt]}function we(yt,Zt){for(var on=0;on<Zt;++on)yt[on]=255*Math.random()|0;return yt}function $t(){var yt=function Ct(yt){if("function"==typeof Uint8Array){var Zt=new Uint8Array(yt);return typeof crypto<"u"?crypto.getRandomValues(Zt):typeof msCrypto<"u"?msCrypto.getRandomValues(Zt):we(Zt,yt),Zt}return we(new Array(yt),yt)}(bt);yt[6]=79&yt[6]|64,yt[8]=191&yt[8]|128;for(var Zt="",on=0;on<bt;++on){var Yt=yt[on];(4===on||6===on||8===on)&&(Zt+="-"),Yt<16&&(Zt+="0"),Zt+=Yt.toString(16).toLowerCase()}return Zt}}(),D=c?Symbol.for("@reflect-metadata:registry"):void 0,R=function ot(){var bt;return!oe(D)&&se(i.Reflect)&&Object.isExtensible(i.Reflect)&&(bt=i.Reflect[D]),oe(bt)&&(bt=function wt(){var bt;!oe(D)&&typeof i.Reflect<"u"&&!(D in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(bt=function Ee(bt){var St=bt.defineMetadata,Nt=bt.hasOwnMetadata,gt=bt.getOwnMetadata,an=bt.getOwnMetadataKeys,we=bt.deleteMetadata,Ct=new I;return{isProviderFor:function(yt,Zt){var on=Ct.get(yt);return!(oe(on)||!on.has(Zt))||!!an(yt,Zt).length&&(oe(on)&&(on=new C,Ct.set(yt,on)),on.add(Zt),!0)},OrdinaryDefineOwnMetadata:St,OrdinaryHasOwnMetadata:Nt,OrdinaryGetOwnMetadata:gt,OrdinaryOwnMetadataKeys:an,OrdinaryDeleteMetadata:we}}(i.Reflect));var St,Nt,gt,an=new I,we={registerProvider:Ct,getProvider:yt,setProvider:on};return we;function Ct(Yt){if(!Object.isExtensible(we))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case bt===Yt:break;case oe(St):St=Yt;break;case St===Yt:break;case oe(Nt):Nt=Yt;break;case Nt===Yt:break;default:void 0===gt&&(gt=new C),gt.add(Yt)}}function $t(Yt,Ht){if(!oe(St)){if(St.isProviderFor(Yt,Ht))return St;if(!oe(Nt)){if(Nt.isProviderFor(Yt,Ht))return St;if(!oe(gt))for(var Qe=st(gt);;){var ke=De(Qe);if(!ke)return;var Le=We(ke);if(Le.isProviderFor(Yt,Ht))return ut(Qe),Le}}}if(!oe(bt)&&bt.isProviderFor(Yt,Ht))return bt}function yt(Yt,Ht){var ke,Qe=an.get(Yt);return oe(Qe)||(ke=Qe.get(Ht)),oe(ke)&&(oe(ke=$t(Yt,Ht))||(oe(Qe)&&(Qe=new O,an.set(Yt,Qe)),Qe.set(Ht,ke))),ke}function Zt(Yt){if(oe(Yt))throw new TypeError;return St===Yt||Nt===Yt||!oe(gt)&&gt.has(Yt)}function on(Yt,Ht,Qe){if(!Zt(Qe))throw new Error("Metadata provider not registered.");var ke=yt(Yt,Ht);if(ke!==Qe){if(!oe(ke))return!1;var Le=an.get(Yt);oe(Le)&&(Le=new O,an.set(Yt,Le)),Le.set(Ht,Qe)}return!0}}()),!oe(D)&&se(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:bt}),bt}(),h=function Tt(bt){var St=new I,Nt={isProviderFor:function(Zt,on){var Yt=St.get(Zt);return!oe(Yt)&&Yt.has(on)},OrdinaryDefineOwnMetadata:function Ct(Zt,on,Yt,Ht){gt(Yt,Ht,!0).set(Zt,on)},OrdinaryHasOwnMetadata:function an(Zt,on,Yt){var Ht=gt(on,Yt,!1);return!oe(Ht)&&re(Ht.has(Zt))},OrdinaryGetOwnMetadata:function we(Zt,on,Yt){var Ht=gt(on,Yt,!1);if(!oe(Ht))return Ht.get(Zt)},OrdinaryOwnMetadataKeys:function $t(Zt,on){var Yt=[],Ht=gt(Zt,on,!1);if(oe(Ht))return Yt;for(var ke=st(Ht.keys()),Le=0;;){var Xe=De(ke);if(!Xe)return Yt.length=Le,Yt;var ct=We(Xe);try{Yt[Le]=ct}catch(Wt){try{ut(ke)}finally{throw Wt}}Le++}},OrdinaryDeleteMetadata:function yt(Zt,on,Yt){var Ht=gt(on,Yt,!1);if(oe(Ht)||!Ht.delete(Zt))return!1;if(0===Ht.size){var Qe=St.get(on);oe(Qe)||(Qe.delete(Yt),0===Qe.size&&St.delete(Qe))}return!0}};return R.registerProvider(Nt),Nt;function gt(Zt,on,Yt){var Ht=St.get(Zt),Qe=!1;if(oe(Ht)){if(!Yt)return;Ht=new O,St.set(Zt,Ht),Qe=!0}var ke=Ht.get(on);if(oe(ke)){if(!Yt)return;if(ke=new O,Ht.set(on,ke),!bt.setProvider(Zt,on,Nt))throw Ht.delete(on),Qe&&St.delete(Zt),new Error("Wrong provider for target.")}return ke}}(R);function G(bt,St,Nt){if(X(bt,St,Nt))return!0;var an=Ge(St);return!ue(an)&&G(bt,an,Nt)}function X(bt,St,Nt){var gt=je(St,Nt,!1);return!oe(gt)&&re(gt.OrdinaryHasOwnMetadata(bt,St,Nt))}function J(bt,St,Nt){if(X(bt,St,Nt))return q(bt,St,Nt);var an=Ge(St);return ue(an)?void 0:J(bt,an,Nt)}function q(bt,St,Nt){var gt=je(St,Nt,!1);if(!oe(gt))return gt.OrdinaryGetOwnMetadata(bt,St,Nt)}function ne(bt,St,Nt,gt){je(Nt,gt,!0).OrdinaryDefineOwnMetadata(bt,St,Nt,gt)}function ee(bt,St){var Nt=fe(bt,St),gt=Ge(bt);if(null===gt)return Nt;var an=ee(gt,St);if(an.length<=0)return Nt;if(Nt.length<=0)return an;for(var we=new C,Ct=[],$t=0,yt=Nt;$t<yt.length;$t++)we.has(Zt=yt[$t])||(we.add(Zt),Ct.push(Zt));for(var Yt=0,Ht=an;Yt<Ht.length;Yt++){var Zt;we.has(Zt=Ht[Yt])||(we.add(Zt),Ct.push(Zt))}return Ct}function fe(bt,St){var Nt=je(bt,St,!1);return Nt?Nt.OrdinaryOwnMetadataKeys(bt,St):[]}function ye(bt){if(null===bt)return 1;switch(typeof bt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===bt?1:6;default:return 6}}function oe(bt){return void 0===bt}function ue(bt){return null===bt}function se(bt){return"object"==typeof bt?null!==bt:"function"==typeof bt}function be(bt,St){switch(ye(bt)){case 0:case 1:case 2:case 3:case 4:case 5:return bt}var Nt=3===St?"string":5===St?"number":"default",gt=$e(bt,e);if(void 0!==gt){var an=gt.call(bt,Nt);if(se(an))throw new TypeError;return an}return function me(bt,St){if("string"===St){var Nt=bt.toString;if(ve(Nt)&&!se(gt=Nt.call(bt)))return gt;if(ve(an=bt.valueOf)&&!se(gt=an.call(bt)))return gt}else{var an;if(ve(an=bt.valueOf)&&!se(gt=an.call(bt)))return gt;var gt,we=bt.toString;if(ve(we)&&!se(gt=we.call(bt)))return gt}throw new TypeError}(bt,"default"===Nt?"number":Nt)}function re(bt){return!!bt}function le(bt){var St=be(bt,3);return function te(bt){return"symbol"==typeof bt}(St)?St:function Z(bt){return""+bt}(St)}function ce(bt){return Array.isArray?Array.isArray(bt):bt instanceof Object?bt instanceof Array:"[object Array]"===Object.prototype.toString.call(bt)}function ve(bt){return"function"==typeof bt}function ze(bt){return"function"==typeof bt}function et(bt,St){return bt===St||bt!=bt&&St!=St}function $e(bt,St){var Nt=bt[St];if(null!=Nt){if(!ve(Nt))throw new TypeError;return Nt}}function st(bt){var St=$e(bt,f);if(!ve(St))throw new TypeError;var Nt=St.call(bt);if(!se(Nt))throw new TypeError;return Nt}function We(bt){return bt.value}function De(bt){var St=bt.next();return!St.done&&St}function ut(bt){var St=bt.return;St&&St.call(bt)}function Ge(bt){var St=Object.getPrototypeOf(bt);if("function"!=typeof bt||bt===v||St!==v)return St;var Nt=bt.prototype,gt=Nt&&Object.getPrototypeOf(Nt);if(null==gt||gt===Object.prototype)return St;var an=gt.constructor;return"function"!=typeof an||an===bt?St:an}function je(bt,St,Nt){var gt=R.getProvider(bt,St);if(!oe(gt))return gt;if(Nt){if(R.setProvider(bt,St,h))return h;throw new Error("Illegal state.")}}function jn(bt){return bt.__=void 0,delete bt.__,bt}n("decorate",function S(bt,St,Nt,gt){if(oe(Nt)){if(!ce(bt))throw new TypeError;if(!ze(St))throw new TypeError;return function z(bt,St){for(var Nt=bt.length-1;Nt>=0;--Nt){var an=(0,bt[Nt])(St);if(!oe(an)&&!ue(an)){if(!ze(an))throw new TypeError;St=an}}return St}(bt,St)}if(!ce(bt))throw new TypeError;if(!se(St))throw new TypeError;if(!se(gt)&&!oe(gt)&&!ue(gt))throw new TypeError;return ue(gt)&&(gt=void 0),function V(bt,St,Nt,gt){for(var an=bt.length-1;an>=0;--an){var Ct=(0,bt[an])(St,Nt,gt);if(!oe(Ct)&&!ue(Ct)){if(!se(Ct))throw new TypeError;gt=Ct}}return gt}(bt,St,Nt=le(Nt),gt)}),n("metadata",function T(bt,St){return function Nt(gt,an){if(!se(gt))throw new TypeError;if(!oe(an)&&!function Se(bt){switch(ye(bt)){case 3:case 4:return!0;default:return!1}}(an))throw new TypeError;ne(bt,St,gt,an)}}),n("defineMetadata",function w(bt,St,Nt,gt){if(!se(Nt))throw new TypeError;return oe(gt)||(gt=le(gt)),ne(bt,St,Nt,gt)}),n("hasMetadata",function M(bt,St,Nt){if(!se(St))throw new TypeError;return oe(Nt)||(Nt=le(Nt)),G(bt,St,Nt)}),n("hasOwnMetadata",function L(bt,St,Nt){if(!se(St))throw new TypeError;return oe(Nt)||(Nt=le(Nt)),X(bt,St,Nt)}),n("getMetadata",function N(bt,St,Nt){if(!se(St))throw new TypeError;return oe(Nt)||(Nt=le(Nt)),J(bt,St,Nt)}),n("getOwnMetadata",function j(bt,St,Nt){if(!se(St))throw new TypeError;return oe(Nt)||(Nt=le(Nt)),q(bt,St,Nt)}),n("getMetadataKeys",function $(bt,St){if(!se(bt))throw new TypeError;return oe(St)||(St=le(St)),ee(bt,St)}),n("getOwnMetadataKeys",function k(bt,St){if(!se(bt))throw new TypeError;return oe(St)||(St=le(St)),fe(bt,St)}),n("deleteMetadata",function K(bt,St,Nt){if(!se(St))throw new TypeError;if(oe(Nt)||(Nt=le(Nt)),!se(St))throw new TypeError;oe(Nt)||(Nt=le(Nt));var gt=je(St,Nt,!1);return!oe(gt)&&gt.OrdinaryDeleteMetadata(bt,St,Nt)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=b)}()},24994:U=>{U.exports=function b(n){return n&&n.__esModule?n:{default:n}},U.exports.__esModule=!0,U.exports.default=U.exports},73738:U=>{function b(n){return U.exports=b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},U.exports.__esModule=!0,U.exports.default=U.exports,b(n)}U.exports=b,U.exports.__esModule=!0,U.exports.default=U.exports},82374:(U,b,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);U.exports=i.Reflect},79306:(U,b,n)=>{"use strict";var i=n(94901),t=n(16823),c=TypeError;U.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not a function")}},35548:(U,b,n)=>{"use strict";var i=n(33517),t=n(16823),c=TypeError;U.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not a constructor")}},73506:(U,b,n)=>{"use strict";var i=n(13925),t=String,c=TypeError;U.exports=function(e){if(i(e))return e;throw new c("Can't set "+t(e)+" as a prototype")}},28551:(U,b,n)=>{"use strict";var i=n(20034),t=String,c=TypeError;U.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not an object")}},15652:(U,b,n)=>{"use strict";var i=n(79039);U.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(U,b,n)=>{"use strict";var i=n(25397),t=n(35610),c=n(26198),e=function(f){return function(m,p,y){var E=i(m),v=c(E);if(0===v)return!f&&-1;var C,O=t(y,v);if(f&&p!=p){for(;v>O;)if((C=E[O++])!=C)return!0}else for(;v>O;O++)if((f||O in E)&&E[O]===p)return f||O||0;return!f&&-1}};U.exports={includes:e(!0),indexOf:e(!1)}},67680:(U,b,n)=>{"use strict";var i=n(79504);U.exports=i([].slice)},22195:(U,b,n)=>{"use strict";var i=n(79504),t=i({}.toString),c=i("".slice);U.exports=function(e){return c(t(e),8,-1)}},36955:(U,b,n)=>{"use strict";var i=n(92140),t=n(94901),c=n(22195),f=n(78227)("toStringTag"),m=Object,p="Arguments"===c(function(){return arguments}());U.exports=i?c:function(E){var v,O,C;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(O=function(E,v){try{return E[v]}catch{}}(v=m(E),f))?O:p?c(v):"Object"===(C=c(v))&&t(v.callee)?"Arguments":C}},77740:(U,b,n)=>{"use strict";var i=n(39297),t=n(35031),c=n(77347),e=n(24913);U.exports=function(f,m,p){for(var y=t(m),E=e.f,v=c.f,O=0;O<y.length;O++){var C=y[O];!i(f,C)&&(!p||!i(p,C))&&E(f,C,v(m,C))}}},12211:(U,b,n)=>{"use strict";var i=n(79039);U.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(U,b,n)=>{"use strict";var i=n(43724),t=n(24913),c=n(6980);U.exports=i?function(e,f,m){return t.f(e,f,c(1,m))}:function(e,f,m){return e[f]=m,e}},6980:U=>{"use strict";U.exports=function(b,n){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:n}}},36840:(U,b,n)=>{"use strict";var i=n(94901),t=n(24913),c=n(50283),e=n(39433);U.exports=function(f,m,p,y){y||(y={});var E=y.enumerable,v=void 0!==y.name?y.name:m;if(i(p)&&c(p,v,y),y.global)E?f[m]=p:e(m,p);else{try{y.unsafe?f[m]&&(E=!0):delete f[m]}catch{}E?f[m]=p:t.f(f,m,{value:p,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return f}},39433:(U,b,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;U.exports=function(c,e){try{t(i,c,{value:e,configurable:!0,writable:!0})}catch{i[c]=e}return e}},43724:(U,b,n)=>{"use strict";var i=n(79039);U.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(U,b,n)=>{"use strict";var i=n(44576),t=n(20034),c=i.document,e=t(c)&&t(c.createElement);U.exports=function(f){return e?c.createElement(f):{}}},88727:U=>{"use strict";U.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(U,b,n)=>{"use strict";var t=n(44576).navigator,c=t&&t.userAgent;U.exports=c?String(c):""},39519:(U,b,n)=>{"use strict";var p,y,i=n(44576),t=n(82839),c=i.process,e=i.Deno,f=c&&c.versions||e&&e.version,m=f&&f.v8;m&&(y=(p=m.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!y&&t&&(!(p=t.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=t.match(/Chrome\/(\d+)/))&&(y=+p[1]),U.exports=y},46518:(U,b,n)=>{"use strict";var i=n(44576),t=n(77347).f,c=n(66699),e=n(36840),f=n(39433),m=n(77740),p=n(92796);U.exports=function(y,E){var D,R,h,S,T,v=y.target,O=y.global,C=y.stat;if(D=O?i:C?i[v]||f(v,{}):i[v]&&i[v].prototype)for(R in E){if(S=E[R],h=y.dontCallGetSet?(T=t(D,R))&&T.value:D[R],!p(O?R:v+(C?".":"#")+R,y.forced)&&void 0!==h){if(typeof S==typeof h)continue;m(S,h)}(y.sham||h&&h.sham)&&c(S,"sham",!0),e(D,R,S,y)}}},79039:U=>{"use strict";U.exports=function(b){try{return!!b()}catch{return!0}}},92744:(U,b,n)=>{"use strict";var i=n(79039);U.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(U,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,c=t.apply,e=t.call;U.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(c):function(){return e.apply(c,arguments)})},40616:(U,b,n)=>{"use strict";var i=n(79039);U.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(U,b,n)=>{"use strict";var i=n(79504),t=n(79306),c=n(20034),e=n(39297),f=n(67680),m=n(40616),p=Function,y=i([].concat),E=i([].join),v={};U.exports=m?p.bind:function(I){var D=t(this),R=D.prototype,h=f(arguments,1),S=function(){var w=y(h,f(arguments));return this instanceof S?function(C,I,D){if(!e(v,I)){for(var R=[],h=0;h<I;h++)R[h]="a["+h+"]";v[I]=p("C,a","return new C("+E(R,",")+")")}return v[I](C,D)}(D,w.length,w):D.apply(I,w)};return c(R)&&(S.prototype=R),S}},69565:(U,b,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;U.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(U,b,n)=>{"use strict";var i=n(43724),t=n(39297),c=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,f=t(c,"name"),m=f&&"something"===function(){}.name,p=f&&(!i||i&&e(c,"name").configurable);U.exports={EXISTS:f,PROPER:m,CONFIGURABLE:p}},46706:(U,b,n)=>{"use strict";var i=n(79504),t=n(79306);U.exports=function(c,e,f){try{return i(t(Object.getOwnPropertyDescriptor(c,e)[f]))}catch{}}},79504:(U,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,c=t.call,e=i&&t.bind.bind(c,c);U.exports=i?e:function(f){return function(){return c.apply(f,arguments)}}},97751:(U,b,n)=>{"use strict";var i=n(44576),t=n(94901);U.exports=function(e,f){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][f]}},55966:(U,b,n)=>{"use strict";var i=n(79306),t=n(64117);U.exports=function(c,e){var f=c[e];return t(f)?void 0:i(f)}},44576:function(U){"use strict";var b=function(n){return n&&n.Math===Math&&n};U.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof global&&global)||b("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(U,b,n)=>{"use strict";var i=n(79504),t=n(48981),c=i({}.hasOwnProperty);U.exports=Object.hasOwn||function(f,m){return c(t(f),m)}},30421:U=>{"use strict";U.exports={}},20397:(U,b,n)=>{"use strict";var i=n(97751);U.exports=i("document","documentElement")},35917:(U,b,n)=>{"use strict";var i=n(43724),t=n(79039),c=n(4055);U.exports=!i&&!t(function(){return 7!==Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})},47055:(U,b,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(22195),e=Object,f=i("".split);U.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===c(m)?f(m,""):e(m)}:e},33706:(U,b,n)=>{"use strict";var i=n(79504),t=n(94901),c=n(77629),e=i(Function.toString);t(c.inspectSource)||(c.inspectSource=function(f){return e(f)}),U.exports=c.inspectSource},91181:(U,b,n)=>{"use strict";var C,I,D,i=n(58622),t=n(44576),c=n(20034),e=n(66699),f=n(39297),m=n(77629),p=n(66119),y=n(30421),E="Object already initialized",v=t.TypeError;if(i||m.state){var S=m.state||(m.state=new(0,t.WeakMap));S.get=S.get,S.has=S.has,S.set=S.set,C=function(w,M){if(S.has(w))throw new v(E);return M.facade=w,S.set(w,M),M},I=function(w){return S.get(w)||{}},D=function(w){return S.has(w)}}else{var T=p("state");y[T]=!0,C=function(w,M){if(f(w,T))throw new v(E);return M.facade=w,e(w,T,M),M},I=function(w){return f(w,T)?w[T]:{}},D=function(w){return f(w,T)}}U.exports={set:C,get:I,has:D,enforce:function(w){return D(w)?I(w):C(w,{})},getterFor:function(w){return function(M){var L;if(!c(M)||(L=I(M)).type!==w)throw new v("Incompatible receiver, "+w+" required");return L}}}},94901:U=>{"use strict";var b="object"==typeof document&&document.all;U.exports=typeof b>"u"&&void 0!==b?function(n){return"function"==typeof n||n===b}:function(n){return"function"==typeof n}},33517:(U,b,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(94901),e=n(36955),f=n(97751),m=n(33706),p=function(){},y=f("Reflect","construct"),E=/^\s*(?:class|function)\b/,v=i(E.exec),O=!E.test(p),C=function(R){if(!c(R))return!1;try{return y(p,[],R),!0}catch{return!1}},I=function(R){if(!c(R))return!1;switch(e(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return O||!!v(E,m(R))}catch{return!0}};I.sham=!0,U.exports=!y||t(function(){var D;return C(C.call)||!C(Object)||!C(function(){D=!0})||D})?I:C},16575:(U,b,n)=>{"use strict";var i=n(39297);U.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(U,b,n)=>{"use strict";var i=n(79039),t=n(94901),c=/#|\.prototype\./,e=function(E,v){var O=m[f(E)];return O===y||O!==p&&(t(v)?i(v):!!v)},f=e.normalize=function(E){return String(E).replace(c,".").toLowerCase()},m=e.data={},p=e.NATIVE="N",y=e.POLYFILL="P";U.exports=e},64117:U=>{"use strict";U.exports=function(b){return null==b}},20034:(U,b,n)=>{"use strict";var i=n(94901);U.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(U,b,n)=>{"use strict";var i=n(20034);U.exports=function(t){return i(t)||null===t}},96395:U=>{"use strict";U.exports=!1},10757:(U,b,n)=>{"use strict";var i=n(97751),t=n(94901),c=n(1625),e=n(7040),f=Object;U.exports=e?function(m){return"symbol"==typeof m}:function(m){var p=i("Symbol");return t(p)&&c(p.prototype,f(m))}},26198:(U,b,n)=>{"use strict";var i=n(18014);U.exports=function(t){return i(t.length)}},50283:(U,b,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(94901),e=n(39297),f=n(43724),m=n(10350).CONFIGURABLE,p=n(33706),y=n(91181),E=y.enforce,v=y.get,O=String,C=Object.defineProperty,I=i("".slice),D=i("".replace),R=i([].join),h=f&&!t(function(){return 8!==C(function(){},"length",{value:8}).length}),S=String(String).split("String"),T=U.exports=function(w,M,L){"Symbol("===I(O(M),0,7)&&(M="["+D(O(M),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),L&&L.getter&&(M="get "+M),L&&L.setter&&(M="set "+M),(!e(w,"name")||m&&w.name!==M)&&(f?C(w,"name",{value:M,configurable:!0}):w.name=M),h&&L&&e(L,"arity")&&w.length!==L.arity&&C(w,"length",{value:L.arity});try{L&&e(L,"constructor")&&L.constructor?f&&C(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var N=E(w);return e(N,"source")||(N.source=R(S,"string"==typeof M?M:"")),w};Function.prototype.toString=T(function(){return c(this)&&v(this).source||p(this)},"toString")},80741:U=>{"use strict";var b=Math.ceil,n=Math.floor;U.exports=Math.trunc||function(t){var c=+t;return(c>0?n:b)(c)}},2360:(U,b,n)=>{"use strict";var S,i=n(28551),t=n(96801),c=n(88727),e=n(30421),f=n(20397),m=n(4055),p=n(66119),v="prototype",O="script",C=p("IE_PROTO"),I=function(){},D=function(w){return"<"+O+">"+w+"</"+O+">"},R=function(w){w.write(D("")),w.close();var M=w.parentWindow.Object;return w=null,M},T=function(){try{S=new ActiveXObject("htmlfile")}catch{}T=typeof document<"u"?document.domain&&S?R(S):function(){var L,w=m("iframe"),M="java"+O+":";return w.style.display="none",f.appendChild(w),w.src=String(M),(L=w.contentWindow.document).open(),L.write(D("document.F=Object")),L.close(),L.F}():R(S);for(var w=c.length;w--;)delete T[v][c[w]];return T()};e[C]=!0,U.exports=Object.create||function(M,L){var N;return null!==M?(I[v]=i(M),N=new I,I[v]=null,N[C]=M):N=T(),void 0===L?N:t.f(N,L)}},96801:(U,b,n)=>{"use strict";var i=n(43724),t=n(48686),c=n(24913),e=n(28551),f=n(25397),m=n(71072);b.f=i&&!t?Object.defineProperties:function(y,E){e(y);for(var D,v=f(E),O=m(E),C=O.length,I=0;C>I;)c.f(y,D=O[I++],v[D]);return y}},24913:(U,b,n)=>{"use strict";var i=n(43724),t=n(35917),c=n(48686),e=n(28551),f=n(56969),m=TypeError,p=Object.defineProperty,y=Object.getOwnPropertyDescriptor,E="enumerable",v="configurable",O="writable";b.f=i?c?function(I,D,R){if(e(I),D=f(D),e(R),"function"==typeof I&&"prototype"===D&&"value"in R&&O in R&&!R[O]){var h=y(I,D);h&&h[O]&&(I[D]=R.value,R={configurable:v in R?R[v]:h[v],enumerable:E in R?R[E]:h[E],writable:!1})}return p(I,D,R)}:p:function(I,D,R){if(e(I),D=f(D),e(R),t)try{return p(I,D,R)}catch{}if("get"in R||"set"in R)throw new m("Accessors not supported");return"value"in R&&(I[D]=R.value),I}},77347:(U,b,n)=>{"use strict";var i=n(43724),t=n(69565),c=n(48773),e=n(6980),f=n(25397),m=n(56969),p=n(39297),y=n(35917),E=Object.getOwnPropertyDescriptor;b.f=i?E:function(O,C){if(O=f(O),C=m(C),y)try{return E(O,C)}catch{}if(p(O,C))return e(!t(c.f,O,C),O[C])}},38480:(U,b,n)=>{"use strict";var i=n(61828),c=n(88727).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(f){return i(f,c)}},33717:(U,b)=>{"use strict";b.f=Object.getOwnPropertySymbols},42787:(U,b,n)=>{"use strict";var i=n(39297),t=n(94901),c=n(48981),e=n(66119),f=n(12211),m=e("IE_PROTO"),p=Object,y=p.prototype;U.exports=f?p.getPrototypeOf:function(E){var v=c(E);if(i(v,m))return v[m];var O=v.constructor;return t(O)&&v instanceof O?O.prototype:v instanceof p?y:null}},34124:(U,b,n)=>{"use strict";var i=n(79039),t=n(20034),c=n(22195),e=n(15652),f=Object.isExtensible,m=i(function(){f(1)});U.exports=m||e?function(y){return!(!t(y)||e&&"ArrayBuffer"===c(y))&&(!f||f(y))}:f},1625:(U,b,n)=>{"use strict";var i=n(79504);U.exports=i({}.isPrototypeOf)},61828:(U,b,n)=>{"use strict";var i=n(79504),t=n(39297),c=n(25397),e=n(19617).indexOf,f=n(30421),m=i([].push);U.exports=function(p,y){var C,E=c(p),v=0,O=[];for(C in E)!t(f,C)&&t(E,C)&&m(O,C);for(;y.length>v;)t(E,C=y[v++])&&(~e(O,C)||m(O,C));return O}},71072:(U,b,n)=>{"use strict";var i=n(61828),t=n(88727);U.exports=Object.keys||function(e){return i(e,t)}},48773:(U,b)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);b.f=t?function(e){var f=i(this,e);return!!f&&f.enumerable}:n},52967:(U,b,n)=>{"use strict";var i=n(46706),t=n(20034),c=n(67750),e=n(73506);U.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,f=!1,m={};try{(p=i(Object.prototype,"__proto__","set"))(m,[]),f=m instanceof Array}catch{}return function(E,v){return c(E),e(v),t(E)&&(f?p(E,v):E.__proto__=v),E}}():void 0)},53179:(U,b,n)=>{"use strict";var i=n(92140),t=n(36955);U.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(U,b,n)=>{"use strict";var i=n(69565),t=n(94901),c=n(20034),e=TypeError;U.exports=function(f,m){var p,y;if("string"===m&&t(p=f.toString)&&!c(y=i(p,f))||t(p=f.valueOf)&&!c(y=i(p,f))||"string"!==m&&t(p=f.toString)&&!c(y=i(p,f)))return y;throw new e("Can't convert object to primitive value")}},35031:(U,b,n)=>{"use strict";var i=n(97751),t=n(79504),c=n(38480),e=n(33717),f=n(28551),m=t([].concat);U.exports=i("Reflect","ownKeys")||function(y){var E=c.f(f(y)),v=e.f;return v?m(E,v(y)):E}},19167:(U,b,n)=>{"use strict";var i=n(44576);U.exports=i},67750:(U,b,n)=>{"use strict";var i=n(64117),t=TypeError;U.exports=function(c){if(i(c))throw new t("Can't call method on "+c);return c}},10687:(U,b,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");U.exports=function(f,m,p){f&&!p&&(f=f.prototype),f&&!t(f,e)&&i(f,e,{configurable:!0,value:m})}},66119:(U,b,n)=>{"use strict";var i=n(25745),t=n(33392),c=i("keys");U.exports=function(e){return c[e]||(c[e]=t(e))}},77629:(U,b,n)=>{"use strict";var i=n(96395),t=n(44576),c=n(39433),e="__core-js_shared__",f=U.exports=t[e]||c(e,{});(f.versions||(f.versions=[])).push({version:"3.42.0",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(U,b,n)=>{"use strict";var i=n(77629);U.exports=function(t,c){return i[t]||(i[t]=c||{})}},4495:(U,b,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;U.exports=!!Object.getOwnPropertySymbols&&!t(function(){var f=Symbol("symbol detection");return!e(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(U,b,n)=>{"use strict";var i=n(91291),t=Math.max,c=Math.min;U.exports=function(e,f){var m=i(e);return m<0?t(m+f,0):c(m,f)}},25397:(U,b,n)=>{"use strict";var i=n(47055),t=n(67750);U.exports=function(c){return i(t(c))}},91291:(U,b,n)=>{"use strict";var i=n(80741);U.exports=function(t){var c=+t;return c!=c||0===c?0:i(c)}},18014:(U,b,n)=>{"use strict";var i=n(91291),t=Math.min;U.exports=function(c){var e=i(c);return e>0?t(e,9007199254740991):0}},48981:(U,b,n)=>{"use strict";var i=n(67750),t=Object;U.exports=function(c){return t(i(c))}},72777:(U,b,n)=>{"use strict";var i=n(69565),t=n(20034),c=n(10757),e=n(55966),f=n(84270),m=n(78227),p=TypeError,y=m("toPrimitive");U.exports=function(E,v){if(!t(E)||c(E))return E;var C,O=e(E,y);if(O){if(void 0===v&&(v="default"),C=i(O,E,v),!t(C)||c(C))return C;throw new p("Can't convert object to primitive value")}return void 0===v&&(v="number"),f(E,v)}},56969:(U,b,n)=>{"use strict";var i=n(72777),t=n(10757);U.exports=function(c){var e=i(c,"string");return t(e)?e:e+""}},92140:(U,b,n)=>{"use strict";var c={};c[n(78227)("toStringTag")]="z",U.exports="[object z]"===String(c)},16823:U=>{"use strict";var b=String;U.exports=function(n){try{return b(n)}catch{return"Object"}}},33392:(U,b,n)=>{"use strict";var i=n(79504),t=0,c=Math.random(),e=i(1..toString);U.exports=function(f){return"Symbol("+(void 0===f?"":f)+")_"+e(++t+c,36)}},7040:(U,b,n)=>{"use strict";var i=n(4495);U.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(U,b,n)=>{"use strict";var i=n(43724),t=n(79039);U.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(U,b,n)=>{"use strict";var i=n(44576),t=n(94901),c=i.WeakMap;U.exports=t(c)&&/native code/.test(String(c))},78227:(U,b,n)=>{"use strict";var i=n(44576),t=n(25745),c=n(39297),e=n(33392),f=n(4495),m=n(7040),p=i.Symbol,y=t("wks"),E=m?p.for||p:p&&p.withoutSetter||e;U.exports=function(v){return c(y,v)||(y[v]=f&&c(p,v)?p[v]:E("Symbol."+v)),y[v]}},26099:(U,b,n)=>{"use strict";var i=n(92140),t=n(36840),c=n(53179);i||t(Object.prototype,"toString",c,{unsafe:!0})},39796:(U,b,n)=>{"use strict";var i=n(46518),t=n(18745),c=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(y,E,v){return t(c(y),E,e(v))}})},60825:(U,b,n)=>{"use strict";var i=n(46518),t=n(97751),c=n(18745),e=n(30566),f=n(35548),m=n(28551),p=n(20034),y=n(2360),E=n(79039),v=t("Reflect","construct"),O=Object.prototype,C=[].push,I=E(function(){function h(){}return!(v(function(){},[],h)instanceof h)}),D=!E(function(){v(function(){})}),R=I||D;i({target:"Reflect",stat:!0,forced:R,sham:R},{construct:function(S,T){f(S),m(T);var w=arguments.length<3?S:f(arguments[2]);if(D&&!I)return v(S,T,w);if(S===w){switch(T.length){case 0:return new S;case 1:return new S(T[0]);case 2:return new S(T[0],T[1]);case 3:return new S(T[0],T[1],T[2]);case 4:return new S(T[0],T[1],T[2],T[3])}var M=[null];return c(C,M,T),new(c(e,S,M))}var L=w.prototype,N=y(p(L)?L:O),j=c(S,N,T);return p(j)?j:N}})},87411:(U,b,n)=>{"use strict";var i=n(46518),t=n(43724),c=n(28551),e=n(56969),f=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(f.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(E,v,O){c(E);var C=e(v);c(O);try{return f.f(E,C,O),!0}catch{return!1}}})},21211:(U,b,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(f,m){var p=c(t(f),m);return!(p&&!p.configurable)&&delete f[m]}})},9065:(U,b,n)=>{"use strict";var i=n(46518),t=n(43724),c=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,p){return e.f(c(m),p)}})},86565:(U,b,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return c(t(m))}})},40888:(U,b,n)=>{"use strict";var i=n(46518),t=n(69565),c=n(20034),e=n(28551),f=n(16575),m=n(77347),p=n(42787);i({target:"Reflect",stat:!0},{get:function y(E,v){var C,I,O=arguments.length<3?E:arguments[2];return e(E)===O?E[v]:(C=m.f(E,v))?f(C)?C.value:void 0===C.get?void 0:t(C.get,O):c(I=p(E))?y(I,v,O):void 0}})},32812:(U,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(c,e){return e in c}})},84634:(U,b,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(f){return t(f),c(f)}})},71137:(U,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(U,b,n)=>{"use strict";var i=n(46518),t=n(97751),c=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){c(m);try{var p=t("Object","preventExtensions");return p&&p(m),!0}catch{return!1}}})},34873:(U,b,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,p){t(m),c(p);try{return e(m,p),!0}catch{return!1}}})},34268:(U,b,n)=>{"use strict";var i=n(46518),t=n(69565),c=n(28551),e=n(20034),f=n(16575),m=n(79039),p=n(24913),y=n(77347),E=n(42787),v=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var I=function(){},D=p.f(new I,"a",{configurable:!0});return!1!==Reflect.set(I.prototype,"a",1,D)})},{set:function O(I,D,R){var T,w,M,h=arguments.length<4?I:arguments[3],S=y.f(c(I),D);if(!S){if(e(w=E(I)))return O(w,D,R,h);S=v(0)}if(f(S)){if(!1===S.writable||!e(h))return!1;if(T=y.f(h,D)){if(T.get||T.set||!1===T.writable)return!1;T.value=R,p.f(h,D,T)}else p.f(h,D,v(0,R))}else{if(void 0===(M=S.set))return!1;t(M,h,R)}return!0}})},15472:(U,b,n)=>{"use strict";var i=n(46518),t=n(44576),c=n(10687);i({global:!0},{Reflect:{}}),c(t.Reflect,"Reflect",!0)},74523:(U,b,n)=>{"use strict";function i(c,e,f,m,p,y,E){try{var v=c[y](E),O=v.value}catch(C){return void f(C)}v.done?e(O):Promise.resolve(O).then(m,p)}function t(c){return function(){var e=this,f=arguments;return new Promise(function(m,p){var y=c.apply(e,f);function E(O){i(y,m,p,E,v,"next",O)}function v(O){i(y,m,p,E,v,"throw",O)}E(void 0)})}}n.d(b,{A:()=>t})},49969:(U,b,n)=>{"use strict";n.d(b,{FX:()=>K,If:()=>i,K2:()=>m,MA:()=>C,Os:()=>f,P:()=>D,hZ:()=>c,i0:()=>e,iF:()=>p,kY:()=>v,kp:()=>t,sf:()=>$,ui:()=>k,wk:()=>y});var i=function(z){return z[z.State=0]="State",z[z.Transition=1]="Transition",z[z.Sequence=2]="Sequence",z[z.Group=3]="Group",z[z.Animate=4]="Animate",z[z.Keyframes=5]="Keyframes",z[z.Style=6]="Style",z[z.Trigger=7]="Trigger",z[z.Reference=8]="Reference",z[z.AnimateChild=9]="AnimateChild",z[z.AnimateRef=10]="AnimateRef",z[z.Query=11]="Query",z[z.Stagger=12]="Stagger",z}(i||{});const t="*";function c(z,V){return{type:i.Trigger,name:z,definitions:V,options:{}}}function e(z,V=null){return{type:i.Animate,styles:V,timings:z}}function f(z,V=null){return{type:i.Group,steps:z,options:V}}function m(z,V=null){return{type:i.Sequence,steps:z,options:V}}function p(z){return{type:i.Style,styles:z,offset:null}}function y(z,V,G){return{type:i.State,name:z,styles:V,options:G}}function v(z,V,G=null){return{type:i.Transition,expr:z,animation:V,options:G}}function C(z=null){return{type:i.AnimateChild,options:z}}function D(z,V,G=null){return{type:i.Query,selector:z,animation:V,options:G}}class ${constructor(V=0,G=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=V+G}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}onStart(V){this._originalOnStartFns.push(V),this._onStartFns.push(V)}onDone(V){this._originalOnDoneFns.push(V),this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(V){this._position=this.totalTime?V*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(V){const G="start"==V?this._onStartFns:this._onDoneFns;G.forEach(X=>X()),G.length=0}}class k{constructor(V){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=V;let G=0,X=0,J=0;const q=this.players.length;0==q?queueMicrotask(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++G==q&&this._onFinish()}),ne.onDestroy(()=>{++X==q&&this._onDestroy()}),ne.onStart(()=>{++J==q&&this._onStart()})}),this.totalTime=this.players.reduce((ne,ee)=>Math.max(ne,ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this.players.forEach(V=>V.init())}onStart(V){this._onStartFns.push(V)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(V=>V()),this._onStartFns=[])}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(V=>V.play())}pause(){this.players.forEach(V=>V.pause())}restart(){this.players.forEach(V=>V.restart())}finish(){this._onFinish(),this.players.forEach(V=>V.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(V=>V.destroy()),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this.players.forEach(V=>V.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(V){const G=V*this.totalTime;this.players.forEach(X=>{const J=X.totalTime?Math.min(1,G/X.totalTime):1;X.setPosition(J)})}getPosition(){const V=this.players.reduce((G,X)=>null===G||X.totalTime>G.totalTime?X:G,null);return null!=V?V.getPosition():0}beforeDestroy(){this.players.forEach(V=>{V.beforeDestroy&&V.beforeDestroy()})}triggerCallback(V){const G="start"==V?this._onStartFns:this._onDoneFns;G.forEach(X=>X()),G.length=0}}const K="!"},51664:(U,b,n)=>{"use strict";n.d(b,{Z2:()=>Js,_G:()=>hi,w6:()=>wi});var i=n(54438);n(36860);var Yn=n(21413),Jn=n(18359),ki=n(74402),Bi=n(7673),is=n(88141),us=n(70152),fs=n(5964),Ms=n(96354),Ji=n(96697),hs=n(8045);class xi{constructor(he,Je){this._letterKeyStream=new Yn.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Yn.B,this.selectedItem=this._selectedItem;const Mt="number"==typeof Je?.debounceInterval?Je.debounceInterval:200;Je?.skipPredicate&&(this._skipPredicateFn=Je.skipPredicate),this.setItems(he),this._setupKeyHandler(Mt)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(he){this._selectedItemIndex=he}setItems(he){this._items=he}handleKey(he){const Je=he.keyCode;he.key&&1===he.key.length?this._letterKeyStream.next(he.key.toLocaleUpperCase()):(Je>=65&&Je<=90||Je>=48&&Je<=57)&&this._letterKeyStream.next(String.fromCharCode(Je))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(he){this._letterKeyStream.pipe((0,is.M)(Je=>this._pressedLetters.push(Je)),(0,us.B)(he),(0,fs.p)(()=>this._pressedLetters.length>0),(0,Ms.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(Je=>{for(let Mt=1;Mt<this._items.length+1;Mt++){const Bn=this._items[(this._selectedItemIndex+Mt)%this._items.length];if(!this._skipPredicateFn?.(Bn)&&0===Bn.getLabel?.().toLocaleUpperCase().trim().indexOf(Je)){this._selectedItem.next(Bn);break}}this._pressedLetters=[]})}}class Fo{_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let he=0;for(let Mt=0;Mt<this._items.length;Mt++)if(!this._skipPredicateFn(this._items[Mt])&&!this._isItemDisabled(this._items[Mt])){he=Mt;break}const Je=this._items[he];Je.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=he,this._activeItem=Je,this._typeahead?.setCurrentSelectedItemIndex(he),Je.makeFocusable()):this.focusItem(he),this._hasInitialFocused=!0}constructor(he,Je){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=Mt=>!1,this._trackByFn=Mt=>Mt,this._items=[],this._typeaheadSubscription=Jn.yU.EMPTY,this._hasInitialFocused=!1,this.change=new Yn.B,he instanceof i.rOR?(this._items=he.toArray(),he.changes.subscribe(Mt=>{this._items=Mt.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):(0,ki.A)(he)?he.subscribe(Mt=>{this._items=Mt,this._typeahead?.setItems(Mt),this._updateActiveItemIndex(Mt),this._initializeFocus()}):(this._items=he,this._initializeFocus()),"boolean"==typeof Je.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=Je.shouldActivationFollowFocus),Je.horizontalOrientation&&(this._horizontalOrientation=Je.horizontalOrientation),Je.skipPredicate&&(this._skipPredicateFn=Je.skipPredicate),Je.trackBy&&(this._trackByFn=Je.trackBy),typeof Je.typeAheadDebounceInterval<"u"&&this._setTypeAhead(Je.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(he){switch(he.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===he.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(he)}this._typeahead?.reset(),he.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(he,Je={}){Je.emitChangeEvent??=!0;let Mt="number"==typeof he?he:this._items.findIndex(xe=>this._trackByFn(xe)===this._trackByFn(he));if(Mt<0||Mt>=this._items.length)return;const sn=this._items[Mt];if(null!==this._activeItem&&this._trackByFn(sn)===this._trackByFn(this._activeItem))return;const Bn=this._activeItem;this._activeItem=sn??null,this._activeItemIndex=Mt,this._typeahead?.setCurrentSelectedItemIndex(Mt),this._activeItem?.focus(),Bn?.unfocus(),Je.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(he){const Je=this._activeItem;if(!Je)return;const Mt=he.findIndex(sn=>this._trackByFn(sn)===this._trackByFn(Je));Mt>-1&&Mt!==this._activeItemIndex&&(this._activeItemIndex=Mt,this._typeahead?.setCurrentSelectedItemIndex(Mt))}_setTypeAhead(he){this._typeahead=new xi(this._items,{debounceInterval:"number"==typeof he?he:void 0,skipPredicate:Je=>this._skipPredicateFn(Je)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Je=>{this.focusItem(Je)})}_findNextAvailableItemIndex(he){for(let Je=he+1;Je<this._items.length;Je++)if(!this._skipPredicateFn(this._items[Je]))return Je;return he}_findPreviousAvailableItemIndex(he){for(let Je=he-1;Je>=0;Je--)if(!this._skipPredicateFn(this._items[Je]))return Je;return he}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const he=this._activeItem.getParent();if(!he||this._skipPredicateFn(he))return;this.focusItem(he)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?(0,hs.x)(this._activeItem.getChildren()).pipe((0,Ji.s)(1)).subscribe(he=>{const Je=he.find(Mt=>!this._skipPredicateFn(Mt));Je&&this.focusItem(Je)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(he){return"boolean"==typeof he.isDisabled?he.isDisabled:he.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const he=this._activeItem.getParent();let Je;Je=he?(0,hs.x)(he.getChildren()):(0,Bi.of)(this._items.filter(Mt=>null===Mt.getParent())),Je.pipe((0,Ji.s)(1)).subscribe(Mt=>{for(const sn of Mt)sn.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const Js=new i.nKC("tree-key-manager",{providedIn:"root",factory:function qo(){return(en,he)=>new Fo(en,he)}});function hi(en){return 0===en.buttons||0===en.detail}function wi(en){const he=en.touches&&en.touches[0]||en.changedTouches&&en.changedTouches[0];return!(!he||-1!==he.identifier||null!=he.radiusX&&1!==he.radiusX||null!=he.radiusY&&1!==he.radiusY)}},28203:(U,b,n)=>{"use strict";n.d(b,{dS:()=>p});var i=n(54438),t=n(60177);const c=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),f=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let p=(()=>{class v{constructor(C){this.value="ltr",this.change=new i.bkB,C&&(this.value=function m(v){const O=v?.toLowerCase()||"";return"auto"===O&&typeof navigator<"u"&&navigator?.language?f.test(navigator.language)?"rtl":"ltr":"rtl"===O?"rtl":"ltr"}((C.body?C.body.dir:null)||(C.documentElement?C.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(I){return new(I||v)(i.KVO(c,8))}}static{this.\u0275prov=i.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},8045:(U,b,n)=>{"use strict";n.d(b,{x:()=>c});var i=n(74402),t=n(7673);function c(e){return(0,i.A)(e)?e:(0,t.of)(e)}},45024:(U,b,n)=>{"use strict";n.d(b,{CB:()=>I,qS:()=>m,y4:()=>p});var i=n(30017),e=(n(74402),n(7673),n(21413));n(54438);class m{}function p(h){return h&&"function"==typeof h.connect&&!(h instanceof i.G)}class I{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(S=!1,T,w=!0,M){this._multiple=S,this._emitChanges=w,this.compareWith=M,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,T&&T.length&&(S?T.forEach(L=>this._markSelected(L)):this._markSelected(T[0]),this._selectedToEmit.length=0)}select(...S){this._verifyValueAssignment(S),S.forEach(w=>this._markSelected(w));const T=this._hasQueuedChanges();return this._emitChangeEvent(),T}deselect(...S){this._verifyValueAssignment(S),S.forEach(w=>this._unmarkSelected(w));const T=this._hasQueuedChanges();return this._emitChangeEvent(),T}setSelection(...S){this._verifyValueAssignment(S);const T=this.selected,w=new Set(S);S.forEach(L=>this._markSelected(L)),T.filter(L=>!w.has(this._getConcreteValue(L,w))).forEach(L=>this._unmarkSelected(L));const M=this._hasQueuedChanges();return this._emitChangeEvent(),M}toggle(S){return this.isSelected(S)?this.deselect(S):this.select(S)}clear(S=!0){this._unmarkAll();const T=this._hasQueuedChanges();return S&&this._emitChangeEvent(),T}isSelected(S){return this._selection.has(this._getConcreteValue(S))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(S){this._multiple&&this.selected&&this._selected.sort(S)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(S){S=this._getConcreteValue(S),this.isSelected(S)||(this._multiple||this._unmarkAll(),this.isSelected(S)||this._selection.add(S),this._emitChanges&&this._selectedToEmit.push(S))}_unmarkSelected(S){S=this._getConcreteValue(S),this.isSelected(S)&&(this._selection.delete(S),this._emitChanges&&this._deselectedToEmit.push(S))}_unmarkAll(){this.isEmpty()||this._selection.forEach(S=>this._unmarkSelected(S))}_verifyValueAssignment(S){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(S,T){if(this.compareWith){T=T??this._selection;for(let w of T)if(this.compareWith(S,w))return w;return S}return S}}},40031:(U,b,n)=>{"use strict";n.d(b,{T1:()=>Jn,Fb:()=>En,O7:()=>us,HD:()=>Dn});var i=n(54438),t=n(60177);function e(Ke,Ce=0){return function f(Ke){return!isNaN(parseFloat(Ke))&&!isNaN(Number(Ke))}(Ke)?Number(Ke):2===arguments.length?Ce:0}function y(Ke){return Ke instanceof i.aKT?Ke.nativeElement:Ke}var v=n(21413),O=n(7673),C=n(71985),I=n(33726),D=n(96780),R=n(18359);const h={schedule(Ke){let Ce=requestAnimationFrame,Me=cancelAnimationFrame;const{delegate:Ue}=h;Ue&&(Ce=Ue.requestAnimationFrame,Me=Ue.cancelAnimationFrame);const ft=Ce(kt=>{Me=void 0,Ke(kt)});return new R.yU(()=>Me?.(ft))},requestAnimationFrame(...Ke){const{delegate:Ce}=h;return(Ce?.requestAnimationFrame||requestAnimationFrame)(...Ke)},cancelAnimationFrame(...Ke){const{delegate:Ce}=h;return(Ce?.cancelAnimationFrame||cancelAnimationFrame)(...Ke)},delegate:void 0};var T=n(39687);const M=new class w extends T.q{flush(Ce){let Me;this._active=!0,Ce?Me=Ce.id:(Me=this._scheduled,this._scheduled=void 0);const{actions:Ue}=this;let ft;Ce=Ce||Ue.shift();do{if(ft=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Ue[0])&&Ce.id===Me&&Ue.shift());if(this._active=!1,ft){for(;(Ce=Ue[0])&&Ce.id===Me&&Ue.shift();)Ce.unsubscribe();throw ft}}}(class S extends D.R{constructor(Ce,Me){super(Ce,Me),this.scheduler=Ce,this.work=Me}requestAsyncId(Ce,Me,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(Ce,Me,Ue):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=h.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,Me,Ue=0){var ft;if(null!=Ue?Ue>0:this.delay>0)return super.recycleAsyncId(Ce,Me,Ue);const{actions:kt}=Ce;null!=Me&&Me===Ce._scheduled&&(null===(ft=kt[kt.length-1])||void 0===ft?void 0:ft.id)!==Me&&(h.cancelAnimationFrame(Me),Ce._scheduled=void 0)}});n(25007);var j=n(43236),$=n(39974),k=n(58750),K=n(54360),V=n(41584);function G(Ke,Ce=j.E){return function z(Ke){return(0,$.N)((Ce,Me)=>{let Ue=!1,ft=null,kt=null,pn=!1;const un=()=>{if(kt?.unsubscribe(),kt=null,Ue){Ue=!1;const Qn=ft;ft=null,Me.next(Qn)}pn&&Me.complete()},kn=()=>{kt=null,pn&&Me.complete()};Ce.subscribe((0,K._)(Me,Qn=>{Ue=!0,ft=Qn,kt||(0,k.Tg)(Ke(Qn)).subscribe(kt=(0,K._)(Me,un,kn))},()=>{pn=!0,(!Ue||!kt||kt.closed)&&Me.complete()}))})}(()=>(0,V.O)(Ke,Ce))}var X=n(5964),J=n(36860);let te=(()=>{class Ke{constructor(Me,Ue,ft){this._ngZone=Me,this._platform=Ue,this._scrolled=new v.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ft}register(Me){this.scrollContainers.has(Me)||this.scrollContainers.set(Me,Me.elementScrolled().subscribe(()=>this._scrolled.next(Me)))}deregister(Me){const Ue=this.scrollContainers.get(Me);Ue&&(Ue.unsubscribe(),this.scrollContainers.delete(Me))}scrolled(Me=20){return this._platform.isBrowser?new C.c(Ue=>{this._globalSubscription||this._addGlobalListener();const ft=Me>0?this._scrolled.pipe(G(Me)).subscribe(Ue):this._scrolled.subscribe(Ue);return this._scrolledCount++,()=>{ft.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,O.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Me,Ue)=>this.deregister(Ue)),this._scrolled.complete()}ancestorScrolled(Me,Ue){const ft=this.getAncestorScrollContainers(Me);return this.scrolled(Ue).pipe((0,X.p)(kt=>!kt||ft.indexOf(kt)>-1))}getAncestorScrollContainers(Me){const Ue=[];return this.scrollContainers.forEach((ft,kt)=>{this._scrollableContainsElement(kt,Me)&&Ue.push(kt)}),Ue}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Me,Ue){let ft=y(Ue),kt=Me.getElementRef().nativeElement;do{if(ft==kt)return!0}while(ft=ft.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Me=this._getWindow();return(0,I.R)(Me.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.KVO(i.SKi),i.KVO(J.OD),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}return Ke})(),me=(()=>{class Ke{constructor(Me,Ue,ft){this._platform=Me,this._change=new v.B,this._changeListener=kt=>{this._change.next(kt)},this._document=ft,Ue.runOutsideAngular(()=>{if(Me.isBrowser){const kt=this._getWindow();kt.addEventListener("resize",this._changeListener),kt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Me=this._getWindow();Me.removeEventListener("resize",this._changeListener),Me.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Me={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Me}getViewportRect(){const Me=this.getViewportScrollPosition(),{width:Ue,height:ft}=this.getViewportSize();return{top:Me.top,left:Me.left,bottom:Me.top+ft,right:Me.left+Ue,height:ft,width:Ue}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Me=this._document,Ue=this._getWindow(),ft=Me.documentElement,kt=ft.getBoundingClientRect();return{top:-kt.top||Me.body.scrollTop||Ue.scrollY||ft.scrollTop||0,left:-kt.left||Me.body.scrollLeft||Ue.scrollX||ft.scrollLeft||0}}change(Me=20){return Me>0?this._change.pipe(G(Me)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Me=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Me.innerWidth,height:Me.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.KVO(J.OD),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}return Ke})();var De=n(51664),ut=n(40605),Ge=n(57786),wt=n(84412),ot=n(56977),Tt=n(96354),Ee=n(96697),je=n(88141),mt=n(25558),vn=n(99172),hn=n(28203);function jn(Ke){const Ce=Ke.cloneNode(!0),Me=Ce.querySelectorAll("[id]"),Ue=Ke.nodeName.toLowerCase();Ce.removeAttribute("id");for(let ft=0;ft<Me.length;ft++)Me[ft].removeAttribute("id");return"canvas"===Ue?gt(Ke,Ce):("input"===Ue||"select"===Ue||"textarea"===Ue)&&Nt(Ke,Ce),bt("canvas",Ke,Ce,gt),bt("input, textarea, select",Ke,Ce,Nt),Ce}function bt(Ke,Ce,Me,Ue){const ft=Ce.querySelectorAll(Ke);if(ft.length){const kt=Me.querySelectorAll(Ke);for(let pn=0;pn<ft.length;pn++)Ue(ft[pn],kt[pn])}}let St=0;function Nt(Ke,Ce){"file"!==Ce.type&&(Ce.value=Ke.value),"radio"===Ce.type&&Ce.name&&(Ce.name=`mat-clone-${Ce.name}-${St++}`)}function gt(Ke,Ce){const Me=Ce.getContext("2d");if(Me)try{Me.drawImage(Ke,0,0)}catch{}}function an(Ke){const Ce=Ke.getBoundingClientRect();return{top:Ce.top,right:Ce.right,bottom:Ce.bottom,left:Ce.left,width:Ce.width,height:Ce.height,x:Ce.x,y:Ce.y}}function we(Ke,Ce,Me){const{top:Ue,bottom:ft,left:kt,right:pn}=Ke;return Me>=Ue&&Me<=ft&&Ce>=kt&&Ce<=pn}function Ct(Ke,Ce,Me){Ke.top+=Ce,Ke.bottom=Ke.top+Ke.height,Ke.left+=Me,Ke.right=Ke.left+Ke.width}function $t(Ke,Ce,Me,Ue){const{top:ft,right:kt,bottom:pn,left:un,width:kn,height:Qn}=Ke,xi=kn*Ce,ms=Qn*Ce;return Ue>ft-ms&&Ue<pn+ms&&Me>un-xi&&Me<kt+xi}class yt{constructor(Ce){this._document=Ce,this.positions=new Map}clear(){this.positions.clear()}cache(Ce){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),Ce.forEach(Me=>{this.positions.set(Me,{scrollPosition:{top:Me.scrollTop,left:Me.scrollLeft},clientRect:an(Me)})})}handleScroll(Ce){const Me=(0,J.Fb)(Ce),Ue=this.positions.get(Me);if(!Ue)return null;const ft=Ue.scrollPosition;let kt,pn;if(Me===this._document){const Qn=this.getViewportScrollPosition();kt=Qn.top,pn=Qn.left}else kt=Me.scrollTop,pn=Me.scrollLeft;const un=ft.top-kt,kn=ft.left-pn;return this.positions.forEach((Qn,xi)=>{Qn.clientRect&&Me!==xi&&Me.contains(xi)&&Ct(Qn.clientRect,un,kn)}),ft.top=kt,ft.left=pn,{top:un,left:kn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Zt(Ke,Ce){const Me=Ke.rootNodes;if(1===Me.length&&Me[0].nodeType===Ce.ELEMENT_NODE)return Me[0];const Ue=Ce.createElement("div");return Me.forEach(ft=>Ue.appendChild(ft)),Ue}function on(Ke,Ce,Me){for(let Ue in Ce)if(Ce.hasOwnProperty(Ue)){const ft=Ce[Ue];ft?Ke.setProperty(Ue,ft,Me?.has(Ue)?"important":""):Ke.removeProperty(Ue)}return Ke}function Yt(Ke,Ce){const Me=Ce?"":"none";on(Ke.style,{"touch-action":Ce?"":"none","-webkit-user-drag":Ce?"":"none","-webkit-tap-highlight-color":Ce?"":"transparent","user-select":Me,"-ms-user-select":Me,"-webkit-user-select":Me,"-moz-user-select":Me})}function Ht(Ke,Ce,Me){on(Ke.style,{position:Ce?"":"fixed",top:Ce?"":"0",opacity:Ce?"":"0",left:Ce?"":"-999em"},Me)}function Qe(Ke,Ce){return Ce&&"none"!=Ce?Ke+" "+Ce:Ke}function ke(Ke,Ce){Ke.style.width=`${Ce.width}px`,Ke.style.height=`${Ce.height}px`,Ke.style.transform=Le(Ce.left,Ce.top)}function Le(Ke,Ce){return`translate3d(${Math.round(Ke)}px, ${Math.round(Ce)}px, 0)`}function Xe(Ke){const Ce=Ke.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Ke)*Ce}function Wt(Ke,Ce){return Ke.getPropertyValue(Ce).split(",").map(Ue=>Ue.trim())}const fn=new Set(["position"]);class xt{get element(){return this._preview}constructor(Ce,Me,Ue,ft,kt,pn,un,kn,Qn){this._document=Ce,this._rootElement=Me,this._direction=Ue,this._initialDomRect=ft,this._previewTemplate=kt,this._previewClass=pn,this._pickupPositionOnPage=un,this._initialTransform=kn,this._zIndex=Qn}attach(Ce){this._preview=this._createPreview(),Ce.appendChild(this._preview),nn(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(Ce){this._preview.style.transform=Ce}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(Ce){this._preview.classList.add(Ce)}getTransitionDuration(){return function ct(Ke){const Ce=getComputedStyle(Ke),Me=Wt(Ce,"transition-property"),Ue=Me.find(un=>"transform"===un||"all"===un);if(!Ue)return 0;const ft=Me.indexOf(Ue),kt=Wt(Ce,"transition-duration"),pn=Wt(Ce,"transition-delay");return Xe(kt[ft])+Xe(pn[ft])}(this._preview)}addEventListener(Ce,Me){this._preview.addEventListener(Ce,Me)}removeEventListener(Ce,Me){this._preview.removeEventListener(Ce,Me)}_createPreview(){const Ce=this._previewTemplate,Me=this._previewClass,Ue=Ce?Ce.template:null;let ft;if(Ue&&Ce){const kt=Ce.matchSize?this._initialDomRect:null,pn=Ce.viewContainer.createEmbeddedView(Ue,Ce.context);pn.detectChanges(),ft=Zt(pn,this._document),this._previewEmbeddedView=pn,Ce.matchSize?ke(ft,kt):ft.style.transform=Le(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else ft=jn(this._rootElement),ke(ft,this._initialDomRect),this._initialTransform&&(ft.style.transform=this._initialTransform);return on(ft.style,{"pointer-events":"none",margin:nn(ft)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},fn),Yt(ft,!1),ft.classList.add("cdk-drag-preview"),ft.setAttribute("popover","manual"),ft.setAttribute("dir",this._direction),Me&&(Array.isArray(Me)?Me.forEach(kt=>ft.classList.add(kt)):ft.classList.add(Me)),ft}}function nn(Ke){return"showPopover"in Ke}const ht=(0,J.BQ)({passive:!0}),Ft=(0,J.BQ)({passive:!1}),At=(0,J.BQ)({passive:!1,capture:!0}),Vn=new Set(["position"]);class bi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(Ce){Ce!==this._disabled&&(this._disabled=Ce,this._toggleNativeDragInteractions(),this._handles.forEach(Me=>Yt(Me,Ce)))}constructor(Ce,Me,Ue,ft,kt,pn){this._config=Me,this._document=Ue,this._ngZone=ft,this._viewportRuler=kt,this._dragDropRegistry=pn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,i.vPA)(!1),this._moveEvents=new v.B,this._pointerMoveSubscription=R.yU.EMPTY,this._pointerUpSubscription=R.yU.EMPTY,this._scrollSubscription=R.yU.EMPTY,this._resizeSubscription=R.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new v.B,this.started=new v.B,this.released=new v.B,this.ended=new v.B,this.entered=new v.B,this.exited=new v.B,this.dropped=new v.B,this.moved=this._moveEvents,this._pointerDown=un=>{if(this.beforeStarted.next(),this._handles.length){const kn=this._getTargetHandle(un);kn&&!this._disabledHandles.has(kn)&&!this.disabled&&this._initializeDragSequence(kn,un)}else this.disabled||this._initializeDragSequence(this._rootElement,un)},this._pointerMove=un=>{const kn=this._getPointerPositionOnPage(un);if(!this._hasStartedDragging()){if(Math.abs(kn.x-this._pickupPositionOnPage.x)+Math.abs(kn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const dr=Date.now()>=this._dragStartTime+this._getDragStartDelay(un),Fo=this._dropContainer;if(!dr)return void this._endDragSequence(un);(!Fo||!Fo.isDragging()&&!Fo.isReceiving())&&(un.cancelable&&un.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(un)))}return}un.cancelable&&un.preventDefault();const Qn=this._getConstrainedPointerPosition(kn);if(this._hasMoved=!0,this._lastKnownPointerPosition=kn,this._updatePointerDirectionDelta(Qn),this._dropContainer)this._updateActiveDropContainer(Qn,kn);else{const xi=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,ms=this._activeTransform;ms.x=Qn.x-xi.x+this._passiveTransform.x,ms.y=Qn.y-xi.y+this._passiveTransform.y,this._applyRootElementTransform(ms.x,ms.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Qn,event:un,distance:this._getDragDistance(Qn),delta:this._pointerDirectionDelta})})},this._pointerUp=un=>{this._endDragSequence(un)},this._nativeDragStart=un=>{if(this._handles.length){const kn=this._getTargetHandle(un);kn&&!this._disabledHandles.has(kn)&&!this.disabled&&un.preventDefault()}else this.disabled||un.preventDefault()},this.withRootElement(Ce).withParent(Me.parentDragRef||null),this._parentPositions=new yt(Ue),pn.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(Ce){this._handles=Ce.map(Ue=>y(Ue)),this._handles.forEach(Ue=>Yt(Ue,this.disabled)),this._toggleNativeDragInteractions();const Me=new Set;return this._disabledHandles.forEach(Ue=>{this._handles.indexOf(Ue)>-1&&Me.add(Ue)}),this._disabledHandles=Me,this}withPreviewTemplate(Ce){return this._previewTemplate=Ce,this}withPlaceholderTemplate(Ce){return this._placeholderTemplate=Ce,this}withRootElement(Ce){const Me=y(Ce);return Me!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Me.addEventListener("mousedown",this._pointerDown,Ft),Me.addEventListener("touchstart",this._pointerDown,ht),Me.addEventListener("dragstart",this._nativeDragStart,Ft)}),this._initialTransform=void 0,this._rootElement=Me),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(Ce){return this._boundaryElement=Ce?y(Ce):null,this._resizeSubscription.unsubscribe(),Ce&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(Ce){return this._parentDragRef=Ce,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(Ce){!this._disabledHandles.has(Ce)&&this._handles.indexOf(Ce)>-1&&(this._disabledHandles.add(Ce),Yt(Ce,!0))}enableHandle(Ce){this._disabledHandles.has(Ce)&&(this._disabledHandles.delete(Ce),Yt(Ce,this.disabled))}withDirection(Ce){return this._direction=Ce,this}_withDropContainer(Ce){this._dropContainer=Ce}getFreeDragPosition(){const Ce=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:Ce.x,y:Ce.y}}setFreeDragPosition(Ce){return this._activeTransform={x:0,y:0},this._passiveTransform.x=Ce.x,this._passiveTransform.y=Ce.y,this._dropContainer||this._applyRootElementTransform(Ce.x,Ce.y),this}withPreviewContainer(Ce){return this._previewContainer=Ce,this}_sortFromLastPointerPosition(){const Ce=this._lastKnownPointerPosition;Ce&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(Ce),Ce)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",yn,At)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(Ce){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:Ce}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(Ce),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Me=this._getPointerPositionOnPage(Ce);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Me),dropPoint:Me,event:Ce})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(Ce){vt(Ce)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Me=this._getShadowRoot(),Ue=this._dropContainer;if(Me&&this._ngZone.runOutsideAngular(()=>{Me.addEventListener("selectstart",yn,At)}),Ue){const ft=this._rootElement,kt=ft.parentNode,pn=this._placeholder=this._createPlaceholderElement(),un=this._anchor=this._anchor||this._document.createComment("");kt.insertBefore(un,ft),this._initialTransform=ft.style.transform||"",this._preview=new xt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(kt,Me)),Ht(ft,!1,Vn),this._document.body.appendChild(kt.replaceChild(pn,ft)),this.started.next({source:this,event:Ce}),Ue.start(),this._initialContainer=Ue,this._initialIndex=Ue.getItemIndex(this)}else this.started.next({source:this,event:Ce}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ue?Ue.getScrollableParents():[])}_initializeDragSequence(Ce,Me){this._parentDragRef&&Me.stopPropagation();const Ue=this.isDragging(),ft=vt(Me),kt=!ft&&0!==Me.button,pn=this._rootElement,un=(0,J.Fb)(Me),kn=!ft&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Qn=ft?(0,De.w6)(Me):(0,De._G)(Me);if(un&&un.draggable&&"mousedown"===Me.type&&Me.preventDefault(),Ue||kt||kn||Qn)return;if(this._handles.length){const No=pn.style;this._rootElementTapHighlight=No.webkitTapHighlightColor||"",No.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(No=>this._updateOnScroll(No)),this._boundaryElement&&(this._boundaryRect=an(this._boundaryElement));const xi=this._previewTemplate;this._pickupPositionInElement=xi&&xi.template&&!xi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,Ce,Me);const ms=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Me);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ms.x,y:ms.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Me)}_cleanupDragArtifacts(Ce){Ht(this._rootElement,!0,Vn),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Me=this._dropContainer,Ue=Me.getItemIndex(this),ft=this._getPointerPositionOnPage(Ce),kt=this._getDragDistance(ft),pn=Me._isOverContainer(ft.x,ft.y);this.ended.next({source:this,distance:kt,dropPoint:ft,event:Ce}),this.dropped.next({item:this,currentIndex:Ue,previousIndex:this._initialIndex,container:Me,previousContainer:this._initialContainer,isPointerOverContainer:pn,distance:kt,dropPoint:ft,event:Ce}),Me.drop(this,Ue,this._initialIndex,this._initialContainer,pn,kt,ft,Ce),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:Ce,y:Me},{x:Ue,y:ft}){let kt=this._initialContainer._getSiblingContainerFromPosition(this,Ce,Me);!kt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(Ce,Me)&&(kt=this._initialContainer),kt&&kt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=kt,this._dropContainer.enter(this,Ce,Me,kt===this._initialContainer&&kt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:kt,currentIndex:kt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ue,ft),this._dropContainer._sortItem(this,Ce,Me,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(Ce,Me):this._applyPreviewTransform(Ce-this._pickupPositionInElement.x,Me-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const Ce=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(Ce.left,Ce.top);const Me=this._preview.getTransitionDuration();return 0===Me?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ue=>{const ft=pn=>{(!pn||this._preview&&(0,J.Fb)(pn)===this._preview.element&&"transform"===pn.propertyName)&&(this._preview?.removeEventListener("transitionend",ft),Ue(),clearTimeout(kt))},kt=setTimeout(ft,1.5*Me);this._preview.addEventListener("transitionend",ft)}))}_createPlaceholderElement(){const Ce=this._placeholderTemplate,Me=Ce?Ce.template:null;let Ue;return Me?(this._placeholderRef=Ce.viewContainer.createEmbeddedView(Me,Ce.context),this._placeholderRef.detectChanges(),Ue=Zt(this._placeholderRef,this._document)):Ue=jn(this._rootElement),Ue.style.pointerEvents="none",Ue.classList.add("cdk-drag-placeholder"),Ue}_getPointerPositionInElement(Ce,Me,Ue){const ft=Me===this._rootElement?null:Me,kt=ft?ft.getBoundingClientRect():Ce,pn=vt(Ue)?Ue.targetTouches[0]:Ue,un=this._getViewportScrollPosition();return{x:kt.left-Ce.left+(pn.pageX-kt.left-un.left),y:kt.top-Ce.top+(pn.pageY-kt.top-un.top)}}_getPointerPositionOnPage(Ce){const Me=this._getViewportScrollPosition(),Ue=vt(Ce)?Ce.touches[0]||Ce.changedTouches[0]||{pageX:0,pageY:0}:Ce,ft=Ue.pageX-Me.left,kt=Ue.pageY-Me.top;if(this._ownerSVGElement){const pn=this._ownerSVGElement.getScreenCTM();if(pn){const un=this._ownerSVGElement.createSVGPoint();return un.x=ft,un.y=kt,un.matrixTransform(pn.inverse())}}return{x:ft,y:kt}}_getConstrainedPointerPosition(Ce){const Me=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ue,y:ft}=this.constrainPosition?this.constrainPosition(Ce,this,this._initialDomRect,this._pickupPositionInElement):Ce;if("x"===this.lockAxis||"x"===Me?ft=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===Me)&&(Ue=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:kt,y:pn}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,un=this._boundaryRect,{width:kn,height:Qn}=this._getPreviewRect(),xi=un.top+pn,ms=un.bottom-(Qn-pn);Ue=Dt(Ue,un.left+kt,un.right-(kn-kt)),ft=Dt(ft,xi,ms)}return{x:Ue,y:ft}}_updatePointerDirectionDelta(Ce){const{x:Me,y:Ue}=Ce,ft=this._pointerDirectionDelta,kt=this._pointerPositionAtLastDirectionChange,pn=Math.abs(Me-kt.x),un=Math.abs(Ue-kt.y);return pn>this._config.pointerDirectionChangeThreshold&&(ft.x=Me>kt.x?1:-1,kt.x=Me),un>this._config.pointerDirectionChangeThreshold&&(ft.y=Ue>kt.y?1:-1,kt.y=Ue),ft}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const Ce=this._handles.length>0||!this.isDragging();Ce!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=Ce,Yt(this._rootElement,Ce))}_removeRootElementListeners(Ce){Ce.removeEventListener("mousedown",this._pointerDown,Ft),Ce.removeEventListener("touchstart",this._pointerDown,ht),Ce.removeEventListener("dragstart",this._nativeDragStart,Ft)}_applyRootElementTransform(Ce,Me){const Ue=1/this.scale,ft=Le(Ce*Ue,Me*Ue),kt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=kt.transform&&"none"!=kt.transform?kt.transform:""),kt.transform=Qe(ft,this._initialTransform)}_applyPreviewTransform(Ce,Me){const Ue=this._previewTemplate?.template?void 0:this._initialTransform,ft=Le(Ce,Me);this._preview.setTransform(Qe(ft,Ue))}_getDragDistance(Ce){const Me=this._pickupPositionOnPage;return Me?{x:Ce.x-Me.x,y:Ce.y-Me.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:Ce,y:Me}=this._passiveTransform;if(0===Ce&&0===Me||this.isDragging()||!this._boundaryElement)return;const Ue=this._rootElement.getBoundingClientRect(),ft=this._boundaryElement.getBoundingClientRect();if(0===ft.width&&0===ft.height||0===Ue.width&&0===Ue.height)return;const kt=ft.left-Ue.left,pn=Ue.right-ft.right,un=ft.top-Ue.top,kn=Ue.bottom-ft.bottom;ft.width>Ue.width?(kt>0&&(Ce+=kt),pn>0&&(Ce-=pn)):Ce=0,ft.height>Ue.height?(un>0&&(Me+=un),kn>0&&(Me-=kn)):Me=0,(Ce!==this._passiveTransform.x||Me!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Me,x:Ce})}_getDragStartDelay(Ce){const Me=this.dragStartDelay;return"number"==typeof Me?Me:vt(Ce)?Me.touch:Me?Me.mouse:0}_updateOnScroll(Ce){const Me=this._parentPositions.handleScroll(Ce);if(Me){const Ue=(0,J.Fb)(Ce);this._boundaryRect&&Ue!==this._boundaryElement&&Ue.contains(this._boundaryElement)&&Ct(this._boundaryRect,Me.top,Me.left),this._pickupPositionOnPage.x+=Me.left,this._pickupPositionOnPage.y+=Me.top,this._dropContainer||(this._activeTransform.x-=Me.left,this._activeTransform.y-=Me.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,J.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(Ce,Me){const Ue=this._previewContainer||"global";if("parent"===Ue)return Ce;if("global"===Ue){const ft=this._document;return Me||ft.fullscreenElement||ft.webkitFullscreenElement||ft.mozFullScreenElement||ft.msFullscreenElement||ft.body}return y(Ue)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(Ce){return this._handles.find(Me=>Ce.target&&(Ce.target===Me||Me.contains(Ce.target)))}}function Dt(Ke,Ce,Me){return Math.max(Ce,Math.min(Me,Ke))}function vt(Ke){return"t"===Ke.type[0]}function yn(Ke){Ke.preventDefault()}function Dn(Ke,Ce,Me){const Ue=ai(Ce,Ke.length-1),ft=ai(Me,Ke.length-1);if(Ue===ft)return;const kt=Ke[Ue],pn=ft<Ue?-1:1;for(let un=Ue;un!==ft;un+=pn)Ke[un]=Ke[un+pn];Ke[ft]=kt}function ai(Ke,Ce){return Math.max(0,Math.min(Ce,Ke))}class ts{constructor(Ce){this._dragDropRegistry=Ce,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(Ce){this.withItems(Ce)}sort(Ce,Me,Ue,ft){const kt=this._itemPositions,pn=this._getItemIndexFromPointerPosition(Ce,Me,Ue,ft);if(-1===pn&&kt.length>0)return null;const un="horizontal"===this.orientation,kn=kt.findIndex(Js=>Js.drag===Ce),Qn=kt[pn],ms=Qn.clientRect,No=kn>pn?1:-1,dr=this._getItemOffsetPx(kt[kn].clientRect,ms,No),Fo=this._getSiblingOffsetPx(kn,kt,No),qo=kt.slice();return Dn(kt,kn,pn),kt.forEach((Js,er)=>{if(qo[er]===Js)return;const mr=Js.drag===Ce,Dr=mr?dr:Fo,ta=mr?Ce.getPlaceholderElement():Js.drag.getRootElement();Js.offset+=Dr;const ur=Math.round(Js.offset*(1/Js.drag.scale));un?(ta.style.transform=Qe(`translate3d(${ur}px, 0, 0)`,Js.initialTransform),Ct(Js.clientRect,0,Dr)):(ta.style.transform=Qe(`translate3d(0, ${ur}px, 0)`,Js.initialTransform),Ct(Js.clientRect,Dr,0))}),this._previousSwap.overlaps=we(ms,Me,Ue),this._previousSwap.drag=Qn.drag,this._previousSwap.delta=un?ft.x:ft.y,{previousIndex:kn,currentIndex:pn}}enter(Ce,Me,Ue,ft){const kt=null==ft||ft<0?this._getItemIndexFromPointerPosition(Ce,Me,Ue):ft,pn=this._activeDraggables,un=pn.indexOf(Ce),kn=Ce.getPlaceholderElement();let Qn=pn[kt];if(Qn===Ce&&(Qn=pn[kt+1]),!Qn&&(null==kt||-1===kt||kt<pn.length-1)&&this._shouldEnterAsFirstChild(Me,Ue)&&(Qn=pn[0]),un>-1&&pn.splice(un,1),Qn&&!this._dragDropRegistry.isDragging(Qn)){const xi=Qn.getRootElement();xi.parentElement.insertBefore(kn,xi),pn.splice(kt,0,Ce)}else this._element.appendChild(kn),pn.push(Ce);kn.style.transform="",this._cacheItemPositions()}withItems(Ce){this._activeDraggables=Ce.slice(),this._cacheItemPositions()}withSortPredicate(Ce){this._sortPredicate=Ce}reset(){this._activeDraggables?.forEach(Ce=>{const Me=Ce.getRootElement();if(Me){const Ue=this._itemPositions.find(ft=>ft.drag===Ce)?.initialTransform;Me.style.transform=Ue||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(Ce){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ue=>Ue.drag===Ce)}updateOnScroll(Ce,Me){this._itemPositions.forEach(({clientRect:Ue})=>{Ct(Ue,Ce,Me)}),this._itemPositions.forEach(({drag:Ue})=>{this._dragDropRegistry.isDragging(Ue)&&Ue._sortFromLastPointerPosition()})}withElementContainer(Ce){this._element=Ce}_cacheItemPositions(){const Ce="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Me=>{const Ue=Me.getVisibleElement();return{drag:Me,offset:0,initialTransform:Ue.style.transform||"",clientRect:an(Ue)}}).sort((Me,Ue)=>Ce?Me.clientRect.left-Ue.clientRect.left:Me.clientRect.top-Ue.clientRect.top)}_getItemOffsetPx(Ce,Me,Ue){const ft="horizontal"===this.orientation;let kt=ft?Me.left-Ce.left:Me.top-Ce.top;return-1===Ue&&(kt+=ft?Me.width-Ce.width:Me.height-Ce.height),kt}_getSiblingOffsetPx(Ce,Me,Ue){const ft="horizontal"===this.orientation,kt=Me[Ce].clientRect,pn=Me[Ce+-1*Ue];let un=kt[ft?"width":"height"]*Ue;if(pn){const kn=ft?"left":"top",Qn=ft?"right":"bottom";-1===Ue?un-=pn.clientRect[kn]-kt[Qn]:un+=kt[kn]-pn.clientRect[Qn]}return un}_shouldEnterAsFirstChild(Ce,Me){if(!this._activeDraggables.length)return!1;const Ue=this._itemPositions,ft="horizontal"===this.orientation;if(Ue[0].drag!==this._activeDraggables[0]){const pn=Ue[Ue.length-1].clientRect;return ft?Ce>=pn.right:Me>=pn.bottom}{const pn=Ue[0].clientRect;return ft?Ce<=pn.left:Me<=pn.top}}_getItemIndexFromPointerPosition(Ce,Me,Ue,ft){const kt="horizontal"===this.orientation,pn=this._itemPositions.findIndex(({drag:un,clientRect:kn})=>un!==Ce&&((!ft||un!==this._previousSwap.drag||!this._previousSwap.overlaps||(kt?ft.x:ft.y)!==this._previousSwap.delta)&&(kt?Me>=Math.floor(kn.left)&&Me<Math.floor(kn.right):Ue>=Math.floor(kn.top)&&Ue<Math.floor(kn.bottom))));return-1!==pn&&this._sortPredicate(pn,Ce)?pn:-1}}class ns{constructor(Ce,Me){this._document=Ce,this._dragDropRegistry=Me,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(Ce){const Me=this._element.childNodes;this._relatedNodes=[];for(let Ue=0;Ue<Me.length;Ue++){const ft=Me[Ue];this._relatedNodes.push([ft,ft.nextSibling])}this.withItems(Ce)}sort(Ce,Me,Ue,ft){const kt=this._getItemIndexFromPointerPosition(Ce,Me,Ue),pn=this._previousSwap;if(-1===kt||this._activeItems[kt]===Ce)return null;const un=this._activeItems[kt];if(pn.drag===un&&pn.overlaps&&pn.deltaX===ft.x&&pn.deltaY===ft.y)return null;const kn=this.getItemIndex(Ce),Qn=Ce.getPlaceholderElement(),xi=un.getRootElement();kt>kn?xi.after(Qn):xi.before(Qn),Dn(this._activeItems,kn,kt);const ms=this._getRootNode().elementFromPoint(Me,Ue);return pn.deltaX=ft.x,pn.deltaY=ft.y,pn.drag=un,pn.overlaps=xi===ms||xi.contains(ms),{previousIndex:kn,currentIndex:kt}}enter(Ce,Me,Ue,ft){let kt=null==ft||ft<0?this._getItemIndexFromPointerPosition(Ce,Me,Ue):ft;-1===kt&&(kt=this._getClosestItemIndexToPointer(Ce,Me,Ue));const pn=this._activeItems[kt],un=this._activeItems.indexOf(Ce);un>-1&&this._activeItems.splice(un,1),pn&&!this._dragDropRegistry.isDragging(pn)?(this._activeItems.splice(kt,0,Ce),pn.getRootElement().before(Ce.getPlaceholderElement())):(this._activeItems.push(Ce),this._element.appendChild(Ce.getPlaceholderElement()))}withItems(Ce){this._activeItems=Ce.slice()}withSortPredicate(Ce){this._sortPredicate=Ce}reset(){const Ce=this._element,Me=this._previousSwap;for(let Ue=this._relatedNodes.length-1;Ue>-1;Ue--){const[ft,kt]=this._relatedNodes[Ue];ft.parentNode===Ce&&ft.nextSibling!==kt&&(null===kt?Ce.appendChild(ft):kt.parentNode===Ce&&Ce.insertBefore(ft,kt))}this._relatedNodes=[],this._activeItems=[],Me.drag=null,Me.deltaX=Me.deltaY=0,Me.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(Ce){return this._activeItems.indexOf(Ce)}updateOnScroll(){this._activeItems.forEach(Ce=>{this._dragDropRegistry.isDragging(Ce)&&Ce._sortFromLastPointerPosition()})}withElementContainer(Ce){Ce!==this._element&&(this._element=Ce,this._rootNode=void 0)}_getItemIndexFromPointerPosition(Ce,Me,Ue){const ft=this._getRootNode().elementFromPoint(Math.floor(Me),Math.floor(Ue)),kt=ft?this._activeItems.findIndex(pn=>{const un=pn.getRootElement();return ft===un||un.contains(ft)}):-1;return-1!==kt&&this._sortPredicate(kt,Ce)?kt:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,J.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(Ce,Me,Ue){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let ft=1/0,kt=-1;for(let pn=0;pn<this._activeItems.length;pn++){const un=this._activeItems[pn];if(un!==Ce){const{x:kn,y:Qn}=un.getRootElement().getBoundingClientRect(),xi=Math.hypot(Me-kn,Ue-Qn);xi<ft&&(ft=xi,kt=pn)}}return kt}}var cn=function(Ke){return Ke[Ke.NONE=0]="NONE",Ke[Ke.UP=1]="UP",Ke[Ke.DOWN=2]="DOWN",Ke}(cn||{}),gn=function(Ke){return Ke[Ke.NONE=0]="NONE",Ke[Ke.LEFT=1]="LEFT",Ke[Ke.RIGHT=2]="RIGHT",Ke}(gn||{});class pi{constructor(Ce,Me,Ue,ft,kt){this._dragDropRegistry=Me,this._ngZone=ft,this._viewportRuler=kt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new v.B,this.entered=new v.B,this.exited=new v.B,this.dropped=new v.B,this.sorted=new v.B,this.receivingStarted=new v.B,this.receivingStopped=new v.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.yU.EMPTY,this._verticalScrollDirection=cn.NONE,this._horizontalScrollDirection=gn.NONE,this._stopScrollTimers=new v.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),(0,ut.Y)(0,M).pipe((0,ot.Q)(this._stopScrollTimers)).subscribe(()=>{const un=this._scrollNode,kn=this.autoScrollStep;this._verticalScrollDirection===cn.UP?un.scrollBy(0,-kn):this._verticalScrollDirection===cn.DOWN&&un.scrollBy(0,kn),this._horizontalScrollDirection===gn.LEFT?un.scrollBy(-kn,0):this._horizontalScrollDirection===gn.RIGHT&&un.scrollBy(kn,0)})};const pn=this.element=y(Ce);this._document=Ue,this.withOrientation("vertical").withElementContainer(pn),Me.registerDropContainer(this),this._parentPositions=new yt(Ue)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(Ce,Me,Ue,ft){this._draggingStarted(),null==ft&&this.sortingDisabled&&(ft=this._draggables.indexOf(Ce)),this._sortStrategy.enter(Ce,Me,Ue,ft),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:Ce,container:this,currentIndex:this.getItemIndex(Ce)})}exit(Ce){this._reset(),this.exited.next({item:Ce,container:this})}drop(Ce,Me,Ue,ft,kt,pn,un,kn={}){this._reset(),this.dropped.next({item:Ce,currentIndex:Me,previousIndex:Ue,container:this,previousContainer:ft,isPointerOverContainer:kt,distance:pn,dropPoint:un,event:kn})}withItems(Ce){const Me=this._draggables;return this._draggables=Ce,Ce.forEach(Ue=>Ue._withDropContainer(this)),this.isDragging()&&(Me.filter(ft=>ft.isDragging()).every(ft=>-1===Ce.indexOf(ft))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(Ce){return this._direction=Ce,this._sortStrategy instanceof ts&&(this._sortStrategy.direction=Ce),this}connectedTo(Ce){return this._siblings=Ce.slice(),this}withOrientation(Ce){if("mixed"===Ce)this._sortStrategy=new ns(this._document,this._dragDropRegistry);else{const Me=new ts(this._dragDropRegistry);Me.direction=this._direction,Me.orientation=Ce,this._sortStrategy=Me}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((Me,Ue)=>this.sortPredicate(Me,Ue,this)),this}withScrollableParents(Ce){const Me=this._container;return this._scrollableElements=-1===Ce.indexOf(Me)?[Me,...Ce]:Ce.slice(),this}withElementContainer(Ce){if(Ce===this._container)return this;y(this.element);const Ue=this._scrollableElements.indexOf(this._container),ft=this._scrollableElements.indexOf(Ce);return Ue>-1&&this._scrollableElements.splice(Ue,1),ft>-1&&this._scrollableElements.splice(ft,1),this._sortStrategy&&this._sortStrategy.withElementContainer(Ce),this._cachedShadowRoot=null,this._scrollableElements.unshift(Ce),this._container=Ce,this}getScrollableParents(){return this._scrollableElements}getItemIndex(Ce){return this._isDragging?this._sortStrategy.getItemIndex(Ce):this._draggables.indexOf(Ce)}isReceiving(){return this._activeSiblings.size>0}_sortItem(Ce,Me,Ue,ft){if(this.sortingDisabled||!this._domRect||!$t(this._domRect,.05,Me,Ue))return;const kt=this._sortStrategy.sort(Ce,Me,Ue,ft);kt&&this.sorted.next({previousIndex:kt.previousIndex,currentIndex:kt.currentIndex,container:this,item:Ce})}_startScrollingIfNecessary(Ce,Me){if(this.autoScrollDisabled)return;let Ue,ft=cn.NONE,kt=gn.NONE;if(this._parentPositions.positions.forEach((pn,un)=>{un===this._document||!pn.clientRect||Ue||$t(pn.clientRect,.05,Ce,Me)&&([ft,kt]=function Ri(Ke,Ce,Me,Ue,ft){const kt=Oi(Ce,ft),pn=ps(Ce,Ue);let un=cn.NONE,kn=gn.NONE;if(kt){const Qn=Ke.scrollTop;kt===cn.UP?Qn>0&&(un=cn.UP):Ke.scrollHeight-Qn>Ke.clientHeight&&(un=cn.DOWN)}if(pn){const Qn=Ke.scrollLeft;"rtl"===Me?pn===gn.RIGHT?Qn<0&&(kn=gn.RIGHT):Ke.scrollWidth+Qn>Ke.clientWidth&&(kn=gn.LEFT):pn===gn.LEFT?Qn>0&&(kn=gn.LEFT):Ke.scrollWidth-Qn>Ke.clientWidth&&(kn=gn.RIGHT)}return[un,kn]}(un,pn.clientRect,this._direction,Ce,Me),(ft||kt)&&(Ue=un))}),!ft&&!kt){const{width:pn,height:un}=this._viewportRuler.getViewportSize(),kn={width:pn,height:un,top:0,right:pn,bottom:un,left:0};ft=Oi(kn,Me),kt=ps(kn,Ce),Ue=window}Ue&&(ft!==this._verticalScrollDirection||kt!==this._horizontalScrollDirection||Ue!==this._scrollNode)&&(this._verticalScrollDirection=ft,this._horizontalScrollDirection=kt,this._scrollNode=Ue,(ft||kt)&&Ue?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const Ce=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=Ce.msScrollSnapType||Ce.scrollSnapType||"",Ce.scrollSnapType=Ce.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const Ce=this._container.style;Ce.scrollSnapType=Ce.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Me=>Me._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(Ce,Me){return null!=this._domRect&&we(this._domRect,Ce,Me)}_getSiblingContainerFromPosition(Ce,Me,Ue){return this._siblings.find(ft=>ft._canReceive(Ce,Me,Ue))}_canReceive(Ce,Me,Ue){if(!this._domRect||!we(this._domRect,Me,Ue)||!this.enterPredicate(Ce,this))return!1;const ft=this._getShadowRoot().elementFromPoint(Me,Ue);return!!ft&&(ft===this._container||this._container.contains(ft))}_startReceiving(Ce,Me){const Ue=this._activeSiblings;!Ue.has(Ce)&&Me.every(ft=>this.enterPredicate(ft,this)||this._draggables.indexOf(ft)>-1)&&(Ue.add(Ce),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:Ce,receiver:this,items:Me}))}_stopReceiving(Ce){this._activeSiblings.delete(Ce),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:Ce,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ce=>{if(this.isDragging()){const Me=this._parentPositions.handleScroll(Ce);Me&&this._sortStrategy.updateOnScroll(Me.top,Me.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const Ce=(0,J.KT)(this._container);this._cachedShadowRoot=Ce||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const Ce=this._sortStrategy.getActiveItemsSnapshot().filter(Me=>Me.isDragging());this._siblings.forEach(Me=>Me._startReceiving(this,Ce))}}function Oi(Ke,Ce){const{top:Me,bottom:Ue,height:ft}=Ke,kt=.05*ft;return Ce>=Me-kt&&Ce<=Me+kt?cn.UP:Ce>=Ue-kt&&Ce<=Ue+kt?cn.DOWN:cn.NONE}function ps(Ke,Ce){const{left:Me,right:Ue,width:ft}=Ke,kt=.05*ft;return Ce>=Me-kt&&Ce<=Me+kt?gn.LEFT:Ce>=Ue-kt&&Ce<=Ue+kt?gn.RIGHT:gn.NONE}const Ai=(0,J.BQ)({passive:!1,capture:!0}),qt=new Set;let Si=(()=>{class Ke{static{this.\u0275fac=function(Ue){return new(Ue||Ke)}}static{this.\u0275cmp=i.VBU({type:Ke,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Ue,ft){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return Ke})(),Jt=(()=>{class Ke{constructor(Me,Ue){this._ngZone=Me,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,i.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=ft=>ft.isDragging(),this.pointerMove=new v.B,this.pointerUp=new v.B,this.scroll=new v.B,this._preventDefaultWhileDragging=ft=>{this._activeDragInstances().length>0&&ft.preventDefault()},this._persistentTouchmoveListener=ft=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&ft.preventDefault(),this.pointerMove.next(ft))},this._document=Ue}registerDropContainer(Me){this._dropInstances.has(Me)||this._dropInstances.add(Me)}registerDragItem(Me){this._dragInstances.add(Me),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ai)})}removeDropContainer(Me){this._dropInstances.delete(Me)}removeDragItem(Me){this._dragInstances.delete(Me),this.stopDragging(Me),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ai)}startDragging(Me,Ue){if(!(this._activeDragInstances().indexOf(Me)>-1)&&(this._loadResets(),this._activeDragInstances.update(ft=>[...ft,Me]),1===this._activeDragInstances().length)){const ft=Ue.type.startsWith("touch");this._globalListeners.set(ft?"touchend":"mouseup",{handler:kt=>this.pointerUp.next(kt),options:!0}).set("scroll",{handler:kt=>this.scroll.next(kt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ai}),ft||this._globalListeners.set("mousemove",{handler:kt=>this.pointerMove.next(kt),options:Ai}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((kt,pn)=>{this._document.addEventListener(pn,kt.handler,kt.options)})})}}stopDragging(Me){this._activeDragInstances.update(Ue=>{const ft=Ue.indexOf(Me);return ft>-1?(Ue.splice(ft,1),[...Ue]):Ue}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(Me){return this._activeDragInstances().indexOf(Me)>-1}scrolled(Me){const Ue=[this.scroll];return Me&&Me!==this._document&&Ue.push(new C.c(ft=>this._ngZone.runOutsideAngular(()=>{const pn=un=>{this._activeDragInstances().length&&ft.next(un)};return Me.addEventListener("scroll",pn,!0),()=>{Me.removeEventListener("scroll",pn,!0)}}))),(0,Ge.h)(...Ue)}ngOnDestroy(){this._dragInstances.forEach(Me=>this.removeDragItem(Me)),this._dropInstances.forEach(Me=>this.removeDropContainer(Me)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Me,Ue)=>{this._document.removeEventListener(Ue,Me.handler,Me.options)}),this._globalListeners.clear()}_loadResets(){if(!qt.has(this._appRef)){qt.add(this._appRef);const Me=(0,i.a0P)(Si,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{qt.delete(this._appRef),0===qt.size&&Me.destroy()})}}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}return Ke})();const Pt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Fe=(()=>{class Ke{constructor(Me,Ue,ft,kt){this._document=Me,this._ngZone=Ue,this._viewportRuler=ft,this._dragDropRegistry=kt}createDrag(Me,Ue=Pt){return new bi(Me,Ue,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Me){return new pi(Me,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(me),i.KVO(Jt))}}static{this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}return Ke})();const Ye=new i.nKC("CDK_DRAG_PARENT"),Qt=new i.nKC("CdkDragHandle");let En=(()=>{class Ke{get disabled(){return this._disabled}set disabled(Me){this._disabled=Me,this._stateChanges.next(this)}constructor(Me,Ue){this.element=Me,this._parentDrag=Ue,this._stateChanges=new v.B,this._disabled=!1,Ue?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.rXU(i.aKT),i.rXU(Ye,12))}}static{this.\u0275dir=i.FsC({type:Ke,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:Qt,useExisting:Ke}]),i.GFd]})}}return Ke})();const Mn=new i.nKC("CDK_DRAG_CONFIG"),Yn=new i.nKC("CdkDropList");let Jn=(()=>{class Ke{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Me){this._disabled=Me,this._dragRef.disabled=this._disabled}constructor(Me,Ue,ft,kt,pn,un,kn,Qn,xi,ms,No){this.element=Me,this.dropContainer=Ue,this._ngZone=kt,this._viewContainerRef=pn,this._dir=kn,this._changeDetectorRef=xi,this._selfHandle=ms,this._parentDrag=No,this._destroyed=new v.B,this._handles=new wt.t([]),this.scale=1,this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new C.c(dr=>{const Fo=this._dragRef.moved.pipe((0,Tt.T)(qo=>({source:this,pointerPosition:qo.pointerPosition,event:qo.event,delta:qo.delta,distance:qo.distance}))).subscribe(dr);return()=>{Fo.unsubscribe()}}),this._injector=(0,i.WQX)(i.zZn),this._dragRef=Qn.createDrag(Me,{dragStartThreshold:un&&null!=un.dragStartThreshold?un.dragStartThreshold:5,pointerDirectionChangeThreshold:un&&null!=un.pointerDirectionChangeThreshold?un.pointerDirectionChangeThreshold:5,zIndex:un?.zIndex}),this._dragRef.data=this,Ke._dragInstances.push(this),un&&this._assignDefaults(un),Ue&&(this._dragRef._withDropContainer(Ue._dropListRef),Ue.addItem(this),Ue._dropListRef.beforeStarted.pipe((0,ot.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Me){this._dragRef.setFreeDragPosition(Me)}ngAfterViewInit(){(0,i.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(Me){const Ue=Me.rootElementSelector,ft=Me.freeDragPosition;Ue&&!Ue.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,ft&&!ft.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Me=Ke._dragInstances.indexOf(this);Me>-1&&Ke._dragInstances.splice(Me,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(Me){const Ue=this._handles.getValue();Ue.push(Me),this._handles.next(Ue)}_removeHandle(Me){const Ue=this._handles.getValue(),ft=Ue.indexOf(Me);ft>-1&&(Ue.splice(ft,1),this._handles.next(Ue))}_setPreviewTemplate(Me){this._previewTemplate=Me}_resetPreviewTemplate(Me){Me===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(Me){this._placeholderTemplate=Me}_resetPlaceholderTemplate(Me){Me===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const Me=this.element.nativeElement;let Ue=Me;this.rootElementSelector&&(Ue=void 0!==Me.closest?Me.closest(this.rootElementSelector):Me.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Ue||Me)}_getBoundaryElement(){const Me=this.boundaryElement;return Me?"string"==typeof Me?this.element.nativeElement.closest(Me):y(Me):null}_syncInputs(Me){Me.beforeStarted.subscribe(()=>{if(!Me.isDragging()){const Ue=this._dir,ft=this.dragStartDelay,kt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,pn=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Me.disabled=this.disabled,Me.lockAxis=this.lockAxis,Me.scale=this.scale,Me.dragStartDelay="object"==typeof ft&&ft?ft:e(ft),Me.constrainPosition=this.constrainPosition,Me.previewClass=this.previewClass,Me.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(kt).withPreviewTemplate(pn).withPreviewContainer(this.previewContainer||"global"),Ue&&Me.withDirection(Ue.value)}}),Me.beforeStarted.pipe((0,Ee.s)(1)).subscribe(()=>{if(this._parentDrag)return void Me.withParent(this._parentDrag._dragRef);let Ue=this.element.nativeElement.parentElement;for(;Ue;){if(Ue.classList.contains("cdk-drag")){Me.withParent(Ke._dragInstances.find(ft=>ft.element.nativeElement===Ue)?._dragRef||null);break}Ue=Ue.parentElement}})}_handleEvents(Me){Me.started.subscribe(Ue=>{this.started.emit({source:this,event:Ue.event}),this._changeDetectorRef.markForCheck()}),Me.released.subscribe(Ue=>{this.released.emit({source:this,event:Ue.event})}),Me.ended.subscribe(Ue=>{this.ended.emit({source:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),Me.entered.subscribe(Ue=>{this.entered.emit({container:Ue.container.data,item:this,currentIndex:Ue.currentIndex})}),Me.exited.subscribe(Ue=>{this.exited.emit({container:Ue.container.data,item:this})}),Me.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,isPointerOverContainer:Ue.isPointerOverContainer,item:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event})})}_assignDefaults(Me){const{lockAxis:Ue,dragStartDelay:ft,constrainPosition:kt,previewClass:pn,boundaryElement:un,draggingDisabled:kn,rootElementSelector:Qn,previewContainer:xi}=Me;this.disabled=kn??!1,this.dragStartDelay=ft||0,Ue&&(this.lockAxis=Ue),kt&&(this.constrainPosition=kt),pn&&(this.previewClass=pn),un&&(this.boundaryElement=un),Qn&&(this.rootElementSelector=Qn),xi&&(this.previewContainer=xi)}_setupHandlesListener(){this._handles.pipe((0,je.M)(Me=>{const Ue=Me.map(ft=>ft.element);this._selfHandle&&this.rootElementSelector&&Ue.push(this.element),this._dragRef.withHandles(Ue)}),(0,mt.n)(Me=>(0,Ge.h)(...Me.map(Ue=>Ue._stateChanges.pipe((0,vn.Z)(Ue))))),(0,ot.Q)(this._destroyed)).subscribe(Me=>{const Ue=this._dragRef,ft=Me.element.nativeElement;Me.disabled?Ue.disableHandle(ft):Ue.enableHandle(ft)})}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.rXU(i.aKT),i.rXU(Yn,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(Mn,8),i.rXU(hn.dS,8),i.rXU(Fe),i.rXU(i.gRc),i.rXU(Qt,10),i.rXU(Ye,12))}}static{this.\u0275dir=i.FsC({type:Ke,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ue,ft){2&Ue&&i.AVh("cdk-drag-disabled",ft.disabled)("cdk-drag-dragging",ft._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",i.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",i.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:Ye,useExisting:Ke}]),i.GFd,i.OA$]})}}return Ke})();const ki=new i.nKC("CdkDropListGroup");let is=0,us=(()=>{class Ke{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Me){this._dropListRef.disabled=this._disabled=Me}constructor(Me,Ue,ft,kt,pn,un,kn){this.element=Me,this._changeDetectorRef=ft,this._scrollDispatcher=kt,this._dir=pn,this._group=un,this._destroyed=new v.B,this.connectedTo=[],this.id="cdk-drop-list-"+is++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Ue.createDropList(Me),this._dropListRef.data=this,kn&&this._assignDefaults(kn),this._dropListRef.enterPredicate=(Qn,xi)=>this.enterPredicate(Qn.data,xi.data),this._dropListRef.sortPredicate=(Qn,xi,ms)=>this.sortPredicate(Qn,xi.data,ms.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Ke._dropLists.push(this),un&&un._items.add(this)}addItem(Me){this._unsortedItems.add(Me),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Me){this._unsortedItems.delete(Me),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Me,Ue)=>Me._dragRef.getVisibleElement().compareDocumentPosition(Ue._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Me=Ke._dropLists.indexOf(this);Me>-1&&Ke._dropLists.splice(Me,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Me){this._dir&&this._dir.change.pipe((0,vn.Z)(this._dir.value),(0,ot.Q)(this._destroyed)).subscribe(Ue=>Me.withDirection(Ue)),Me.beforeStarted.subscribe(()=>{const Ue=function m(Ke){return Array.isArray(Ke)?Ke:[Ke]}(this.connectedTo).map(ft=>"string"==typeof ft?Ke._dropLists.find(pn=>pn.id===ft):ft);if(this._group&&this._group._items.forEach(ft=>{-1===Ue.indexOf(ft)&&Ue.push(ft)}),!this._scrollableParentsResolved){const ft=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(kt=>kt.getElementRef().nativeElement);this._dropListRef.withScrollableParents(ft),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const ft=this.element.nativeElement.querySelector(this.elementContainerSelector);Me.withElementContainer(ft)}Me.disabled=this.disabled,Me.lockAxis=this.lockAxis,Me.sortingDisabled=this.sortingDisabled,Me.autoScrollDisabled=this.autoScrollDisabled,Me.autoScrollStep=e(this.autoScrollStep,2),Me.connectedTo(Ue.filter(ft=>ft&&ft!==this).map(ft=>ft._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Me){Me.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Me.entered.subscribe(Ue=>{this.entered.emit({container:this,item:Ue.item.data,currentIndex:Ue.currentIndex})}),Me.exited.subscribe(Ue=>{this.exited.emit({container:this,item:Ue.item.data}),this._changeDetectorRef.markForCheck()}),Me.sorted.subscribe(Ue=>{this.sorted.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,container:this,item:Ue.item.data})}),Me.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,item:Ue.item.data,isPointerOverContainer:Ue.isPointerOverContainer,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),(0,Ge.h)(Me.receivingStarted,Me.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(Me){const{lockAxis:Ue,draggingDisabled:ft,sortingDisabled:kt,listAutoScrollDisabled:pn,listOrientation:un}=Me;this.disabled=ft??!1,this.sortingDisabled=kt??!1,this.autoScrollDisabled=pn??!1,this.orientation=un||"vertical",Ue&&(this.lockAxis=Ue)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Me=>Me._dragRef))}static{this.\u0275fac=function(Ue){return new(Ue||Ke)(i.rXU(i.aKT),i.rXU(Fe),i.rXU(i.gRc),i.rXU(te),i.rXU(hn.dS,8),i.rXU(ki,12),i.rXU(Mn,8))}}static{this.\u0275dir=i.FsC({type:Ke,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ue,ft){2&Ue&&(i.BMQ("id",ft.id),i.AVh("cdk-drop-list-disabled",ft.disabled)("cdk-drop-list-dragging",ft._dropListRef.isDragging())("cdk-drop-list-receiving",ft._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:ki,useValue:void 0},{provide:Yn,useExisting:Ke}]),i.GFd]})}}return Ke})()},36860:(U,b,n)=>{"use strict";n.d(b,{BQ:()=>O,Fb:()=>L,KT:()=>w,OD:()=>e});var i=n(54438),t=n(60177);let c;try{c=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c=!1}let E,S,e=(()=>{class j{constructor(k){this._platformId=k,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(K){return new(K||j)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})();function O(j){return function v(){if(null==E&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>E=!0}))}finally{E=E||!1}return E}()?j:!!j.capture}function w(j){if(function T(){if(null==S){const j=typeof document<"u"?document.head:null;S=!(!j||!j.createShadowRoot&&!j.attachShadow)}return S}()){const $=j.getRootNode?j.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&$ instanceof ShadowRoot)return $}return null}function L(j){return j.composedPath?j.composedPath()[0]:j.target}},64109:(U,b,n)=>{"use strict";n.d(b,{Dc:()=>Z,Hy:()=>me,NL:()=>fe,Sz:()=>G,XW:()=>$,aI:()=>be,xn:()=>ye});var i=n(45024),t=n(74402),c=n(21413),e=n(84412),f=n(7673),m=n(84572),p=n(983),y=n(92688),E=n(96697),O=(n(5964),n(56977)),C=n(99172),I=n(88141),D=n(25558),R=n(96354),h=n(19852),S=n(70274),T=n(23294),w=n(54438),M=n(51664),L=n(28203),N=n(8045);class j{constructor(){this.expansionModel=new i.CB(!0)}toggle(ce){this.expansionModel.toggle(this._trackByValue(ce))}expand(ce){this.expansionModel.select(this._trackByValue(ce))}collapse(ce){this.expansionModel.deselect(this._trackByValue(ce))}isExpanded(ce){return this.expansionModel.isSelected(this._trackByValue(ce))}toggleDescendants(ce){this.expansionModel.isSelected(this._trackByValue(ce))?this.collapseDescendants(ce):this.expandDescendants(ce)}collapseAll(){this.expansionModel.clear()}expandDescendants(ce){let ve=[ce];ve.push(...this.getDescendants(ce)),this.expansionModel.select(...ve.map(ze=>this._trackByValue(ze)))}collapseDescendants(ce){let ve=[ce];ve.push(...this.getDescendants(ce)),this.expansionModel.deselect(...ve.map(ze=>this._trackByValue(ze)))}_trackByValue(ce){return this.trackBy?this.trackBy(ce):ce}}class $ extends j{constructor(ce,ve,ze){super(),this.getLevel=ce,this.isExpandable=ve,this.options=ze,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(ce){const ze=[];for(let Se=this.dataNodes.indexOf(ce)+1;Se<this.dataNodes.length&&this.getLevel(ce)<this.getLevel(this.dataNodes[Se]);Se++)ze.push(this.dataNodes[Se]);return ze}expandAll(){this.expansionModel.select(...this.dataNodes.map(ce=>this._trackByValue(ce)))}}const K=new w.nKC("CDK_TREE_NODE_OUTLET_NODE");let z=(()=>{class le{constructor(ve,ze){this.viewContainer=ve,this._node=ze}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(w.c1b),w.rXU(K,8))}}static{this.\u0275dir=w.FsC({type:le,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return le})();class V{constructor(ce){this.$implicit=ce}}let G=(()=>{class le{constructor(ve){this.template=ve}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(w.C4Q))}}static{this.\u0275dir=w.FsC({type:le,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return le})();function ne(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let fe=(()=>{class le{get dataSource(){return this._dataSource}set dataSource(ve){this._dataSource!==ve&&this._switchDataSource(ve)}constructor(ve,ze){this._differs=ve,this._changeDetectorRef=ze,this._elementRef=(0,w.WQX)(w.aKT),this._dir=(0,w.WQX)(L.dS),this._onDestroy=new c.B,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new e.t({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new e.t([]),this._nodeType=new e.t(null),this._nodes=new e.t(new Map),this._keyManagerNodes=new e.t([]),this._keyManagerFactory=(0,w.WQX)(M.Z2),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const ve=this._nodeDefs.filter(ze=>!ze.when);this._defaultNodeDef=ve[0]}_setNodeTypeIfUnset(ve){null===this._nodeType.value&&this._nodeType.next(ve)}_switchDataSource(ve){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),ve||this._nodeOutlet.viewContainer.clear(),this._dataSource=ve,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new i.CB(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let ve;(0,i.y4)(this._dataSource)?ve=this._dataSource.connect(this):(0,t.A)(this._dataSource)?ve=this._dataSource:Array.isArray(this._dataSource)&&(ve=(0,f.of)(this._dataSource)),ve&&(this._dataSubscription=this._getRenderData(ve).pipe((0,O.Q)(this._onDestroy)).subscribe(ze=>{this._renderDataChanges(ze)}))}_getRenderData(ve){const ze=this._getExpansionModel();return(0,m.z)([ve,this._nodeType,ze.changed.pipe((0,C.Z)(null),(0,I.M)(Se=>{this._emitExpansionChanges(Se)}))]).pipe((0,D.n)(([Se,et])=>null===et?(0,f.of)({renderNodes:Se,flattenedNodes:null,nodeType:et}):this._computeRenderingData(Se,et).pipe((0,R.T)($e=>({...$e,nodeType:et})))))}_renderDataChanges(ve){null!==ve.nodeType?(this._updateCachedData(ve.flattenedNodes),this.renderNodeChanges(ve.renderNodes),this._updateKeyManagerItems(ve.flattenedNodes)):this.renderNodeChanges(ve.renderNodes)}_emitExpansionChanges(ve){if(!ve)return;const ze=this._nodes.value;for(const Se of ve.added)ze.get(Se)?._emitExpansionState(!0);for(const Se of ve.removed)ze.get(Se)?._emitExpansionState(!1)}_initializeKeyManager(){const ve=(0,m.z)([this._keyManagerNodes,this._nodes]).pipe((0,R.T)(([Se,et])=>Se.reduce(($e,st)=>{const We=et.get(this._getExpansionKey(st));return We&&$e.push(We),$e},[])));this._keyManager=this._keyManagerFactory(ve,{trackBy:Se=>this._getExpansionKey(Se.data),skipPredicate:Se=>!!Se.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const ve=this.trackBy??((ze,Se)=>this._getExpansionKey(Se));this._dataDiffer=this._differs.find([]).create(ve)}_checkTreeControlUsage(){}renderNodeChanges(ve,ze=this._dataDiffer,Se=this._nodeOutlet.viewContainer,et){const $e=ze.diff(ve);!$e&&!this._viewInit||($e?.forEachOperation((st,We,De)=>{if(null==st.previousIndex)this.insertNode(ve[De],De,Se,et);else if(null==De)Se.remove(We);else{const ut=Se.get(We);Se.move(ut,De)}}),$e?.forEachIdentityChange(st=>{const We=st.item;null!=st.currentIndex&&(Se.get(st.currentIndex).context.$implicit=We)}),et?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(ve,ze){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(et=>et.when&&et.when(ze,ve))||this._defaultNodeDef}insertNode(ve,ze,Se,et){const $e=this._getLevelAccessor(),st=this._getNodeDef(ve,ze),We=this._getExpansionKey(ve),De=new V(ve);et??=this._parents.get(We)??void 0,De.level=$e?$e(ve):void 0!==et&&this._levels.has(this._getExpansionKey(et))?this._levels.get(this._getExpansionKey(et))+1:0,this._levels.set(We,De.level),(Se||this._nodeOutlet.viewContainer).createEmbeddedView(st.template,De,ze),ye.mostRecentTreeNode&&(ye.mostRecentTreeNode.data=ve)}isExpanded(ve){return!(!this.treeControl?.isExpanded(ve)&&!this._expansionModel?.isSelected(this._getExpansionKey(ve)))}toggle(ve){this.treeControl?this.treeControl.toggle(ve):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(ve))}expand(ve){this.treeControl?this.treeControl.expand(ve):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(ve))}collapse(ve){this.treeControl?this.treeControl.collapse(ve):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(ve))}toggleDescendants(ve){this.treeControl?this.treeControl.toggleDescendants(ve):this._expansionModel&&(this.isExpanded(ve)?this.collapseDescendants(ve):this.expandDescendants(ve))}expandDescendants(ve){if(this.treeControl)this.treeControl.expandDescendants(ve);else if(this._expansionModel){const ze=this._expansionModel;ze.select(this._getExpansionKey(ve)),this._getDescendants(ve).pipe((0,E.s)(1),(0,O.Q)(this._onDestroy)).subscribe(Se=>{ze.select(...Se.map(et=>this._getExpansionKey(et)))})}}collapseDescendants(ve){if(this.treeControl)this.treeControl.collapseDescendants(ve);else if(this._expansionModel){const ze=this._expansionModel;ze.deselect(this._getExpansionKey(ve)),this._getDescendants(ve).pipe((0,E.s)(1),(0,O.Q)(this._onDestroy)).subscribe(Se=>{ze.deselect(...Se.map(et=>this._getExpansionKey(et)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(ze=>this._getExpansionKey(ze)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(ze=>this._getExpansionKey(ze)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(ve){const ze=this._getLevelAccessor(),Se=this._expansionModel??this.treeControl?.expansionModel;if(!Se)return(0,f.of)([]);const et=this._getExpansionKey(ve),$e=Se.changed.pipe((0,D.n)(We=>We.added.includes(et)?(0,f.of)(!0):We.removed.includes(et)?(0,f.of)(!1):p.w),(0,C.Z)(this.isExpanded(ve)));if(ze)return(0,m.z)([$e,this._flattenedNodes]).pipe((0,R.T)(([We,De])=>We?this._findChildrenByLevel(ze,De,ve,1):[]));const st=this._getChildrenAccessor();if(st)return(0,N.x)(st(ve)??[]);throw ne()}_findChildrenByLevel(ve,ze,Se,et){const $e=this._getExpansionKey(Se),st=ze.findIndex(Ge=>this._getExpansionKey(Ge)===$e),We=ve(Se),De=We+et,ut=[];for(let Ge=st+1;Ge<ze.length;Ge++){const wt=ve(ze[Ge]);if(wt<=We)break;wt<=De&&ut.push(ze[Ge])}return ut}_registerNode(ve){this._nodes.value.set(this._getExpansionKey(ve.data),ve),this._nodes.next(this._nodes.value)}_unregisterNode(ve){this._nodes.value.delete(this._getExpansionKey(ve.data)),this._nodes.next(this._nodes.value)}_getLevel(ve){return this._levels.get(this._getExpansionKey(ve))}_getSetSize(ve){return this._getAriaSet(ve).length}_getPositionInSet(ve){const ze=this._getAriaSet(ve),Se=this._getExpansionKey(ve);return ze.findIndex(et=>this._getExpansionKey(et)===Se)+1}_getNodeParent(ve){const ze=this._parents.get(this._getExpansionKey(ve.data));return ze&&this._nodes.value.get(this._getExpansionKey(ze))}_getNodeChildren(ve){return this._getDirectChildren(ve.data).pipe((0,R.T)(ze=>ze.reduce((Se,et)=>{const $e=this._nodes.value.get(this._getExpansionKey(et));return $e&&Se.push($e),Se},[])))}_sendKeydownToKeyManager(ve){if(ve.target===this._elementRef.nativeElement)this._keyManager.onKeydown(ve);else{const ze=this._nodes.getValue();for(const[,Se]of ze)if(ve.target===Se._elementRef.nativeElement){this._keyManager.onKeydown(ve);break}}}_getDescendants(ve){if(this.treeControl)return(0,f.of)(this.treeControl.getDescendants(ve));if(this.levelAccessor){const ze=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,ve,1/0);return(0,f.of)(ze)}if(this.childrenAccessor)return this._getAllChildrenRecursively(ve).pipe((0,h.T)((ze,Se)=>(ze.push(...Se),ze),[]));throw ne()}_getAllChildrenRecursively(ve){return this.childrenAccessor?(0,N.x)(this.childrenAccessor(ve)).pipe((0,E.s)(1),(0,D.n)(ze=>{for(const Se of ze)this._parents.set(this._getExpansionKey(Se),ve);return(0,f.of)(...ze).pipe((0,S.H)(Se=>(0,y.x)((0,f.of)([Se]),this._getAllChildrenRecursively(Se))))})):(0,f.of)([])}_getExpansionKey(ve){return this.expansionKey?.(ve)??ve}_getAriaSet(ve){const ze=this._getExpansionKey(ve),Se=this._parents.get(ze),et=Se?this._getExpansionKey(Se):null;return this._ariaSets.get(et)??[ve]}_findParentForNode(ve,ze,Se){if(!Se.length)return null;const et=this._levels.get(this._getExpansionKey(ve))??0;for(let $e=ze-1;$e>=0;$e--){const st=Se[$e];if((this._levels.get(this._getExpansionKey(st))??0)<et)return st}return null}_flattenNestedNodesWithExpansion(ve,ze=0){const Se=this._getChildrenAccessor();return Se?(0,f.of)(...ve).pipe((0,S.H)(et=>{const $e=this._getExpansionKey(et);this._parents.has($e)||this._parents.set($e,null),this._levels.set($e,ze);const st=(0,N.x)(Se(et));return(0,y.x)((0,f.of)([et]),st.pipe((0,E.s)(1),(0,I.M)(We=>{this._ariaSets.set($e,[...We??[]]);for(const De of We??[]){const ut=this._getExpansionKey(De);this._parents.set(ut,et),this._levels.set(ut,ze+1)}}),(0,D.n)(We=>We?this._flattenNestedNodesWithExpansion(We,ze+1).pipe((0,R.T)(De=>this.isExpanded(et)?De:[])):(0,f.of)([]))))}),(0,h.T)((et,$e)=>(et.push(...$e),et),[])):(0,f.of)([...ve])}_computeRenderingData(ve,ze){if(this.childrenAccessor&&"flat"===ze)return this._ariaSets.set(null,[...ve]),this._flattenNestedNodesWithExpansion(ve).pipe((0,R.T)(Se=>({renderNodes:Se,flattenedNodes:Se})));if(this.levelAccessor&&"nested"===ze){const Se=this.levelAccessor;return(0,f.of)(ve.filter(et=>0===Se(et))).pipe((0,R.T)(et=>({renderNodes:et,flattenedNodes:ve})),(0,I.M)(({flattenedNodes:et})=>{this._calculateParents(et)}))}return"flat"===ze?(0,f.of)({renderNodes:ve,flattenedNodes:ve}).pipe((0,I.M)(({flattenedNodes:Se})=>{this._calculateParents(Se)})):(this._ariaSets.set(null,[...ve]),this._flattenNestedNodesWithExpansion(ve).pipe((0,R.T)(Se=>({renderNodes:ve,flattenedNodes:Se}))))}_updateCachedData(ve){this._flattenedNodes.next(ve)}_updateKeyManagerItems(ve){this._keyManagerNodes.next(ve)}_calculateParents(ve){const ze=this._getLevelAccessor();if(ze){this._parents.clear(),this._ariaSets.clear();for(let Se=0;Se<ve.length;Se++){const et=ve[Se],$e=this._getExpansionKey(et);this._levels.set($e,ze(et));const st=this._findParentForNode(et,Se,ve);this._parents.set($e,st);const We=st?this._getExpansionKey(st):null,De=this._ariaSets.get(We)??[];De.splice(Se,0,et),this._ariaSets.set(We,De)}}}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(w._q3),w.rXU(w.gRc))}}static{this.\u0275cmp=w.VBU({type:le,selectors:[["cdk-tree"]],contentQueries:function(ze,Se,et){if(1&ze&&w.wni(et,G,5),2&ze){let $e;w.mGM($e=w.lsd())&&(Se._nodeDefs=$e)}},viewQuery:function(ze,Se){if(1&ze&&w.GBs(z,7),2&ze){let et;w.mGM(et=w.lsd())&&(Se._nodeOutlet=et.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(ze,Se){1&ze&&w.bIt("keydown",function($e){return Se._sendKeydownToKeyManager($e)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[w.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(ze,Se){1&ze&&w.eu8(0,0)},dependencies:[z],encapsulation:2})}}return le})(),ye=(()=>{class le{get role(){return"treeitem"}set role(ve){}get isExpandable(){return this._isExpandable()}set isExpandable(ve){this._inputIsExpandable=ve,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(ve){this._inputIsExpanded=ve,ve?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(ve){ve!==this._data&&(this._data=ve,this._dataChanges.next())}get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(ve,ze){this._elementRef=ve,this._tree=ze,this._tabindex=-1,this.activation=new w.bkB,this.expandedChange=new w.bkB,this._destroyed=new c.B,this._dataChanges=new c.B,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=(0,w.WQX)(w.gRc),le.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function oe(le){let ce=le.parentElement;for(;ce&&!ue(ce);)ce=ce.parentElement;return ce?ce.classList.contains("cdk-nested-tree-node")?(0,w.Udg)(ce.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,R.T)(()=>this.isExpanded),(0,T.F)()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){le.mostRecentTreeNode===this&&(le.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(ve){this.expandedChange.emit(ve)}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(w.aKT),w.rXU(fe))}}static{this.\u0275dir=w.FsC({type:le,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(ze,Se){1&ze&&w.bIt("click",function(){return Se._setActiveItem()})("focus",function(){return Se._focusItem()}),2&ze&&(w.Mr5("tabindex",Se._tabindex),w.BMQ("aria-expanded",Se._getAriaExpanded())("aria-level",Se.level+1)("aria-posinset",Se._getPositionInSet())("aria-setsize",Se._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",w.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",w.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[w.GFd]})}}return le})();function ue(le){const ce=le.classList;return!(!ce?.contains("cdk-nested-tree-node")&&!ce?.contains("cdk-tree"))}const se=/([A-Za-z%]+)$/;let be=(()=>{class le{get level(){return this._level}set level(ve){this._setLevelInput(ve)}get indent(){return this._indent}set indent(ve){this._setIndentInput(ve)}constructor(ve,ze,Se,et){this._treeNode=ve,this._tree=ze,this._element=Se,this._dir=et,this._destroyed=new c.B,this.indentUnits="px",this._indent=40,this._setPadding(),et&&et.change.pipe((0,O.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),ve._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const ve=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,ze=null==this._level?ve:this._level;return"number"==typeof ze?`${ze*this._indent}${this.indentUnits}`:null}_setPadding(ve=!1){const ze=this._paddingIndent();if(ze!==this._currentPadding||ve){const Se=this._element.nativeElement,et=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",$e="paddingLeft"===et?"paddingRight":"paddingLeft";Se.style[et]=ze||"",Se.style[$e]="",this._currentPadding=ze}}_setLevelInput(ve){this._level=isNaN(ve)?null:ve,this._setPadding()}_setIndentInput(ve){let ze=ve,Se="px";if("string"==typeof ve){const et=ve.split(se);ze=et[0],Se=et[1]||Se}this.indentUnits=Se,this._indent=(0,w.Udg)(ze),this._setPadding()}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(ye),w.rXU(fe),w.rXU(w.aKT),w.rXU(L.dS,8))}}static{this.\u0275dir=w.FsC({type:le,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",w.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[w.GFd]})}}return le})(),me=(()=>{class le{constructor(ve,ze){this._tree=ve,this._treeNode=ze,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static{this.\u0275fac=function(ze){return new(ze||le)(w.rXU(fe),w.rXU(ye))}}static{this.\u0275dir=w.FsC({type:le,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(ze,Se){1&ze&&w.bIt("click",function($e){return Se._toggle(),$e.stopPropagation()})("keydown.Enter",function($e){return Se._toggle(),$e.preventDefault()})("keydown.Space",function($e){return Se._toggle(),$e.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",w.L39]},standalone:!0,features:[w.GFd]})}}return le})(),Z=(()=>{class le{static{this.\u0275fac=function(ze){return new(ze||le)}}static{this.\u0275mod=w.$C({type:le})}static{this.\u0275inj=w.G2t({})}}return le})()},60177:(U,b,n)=>{"use strict";n.d(b,{AJ:()=>Ar,B3:()=>Ji,GH:()=>kt,Jj:()=>ft,MD:()=>yi,N0:()=>lt,OI:()=>Jt,PV:()=>un,QT:()=>c,Sm:()=>h,Sq:()=>Ye,T3:()=>hs,UE:()=>Tr,VF:()=>f,Vy:()=>Fa,XO:()=>ne,Xr:()=>Da,YU:()=>Si,Yq:()=>vn,ZD:()=>e,_b:()=>Ri,aZ:()=>T,bT:()=>En,cH:()=>z,fw:()=>S,hb:()=>D,hj:()=>E,kB:()=>R,lG:()=>mr,oV:()=>K,qQ:()=>p,rd:()=>q,tL:()=>ee,vh:()=>No});var i=n(54438);let t=null;function c(){return t}function e(ge){t??=ge}class f{}const p=new i.nKC("");let y=(()=>{class ge{historyGo(Ae){throw new Error("")}static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275prov=i.jDH({token:ge,factory:()=>(0,i.WQX)(v),providedIn:"platform"})}}return ge})();const E=new i.nKC("");let v=(()=>{class ge extends y{constructor(){super(),this._doc=(0,i.WQX)(p),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(Ae){const tt=c().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("popstate",Ae,!1),()=>tt.removeEventListener("popstate",Ae)}onHashChange(Ae){const tt=c().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("hashchange",Ae,!1),()=>tt.removeEventListener("hashchange",Ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ae){this._location.pathname=Ae}pushState(Ae,tt,Kt){this._history.pushState(Ae,tt,Kt)}replaceState(Ae,tt,Kt){this._history.replaceState(Ae,tt,Kt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ae=0){this._history.go(Ae)}getState(){return this._history.state}static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275prov=i.jDH({token:ge,factory:()=>new ge,providedIn:"platform"})}}return ge})();function O(ge,rt){if(0==ge.length)return rt;if(0==rt.length)return ge;let Ae=0;return ge.endsWith("/")&&Ae++,rt.startsWith("/")&&Ae++,2==Ae?ge+rt.substring(1):1==Ae?ge+rt:ge+"/"+rt}function C(ge){const rt=ge.match(/#|\?|$/),Ae=rt&&rt.index||ge.length;return ge.slice(0,Ae-("/"===ge[Ae-1]?1:0))+ge.slice(Ae)}function I(ge){return ge&&"?"!==ge[0]?"?"+ge:ge}let D=(()=>{class ge{historyGo(Ae){throw new Error("")}static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275prov=i.jDH({token:ge,factory:()=>(0,i.WQX)(h),providedIn:"root"})}}return ge})();const R=new i.nKC("");let h=(()=>{class ge extends D{constructor(Ae,tt){super(),this._platformLocation=Ae,this._removeListenerFns=[],this._baseHref=tt??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(p).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ae){return O(this._baseHref,Ae)}path(Ae=!1){const tt=this._platformLocation.pathname+I(this._platformLocation.search),Kt=this._platformLocation.hash;return Kt&&Ae?`${tt}${Kt}`:tt}pushState(Ae,tt,Kt,Pn){const Wn=this.prepareExternalUrl(Kt+I(Pn));this._platformLocation.pushState(Ae,tt,Wn)}replaceState(Ae,tt,Kt,Pn){const Wn=this.prepareExternalUrl(Kt+I(Pn));this._platformLocation.replaceState(Ae,tt,Wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(tt){return new(tt||ge)(i.KVO(y),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}return ge})(),S=(()=>{class ge extends D{constructor(Ae,tt){super(),this._platformLocation=Ae,this._baseHref="",this._removeListenerFns=[],null!=tt&&(this._baseHref=tt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}path(Ae=!1){const tt=this._platformLocation.hash??"#";return tt.length>0?tt.substring(1):tt}prepareExternalUrl(Ae){const tt=O(this._baseHref,Ae);return tt.length>0?"#"+tt:tt}pushState(Ae,tt,Kt,Pn){let Wn=this.prepareExternalUrl(Kt+I(Pn));0==Wn.length&&(Wn=this._platformLocation.pathname),this._platformLocation.pushState(Ae,tt,Wn)}replaceState(Ae,tt,Kt,Pn){let Wn=this.prepareExternalUrl(Kt+I(Pn));0==Wn.length&&(Wn=this._platformLocation.pathname),this._platformLocation.replaceState(Ae,tt,Wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(tt){return new(tt||ge)(i.KVO(y),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:ge,factory:ge.\u0275fac})}}return ge})(),T=(()=>{class ge{constructor(Ae){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ae;const tt=this._locationStrategy.getBaseHref();this._basePath=function N(ge){if(new RegExp("^(https?:)?//").test(ge)){const[,Ae]=ge.split(/\/\/[^\/]+/);return Ae}return ge}(C(L(tt))),this._locationStrategy.onPopState(Kt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Kt.state,type:Kt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ae=!1){return this.normalize(this._locationStrategy.path(Ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ae,tt=""){return this.path()==this.normalize(Ae+I(tt))}normalize(Ae){return ge.stripTrailingSlash(function M(ge,rt){if(!ge||!rt.startsWith(ge))return rt;const Ae=rt.substring(ge.length);return""===Ae||["/",";","?","#"].includes(Ae[0])?Ae:rt}(this._basePath,L(Ae)))}prepareExternalUrl(Ae){return Ae&&"/"!==Ae[0]&&(Ae="/"+Ae),this._locationStrategy.prepareExternalUrl(Ae)}go(Ae,tt="",Kt=null){this._locationStrategy.pushState(Kt,"",Ae,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+I(tt)),Kt)}replaceState(Ae,tt="",Kt=null){this._locationStrategy.replaceState(Kt,"",Ae,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+I(tt)),Kt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ae=0){this._locationStrategy.historyGo?.(Ae)}onUrlChange(Ae){return this._urlChangeListeners.push(Ae),this._urlChangeSubscription??=this.subscribe(tt=>{this._notifyUrlChangeListeners(tt.url,tt.state)}),()=>{const tt=this._urlChangeListeners.indexOf(Ae);this._urlChangeListeners.splice(tt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ae="",tt){this._urlChangeListeners.forEach(Kt=>Kt(Ae,tt))}subscribe(Ae,tt,Kt){return this._subject.subscribe({next:Ae,error:tt,complete:Kt})}static{this.normalizeQueryParams=I}static{this.joinWithSlash=O}static{this.stripTrailingSlash=C}static{this.\u0275fac=function(tt){return new(tt||ge)(i.KVO(D))}}static{this.\u0275prov=i.jDH({token:ge,factory:()=>function w(){return new T((0,i.KVO)(D))}(),providedIn:"root"})}}return ge})();function L(ge){return ge.replace(/\/index.html$/,"")}var K=function(ge){return ge[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge}(K||{}),z=function(ge){return ge[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge}(z||{}),V=function(ge){return ge[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge}(V||{});const G={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function q(ge,rt,Ae){const tt=(0,i.H5H)(ge),Pn=st([tt[i.KH2.DayPeriodsFormat],tt[i.KH2.DayPeriodsStandalone]],rt);return st(Pn,Ae)}function ne(ge,rt,Ae){const tt=(0,i.H5H)(ge),Pn=st([tt[i.KH2.DaysFormat],tt[i.KH2.DaysStandalone]],rt);return st(Pn,Ae)}function ee(ge,rt,Ae){const tt=(0,i.H5H)(ge),Pn=st([tt[i.KH2.MonthsFormat],tt[i.KH2.MonthsStandalone]],rt);return st(Pn,Ae)}function ue(ge,rt){return st((0,i.H5H)(ge)[i.KH2.DateFormat],rt)}function te(ge,rt){return st((0,i.H5H)(ge)[i.KH2.TimeFormat],rt)}function se(ge,rt){return st((0,i.H5H)(ge)[i.KH2.DateTimeFormat],rt)}function be(ge,rt){const Ae=(0,i.H5H)(ge),tt=Ae[i.KH2.NumberSymbols][rt];if(typeof tt>"u"){if(rt===G.CurrencyDecimal)return Ae[i.KH2.NumberSymbols][G.Decimal];if(rt===G.CurrencyGroup)return Ae[i.KH2.NumberSymbols][G.Group]}return tt}function ze(ge){if(!ge[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ge[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function st(ge,rt){for(let Ae=rt;Ae>-1;Ae--)if(typeof ge[Ae]<"u")return ge[Ae];throw new Error("Locale data API: locale data undefined")}function We(ge){const[rt,Ae]=ge.split(":");return{hours:+rt,minutes:+Ae}}const wt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ot={},Tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ee=function(ge){return ge[ge.Short=0]="Short",ge[ge.ShortGMT=1]="ShortGMT",ge[ge.Long=2]="Long",ge[ge.Extended=3]="Extended",ge}(Ee||{}),je=function(ge){return ge[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge}(je||{}),mt=function(ge){return ge[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge}(mt||{});function vn(ge,rt,Ae,tt){let Kt=function fn(ge){if(nn(ge))return ge;if("number"==typeof ge&&!isNaN(ge))return new Date(ge);if("string"==typeof ge){if(ge=ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ge)){const[Kt,Pn=1,Wn=1]=ge.split("-").map(fi=>+fi);return hn(Kt,Pn-1,Wn)}const Ae=parseFloat(ge);if(!isNaN(ge-Ae))return new Date(Ae);let tt;if(tt=ge.match(wt))return function xt(ge){const rt=new Date(0);let Ae=0,tt=0;const Kt=ge[8]?rt.setUTCFullYear:rt.setFullYear,Pn=ge[8]?rt.setUTCHours:rt.setHours;ge[9]&&(Ae=Number(ge[9]+ge[10]),tt=Number(ge[9]+ge[11])),Kt.call(rt,Number(ge[1]),Number(ge[2])-1,Number(ge[3]));const Wn=Number(ge[4]||0)-Ae,fi=Number(ge[5]||0)-tt,Xs=Number(ge[6]||0),ho=Math.floor(1e3*parseFloat("0."+(ge[7]||0)));return Pn.call(rt,Wn,fi,Xs,ho),rt}(tt)}const rt=new Date(ge);if(!nn(rt))throw new Error(`Unable to convert "${ge}" into a date`);return rt}(ge);rt=jn(Ae,rt)||rt;let fi,Wn=[];for(;rt;){if(fi=Tt.exec(rt),!fi){Wn.push(rt);break}{Wn=Wn.concat(fi.slice(1));const Ks=Wn.pop();if(!Ks)break;rt=Ks}}let Xs=Kt.getTimezoneOffset();tt&&(Xs=Xe(tt,Xs),Kt=function Wt(ge,rt,Ae){const tt=Ae?-1:1,Kt=ge.getTimezoneOffset();return function ct(ge,rt){return(ge=new Date(ge.getTime())).setMinutes(ge.getMinutes()+rt),ge}(ge,tt*(Xe(rt,Kt)-Kt))}(Kt,tt,!0));let ho="";return Wn.forEach(Ks=>{const Us=function Le(ge){if(ke[ge])return ke[ge];let rt;switch(ge){case"G":case"GG":case"GGG":rt=we(mt.Eras,z.Abbreviated);break;case"GGGG":rt=we(mt.Eras,z.Wide);break;case"GGGGG":rt=we(mt.Eras,z.Narrow);break;case"y":rt=gt(je.FullYear,1,0,!1,!0);break;case"yy":rt=gt(je.FullYear,2,0,!0,!0);break;case"yyy":rt=gt(je.FullYear,3,0,!1,!0);break;case"yyyy":rt=gt(je.FullYear,4,0,!1,!0);break;case"Y":rt=Qe(1);break;case"YY":rt=Qe(2,!0);break;case"YYY":rt=Qe(3);break;case"YYYY":rt=Qe(4);break;case"M":case"L":rt=gt(je.Month,1,1);break;case"MM":case"LL":rt=gt(je.Month,2,1);break;case"MMM":rt=we(mt.Months,z.Abbreviated);break;case"MMMM":rt=we(mt.Months,z.Wide);break;case"MMMMM":rt=we(mt.Months,z.Narrow);break;case"LLL":rt=we(mt.Months,z.Abbreviated,K.Standalone);break;case"LLLL":rt=we(mt.Months,z.Wide,K.Standalone);break;case"LLLLL":rt=we(mt.Months,z.Narrow,K.Standalone);break;case"w":rt=Ht(1);break;case"ww":rt=Ht(2);break;case"W":rt=Ht(1,!0);break;case"d":rt=gt(je.Date,1);break;case"dd":rt=gt(je.Date,2);break;case"c":case"cc":rt=gt(je.Day,1);break;case"ccc":rt=we(mt.Days,z.Abbreviated,K.Standalone);break;case"cccc":rt=we(mt.Days,z.Wide,K.Standalone);break;case"ccccc":rt=we(mt.Days,z.Narrow,K.Standalone);break;case"cccccc":rt=we(mt.Days,z.Short,K.Standalone);break;case"E":case"EE":case"EEE":rt=we(mt.Days,z.Abbreviated);break;case"EEEE":rt=we(mt.Days,z.Wide);break;case"EEEEE":rt=we(mt.Days,z.Narrow);break;case"EEEEEE":rt=we(mt.Days,z.Short);break;case"a":case"aa":case"aaa":rt=we(mt.DayPeriods,z.Abbreviated);break;case"aaaa":rt=we(mt.DayPeriods,z.Wide);break;case"aaaaa":rt=we(mt.DayPeriods,z.Narrow);break;case"b":case"bb":case"bbb":rt=we(mt.DayPeriods,z.Abbreviated,K.Standalone,!0);break;case"bbbb":rt=we(mt.DayPeriods,z.Wide,K.Standalone,!0);break;case"bbbbb":rt=we(mt.DayPeriods,z.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":rt=we(mt.DayPeriods,z.Abbreviated,K.Format,!0);break;case"BBBB":rt=we(mt.DayPeriods,z.Wide,K.Format,!0);break;case"BBBBB":rt=we(mt.DayPeriods,z.Narrow,K.Format,!0);break;case"h":rt=gt(je.Hours,1,-12);break;case"hh":rt=gt(je.Hours,2,-12);break;case"H":rt=gt(je.Hours,1);break;case"HH":rt=gt(je.Hours,2);break;case"m":rt=gt(je.Minutes,1);break;case"mm":rt=gt(je.Minutes,2);break;case"s":rt=gt(je.Seconds,1);break;case"ss":rt=gt(je.Seconds,2);break;case"S":rt=gt(je.FractionalSeconds,1);break;case"SS":rt=gt(je.FractionalSeconds,2);break;case"SSS":rt=gt(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":rt=$t(Ee.Short);break;case"ZZZZZ":rt=$t(Ee.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":rt=$t(Ee.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":rt=$t(Ee.Long);break;default:return null}return ke[ge]=rt,rt}(Ks);ho+=Us?Us(Kt,Ae,Xs):"''"===Ks?"'":Ks.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ho}function hn(ge,rt,Ae){const tt=new Date(0);return tt.setFullYear(ge,rt,Ae),tt.setHours(0,0,0),tt}function jn(ge,rt){const Ae=function J(ge){return(0,i.H5H)(ge)[i.KH2.LocaleId]}(ge);if(ot[Ae]??={},ot[Ae][rt])return ot[Ae][rt];let tt="";switch(rt){case"shortDate":tt=ue(ge,V.Short);break;case"mediumDate":tt=ue(ge,V.Medium);break;case"longDate":tt=ue(ge,V.Long);break;case"fullDate":tt=ue(ge,V.Full);break;case"shortTime":tt=te(ge,V.Short);break;case"mediumTime":tt=te(ge,V.Medium);break;case"longTime":tt=te(ge,V.Long);break;case"fullTime":tt=te(ge,V.Full);break;case"short":const Kt=jn(ge,"shortTime"),Pn=jn(ge,"shortDate");tt=bt(se(ge,V.Short),[Kt,Pn]);break;case"medium":const Wn=jn(ge,"mediumTime"),fi=jn(ge,"mediumDate");tt=bt(se(ge,V.Medium),[Wn,fi]);break;case"long":const Xs=jn(ge,"longTime"),ho=jn(ge,"longDate");tt=bt(se(ge,V.Long),[Xs,ho]);break;case"full":const Ks=jn(ge,"fullTime"),Us=jn(ge,"fullDate");tt=bt(se(ge,V.Full),[Ks,Us])}return tt&&(ot[Ae][rt]=tt),tt}function bt(ge,rt){return rt&&(ge=ge.replace(/\{([^}]+)}/g,function(Ae,tt){return null!=rt&&tt in rt?rt[tt]:Ae})),ge}function St(ge,rt,Ae="-",tt,Kt){let Pn="";(ge<0||Kt&&ge<=0)&&(Kt?ge=1-ge:(ge=-ge,Pn=Ae));let Wn=String(ge);for(;Wn.length<rt;)Wn="0"+Wn;return tt&&(Wn=Wn.slice(Wn.length-rt)),Pn+Wn}function gt(ge,rt,Ae=0,tt=!1,Kt=!1){return function(Pn,Wn){let fi=function an(ge,rt){switch(ge){case je.FullYear:return rt.getFullYear();case je.Month:return rt.getMonth();case je.Date:return rt.getDate();case je.Hours:return rt.getHours();case je.Minutes:return rt.getMinutes();case je.Seconds:return rt.getSeconds();case je.FractionalSeconds:return rt.getMilliseconds();case je.Day:return rt.getDay();default:throw new Error(`Unknown DateType value "${ge}".`)}}(ge,Pn);if((Ae>0||fi>-Ae)&&(fi+=Ae),ge===je.Hours)0===fi&&-12===Ae&&(fi=12);else if(ge===je.FractionalSeconds)return function Nt(ge,rt){return St(ge,3).substring(0,rt)}(fi,rt);const Xs=be(Wn,G.MinusSign);return St(fi,rt,Xs,tt,Kt)}}function we(ge,rt,Ae=K.Format,tt=!1){return function(Kt,Pn){return function Ct(ge,rt,Ae,tt,Kt,Pn){switch(Ae){case mt.Months:return ee(rt,Kt,tt)[ge.getMonth()];case mt.Days:return ne(rt,Kt,tt)[ge.getDay()];case mt.DayPeriods:const Wn=ge.getHours(),fi=ge.getMinutes();if(Pn){const ho=function Se(ge){const rt=(0,i.H5H)(ge);return ze(rt),(rt[i.KH2.ExtraData][2]||[]).map(tt=>"string"==typeof tt?We(tt):[We(tt[0]),We(tt[1])])}(rt),Ks=function et(ge,rt,Ae){const tt=(0,i.H5H)(ge);ze(tt);const Pn=st([tt[i.KH2.ExtraData][0],tt[i.KH2.ExtraData][1]],rt)||[];return st(Pn,Ae)||[]}(rt,Kt,tt),Us=ho.findIndex(ro=>{if(Array.isArray(ro)){const[Hs,bs]=ro,ii=Wn>=Hs.hours&&fi>=Hs.minutes,Ui=Wn<bs.hours||Wn===bs.hours&&fi<bs.minutes;if(Hs.hours<bs.hours){if(ii&&Ui)return!0}else if(ii||Ui)return!0}else if(ro.hours===Wn&&ro.minutes===fi)return!0;return!1});if(-1!==Us)return Ks[Us]}return q(rt,Kt,tt)[Wn<12?0:1];case mt.Eras:return function fe(ge,rt){return st((0,i.H5H)(ge)[i.KH2.Eras],rt)}(rt,tt)[ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ae}`)}}(Kt,Pn,ge,rt,Ae,tt)}}function $t(ge){return function(rt,Ae,tt){const Kt=-1*tt,Pn=be(Ae,G.MinusSign),Wn=Kt>0?Math.floor(Kt/60):Math.ceil(Kt/60);switch(ge){case Ee.Short:return(Kt>=0?"+":"")+St(Wn,2,Pn)+St(Math.abs(Kt%60),2,Pn);case Ee.ShortGMT:return"GMT"+(Kt>=0?"+":"")+St(Wn,1,Pn);case Ee.Long:return"GMT"+(Kt>=0?"+":"")+St(Wn,2,Pn)+":"+St(Math.abs(Kt%60),2,Pn);case Ee.Extended:return 0===tt?"Z":(Kt>=0?"+":"")+St(Wn,2,Pn)+":"+St(Math.abs(Kt%60),2,Pn);default:throw new Error(`Unknown zone width "${ge}"`)}}}const yt=0,Zt=4;function Yt(ge){const rt=ge.getDay(),Ae=0===rt?-3:Zt-rt;return hn(ge.getFullYear(),ge.getMonth(),ge.getDate()+Ae)}function Ht(ge,rt=!1){return function(Ae,tt){let Kt;if(rt){const Pn=new Date(Ae.getFullYear(),Ae.getMonth(),1).getDay()-1,Wn=Ae.getDate();Kt=1+Math.floor((Wn+Pn)/7)}else{const Pn=Yt(Ae),Wn=function on(ge){const rt=hn(ge,yt,1).getDay();return hn(ge,0,1+(rt<=Zt?Zt:Zt+7)-rt)}(Pn.getFullYear()),fi=Pn.getTime()-Wn.getTime();Kt=1+Math.round(fi/6048e5)}return St(Kt,ge,be(tt,G.MinusSign))}}function Qe(ge,rt=!1){return function(Ae,tt){return St(Yt(Ae).getFullYear(),ge,be(tt,G.MinusSign),rt)}}const ke={};function Xe(ge,rt){ge=ge.replace(/:/g,"");const Ae=Date.parse("Jan 01, 1970 00:00:00 "+ge)/6e4;return isNaN(Ae)?rt:Ae}function nn(ge){return ge instanceof Date&&!isNaN(ge.valueOf())}function Ri(ge,rt){rt=encodeURIComponent(rt);for(const Ae of ge.split(";")){const tt=Ae.indexOf("="),[Kt,Pn]=-1==tt?[Ae,""]:[Ae.slice(0,tt),Ae.slice(tt+1)];if(Kt.trim()===rt)return decodeURIComponent(Pn)}return null}const Ai=/\s+/,qt=[];let Si=(()=>{class ge{constructor(Ae,tt){this._ngEl=Ae,this._renderer=tt,this.initialClasses=qt,this.stateMap=new Map}set klass(Ae){this.initialClasses=null!=Ae?Ae.trim().split(Ai):qt}set ngClass(Ae){this.rawClass="string"==typeof Ae?Ae.trim().split(Ai):Ae}ngDoCheck(){for(const tt of this.initialClasses)this._updateState(tt,!0);const Ae=this.rawClass;if(Array.isArray(Ae)||Ae instanceof Set)for(const tt of Ae)this._updateState(tt,!0);else if(null!=Ae)for(const tt of Object.keys(Ae))this._updateState(tt,!!Ae[tt]);this._applyStateDiff()}_updateState(Ae,tt){const Kt=this.stateMap.get(Ae);void 0!==Kt?(Kt.enabled!==tt&&(Kt.changed=!0,Kt.enabled=tt),Kt.touched=!0):this.stateMap.set(Ae,{enabled:tt,changed:!0,touched:!0})}_applyStateDiff(){for(const Ae of this.stateMap){const tt=Ae[0],Kt=Ae[1];Kt.changed?(this._toggleClass(tt,Kt.enabled),Kt.changed=!1):Kt.touched||(Kt.enabled&&this._toggleClass(tt,!1),this.stateMap.delete(tt)),Kt.touched=!1}}_toggleClass(Ae,tt){(Ae=Ae.trim()).length>0&&Ae.split(Ai).forEach(Kt=>{tt?this._renderer.addClass(this._ngEl.nativeElement,Kt):this._renderer.removeClass(this._ngEl.nativeElement,Kt)})}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return ge})(),Jt=(()=>{class ge{constructor(Ae){this._viewContainerRef=Ae,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ae){return void 0!==Ae.ngComponentOutletNgModule||void 0!==Ae.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ae){return void 0!==Ae.ngComponentOutlet||void 0!==Ae.ngComponentOutletContent||void 0!==Ae.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ae)}ngOnChanges(Ae){if(this._needToReCreateComponentInstance(Ae)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const tt=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ae)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,Pt(tt)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Pt(tt)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:tt,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ae of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ae,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ae){for(const[tt,Kt]of this._inputsUsed)Kt?(Ae.setInput(tt,this.ngComponentOutletInputs[tt]),this._inputsUsed.set(tt,!1)):(Ae.setInput(tt,void 0),this._inputsUsed.delete(tt))}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return ge})();function Pt(ge){return ge.get(i.Vns).injector}class Fe{constructor(rt,Ae,tt,Kt){this.$implicit=rt,this.ngForOf=Ae,this.index=tt,this.count=Kt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class ge{set ngForOf(Ae){this._ngForOf=Ae,this._ngForOfDirty=!0}set ngForTrackBy(Ae){this._trackByFn=Ae}get ngForTrackBy(){return this._trackByFn}constructor(Ae,tt,Kt){this._viewContainer=Ae,this._template=tt,this._differs=Kt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ae){Ae&&(this._template=Ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ae=this._ngForOf;!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create(this.ngForTrackBy))}if(this._differ){const Ae=this._differ.diff(this._ngForOf);Ae&&this._applyChanges(Ae)}}_applyChanges(Ae){const tt=this._viewContainer;Ae.forEachOperation((Kt,Pn,Wn)=>{if(null==Kt.previousIndex)tt.createEmbeddedView(this._template,new Fe(Kt.item,this._ngForOf,-1,-1),null===Wn?void 0:Wn);else if(null==Wn)tt.remove(null===Pn?void 0:Pn);else if(null!==Pn){const fi=tt.get(Pn);tt.move(fi,Wn),_t(fi,Kt)}});for(let Kt=0,Pn=tt.length;Kt<Pn;Kt++){const fi=tt.get(Kt).context;fi.index=Kt,fi.count=Pn,fi.ngForOf=this._ngForOf}Ae.forEachIdentityChange(Kt=>{_t(tt.get(Kt.currentIndex),Kt)})}static ngTemplateContextGuard(Ae,tt){return!0}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return ge})();function _t(ge,rt){ge.context.$implicit=rt.item}let En=(()=>{class ge{constructor(Ae,tt){this._viewContainer=Ae,this._context=new Mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=tt}set ngIf(Ae){this._context.$implicit=this._context.ngIf=Ae,this._updateView()}set ngIfThen(Ae){Ln("ngIfThen",Ae),this._thenTemplateRef=Ae,this._thenViewRef=null,this._updateView()}set ngIfElse(Ae){Ln("ngIfElse",Ae),this._elseTemplateRef=Ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ae,tt){return!0}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return ge})();class Mn{constructor(){this.$implicit=null,this.ngIf=null}}function Ln(ge,rt){if(rt&&!rt.createEmbeddedView)throw new Error(`${ge} must be a TemplateRef, but received '${(0,i.Tbb)(rt)}'.`)}let Ji=(()=>{class ge{constructor(Ae,tt,Kt){this._ngEl=Ae,this._differs=tt,this._renderer=Kt,this._ngStyle=null,this._differ=null}set ngStyle(Ae){this._ngStyle=Ae,!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create())}ngDoCheck(){if(this._differ){const Ae=this._differ.diff(this._ngStyle);Ae&&this._applyChanges(Ae)}}_setStyle(Ae,tt){const[Kt,Pn]=Ae.split("."),Wn=-1===Kt.indexOf("-")?void 0:i.czy.DashCase;null!=tt?this._renderer.setStyle(this._ngEl.nativeElement,Kt,Pn?`${tt}${Pn}`:tt,Wn):this._renderer.removeStyle(this._ngEl.nativeElement,Kt,Wn)}_applyChanges(Ae){Ae.forEachRemovedItem(tt=>this._setStyle(tt.key,null)),Ae.forEachAddedItem(tt=>this._setStyle(tt.key,tt.currentValue)),Ae.forEachChangedItem(tt=>this._setStyle(tt.key,tt.currentValue))}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return ge})(),hs=(()=>{class ge{constructor(Ae){this._viewContainerRef=Ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ae){if(this._shouldRecreateView(Ae)){const tt=this._viewContainerRef;if(this._viewRef&&tt.remove(tt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Kt=this._createContextForwardProxy();this._viewRef=tt.createEmbeddedView(this.ngTemplateOutlet,Kt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ae){return!!Ae.ngTemplateOutlet||!!Ae.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ae,tt,Kt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,tt,Kt),get:(Ae,tt,Kt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,tt,Kt)}})}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return ge})();function _n(ge,rt){return new i.wOt(2100,!1)}class Ke{createSubscription(rt,Ae){return(0,i.O8t)(()=>rt.subscribe({next:Ae,error:tt=>{throw tt}}))}dispose(rt){(0,i.O8t)(()=>rt.unsubscribe())}}class Ce{createSubscription(rt,Ae){return rt.then(Ae,tt=>{throw tt})}dispose(rt){}}const Me=new Ce,Ue=new Ke;let ft=(()=>{class ge{constructor(Ae){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ae}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ae){if(!this._obj){if(Ae)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ae)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ae!==this._obj?(this._dispose(),this.transform(Ae)):this._latestValue}_subscribe(Ae){this._obj=Ae,this._strategy=this._selectStrategy(Ae),this._subscription=this._strategy.createSubscription(Ae,tt=>this._updateLatestValue(Ae,tt))}_selectStrategy(Ae){if((0,i.jNT)(Ae))return Me;if((0,i.zjR)(Ae))return Ue;throw _n()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ae,tt){Ae===this._obj&&(this._latestValue=tt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:ge,pure:!1,standalone:!0})}}return ge})(),kt=(()=>{class ge{transform(Ae){if(null==Ae)return null;if("string"!=typeof Ae)throw _n();return Ae.toLowerCase()}static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:ge,pure:!0,standalone:!0})}}return ge})();const pn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let un=(()=>{class ge{transform(Ae){if(null==Ae)return null;if("string"!=typeof Ae)throw _n();return Ae.replace(pn,tt=>tt[0].toUpperCase()+tt.slice(1).toLowerCase())}static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:ge,pure:!0,standalone:!0})}}return ge})();const xi=new i.nKC(""),ms=new i.nKC("");let No=(()=>{class ge{constructor(Ae,tt,Kt){this.locale=Ae,this.defaultTimezone=tt,this.defaultOptions=Kt}transform(Ae,tt,Kt,Pn){if(null==Ae||""===Ae||Ae!=Ae)return null;try{return vn(Ae,tt??this.defaultOptions?.dateFormat??"mediumDate",Pn||this.locale,Kt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Wn){throw _n()}}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.xe9,16),i.rXU(xi,24),i.rXU(ms,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:ge,pure:!0,standalone:!0})}}return ge})(),mr=(()=>{class ge{constructor(Ae){this.differs=Ae,this.keyValues=[],this.compareFn=Dr}transform(Ae,tt=Dr){if(!Ae||!(Ae instanceof Map)&&"object"!=typeof Ae)return null;this.differ??=this.differs.find(Ae).create();const Kt=this.differ.diff(Ae),Pn=tt!==this.compareFn;return Kt&&(this.keyValues=[],Kt.forEachItem(Wn=>{this.keyValues.push(function er(ge,rt){return{key:ge,value:rt}}(Wn.key,Wn.currentValue))})),(Kt||Pn)&&(this.keyValues.sort(tt),this.compareFn=tt),this.keyValues}static{this.\u0275fac=function(tt){return new(tt||ge)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:ge,pure:!1,standalone:!0})}}return ge})();function Dr(ge,rt){const Ae=ge.key,tt=rt.key;if(Ae===tt)return 0;if(void 0===Ae)return 1;if(void 0===tt)return-1;if(null===Ae)return 1;if(null===tt)return-1;if("string"==typeof Ae&&"string"==typeof tt)return Ae<tt?-1:1;if("number"==typeof Ae&&"number"==typeof tt)return Ae-tt;if("boolean"==typeof Ae&&"boolean"==typeof tt)return Ae<tt?-1:1;const Kt=String(Ae),Pn=String(tt);return Kt==Pn?0:Kt<Pn?-1:1}let yi=(()=>{class ge{static{this.\u0275fac=function(tt){return new(tt||ge)}}static{this.\u0275mod=i.$C({type:ge})}static{this.\u0275inj=i.G2t({})}}return ge})();const Ar="browser",ia="server";function Tr(ge){return ge===Ar}function Fa(ge){return ge===ia}let Da=(()=>{class ge{static{this.\u0275prov=(0,i.jDH)({token:ge,providedIn:"root",factory:()=>Tr((0,i.WQX)(i.Agw))?new Ba((0,i.WQX)(p),window):new Ta})}}return ge})();class Ba{constructor(rt,Ae){this.document=rt,this.window=Ae,this.offset=()=>[0,0]}setOffset(rt){this.offset=Array.isArray(rt)?()=>rt:rt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(rt){this.window.scrollTo(rt[0],rt[1])}scrollToAnchor(rt){const Ae=function sa(ge,rt){const Ae=ge.getElementById(rt)||ge.getElementsByName(rt)[0];if(Ae)return Ae;if("function"==typeof ge.createTreeWalker&&ge.body&&"function"==typeof ge.body.attachShadow){const tt=ge.createTreeWalker(ge.body,NodeFilter.SHOW_ELEMENT);let Kt=tt.currentNode;for(;Kt;){const Pn=Kt.shadowRoot;if(Pn){const Wn=Pn.getElementById(rt)||Pn.querySelector(`[name="${rt}"]`);if(Wn)return Wn}Kt=tt.nextNode()}}return null}(this.document,rt);Ae&&(this.scrollToElement(Ae),Ae.focus())}setHistoryScrollRestoration(rt){this.window.history.scrollRestoration=rt}scrollToElement(rt){const Ae=rt.getBoundingClientRect(),tt=Ae.left+this.window.pageXOffset,Kt=Ae.top+this.window.pageYOffset,Pn=this.offset();this.window.scrollTo(tt-Pn[0],Kt-Pn[1])}}class Ta{setOffset(rt){}getScrollPosition(){return[0,0]}scrollToPosition(rt){}scrollToAnchor(rt){}setHistoryScrollRestoration(rt){}}class lt{}},21626:(U,b,n)=>{"use strict";n.d(b,{$R:()=>fn,$m:()=>qt,B3:()=>Qe,Lr:()=>R,Nl:()=>j,Qq:()=>be,Sx:()=>ht,a7:()=>st,cS:()=>fe,yz:()=>ye});var i=n(74523),t=n(54438),c=n(7673),e=n(71985),f=n(22806),m=n(70274),p=n(5964),y=n(96354),E=n(70980),v=n(25558),O=n(88141),C=n(60177);class I{}class D{}class R{constructor(Ye){this.normalizedNames=new Map,this.lazyUpdate=null,Ye?"string"==typeof Ye?this.lazyInit=()=>{this.headers=new Map,Ye.split("\n").forEach(_t=>{const Qt=_t.indexOf(":");if(Qt>0){const En=_t.slice(0,Qt),Mn=En.toLowerCase(),Ln=_t.slice(Qt+1).trim();this.maybeSetNormalizedName(En,Mn),this.headers.has(Mn)?this.headers.get(Mn).push(Ln):this.headers.set(Mn,[Ln])}})}:typeof Headers<"u"&&Ye instanceof Headers?(this.headers=new Map,Ye.forEach((_t,Qt)=>{this.setHeaderEntries(Qt,_t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ye).forEach(([_t,Qt])=>{this.setHeaderEntries(_t,Qt)})}:this.headers=new Map}has(Ye){return this.init(),this.headers.has(Ye.toLowerCase())}get(Ye){this.init();const _t=this.headers.get(Ye.toLowerCase());return _t&&_t.length>0?_t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ye){return this.init(),this.headers.get(Ye.toLowerCase())||null}append(Ye,_t){return this.clone({name:Ye,value:_t,op:"a"})}set(Ye,_t){return this.clone({name:Ye,value:_t,op:"s"})}delete(Ye,_t){return this.clone({name:Ye,value:_t,op:"d"})}maybeSetNormalizedName(Ye,_t){this.normalizedNames.has(_t)||this.normalizedNames.set(_t,Ye)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ye=>this.applyUpdate(Ye)),this.lazyUpdate=null))}copyFrom(Ye){Ye.init(),Array.from(Ye.headers.keys()).forEach(_t=>{this.headers.set(_t,Ye.headers.get(_t)),this.normalizedNames.set(_t,Ye.normalizedNames.get(_t))})}clone(Ye){const _t=new R;return _t.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,_t.lazyUpdate=(this.lazyUpdate||[]).concat([Ye]),_t}applyUpdate(Ye){const _t=Ye.name.toLowerCase();switch(Ye.op){case"a":case"s":let Qt=Ye.value;if("string"==typeof Qt&&(Qt=[Qt]),0===Qt.length)return;this.maybeSetNormalizedName(Ye.name,_t);const En=("a"===Ye.op?this.headers.get(_t):void 0)||[];En.push(...Qt),this.headers.set(_t,En);break;case"d":const Mn=Ye.value;if(Mn){let Ln=this.headers.get(_t);if(!Ln)return;Ln=Ln.filter(Yn=>-1===Mn.indexOf(Yn)),0===Ln.length?(this.headers.delete(_t),this.normalizedNames.delete(_t)):this.headers.set(_t,Ln)}else this.headers.delete(_t),this.normalizedNames.delete(_t)}}setHeaderEntries(Ye,_t){const Qt=(Array.isArray(_t)?_t:[_t]).map(Mn=>Mn.toString()),En=Ye.toLowerCase();this.headers.set(En,Qt),this.maybeSetNormalizedName(Ye,En)}forEach(Ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(_t=>Ye(this.normalizedNames.get(_t),this.headers.get(_t)))}}class S{encodeKey(Ye){return L(Ye)}encodeValue(Ye){return L(Ye)}decodeKey(Ye){return decodeURIComponent(Ye)}decodeValue(Ye){return decodeURIComponent(Ye)}}const w=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L(Fe){return encodeURIComponent(Fe).replace(w,(Ye,_t)=>M[_t]??Ye)}function N(Fe){return`${Fe}`}class j{constructor(Ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ye.encoder||new S,Ye.fromString){if(Ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T(Fe,Ye){const _t=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(En=>{const Mn=En.indexOf("="),[Ln,Yn]=-1==Mn?[Ye.decodeKey(En),""]:[Ye.decodeKey(En.slice(0,Mn)),Ye.decodeValue(En.slice(Mn+1))],Jn=_t.get(Ln)||[];Jn.push(Yn),_t.set(Ln,Jn)}),_t}(Ye.fromString,this.encoder)}else Ye.fromObject?(this.map=new Map,Object.keys(Ye.fromObject).forEach(_t=>{const Qt=Ye.fromObject[_t],En=Array.isArray(Qt)?Qt.map(N):[N(Qt)];this.map.set(_t,En)})):this.map=null}has(Ye){return this.init(),this.map.has(Ye)}get(Ye){this.init();const _t=this.map.get(Ye);return _t?_t[0]:null}getAll(Ye){return this.init(),this.map.get(Ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ye,_t){return this.clone({param:Ye,value:_t,op:"a"})}appendAll(Ye){const _t=[];return Object.keys(Ye).forEach(Qt=>{const En=Ye[Qt];Array.isArray(En)?En.forEach(Mn=>{_t.push({param:Qt,value:Mn,op:"a"})}):_t.push({param:Qt,value:En,op:"a"})}),this.clone(_t)}set(Ye,_t){return this.clone({param:Ye,value:_t,op:"s"})}delete(Ye,_t){return this.clone({param:Ye,value:_t,op:"d"})}toString(){return this.init(),this.keys().map(Ye=>{const _t=this.encoder.encodeKey(Ye);return this.map.get(Ye).map(Qt=>_t+"="+this.encoder.encodeValue(Qt)).join("&")}).filter(Ye=>""!==Ye).join("&")}clone(Ye){const _t=new j({encoder:this.encoder});return _t.cloneFrom=this.cloneFrom||this,_t.updates=(this.updates||[]).concat(Ye),_t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ye=>this.map.set(Ye,this.cloneFrom.map.get(Ye))),this.updates.forEach(Ye=>{switch(Ye.op){case"a":case"s":const _t=("a"===Ye.op?this.map.get(Ye.param):void 0)||[];_t.push(N(Ye.value)),this.map.set(Ye.param,_t);break;case"d":if(void 0===Ye.value){this.map.delete(Ye.param);break}{let Qt=this.map.get(Ye.param)||[];const En=Qt.indexOf(N(Ye.value));-1!==En&&Qt.splice(En,1),Qt.length>0?this.map.set(Ye.param,Qt):this.map.delete(Ye.param)}}}),this.cloneFrom=this.updates=null)}}class k{constructor(){this.map=new Map}set(Ye,_t){return this.map.set(Ye,_t),this}get(Ye){return this.map.has(Ye)||this.map.set(Ye,Ye.defaultValue()),this.map.get(Ye)}delete(Ye){return this.map.delete(Ye),this}has(Ye){return this.map.has(Ye)}keys(){return this.map.keys()}}function z(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function V(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function G(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class J{constructor(Ye,_t,Qt,En){let Mn;if(this.url=_t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ye.toUpperCase(),function K(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||En?(this.body=void 0!==Qt?Qt:null,Mn=En):Mn=Qt,Mn&&(this.reportProgress=!!Mn.reportProgress,this.withCredentials=!!Mn.withCredentials,Mn.responseType&&(this.responseType=Mn.responseType),Mn.headers&&(this.headers=Mn.headers),Mn.context&&(this.context=Mn.context),Mn.params&&(this.params=Mn.params),this.transferCache=Mn.transferCache),this.headers??=new R,this.context??=new k,this.params){const Ln=this.params.toString();if(0===Ln.length)this.urlWithParams=_t;else{const Yn=_t.indexOf("?");this.urlWithParams=_t+(-1===Yn?"?":Yn<_t.length-1?"&":"")+Ln}}else this.params=new j,this.urlWithParams=_t}serializeBody(){return null===this.body?null:"string"==typeof this.body||z(this.body)||V(this.body)||G(this.body)||function X(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof j?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G(this.body)?null:V(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof j?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ye={}){const _t=Ye.method||this.method,Qt=Ye.url||this.url,En=Ye.responseType||this.responseType,Mn=Ye.transferCache??this.transferCache,Ln=void 0!==Ye.body?Ye.body:this.body,Yn=Ye.withCredentials??this.withCredentials,Jn=Ye.reportProgress??this.reportProgress;let ki=Ye.headers||this.headers,Bi=Ye.params||this.params;const is=Ye.context??this.context;return void 0!==Ye.setHeaders&&(ki=Object.keys(Ye.setHeaders).reduce((us,fs)=>us.set(fs,Ye.setHeaders[fs]),ki)),Ye.setParams&&(Bi=Object.keys(Ye.setParams).reduce((us,fs)=>us.set(fs,Ye.setParams[fs]),Bi)),new J(_t,Qt,Ln,{params:Bi,headers:ki,context:is,reportProgress:Jn,responseType:En,withCredentials:Yn,transferCache:Mn})}}var q=function(Fe){return Fe[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe}(q||{});class ne{constructor(Ye,_t=200,Qt="OK"){this.headers=Ye.headers||new R,this.status=void 0!==Ye.status?Ye.status:_t,this.statusText=Ye.statusText||Qt,this.url=Ye.url||null,this.ok=this.status>=200&&this.status<300}}class ee extends ne{constructor(Ye={}){super(Ye),this.type=q.ResponseHeader}clone(Ye={}){return new ee({headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class fe extends ne{constructor(Ye={}){super(Ye),this.type=q.Response,this.body=void 0!==Ye.body?Ye.body:null}clone(Ye={}){return new fe({body:void 0!==Ye.body?Ye.body:this.body,headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class ye extends ne{constructor(Ye){super(Ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ye.url||"(unknown url)"}`:`Http failure response for ${Ye.url||"(unknown url)"}: ${Ye.status} ${Ye.statusText}`,this.error=Ye.error||null}}function se(Fe,Ye){return{body:Ye,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials,transferCache:Fe.transferCache}}let be=(()=>{class Fe{constructor(_t){this.handler=_t}request(_t,Qt,En={}){let Mn;if(_t instanceof J)Mn=_t;else{let Jn,ki;Jn=En.headers instanceof R?En.headers:new R(En.headers),En.params&&(ki=En.params instanceof j?En.params:new j({fromObject:En.params})),Mn=new J(_t,Qt,void 0!==En.body?En.body:null,{headers:Jn,context:En.context,params:ki,reportProgress:En.reportProgress,responseType:En.responseType||"json",withCredentials:En.withCredentials,transferCache:En.transferCache})}const Ln=(0,c.of)(Mn).pipe((0,m.H)(Jn=>this.handler.handle(Jn)));if(_t instanceof J||"events"===En.observe)return Ln;const Yn=Ln.pipe((0,p.p)(Jn=>Jn instanceof fe));switch(En.observe||"body"){case"body":switch(Mn.responseType){case"arraybuffer":return Yn.pipe((0,y.T)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Jn.body}));case"blob":return Yn.pipe((0,y.T)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof Blob))throw new Error("Response is not a Blob.");return Jn.body}));case"text":return Yn.pipe((0,y.T)(Jn=>{if(null!==Jn.body&&"string"!=typeof Jn.body)throw new Error("Response is not a string.");return Jn.body}));default:return Yn.pipe((0,y.T)(Jn=>Jn.body))}case"response":return Yn;default:throw new Error(`Unreachable: unhandled observe type ${En.observe}}`)}}delete(_t,Qt={}){return this.request("DELETE",_t,Qt)}get(_t,Qt={}){return this.request("GET",_t,Qt)}head(_t,Qt={}){return this.request("HEAD",_t,Qt)}jsonp(_t,Qt){return this.request("JSONP",_t,{params:(new j).append(Qt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_t,Qt={}){return this.request("OPTIONS",_t,Qt)}patch(_t,Qt,En={}){return this.request("PATCH",_t,se(En,Qt))}post(_t,Qt,En={}){return this.request("POST",_t,se(En,Qt))}put(_t,Qt,En={}){return this.request("PUT",_t,se(En,Qt))}static{this.\u0275fac=function(Qt){return new(Qt||Fe)(t.KVO(I))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const me=/^\)\]\}',?\n/;function Z(Fe){if(Fe.url)return Fe.url;const Ye="X-Request-URL".toLocaleLowerCase();return Fe.headers.get(Ye)}let le=(()=>{class Fe{constructor(){this.fetchImpl=(0,t.WQX)(ce,{optional:!0})?.fetch??((..._t)=>globalThis.fetch(..._t)),this.ngZone=(0,t.WQX)(t.SKi)}handle(_t){return new e.c(Qt=>{const En=new AbortController;return this.doRequest(_t,En.signal,Qt).then(ve,Mn=>Qt.error(new ye({error:Mn}))),()=>En.abort()})}doRequest(_t,Qt,En){var Mn=this;return(0,i.A)(function*(){const Ln=Mn.createRequestInit(_t);let Yn;try{const Ms=Mn.ngZone.runOutsideAngular(()=>Mn.fetchImpl(_t.urlWithParams,{signal:Qt,...Ln}));(function ze(Fe){Fe.then(ve,ve)})(Ms),En.next({type:q.Sent}),Yn=yield Ms}catch(Ms){return void En.error(new ye({error:Ms,status:Ms.status??0,statusText:Ms.statusText,url:_t.urlWithParams,headers:Ms.headers}))}const Jn=new R(Yn.headers),ki=Yn.statusText,Bi=Z(Yn)??_t.urlWithParams;let is=Yn.status,us=null;if(_t.reportProgress&&En.next(new ee({headers:Jn,status:is,statusText:ki,url:Bi})),Yn.body){const Ms=Yn.headers.get("content-length"),Ji=[],hs=Yn.body.getReader();let _n,Ke,jt=0;const Ce=typeof Zone<"u"&&Zone.current;yield Mn.ngZone.runOutsideAngular((0,i.A)(function*(){for(;;){const{done:Ue,value:ft}=yield hs.read();if(Ue)break;if(Ji.push(ft),jt+=ft.length,_t.reportProgress){Ke="text"===_t.responseType?(Ke??"")+(_n??=new TextDecoder).decode(ft,{stream:!0}):void 0;const kt=()=>En.next({type:q.DownloadProgress,total:Ms?+Ms:void 0,loaded:jt,partialText:Ke});Ce?Ce.run(kt):kt()}}}));const Me=Mn.concatChunks(Ji,jt);try{const Ue=Yn.headers.get("Content-Type")??"";us=Mn.parseBody(_t,Me,Ue)}catch(Ue){return void En.error(new ye({error:Ue,headers:new R(Yn.headers),status:Yn.status,statusText:Yn.statusText,url:Z(Yn)??_t.urlWithParams}))}}0===is&&(is=us?200:0),is>=200&&is<300?(En.next(new fe({body:us,headers:Jn,status:is,statusText:ki,url:Bi})),En.complete()):En.error(new ye({error:us,headers:Jn,status:is,statusText:ki,url:Bi}))})()}parseBody(_t,Qt,En){switch(_t.responseType){case"json":const Mn=(new TextDecoder).decode(Qt).replace(me,"");return""===Mn?null:JSON.parse(Mn);case"text":return(new TextDecoder).decode(Qt);case"blob":return new Blob([Qt],{type:En});case"arraybuffer":return Qt.buffer}}createRequestInit(_t){const Qt={},En=_t.withCredentials?"include":void 0;if(_t.headers.forEach((Mn,Ln)=>Qt[Mn]=Ln.join(",")),_t.headers.has("Accept")||(Qt.Accept="application/json, text/plain, */*"),!_t.headers.has("Content-Type")){const Mn=_t.detectContentTypeHeader();null!==Mn&&(Qt["Content-Type"]=Mn)}return{body:_t.serializeBody(),method:_t.method,headers:Qt,credentials:En}}concatChunks(_t,Qt){const En=new Uint8Array(Qt);let Mn=0;for(const Ln of _t)En.set(Ln,Mn),Mn+=Ln.length;return En}static{this.\u0275fac=function(Qt){return new(Qt||Fe)}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();class ce{}function ve(){}function Se(Fe,Ye){return Ye(Fe)}function et(Fe,Ye){return(_t,Qt)=>Ye.intercept(_t,{handle:En=>Fe(En,Qt)})}const st=new t.nKC(""),We=new t.nKC(""),De=new t.nKC(""),ut=new t.nKC("",{providedIn:"root",factory:()=>!0});function Ge(){let Fe=null;return(Ye,_t)=>{null===Fe&&(Fe=((0,t.WQX)(st,{optional:!0})??[]).reduceRight(et,Se));const Qt=(0,t.WQX)(t.TgB);if((0,t.WQX)(ut)){const Mn=Qt.add();return Fe(Ye,_t).pipe((0,E.j)(()=>Qt.remove(Mn)))}return Fe(Ye,_t)}}let Tt=(()=>{class Fe extends I{constructor(_t,Qt){super(),this.backend=_t,this.injector=Qt,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB),this.contributeToStability=(0,t.WQX)(ut)}handle(_t){if(null===this.chain){const Qt=Array.from(new Set([...this.injector.get(We),...this.injector.get(De,[])]));this.chain=Qt.reduceRight((En,Mn)=>function $e(Fe,Ye,_t){return(Qt,En)=>(0,t.N4e)(_t,()=>Ye(Qt,Mn=>Fe(Mn,En)))}(En,Mn,this.injector),Se)}if(this.contributeToStability){const Qt=this.pendingTasks.add();return this.chain(_t,En=>this.backend.handle(En)).pipe((0,E.j)(()=>this.pendingTasks.remove(Qt)))}return this.chain(_t,Qt=>this.backend.handle(Qt))}static{this.\u0275fac=function(Qt){return new(Qt||Fe)(t.KVO(D),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const we=/^\)\]\}',?\n/;let $t=(()=>{class Fe{constructor(_t){this.xhrFactory=_t}handle(_t){if("JSONP"===_t.method)throw new t.wOt(-2800,!1);const Qt=this.xhrFactory;return(Qt.\u0275loadImpl?(0,f.H)(Qt.\u0275loadImpl()):(0,c.of)(null)).pipe((0,v.n)(()=>new e.c(Mn=>{const Ln=Qt.build();if(Ln.open(_t.method,_t.urlWithParams),_t.withCredentials&&(Ln.withCredentials=!0),_t.headers.forEach((Ji,hs)=>Ln.setRequestHeader(Ji,hs.join(","))),_t.headers.has("Accept")||Ln.setRequestHeader("Accept","application/json, text/plain, */*"),!_t.headers.has("Content-Type")){const Ji=_t.detectContentTypeHeader();null!==Ji&&Ln.setRequestHeader("Content-Type",Ji)}if(_t.responseType){const Ji=_t.responseType.toLowerCase();Ln.responseType="json"!==Ji?Ji:"text"}const Yn=_t.serializeBody();let Jn=null;const ki=()=>{if(null!==Jn)return Jn;const Ji=Ln.statusText||"OK",hs=new R(Ln.getAllResponseHeaders()),jt=function Ct(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(Ln)||_t.url;return Jn=new ee({headers:hs,status:Ln.status,statusText:Ji,url:jt}),Jn},Bi=()=>{let{headers:Ji,status:hs,statusText:jt,url:_n}=ki(),Ke=null;204!==hs&&(Ke=typeof Ln.response>"u"?Ln.responseText:Ln.response),0===hs&&(hs=Ke?200:0);let Ce=hs>=200&&hs<300;if("json"===_t.responseType&&"string"==typeof Ke){const Me=Ke;Ke=Ke.replace(we,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Ue){Ke=Me,Ce&&(Ce=!1,Ke={error:Ue,text:Ke})}}Ce?(Mn.next(new fe({body:Ke,headers:Ji,status:hs,statusText:jt,url:_n||void 0})),Mn.complete()):Mn.error(new ye({error:Ke,headers:Ji,status:hs,statusText:jt,url:_n||void 0}))},is=Ji=>{const{url:hs}=ki(),jt=new ye({error:Ji,status:Ln.status||0,statusText:Ln.statusText||"Unknown Error",url:hs||void 0});Mn.error(jt)};let us=!1;const fs=Ji=>{us||(Mn.next(ki()),us=!0);let hs={type:q.DownloadProgress,loaded:Ji.loaded};Ji.lengthComputable&&(hs.total=Ji.total),"text"===_t.responseType&&Ln.responseText&&(hs.partialText=Ln.responseText),Mn.next(hs)},Ms=Ji=>{let hs={type:q.UploadProgress,loaded:Ji.loaded};Ji.lengthComputable&&(hs.total=Ji.total),Mn.next(hs)};return Ln.addEventListener("load",Bi),Ln.addEventListener("error",is),Ln.addEventListener("timeout",is),Ln.addEventListener("abort",is),_t.reportProgress&&(Ln.addEventListener("progress",fs),null!==Yn&&Ln.upload&&Ln.upload.addEventListener("progress",Ms)),Ln.send(Yn),Mn.next({type:q.Sent}),()=>{Ln.removeEventListener("error",is),Ln.removeEventListener("abort",is),Ln.removeEventListener("load",Bi),Ln.removeEventListener("timeout",is),_t.reportProgress&&(Ln.removeEventListener("progress",fs),null!==Yn&&Ln.upload&&Ln.upload.removeEventListener("progress",Ms)),Ln.readyState!==Ln.DONE&&Ln.abort()}})))}static{this.\u0275fac=function(Qt){return new(Qt||Fe)(t.KVO(C.N0))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const yt=new t.nKC(""),on=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ht=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qe{}let ke=(()=>{class Fe{constructor(_t,Qt,En){this.doc=_t,this.platform=Qt,this.cookieName=En,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const _t=this.doc.cookie||"";return _t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C._b)(_t,this.cookieName),this.lastCookieString=_t),this.lastToken}static{this.\u0275fac=function(Qt){return new(Qt||Fe)(t.KVO(C.qQ),t.KVO(t.Agw),t.KVO(on))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();function Le(Fe,Ye){const _t=Fe.url.toLowerCase();if(!(0,t.WQX)(yt)||"GET"===Fe.method||"HEAD"===Fe.method||_t.startsWith("http://")||_t.startsWith("https://"))return Ye(Fe);const Qt=(0,t.WQX)(Qe).getToken(),En=(0,t.WQX)(Ht);return null!=Qt&&!Fe.headers.has(En)&&(Fe=Fe.clone({headers:Fe.headers.set(En,Qt)})),Ye(Fe)}var ct=function(Fe){return Fe[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe[Fe.Fetch=6]="Fetch",Fe}(ct||{});function fn(...Fe){const Ye=[be,$t,Tt,{provide:I,useExisting:Tt},{provide:D,useFactory:()=>(0,t.WQX)(le,{optional:!0})??(0,t.WQX)($t)},{provide:We,useValue:Le,multi:!0},{provide:yt,useValue:!0},{provide:Qe,useClass:ke}];for(const _t of Fe)Ye.push(..._t.\u0275providers);return(0,t.EmA)(Ye)}const nn=new t.nKC("");function ht(){return function Wt(Fe,Ye){return{\u0275kind:Fe,\u0275providers:Ye}}(ct.LegacyInterceptors,[{provide:nn,useFactory:Ge},{provide:We,useExisting:nn,multi:!0}])}const Dn=new t.nKC(""),ni="b",oi="h",ai="s",ts="st",ns="u",si="rt",ci=new t.nKC(""),cn=["GET","HEAD"];function gn(Fe,Ye){const{isCacheActive:_t,...Qt}=(0,t.WQX)(ci),{transferCache:En,method:Mn}=Fe;if(!_t||!1===En||"POST"===Mn&&!Qt.includePostRequests&&!En||"POST"!==Mn&&!cn.includes(Mn)||!Qt.includeRequestsWithAuthHeaders&&function pi(Fe){return Fe.headers.has("authorization")||Fe.headers.has("proxy-authorization")}(Fe)||!1===Qt.filter?.(Fe))return Ye(Fe);const Ln=(0,t.WQX)(t.pJN),Yn=(0,t.WQX)(Dn,{optional:!0}),Jn=(0,C.Vy)((0,t.WQX)(t.Agw));if(Yn&&!Jn)throw new t.wOt(2803,!1);const ki=Jn&&Yn?function Jt(Fe,Ye){const _t=new URL(Fe,"resolve://").origin,Qt=Ye[_t];return Qt?Fe.replace(_t,Qt):Fe}(Fe.url,Yn):Fe.url,Bi=function Ri(Fe,Ye){const{params:_t,method:Qt,responseType:En}=Fe,Mn=ps(_t);let Ln=Fe.serializeBody();Ln instanceof URLSearchParams?Ln=ps(Ln):"string"!=typeof Ln&&(Ln="");const Jn=function Ai(Fe){let Ye=0;for(const _t of Fe)Ye=Math.imul(31,Ye)+_t.charCodeAt(0)|0;return Ye+=2147483648,Ye.toString()}([Qt,En,Ye,Ln,Mn].join("|"));return(0,t.zw6)(Jn)}(Fe,ki),is=Ln.get(Bi,null);let us=Qt.includeHeaders;if("object"==typeof En&&En.includeHeaders&&(us=En.includeHeaders),is){const{[ni]:fs,[si]:Ms,[oi]:Ji,[ai]:hs,[ts]:jt,[ns]:_n}=is;let Ke=fs;switch(Ms){case"arraybuffer":Ke=(new TextEncoder).encode(fs).buffer;break;case"blob":Ke=new Blob([fs])}let Ce=new R(Ji);return(0,c.of)(new fe({body:Ke,headers:Ce,status:hs,statusText:jt,url:_n}))}return Ye(Fe).pipe((0,O.M)(fs=>{fs instanceof fe&&Jn&&Ln.set(Bi,{[ni]:fs.body,[oi]:Oi(fs.headers,us),[ai]:fs.status,[ts]:fs.statusText,[ns]:ki,[si]:Fe.responseType})}))}function Oi(Fe,Ye){if(!Ye)return{};const _t={};for(const Qt of Ye){const En=Fe.getAll(Qt);null!==En&&(_t[Qt]=En)}return _t}function ps(Fe){return[...Fe.keys()].sort().map(Ye=>`${Ye}=${Fe.getAll(Ye)}`).join("&")}function qt(Fe){return[{provide:ci,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...Fe})},{provide:De,useValue:gn,multi:!0,deps:[t.pJN,ci]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Ye=(0,t.WQX)(t.o8S),_t=(0,t.WQX)(ci);return()=>{(0,t.zuW)(Ye).then(()=>{_t.isCacheActive=!1})}}}]}},54438:(U,b,n)=>{"use strict";function i(o,a){return Object.is(o,a)}n.d(b,{bc$:()=>Uf,iLQ:()=>ng,sZ2:()=>Bf,hnV:()=>tx,o8S:()=>Yc,BIS:()=>NO,gRc:()=>JT,Ql9:()=>ax,OM3:()=>vm,Ocv:()=>hx,abz:()=>Jd,Z63:()=>Oo,aKT:()=>Ys,uvJ:()=>Hn,zcH:()=>qn,bkB:()=>Gl,duS:()=>pr,y_5:()=>Ba,$GK:()=>un,nKC:()=>Pt,zZn:()=>Sr,_q3:()=>JE,MKu:()=>QE,xe9:()=>kE,Co$:()=>My,Vns:()=>kc,SKi:()=>Pi,Xx1:()=>sa,Agw:()=>Xg,PLl:()=>C1,rOR:()=>yr,sFG:()=>_I,_9s:()=>ry,czy:()=>rc,WPN:()=>up,kdw:()=>lt,C4Q:()=>am,NYb:()=>sL,giA:()=>ZA,pJN:()=>jf,RxE:()=>PT,c1b:()=>dh,gXe:()=>xr,mal:()=>_h,Af3:()=>Ao,tdH:()=>sP,L39:()=>hM,EWP:()=>Fv,a0P:()=>hg,Ol2:()=>ph,w6W:()=>rb,QZP:()=>Bv,SmG:()=>bx,Rfq:()=>ke,oKB:()=>ja,WQX:()=>yi,hFB:()=>Yo,naY:()=>XT,Hps:()=>yy,QuC:()=>so,EmA:()=>wr,zw6:()=>FO,v7R:()=>vM,Udg:()=>pM,CGW:()=>Wi,HJs:()=>o1,N4e:()=>Ro,vPA:()=>GC,O8t:()=>mM,H3F:()=>RT,H8p:()=>rr,KH2:()=>Od,TgB:()=>ec,wOt:()=>Ge,WHO:()=>QA,e01:()=>LT,lNU:()=>ut,PpM:()=>Mp,h9k:()=>qu,$MX:()=>dd,ZF7:()=>cp,Kcf:()=>g0,e5t:()=>_0,UyX:()=>XO,cWb:()=>w1,osQ:()=>o_,H5H:()=>oE,Zy3:()=>wt,mq5:()=>bh,JZv:()=>we,TL3:()=>Cs,LfX:()=>pi,plB:()=>uc,jNT:()=>NE,zjR:()=>ex,ngT:()=>La,TL$:()=>xO,Tbb:()=>on,zUL:()=>Ht,rcV:()=>ic,zuW:()=>BT,M8M:()=>zx,Vt3:()=>Dy,GFd:()=>ob,OA$:()=>df,Jv_:()=>QD,aNF:()=>ZD,R7$:()=>yS,BMQ:()=>Wy,HbH:()=>Xb,ZvI:()=>eD,STu:()=>tD,ZBM:()=>Xp,AVh:()=>Xy,BUC:()=>nD,vxM:()=>sD,wni:()=>HR,SS7:()=>XD,nv$:()=>jy,g25:()=>ky,VBU:()=>gc,FsC:()=>Jc,jDH:()=>si,G2t:()=>cn,$C:()=>Xo,EJ8:()=>yl,rXU:()=>th,nrm:()=>iv,eu8:()=>cD,bVm:()=>ov,qex:()=>iE,k0s:()=>nv,j41:()=>Yp,RV6:()=>uD,xGo:()=>ep,Mr5:()=>sE,pXf:()=>dE,nnv:()=>$m,uP7:()=>uE,KVO:()=>_o,kS0:()=>ll,QTQ:()=>Xn,bIt:()=>hE,lsd:()=>YR,XpG:()=>PD,nI1:()=>hT,bMT:()=>pT,i5U:()=>fT,brH:()=>Zm,SdG:()=>AD,NAR:()=>Sd,Y8G:()=>zp,FS9:()=>xD,Mz_:()=>pE,FCK:()=>fE,lJ4:()=>tT,eq3:()=>nT,l_i:()=>iT,sMw:()=>sT,ziG:()=>oT,s1E:()=>rT,mGM:()=>XR,r8f:()=>Dv,sdS:()=>_v,Dyx:()=>tE,Z7z:()=>rD,fX1:()=>oD,Njj:()=>Ud,EBC:()=>T0,tSv:()=>j1,eBV:()=>Uh,npT:()=>hd,f$h:()=>su,B4B:()=>E0,n$t:()=>a_,bH3:()=>YD,xc7:()=>J_,DNE:()=>V_,C5r:()=>DE,EFF:()=>$D,JRh:()=>gE,SpI:()=>Ev,Lme:()=>tf,E5c:()=>_E,LHq:()=>Id,DH7:()=>zD,mxI:()=>vE,R50:()=>bv,GBs:()=>zR});let t=null,c=!1,e=1;const f=Symbol("SIGNAL");function m(o){const a=t;return t=o,a}function p(){return t}const v={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(o){if(c)throw new Error("");if(null===t)return;t.consumerOnSignalRead(o);const a=t.nextProducerIndex++;$(t),a<t.producerNode.length&&t.producerNode[a]!==o&&j(t)&&N(t.producerNode[a],t.producerIndexOfThis[a]),t.producerNode[a]!==o&&(t.producerNode[a]=o,t.producerIndexOfThis[a]=j(t)?L(o,t,a):0),t.producerLastReadVersion[a]=o.version}function I(o){if((!j(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==e)){if(!o.producerMustRecompute(o)&&!w(o))return o.dirty=!1,void(o.lastCleanEpoch=e);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=e}}function D(o){if(void 0===o.liveConsumerNode)return;const a=c;c=!0;try{for(const l of o.liveConsumerNode)l.dirty||h(l)}finally{c=a}}function R(){return!1!==t?.consumerAllowSignalWrites}function h(o){o.dirty=!0,D(o),o.consumerMarkedDirty?.(o)}function S(o){return o&&(o.nextProducerIndex=0),m(o)}function T(o,a){if(m(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(j(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)N(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function w(o){$(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],g=o.producerLastReadVersion[a];if(g!==l.version||(I(l),g!==l.version))return!0}return!1}function M(o){if($(o),j(o))for(let a=0;a<o.producerNode.length;a++)N(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function L(o,a,l){if(k(o),0===o.liveConsumerNode.length&&K(o))for(let g=0;g<o.producerNode.length;g++)o.producerIndexOfThis[g]=L(o.producerNode[g],o,g);return o.liveConsumerIndexOfThis.push(l),o.liveConsumerNode.push(a)-1}function N(o,a){if(k(o),1===o.liveConsumerNode.length&&K(o))for(let g=0;g<o.producerNode.length;g++)N(o.producerNode[g],o.producerIndexOfThis[g]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const g=o.liveConsumerIndexOfThis[a],A=o.liveConsumerNode[a];$(A),A.producerIndexOfThis[g]=a}}function j(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function $(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function k(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function K(o){return void 0!==o.producerNode}const V=Symbol("UNSET"),G=Symbol("COMPUTING"),X=Symbol("ERRORED"),J={...v,value:V,dirty:!0,error:null,equal:i,producerMustRecompute:o=>o.value===V||o.value===G,producerRecomputeValue(o){if(o.value===G)throw new Error("Detected cycle in computations.");const a=o.value;o.value=G;const l=S(o);let g;try{g=o.computation()}catch(A){g=X,o.error=A}finally{T(o,l)}a!==V&&a!==X&&g!==X&&o.equal(a,g)?o.value=a:(o.value=g,o.version++)}};let ne=function q(){throw new Error};function ee(){ne()}let ye=null;function se(o,a){R()||ee(),o.equal(o.value,a)||(o.value=a,function Z(o){o.version++,function C(){e++}(),D(o),ye?.()}(o))}const re={...v,equal:i,value:void 0};const ce=()=>{},ve={...v,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:ce};var Se=n(84412),et=n(21413),$e=n(18359),st=n(96354),We=n(61594);const ut="https://g.co/ng/security#xss";class Ge extends Error{constructor(a,l){super(wt(a,l)),this.code=a}}function wt(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}const ot=Symbol("InputSignalNode#UNSET"),Tt={...re,transformFn:void 0,applyValueToInputSignal(o,a){se(o,a)}};function mt(o,a){const l=Object.create(Tt);function g(){if(O(l),l.value===ot)throw new Ge(-950,!1);return l.value}return l.value=o,l.transformFn=a?.transform,g[f]=l,g}function vn(o){return{toString:o}.toString()}const jn="__parameters__";function gt(o,a,l){return vn(()=>{const g=function Nt(o){return function(...l){if(o){const g=o(...l);for(const A in g)this[A]=g[A]}}}(a);function A(...B){if(this instanceof A)return g.apply(this,B),this;const H=new A(...B);return ie.annotation=H,ie;function ie(_e,Be,Ze){const Ot=_e.hasOwnProperty(jn)?_e[jn]:Object.defineProperty(_e,jn,{value:[]})[jn];for(;Ot.length<=Ze;)Ot.push(null);return(Ot[Ze]=Ot[Ze]||[]).push(H),_e}}return l&&(A.prototype=Object.create(l.prototype)),A.prototype.ngMetadataName=o,A.annotationCls=A,A})}const we=globalThis;function yt(o){for(let a in o)if(o[a]===yt)return a;throw Error("Could not find renamed property on target object.")}function Zt(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function on(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(on).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Yt(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}function Ht(o,a=100){if(!o||a<1||o.length<=a)return o;if(1==a)return o.substring(0,1)+"...";const l=Math.round(a/2);return o.substring(0,l)+"..."+o.substring(o.length-l)}const Qe=yt({__forward_ref__:yt});function ke(o){return o.__forward_ref__=ke,o.toString=function(){return on(this())},o}function Le(o){return Xe(o)?o():o}function Xe(o){return"function"==typeof o&&o.hasOwnProperty(Qe)&&o.__forward_ref__===ke}function nn(o,a,l){o!=a&&function Dn(o,a,l,g){throw new Error(`ASSERTION ERROR: ${o}`+(null==g?"":` [Expected=> ${l} ${g} ${a} <=Actual]`))}(l,o,a,"==")}function si(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function cn(o){return{providers:o.providers||[],imports:o.imports||[]}}function gn(o){return Oi(o,Ai)||Oi(o,Si)}function pi(o){return null!==gn(o)}function Oi(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ri(o){return o&&(o.hasOwnProperty(qt)||o.hasOwnProperty(Jt))?o[qt]:null}const Ai=yt({\u0275prov:yt}),qt=yt({\u0275inj:yt}),Si=yt({ngInjectableDef:yt}),Jt=yt({ngInjectorDef:yt});class Pt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=si({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bi(o){return o&&!!o.\u0275providers}const is=yt({\u0275cmp:yt}),us=yt({\u0275dir:yt}),fs=yt({\u0275pipe:yt}),Ms=yt({\u0275mod:yt}),Ji=yt({\u0275fac:yt}),hs=yt({__NG_ELEMENT_ID__:yt}),jt=yt({__NG_ENV_ID__:yt});function _n(o){return"string"==typeof o?o:null==o?"":String(o)}function pn(o,a){throw new Ge(-201,!1)}var un=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(un||{});let kn;function Qn(){return kn}function xi(o){const a=kn;return kn=o,a}function ms(o,a,l){const g=gn(o);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&un.Optional?null:void 0!==a?a:void pn()}const Fo={},qo="__NG_DI_FLAG__",Js="ngTempTokenPath",mr=/\n/gm,ta="__source";let ur;function Bo(o){const a=ur;return ur=o,a}function na(o,a=un.Default){if(void 0===ur)throw new Ge(-203,!1);return null===ur?ms(o,void 0,a):ur.get(o,a&un.Optional?null:void 0,a)}function _o(o,a=un.Default){return(Qn()||na)(Le(o),a)}function yi(o,a=un.Default){return _o(o,Ar(a))}function Ar(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ia(o){const a=[];for(let l=0;l<o.length;l++){const g=Le(o[l]);if(Array.isArray(g)){if(0===g.length)throw new Ge(900,!1);let A,B=un.Default;for(let H=0;H<g.length;H++){const ie=g[H],_e=Fa(ie);"number"==typeof _e?-1===_e?A=ie.token:B|=_e:A=ie}a.push(_o(A,B))}else a.push(_o(g))}return a}function Tr(o,a){return o[qo]=a,o.prototype[qo]=a,o}function Fa(o){return o[qo]}const Ba=Tr(gt("Inject",o=>({token:o})),-1),sa=Tr(gt("Optional"),8),lt=Tr(gt("SkipSelf"),4);function pt(o,a){return o.hasOwnProperty(Ji)?o[Ji]:null}function wn(o,a){o.forEach(l=>Array.isArray(l)?wn(l,a):a(l))}function hi(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function wi(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Yi(o,a,l){let g=Os(o,a);return g>=0?o[1|g]=l:(g=~g,function Qs(o,a,l,g){let A=o.length;if(A==a)o.push(l,g);else if(1===A)o.push(g,o[0]),o[0]=l;else{for(A--,o.push(o[A-1],o[A]);A>a;)o[A]=o[A-2],A--;o[a]=l,o[a+1]=g}}(o,g,a,l)),g}function hr(o,a){const l=Os(o,a);if(l>=0)return o[1|l]}function Os(o,a){return function oa(o,a,l){let g=0,A=o.length>>l;for(;A!==g;){const B=g+(A-g>>1),H=o[B<<l];if(a===H)return B<<l;H>a?A=B:g=B+1}return~(A<<l)}(o,a,1)}const Mo={},ss=[],Oo=new Pt(""),pr=new Pt("",-1),zr=new Pt("");class ra{get(a,l=Fo){if(l===Fo){const g=new Error(`NullInjectorError: No provider for ${on(a)}!`);throw g.name="NullInjectorError",g}return l}}var gr=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(gr||{}),xr=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(xr||{}),sr=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(sr||{});function el(o,a,l){let g=o.length;for(;;){const A=o.indexOf(a,l);if(-1===A)return A;if(0===A||o.charCodeAt(A-1)<=32){const B=a.length;if(A+B===g||o.charCodeAt(A+B)<=32)return A}l=A+1}}function Xr(o,a,l){let g=0;for(;g<l.length;){const A=l[g];if("number"==typeof A){if(0!==A)break;g++;const B=l[g++],H=l[g++],ie=l[g++];o.setAttribute(a,H,ie,B)}else{const B=A,H=l[++g];en(B)?o.setProperty(a,B,H):o.setAttribute(a,B,H),g++}}return g}function It(o){return 3===o||4===o||6===o}function en(o){return 64===o.charCodeAt(0)}function he(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let g=0;g<a.length;g++){const A=a[g];"number"==typeof A?l=A:0===l||Je(o,l,A,null,-1===l||2===l?a[++g]:null)}}return o}function Je(o,a,l,g,A){let B=0,H=o.length;if(-1===a)H=-1;else for(;B<o.length;){const ie=o[B++];if("number"==typeof ie){if(ie===a){H=-1;break}if(ie>a){H=B-1;break}}}for(;B<o.length;){const ie=o[B];if("number"==typeof ie)break;if(ie===l){if(null===g)return void(null!==A&&(o[B+1]=A));if(g===o[B+1])return void(o[B+2]=A)}B++,null!==g&&B++,null!==A&&B++}-1!==H&&(o.splice(H,0,a),B=H+1),o.splice(B++,0,l),null!==g&&o.splice(B++,0,g),null!==A&&o.splice(B++,0,A)}const Mt="ng-template";function sn(o,a,l,g){let A=0;if(g){for(;A<a.length&&"string"==typeof a[A];A+=2)if("class"===a[A]&&-1!==el(a[A+1].toLowerCase(),l,0))return!0}else if(Bn(o))return!1;if(A=a.indexOf(1,A),A>-1){let B;for(;++A<a.length&&"string"==typeof(B=a[A]);)if(B.toLowerCase()===l)return!0}return!1}function Bn(o){return 4===o.type&&o.value!==Mt}function xe(o,a,l){return a===(4!==o.type||l?o.value:Mt)}function Ve(o,a,l){let g=4;const A=o.attrs,B=null!==A?function os(o){for(let a=0;a<o.length;a++)if(It(o[a]))return a;return o.length}(A):0;let H=!1;for(let ie=0;ie<a.length;ie++){const _e=a[ie];if("number"!=typeof _e){if(!H)if(4&g){if(g=2|1&g,""!==_e&&!xe(o,_e,l)||""===_e&&1===a.length){if(Oe(g))return!1;H=!0}}else if(8&g){if(null===A||!sn(o,A,_e,l)){if(Oe(g))return!1;H=!0}}else{const Be=a[++ie],Ze=dt(_e,A,Bn(o),l);if(-1===Ze){if(Oe(g))return!1;H=!0;continue}if(""!==Be){let Ot;if(Ot=Ze>B?"":A[Ze+1].toLowerCase(),2&g&&Be!==Ot){if(Oe(g))return!1;H=!0}}}}else{if(!H&&!Oe(g)&&!Oe(_e))return!1;if(H&&Oe(_e))continue;H=!1,g=_e|1&g}}return Oe(g)||H}function Oe(o){return!(1&o)}function dt(o,a,l,g){if(null===a)return-1;let A=0;if(g||!l){let B=!1;for(;A<a.length;){const H=a[A];if(H===o)return A;if(3===H||6===H)B=!0;else{if(1===H||2===H){let ie=a[++A];for(;"string"==typeof ie;)ie=a[++A];continue}if(4===H)break;if(0===H){A+=4;continue}}A+=B?1:2}return-1}return function Mr(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const g=o[l];if("number"==typeof g)return-1;if(g===a)return l;l++}return-1}(a,o)}function Xt(o,a,l=!1){for(let g=0;g<a.length;g++)if(Ve(o,a[g],l))return!0;return!1}function zo(o,a){e:for(let l=0;l<a.length;l++){const g=a[l];if(o.length===g.length){for(let A=0;A<o.length;A++)if(o[A]!==g[A])continue e;return!0}}return!1}function _l(o,a){return o?":not("+a.trim()+")":a}function vl(o){let a=o[0],l=1,g=2,A="",B=!1;for(;l<o.length;){let H=o[l];if("string"==typeof H)if(2&g){const ie=o[++l];A+="["+H+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&g?A+="."+H:4&g&&(A+=" "+H);else""!==A&&!Oe(H)&&(a+=_l(B,A),A=""),g=H,B=B||!Oe(g);l++}return""!==A&&(a+=_l(B,A)),a}function gc(o){return vn(()=>{const a=xl(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||xr.Emulated,styles:o.styles||ss,_:null,schemas:o.schemas||null,tView:null,id:""};Ua(l);const g=o.dependencies;return l.directiveDefs=El(g,!1),l.pipeDefs=El(g,!0),l.id=function Sa(o){let a=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const A of l)a=Math.imul(31,a)+A.charCodeAt(0)|0;return a+=2147483648,"c"+a}(l),l})}function _c(o){return vs(o)||or(o)}function tl(o){return null!==o}function Xo(o){return vn(()=>({type:o.type,bootstrap:o.bootstrap||ss,declarations:o.declarations||ss,imports:o.imports||ss,exports:o.exports||ss,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Al(o,a){if(null==o)return Mo;const l={};for(const g in o)if(o.hasOwnProperty(g)){const A=o[g];let B,H,ie=sr.None;Array.isArray(A)?(ie=A[0],B=A[1],H=A[2]??B):(B=A,H=A),a?(l[B]=ie!==sr.None?[g,ie]:g,a[B]=H):l[B]=g}return l}function Jc(o){return vn(()=>{const a=xl(o);return Ua(a),a})}function yl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function vs(o){return o[is]||null}function or(o){return o[us]||null}function So(o){return o[fs]||null}function so(o){const a=vs(o)||or(o)||So(o);return null!==a&&a.standalone}function jo(o,a){const l=o[Ms]||null;if(!l&&!0===a)throw new Error(`Type ${on(o)} does not have '\u0275mod' property.`);return l}function xl(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Mo,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||ss,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Al(o.inputs,a),outputs:Al(o.outputs),debugInfo:null}}function Ua(o){o.features?.forEach(a=>a(o))}function El(o,a){if(!o)return null;const l=a?So:_c;return()=>("function"==typeof o?o():o).map(g=>l(g)).filter(tl)}function wr(o){return{\u0275providers:o}}function ja(...o){return{\u0275providers:wl(0,o),\u0275fromNgModule:!0}}function wl(o,...a){const l=[],g=new Set;let A;const B=H=>{l.push(H)};return wn(a,H=>{const ie=H;Jl(ie,B,[],g)&&(A||=[],A.push(ie))}),void 0!==A&&nl(A,B),l}function nl(o,a){for(let l=0;l<o.length;l++){const{ngModule:g,providers:A}=o[l];Cl(A,B=>{a(B,g)})}}function Jl(o,a,l,g){if(!(o=Le(o)))return!1;let A=null,B=Ri(o);const H=!B&&vs(o);if(B||H){if(H&&!H.standalone)return!1;A=o}else{const _e=o.ngModule;if(B=Ri(_e),!B)return!1;A=_e}const ie=g.has(A);if(H){if(ie)return!1;if(g.add(A),H.dependencies){const _e="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const Be of _e)Jl(Be,a,l,g)}}else{if(!B)return!1;{if(null!=B.imports&&!ie){let Be;g.add(A);try{wn(B.imports,Ze=>{Jl(Ze,a,l,g)&&(Be||=[],Be.push(Ze))})}finally{}void 0!==Be&&nl(Be,a)}if(!ie){const Be=pt(A)||(()=>new A);a({provide:A,useFactory:Be,deps:ss},A),a({provide:zr,useValue:A,multi:!0},A),a({provide:Oo,useValue:()=>_o(A),multi:!0},A)}const _e=B.providers;if(null!=_e&&!ie){const Be=o;Cl(_e,Ze=>{a(Ze,Be)})}}}return A!==o&&void 0!==o.providers}function Cl(o,a){for(let l of o)Bi(l)&&(l=l.\u0275providers),Array.isArray(l)?Cl(l,a):a(l)}const Rd=yt({provide:String,useValue:yt});function Ll(o){return null!==o&&"object"==typeof o&&Rd in o}function Vr(o){return"function"==typeof o}const rr=new Pt(""),Gs={},Gt={};let mn;function In(){return void 0===mn&&(mn=new ra),mn}class Hn{}class di extends Hn{get destroyed(){return this._destroyed}constructor(a,l,g,A){super(),this.parent=l,this.source=g,this.scopes=A,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uo(a,H=>this.processProvider(H)),this.records.set(pr,As(void 0,this)),A.has("environment")&&this.records.set(Hn,As(void 0,this));const B=this.records.get(rr);null!=B&&"string"==typeof B.value&&this.scopes.add(B.value),this.injectorDefTypes=new Set(this.get(zr,ss,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=m(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of l)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=Bo(this),g=xi(void 0);try{return a()}finally{Bo(l),xi(g)}}get(a,l=Fo,g=un.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(jt))return a[jt](this);g=Ar(g);const B=Bo(this),H=xi(void 0);try{if(!(g&un.SkipSelf)){let _e=this.records.get(a);if(void 0===_e){const Be=function Bs(o){return"function"==typeof o||"object"==typeof o&&o instanceof Pt}(a)&&gn(a);_e=Be&&this.injectableDefInScope(Be)?As(ui(a),Gs):null,this.records.set(a,_e)}if(null!=_e)return this.hydrate(a,_e)}return(g&un.Self?In():this.parent).get(a,l=g&un.Optional&&l===Fo?null:l)}catch(ie){if("NullInjectorError"===ie.name){if((ie[Js]=ie[Js]||[]).unshift(on(a)),B)throw ie;return function ba(o,a,l,g){const A=o[Js];throw a[ta]&&A.unshift(a[ta]),o.message=function Da(o,a,l,g=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let A=on(a);if(Array.isArray(a))A=a.map(on).join(" -> ");else if("object"==typeof a){let B=[];for(let H in a)if(a.hasOwnProperty(H)){let ie=a[H];B.push(H+":"+("string"==typeof ie?JSON.stringify(ie):on(ie)))}A=`{${B.join(", ")}}`}return`${l}${g?"("+g+")":""}[${A}]: ${o.replace(mr,"\n  ")}`}("\n"+o.message,A,l,g),o.ngTokenPath=A,o[Js]=null,o}(ie,a,"R3InjectorError",this.source)}throw ie}finally{xi(H),Bo(B)}}resolveInjectorInitializers(){const a=m(null),l=Bo(this),g=xi(void 0);try{const B=this.get(Oo,ss,un.Self);for(const H of B)H()}finally{Bo(l),xi(g),m(a)}}toString(){const a=[],l=this.records;for(const g of l.keys())a.push(on(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(a){let l=Vr(a=Le(a))?a:Le(a&&a.provide);const g=function vi(o){return Ll(o)?As(void 0,o.useValue):As(Zs(o),Gs)}(a);if(!Vr(a)&&!0===a.multi){let A=this.records.get(l);A||(A=As(void 0,Gs,!0),A.factory=()=>ia(A.multi),this.records.set(l,A)),l=a,A.multi.push(a)}this.records.set(l,g)}hydrate(a,l){const g=m(null);try{return l.value===Gs&&(l.value=Gt,l.value=l.factory()),"object"==typeof l.value&&l.value&&function oo(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{m(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Le(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function ui(o){const a=gn(o),l=null!==a?a.factory:pt(o);if(null!==l)return l;if(o instanceof Pt)throw new Ge(204,!1);if(o instanceof Function)return function Qi(o){if(o.length>0)throw new Ge(204,!1);const l=function ps(o){return o&&(o[Ai]||o[Si])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Ge(204,!1)}function Zs(o,a,l){let g;if(Vr(o)){const A=Le(o);return pt(A)||ui(A)}if(Ll(o))g=()=>Le(o.useValue);else if(function ko(o){return!(!o||!o.useFactory)}(o))g=()=>o.useFactory(...ia(o.deps||[]));else if(function yc(o){return!(!o||!o.useExisting)}(o))g=()=>_o(Le(o.useExisting));else{const A=Le(o&&(o.useClass||o.provide));if(!function vo(o){return!!o.deps}(o))return pt(A)||ui(A);g=()=>new A(...ia(o.deps))}return g}function As(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function uo(o,a){for(const l of o)Array.isArray(l)?uo(l,a):l&&Bi(l)?uo(l.\u0275providers,a):a(l)}function Ro(o,a){o instanceof di&&o.assertNotDestroyed();const g=Bo(o),A=xi(void 0);try{return a()}finally{Bo(g),xi(A)}}function Ss(){return void 0!==Qn()||null!=function Hr(){return ur}()}function Ao(o){if(!Ss())throw new Ge(-203,!1)}const bs=0,ii=1,Ui=2,zs=3,tr=4,qs=5,po=6,yo=7,to=8,xo=9,aa=10,ls=11,il=12,Ec=13,ka=14,wo=15,Nl=16,Cc=17,Pa=18,Or=19,Va=20,bc=21,Ad=22,la=23,zi=25,Zc=1,Eo=6,Yr=7,Fl=9,ar=10;var Bl=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(Bl||{});function nr(o){return Array.isArray(o)&&"object"==typeof o[Zc]}function Jr(o){return Array.isArray(o)&&!0===o[Zc]}function Ou(o){return!!(4&o.flags)}function sl(o){return o.componentOffset>-1}function xd(o){return!(1&~o.flags)}function $a(o){return!!o.template}function wd(o){return!!(512&o[Ui])}class Nd{constructor(a,l,g){this.previousValue=a,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function Dc(o,a,l,g){null!==a?a.applyValueToInputSignal(a,g):o[l]=g}function df(){return Sn}function Sn(o){return o.type.prototype.ngOnChanges&&(o.setInput=fo),Io}function Io(){const o=uf(this),a=o?.current;if(a){const l=o.previous;if(l===Mo)o.previous=a;else for(let g in a)l[g]=a[g];o.current=null,this.ngOnChanges(a)}}function fo(o,a,l,g,A){const B=this.declaredInputs[g],H=uf(o)||function vr(o,a){return o[Su]=a}(o,{previous:Mo,current:null}),ie=H.current||(H.current={}),_e=H.previous,Be=_e[B];ie[B]=new Nd(Be&&Be.currentValue,l,_e===Mo),Dc(o,a,A,l)}df.ngInherit=!0;const Su="__ngSimpleChanges__";function uf(o){return o[Su]||null}const Ul=function(o,a,l){};function no(o){for(;Array.isArray(o);)o=o[bs];return o}function Fd(o,a){return no(a[o])}function da(o,a){return no(a[o.index])}function Tc(o,a){return o.data[a]}function jl(o,a){return o[a]}function ua(o,a){const l=a[o];return nr(l)?l:l[bs]}function Ru(o){return!(128&~o[Ui])}function lo(o,a){return null==a?null:o[a]}function Ii(o){o[Cc]=0}function hf(o){1024&o[Ui]||(o[Ui]|=1024,Ru(o)&&Fh(o))}function Au(o){return!!(9216&o[Ui]||o[la]?.dirty)}function pf(o){o[aa].changeDetectionScheduler?.notify(8),64&o[Ui]&&(o[Ui]|=1024),Au(o)&&Fh(o)}function Fh(o){o[aa].changeDetectionScheduler?.notify(0);let a=kl(o);for(;null!==a&&!(8192&a[Ui])&&(a[Ui]|=8192,Ru(a));)a=kl(a)}function Bh(o,a){if(!(256&~o[Ui]))throw new Ge(911,!1);null===o[bc]&&(o[bc]=[]),o[bc].push(a)}function gg(o,a){if(null===o[bc])return;const l=o[bc].indexOf(a);-1!==l&&o[bc].splice(l,1)}function kl(o){const a=o[zs];return Jr(a)?a[zs]:a}const ys={lFrame:Hv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let kv=!1;function $v(){return ys.bindingsEnabled}function Bd(){return null!==ys.skipHydrationRootTNode}function Nn(){return ys.lFrame.lView}function Ki(){return ys.lFrame.tView}function Uh(o){return ys.lFrame.contextLView=o,o[to]}function Ud(o){return ys.lFrame.contextLView=null,o}function co(){let o=Cg();for(;null!==o&&64===o.type;)o=o.parent;return o}function Cg(){return ys.lFrame.currentTNode}function jh(){const o=ys.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function ol(o,a){const l=ys.lFrame;l.currentTNode=o,l.isParent=a}function ed(){return ys.lFrame.isParent}function Ra(){ys.lFrame.isParent=!1}function xu(){return ys.lFrame.contextLView}function Li(){return kv}function mf(o){kv=o}function Vi(){const o=ys.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ha(){return ys.lFrame.bindingIndex}function Ma(){return ys.lFrame.bindingIndex++}function Vl(o){const a=ys.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function $l(o){ys.lFrame.inI18n=o}function bg(o,a){const l=ys.lFrame;l.bindingIndex=l.bindingRootIndex=o,gf(a)}function gf(o){ys.lFrame.currentDirectiveIndex=o}function Tg(){return ys.lFrame.currentQueryIndex}function Vh(o){ys.lFrame.currentQueryIndex=o}function h1(o){const a=o[ii];return 2===a.type?a.declTNode:1===a.type?o[qs]:null}function Gv(o,a,l){if(l&un.SkipSelf){let A=a,B=o;for(;!(A=A.parent,null!==A||l&un.Host||(A=h1(B),null===A||(B=B[ka],10&A.type))););if(null===A)return!1;a=A,o=B}const g=ys.lFrame=Kv();return g.currentTNode=a,g.lView=o,!0}function _f(o){const a=Kv(),l=o[ii];ys.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Kv(){const o=ys.lFrame,a=null===o?null:o.child;return null===a?Hv(o):a}function Hv(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function zv(){const o=ys.lFrame;return ys.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xv=zv;function Mg(){const o=zv();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function pa(){return ys.lFrame.selectedIndex}function Zl(o){ys.lFrame.selectedIndex=o}function Vo(){const o=ys.lFrame;return Tc(o.tView,o.selectedIndex)}function Wh(){return ys.lFrame.currentNamespace}let kd=!0;function Gh(){return kd}function rl(o){kd=o}function Nu(o,a){for(let l=a.directiveStart,g=a.directiveEnd;l<g;l++){const B=o.data[l].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:ie,ngAfterViewInit:_e,ngAfterViewChecked:Be,ngOnDestroy:Ze}=B;H&&(o.contentHooks??=[]).push(-l,H),ie&&((o.contentHooks??=[]).push(l,ie),(o.contentCheckHooks??=[]).push(l,ie)),_e&&(o.viewHooks??=[]).push(-l,_e),Be&&((o.viewHooks??=[]).push(l,Be),(o.viewCheckHooks??=[]).push(l,Be)),null!=Ze&&(o.destroyHooks??=[]).push(l,Ze)}}function Ef(o,a,l){Mc(o,a,3,l)}function Fu(o,a,l,g){(3&o[Ui])===l&&Mc(o,a,l,g)}function Hi(o,a){let l=o[Ui];(3&l)===a&&(l&=16383,l+=1,o[Ui]=l)}function Mc(o,a,l,g){const B=g??-1,H=a.length-1;let ie=0;for(let _e=void 0!==g?65535&o[Cc]:0;_e<H;_e++)if("number"==typeof a[_e+1]){if(ie=a[_e],null!=g&&ie>=g)break}else a[_e]<0&&(o[Cc]+=65536),(ie<B||-1==B)&&(Sg(o,l,a,_e),o[Cc]=(4294901760&o[Cc])+_e+2),_e++}function Og(o,a){Ul(4,o,a);const l=m(null);try{a.call(o)}finally{m(l),Ul(5,o,a)}}function Sg(o,a,l,g){const A=l[g]<0,B=l[g+1],ie=o[A?-l[g]:l[g]];A?o[Ui]>>14<o[Cc]>>16&&(3&o[Ui])===a&&(o[Ui]+=16384,Og(ie,B)):Og(ie,B)}const mo=-1;class $d{constructor(a,l,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}const Wd={};class td{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,g){g=Ar(g);const A=this.injector.get(a,Wd,g);return A!==Wd||l===Wd?A:this.parentInjector.get(a,l,g)}}function Tf(o){return o!==mo}function ql(o){return 32767&o}function Uu(o,a){let l=function Mf(o){return o>>16}(o),g=a;for(;l>0;)g=g[ka],l--;return g}let ju=!0;function Gd(o){const a=ju;return ju=o,a}const Of=255,Sf=5;let Yh=0;const al={};function ku(o,a){const l=Vu(o,a);if(-1!==l)return l;const g=a[ii];g.firstCreatePass&&(o.injectorIndex=a.length,Jh(g.data,o),Jh(a,null),Jh(g.blueprint,null));const A=Qh(o,a),B=o.injectorIndex;if(Tf(A)){const H=ql(A),ie=Uu(A,a),_e=ie[ii].data;for(let Be=0;Be<8;Be++)a[B+Be]=ie[H+Be]|_e[H+Be]}return a[B+8]=A,B}function Jh(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Vu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Qh(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,g=null,A=a;for(;null!==A;){if(g=zd(A),null===g)return mo;if(l++,A=A[ka],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return mo}function If(o,a,l){!function Rg(o,a,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(hs)&&(g=l[hs]),null==g&&(g=l[hs]=Yh++);const A=g&Of;a.data[o+(A>>Sf)]|=1<<A}(o,a,l)}function Ag(o,a,l){if(l&un.Optional||void 0!==o)return o;pn()}function Pf(o,a,l,g){if(l&un.Optional&&void 0===g&&(g=null),!(l&(un.Self|un.Host))){const A=o[xo],B=xi(void 0);try{return A?A.get(a,g,l&un.Optional):ms(a,g,l&un.Optional)}finally{xi(B)}}return Ag(g,0,l)}function xg(o,a,l,g=un.Default,A){if(null!==o){if(2048&a[Ui]&&!(g&un.Self)){const H=function Hd(o,a,l,g,A){let B=o,H=a;for(;null!==B&&null!==H&&2048&H[Ui]&&!(512&H[Ui]);){const ie=wg(B,H,l,g|un.Self,al);if(ie!==al)return ie;let _e=B.parent;if(!_e){const Be=H[Va];if(Be){const Ze=Be.get(l,al,g);if(Ze!==al)return Ze}_e=zd(H),H=H[ka]}B=_e}return A}(o,a,l,g,al);if(H!==al)return H}const B=wg(o,a,l,g,al);if(B!==al)return B}return Pf(a,l,g,A)}function wg(o,a,l,g,A){const B=function Yv(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(hs)?o[hs]:void 0;return"number"==typeof a?a>=0?a&Of:Qv:a}(l);if("function"==typeof B){if(!Gv(a,o,g))return g&un.Host?Ag(A,0,g):Pf(a,l,g,A);try{let H;if(H=B(g),null!=H||g&un.Optional)return H;pn()}finally{Xv()}}else if("number"==typeof B){let H=null,ie=Vu(o,a),_e=mo,Be=g&un.Host?a[wo][qs]:null;for((-1===ie||g&un.SkipSelf)&&(_e=-1===ie?Qh(o,a):a[ie+8],_e!==mo&&Jv(g,!1)?(H=a[ii],ie=ql(_e),a=Uu(_e,a)):ie=-1);-1!==ie;){const Ze=a[ii];if(qh(B,ie,Ze.data)){const Ot=bO(ie,a,l,H,g,Be);if(Ot!==al)return Ot}_e=a[ie+8],_e!==mo&&Jv(g,a[ii].data[ie+8]===Be)&&qh(B,ie,a)?(H=Ze,ie=ql(_e),a=Uu(_e,a)):ie=-1}}return A}function bO(o,a,l,g,A,B){const H=a[ii],ie=H.data[o+8],Ze=Lg(ie,H,l,null==g?sl(ie)&&ju:g!=H&&!!(3&ie.type),A&un.Host&&B===ie);return null!==Ze?nd(a,H,Ze,ie):al}function Lg(o,a,l,g,A){const B=o.providerIndexes,H=a.data,ie=1048575&B,_e=o.directiveStart,Ze=B>>20,nt=A?ie+Ze:o.directiveEnd;for(let Ut=g?ie:ie+Ze;Ut<nt;Ut++){const ln=H[Ut];if(Ut<_e&&l===ln||Ut>=_e&&ln.type===l)return Ut}if(A){const Ut=H[_e];if(Ut&&$a(Ut)&&Ut.type===l)return _e}return null}function nd(o,a,l,g){let A=o[l];const B=a.data;if(function Cf(o){return o instanceof $d}(A)){const H=A;H.resolving&&function Ue(o,a){throw a&&a.join(" > "),new Ge(-200,o)}(function Ke(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():_n(o)}(B[l]));const ie=Gd(H.canSeeViewProviders);H.resolving=!0;const Be=H.injectImpl?xi(H.injectImpl):null;Gv(o,g,un.Default);try{A=o[l]=H.factory(void 0,B,o,g),a.firstCreatePass&&l>=g.directiveStart&&function Vd(o,a,l){const{ngOnChanges:g,ngOnInit:A,ngDoCheck:B}=a.type.prototype;if(g){const H=Sn(a);(l.preOrderHooks??=[]).push(o,H),(l.preOrderCheckHooks??=[]).push(o,H)}A&&(l.preOrderHooks??=[]).push(0-o,A),B&&((l.preOrderHooks??=[]).push(o,B),(l.preOrderCheckHooks??=[]).push(o,B))}(l,B[l],a)}finally{null!==Be&&xi(Be),Gd(ie),H.resolving=!1,Xv()}}return A}function qh(o,a,l){return!!(l[a+(o>>Sf)]&1<<o)}function Jv(o,a){return!(o&un.Self||o&un.Host&&a)}class $r{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,g){return xg(this._tNode,this._lView,a,Ar(g),l)}}function Qv(){return new $r(co(),Nn())}function ep(o){return vn(()=>{const a=o.prototype.constructor,l=a[Ji]||$u(a),g=Object.prototype;let A=Object.getPrototypeOf(o.prototype).constructor;for(;A&&A!==g;){const B=A[Ji]||$u(A);if(B&&B!==l)return B;A=Object.getPrototypeOf(A)}return B=>new B})}function $u(o){return Xe(o)?()=>{const a=$u(Le(o));return a&&a()}:pt(o)}function zd(o){const a=o[ii],l=a.type;return 2===l?a.declTNode:1===l?o[qs]:null}function ll(o){return function Zh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const g=l.length;let A=0;for(;A<g;){const B=l[A];if(It(B))break;if(0===B)A+=2;else if("number"==typeof B)for(A++;A<g&&"string"==typeof l[A];)A++;else{if(B===a)return l[A+1];A+=2}}}return null}(co(),o)}function Yd(o,a=null,l=null,g){const A=Fg(o,a,l,g);return A.resolveInjectorInitializers(),A}function Fg(o,a=null,l=null,g,A=new Set){const B=[l||ss,ja(o)];return g=g||("object"==typeof o?void 0:on(o)),new di(B,a||In(),g||null,A)}class Sr{static{this.THROW_IF_NOT_FOUND=Fo}static{this.NULL=new ra}static create(a,l){if(Array.isArray(a))return Yd({name:""},l,a,"");{const g=a.name??"";return Yd({name:g},a.parent,a.providers,g)}}static{this.\u0275prov=si({token:Sr,providedIn:"any",factory:()=>_o(pr)})}static{this.__NG_ELEMENT_ID__=-1}}new Pt("").__NG_ELEMENT_ID__=o=>{const a=co();if(null===a)throw new Ge(204,!1);if(2&a.type)return a.value;if(o&un.Optional)return null;throw new Ge(204,!1)};function np(o){return o.ngOriginalError}const Rf=!0;let Jd=(()=>{class o{static{this.__NG_ELEMENT_ID__=cl}static{this.__NG_ENV_ID__=l=>l}}return o})();class Wu extends Jd{constructor(a){super(),this._lView=a}onDestroy(a){return Bh(this._lView,a),()=>gg(this._lView,a)}}function cl(){return new Wu(Nn())}let ec=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();const Gl=class g1 extends et.B{constructor(a=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=a,Ss()&&(this.destroyRef=yi(Jd,{optional:!0})??void 0,this.pendingTasks=yi(ec,{optional:!0})??void 0)}emit(a){const l=m(null);try{super.next(a)}finally{m(l)}}subscribe(a,l,g){let A=a,B=l||(()=>null),H=g;if(a&&"object"==typeof a){const _e=a;A=_e.next?.bind(_e),B=_e.error?.bind(_e),H=_e.complete?.bind(_e)}this.__isAsync&&(B=this.wrapInTimeout(B),A&&(A=this.wrapInTimeout(A)),H&&(H=this.wrapInTimeout(H)));const ie=super.subscribe({next:A,error:B,complete:H});return a instanceof $e.yU&&a.add(ie),ie}wrapInTimeout(a){return l=>{const g=this.pendingTasks?.add();setTimeout(()=>{a(l),void 0!==g&&this.pendingTasks?.remove(g)})}}};function Af(...o){}function xf(o){let a,l;function g(){o=Af;try{void 0!==l&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(l),void 0!==a&&clearTimeout(a)}catch{}}return a=setTimeout(()=>{o(),g()}),"function"==typeof requestAnimationFrame&&(l=requestAnimationFrame(()=>{o(),g()})),()=>g()}function jg(o){return queueMicrotask(()=>o()),()=>{o=Af}}const Lo="isAngularZone",Ds=Lo+"_ID";let Kl=0;class Pi{constructor(a){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1);const{enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:A=!1,scheduleInRootZone:B=Rf}=a;if(typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const H=this;H._nesting=0,H._outer=H._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(H._inner=H._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(H._inner=H._inner.fork(Zone.longStackTraceZoneSpec)),H.shouldCoalesceEventChangeDetection=!A&&g,H.shouldCoalesceRunChangeDetection=A,H.callbackScheduled=!1,H.scheduleInRootZone=B,function W(o){const a=()=>{!function P(o){function a(){xf(()=>{o.callbackScheduled=!1,pe(o),o.isCheckStableRunning=!0,Q(o),o.isCheckStableRunning=!1})}o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,o.scheduleInRootZone?Zone.root.run(()=>{a()}):o._outer.run(()=>{a()}),pe(o))}(o)},l=Kl++;o._inner=o._inner.fork({name:"angular",properties:{[Lo]:!0,[Ds]:l,[Ds+l]:!0},onInvokeTask:(g,A,B,H,ie,_e)=>{if(function dn(o){return Rn(o,"__ignore_ng_zone__")}(_e))return g.invokeTask(B,H,ie,_e);try{return Ne(o),g.invokeTask(B,H,ie,_e)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===H.type||o.shouldCoalesceRunChangeDetection)&&a(),Lt(o)}},onInvoke:(g,A,B,H,ie,_e,Be)=>{try{return Ne(o),g.invoke(B,H,ie,_e,Be)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function xn(o){return Rn(o,"__scheduler_tick__")}(_e)&&a(),Lt(o)}},onHasTask:(g,A,B,H)=>{g.hasTask(B,H),A===B&&("microTask"==H.change?(o._hasPendingMicrotasks=H.microTask,pe(o),Q(o)):"macroTask"==H.change&&(o.hasPendingMacrotasks=H.macroTask))},onHandleError:(g,A,B,H)=>(g.handleError(B,H),o.runOutsideAngular(()=>o.onError.emit(H)),!1)})}(H)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Lo)}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new Ge(909,!1)}run(a,l,g){return this._inner.run(a,l,g)}runTask(a,l,g,A){const B=this._inner,H=B.scheduleEventTask("NgZoneEvent: "+A,a,F,Af,Af);try{return B.runTask(H,l,g)}finally{B.cancelTask(H)}}runGuarded(a,l,g){return this._inner.runGuarded(a,l,g)}runOutsideAngular(a){return this._outer.run(a)}}const F={};function Q(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function pe(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function Ne(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Lt(o){o._nesting--,Q(o)}class rn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(a,l,g){return a.apply(l,g)}runGuarded(a,l,g){return a.apply(l,g)}runOutsideAngular(a){return a()}runTask(a,l,g,A){return a.apply(l,g)}}function Rn(o,a){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[a]}class qn{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&np(a);for(;l&&np(l);)l=np(l);return l||null}}const _i=new Pt("",{providedIn:"root",factory:()=>{const o=yi(Pi),a=yi(qn);return l=>o.runOutsideAngular(()=>a.handleError(l))}});class js{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=yi(qn,{optional:!0}),this.destroyRef=yi(Jd),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(a){if(this.destroyed)throw new Ge(953,!1);return(this.listeners??=[]).push(a),{unsubscribe:()=>{const l=this.listeners?.indexOf(a);void 0!==l&&-1!==l&&this.listeners?.splice(l,1)}}}emit(a){if(this.destroyed)throw new Ge(953,!1);if(null===this.listeners)return;const l=m(null);try{for(const g of this.listeners)try{g(a)}catch(A){this.errorHandler?.handleError(A)}}finally{m(l)}}}function Wi(o){return new js}function gs(o,a){return mt(o,a)}const Yo=(gs.required=function $s(o){return mt(ot,o)},gs);function ks(){return Vs(co(),Nn())}function Vs(o,a){return new Ys(da(o,a))}let Ys=(()=>{class o{constructor(l){this.nativeElement=l}static{this.__NG_ELEMENT_ID__=ks}}return o})();function $o(o){return o instanceof Ys?o.nativeElement:o}function Jo(){return this._results[Symbol.iterator]()}class yr{get changes(){return this._changes??=new Gl}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=yr.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Jo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){this.dirty=!1;const g=function Bt(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Vt(o,a,l){if(o.length!==a.length)return!1;for(let g=0;g<o.length;g++){let A=o[g],B=a[g];if(l&&(A=l(A),B=l(B)),B!==A)return!1}return!0}(this._results,g,l))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const lr="ngSkipHydration",fa="ngskiphydration";function dl(o){const a=o.mergedAttrs;if(null===a)return!1;for(let l=0;l<a.length;l+=2){const g=a[l];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===fa)return!0}return!1}function ma(o){return o.hasAttribute(lr)}function Tl(o){return!(128&~o.flags)}const Mi=new Map;let Sc=0;function tc(o){Mi.delete(o[Or])}const rd="__ngContext__";function _a(o,a){nr(a)?(o[rd]=a[Or],function Qd(o){Mi.set(o[Or],o)}(a)):o[rd]=a}function ip(o){return Hg(o[il])}function Nf(o){return Hg(o[tr])}function Hg(o){for(;null!==o&&!Jr(o);)o=o[tr];return o}let n0;function xO(o){n0=o}function qd(){if(void 0!==n0)return n0;if(typeof document<"u")return document;throw new Ge(210,!1)}const Bf=new Pt("",{providedIn:"root",factory:()=>wO}),wO="ng",C1=new Pt(""),Xg=new Pt("",{providedIn:"platform",factory:()=>"unknown"}),Uf=new Pt(""),NO=new Pt("",{providedIn:"root",factory:()=>qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function FO(o){return o}function op(){const o=new jf;return"browser"===yi(Xg)&&(o.store=function BO(o,a){const l=o.getElementById(a+"-state");if(l?.textContent)try{return JSON.parse(l.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(qd(),yi(Bf))),o}let jf=(()=>{class o{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=si({token:o,providedIn:"root",factory:op})}get(l,g){return void 0!==this.store[l]?this.store[l]:g}set(l,g){this.store[l]=g}remove(l){delete this.store[l]}hasKey(l){return this.store.hasOwnProperty(l)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(l,g){this.onSerializeCallbacks[l]=g}toJson(){for(const l in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(l))try{this.store[l]=this.onSerializeCallbacks[l]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return o})();const Yg="h",r0="b";var rp=function(o){return o.FirstChild="f",o.NextSibling="n",o}(rp||{});const Jg="e",Wo="t",kf="c",Qg="x",eu="r",a0="i",Zg="n",Vf="d",l0="__nghData__",ld="ngh",UO="nghm";let b1=()=>null;function D1(o,a,l=!1){let g=o.getAttribute(ld);if(null==g)return null;const[A,B]=g.split("|");if(g=l?B:A,!g)return null;const ie=l?A:B?`|${B}`:"";let _e={};if(""!==g){const Ze=a.get(jf,null,{optional:!0});null!==Ze&&(_e=Ze.get(l0,[])[Number(g)])}const Be={data:_e,firstChild:o.firstChild??null};return l&&(Be.firstChild=o,t_(Be,0,o.nextSibling)),ie?o.setAttribute(ld,ie):o.removeAttribute(ld),Be}function qg(o,a,l=!1){return b1(o,a,l)}function c0(o){let a=o._lView;return 2===a[ii].type?null:(wd(a)&&(a=a[zi]),a)}function t_(o,a,l){o.segmentHeads??={},o.segmentHeads[a]=l}function Yu(o,a){return o.segmentHeads?.[a]??null}function O1(o,a){return o.data[kf]?.[a]??null}function u0(o,a){const l=O1(o,a)??[];let g=0;for(let A of l)g+=A[eu]*(A[Qg]??1);return g}function cd(o,a){if(typeof o.disconnectedNodes>"u"){const l=o.data[Vf];o.disconnectedNodes=l?new Set(l):null}return!!function Pc(o){if(typeof o.disconnectedNodes>"u"){const a=o.data[Vf];o.disconnectedNodes=a?new Set(a):null}return o.disconnectedNodes}(o)?.has(a)}const n_=new Pt(""),P1=new Pt("",{providedIn:"root",factory:()=>!1});let s_,h0;function ap(o){return function Kf(){if(void 0===s_&&(s_=null,we.trustedTypes))try{s_=we.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return s_}()?.createHTML(o)||o}function Ju(){if(void 0===h0&&(h0=null,we.trustedTypes))try{h0=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return h0}function Qu(o){return Ju()?.createHTML(o)||o}function f0(o){return Ju()?.createScriptURL(o)||o}class Zu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class KO extends Zu{getTypeName(){return"HTML"}}class x1 extends Zu{getTypeName(){return"Style"}}class lp extends Zu{getTypeName(){return"Script"}}class HO extends Zu{getTypeName(){return"URL"}}class zO extends Zu{getTypeName(){return"ResourceURL"}}function ic(o){return o instanceof Zu?o.changingThisBreaksApplicationSecurity:o}function cp(o,a){const l=function m0(o){return o instanceof Zu&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${ut})`)}return l===a}function g0(o){return new KO(o)}function w1(o){return new x1(o)}function XO(o){return new lp(o)}function o_(o){return new HO(o)}function _0(o){return new zO(o)}function L1(o){const a=new JO(o);return function Hf(){try{return!!(new window.DOMParser).parseFromString(ap(""),"text/html")}catch{return!1}}()?new YO(a):a}class YO{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(ap(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.firstChild?.remove(),l)}catch{return null}}}class JO{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=ap(a),l}}const QO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dd(o){return(o=String(o)).match(QO)?o:"unsafe:"+o}function sc(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function zf(...o){const a={};for(const l of o)for(const g in l)l.hasOwnProperty(g)&&(a[g]=!0);return a}const He=sc("area,br,col,hr,img,wbr"),Cn=sc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_s=sc("rp,rt"),dp=zf(He,zf(Cn,sc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zf(_s,sc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zf(_s,Cn)),tu=sc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nu=zf(tu,sc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N2=sc("script,style,template");class qO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,g=!0,A=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)A.push(l),l=F2(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let B=r_(l);if(B){l=B;break}l=A.pop()}return this.buf.join("")}startElement(a){const l=v0(a).toLowerCase();if(!dp.hasOwnProperty(l))return this.sanitizedSomething=!0,!N2.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=a.attributes;for(let A=0;A<g.length;A++){const B=g.item(A),H=B.name,ie=H.toLowerCase();if(!nu.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let _e=B.value;tu[ie]&&(_e=dd(_e)),this.buf.push(" ",H,'="',iu(_e),'"')}return this.buf.push(">"),!0}endElement(a){const l=v0(a).toLowerCase();dp.hasOwnProperty(l)&&!He.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(iu(a))}}function r_(o){const a=o.nextSibling;if(a&&o!==a.previousSibling)throw N1(a);return a}function F2(o){const a=o.firstChild;if(a&&function eS(o,a){return(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,a))throw N1(a);return a}function v0(o){const a=o.nodeName;return"string"==typeof a?a:"FORM"}function N1(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const tS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F1=/([^\#-~ |!])/g;function iu(o){return o.replace(/&/g,"&amp;").replace(tS,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(F1,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xf;function qu(o,a){let l=null;try{Xf=Xf||L1(o);let g=a?String(a):"";l=Xf.getInertBodyElement(g);let A=5,B=g;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,g=B,B=l.innerHTML,l=Xf.getInertBodyElement(g)}while(g!==B);return ap((new qO).sanitizeChildren(y0(l)||l))}finally{if(l){const g=y0(l)||l;for(;g.firstChild;)g.firstChild.remove()}}}function y0(o){return"content"in o&&function B1(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var up=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(up||{});function hd(o){const a=l_();return a?Qu(a.sanitize(up.HTML,o)||""):cp(o,"HTML")?Qu(ic(o)):qu(qd(),_n(o))}function E0(o){const a=l_();return a?a.sanitize(up.URL,o)||"":cp(o,"URL")?ic(o):dd(_n(o))}function su(o){const a=l_();if(a)return f0(a.sanitize(up.RESOURCE_URL,o)||"");if(cp(o,"ResourceURL"))return f0(ic(o));throw new Ge(904,!1)}function a_(o,a,l){return function au(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?su:E0}(a,l)(o)}function l_(){const o=Nn();return o&&o[aa].sanitizer}const pd=/^>|^->|<!--|-->|--!>|<!-$/g,fd=/(<|>)/g,C0="\u200b$1\u200b";function j1(o){return o.ownerDocument.defaultView}function T0(o){return o.ownerDocument}function Ya(o){return o instanceof Function?o():o}function Wr(o){return"browser"===(o??yi(Sr)).get(Xg)}var rc=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(rc||{});let I0;function Qf(o,a){return I0(o,a)}function pp(o,a,l,g,A){if(null!=g){let B,H=!1;Jr(g)?B=g:nr(g)&&(H=!0,g=g[bs]);const ie=no(g);0===o&&null!==l?null==A?x0(a,l,ie):cu(a,l,ie,A||null,!0):1===o&&null!==l?cu(a,l,ie,A||null,!0):2===o?Lc(a,ie,H):3===o&&a.destroyNode(ie),null!=B&&function g_(o,a,l,g,A){const B=l[Yr];B!==no(l)&&pp(a,o,g,B,A);for(let ie=ar;ie<l.length;ie++){const _e=l[ie];m_(_e[ii],_e,o,a,g,B)}}(a,o,B,l,A)}}function P0(o,a){return o.createText(a)}function k1(o,a,l){o.setValue(a,l)}function R0(o,a){return o.createComment(function b0(o){return o.replace(pd,a=>a.replace(fd,C0))}(a))}function d_(o,a,l){return o.createElement(a,l)}function fp(o,a){a[aa].changeDetectionScheduler?.notify(9),m_(o,a,a[ls],2,null,null)}function W1(o,a){const l=o[Fl],g=a[zs];(nr(g)||a[wo]!==g[zs][wo])&&(o[Ui]|=Bl.HasTransplantedViews),null===l?o[Fl]=[a]:l.push(a)}function xc(o,a){const l=o[Fl],g=l.indexOf(a);l.splice(g,1)}function mp(o,a){if(o.length<=ar)return;const l=ar+a,g=o[l];if(g){const A=g[Nl];null!==A&&A!==o&&xc(A,g),a>0&&(o[l-1][tr]=g[tr]);const B=wi(o,ar+a);!function pS(o,a){fp(o,a),a[bs]=null,a[qs]=null}(g[ii],g);const H=B[Pa];null!==H&&H.detachView(B[ii]),g[zs]=null,g[tr]=null,g[Ui]&=-129}return g}function gp(o,a){if(!(256&a[Ui])){const l=a[ls];l.destroyNode&&m_(o,a,l,3,null,null),function fS(o){let a=o[il];if(!a)return u_(o[ii],o);for(;a;){let l=null;if(nr(a))l=a[il];else{const g=a[ar];g&&(l=g)}if(!l){for(;a&&!a[tr]&&a!==o;)nr(a)&&u_(a[ii],a),a=a[zs];null===a&&(a=o),nr(a)&&u_(a[ii],a),l=a&&a[tr]}a=l}}(a)}}function u_(o,a){if(256&a[Ui])return;const l=m(null);try{a[Ui]&=-129,a[Ui]|=256,a[la]&&M(a[la]),function h_(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let g=0;g<l.length;g+=2){const A=a[l[g]];if(!(A instanceof $d)){const B=l[g+1];if(Array.isArray(B))for(let H=0;H<B.length;H+=2){const ie=A[B[H]],_e=B[H+1];Ul(4,ie,_e);try{_e.call(ie)}finally{Ul(5,ie,_e)}}else{Ul(4,A,B);try{B.call(A)}finally{Ul(5,A,B)}}}}}(o,a),function mS(o,a){const l=o.cleanup,g=a[yo];if(null!==l)for(let B=0;B<l.length-1;B+=2)if("string"==typeof l[B]){const H=l[B+3];H>=0?g[H]():g[-H].unsubscribe(),B+=2}else l[B].call(g[l[B+1]]);null!==g&&(a[yo]=null);const A=a[bc];if(null!==A){a[bc]=null;for(let B=0;B<A.length;B++)(0,A[B])()}}(o,a),1===a[ii].type&&a[ls].destroy();const g=a[Nl];if(null!==g&&Jr(a[zs])){g!==a[zs]&&xc(g,a);const A=a[Pa];null!==A&&A.detachView(o)}tc(a)}finally{m(l)}}function A0(o,a,l){return G1(o,a.parent,l)}function G1(o,a,l){let g=a;for(;null!==g&&168&g.type;)g=(a=g).parent;if(null===g)return l[bs];{const{componentOffset:A}=g;if(A>-1){const{encapsulation:B}=o.data[g.directiveStart+A];if(B===xr.None||B===xr.Emulated)return null}return da(g,l)}}function cu(o,a,l,g,A){o.insertBefore(a,l,g,A)}function x0(o,a,l){o.appendChild(a,l)}function wc(o,a,l,g,A){null!==g?cu(o,a,l,g,A):x0(o,a,l)}function w0(o,a){return o.parentNode(a)}function L0(o,a,l){return _p(o,a,l)}function N0(o,a,l){return 40&o.type?da(o,l):null}let p_,_p=N0;function F0(o,a){_p=o,p_=a}function gd(o,a,l,g){const A=A0(o,g,a),B=a[ls],ie=L0(g.parent||a[qs],g,a);if(null!=A)if(Array.isArray(l))for(let _e=0;_e<l.length;_e++)wc(B,A,l[_e],ie,!1);else wc(B,A,l,ie,!1);void 0!==p_&&p_(B,g,a,l,A)}function Oa(o,a){if(null!==a){const l=a.type;if(3&l)return da(a,o);if(4&l)return B0(-1,o[a.index]);if(8&l){const g=a.child;if(null!==g)return Oa(o,g);{const A=o[a.index];return Jr(A)?B0(-1,A):no(A)}}if(128&l)return Oa(o,a.next);if(32&l)return Qf(a,o)()||no(o[a.index]);{const g=vp(o,a);return null!==g?Array.isArray(g)?g[0]:Oa(kl(o[wo]),g):Oa(o,a.next)}}return null}function vp(o,a){return null!==a?o[wo][qs].projection[a.projection]:null}function B0(o,a){const l=ar+o+1;if(l<a.length){const g=a[l],A=g[ii].firstChild;if(null!==A)return Oa(g,A)}return a[Yr]}function Lc(o,a,l){o.removeChild(null,a,l)}function U0(o){o.textContent=""}function f_(o,a,l,g,A,B,H){for(;null!=l;){if(128===l.type){l=l.next;continue}const ie=g[l.index],_e=l.type;if(H&&0===a&&(ie&&_a(no(ie),g),l.flags|=2),32&~l.flags)if(8&_e)f_(o,a,l.child,g,A,B,!1),pp(a,o,A,ie,B);else if(32&_e){const Be=Qf(l,g);let Ze;for(;Ze=Be();)pp(a,o,A,Ze,B);pp(a,o,A,ie,B)}else 16&_e?yp(o,a,g,l,A,B):pp(a,o,A,ie,B);l=H?l.projectionNext:l.next}}function m_(o,a,l,g,A,B){f_(l,g,o.firstChild,a,A,B,!1)}function yp(o,a,l,g,A,B){const H=l[wo],_e=H[qs].projection[g.projection];if(Array.isArray(_e))for(let Be=0;Be<_e.length;Be++)pp(a,o,A,_e[Be],B);else{let Be=_e;const Ze=H[zs];Tl(g)&&(Be.flags|=128),f_(o,a,Be,Ze,A,B,!0)}}function _d(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function H1(o,a,l){const{mergedAttrs:g,classes:A,styles:B}=l;null!==g&&Xr(o,a,g),null!==A&&_d(o,a,A),null!==B&&function K1(o,a,l){o.setAttribute(a,"style",l)}(o,a,B)}const Rs={};function yS(o=1){Zf(Ki(),Nn(),pa()+o,!1)}function Zf(o,a,l,g){if(!g)if(3&~a[Ui]){const B=o.preOrderHooks;null!==B&&Fu(a,B,0,l)}else{const B=o.preOrderCheckHooks;null!==B&&Ef(a,B,l)}Zl(l)}function th(o,a=un.Default){const l=Nn();return null===l?_o(o,a):xg(co(),l,Le(o),a)}function Xn(){throw new Error("invalid")}function Fi(o,a,l,g,A,B){const H=m(null);try{let ie=null;A&sr.SignalBased&&(ie=a[g][f]),null!==ie&&void 0!==ie.transformFn&&(B=ie.transformFn(B)),A&sr.HasDecoratorInputTransform&&(B=o.inputTransforms[g].call(a,B)),null!==o.setInput?o.setInput(a,ie,B,l,g):Dc(a,ie,g,B)}finally{m(H)}}function ac(o,a,l,g,A,B,H,ie,_e,Be,Ze){const Ot=a.blueprint.slice();return Ot[bs]=A,Ot[Ui]=204|g,(null!==Be||o&&2048&o[Ui])&&(Ot[Ui]|=2048),Ii(Ot),Ot[zs]=Ot[ka]=o,Ot[to]=l,Ot[aa]=H||o&&o[aa],Ot[ls]=ie||o&&o[ls],Ot[xo]=_e||o&&o[xo]||null,Ot[qs]=B,Ot[Or]=function Ol(){return Sc++}(),Ot[po]=Ze,Ot[Va]=Be,Ot[wo]=2==a.type?o[wo]:Ot,Ot}function $n(o,a,l,g,A){let B=o.data[a];if(null===B)B=ws(o,a,l,g,A),function wu(){return ys.lFrame.inI18n}()&&(B.flags|=32);else if(64&B.type){B.type=l,B.value=g,B.attrs=A;const H=jh();B.injectorIndex=null===H?-1:H.injectorIndex}return ol(B,!0),B}function ws(o,a,l,g,A){const B=Cg(),H=ed(),_e=o.data[a]=function qf(o,a,l,g,A,B){let H=a?a.injectorIndex:-1,ie=0;return Bd()&&(ie|=128),{type:l,index:g,insertBeforeIndex:null,injectorIndex:H,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ie,providerIndexes:0,value:A,attrs:B,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?B:B&&B.parent,l,a,g,A);return null===o.firstChild&&(o.firstChild=_e),null!==B&&(H?null==B.child&&null!==_e.parent&&(B.child=_e):null===B.next&&(B.next=_e,_e.prev=B)),_e}function Lr(o,a,l,g){if(0===l)return-1;const A=a.length;for(let B=0;B<l;B++)a.push(g),o.blueprint.push(g),o.data.push(null);return A}function Go(o,a,l,g,A){const B=pa(),H=2&g;try{Zl(-1),H&&a.length>zi&&Zf(o,a,zi,!1),Ul(H?2:0,A),l(g,A)}finally{Zl(B),Ul(H?3:1,A)}}function Nr(o,a,l){if(Ou(a)){const g=m(null);try{const B=a.directiveEnd;for(let H=a.directiveStart;H<B;H++){const ie=o.data[H];ie.contentQueries&&ie.contentQueries(1,l[H],H)}}finally{m(g)}}}function Fs(o,a,l){$v()&&(function __(o,a,l,g){const A=l.directiveStart,B=l.directiveEnd;sl(l)&&function xS(o,a,l){const g=da(a,o),A=ir(l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const ie=v_(o,ac(o,A,null,H,g,a,null,o[aa].rendererFactory.createRenderer(g,l),null,null,null));o[a.index]=ie}(a,l,o.data[A+l.componentOffset]),o.firstCreatePass||ku(l,a),_a(g,a);const H=l.initialInputs;for(let ie=A;ie<B;ie++){const _e=o.data[ie],Be=nd(a,o,ie,l);_a(Be,a),null!==H&&wS(0,ie-A,Be,_e,0,H),$a(_e)&&(ua(l.index,a)[to]=nd(a,o,ie,l))}}(o,a,l,da(l,a)),!(64&~l.flags)&&uu(o,a,l))}function nh(o,a,l=da){const g=a.localNames;if(null!==g){let A=a.index+1;for(let B=0;B<g.length;B+=2){const H=g[B+1],ie=-1===H?l(a,o):o[H];o[A++]=ie}}}function ir(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Nc(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Nc(o,a,l,g,A,B,H,ie,_e,Be,Ze){const Ot=zi+g,nt=Ot+A,Ut=function ES(o,a){const l=[];for(let g=0;g<a;g++)l.push(g<o?null:Rs);return l}(Ot,nt),ln="function"==typeof Be?Be():Be;return Ut[ii]={type:o,blueprint:Ut,template:l,queries:null,viewQuery:ie,declTNode:a,data:Ut.slice().fill(null,Ot),bindingStartIndex:Ot,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof B?B():B,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:_e,consts:ln,incompleteFirstPass:!1,ssrId:Ze}}let X1=()=>null;function bS(o){ma(o)?U0(o):function kO(o){const a=qd(),l=a.createNodeIterator(o,NodeFilter.SHOW_COMMENT,{acceptNode(B){const H=function jO(o){return o.textContent?.replace(/\s/gm,"")}(B);return"ngetn"===H||"ngtns"===H?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const A=[];for(;g=l.nextNode();)A.push(g);for(const B of A)"ngetn"===B.textContent?B.replaceWith(a.createTextNode("")):B.remove()}(o)}function Y1(o,a,l,g,A){for(let B in a){if(!a.hasOwnProperty(B))continue;const H=a[B];if(void 0===H)continue;g??={};let ie,_e=sr.None;Array.isArray(H)?(ie=H[0],_e=H[1]):ie=H;let Be=B;if(null!==A){if(!A.hasOwnProperty(B))continue;Be=A[B]}0===o?em(g,l,Be,ie,_e):em(g,l,Be,ie)}return g}function em(o,a,l,g,A){let B;o.hasOwnProperty(l)?(B=o[l]).push(a,g):B=o[l]=[a,g],void 0!==A&&B.push(A)}function Ja(o,a,l,g,A,B,H,ie){const _e=da(a,l);let Ze,Be=a.inputs;!ie&&null!=Be&&(Ze=Be[g])?(Gr(o,l,Ze,g,A),sl(a)&&function OS(o,a){const l=ua(a,o);16&l[Ui]||(l[Ui]|=64)}(l,a.index)):3&a.type&&(g=function MS(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(g),A=null!=H?H(A,a.value||"",g):A,B.setProperty(_e,g,A))}function j0(o,a,l,g){if($v()){const A=null===g?null:{"":-1},B=function ih(o,a){const l=o.directiveRegistry;let g=null,A=null;if(l)for(let B=0;B<l.length;B++){const H=l[B];if(Xt(a,H.selectors,!1))if(g||(g=[]),$a(H))if(null!==H.findHostDirectiveDefs){const ie=[];A=A||new Map,H.findHostDirectiveDefs(H,ie,A),g.unshift(...ie,H),vd(o,a,ie.length)}else g.unshift(H),vd(o,a,0);else A=A||new Map,H.findHostDirectiveDefs?.(H,g,A),g.push(H)}return null===g?null:[g,A]}(o,l);let H,ie;null===B?H=ie=null:[H,ie]=B,null!==H&&J1(o,a,l,H,A,ie),A&&function sh(o,a,l){if(a){const g=o.localNames=[];for(let A=0;A<a.length;A+=2){const B=l[a[A+1]];if(null==B)throw new Ge(-301,!1);g.push(a[A],B)}}}(l,g,A)}l.mergedAttrs=he(l.mergedAttrs,l.attrs)}function J1(o,a,l,g,A,B){for(let Be=0;Be<g.length;Be++)If(ku(l,a),o,g[Be].type);!function RS(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,g.length);for(let Be=0;Be<g.length;Be++){const Ze=g[Be];Ze.providersResolver&&Ze.providersResolver(Ze)}let H=!1,ie=!1,_e=Lr(o,a,g.length,null);for(let Be=0;Be<g.length;Be++){const Ze=g[Be];l.mergedAttrs=he(l.mergedAttrs,Ze.hostAttrs),AS(o,l,a,_e,Ze),PS(_e,Ze,A),null!==Ze.contentQueries&&(l.flags|=4),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(l.flags|=64);const Ot=Ze.type.prototype;!H&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),H=!0),!ie&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),ie=!0),_e++}!function du(o,a,l){const A=a.directiveEnd,B=o.data,H=a.attrs,ie=[];let _e=null,Be=null;for(let Ze=a.directiveStart;Ze<A;Ze++){const Ot=B[Ze],nt=l?l.get(Ot):null,ln=nt?nt.outputs:null;_e=Y1(0,Ot.inputs,Ze,_e,nt?nt.inputs:null),Be=Y1(1,Ot.outputs,Ze,Be,ln);const Fn=null===_e||null===H||Bn(a)?null:LS(_e,Ze,H);ie.push(Fn)}null!==_e&&(_e.hasOwnProperty("class")&&(a.flags|=8),_e.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=ie,a.inputs=_e,a.outputs=Be}(o,l,B)}function uu(o,a,l){const g=l.directiveStart,A=l.directiveEnd,B=l.index,H=function u1(){return ys.lFrame.currentDirectiveIndex}();try{Zl(B);for(let ie=g;ie<A;ie++){const _e=o.data[ie],Be=a[ie];gf(ie),(null!==_e.hostBindings||0!==_e.hostVars||null!==_e.hostAttrs)&&pl(_e,Be)}}finally{Zl(-1),gf(H)}}function pl(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function vd(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function PS(o,a,l){if(l){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)l[a.exportAs[g]]=o;$a(a)&&(l[""]=o)}}function AS(o,a,l,g,A){o.data[g]=A;const B=A.factory||(A.factory=pt(A.type)),H=new $d(B,$a(A),th);o.blueprint[g]=H,l[g]=H,function tm(o,a,l,g,A){const B=A.hostBindings;if(B){let H=o.hostBindingOpCodes;null===H&&(H=o.hostBindingOpCodes=[]);const ie=~a.index;(function IS(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(H)!=ie&&H.push(ie),H.push(l,g,B)}}(o,a,g,Lr(o,l,A.hostVars,Rs),A)}function k0(o,a,l,g,A,B,H){if(null==B)o.removeAttribute(a,A,l);else{const ie=null==H?_n(B):H(B,g||"",A);o.setAttribute(a,A,ie,l)}}function wS(o,a,l,g,A,B){const H=B[a];if(null!==H)for(let ie=0;ie<H.length;)Fi(g,l,H[ie++],H[ie++],H[ie++],H[ie++])}function LS(o,a,l){let g=null,A=0;for(;A<l.length;){const B=l[A];if(0!==B)if(5!==B){if("number"==typeof B)break;if(o.hasOwnProperty(B)){null===g&&(g=[]);const H=o[B];for(let ie=0;ie<H.length;ie+=3)if(H[ie]===a){g.push(B,H[ie+1],H[ie+2],l[A+1]);break}}A+=2}else A+=2;else A+=4}return g}function Q1(o,a,l,g){return[o,!0,0,a,null,g,null,l,null,null]}function Z1(o,a){const l=o.contentQueries;if(null!==l){const g=m(null);try{for(let A=0;A<l.length;A+=2){const H=l[A+1];if(-1!==H){const ie=o.data[H];Vh(l[A]),ie.contentQueries(2,a[H],H)}}}finally{m(g)}}}function v_(o,a){return o[il]?o[Ec][tr]=a:o[il]=a,o[Ec]=a,a}function nm(o,a,l){Vh(0);const g=m(null);try{a(o,l)}finally{m(g)}}function q1(o){return o[yo]??=[]}function eC(o){return o.cleanup??=[]}function oh(o,a){const l=o[xo],g=l?l.get(qn,null):null;g&&g.handleError(a)}function Gr(o,a,l,g,A){for(let B=0;B<l.length;){const H=l[B++],ie=l[B++],_e=l[B++];Fi(o.data[H],a[H],g,ie,_e,A)}}function yd(o,a,l){const g=Fd(a,o);k1(o[ls],g,l)}function NS(o,a){const l=ua(a,o),g=l[ii];!function FS(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(g,l);const A=l[bs];null!==A&&null===l[po]&&(l[po]=qg(A,l[xo])),V0(g,l,l[to])}function V0(o,a,l){_f(a);try{const g=o.viewQuery;null!==g&&nm(1,g,l);const A=o.template;null!==A&&Go(o,a,A,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),a[Pa]?.finishViewCreation(o),o.staticContentQueries&&Z1(o,a),o.staticViewQueries&&nm(2,o.viewQuery,l);const B=o.components;null!==B&&function BS(o,a){for(let l=0;l<a.length;l++)NS(o,a[l])}(a,B)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{a[Ui]&=-5,Mg()}}function Bc(o,a,l,g){const A=m(null);try{const B=a.tView,_e=ac(o,B,l,4096&o[Ui]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);_e[Nl]=o[a.index];const Ze=o[Pa];return null!==Ze&&(_e[Pa]=Ze.createEmbeddedView(B)),V0(B,_e,l),_e}finally{m(A)}}function nC(o,a){const l=ar+a;if(l<o.length)return o[l]}function Uc(o,a){return!a||null===a.firstChild||Tl(o)}function Ep(o,a,l,g=!0){const A=a[ii];if(function $1(o,a,l,g){const A=ar+g,B=l.length;g>0&&(l[A-1][tr]=a),g<B-ar?(a[tr]=l[A],hi(l,ar+g,a)):(l.push(a),a[tr]=null),a[zs]=l;const H=a[Nl];null!==H&&l!==H&&W1(H,a);const ie=a[Pa];null!==ie&&ie.insertView(o),pf(a),a[Ui]|=128}(A,a,o,l),g){const H=B0(l,o),ie=a[ls],_e=w0(ie,o[Yr]);null!==_e&&function V1(o,a,l,g,A,B){g[bs]=A,g[qs]=a,m_(o,g,l,1,A,B)}(A,o[qs],ie,a,_e,H)}const B=a[po];null!==B&&null!==B.firstChild&&(B.firstChild=null)}function $0(o,a){const l=mp(o,a);return void 0!==l&&gp(l[ii],l),l}function im(o,a,l,g,A=!1){for(;null!==l;){if(128===l.type){l=A?l.projectionNext:l.next;continue}const B=a[l.index];null!==B&&g.push(no(B)),Jr(B)&&iC(B,g);const H=l.type;if(8&H)im(o,a,l.child,g);else if(32&H){const ie=Qf(l,a);let _e;for(;_e=ie();)g.push(_e)}else if(16&H){const ie=vp(a,l);if(Array.isArray(ie))g.push(...ie);else{const _e=kl(a[wo]);im(_e[ii],_e,ie,g,!0)}}l=A?l.projectionNext:l.next}return g}function iC(o,a){for(let l=ar;l<o.length;l++){const g=o[l],A=g[ii].firstChild;null!==A&&im(g[ii],g,A,a)}o[Yr]!==o[bs]&&a.push(o[Yr])}let sC=[];const rh={...v,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Fh(o.lView)},consumerOnSignalRead(){this.lView[la]=this}},Cp={...v,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let a=kl(o.lView);for(;a&&!W0(a[ii]);)a=kl(a);a&&hf(a)},consumerOnSignalRead(){this.lView[la]=this}};function W0(o){return 2!==o.type}const oC=100;function C_(o,a=!0,l=0){const g=o[aa],A=g.rendererFactory;A.begin?.();try{!function jS(o,a){const l=Li();try{mf(!0),D_(o,a);let g=0;for(;Au(o);){if(g===oC)throw new Ge(103,!1);g++,D_(o,1)}}finally{mf(l)}}(o,l)}catch(H){throw a&&oh(o,H),H}finally{A.end?.(),g.inlineEffectRunner?.flush()}}function bp(o,a,l,g){const A=a[Ui];if(!(256&~A))return;a[aa].inlineEffectRunner?.flush(),_f(a);let ie=!0,_e=null,Be=null;W0(o)?(Be=function sm(o){return o[la]??function US(o){const a=sC.pop()??Object.create(rh);return a.lView=o,a}(o)}(a),_e=S(Be)):null===p()?(ie=!1,Be=function E_(o){const a=o[la]??Object.create(Cp);return a.lView=o,a}(a),_e=S(Be)):a[la]&&(M(a[la]),a[la]=null);try{Ii(a),function jd(o){return ys.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Go(o,a,l,2,g);const Ze=!(3&~A);if(Ze){const Ut=o.preOrderCheckHooks;null!==Ut&&Ef(a,Ut,null)}else{const Ut=o.preOrderHooks;null!==Ut&&Fu(a,Ut,0,null),Hi(a,0)}if(function wa(o){for(let a=ip(o);null!==a;a=Nf(a)){if(!(a[Ui]&Bl.HasTransplantedViews))continue;const l=a[Fl];for(let g=0;g<l.length;g++)hf(l[g])}}(a),rC(a,0),null!==o.contentQueries&&Z1(o,a),Ze){const Ut=o.contentCheckHooks;null!==Ut&&Ef(a,Ut)}else{const Ut=o.contentHooks;null!==Ut&&Fu(a,Ut,1),Hi(a,1)}!function Kn(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let g=0;g<l.length;g++){const A=l[g];if(A<0)Zl(~A);else{const B=A,H=l[++g],ie=l[++g];bg(H,B),ie(2,a[B])}}}finally{Zl(-1)}}(o,a);const Ot=o.components;null!==Ot&&lc(a,Ot,0);const nt=o.viewQuery;if(null!==nt&&nm(2,nt,g),Ze){const Ut=o.viewCheckHooks;null!==Ut&&Ef(a,Ut)}else{const Ut=o.viewHooks;null!==Ut&&Fu(a,Ut,2),Hi(a,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ad]){for(const Ut of a[Ad])Ut();a[Ad]=null}a[Ui]&=-73}catch(Ze){throw Fh(a),Ze}finally{null!==Be&&(T(Be,_e),ie&&function y_(o){o.lView[la]!==o&&(o.lView=null,sC.push(o))}(Be)),Mg()}}function rC(o,a){for(let l=ip(o);null!==l;l=Nf(l))for(let g=ar;g<l.length;g++)G0(l[g],a)}function kS(o,a,l){G0(ua(a,o),l)}function G0(o,a){Ru(o)&&D_(o,a)}function D_(o,a){const g=o[ii],A=o[Ui],B=o[la];let H=!!(0===a&&16&A);if(H||=!!(64&A&&0===a),H||=!!(1024&A),H||=!(!B?.dirty||!w(B)),H||=!1,B&&(B.dirty=!1),o[Ui]&=-9217,H)bp(g,o,g.template,o[to]);else if(8192&A){rC(o,1);const ie=g.components;null!==ie&&lc(o,ie,1)}}function lc(o,a,l){for(let g=0;g<a.length;g++)kS(o,a[g],l)}function om(o,a){const l=Li()?64:1088;for(o[aa].changeDetectionScheduler?.notify(a);o;){o[Ui]|=l;const g=kl(o);if(wd(o)&&!g)return o;o=g}return null}class rm{get rootNodes(){const a=this._lView,l=a[ii];return im(l,a,l.firstChild,[])}constructor(a,l,g=!0){this._lView=a,this._cdRefInjectingView=l,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[to]}set context(a){this._lView[to]=a}get destroyed(){return!(256&~this._lView[Ui])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[zs];if(Jr(a)){const l=a[8],g=l?l.indexOf(this):-1;g>-1&&(mp(a,g),wi(l,g))}this._attachedToViewContainer=!1}gp(this._lView[ii],this._lView)}onDestroy(a){Bh(this._lView,a)}markForCheck(){om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ui]&=-129}reattach(){pf(this._lView),this._lView[Ui]|=128}detectChanges(){this._lView[Ui]|=1024,C_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const a=wd(this._lView),l=this._lView[Nl];null!==l&&!a&&xc(l,this._lView),fp(this._lView[ii],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=a;const l=wd(this._lView),g=this._lView[Nl];null!==g&&!l&&W1(g,this._lView),pf(this._lView)}}let am=(()=>{class o{static{this.__NG_ELEMENT_ID__=WS}}return o})();const VS=am,$S=class extends VS{constructor(a,l,g){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,g){const A=Bc(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:l,dehydratedView:g});return new rm(A)}};function WS(){return Xl(co(),Nn())}function Xl(o,a){return 4&o.type?new $S(a,o,Vs(o,a)):null}function lC(o,a,l){const g=a.insertBeforeIndex,A=Array.isArray(g)?g[0]:g;return null===A?N0(o,0,l):no(l[A])}function um(o,a,l,g,A){const B=a.insertBeforeIndex;if(Array.isArray(B)){let H=g,ie=null;if(3&a.type||(ie=H,H=A),null!==H&&-1===a.componentOffset)for(let _e=1;_e<B.length;_e++)cu(o,H,l[B[_e]],ie,!1)}}function cC(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const g=o[l];hm(g)||pu(g,a)&&null===X2(g)&&Sl(g,a.index)}}function hm(o){return!(64&o.type)}function pu(o,a){return hm(a)||o.index>a.index}function X2(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Sl(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(F0(lC,um),o.insertBeforeIndex=a)}function Qo(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function hC(o,a,l){const g=ws(o,l,64,null,null);return cC(a,g),g}function M_(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function pC(o){return o>>>17}function fC(o){return(131070&o)>>>1}function J0(o,a,l){o.index=0;const g=M_(a,l);o.removes=null!==g?a.remove[g]:ss}function O_(o){if(o.index<o.removes.length){const a=o.removes[o.index++];return a>0?o.lView[a]:(o.stack.push(o.index,o.removes),J0(o,o.lView[ii].data[~a],o.lView),O_(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),O_(o))}function cc(){const o={stack:[],index:-1};return function a(l,g){for(o.lView=g;o.stack.length;)o.stack.pop();return J0(o,l.value,g),O_.bind(null,o)}}const vC=new RegExp(`^(\\d+)*(${r0}|${Yg})*(.*)`);function Q0(o){return o.index-zi}function mm(o,a,l,g){const A=Q0(g);let B=function EC(o,a){const l=o.i18nNodes;if(l)return l.get(a)}(o,A);if(void 0===B){const H=o.data[Zg];if(H?.[A])B=function q0(o,a){const[l,...g]=function QS(o){const a=o.match(vC),[l,g,A,B]=a,H=g?parseInt(g,10):A,ie=[];for(const[_e,Be,Ze]of B.matchAll(/(f|n)(\d*)/g)){const Ot=parseInt(Ze,10)||1;ie.push(Be,Ot)}return[H,...ie]}(o);let A;A=l===Yg?a[wo][bs]:l===r0?function M0(o){return o.ownerDocument.body}(a[wo][bs]):no(a[Number(l)+zi]);return function CC(o,a){let l=o;for(let g=0;g<a.length;g+=2){const A=a[g],B=a[g+1];for(let H=0;H<B;H++)switch(A){case rp.FirstChild:l=l.firstChild;break;case rp.NextSibling:l=l.nextSibling}}return l}(A,g)}(H[A],l);else if(a.firstChild===g)B=o.firstChild;else{const ie=null===g.prev,_e=g.prev??g.parent;if(function ZS(o){return!o.prev&&8===o.parent?.type}(g))B=Yu(o,Q0(g.parent));else{let Be=da(_e,l);if(ie)B=Be.firstChild;else{const Ze=Q0(_e),Ot=Yu(o,Ze);B=2===_e.type&&Ot?S_(u0(o,Ze)+1,Ot):Be.nextSibling}}}}return B}function S_(o,a){let l=a;for(let g=0;g<o;g++)l=l.nextSibling;return l}let DC=!1,TC=()=>{};let sy=()=>{};function uI(o,a,l){for(const g of l.node.cases[l.case]){const A=a.get(g.index-zi);A&&Lc(o,A,!1)}}function SC(o){const a=o[Eo]??[],g=o[zs][ls];for(const A of a)hI(A,g);o[Eo]=ss}function hI(o,a){let l=0,g=o.firstChild;if(g){const A=o.data[eu];for(;l<A;){const B=g.nextSibling;Lc(a,g,!1),g=B,l++}}}function IC(o){SC(o);const a=o[bs];nr(a)&&P_(a);for(let l=ar;l<o.length;l++)P_(o[l])}function P_(o){!function dI(o){const a=o[po];if(a){const{i18nNodes:l,dehydratedIcuData:g}=a;if(l&&g){const A=o[ls];for(const B of g.values())uI(A,l,B)}a.i18nNodes=void 0,a.dehydratedIcuData=void 0}}(o);const a=o[ii];for(let l=zi;l<a.bindingStartIndex;l++)Jr(o[l])?IC(o[l]):nr(o[l])&&P_(o[l])}let PC=()=>null;function R_(o,a){const l=o[Eo];return a&&null!==l&&0!==l.length?l[0].data[a0]===a?l.shift():(SC(o),null):null}function mu(o,a){return PC(o,a)}class ch{}const Mp=new Pt("",{providedIn:"root",factory:()=>!1}),AC=new Pt(""),oy=new Pt("");class fI{}class xC{}class gI{resolveComponentFactory(a){throw function mI(o){const a=Error(`No component factory found for ${on(o)}.`);return a.ngComponent=o,a}(a)}}class vm{static{this.NULL=new gI}}class ry{}let _I=(()=>{class o{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ym(){const o=Nn(),l=ua(co().index,o);return(nr(l)?l:o)[ls]}()}}return o})(),vI=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>null})}}return o})();function uc(o){return!!jo(o)}function A_(o,a,l){let g=l?o.styles:null,A=l?o.classes:null,B=0;if(null!==a)for(let H=0;H<a.length;H++){const ie=a[H];"number"==typeof ie?B=ie:1==B?A=Yt(A,ie):2==B&&(g=Yt(g,ie+": "+a[++H]+";"))}l?o.styles=g:o.stylesWithoutHost=g,l?o.classes=A:o.classesWithoutHost=A}class NC extends vm{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=vs(a);return new bm(l,this.ngModule)}}function FC(o,a){const l=[];for(const g in o){if(!o.hasOwnProperty(g))continue;const A=o[g];if(void 0===A)continue;const B=Array.isArray(A),H=B?A[0]:A;l.push(a?{propName:H,templateName:g,isSignal:!!((B?A[1]:sr.None)&sr.SignalBased)}:{propName:H,templateName:g})}return l}class bm extends xC{get inputs(){const a=this.componentDef,l=a.inputTransforms,g=FC(a.inputs,!0);if(null!==l)for(const A of g)l.hasOwnProperty(A.propName)&&(A.transform=l[A.propName]);return g}get outputs(){return FC(this.componentDef.outputs,!1)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function Pd(o){return o.map(vl).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,g,A){const B=m(null);try{let H=(A=A||this.ngModule)instanceof Hn?A:A?.injector;H&&null!==this.componentDef.getStandaloneInjector&&(H=this.componentDef.getStandaloneInjector(H)||H);const ie=H?new td(a,H):a,_e=ie.get(ry,null);if(null===_e)throw new Ge(407,!1);const Ot={rendererFactory:_e,sanitizer:ie.get(vI,null),inlineEffectRunner:null,changeDetectionScheduler:ie.get(ch,null)},nt=_e.createRenderer(null,this.componentDef),Ut=this.componentDef.selectors[0][0]||"div",ln=g?function z1(o,a,l,g){const B=g.get(P1,!1)||l===xr.ShadowDom,H=o.selectRootElement(a,B);return function CS(o){X1(o)}(H),H}(nt,g,this.componentDef.encapsulation,ie):d_(nt,Ut,function CI(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Ut));let Fn=512;this.componentDef.signals?Fn|=4096:this.componentDef.onPush||(Fn|=16);let ti=null;null!==ln&&(ti=qg(ln,ie,!0));const li=Nc(0,null,null,1,0,null,null,null,null,null,null),Un=ac(null,li,null,Fn,null,null,Ot,nt,ie,null,ti);_f(Un);let Ni,Ts,Po=null;try{const cr=this.componentDef;let Ea,af=null;cr.findHostDirectiveDefs?(Ea=[],af=new Map,cr.findHostDirectiveDefs(cr,Ea,af),Ea.push(cr)):Ea=[cr];const r1=function bI(o,a){const l=o[ii],g=zi;return o[g]=a,$n(l,g,2,"#host",null)}(Un,ln);Po=function DI(o,a,l,g,A,B,H){const ie=A[ii];!function x_(o,a,l,g){for(const A of o)a.mergedAttrs=he(a.mergedAttrs,A.hostAttrs);null!==a.mergedAttrs&&(A_(a,a.mergedAttrs,!0),null!==l&&H1(g,l,a))}(g,o,a,H);let _e=null;null!==a&&(_e=qg(a,A[xo]));const Be=B.rendererFactory.createRenderer(a,l);let Ze=16;l.signals?Ze=4096:l.onPush&&(Ze=64);const Ot=ac(A,ir(l),null,Ze,A[o.index],o,B,Be,null,null,_e);return ie.firstCreatePass&&vd(ie,o,g.length-1),v_(A,Ot),A[o.index]=Ot}(r1,ln,cr,Ea,Un,Ot,nt),Ts=Tc(li,zi),ln&&function TI(o,a,l,g){if(g)Xr(o,l,["ng-version","18.2.13"]);else{const{attrs:A,classes:B}=function Rl(o){const a=[],l=[];let g=1,A=2;for(;g<o.length;){let B=o[g];if("string"==typeof B)2===A?""!==B&&a.push(B,o[++g]):8===A&&l.push(B);else{if(!Oe(A))break;A=B}g++}return{attrs:a,classes:l}}(a.selectors[0]);A&&Xr(o,l,A),B&&B.length>0&&_d(o,l,B.join(" "))}}(nt,cr,ln,g),void 0!==l&&function Ed(o,a,l){const g=o.projection=[];for(let A=0;A<a.length;A++){const B=l[A];g.push(null!=B?Array.from(B):null)}}(Ts,this.ngContentSelectors,l),Ni=function Sp(o,a,l,g,A,B){const H=co(),ie=A[ii],_e=da(H,A);J1(ie,A,H,l,null,g);for(let Ze=0;Ze<l.length;Ze++)_a(nd(A,ie,H.directiveStart+Ze,H),A);uu(ie,A,H),_e&&_a(_e,A);const Be=nd(A,ie,H.directiveStart+H.componentOffset,H);if(o[to]=A[to]=Be,null!==B)for(const Ze of B)Ze(Be,a);return Nr(ie,H,A),Be}(Po,cr,Ea,af,Un,[MI]),V0(li,Un,null)}catch(cr){throw null!==Po&&tc(Po),tc(Un),cr}finally{Mg()}return new Dm(this.componentType,Ni,Vs(Ts,Un),Un,Ts)}finally{m(B)}}}class Dm extends fI{constructor(a,l,g,A,B){super(),this.location=g,this._rootLView=A,this._tNode=B,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new rm(A,void 0,!1),this.componentType=a}setInput(a,l){const g=this._tNode.inputs;let A;if(null!==g&&(A=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const B=this._rootLView;Gr(B[ii],B,A,a,l),this.previousInputValues.set(a,l),om(ua(this._tNode.index,B),1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function MI(){const o=co();Nu(Nn()[ii],o)}let dh=(()=>{class o{static{this.__NG_ELEMENT_ID__=OI}}return o})();function OI(){return Qa(co(),Nn())}const w_=dh,BC=class extends w_{constructor(a,l,g){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=g}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qh(this._hostTNode,this._hostLView);if(Tf(a)){const l=Uu(a,this._hostLView),g=ql(a);return new $r(l[ii].data[g+8],l)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Tm(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(a,l,g){let A,B;"number"==typeof g?A=g:null!=g&&(A=g.index,B=g.injector);const H=mu(this._lContainer,a.ssrId),ie=a.createEmbeddedViewImpl(l||{},B,H);return this.insertImpl(ie,A,Uc(this._hostTNode,H)),ie}createComponent(a,l,g,A,B){const H=a&&!function Pn(o){return"function"==typeof o}(a);let ie;if(H)ie=l;else{const ln=l||{};ie=ln.index,g=ln.injector,A=ln.projectableNodes,B=ln.environmentInjector||ln.ngModuleRef}const _e=H?a:new bm(vs(a)),Be=g||this.parentInjector;if(!B&&null==_e.ngModule){const Fn=(H?Be:this.parentInjector).get(Hn,null);Fn&&(B=Fn)}const Ze=vs(_e.componentType??{}),Ot=mu(this._lContainer,Ze?.id??null),Ut=_e.create(Be,A,Ot?.firstChild??null,B);return this.insertImpl(Ut.hostView,ie,Uc(this._hostTNode,Ot)),Ut}insert(a,l){return this.insertImpl(a,l,!0)}insertImpl(a,l,g){const A=a._lView;if(function mg(o){return Jr(o[zs])}(A)){const ie=this.indexOf(a);if(-1!==ie)this.detach(ie);else{const _e=A[zs],Be=new BC(_e,_e[qs],_e[zs]);Be.detach(Be.indexOf(a))}}const B=this._adjustIndex(l),H=this._lContainer;return Ep(H,A,B,g),a.attachToViewContainerRef(),hi(dy(H),B,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Tm(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),g=mp(this._lContainer,l);g&&(wi(dy(this._lContainer),l),gp(g[ii],g))}detach(a){const l=this._adjustIndex(a,-1),g=mp(this._lContainer,l);return g&&null!=wi(dy(this._lContainer),l)?new rm(g):null}_adjustIndex(a,l=0){return a??this.length+l}};function Tm(o){return o[8]}function dy(o){return o[8]||(o[8]=[])}function Qa(o,a){let l;const g=a[o.index];return Jr(g)?l=g:(l=Q1(g,a,null,o),a[o.index]=l,v_(a,l)),L_(l,a,o,g),new BC(l,o,a)}let L_=jC,uy=()=>!1;function UC(o,a,l){return uy(o,a,l)}function jC(o,a,l,g){if(o[Yr])return;let A;A=8&l.type?no(g):function SI(o,a){const l=o[ls],g=l.createComment(""),A=da(a,o);return cu(l,w0(l,A),g,function gS(o,a){return o.nextSibling(a)}(l,A),!1),g}(a,l),o[Yr]=A}function II(o,a,l){if(o[Yr]&&o[Eo])return!0;const g=l[po],A=a.index-zi;if(!g||function Ml(o){if(Tl(o))return!0;let a=o.parent;for(;a;){if(Tl(o)||dl(a))return!0;a=a.parent}return!1}(a)||cd(g,A))return!1;const H=Yu(g,A),ie=g.data[kf]?.[A],[_e,Be]=function pI(o,a){const l=[];for(const g of a)for(let A=0;A<(g[Qg]??1);A++){const B={data:g,firstChild:null};g[eu]>0&&(B.firstChild=o,o=S_(g[eu],o)),l.push(B)}return[o,l]}(H,ie);return o[Yr]=_e,o[Eo]=Be,!0}function PI(o,a,l,g){uy(o,l,a)||jC(o,a,l,g)}class hy{constructor(a){this.queryList=a,this.matches=null}clone(){return new hy(this.queryList)}setDirty(){this.queryList.setDirty()}}class py{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const g=null!==a.contentQueries?a.contentQueries[0]:l.length,A=[];for(let B=0;B<g;B++){const H=l.getByIndex(B);A.push(this.queries[H.indexInDeclarationView].clone())}return new py(A)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==vy(a,l).matches&&this.queries[l].setDirty()}}class kC{constructor(a,l,g=null){this.flags=l,this.read=g,this.predicate="string"==typeof a?function Mm(o){return o.split(",").map(a=>a.trim())}(a):a}}class fy{constructor(a=[]){this.queries=a}elementStart(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let g=0;g<this.length;g++){const A=null!==l?l.length:0,B=this.getByIndex(g).embeddedTView(a,A);B&&(B.indexInDeclarationView=g,null!==l?l.push(B):l=[B])}return null!==l?new fy(l):null}template(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class my{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new my(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let A=0;A<g.length;A++){const B=g[A];this.matchTNodeWithReadOption(a,l,AI(l,B)),this.matchTNodeWithReadOption(a,l,Lg(l,a,B,!1,!1))}else g===am?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Lg(l,a,g,!1,!1))}matchTNodeWithReadOption(a,l,g){if(null!==g){const A=this.metadata.read;if(null!==A)if(A===Ys||A===dh||A===am&&4&l.type)this.addMatch(l.index,-2);else{const B=Lg(l,a,A,!1,!1);null!==B&&this.addMatch(l.index,B)}else this.addMatch(l.index,g)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function AI(o,a){const l=o.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===a)return l[g+1];return null}function Ip(o,a,l,g){return-1===l?function xI(o,a){return 11&o.type?Vs(o,a):4&o.type?Xl(o,a):null}(a,o):-2===l?function wI(o,a,l){return l===Ys?Vs(a,o):l===am?Xl(a,o):l===dh?Qa(a,o):void 0}(o,a,g):nd(o,o[ii],l,a)}function VC(o,a,l,g){const A=a[Pa].queries[g];if(null===A.matches){const B=o.data,H=l.matches,ie=[];for(let _e=0;null!==H&&_e<H.length;_e+=2){const Be=H[_e];ie.push(Be<0?null:Ip(a,B[Be],H[_e+1],l.metadata.read))}A.matches=ie}return A.matches}function gy(o,a,l,g){const A=o.queries.getByIndex(l),B=A.matches;if(null!==B){const H=VC(o,a,A,l);for(let ie=0;ie<B.length;ie+=2){const _e=B[ie];if(_e>0)g.push(H[ie/2]);else{const Be=B[ie+1],Ze=a[-_e];for(let Ot=ar;Ot<Ze.length;Ot++){const nt=Ze[Ot];nt[Nl]===nt[zs]&&gy(nt[ii],nt,Be,g)}if(null!==Ze[Fl]){const Ot=Ze[Fl];for(let nt=0;nt<Ot.length;nt++){const Ut=Ot[nt];gy(Ut[ii],Ut,Be,g)}}}}}return g}function uh(o,a,l){const g=new yr(!(4&~l));return function TS(o,a,l,g){const A=q1(a);A.push(l),o.firstCreatePass&&eC(o).push(g,A.length-1)}(o,a,g,g.destroy),(a[Pa]??=new py).queries.push(new hy(g))-1}function $C(o,a,l){null===o.queries&&(o.queries=new fy),o.queries.track(new my(a,l))}function vy(o,a){return o.queries.getByIndex(a)}function Cd(o,a){const l=o[ii],g=vy(l,a);return g.crossesNgTemplate?gy(l,o,a,[]):VC(l,o,g,a)}const WC=new Set;function La(o){WC.has(o)||(WC.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function yy(o){return"function"==typeof o&&void 0!==o[f]}function GC(o,a){La("NgSignals");const l=function oe(o){const a=Object.create(re);a.value=o;const l=()=>(O(a),a.value);return l[f]=a,l}(o),g=l[f];return a?.equal&&(g.equal=a.equal),l.set=A=>se(g,A),l.update=A=>function be(o,a){R()||ee(),se(o,a(o.value))}(g,A),l.asReadonly=KC.bind(l),l}function KC(){const o=this[f];if(void 0===o.readonlyFn){const a=()=>this();a[f]=o,o.readonlyFn=a}return o.readonlyFn}function HC(o){return yy(o)&&"function"==typeof o.set}function Dy(o){let a=function ZC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const g=[o];for(;a;){let A;if($a(o))A=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ge(903,!1);A=a.\u0275dir}if(A){if(l){g.push(A);const H=o;H.inputs=B_(o.inputs),H.inputTransforms=B_(o.inputTransforms),H.declaredInputs=B_(o.declaredInputs),H.outputs=B_(o.outputs);const ie=A.hostBindings;ie&&zI(o,ie);const _e=A.viewQuery,Be=A.contentQueries;if(_e&&Im(o,_e),Be&&HI(o,Be),GI(o,A),Zt(o.outputs,A.outputs),$a(A)&&A.data.animation){const Ze=o.data;Ze.animation=(Ze.animation||[]).concat(A.data.animation)}}const B=A.features;if(B)for(let H=0;H<B.length;H++){const ie=B[H];ie&&ie.ngInherit&&ie(o),ie===Dy&&(l=!1)}}a=Object.getPrototypeOf(a)}!function KI(o){let a=0,l=null;for(let g=o.length-1;g>=0;g--){const A=o[g];A.hostVars=a+=A.hostVars,A.hostAttrs=he(A.hostAttrs,l=he(l,A.hostAttrs))}}(g)}function GI(o,a){for(const l in a.inputs){if(!a.inputs.hasOwnProperty(l)||o.inputs.hasOwnProperty(l))continue;const g=a.inputs[l];if(void 0!==g&&(o.inputs[l]=g,o.declaredInputs[l]=a.declaredInputs[l],null!==a.inputTransforms)){const A=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(A))continue;o.inputTransforms??={},o.inputTransforms[A]=a.inputTransforms[A]}}}function B_(o){return o===Mo?{}:o===ss?[]:o}function Im(o,a){const l=o.viewQuery;o.viewQuery=l?(g,A)=>{a(g,A),l(g,A)}:a}function HI(o,a){const l=o.contentQueries;o.contentQueries=l?(g,A,B)=>{a(g,A,B),l(g,A,B)}:a}function zI(o,a){const l=o.hostBindings;o.hostBindings=l?(g,A)=>{a(g,A),l(g,A)}:a}function ob(o){const a=o.inputConfig,l={};for(const g in a)if(a.hasOwnProperty(g)){const A=a[g];Array.isArray(A)&&A[3]&&(l[g]=A[3])}o.inputTransforms=l}class kc{}class My{}function rb(o,a){return new Oy(o,a??null,[])}class Oy extends kc{constructor(a,l,g,A=!0){super(),this.ngModuleType=a,this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NC(this);const B=jo(a);this._bootstrapComponents=Ya(B.bootstrap),this._r3Injector=Fg(a,l,[{provide:kc,useValue:this},{provide:vm,useValue:this.componentFactoryResolver},...g],on(a),new Set(["environment"])),A&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Sy extends My{constructor(a){super(),this.moduleType=a}create(a){return new Oy(this.moduleType,a,[])}}class ab extends kc{constructor(a){super(),this.componentFactoryResolver=new NC(this),this.instance=null;const l=new di([...a.providers,{provide:kc,useValue:this},{provide:vm,useValue:this.componentFactoryResolver}],a.parent||In(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function ph(o,a,l=null){return new ab({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let QI=(()=>{class o{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(l,g,A,B){if(!this.cachedInjectors.has(l)){const H=A.length>0?ph(A,g,B):null;this.cachedInjectors.set(l,H)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=si({token:o,providedIn:"environment",factory:()=>new o})}}return o})();function fh(o){return!!Iy(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Iy(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Vc(o,a,l){return o[a]=l}function Pm(o,a){return o[a]}function Fr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function mh(o,a,l,g){const A=Fr(o,a,l);return Fr(o,a+1,g)||A}function k_(o,a,l,g,A){const B=mh(o,a,l,g);return Fr(o,a+2,A)||B}function Na(o,a,l,g,A,B){const H=mh(o,a,l,g);return mh(o,a+2,A,B)||H}function xp(o){return!(32&~o.flags)}function _u(o,a,l,g,A,B,H,ie,_e,Be){const Ze=l+zi,Ot=a.firstCreatePass?function eP(o,a,l,g,A,B,H,ie,_e){const Be=a.consts,Ze=$n(a,o,4,H||null,ie||null);j0(a,l,Ze,lo(Be,_e)),Nu(a,Ze);const Ot=Ze.tView=Nc(2,Ze,g,A,B,a.directiveRegistry,a.pipeRegistry,null,a.schemas,Be,null);return null!==a.queries&&(a.queries.template(a,Ze),Ot.queries=a.queries.embeddedTView(Ze)),Ze}(Ze,a,o,g,A,B,H,ie,_e):a.data[Ze];ol(Ot,!1);const nt=Py(a,o,Ot,l);Gh()&&gd(a,o,nt,Ot),_a(nt,o);const Ut=Q1(nt,o,nt,Ot);return o[Ze]=Ut,v_(o,Ut),UC(Ut,Ot,o),xd(Ot)&&Fs(a,o,Ot),null!=_e&&nh(o,Ot,Be),Ot}function V_(o,a,l,g,A,B,H,ie){const _e=Nn(),Be=Ki();return _u(_e,Be,o,a,l,g,A,lo(Be.consts,B),H,ie),V_}let Py=cb;function cb(o,a,l,g){return rl(!0),a[ls].createComment("")}function tP(o,a,l,g){const A=a[po],B=!A||Bd()||xp(l)||cd(A,g);if(rl(B),B)return cb(0,a);const H=A.data[Wo]?.[g]??null;null!==H&&null!==l.tView&&null===l.tView.ssrId&&(l.tView.ssrId=H);const ie=mm(A,o,a,l);return t_(A,g,ie),S_(u0(A,g),ie)}var Br=function(o){return o[o.NOT_STARTED=0]="NOT_STARTED",o[o.IN_PROGRESS=1]="IN_PROGRESS",o[o.COMPLETE=2]="COMPLETE",o[o.FAILED=3]="FAILED",o}(Br||{});const db=0,iP=1;var Ur=function(o){return o[o.Placeholder=0]="Placeholder",o[o.Loading=1]="Loading",o[o.Complete=2]="Complete",o[o.Error=3]="Error",o}(Ur||{}),Rm=function(o){return o[o.Initial=-1]="Initial",o}(Rm||{});const $c=0,$_=1,Ry=4,ub=5;var hb=function(o){return o[o.Manual=0]="Manual",o[o.Playthrough=1]="Playthrough",o}(hb||{});function W_(o,a,l){const g=1===o?ub:Ry;null===a[g]&&(a[g]=[]),a[g].push(l)}function Ay(o,a){const l=1===o?ub:Ry,g=a[l];if(null!==g){for(const A of g)A();a[l]=null}}function pb(o){Ay(1,o),Ay(0,o)}function sP(o,a){if(null!==p())throw new Ge(-602,!1)}var Wc=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Wc||{});let fb=(()=>{class o{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();class xm{constructor(){this.ngZone=yi(Pi),this.scheduler=yi(ch),this.errorHandler=yi(qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Wc.EarlyRead,Wc.Write,Wc.MixedReadWrite,Wc.Read]}execute(){this.executing=!0;for(const a of xm.PHASES)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[a])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>l.hooks[a](l.pipelinedValue))}catch(g){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(g)}this.executing=!1;for(const a of this.sequences)a.afterRun(),a.once&&(this.sequences.delete(a),a.destroy());for(const a of this.deferredRegistrations)this.sequences.add(a);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(a){this.executing?this.deferredRegistrations.add(a):(this.sequences.add(a),this.scheduler.notify(6))}unregister(a){this.executing&&this.sequences.has(a)?(a.erroredOrDestroyed=!0,a.pipelinedValue=void 0,a.once=!0):(this.sequences.delete(a),this.deferredRegistrations.delete(a))}static{this.\u0275prov=si({token:xm,providedIn:"root",factory:()=>new xm})}}class G_{constructor(a,l,g,A){this.impl=a,this.hooks=l,this.once=g,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=A?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function _h(o,a){!a?.injector&&Ao();const l=a?.injector??yi(Sr);return Wr(l)?(La("NgAfterNextRender"),function wm(o,a,l,g){const A=a.get(fb);A.impl??=a.get(xm);const B=l?.phase??Wc.MixedReadWrite,H=!0!==l?.manualCleanup?a.get(Jd):null,ie=new G_(A.impl,function rP(o,a){if(o instanceof Function){const l=[void 0,void 0,void 0,void 0];return l[a]=o,l}return[o.earlyRead,o.write,o.mixedReadWrite,o.read]}(o,B),g,H);return A.impl.register(ie),ie}(o,l,a,!0)):mb}const mb={destroy(){}};function vh(o){return o+1}function yh(o,a){return o[vh(a.index)]}function Il(o,a){const l=vh(a.index);return o.data[l]}function xy(o,a){return a===Ur.Placeholder?o.placeholderBlockConfig?.[db]??null:a===Ur.Loading?o.loadingBlockConfig?.[db]??null:null}function _b(o,a){if(!o||0===o.length)return a;const l=new Set(o);for(const g of a)l.add(g);return o.length===l.size?o:Array.from(l)}function bb(o,a){const g=a[xo].get(pP);return g.add(o),()=>g.remove(o)}let pP=(()=>{class o{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=yi(Pi),this.requestIdleCallbackFn=(typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=(typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout).bind(globalThis)}add(l){(this.executingCallbacks?this.deferred:this.current).add(l),null===this.idleId&&this.scheduleIdleCallback()}remove(l){const{current:g,deferred:A}=this;g.delete(l),A.delete(l),0===g.size&&0===A.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const l=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const g of this.current)g();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const g of this.deferred)this.current.add(g);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(l))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();const mP=new Pt("");let By=null;function jy(o,a,l,g,A,B,H,ie,_e){const Be=Nn(),Ze=Ki(),Ot=o+zi,nt=_u(Be,Ze,o,null,0,0);if(Ze.firstCreatePass){La("NgDefer");const ti={primaryTmplIndex:a,loadingTmplIndex:g??null,placeholderTmplIndex:A??null,errorTmplIndex:B??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:l??null,loadingState:Br.NOT_STARTED,loadingPromise:null,providers:null};_e?.(Ze,ti,ie,H),function lP(o,a,l){const g=vh(a);o.data[g]=l}(Ze,Ot,ti)}UC(Be[Ot],nt,Be);const ln=[null,Rm.Initial,null,null,null,null];!function aP(o,a,l){o[vh(a)]=l}(Be,Ot,ln);const Fn=()=>pb(ln);W_(0,ln,()=>gg(Be,Fn)),Bh(Be,Fn)}function ky(){!function Pb(o){const a=Nn(),l=co();if(function kp(o,a){vu(Ur.Placeholder,a,o[a.index])}(a,l),Wr(a[xo])){const g=o(()=>function Vp(o,a){const l=o[ii],g=o[a.index];if(!function Bp(o){return o.get(mP,null,{optional:!0})?.behavior!==hb.Manual&&Wr(o)}(o[xo]))return;const B=yh(o,a),H=Il(l,a);switch(pb(B),H.loadingState){case Br.NOT_STARTED:vu(Ur.Loading,a,g),function $y(o,a,l){const g=a[xo],A=a[ii];if(o.loadingState!==Br.NOT_STARTED)return o.loadingPromise??Promise.resolve();const B=yh(a,l),H=function dP(o,a){return Tc(o,a.primaryTmplIndex+zi)}(A,o);o.loadingState=Br.IN_PROGRESS,Ay(1,B);let ie=o.dependencyResolverFn;const _e=g.get(ec),Be=_e.add();return ie?(o.loadingPromise=Promise.allSettled(ie()).then(Ze=>{let Ot=!1;const nt=[],Ut=[];for(const ln of Ze){if("fulfilled"!==ln.status){Ot=!0;break}{const Fn=ln.value,ti=vs(Fn)||or(Fn);if(ti)nt.push(ti);else{const li=So(Fn);li&&Ut.push(li)}}}if(o.loadingPromise=null,_e.remove(Be),Ot){if(o.loadingState=Br.FAILED,null===o.errorTmplIndex){const Fn=new Ge(750,!1);oh(a,Fn)}}else{o.loadingState=Br.COMPLETE;const ln=H.tView;if(nt.length>0){ln.directiveRegistry=_b(ln.directiveRegistry,nt);const ti=wl(!1,...nt.map(li=>li.type));o.providers=ti}Ut.length>0&&(ln.pipeRegistry=_b(ln.pipeRegistry,Ut))}}),o.loadingPromise):(o.loadingPromise=Promise.resolve().then(()=>{o.loadingPromise=null,o.loadingState=Br.COMPLETE,_e.remove(Be)}),o.loadingPromise)}(H,o,a),H.loadingState===Br.IN_PROGRESS&&wb(H,a,g);break;case Br.IN_PROGRESS:vu(Ur.Loading,a,g),wb(H,a,g);break;case Br.COMPLETE:vu(Ur.Complete,a,g);break;case Br.FAILED:vu(Ur.Error,a,g)}}(a,l),a);W_(0,yh(a,l),g)}}(bb)}function vu(o,a,l,g=!1){const A=l[zs],B=A[ii];if(function qc(o){return!(256&~o[Ui])}(A))return;const H=yh(A,a);if(Vy(H[$_],o)&&Vy(H[$c]??-1,o)){const _e=A[xo],Be=Il(B,a),Ot=g||!Wr(_e)||null===function gb(o){return o.loadingBlockConfig?.[iP]??null}(Be)&&null===xy(Be,Ur.Loading)&&!xy(Be,Ur.Placeholder)?Ab:By;try{Ot(o,H,l,a,A)}catch(nt){oh(A,nt)}}}function Up(o,a,l){return o.get(QI).getOrCreateInjector(a,o,l,"")}function Ab(o,a,l,g,A){const B=function cP(o,a,l){const A=Il(a[ii],l);switch(o){case Ur.Complete:return A.primaryTmplIndex;case Ur.Loading:return A.loadingTmplIndex;case Ur.Error:return A.errorTmplIndex;case Ur.Placeholder:return A.placeholderTmplIndex;default:return null}}(o,A,g);if(null!==B){a[$_]=o;const H=A[ii],_e=Tc(H,B+zi),Be=0;let Ze;if($0(l,Be),o===Ur.Complete){const Ut=Il(H,g),ln=Ut.providers;ln&&ln.length>0&&(Ze=function MP(o,a,l){if(o instanceof td){const A=o.injector,H=Up(o.parentInjector,a,l);return new td(A,H)}const g=o.get(Hn);if(g!==o){const A=Up(g,a,l);return new td(o,A)}return Up(o,a,l)}(A[xo],Ut,ln))}const Ot=mu(l,_e.tView.ssrId),nt=Bc(A,_e,null,{dehydratedView:Ot,injector:Ze});Ep(l,nt,Be,Uc(_e,Ot)),om(nt,2)}}function Vy(o,a){return o<a}function wb(o,a,l){o.loadingPromise.then(()=>{o.loadingState===Br.COMPLETE?vu(Ur.Complete,a,l):o.loadingState===Br.FAILED&&vu(Ur.Error,a,l)})}function Wy(o,a,l,g){const A=Nn();return Fr(A,Ma(),a)&&(Ki(),function Fc(o,a,l,g,A,B){const H=da(o,a);k0(a[ls],H,B,o.value,l,g,A)}(Vo(),A,o,a,l,g)),Wy}function Td(o,a,l,g){return Fr(o,Ma(),l)?a+_n(l)+g:Rs}function yu(o,a,l,g,A,B){const ie=mh(o,ha(),l,A);return Vl(2),ie?a+_n(l)+g+_n(A)+B:Rs}function Kp(o,a){return o<<17|a<<2}function Gc(o){return o>>17&32767}function Gy(o){return 2|o}function Md(o){return(131068&o)>>2}function Ky(o,a){return-131069&o|a<<2}function Hy(o){return 1|o}function kb(o,a,l,g){const A=o[l+1],B=null===a;let H=g?Gc(A):Md(A),ie=!1;for(;0!==H&&(!1===ie||B);){const Be=o[H+1];LP(o[H],a)&&(ie=!0,o[H+1]=g?Hy(Be):Gy(Be)),H=g?Gc(Be):Md(Be)}ie&&(o[l+1]=g?Gy(A):Hy(A))}function LP(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Os(o,a)>=0}const qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vb(o){return o.substring(qr.key,qr.keyEnd)}function $b(o,a){const l=qr.textEnd;return l===a?-1:(a=qr.keyEnd=function Kb(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,qr.key=a,l),Hp(o,a,l))}function Hp(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function zp(o,a,l){const g=Nn();return Fr(g,Ma(),a)&&Ja(Ki(),Vo(),g,o,a,g[ls],l,!1),zp}function zy(o,a,l,g,A){const H=A?"class":"style";Gr(o,l,a.inputs[H],H,g)}function J_(o,a,l){return pc(o,a,l,!1),J_}function Xy(o,a){return pc(o,a,null,!0),Xy}function Xb(o){fc(HP,Hc,o,!0)}function Hc(o,a){for(let l=function FP(o){return function Gb(o){qr.key=0,qr.keyEnd=0,qr.value=0,qr.valueEnd=0,qr.textEnd=o.length}(o),$b(o,Hp(o,0,qr.textEnd))}(a);l>=0;l=$b(a,l))Yi(o,Vb(a),!0)}function pc(o,a,l,g){const A=Nn(),B=Ki(),H=Vl(2);B.firstUpdatePass&&Jb(B,o,H,g),a!==Rs&&Fr(A,H,a)&&Zb(B,B.data[pa()],A,A[ls],o,A[H+1]=function XP(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=on(ic(o)))),o}(a,l),g,H)}function fc(o,a,l,g){const A=Ki(),B=Vl(2);A.firstUpdatePass&&Jb(A,null,B,g);const H=Nn();if(l!==Rs&&Fr(H,B,l)){const ie=A.data[pa()];if(qb(ie,g)&&!Yb(A,B)){let _e=g?ie.classesWithoutHost:ie.stylesWithoutHost;null!==_e&&(l=Yt(_e,l||"")),zy(A,ie,H,l,g)}else!function zP(o,a,l,g,A,B,H,ie){A===Rs&&(A=ss);let _e=0,Be=0,Ze=0<A.length?A[0]:null,Ot=0<B.length?B[0]:null;for(;null!==Ze||null!==Ot;){const nt=_e<A.length?A[_e+1]:void 0,Ut=Be<B.length?B[Be+1]:void 0;let Fn,ln=null;Ze===Ot?(_e+=2,Be+=2,nt!==Ut&&(ln=Ot,Fn=Ut)):null===Ot||null!==Ze&&Ze<Ot?(_e+=2,ln=Ze):(Be+=2,ln=Ot,Fn=Ut),null!==ln&&Zb(o,a,l,g,ln,Fn,H,ie),Ze=_e<A.length?A[_e]:null,Ot=Be<B.length?B[Be]:null}}(A,ie,H,H[ls],H[B+1],H[B+1]=function KP(o,a,l){if(null==l||""===l)return ss;const g=[],A=ic(l);if(Array.isArray(A))for(let B=0;B<A.length;B++)o(g,A[B],!0);else if("object"==typeof A)for(const B in A)A.hasOwnProperty(B)&&o(g,B,A[B]);else"string"==typeof A&&a(g,A);return g}(o,a,l),g,B)}}function Yb(o,a){return a>=o.expandoStartIndex}function Jb(o,a,l,g){const A=o.data;if(null===A[l+1]){const B=A[pa()],H=Yb(o,l);qb(B,g)&&null===a&&!H&&(a=!1),a=function VP(o,a,l,g){const A=function Dg(o){const a=ys.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let B=g?a.residualClasses:a.residualStyles;if(null===A)0===(g?a.classBindings:a.styleBindings)&&(l=Nm(l=Yy(null,o,a,l,g),a.attrs,g),B=null);else{const H=a.directiveStylingLast;if(-1===H||o[H]!==A)if(l=Yy(A,o,a,l,g),null===B){let _e=function $P(o,a,l){const g=l?a.classBindings:a.styleBindings;if(0!==Md(g))return o[Gc(g)]}(o,a,g);void 0!==_e&&Array.isArray(_e)&&(_e=Yy(null,o,a,_e[1],g),_e=Nm(_e,a.attrs,g),function WP(o,a,l,g){o[Gc(l?a.classBindings:a.styleBindings)]=g}(o,a,g,_e))}else B=function GP(o,a,l){let g;const A=a.directiveEnd;for(let B=1+a.directiveStylingLast;B<A;B++)g=Nm(g,o[B].hostAttrs,l);return Nm(g,a.attrs,l)}(o,a,g)}return void 0!==B&&(g?a.residualClasses=B:a.residualStyles=B),l}(A,B,a,g),function xP(o,a,l,g,A,B){let H=B?a.classBindings:a.styleBindings,ie=Gc(H),_e=Md(H);o[g]=l;let Ze,Be=!1;if(Array.isArray(l)?(Ze=l[1],(null===Ze||Os(l,Ze)>0)&&(Be=!0)):Ze=l,A)if(0!==_e){const nt=Gc(o[ie+1]);o[g+1]=Kp(nt,ie),0!==nt&&(o[nt+1]=Ky(o[nt+1],g)),o[ie+1]=function PP(o,a){return 131071&o|a<<17}(o[ie+1],g)}else o[g+1]=Kp(ie,0),0!==ie&&(o[ie+1]=Ky(o[ie+1],g)),ie=g;else o[g+1]=Kp(_e,0),0===ie?ie=g:o[_e+1]=Ky(o[_e+1],g),_e=g;Be&&(o[g+1]=Gy(o[g+1])),kb(o,Ze,g,!0),kb(o,Ze,g,!1),function wP(o,a,l,g,A){const B=A?o.residualClasses:o.residualStyles;null!=B&&"string"==typeof a&&Os(B,a)>=0&&(l[g+1]=Hy(l[g+1]))}(a,Ze,o,g,B),H=Kp(ie,_e),B?a.classBindings=H:a.styleBindings=H}(A,B,a,l,H,g)}}function Yy(o,a,l,g,A){let B=null;const H=l.directiveEnd;let ie=l.directiveStylingLast;for(-1===ie?ie=l.directiveStart:ie++;ie<H&&(B=a[ie],g=Nm(g,B.hostAttrs,A),B!==o);)ie++;return null!==o&&(l.directiveStylingLast=ie),g}function Nm(o,a,l){const g=l?1:2;let A=-1;if(null!==a)for(let B=0;B<a.length;B++){const H=a[B];"number"==typeof H?A=H:A===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Yi(o,H,!!l||a[++B]))}return void 0===o?null:o}function HP(o,a,l){const g=String(a);""!==g&&!g.includes(" ")&&Yi(o,g,l)}function Zb(o,a,l,g,A,B,H,ie){if(!(3&a.type))return;const _e=o.data,Be=_e[ie+1],Ze=function RP(o){return!(1&~o)}(Be)?Jy(_e,a,l,A,Md(Be),H):void 0;Q_(Ze)||(Q_(B)||function IP(o){return!(2&~o)}(Be)&&(B=Jy(_e,null,l,A,ie,H)),function vS(o,a,l,g,A){if(a)A?o.addClass(l,g):o.removeClass(l,g);else{let B=-1===g.indexOf("-")?void 0:rc.DashCase;null==A?o.removeStyle(l,g,B):("string"==typeof A&&A.endsWith("!important")&&(A=A.slice(0,-10),B|=rc.Important),o.setStyle(l,g,A,B))}}(g,H,Fd(pa(),l),A,B))}function Jy(o,a,l,g,A,B){const H=null===a;let ie;for(;A>0;){const _e=o[A],Be=Array.isArray(_e),Ze=Be?_e[1]:_e,Ot=null===Ze;let nt=l[A+1];nt===Rs&&(nt=Ot?ss:void 0);let Ut=Ot?hr(nt,g):Ze===g?nt:void 0;if(Be&&!Q_(Ut)&&(Ut=hr(_e,g)),Q_(Ut)&&(ie=Ut,H))return ie;const ln=o[A+1];A=H?Gc(ln):Md(ln)}if(null!==a){let _e=B?a.residualClasses:a.residualStyles;null!=_e&&(ie=hr(_e,g))}return ie}function Q_(o){return void 0!==o}function qb(o,a){return!!(o.flags&(a?8:16))}function eD(o,a,l){fc(Yi,Hc,Td(Nn(),o,a,l),!0)}function tD(o,a,l,g,A){fc(Yi,Hc,yu(Nn(),o,a,l,g,A),!0)}function Xp(o,a,l,g,A,B,H,ie,_e,Be,Ze){fc(Yi,Hc,function Gp(o,a,l,g,A,B,H,ie,_e,Be,Ze,Ot){const nt=ha();let Ut=Na(o,nt,l,A,H,_e);return Ut=Fr(o,nt+4,Ze)||Ut,Vl(5),Ut?a+_n(l)+g+_n(A)+B+_n(H)+ie+_n(_e)+Be+_n(Ze)+Ot:Rs}(Nn(),o,a,l,g,A,B,H,ie,_e,Be,Ze),!0)}function nD(){return Nn()[wo][to]}class qP{destroy(a){}updateValue(a,l){}swap(a,l){const g=Math.min(a,l),A=Math.max(a,l),B=this.detach(A);if(A-g>1){const H=this.detach(g);this.attach(g,B),this.attach(A,H)}else this.attach(g,B)}move(a,l){this.attach(l,this.detach(a))}}function Qy(o,a,l,g,A){return o===l&&Object.is(a,g)?1:Object.is(A(o,a),A(l,g))?-1:0}function qy(o,a,l,g){return!(void 0===a||!a.has(g)||(o.attach(l,a.get(g)),a.delete(g),0))}function ev(o,a,l,g,A){if(qy(o,a,g,l(g,A)))o.updateValue(g,A);else{const B=o.create(g,A);o.attach(g,B)}}function iD(o,a,l,g){const A=new Set;for(let B=a;B<=l;B++)A.add(g(B,o.at(B)));return A}class Fm{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const l=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(a,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,l){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const A=this._vMap;for(;A.has(g);)g=A.get(g);A.set(g,l)}else this.kvMap.set(a,l)}forEach(a){for(let[l,g]of this.kvMap)if(a(g,l),void 0!==this._vMap){const A=this._vMap;for(;A.has(g);)g=A.get(g),a(g,l)}}}function sD(o,a){La("NgControlFlow");const l=Nn(),g=Ma(),A=l[g]!==Rs?l[g]:-1,B=-1!==A?tv(l,zi+A):void 0;if(Fr(l,g,o)){const ie=m(null);try{if(void 0!==B&&$0(B,0),-1!==o){const _e=zi+o,Be=tv(l,_e),Ze=nE(l[ii],_e),Ot=mu(Be,Ze.tView.ssrId);Ep(Be,Bc(l,Ze,a,{dehydratedView:Ot}),0,Uc(Ze,Ot))}}finally{m(ie)}}else if(void 0!==B){const ie=nC(B,0);void 0!==ie&&(ie[to]=a)}}class eR{constructor(a,l,g){this.lContainer=a,this.$implicit=l,this.$index=g}get $count(){return this.lContainer.length-ar}}function oD(o,a){return a}class eE{constructor(a,l,g){this.hasEmptyBlock=a,this.trackByFn=l,this.liveCollection=g}}function rD(o,a,l,g,A,B,H,ie,_e,Be,Ze,Ot,nt){La("NgControlFlow");const Ut=Nn(),ln=Ki(),Fn=void 0!==_e,ti=Nn(),li=ie?H.bind(ti[wo][to]):H,Un=new eE(Fn,li);ti[zi+o]=Un,_u(Ut,ln,o+1,a,l,g,A,lo(ln.consts,B)),Fn&&_u(Ut,ln,o+2,_e,Be,Ze,Ot,lo(ln.consts,nt))}class nR extends qP{constructor(a,l,g){super(),this.lContainer=a,this.hostLView=l,this.templateTNode=g,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ar}at(a){return this.getLView(a)[to].$implicit}attach(a,l){const g=l[po];this.needsIndexUpdate||=a!==this.length,Ep(this.lContainer,l,a,Uc(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function iR(o,a){return mp(o,a)}(this.lContainer,a)}create(a,l){const g=mu(this.lContainer,this.templateTNode.tView.ssrId),A=Bc(this.hostLView,this.templateTNode,new eR(this.lContainer,l,a),{dehydratedView:g});return this.operationsCounter?.recordCreate(),A}destroy(a){gp(a[ii],a),this.operationsCounter?.recordDestroy()}updateValue(a,l){this.getLView(a)[to].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[to].$index=a}getLView(a){return function sR(o,a){return nC(o,a)}(this.lContainer,a)}}function tE(o){const a=m(null),l=pa();try{const g=Nn(),A=g[ii],B=g[l],H=l+1,ie=tv(g,H);if(void 0===B.liveCollection){const Be=nE(A,H);B.liveCollection=new nR(ie,g,Be)}else B.liveCollection.reset();const _e=B.liveCollection;if(function Zy(o,a,l){let g,A,B=0,H=o.length-1;if(Array.isArray(a)){let _e=a.length-1;for(;B<=H&&B<=_e;){const Be=o.at(B),Ze=a[B],Ot=Qy(B,Be,B,Ze,l);if(0!==Ot){Ot<0&&o.updateValue(B,Ze),B++;continue}const nt=o.at(H),Ut=a[_e],ln=Qy(H,nt,_e,Ut,l);if(0!==ln){ln<0&&o.updateValue(H,Ut),H--,_e--;continue}const Fn=l(B,Be),ti=l(H,nt),li=l(B,Ze);if(Object.is(li,ti)){const Un=l(_e,Ut);Object.is(Un,Fn)?(o.swap(B,H),o.updateValue(H,Ut),_e--,H--):o.move(H,B),o.updateValue(B,Ze),B++}else if(g??=new Fm,A??=iD(o,B,H,l),qy(o,g,B,li))o.updateValue(B,Ze),B++,H++;else if(A.has(li))g.set(Fn,o.detach(B)),H--;else{const Un=o.create(B,a[B]);o.attach(B,Un),B++,H++}}for(;B<=_e;)ev(o,g,l,B,a[B]),B++}else if(null!=a){const _e=a[Symbol.iterator]();let Be=_e.next();for(;!Be.done&&B<=H;){const Ze=o.at(B),Ot=Be.value,nt=Qy(B,Ze,B,Ot,l);if(0!==nt)nt<0&&o.updateValue(B,Ot),B++,Be=_e.next();else{g??=new Fm,A??=iD(o,B,H,l);const Ut=l(B,Ot);if(qy(o,g,B,Ut))o.updateValue(B,Ot),B++,H++,Be=_e.next();else if(A.has(Ut)){const ln=l(B,Ze);g.set(ln,o.detach(B)),H--}else o.attach(B,o.create(B,Ot)),B++,H++,Be=_e.next()}}for(;!Be.done;)ev(o,g,l,o.length,Be.value),Be=_e.next()}for(;B<=H;)o.destroy(o.detach(H--));g?.forEach(_e=>{o.destroy(_e)})}(_e,o,B.trackByFn),_e.updateIndexes(),B.hasEmptyBlock){const Be=Ma(),Ze=0===_e.length;if(Fr(g,Be,Ze)){const Ot=l+2,nt=tv(g,Ot);if(Ze){const Ut=nE(A,Ot),ln=mu(nt,Ut.tView.ssrId);Ep(nt,Bc(g,Ut,void 0,{dehydratedView:ln}),0,Uc(Ut,ln))}else $0(nt,0)}}}finally{m(a)}}function tv(o,a){return o[a]}function nE(o,a){return Tc(o,a)}function Yp(o,a,l,g){const A=Nn(),B=Ki(),H=zi+o,ie=A[ls],_e=B.firstCreatePass?function oR(o,a,l,g,A,B){const H=a.consts,_e=$n(a,o,2,g,lo(H,A));return j0(a,l,_e,lo(H,B)),null!==_e.attrs&&A_(_e,_e.attrs,!1),null!==_e.mergedAttrs&&A_(_e,_e.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,_e),_e}(H,B,A,a,l,g):B.data[H],Be=lD(B,A,_e,ie,a,o);A[H]=Be;const Ze=xd(_e);return ol(_e,!0),H1(ie,Be,_e),!xp(_e)&&Gh()&&gd(B,A,Be,_e),0===function a1(){return ys.lFrame.elementDepthCount}()&&_a(Be,A),function Vv(){ys.lFrame.elementDepthCount++}(),Ze&&(Fs(B,A,_e),Nr(B,_e,A)),null!==g&&nh(A,_e),Yp}function nv(){let o=co();ed()?Ra():(o=o.parent,ol(o,!1));const a=o;(function c1(o){return ys.skipHydrationRootTNode===o})(a)&&function d1(){ys.skipHydrationRootTNode=null}(),function l1(){ys.lFrame.elementDepthCount--}();const l=Ki();return l.firstCreatePass&&(Nu(l,o),Ou(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Ig(o){return!!(8&o.flags)}(a)&&zy(l,a,Nn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Kh(o){return!!(16&o.flags)}(a)&&zy(l,a,Nn(),a.stylesWithoutHost,!1),nv}function iv(o,a,l,g){return Yp(o,a,l,g),nv(),iv}let lD=(o,a,l,g,A,B)=>(rl(!0),d_(g,A,Wh()));function sv(o,a,l,g,A,B){const H=a[po],ie=!H||Bd()||xp(l)||cd(H,B);if(rl(ie),ie)return d_(g,A,Wh());const _e=mm(H,o,a,l);return O1(H,B)&&t_(H,B,_e.nextSibling),H&&(dl(l)||ma(_e))&&sl(l)&&(function yg(o){ys.skipHydrationRootTNode=o}(l),U0(_e)),_e}function iE(o,a,l){const g=Nn(),A=Ki(),B=o+zi,H=A.firstCreatePass?function aR(o,a,l,g,A){const B=a.consts,H=lo(B,g),ie=$n(a,o,8,"ng-container",H);return null!==H&&A_(ie,H,!0),j0(a,l,ie,lo(B,A)),null!==a.queries&&a.queries.elementStart(a,ie),ie}(B,A,g,a,l):A.data[B];ol(H,!0);const ie=dD(A,g,H,o);return g[B]=ie,Gh()&&gd(A,g,ie,H),_a(ie,g),xd(H)&&(Fs(A,g,H),Nr(A,H,g)),null!=l&&nh(g,H),iE}function ov(){let o=co();const a=Ki();return ed()?Ra():(o=o.parent,ol(o,!1)),a.firstCreatePass&&(Nu(a,o),Ou(o)&&a.queries.elementEnd(o)),ov}function cD(o,a,l){return iE(o,a,l),ov(),cD}let dD=(o,a,l,g)=>(rl(!0),R0(a[ls],""));function lR(o,a,l,g){let A;const B=a[po],H=!B||Bd()||cd(B,g)||xp(l);if(rl(H),H)return R0(a[ls],"");const ie=mm(B,o,a,l),_e=function M1(o,a){const l=o.data;let g=l[Jg]?.[a]??null;return null===g&&l[kf]?.[a]&&(g=u0(o,a)),g}(B,g);return t_(B,g,ie),A=S_(_e,ie),A}function uD(){return Nn()}function sE(o,a,l){const g=Nn();return Fr(g,Ma(),a)&&Ja(Ki(),Vo(),g,o,a,g[ls],l,!0),sE}const Ch=void 0;var uR=["en",[["a","p"],["AM","PM"],Ch],[["AM","PM"],Ch,Ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ch,"{1} 'at' {0}",Ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dR(o){const l=Math.floor(Math.abs(o)),g=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let Jp={};function oE(o){const a=function rv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Qp(a);if(l)return l;const g=a.split("-")[0];if(l=Qp(g),l)return l;if("en"===g)return uR;throw new Ge(701,!1)}function bh(o){return oE(o)[Od.PluralCase]}function Qp(o){return o in Jp||(Jp[o]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[o]),Jp[o]}var Od=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Od||{});const pD=["zero","one","two","few","many"],Dh="en-US",Th={marker:"element"},Bm={marker:"ICU"};var fl=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(fl||{});let fD=Dh,bu=0,Zp=0;let Um=(o,a,l,g)=>(rl(!0),function mD(o,a,l){const g=o[ls];switch(l){case Node.COMMENT_NODE:return R0(g,a);case Node.TEXT_NODE:return P0(g,a);case Node.ELEMENT_NODE:return d_(g,a,null)}}(o,l,g));function _D(o,a,l,g){const A=l[ls];let H,B=null;for(let ie=0;ie<a.length;ie++){const _e=a[ie];if("string"==typeof _e){const Be=a[++ie];null===l[Be]&&(l[Be]=Um(l,Be,_e,Node.TEXT_NODE))}else if("number"==typeof _e)switch(1&_e){case 0:const Be=pC(_e);let Ze,Ot;if(null===B&&(B=Be,H=w0(A,g)),Be===B?(Ze=g,Ot=H):(Ze=null,Ot=no(l[Be])),null!==Ot){const Fn=fC(_e);cu(A,Ot,l[Fn],Ze,!1);const li=Qo(o,Fn);if(null!==li&&"object"==typeof li){const Un=M_(li,l);null!==Un&&_D(o,li.create[Un],l,l[li.anchorIdx])}}break;case 1:const Ut=a[++ie],ln=a[++ie];k0(A,Fd(_e>>>1,l),null,null,Ut,ln,null)}else switch(_e){case Bm:const Be=a[++ie],Ze=a[++ie];null===l[Ze]&&_a(l[Ze]=Um(l,Ze,Be,Node.COMMENT_NODE),l);break;case Th:const Ot=a[++ie],nt=a[++ie];null===l[nt]&&_a(l[nt]=Um(l,nt,Ot,Node.ELEMENT_NODE),l)}}}function jm(o,a,l,g,A){for(let B=0;B<l.length;B++){const H=l[B],ie=l[++B];if(H&A){let _e="";for(let Be=B+1;Be<=B+ie;Be++){const Ze=l[Be];if("string"==typeof Ze)_e+=Ze;else if("number"==typeof Ze)if(Ze<0)_e+=_n(a[g-Ze]);else{const Ot=Ze>>>2;switch(3&Ze){case 1:const nt=l[++Be],Ut=l[++Be],ln=o.data[Ot];"string"==typeof ln?k0(a[ls],a[Ot],null,ln,nt,_e,Ut):Ja(o,ln,a,nt,_e,a[ls],Ut,!1);break;case 0:const Fn=a[Ot];null!==Fn&&k1(a[ls],Fn,_e);break;case 2:vD(o,Qo(o,Ot),a,_e);break;case 3:cv(o,Qo(o,Ot),g,a)}}}}else{const _e=l[B+1];if(_e>0&&!(3&~_e)){const Ze=Qo(o,_e>>>2);a[Ze.currentCaseLViewIndex]<0&&cv(o,Ze,g,a)}}B+=ie}}function cv(o,a,l,g){let A=g[a.currentCaseLViewIndex];if(null!==A){let B=bu;A<0&&(A=g[a.currentCaseLViewIndex]=~A,B=-1),jm(o,g,a.update[A],l,B)}}function vD(o,a,l,g){const A=function vR(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const g=function hR(o,a){const l=bh(a)(parseInt(o,10)),g=pD[l];return void 0!==g?g:"other"}(a,function fR(){return fD}());l=o.cases.indexOf(g),-1===l&&"other"!==g&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,g);if(M_(a,l)!==A&&(rE(o,a,l),l[a.currentCaseLViewIndex]=null===A?null:~A,null!==A)){const H=l[a.anchorIdx];H&&_D(o,a.create[A],l,H),function aI(o,a,l){sy(o,a,l)}(l,a.anchorIdx,A)}}function rE(o,a,l){let g=M_(a,l);if(null!==g){const A=a.remove[g];for(let B=0;B<A.length;B++){const H=A[B];if(H>0){const ie=Fd(H,l);null!==ie&&Lc(l[ls],ie)}else rE(o,Qo(o,~H),l)}}}const dv=/\ufffd(\d+):?\d*\ufffd/gi,ER=/\ufffd(\d+)\ufffd/,bD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Mh="\ufffd",CR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,DR=/\uE500/g;function uv(o,a,l,g,A,B,H){const ie=Lr(o,g,1,null);let _e=ie<<fl.SHIFT,Be=jh();a===Be&&(Be=null),null===Be&&(_e|=fl.APPEND_EAGERLY),H&&(_e|=fl.COMMENT,function eh(o){void 0===I0&&(I0=o())}(cc)),A.push(_e,null===B?"":B);const Ze=ws(o,ie,H?32:1,null===B?"":B,null);cC(l,Ze);const Ot=Ze.index;return ol(Ze,!1),null!==Be&&a!==Be&&function uC(o,a){let l=o.insertBeforeIndex;null===l?(F0(lC,um),l=o.insertBeforeIndex=[null,a]):(nn(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(Be,Ot),Ze}function MR(o,a,l,g,A,B,H,ie){const _e=ie.match(dv),Ze=uv(a,l,g,H,A,_e?null:ie,!1).index;_e&&Du(B,ie,Ze,null,0,null),o.push({kind:0,index:Ze})}function Du(o,a,l,g,A,B){const H=o.length,ie=H+1;o.push(null,null);const _e=H+2,Be=a.split(dv);let Ze=0;for(let Ot=0;Ot<Be.length;Ot++){const nt=Be[Ot];if(1&Ot){const Ut=A+parseInt(nt,10);o.push(-1-Ut),Ze|=IR(Ut)}else""!==nt&&o.push(nt)}return o.push(l<<2|(g?1:0)),g&&o.push(g,B),o[H]=Ze,o[ie]=o.length-_e,Ze}function IR(o){return 1<<Math.min(o,31)}function DD(o){let a,B,l="",g=0,A=!1;for(;null!==(a=CR.exec(o));)A?a[0]===`${Mh}/*${B}${Mh}`&&(g=a.index,A=!1):(l+=o.substring(g,a.index+a[0].length),B=a[1],A=!0);return l+=o.slice(g),l}function Tu(o,a,l,g,A,B,H){let ie=0;const _e={type:B.type,currentCaseLViewIndex:Lr(a,l,1,null),anchorIdx:H,cases:[],create:[],remove:[],update:[]};(function pv(o,a,l){o.push(IR(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(g,B,H),function dC(o,a,l){const g=o.data[a];null===g?o.data[a]=l:g.value=l}(a,H,_e);const Be=B.values,Ze=[];for(let Ot=0;Ot<Be.length;Ot++){const nt=Be[Ot],Ut=[];for(let Fn=0;Fn<nt.length;Fn++){const ti=nt[Fn];if("string"!=typeof ti){const li=Ut.push(ti)-1;nt[Fn]=`\x3c!--\ufffd${li}\ufffd--\x3e`}}const ln=[];Ze.push(ln),ie=hv(ln,a,_e,l,g,A,B.cases[Ot],nt.join(""),Ut)|ie}ie&&function xR(o,a,l){o.push(a,1,l<<2|3)}(g,ie,H),o.push({kind:3,index:H,cases:Ze,currentCaseLViewIndex:_e.currentCaseLViewIndex})}function RR(o){const a=[],l=[];let g=1,A=0;const B=lE(o=o.replace(bD,function(H,ie,_e){return g="select"===_e?0:1,A=parseInt(ie.slice(1),10),""}));for(let H=0;H<B.length;){let ie=B[H++].trim();1===g&&(ie=ie.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ie.length&&a.push(ie);const _e=lE(B[H++]);a.length>l.length&&l.push(_e)}return{type:g,mainBinding:A,cases:a,values:l}}function lE(o){if(!o)return[];let a=0;const l=[],g=[],A=/[{}]/g;let B;for(A.lastIndex=0;B=A.exec(o);){const ie=B.index;if("}"==B[0]){if(l.pop(),0==l.length){const _e=o.substring(a,ie);bD.test(_e)?g.push(RR(_e)):g.push(_e),a=ie+1}}else{if(0==l.length){const _e=o.substring(a,ie);g.push(_e),a=ie+1}l.push("{")}}const H=o.substring(a);return g.push(H),g}function hv(o,a,l,g,A,B,H,ie,_e){const Be=[],Ze=[],Ot=[];l.cases.push(H),l.create.push(Be),l.remove.push(Ze),l.update.push(Ot);const Ut=L1(qd()).getInertBodyElement(ie),ln=y0(Ut)||Ut;return ln?TD(o,a,l,g,A,Be,Ze,Ot,ln,B,_e,0):0}function TD(o,a,l,g,A,B,H,ie,_e,Be,Ze,Ot){let nt=0,Ut=_e.firstChild;for(;Ut;){const ln=Lr(a,g,1,null);switch(Ut.nodeType){case Node.ELEMENT_NODE:const Fn=Ut,ti=Fn.tagName.toLowerCase();if(dp.hasOwnProperty(ti)){cE(B,Th,ti,Be,ln),a.data[ln]=ti;const Ts=Fn.attributes;for(let cr=0;cr<Ts.length;cr++){const Ea=Ts.item(cr),af=Ea.name.toLowerCase();Ea.value.match(dv)?nu.hasOwnProperty(af)&&Du(ie,Ea.value,ln,Ea.name,0,tu[af]?dd:null):wR(B,ln,Ea)}const Po={kind:1,index:ln,children:[]};o.push(Po),nt=TD(Po.children,a,l,g,A,B,H,ie,Ut,ln,Ze,Ot+1)|nt,MD(H,ln,Ot)}break;case Node.TEXT_NODE:const li=Ut.textContent||"",Un=li.match(dv);cE(B,null,Un?"":li,Be,ln),MD(H,ln,Ot),Un&&(nt=Du(ie,li,ln,null,0,null)|nt),o.push({kind:0,index:ln});break;case Node.COMMENT_NODE:const Ni=ER.exec(Ut.textContent||"");if(Ni){const Po=Ze[parseInt(Ni[1],10)];cE(B,Bm,"",Be,ln),Tu(o,a,g,A,Be,Po,ln),AR(H,ln,Ot)}}Ut=Ut.nextSibling}return nt}function MD(o,a,l){0===l&&o.push(a)}function AR(o,a,l){0===l&&(o.push(~a),o.push(a))}function cE(o,a,l,g,A){null!==a&&o.push(a),o.push(l,A,function YS(o,a,l){return o|a<<17|l<<1}(0,g,A))}function wR(o,a,l){o.push(a<<1|1,l.name,l.value)}function OD(o,a,l=-1){const g=Ki(),A=Nn(),B=zi+o,H=lo(g.consts,a),ie=jh();g.firstCreatePass&&function aE(o,a,l,g,A,B){const H=jh(),ie=[],_e=[],Be=[[]],Ze=[[]];A=function PR(o,a){if(function gC(o){return-1===o}(a))return DD(o);{const l=o.indexOf(`:${a}${Mh}`)+2+a.toString().length,g=o.search(new RegExp(`${Mh}\\/\\*\\d+:${a}${Mh}`));return DD(o.substring(l,g))}}(A,B);const Ot=function TR(o){return o.replace(DR," ")}(A).split(bR);for(let nt=0;nt<Ot.length;nt++){let Ut=Ot[nt];if(1&nt){const ln=47===Ut.charCodeAt(0),Fn=Ut.charCodeAt(ln?1:0),ti=zi+Number.parseInt(Ut.substring(ln?2:1));if(ln)Be.shift(),Ze.shift(),ol(jh(),!1);else{const li=hC(o,Be[0],ti);Be.unshift([]),ol(li,!0);const Un={kind:2,index:ti,children:[],type:35===Fn?0:1};Ze[0].push(Un),Ze.unshift(Un.children)}}else{const ln=lE(Ut);for(let Fn=0;Fn<ln.length;Fn++){let ti=ln[Fn];if(1&Fn){const li=ti;if("object"!=typeof li)throw new Error(`Unable to parse ICU expression in "${A}" message.`);const Ni=uv(o,H,Be[0],l,ie,"",!0).index;Tu(Ze[0],o,l,_e,a,li,Ni)}else""!==ti&&MR(Ze[0],o,H,Be[0],ie,_e,l,ti)}}}o.data[g]={create:ie,update:_e,ast:Ze[0],parentTNodeIndex:a}}(g,null===ie?0:ie.index,A,B,H,l),2===g.type?A[wo][Ui]|=32:A[Ui]|=32;const _e=g.data[B],Ze=G1(g,ie===A[qs]?null:ie,A),Ot=ie&&8&ie.type?A[ie.index]:null;(function tI(o,a,l,g){TC(o,a,l,g)})(A,B,ie,l),function _R(o,a,l,g){const A=o[ls];for(let B=0;B<a.length;B++){const H=a[B++],Be=(H&fl.APPEND_EAGERLY)===fl.APPEND_EAGERLY,Ze=H>>>fl.SHIFT;let Ot=o[Ze],nt=!1;null===Ot&&(Ot=o[Ze]=Um(o,Ze,a[B],(H&fl.COMMENT)===fl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),nt=Gh()),Be&&null!==l&&nt&&cu(A,l,Ot,g,!1)}}(A,_e.create,Ze,Ot),$l(!0)}function dE(o,a,l){OD(o,a,l),function Vm(){$l(!1)}()}function uE(o){return function mR(o){o&&(bu|=1<<Math.min(Zp,31)),Zp++}(Fr(Nn(),Ma(),o)),uE}function $m(o){!function gR(o,a,l){if(Zp>0){const g=o.data[l];jm(o,a,Array.isArray(g)?g:g.update,ha()-Zp-1,bu)}bu=0,Zp=0}(Ki(),Nn(),o+zi)}let SD=(o,a,l)=>{};function hE(o,a,l,g){const A=Nn(),B=Ki(),H=co();return qp(B,A,A[ls],H,o,a,g),hE}function qp(o,a,l,g,A,B,H){const ie=xd(g),Be=o.firstCreatePass&&eC(o),Ze=a[to],Ot=q1(a);let nt=!0;if(3&g.type||H){const Fn=da(g,a),ti=H?H(Fn):Fn,li=Ot.length,Un=H?Ts=>H(no(Ts[g.index])):g.index;let Ni=null;if(!H&&ie&&(Ni=function VR(o,a,l,g){const A=o.cleanup;if(null!=A)for(let B=0;B<A.length-1;B+=2){const H=A[B];if(H===l&&A[B+1]===g){const ie=a[yo],_e=A[B+2];return ie.length>_e?ie[_e]:null}"string"==typeof H&&(B+=2)}return null}(o,a,A,g.index)),null!==Ni)(Ni.__ngLastListenerFn__||Ni).__ngNextListenerFn__=B,Ni.__ngLastListenerFn__=B,nt=!1;else{B=Km(g,a,Ze,B),SD(Fn,A,B);const Ts=l.listen(ti,A,B);Ot.push(B,Ts),Be&&Be.push(A,Un,li,li+1)}}else B=Km(g,a,Ze,B);const Ut=g.outputs;let ln;if(nt&&null!==Ut&&(ln=Ut[A])){const Fn=ln.length;if(Fn)for(let ti=0;ti<Fn;ti+=2){const Po=a[ln[ti]][ln[ti+1]].subscribe(B),cr=Ot.length;Ot.push(B,Po),Be&&Be.push(A,g.index,cr,-(cr+1))}}}function ID(o,a,l,g){const A=m(null);try{return Ul(6,a,l),!1!==l(g)}catch(B){return oh(o,B),!1}finally{Ul(7,a,l),m(A)}}function Km(o,a,l,g){return function A(B){if(B===Function)return g;om(o.componentOffset>-1?ua(o.index,a):a,5);let ie=ID(a,l,g,B),_e=A.__ngNextListenerFn__;for(;_e;)ie=ID(a,l,_e,B)&&ie,_e=_e.__ngNextListenerFn__;return ie}}function PD(o=1){return function p1(o){return(ys.lFrame.contextLView=function Nh(o,a){for(;o>0;)a=a[ka],o--;return a}(o,ys.lFrame.contextLView))[to]}(o)}function RD(o,a){let l=null;const g=function mi(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let A=0;A<a.length;A++){const B=a[A];if("*"!==B){if(null===g?Xt(o,B,!0):zo(g,B))return A}else l=A}return l}function Sd(o){const a=Nn()[wo][qs];if(!a.projection){const g=a.projection=function $i(o,a){const l=[];for(let g=0;g<o;g++)l.push(a);return l}(o?o.length:1,null),A=g.slice();let B=a.child;for(;null!==B;){if(128!==B.type){const H=o?RD(B,o):0;null!==H&&(A[H]?A[H].projectionNext=B:g[H]=B,A[H]=B)}B=B.next}}}function AD(o,a=0,l,g,A,B){const H=Nn(),ie=Ki(),_e=g?o+1:null;null!==_e&&_u(H,ie,_e,g,A,B,null,l);const Be=$n(ie,zi+o,16,null,l||null);null===Be.projection&&(Be.projection=a),Ra();const Ot=!H[po]||Bd();null===H[wo][qs].projection[Be.projection]&&null!==_e?function ww(o,a,l){const g=zi+l,A=a.data[g],B=o[g],H=mu(B,A.tView.ssrId);Ep(B,Bc(o,A,void 0,{dehydratedView:H}),0,Uc(A,H))}(H,ie,_e):Ot&&32&~Be.flags&&function _S(o,a,l){yp(a[ls],0,a,l,A0(o,l,a),L0(l.parent||a[qs],l,a))}(ie,H,Be)}function xD(o,a,l){return pE(o,"",a,"",l),xD}function pE(o,a,l,g,A){const B=Nn(),H=Td(B,a,l,g);return H!==Rs&&Ja(Ki(),Vo(),B,o,H,B[ls],A,!1),pE}function fE(o,a,l,g,A,B,H){const ie=Nn(),_e=yu(ie,a,l,g,A,B);return _e!==Rs&&Ja(Ki(),Vo(),ie,o,_e,ie[ls],H,!1),fE}function HR(o,a,l,g){!function hc(o,a,l,g){const A=Ki();if(A.firstCreatePass){const B=co();$C(A,new kC(a,l,g),B.index),function LI(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(A,o),!(2&~l)&&(A.staticContentQueries=!0)}return uh(A,Nn(),l)}(o,a,l,g)}function zR(o,a,l){!function jc(o,a,l){const g=Ki();return g.firstCreatePass&&($C(g,new kC(o,a,l),-1),!(2&~a)&&(g.staticViewQueries=!0)),uh(g,Nn(),a)}(o,a,l)}function XR(o){const a=Nn(),l=Ki(),g=Tg();Vh(g+1);const A=vy(l,g);if(o.dirty&&function fg(o){return!(4&~o[Ui])}(a)===!(2&~A.metadata.flags)){if(null===A.matches)o.reset([]);else{const B=Cd(a,g);o.reset(B,$o),o.notifyOnChanges()}return!0}return!1}function YR(){return function _y(o,a){return o[Pa].queries[a].queryList}(Nn(),Tg())}function mE(o,a,l,g){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=g}function _v(o){return jl(xu(),zi+o)}function $D(o,a=""){const l=Nn(),g=Ki(),A=o+zi,B=g.firstCreatePass?$n(g,A,1,a,null):g.data[A],H=WD(g,l,B,a,o);l[A]=H,Gh()&&gd(g,l,H,B),ol(B,!1)}let WD=(o,a,l,g,A)=>(rl(!0),P0(a[ls],g));function zm(o,a,l,g,A){const B=a[po],H=!B||Bd()||xp(l)||cd(B,A);return rl(H),H?P0(a[ls],g):mm(B,o,a,l)}function gE(o){return Ev("",o,""),gE}function Ev(o,a,l){const g=Nn(),A=Td(g,o,a,l);return A!==Rs&&yd(g,pa(),A),Ev}function tf(o,a,l,g,A){const B=Nn(),H=yu(B,o,a,l,g,A);return H!==Rs&&yd(B,pa(),H),tf}function _E(o,a,l,g,A,B,H){const ie=Nn(),_e=function Lm(o,a,l,g,A,B,H,ie){const Be=k_(o,ha(),l,A,H);return Vl(3),Be?a+_n(l)+g+_n(A)+B+_n(H)+ie:Rs}(ie,o,a,l,g,A,B,H);return _e!==Rs&&yd(ie,pa(),_e),_E}function Id(o,a,l,g,A,B,H,ie,_e){const Be=Nn(),Ze=function Wp(o,a,l,g,A,B,H,ie,_e,Be){const Ot=Na(o,ha(),l,A,H,_e);return Vl(4),Ot?a+_n(l)+g+_n(A)+B+_n(H)+ie+_n(_e)+Be:Rs}(Be,o,a,l,g,A,B,H,ie,_e);return Ze!==Rs&&yd(Be,pa(),Ze),Id}function bv(o,a,l){HC(a)&&(a=a());const g=Nn();return Fr(g,Ma(),a)&&Ja(Ki(),Vo(),g,o,a,g[ls],l,!1),bv}function zD(o,a){const l=HC(o);return l&&o.set(a),l}function vE(o,a){const l=Nn(),g=Ki(),A=co();return qp(g,l,l[ls],A,o,a),vE}const zc={};function XD(o){const a=Ki(),l=Nn(),g=o+zi;return ol($n(a,g,128,null,null),!1),mE(a,l,g,zc),XD}function YD(o){return La("NgLet"),mE(Ki(),Nn(),pa(),o),o}function Dv(o){const l=jl(xu(),zi+o);if(l===zc)throw new Ge(314,!1);return l}function yE(o,a,l,g,A){if(o=Le(o),Array.isArray(o))for(let B=0;B<o.length;B++)yE(o[B],a,l,g,A);else{const B=Ki(),H=Nn(),ie=co();let _e=Vr(o)?o:Le(o.provide);const Be=Zs(o),Ze=1048575&ie.providerIndexes,Ot=ie.directiveStart,nt=ie.providerIndexes>>20;if(Vr(o)||!o.multi){const Ut=new $d(Be,A,th),ln=CE(_e,a,A?Ze:Ze+nt,Ot);-1===ln?(If(ku(ie,H),B,_e),EE(B,o,a.length),a.push(_e),ie.directiveStart++,ie.directiveEnd++,A&&(ie.providerIndexes+=1048576),l.push(Ut),H.push(Ut)):(l[ln]=Ut,H[ln]=Ut)}else{const Ut=CE(_e,a,Ze+nt,Ot),ln=CE(_e,a,Ze,Ze+nt),ti=ln>=0&&l[ln];if(A&&!ti||!A&&!(Ut>=0&&l[Ut])){If(ku(ie,H),B,_e);const li=function rA(o,a,l,g,A){const B=new $d(o,l,th);return B.multi=[],B.index=a,B.componentProviders=0,JD(B,A,g&&!l),B}(A?oA:Fw,l.length,A,g,Be);!A&&ti&&(l[ln].providerFactory=li),EE(B,o,a.length,0),a.push(_e),ie.directiveStart++,ie.directiveEnd++,A&&(ie.providerIndexes+=1048576),l.push(li),H.push(li)}else EE(B,o,Ut>-1?Ut:ln,JD(l[A?ln:Ut],Be,!A&&g));!A&&g&&ti&&l[ln].componentProviders++}}}function EE(o,a,l,g){const A=Vr(a),B=function Ql(o){return!!o.useClass}(a);if(A||B){const _e=(B?Le(a.useClass):a).prototype.ngOnDestroy;if(_e){const Be=o.destroyHooks||(o.destroyHooks=[]);if(!A&&a.multi){const Ze=Be.indexOf(l);-1===Ze?Be.push(l,[g,_e]):Be[Ze+1].push(g,_e)}else Be.push(l,_e)}}}function JD(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function CE(o,a,l,g){for(let A=l;A<g;A++)if(a[A]===o)return A;return-1}function Fw(o,a,l,g){return bE(this.multi,[])}function oA(o,a,l,g){const A=this.multi;let B;if(this.providerFactory){const H=this.providerFactory.componentProviders,ie=nd(l,l[ii],this.providerFactory.index,g);B=ie.slice(0,H),bE(A,B);for(let _e=H;_e<ie.length;_e++)B.push(ie[_e])}else B=[],bE(A,B);return B}function bE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function QD(o,a=[]){return l=>{l.providersResolver=(g,A)=>function sA(o,a,l){const g=Ki();if(g.firstCreatePass){const A=$a(o);yE(l,g.data,g.blueprint,A,!0),yE(a,g.data,g.blueprint,A,!1)}}(g,A?A(o):o,a)}}let aA=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const g=wl(0,l.type),A=g.length>0?ph([g],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,A)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=si({token:o,providedIn:"environment",factory:()=>new o(_o(Hn))})}}return o})();function ZD(o){La("NgStandalone"),o.getStandaloneInjector=a=>a.get(aA).getOrCreateStandaloneInjector(o)}function tT(o,a,l){const g=Vi()+o,A=Nn();return A[g]===Rs?Vc(A,g,l?a.call(l):a()):Pm(A,g)}function nT(o,a,l,g){return aT(Nn(),Vi(),o,a,l,g)}function iT(o,a,l,g,A){return lT(Nn(),Vi(),o,a,l,g,A)}function sT(o,a,l,g,A,B){return cT(Nn(),Vi(),o,a,l,g,A,B)}function oT(o,a,l,g,A,B,H){return function dT(o,a,l,g,A,B,H,ie,_e){const Be=a+l;return Na(o,Be,A,B,H,ie)?Vc(o,Be+4,_e?g.call(_e,A,B,H,ie):g(A,B,H,ie)):Jm(o,Be+4)}(Nn(),Vi(),o,a,l,g,A,B,H)}function rT(o,a,l,g,A,B,H,ie){const _e=Vi()+o,Be=Nn(),Ze=Na(Be,_e,l,g,A,B);return Fr(Be,_e+4,H)||Ze?Vc(Be,_e+5,ie?a.call(ie,l,g,A,B,H):a(l,g,A,B,H)):Pm(Be,_e+5)}function Jm(o,a){const l=o[a];return l===Rs?void 0:l}function aT(o,a,l,g,A,B){const H=a+l;return Fr(o,H,A)?Vc(o,H+1,B?g.call(B,A):g(A)):Jm(o,H+1)}function lT(o,a,l,g,A,B,H){const ie=a+l;return mh(o,ie,A,B)?Vc(o,ie+2,H?g.call(H,A,B):g(A,B)):Jm(o,ie+2)}function cT(o,a,l,g,A,B,H,ie){const _e=a+l;return k_(o,_e,A,B,H)?Vc(o,_e+3,ie?g.call(ie,A,B,H):g(A,B,H)):Jm(o,_e+3)}function hT(o,a){const l=Ki();let g;const A=o+zi;l.firstCreatePass?(g=function Qm(o,a){if(a)for(let l=a.length-1;l>=0;l--){const g=a[l];if(o===g.name)return g}}(a,l.pipeRegistry),l.data[A]=g,g.onDestroy&&(l.destroyHooks??=[]).push(A,g.onDestroy)):g=l.data[A];const B=g.factory||(g.factory=pt(g.type)),ie=xi(th);try{const _e=Gd(!1),Be=B();return Gd(_e),mE(l,Nn(),A,Be),Be}finally{xi(ie)}}function pT(o,a,l){const g=o+zi,A=Nn(),B=jl(A,g);return qm(A,g)?aT(A,Vi(),a,B.transform,l,B):B.transform(l)}function fT(o,a,l,g){const A=o+zi,B=Nn(),H=jl(B,A);return qm(B,A)?lT(B,Vi(),a,H.transform,l,g,H):H.transform(l,g)}function Zm(o,a,l,g,A){const B=o+zi,H=Nn(),ie=jl(H,B);return qm(H,B)?cT(H,Vi(),a,ie.transform,l,g,A,ie):ie.transform(l,g,A)}function qm(o,a){return o[ii].data[a].pure}function DE(o,a){return Xl(o,a)}class PT{constructor(a){this.full=a;const l=a.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let RT=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();const QA=new Pt(""),LT=new Pt("");let LE,sL=(()=>{class o{constructor(l,g,A){this._ngZone=l,this.registry=g,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,LE||(function qA(o){LE=o}(A),A.addToWindow(g)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,A){let B=-1;g&&g>0&&(B=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==B),l()},g)),this._callbacks.push({doneCb:l,timeoutId:B,updateCb:A})}whenStable(l,g,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,A),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,g,A){return[]}static{this.\u0275fac=function(g){return new(g||o)(_o(Pi),_o(ZA),_o(LT))}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac})}}return o})(),ZA=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return LE?.findTestabilityInTree(this,l,g)??null}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();function NE(o){return!!o&&"function"==typeof o.then}function ex(o){return!!o&&"function"==typeof o.subscribe}const tx=new Pt("");let nx=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g}),this.appInits=yi(tx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const A of this.appInits){const B=A();if(NE(B))l.push(B);else if(ex(B)){const H=new Promise((ie,_e)=>{B.subscribe({complete:ie,error:_e})});l.push(H)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{g()}).catch(A=>{this.reject(A)}),0===l.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const ng=new Pt("");let sg,Yc=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yi(_i),this.afterRenderManager=yi(fb),this.zonelessEnabled=yi(Mp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new et.B,this.afterTick=new et.B,this.componentTypes=[],this.components=[],this.isStable=yi(ec).hasPendingTasks.pipe((0,st.T)(l=>!l)),this._injector=yi(Hn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let l;return new Promise(g=>{l=this.isStable.subscribe({next:A=>{A&&g()}})}).finally(()=>{l.unsubscribe()})}get injector(){return this._injector}bootstrap(l,g){const A=l instanceof xC;if(!this._injector.get(nx).done)throw!A&&so(l),new Ge(405,!1);let H;H=A?l:this._injector.get(vm).resolveComponentFactory(l),this.componentTypes.push(H.componentType);const ie=function ix(o){return o.isBoundToModule}(H)?void 0:this._injector.get(kc),Be=H.create(Sr.NULL,[],g||H.selector,ie),Ze=Be.location.nativeElement,Ot=Be.injector.get(QA,null);return Ot?.registerApplication(Ze),Be.onDestroy(()=>{this.detachView(Be.hostView),ig(this.components,Be),Ot?.unregisterApplication(Ze)}),this._loadComponent(Be),Be}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ge(101,!1);const l=m(null);try{this._runningTick=!0,this.synchronize()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,m(l),this.afterTick.next()}}synchronize(){let l=null;this._injector.destroyed||(l=this._injector.get(ry,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let g=0;for(;0!==this.dirtyFlags&&g++<10;)this.synchronizeOnce(l)}synchronizeOnce(l){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:A,notifyErrorHandler:B}of this._views)oL(A,B,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else l?.begin?.(),l?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>Au(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;ig(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const g=this._injector.get(ng,[]);[...this._bootstrapListeners,...g].forEach(A=>A(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>ig(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ge(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function ig(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function BT(o){sg??=new WeakMap;const a=sg.get(o);if(a)return a;const l=o.isStable.pipe((0,We.$)(g=>g)).toPromise().then(()=>{});return sg.set(o,l),o.onDestroy(()=>sg?.delete(o)),l}function oL(o,a,l,g){(l||Au(o))&&C_(o,a,l&&!g?0:1)}class rx{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let ax=(()=>{class o{compileModuleSync(l){return new Sy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),B=Ya(jo(l).declarations).reduce((H,ie)=>{const _e=vs(ie);return _e&&H.push(new bm(_e)),H},[]);return new rx(g,B)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),lx=(()=>{class o{constructor(){this.zone=yi(Pi),this.changeDetectionScheduler=yi(ch),this.applicationRef=yi(Yc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function jT({ngZoneFactory:o,ignoreChangesOutsideZone:a,scheduleInRootZone:l}){return o??=()=>new Pi({...UE(),scheduleInRootZone:l}),[{provide:Pi,useFactory:o},{provide:Oo,multi:!0,useFactory:()=>{const g=yi(lx,{optional:!0});return()=>g.initialize()}},{provide:Oo,multi:!0,useFactory:()=>{const g=yi(dx);return()=>{g.initialize()}}},!0===a?{provide:AC,useValue:!0}:[],{provide:oy,useValue:l??Rf}]}function UE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let dx=(()=>{class o{constructor(){this.subscription=new $e.yU,this.initialized=!1,this.zone=yi(Pi),this.pendingTasks=yi(ec)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),og=(()=>{class o{constructor(){this.appRef=yi(Yc),this.taskService=yi(ec),this.ngZone=yi(Pi),this.zonelessEnabled=yi(Mp),this.disableScheduling=yi(AC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ds):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(yi(oy,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rn||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const g=this.useMicrotaskScheduler?jg:xf;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>g(()=>this.tick())):this.ngZone.runOutsideAngular(()=>g(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ds+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(g){throw this.taskService.remove(l),g}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const kE=new Pt("",{providedIn:"root",factory:()=>yi(kE,un.Optional|un.SkipSelf)||function ux(){return typeof $localize<"u"&&$localize.locale||Dh}()}),hx=new Pt("",{providedIn:"root",factory:()=>"USD"}),Ah=new Pt("");function ag(o){return!o.moduleRef}let Mu=null;function XT(){return!1}function bx(){}let JT=(()=>{class o{static{this.__NG_ELEMENT_ID__=Dx}}return o})();function Dx(o){return function Tx(o,a,l){if(sl(o)&&!l){const g=ua(o.index,a);return new rm(g,g)}return 175&o.type?new rm(a[wo],a):null}(co(),Nn(),!(16&~o))}class qT{constructor(){}supports(a){return fh(a)}create(a){return new Rx(a)}}const Px=(o,a)=>a;class Rx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Px}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,g=this._removalsHead,A=0,B=null;for(;l||g;){const H=!g||l&&l.currentIndex<tM(g,A,B)?l:g,ie=tM(H,A,B),_e=H.currentIndex;if(H===g)A--,g=g._nextRemoved;else if(l=l._next,null==H.previousIndex)A++;else{B||(B=[]);const Be=ie-A,Ze=_e-A;if(Be!=Ze){for(let nt=0;nt<Be;nt++){const Ut=nt<B.length?B[nt]:B[nt]=0,ln=Ut+nt;Ze<=ln&&ln<Be&&(B[nt]=Ut+1)}B[H.previousIndex]=Ze-Be}}ie!==_e&&a(H,ie,_e)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!fh(a))throw new Ge(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let A,B,H,l=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let ie=0;ie<this.length;ie++)B=a[ie],H=this._trackByFn(ie,B),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,B,H,ie)),Object.is(l.item,B)||this._addIdentityChange(l,B)):(l=this._mismatch(l,B,H,ie),g=!0),l=l._next}else A=0,function lb(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let g;for(;!(g=l.next()).done;)a(g.value)}}(a,ie=>{H=this._trackByFn(A,ie),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,ie,H,A)),Object.is(l.item,ie)||this._addIdentityChange(l,ie)):(l=this._mismatch(l,ie,H,A),g=!0),l=l._next,A++}),this.length=A;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,g,A){let B;return null===a?B=this._itTail:(B=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,B,A)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,A))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,B,A)):a=this._addAfter(new Ax(l,g),B,A),a}_verifyReinsertion(a,l,g,A){let B=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==B?a=this._reinsertAfter(B,a._prev,A):a.currentIndex!=A&&(a.currentIndex=A,this._addToMoves(a,A)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const A=a._prevRemoved,B=a._nextRemoved;return null===A?this._removalsHead=B:A._nextRemoved=B,null===B?this._removalsTail=A:B._prevRemoved=A,this._insertAfter(a,l,g),this._addToMoves(a,g),a}_moveAfter(a,l,g){return this._unlink(a),this._insertAfter(a,l,g),this._addToMoves(a,g),a}_addAfter(a,l,g){return this._insertAfter(a,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,g){const A=null===l?this._itHead:l._next;return a._next=A,a._prev=l,null===A?this._itTail=a:A._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new eM),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,g=a._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eM),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Ax{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const l=a._prevDup,g=a._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class eM{constructor(){this.map=new Map}put(a){const l=a.trackById;let g=this.map.get(l);g||(g=new xx,this.map.set(l,g)),g.add(a)}get(a,l){const A=this.map.get(a);return A?A.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tM(o,a,l){const g=o.previousIndex;if(null===g)return g;let A=0;return l&&g<l.length&&(A=l[g]),g+a+A}class YE{constructor(){}supports(a){return a instanceof Map||Iy(a)}create(){return new wx}}class wx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Iy(a)))throw new Ge(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,A)=>{if(l&&l.key===A)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const B=this._getOrCreateRecordForKey(A,g);l=this._insertBeforeOrAppend(l,B)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const g=a._prev;return l._next=a,l._prev=g,a._prev=l,g&&(g._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const A=this._records.get(a);this._maybeAddToChanges(A,l);const B=A._prev,H=A._next;return B&&(B._next=H),H&&(H._prev=B),A._next=null,A._prev=null,A}const g=new Lx(a);return this._records.set(a,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(g=>l(a[g],g))}}class Lx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nx(){return new JE([new qT])}let JE=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:Nx})}constructor(l){this.factories=l}static create(l,g){if(null!=g){const A=g.factories.slice();l=l.concat(A)}return new o(l)}static extend(l){return{provide:o,useFactory:g=>o.create(l,g||Nx()),deps:[[o,new lt,new sa]]}}find(l){const g=this.factories.find(A=>A.supports(l));if(null!=g)return g;throw new Ge(901,!1)}}return o})();function nM(){return new QE([new YE])}let QE=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:nM})}constructor(l){this.factories=l}static create(l,g){if(g){const A=g.factories.slice();l=l.concat(A)}return new o(l)}static extend(l){return{provide:o,useFactory:g=>o.create(l,g||nM()),deps:[[o,new lt,new sa]]}}find(l){const g=this.factories.find(A=>A.supports(l));if(g)return g;throw new Ge(901,!1)}}return o})();function Cs(o){try{const{rootComponent:a,appProviders:l,platformProviders:g}=o,A=function HT(o=[]){if(Mu)return Mu;const a=function VE(o=[],a){return Sr.create({name:a,providers:[{provide:rr,useValue:"platform"},{provide:Ah,useValue:new Set([()=>Mu=null])},...o]})}(o);return Mu=a,function FE(){!function fe(o){ne=o}(()=>{throw new Ge(600,!1)})}(),function zT(o){o.get(C1,null)?.forEach(l=>l())}(a),a}(g),B=[jT({}),{provide:ch,useExisting:og},...l||[]];return function WT(o){const a=ag(o)?o.r3Injector:o.moduleRef.injector,l=a.get(Pi);return l.run(()=>{ag(o)?o.r3Injector.resolveInjectorInitializers():o.moduleRef.resolveInjectorInitializers();const g=a.get(qn,null);let A;if(l.runOutsideAngular(()=>{A=l.onError.subscribe({next:B=>{g.handleError(B)}})}),ag(o)){const B=()=>a.destroy(),H=o.platformInjector.get(Ah);H.add(B),a.onDestroy(()=>{A.unsubscribe(),H.delete(B)})}else{const B=()=>o.moduleRef.destroy(),H=o.platformInjector.get(Ah);H.add(B),o.moduleRef.onDestroy(()=>{ig(o.allPlatformModules,o.moduleRef),A.unsubscribe(),H.delete(B)})}return function ox(o,a,l){try{const g=l();return NE(g)?g.catch(A=>{throw a.runOutsideAngular(()=>o.handleError(A)),A}):g}catch(g){throw a.runOutsideAngular(()=>o.handleError(g)),g}}(g,l,()=>{const B=a.get(nx);return B.runInitializers(),B.donePromise.then(()=>{if(function pR(o){"string"==typeof o&&(fD=o.toLowerCase().replace(/_/g,"-"))}(a.get(kE,Dh)||Dh),ag(o)){const ie=a.get(Yc);return void 0!==o.rootComponent&&ie.bootstrap(o.rootComponent),ie}return function gx(o,a){const l=o.injector.get(Yc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(g=>l.bootstrap(g));else{if(!o.instance.ngDoBootstrap)throw new Ge(-403,!1);o.instance.ngDoBootstrap(l)}a.push(o)}(o.moduleRef,o.allPlatformModules),o.moduleRef})})})}({r3Injector:new ab({providers:B,parent:A,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:A,rootComponent:a})}catch(a){return Promise.reject(a)}}let e1=!1;function zx(){return wr([{provide:n_,useFactory:()=>{let o=!0;return Wr()&&(o=!!yi(jf,{optional:!0})?.get(l0,null)),o&&La("NgHydration"),o}},{provide:Oo,useValue:()=>{(function Dp(o){DC=o})(!1),Wr()&&yi(n_)&&(function Xx(){const o=qd();let a;for(const l of o.body.childNodes)if(l.nodeType===Node.COMMENT_NODE&&l.textContent?.trim()===UO){a=l;break}if(!a)throw new Ge(-507,!1)}(),function Kx(){e1||(e1=!0,function $f(){b1=D1}(),function rR(){lD=sv}(),function iA(){WD=zm}(),function cR(){dD=lR}(),function nP(){Py=tP}(),function RI(){L_=PI,uy=II}(),function RC(){PC=R_}(),function DS(){X1=bS}())}())},multi:!0},{provide:P1,useFactory:()=>Wr()&&yi(n_)},{provide:ng,useFactory:()=>{if(Wr()&&yi(n_)){const o=yi(Yc);return yi(Sr),()=>{(function Hx(o){return BT(o)})(o).then(()=>{!function _m(o){const a=o._views;for(const l of a){const g=c0(l);null!==g&&null!==g[bs]&&(nr(g)?P_(g):IC(g))}}(o)})}}return()=>{}},multi:!0}])}function hM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function pM(o,a=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?a:Number(o)}function Fv(o,a){La("NgSignals");const l=function z(o){const a=Object.create(J);a.computation=o;const l=()=>{if(I(a),O(a),a.value===X)throw a.error;return a.value};return l[f]=a,l}(o);return a?.equal&&(l[f].equal=a.equal),l}function mM(o){const a=m(null);try{return o()}finally{m(a)}}const gM=new Pt("",{providedIn:"root",factory:()=>yi(_M)});let _M=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new s1})}}return o})();class s1{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=yi(ec),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(a){const l=a.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const g=this.queues.get(l);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,l]of this.queues)null===a?this.flushQueue(l):a.run(()=>this.flushQueue(l))}flushQueue(a){for(const l of a)a.delete(l),this.queuedEffectCount--,l.run()}}class t2{constructor(a,l,g,A,B,H){this.scheduler=a,this.effectFn=l,this.creationZone=g,this.injector=B,this.watcher=function le(o,a,l){const g=Object.create(ve);l&&(g.consumerAllowSignalWrites=!0),g.fn=o,g.schedule=a;const A=_e=>{g.cleanupFn=_e};return g.ref={notify:()=>h(g),run:()=>{if(null===g.fn)return;if(function y(){return c}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!w(g))return;g.hasRun=!0;const _e=S(g);try{g.cleanupFn(),g.cleanupFn=ce,g.fn(A)}finally{T(g,_e)}},cleanup:()=>g.cleanupFn(),destroy:()=>function H(_e){(function B(_e){return null===_e.fn&&null===_e.schedule})(_e)||(M(_e),_e.cleanupFn(),_e.fn=null,_e.schedule=null,_e.cleanupFn=ce)}(g),[f]:g},g.ref}(ie=>this.runEffect(ie),()=>this.schedule(),H),this.unregisterOnDestroy=A?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(l){this.injector.get(qn,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Bv(o,a){La("NgSignals"),!a?.injector&&Ao();const l=a?.injector??yi(Sr),g=!0!==a?.manualCleanup?l.get(Jd):null,A=new t2(l.get(gM),o,typeof Zone>"u"?null:Zone.current,g,l,a?.allowSignalWrites??!1),B=l.get(JT,null,{optional:!0});return B&&8&B._lView[Ui]?(B._lView[Ad]??=[]).push(A.watcher.notify):A.watcher.notify(),A}function hg(o,a){const l=vs(o),g=a.elementInjector||In();return new bm(l).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function o1(o){const a=vs(o);if(!a)return null;const l=new bm(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function vM(...o){return o.reduce((a,l)=>Object.assign(a,l,{providers:[...a.providers,...l.providers]}),{providers:[]})}},89079:(U,b,n)=>{"use strict";n.d(b,{ot:()=>E,pQ:()=>e});var i=n(54438),t=n(71985),c=n(56977);function e(O){O||((0,i.Af3)(e),O=(0,i.WQX)(i.abz));const C=new t.c(I=>O.onDestroy(I.next.bind(I)));return I=>I.pipe((0,c.Q)(C))}function E(O,C){const I=!C?.manualCleanup;I&&!C?.injector&&(0,i.Af3)(E);const D=I?C?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null,R=function v(O=Object.is){return(C,I)=>1===C.kind&&1===I.kind&&O(C.value,I.value)}(C?.equal);let h;h=(0,i.vPA)(C?.requireSync?{kind:0}:{kind:1,value:C?.initialValue},{equal:R});const S=O.subscribe({next:T=>h.set({kind:1,value:T}),error:T=>{if(C?.rejectErrors)throw T;h.set({kind:2,error:T})}});if(C?.requireSync&&0===h().kind)throw new i.wOt(601,!1);return D?.onDestroy(S.unsubscribe.bind(S)),(0,i.EWP)(()=>{const T=h();switch(T.kind){case 1:return T.value;case 2:throw T.error;case 0:throw new i.wOt(601,!1)}},{equal:C?.equal})}},89417:(U,b,n)=>{"use strict";n.d(b,{$R:()=>Bo,BC:()=>De,Bm:()=>el,Fm:()=>Fo,J3:()=>vt,JD:()=>Ar,MJ:()=>Ms,Q0:()=>xi,R_:()=>pr,VZ:()=>Ei,W0:()=>at,X1:()=>Bn,Y4:()=>ft,YN:()=>sn,YS:()=>Do,ZU:()=>Se,Zm:()=>O,cV:()=>is,cb:()=>ut,cz:()=>T,hs:()=>Ji,j4:()=>ur,k0:()=>L,kq:()=>E,l_:()=>Dr,me:()=>R,ok:()=>en,pg:()=>w,qT:()=>kn,tU:()=>ss,v8:()=>_o,vO:()=>et,vS:()=>un,wz:()=>ba,xH:()=>Da,xh:()=>oa,xq:()=>Yi,y7:()=>pt,zX:()=>wi,ze:()=>Je});var i=n(54438),t=n(60177),c=n(22806),e=n(27468),f=n(21413),m=n(96354);let p=(()=>{class xe{constructor(Oe,dt){this._renderer=Oe,this._elementRef=dt,this.onChange=Xt=>{},this.onTouched=()=>{}}setProperty(Oe,dt){this._renderer.setProperty(this._elementRef.nativeElement,Oe,dt)}registerOnTouched(Oe){this.onTouched=Oe}registerOnChange(Oe){this.onChange=Oe}setDisabledState(Oe){this.setProperty("disabled",Oe)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:xe})}}return xe})(),y=(()=>{class xe extends p{static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,features:[i.Vt3]})}}return xe})();const E=new i.nKC(""),v={provide:E,useExisting:(0,i.Rfq)(()=>O),multi:!0};let O=(()=>{class xe extends y{writeValue(Oe){this.setProperty("checked",Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("change",function(os){return Xt.onChange(os.target.checked)})("blur",function(){return Xt.onTouched()})},features:[i.Jv_([v]),i.Vt3]})}}return xe})();const C={provide:E,useExisting:(0,i.Rfq)(()=>R),multi:!0},D=new i.nKC("");let R=(()=>{class xe extends p{constructor(Oe,dt,Xt){super(Oe,dt),this._compositionMode=Xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I(){const xe=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(xe.toLowerCase())}())}writeValue(Oe){this.setProperty("value",Oe??"")}_handleInput(Oe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Oe)}_compositionStart(){this._composing=!0}_compositionEnd(Oe){this._composing=!1,this._compositionMode&&this.onChange(Oe)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(D,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("input",function(os){return Xt._handleInput(os.target.value)})("blur",function(){return Xt.onTouched()})("compositionstart",function(){return Xt._compositionStart()})("compositionend",function(os){return Xt._compositionEnd(os.target.value)})},features:[i.Jv_([C]),i.Vt3]})}}return xe})();function h(xe){return null==xe||("string"==typeof xe||Array.isArray(xe))&&0===xe.length}function S(xe){return null!=xe&&"number"==typeof xe.length}const T=new i.nKC(""),w=new i.nKC(""),M=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class L{static min(Ve){return N(Ve)}static max(Ve){return j(Ve)}static required(Ve){return $(Ve)}static requiredTrue(Ve){return k(Ve)}static email(Ve){return function K(xe){return h(xe.value)||M.test(xe.value)?null:{email:!0}}(Ve)}static minLength(Ve){return z(Ve)}static maxLength(Ve){return V(Ve)}static pattern(Ve){return G(Ve)}static nullValidator(Ve){return null}static compose(Ve){return oe(Ve)}static composeAsync(Ve){return te(Ve)}}function N(xe){return Ve=>{if(h(Ve.value)||h(xe))return null;const Oe=parseFloat(Ve.value);return!isNaN(Oe)&&Oe<xe?{min:{min:xe,actual:Ve.value}}:null}}function j(xe){return Ve=>{if(h(Ve.value)||h(xe))return null;const Oe=parseFloat(Ve.value);return!isNaN(Oe)&&Oe>xe?{max:{max:xe,actual:Ve.value}}:null}}function $(xe){return h(xe.value)?{required:!0}:null}function k(xe){return!0===xe.value?null:{required:!0}}function z(xe){return Ve=>h(Ve.value)||!S(Ve.value)?null:Ve.value.length<xe?{minlength:{requiredLength:xe,actualLength:Ve.value.length}}:null}function V(xe){return Ve=>S(Ve.value)&&Ve.value.length>xe?{maxlength:{requiredLength:xe,actualLength:Ve.value.length}}:null}function G(xe){if(!xe)return X;let Ve,Oe;return"string"==typeof xe?(Oe="","^"!==xe.charAt(0)&&(Oe+="^"),Oe+=xe,"$"!==xe.charAt(xe.length-1)&&(Oe+="$"),Ve=new RegExp(Oe)):(Oe=xe.toString(),Ve=xe),dt=>{if(h(dt.value))return null;const Xt=dt.value;return Ve.test(Xt)?null:{pattern:{requiredPattern:Oe,actualValue:Xt}}}}function X(xe){return null}function J(xe){return null!=xe}function q(xe){return(0,i.jNT)(xe)?(0,c.H)(xe):xe}function ne(xe){let Ve={};return xe.forEach(Oe=>{Ve=null!=Oe?{...Ve,...Oe}:Ve}),0===Object.keys(Ve).length?null:Ve}function ee(xe,Ve){return Ve.map(Oe=>Oe(xe))}function ye(xe){return xe.map(Ve=>function fe(xe){return!xe.validate}(Ve)?Ve:Oe=>Ve.validate(Oe))}function oe(xe){if(!xe)return null;const Ve=xe.filter(J);return 0==Ve.length?null:function(Oe){return ne(ee(Oe,Ve))}}function ue(xe){return null!=xe?oe(ye(xe)):null}function te(xe){if(!xe)return null;const Ve=xe.filter(J);return 0==Ve.length?null:function(Oe){const dt=ee(Oe,Ve).map(q);return(0,e.p)(dt).pipe((0,m.T)(ne))}}function se(xe){return null!=xe?te(ye(xe)):null}function be(xe,Ve){return null===xe?[Ve]:Array.isArray(xe)?[...xe,Ve]:[xe,Ve]}function me(xe){return xe._rawValidators}function re(xe){return xe._rawAsyncValidators}function Z(xe){return xe?Array.isArray(xe)?xe:[xe]:[]}function le(xe,Ve){return Array.isArray(xe)?xe.includes(Ve):xe===Ve}function ce(xe,Ve){const Oe=Z(Ve);return Z(xe).forEach(Xt=>{le(Oe,Xt)||Oe.push(Xt)}),Oe}function ve(xe,Ve){return Z(Ve).filter(Oe=>!le(xe,Oe))}class ze{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ve){this._rawValidators=Ve||[],this._composedValidatorFn=ue(this._rawValidators)}_setAsyncValidators(Ve){this._rawAsyncValidators=Ve||[],this._composedAsyncValidatorFn=se(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ve){this._onDestroyCallbacks.push(Ve)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ve=>Ve()),this._onDestroyCallbacks=[]}reset(Ve=void 0){this.control&&this.control.reset(Ve)}hasError(Ve,Oe){return!!this.control&&this.control.hasError(Ve,Oe)}getError(Ve,Oe){return this.control?this.control.getError(Ve,Oe):null}}class Se extends ze{get formDirective(){return null}get path(){return null}}class et extends ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $e{constructor(Ve){this._cd=Ve}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let De=(()=>{class xe extends $e{constructor(Oe){super(Oe)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(et,2))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(dt,Xt){2&dt&&i.AVh("ng-untouched",Xt.isUntouched)("ng-touched",Xt.isTouched)("ng-pristine",Xt.isPristine)("ng-dirty",Xt.isDirty)("ng-valid",Xt.isValid)("ng-invalid",Xt.isInvalid)("ng-pending",Xt.isPending)},features:[i.Vt3]})}}return xe})(),ut=(()=>{class xe extends $e{constructor(Oe){super(Oe)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(dt,Xt){2&dt&&i.AVh("ng-untouched",Xt.isUntouched)("ng-touched",Xt.isTouched)("ng-pristine",Xt.isPristine)("ng-dirty",Xt.isDirty)("ng-valid",Xt.isValid)("ng-invalid",Xt.isInvalid)("ng-pending",Xt.isPending)("ng-submitted",Xt.isSubmitted)},features:[i.Vt3]})}}return xe})();const yt="VALID",Zt="INVALID",on="PENDING",Yt="DISABLED";class Ht{}class Qe extends Ht{constructor(Ve,Oe){super(),this.value=Ve,this.source=Oe}}class ke extends Ht{constructor(Ve,Oe){super(),this.pristine=Ve,this.source=Oe}}class Le extends Ht{constructor(Ve,Oe){super(),this.touched=Ve,this.source=Oe}}class Xe extends Ht{constructor(Ve,Oe){super(),this.status=Ve,this.source=Oe}}class ct extends Ht{constructor(Ve){super(),this.source=Ve}}class Wt extends Ht{constructor(Ve){super(),this.source=Ve}}function fn(xe){return(Ft(xe)?xe.validators:xe)||null}function nn(xe,Ve){return(Ft(Ve)?Ve.asyncValidators:xe)||null}function Ft(xe){return null!=xe&&!Array.isArray(xe)&&"object"==typeof xe}function At(xe,Ve,Oe){const dt=xe.controls;if(!(Ve?Object.keys(dt):dt).length)throw new i.wOt(1e3,"");if(!dt[Oe])throw new i.wOt(1001,"")}function On(xe,Ve,Oe){xe._forEachChild((dt,Xt)=>{if(void 0===Oe[Xt])throw new i.wOt(1002,"")})}class Vn{constructor(Ve,Oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,i.EWP)(()=>this.statusReactive()),this.statusReactive=(0,i.vPA)(void 0),this._pristine=(0,i.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,i.vPA)(!0),this._touched=(0,i.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,i.vPA)(!1),this._events=new f.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ve),this._assignAsyncValidators(Oe)}get validator(){return this._composedValidatorFn}set validator(Ve){this._rawValidators=this._composedValidatorFn=Ve}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ve){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ve}get parent(){return this._parent}get status(){return(0,i.O8t)(this.statusReactive)}set status(Ve){(0,i.O8t)(()=>this.statusReactive.set(Ve))}get valid(){return this.status===yt}get invalid(){return this.status===Zt}get pending(){return this.status==on}get disabled(){return this.status===Yt}get enabled(){return this.status!==Yt}get pristine(){return(0,i.O8t)(this.pristineReactive)}set pristine(Ve){(0,i.O8t)(()=>this.pristineReactive.set(Ve))}get dirty(){return!this.pristine}get touched(){return(0,i.O8t)(this.touchedReactive)}set touched(Ve){(0,i.O8t)(()=>this.touchedReactive.set(Ve))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ve){this._assignValidators(Ve)}setAsyncValidators(Ve){this._assignAsyncValidators(Ve)}addValidators(Ve){this.setValidators(ce(Ve,this._rawValidators))}addAsyncValidators(Ve){this.setAsyncValidators(ce(Ve,this._rawAsyncValidators))}removeValidators(Ve){this.setValidators(ve(Ve,this._rawValidators))}removeAsyncValidators(Ve){this.setAsyncValidators(ve(Ve,this._rawAsyncValidators))}hasValidator(Ve){return le(this._rawValidators,Ve)}hasAsyncValidator(Ve){return le(this._rawAsyncValidators,Ve)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ve={}){const Oe=!1===this.touched;this.touched=!0;const dt=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsTouched({...Ve,sourceControl:dt}),Oe&&!1!==Ve.emitEvent&&this._events.next(new Le(!0,dt))}markAllAsTouched(Ve={}){this.markAsTouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:this}),this._forEachChild(Oe=>Oe.markAllAsTouched(Ve))}markAsUntouched(Ve={}){const Oe=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const dt=Ve.sourceControl??this;this._forEachChild(Xt=>{Xt.markAsUntouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:dt})}),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,dt),Oe&&!1!==Ve.emitEvent&&this._events.next(new Le(!1,dt))}markAsDirty(Ve={}){const Oe=!0===this.pristine;this.pristine=!1;const dt=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsDirty({...Ve,sourceControl:dt}),Oe&&!1!==Ve.emitEvent&&this._events.next(new ke(!1,dt))}markAsPristine(Ve={}){const Oe=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const dt=Ve.sourceControl??this;this._forEachChild(Xt=>{Xt.markAsPristine({onlySelf:!0,emitEvent:Ve.emitEvent})}),this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,dt),Oe&&!1!==Ve.emitEvent&&this._events.next(new ke(!0,dt))}markAsPending(Ve={}){this.status=on;const Oe=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Xe(this.status,Oe)),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.markAsPending({...Ve,sourceControl:Oe})}disable(Ve={}){const Oe=this._parentMarkedDirty(Ve.onlySelf);this.status=Yt,this.errors=null,this._forEachChild(Xt=>{Xt.disable({...Ve,onlySelf:!0})}),this._updateValue();const dt=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Qe(this.value,dt)),this._events.next(new Xe(this.status,dt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ve,skipPristineCheck:Oe},this),this._onDisabledChange.forEach(Xt=>Xt(!0))}enable(Ve={}){const Oe=this._parentMarkedDirty(Ve.onlySelf);this.status=yt,this._forEachChild(dt=>{dt.enable({...Ve,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent}),this._updateAncestors({...Ve,skipPristineCheck:Oe},this),this._onDisabledChange.forEach(dt=>dt(!1))}_updateAncestors(Ve,Oe){this._parent&&!Ve.onlySelf&&(this._parent.updateValueAndValidity(Ve),Ve.skipPristineCheck||this._parent._updatePristine({},Oe),this._parent._updateTouched({},Oe))}setParent(Ve){this._parent=Ve}getRawValue(){return this.value}updateValueAndValidity(Ve={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const dt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===on)&&this._runAsyncValidator(dt,Ve.emitEvent)}const Oe=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Qe(this.value,Oe)),this._events.next(new Xe(this.status,Oe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.updateValueAndValidity({...Ve,sourceControl:Oe})}_updateTreeValidity(Ve={emitEvent:!0}){this._forEachChild(Oe=>Oe._updateTreeValidity(Ve)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yt:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ve,Oe){if(this.asyncValidator){this.status=on,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Oe};const dt=q(this.asyncValidator(this));this._asyncValidationSubscription=dt.subscribe(Xt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Xt,{emitEvent:Oe,shouldHaveEmitted:Ve})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ve=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ve}return!1}setErrors(Ve,Oe={}){this.errors=Ve,this._updateControlsErrors(!1!==Oe.emitEvent,this,Oe.shouldHaveEmitted)}get(Ve){let Oe=Ve;return null==Oe||(Array.isArray(Oe)||(Oe=Oe.split(".")),0===Oe.length)?null:Oe.reduce((dt,Xt)=>dt&&dt._find(Xt),this)}getError(Ve,Oe){const dt=Oe?this.get(Oe):this;return dt&&dt.errors?dt.errors[Ve]:null}hasError(Ve,Oe){return!!this.getError(Ve,Oe)}get root(){let Ve=this;for(;Ve._parent;)Ve=Ve._parent;return Ve}_updateControlsErrors(Ve,Oe,dt){this.status=this._calculateStatus(),Ve&&this.statusChanges.emit(this.status),(Ve||dt)&&this._events.next(new Xe(this.status,Oe)),this._parent&&this._parent._updateControlsErrors(Ve,Oe,dt)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Yt:this.errors?Zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(on)?on:this._anyControlsHaveStatus(Zt)?Zt:yt}_anyControlsHaveStatus(Ve){return this._anyControls(Oe=>Oe.status===Ve)}_anyControlsDirty(){return this._anyControls(Ve=>Ve.dirty)}_anyControlsTouched(){return this._anyControls(Ve=>Ve.touched)}_updatePristine(Ve,Oe){const dt=!this._anyControlsDirty(),Xt=this.pristine!==dt;this.pristine=dt,this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,Oe),Xt&&this._events.next(new ke(this.pristine,Oe))}_updateTouched(Ve={},Oe){this.touched=this._anyControlsTouched(),this._events.next(new Le(this.touched,Oe)),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,Oe)}_registerOnCollectionChange(Ve){this._onCollectionChange=Ve}_setUpdateStrategy(Ve){Ft(Ve)&&null!=Ve.updateOn&&(this._updateOn=Ve.updateOn)}_parentMarkedDirty(Ve){return!Ve&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ve){return null}_assignValidators(Ve){this._rawValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedValidatorFn=function xt(xe){return Array.isArray(xe)?ue(xe):xe||null}(this._rawValidators)}_assignAsyncValidators(Ve){this._rawAsyncValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedAsyncValidatorFn=function ht(xe){return Array.isArray(xe)?se(xe):xe||null}(this._rawAsyncValidators)}}class bi extends Vn{constructor(Ve,Oe,dt){super(fn(Oe),nn(dt,Oe)),this.controls=Ve,this._initObservables(),this._setUpdateStrategy(Oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ve,Oe){return this.controls[Ve]?this.controls[Ve]:(this.controls[Ve]=Oe,Oe.setParent(this),Oe._registerOnCollectionChange(this._onCollectionChange),Oe)}addControl(Ve,Oe,dt={}){this.registerControl(Ve,Oe),this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}removeControl(Ve,Oe={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}setControl(Ve,Oe,dt={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],Oe&&this.registerControl(Ve,Oe),this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}contains(Ve){return this.controls.hasOwnProperty(Ve)&&this.controls[Ve].enabled}setValue(Ve,Oe={}){On(this,0,Ve),Object.keys(Ve).forEach(dt=>{At(this,!0,dt),this.controls[dt].setValue(Ve[dt],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){null!=Ve&&(Object.keys(Ve).forEach(dt=>{const Xt=this.controls[dt];Xt&&Xt.patchValue(Ve[dt],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe))}reset(Ve={},Oe={}){this._forEachChild((dt,Xt)=>{dt.reset(Ve?Ve[Xt]:null,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this._updatePristine(Oe,this),this._updateTouched(Oe,this),this.updateValueAndValidity(Oe)}getRawValue(){return this._reduceChildren({},(Ve,Oe,dt)=>(Ve[dt]=Oe.getRawValue(),Ve))}_syncPendingControls(){let Ve=this._reduceChildren(!1,(Oe,dt)=>!!dt._syncPendingControls()||Oe);return Ve&&this.updateValueAndValidity({onlySelf:!0}),Ve}_forEachChild(Ve){Object.keys(this.controls).forEach(Oe=>{const dt=this.controls[Oe];dt&&Ve(dt,Oe)})}_setUpControls(){this._forEachChild(Ve=>{Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ve){for(const[Oe,dt]of Object.entries(this.controls))if(this.contains(Oe)&&Ve(dt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Oe,dt,Xt)=>((dt.enabled||this.disabled)&&(Oe[Xt]=dt.value),Oe))}_reduceChildren(Ve,Oe){let dt=Ve;return this._forEachChild((Xt,mi)=>{dt=Oe(dt,Xt,mi)}),dt}_allControlsDisabled(){for(const Ve of Object.keys(this.controls))if(this.controls[Ve].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ve){return this.controls.hasOwnProperty(Ve)?this.controls[Ve]:null}}const vt=bi;class Dn extends bi{}const oi=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ai}),ai="always";function ts(xe,Ve){return[...Ve.path,xe]}function ns(xe,Ve,Oe=ai){gn(xe,Ve),Ve.valueAccessor.writeValue(xe.value),(xe.disabled||"always"===Oe)&&Ve.valueAccessor.setDisabledState?.(xe.disabled),function Oi(xe,Ve){Ve.valueAccessor.registerOnChange(Oe=>{xe._pendingValue=Oe,xe._pendingChange=!0,xe._pendingDirty=!0,"change"===xe.updateOn&&Ri(xe,Ve)})}(xe,Ve),function Ai(xe,Ve){const Oe=(dt,Xt)=>{Ve.valueAccessor.writeValue(dt),Xt&&Ve.viewToModelUpdate(dt)};xe.registerOnChange(Oe),Ve._registerOnDestroy(()=>{xe._unregisterOnChange(Oe)})}(xe,Ve),function ps(xe,Ve){Ve.valueAccessor.registerOnTouched(()=>{xe._pendingTouched=!0,"blur"===xe.updateOn&&xe._pendingChange&&Ri(xe,Ve),"submit"!==xe.updateOn&&xe.markAsTouched()})}(xe,Ve),function cn(xe,Ve){if(Ve.valueAccessor.setDisabledState){const Oe=dt=>{Ve.valueAccessor.setDisabledState(dt)};xe.registerOnDisabledChange(Oe),Ve._registerOnDestroy(()=>{xe._unregisterOnDisabledChange(Oe)})}}(xe,Ve)}function si(xe,Ve,Oe=!0){const dt=()=>{};Ve.valueAccessor&&(Ve.valueAccessor.registerOnChange(dt),Ve.valueAccessor.registerOnTouched(dt)),pi(xe,Ve),xe&&(Ve._invokeOnDestroyCallbacks(),xe._registerOnCollectionChange(()=>{}))}function ci(xe,Ve){xe.forEach(Oe=>{Oe.registerOnValidatorChange&&Oe.registerOnValidatorChange(Ve)})}function gn(xe,Ve){const Oe=me(xe);null!==Ve.validator?xe.setValidators(be(Oe,Ve.validator)):"function"==typeof Oe&&xe.setValidators([Oe]);const dt=re(xe);null!==Ve.asyncValidator?xe.setAsyncValidators(be(dt,Ve.asyncValidator)):"function"==typeof dt&&xe.setAsyncValidators([dt]);const Xt=()=>xe.updateValueAndValidity();ci(Ve._rawValidators,Xt),ci(Ve._rawAsyncValidators,Xt)}function pi(xe,Ve){let Oe=!1;if(null!==xe){if(null!==Ve.validator){const Xt=me(xe);if(Array.isArray(Xt)&&Xt.length>0){const mi=Xt.filter(os=>os!==Ve.validator);mi.length!==Xt.length&&(Oe=!0,xe.setValidators(mi))}}if(null!==Ve.asyncValidator){const Xt=re(xe);if(Array.isArray(Xt)&&Xt.length>0){const mi=Xt.filter(os=>os!==Ve.asyncValidator);mi.length!==Xt.length&&(Oe=!0,xe.setAsyncValidators(mi))}}}const dt=()=>{};return ci(Ve._rawValidators,dt),ci(Ve._rawAsyncValidators,dt),Oe}function Ri(xe,Ve){xe._pendingDirty&&xe.markAsDirty(),xe.setValue(xe._pendingValue,{emitModelToViewChange:!1}),Ve.viewToModelUpdate(xe._pendingValue),xe._pendingChange=!1}function qt(xe,Ve){gn(xe,Ve)}function Qt(xe,Ve){if(!xe.hasOwnProperty("model"))return!1;const Oe=xe.model;return!!Oe.isFirstChange()||!Object.is(Ve,Oe.currentValue)}function Mn(xe,Ve){xe._syncPendingControls(),Ve.forEach(Oe=>{const dt=Oe.control;"submit"===dt.updateOn&&dt._pendingChange&&(Oe.viewToModelUpdate(dt._pendingValue),dt._pendingChange=!1)})}function Ln(xe,Ve){if(!Ve)return null;let Oe,dt,Xt;return Array.isArray(Ve),Ve.forEach(mi=>{mi.constructor===R?Oe=mi:function En(xe){return Object.getPrototypeOf(xe.constructor)===y}(mi)?dt=mi:Xt=mi}),Xt||dt||Oe||null}const ki={provide:Se,useExisting:(0,i.Rfq)(()=>is)},Bi=Promise.resolve();let is=(()=>{class xe extends Se{get submitted(){return(0,i.O8t)(this.submittedReactive)}constructor(Oe,dt,Xt){super(),this.callSetDisabledState=Xt,this._submitted=(0,i.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,i.vPA)(!1),this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new bi({},ue(Oe),se(dt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Oe){Bi.then(()=>{const dt=this._findContainer(Oe.path);Oe.control=dt.registerControl(Oe.name,Oe.control),ns(Oe.control,Oe,this.callSetDisabledState),Oe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Oe)})}getControl(Oe){return this.form.get(Oe.path)}removeControl(Oe){Bi.then(()=>{const dt=this._findContainer(Oe.path);dt&&dt.removeControl(Oe.name),this._directives.delete(Oe)})}addFormGroup(Oe){Bi.then(()=>{const dt=this._findContainer(Oe.path),Xt=new bi({});qt(Xt,Oe),dt.registerControl(Oe.name,Xt),Xt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Oe){Bi.then(()=>{const dt=this._findContainer(Oe.path);dt&&dt.removeControl(Oe.name)})}getFormGroup(Oe){return this.form.get(Oe.path)}updateModel(Oe,dt){Bi.then(()=>{this.form.get(Oe.path).setValue(dt)})}setValue(Oe){this.control.setValue(Oe)}onSubmit(Oe){return this.submittedReactive.set(!0),Mn(this.form,this._directives),this.ngSubmit.emit(Oe),"dialog"===Oe?.target?.method}onReset(){this.resetForm()}resetForm(Oe=void 0){this.form.reset(Oe),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Oe){return Oe.pop(),Oe.length?this.form.get(Oe):this.form}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(T,10),i.rXU(w,10),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("submit",function(os){return Xt.onSubmit(os)})("reset",function(){return Xt.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ki]),i.Vt3]})}}return xe})();function us(xe,Ve){const Oe=xe.indexOf(Ve);Oe>-1&&xe.splice(Oe,1)}function fs(xe){return"object"==typeof xe&&null!==xe&&2===Object.keys(xe).length&&"value"in xe&&"disabled"in xe}const Ms=class extends Vn{constructor(Ve=null,Oe,dt){super(fn(Oe),nn(dt,Oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ve),this._setUpdateStrategy(Oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(Oe)&&(Oe.nonNullable||Oe.initialValueIsDefault)&&(this.defaultValue=fs(Ve)?Ve.value:Ve)}setValue(Ve,Oe={}){this.value=this._pendingValue=Ve,this._onChange.length&&!1!==Oe.emitModelToViewChange&&this._onChange.forEach(dt=>dt(this.value,!1!==Oe.emitViewToModelChange)),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){this.setValue(Ve,Oe)}reset(Ve=this.defaultValue,Oe={}){this._applyFormState(Ve),this.markAsPristine(Oe),this.markAsUntouched(Oe),this.setValue(this.value,Oe),this._pendingChange=!1}_updateValue(){}_anyControls(Ve){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ve){this._onChange.push(Ve)}_unregisterOnChange(Ve){us(this._onChange,Ve)}registerOnDisabledChange(Ve){this._onDisabledChange.push(Ve)}_unregisterOnDisabledChange(Ve){us(this._onDisabledChange,Ve)}_forEachChild(Ve){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ve){fs(Ve)?(this.value=this._pendingValue=Ve.value,Ve.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ve}},Ji=Ms;let jt=(()=>{class xe extends Se{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ts(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,features:[i.Vt3]})}}return xe})();const Ue={provide:Se,useExisting:(0,i.Rfq)(()=>ft)};let ft=(()=>{class xe extends jt{constructor(Oe,dt,Xt){super(),this.name="",this._parent=Oe,this._setValidators(dt),this._setAsyncValidators(Xt)}_checkParentType(){}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,5),i.rXU(T,10),i.rXU(w,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Ue]),i.Vt3]})}}return xe})();const kt={provide:et,useExisting:(0,i.Rfq)(()=>un)},pn=Promise.resolve();let un=(()=>{class xe extends et{constructor(Oe,dt,Xt,mi,os,Mr){super(),this._changeDetectorRef=os,this.callSetDisabledState=Mr,this.control=new Ms,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=Oe,this._setValidators(dt),this._setAsyncValidators(Xt),this.valueAccessor=Ln(0,mi)}ngOnChanges(Oe){if(this._checkForErrors(),!this._registered||"name"in Oe){if(this._registered&&(this._checkName(),this.formDirective)){const dt=Oe.name.previousValue;this.formDirective.removeControl({name:dt,path:this._getPath(dt)})}this._setUpControl()}"isDisabled"in Oe&&this._updateDisabled(Oe),Qt(Oe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ns(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Oe){pn.then(()=>{this.control.setValue(Oe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Oe){const dt=Oe.isDisabled.currentValue,Xt=0!==dt&&(0,i.L39)(dt);pn.then(()=>{Xt&&!this.control.disabled?this.control.disable():!Xt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Oe){return this._parent?ts(Oe,this._parent):[Oe]}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,9),i.rXU(T,10),i.rXU(w,10),i.rXU(E,10),i.rXU(i.gRc,8),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([kt]),i.Vt3,i.OA$]})}}return xe})(),kn=(()=>{class xe{static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return xe})();const Qn={provide:E,useExisting:(0,i.Rfq)(()=>xi),multi:!0};let xi=(()=>{class xe extends y{writeValue(Oe){this.setProperty("value",Oe??"")}registerOnChange(Oe){this.onChange=dt=>{Oe(""==dt?null:parseFloat(dt))}}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("input",function(os){return Xt.onChange(os.target.value)})("blur",function(){return Xt.onTouched()})},features:[i.Jv_([Qn]),i.Vt3]})}}return xe})();const ms={provide:E,useExisting:(0,i.Rfq)(()=>Fo),multi:!0};let dr=(()=>{class xe{constructor(){this._accessors=[]}add(Oe,dt){this._accessors.push([Oe,dt])}remove(Oe){for(let dt=this._accessors.length-1;dt>=0;--dt)if(this._accessors[dt][1]===Oe)return void this._accessors.splice(dt,1)}select(Oe){this._accessors.forEach(dt=>{this._isSameGroup(dt,Oe)&&dt[1]!==Oe&&dt[1].fireUncheck(Oe.value)})}_isSameGroup(Oe,dt){return!!Oe[0].control&&Oe[0]._parent===dt._control._parent&&Oe[1].name===dt.name}static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),Fo=(()=>{class xe extends y{constructor(Oe,dt,Xt,mi){super(Oe,dt),this._registry=Xt,this._injector=mi,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(oi,{optional:!0})??ai}ngOnInit(){this._control=this._injector.get(et),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(Oe){this._state=Oe===this.value,this.setProperty("checked",this._state)}registerOnChange(Oe){this._fn=Oe,this.onChange=()=>{Oe(this.value),this._registry.select(this)}}setDisabledState(Oe){(this.setDisabledStateFired||Oe||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",Oe),this.setDisabledStateFired=!0}fireUncheck(Oe){this.writeValue(Oe)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(dr),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("change",function(){return Xt.onChange()})("blur",function(){return Xt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([ms]),i.Vt3]})}}return xe})();const er=new i.nKC(""),mr={provide:et,useExisting:(0,i.Rfq)(()=>Dr)};let Dr=(()=>{class xe extends et{set isDisabled(Oe){}static{this._ngModelWarningSentOnce=!1}constructor(Oe,dt,Xt,mi,os){super(),this._ngModelWarningConfig=mi,this.callSetDisabledState=os,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(Oe),this._setAsyncValidators(dt),this.valueAccessor=Ln(0,Xt)}ngOnChanges(Oe){if(this._isControlChanged(Oe)){const dt=Oe.form.previousValue;dt&&si(dt,this,!1),ns(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Qt(Oe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&si(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}_isControlChanged(Oe){return Oe.hasOwnProperty("form")}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(T,10),i.rXU(w,10),i.rXU(E,10),i.rXU(er,8),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([mr]),i.Vt3,i.OA$]})}}return xe})();const ta={provide:Se,useExisting:(0,i.Rfq)(()=>ur)};let ur=(()=>{class xe extends Se{get submitted(){return(0,i.O8t)(this._submittedReactive)}set submitted(Oe){this._submittedReactive.set(Oe)}constructor(Oe,dt,Xt){super(),this.callSetDisabledState=Xt,this._submitted=(0,i.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,i.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(Oe),this._setAsyncValidators(dt)}ngOnChanges(Oe){this._checkFormPresent(),Oe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Oe){const dt=this.form.get(Oe.path);return ns(dt,Oe,this.callSetDisabledState),dt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Oe),dt}getControl(Oe){return this.form.get(Oe.path)}removeControl(Oe){si(Oe.control||null,Oe,!1),function Yn(xe,Ve){const Oe=xe.indexOf(Ve);Oe>-1&&xe.splice(Oe,1)}(this.directives,Oe)}addFormGroup(Oe){this._setUpFormContainer(Oe)}removeFormGroup(Oe){this._cleanUpFormContainer(Oe)}getFormGroup(Oe){return this.form.get(Oe.path)}addFormArray(Oe){this._setUpFormContainer(Oe)}removeFormArray(Oe){this._cleanUpFormContainer(Oe)}getFormArray(Oe){return this.form.get(Oe.path)}updateModel(Oe,dt){this.form.get(Oe.path).setValue(dt)}onSubmit(Oe){return this._submittedReactive.set(!0),Mn(this.form,this.directives),this.ngSubmit.emit(Oe),this.form._events.next(new ct(this.control)),"dialog"===Oe?.target?.method}onReset(){this.resetForm()}resetForm(Oe=void 0){this.form.reset(Oe),this._submittedReactive.set(!1),this.form._events.next(new Wt(this.form))}_updateDomValue(){this.directives.forEach(Oe=>{const dt=Oe.control,Xt=this.form.get(Oe.path);dt!==Xt&&(si(dt||null,Oe),(xe=>xe instanceof Ms)(Xt)&&(ns(Xt,Oe,this.callSetDisabledState),Oe.control=Xt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Oe){const dt=this.form.get(Oe.path);qt(dt,Oe),dt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Oe){if(this.form){const dt=this.form.get(Oe.path);dt&&function Si(xe,Ve){return pi(xe,Ve)}(dt,Oe)&&dt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&pi(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(T,10),i.rXU(w,10),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroup",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("submit",function(os){return Xt.onSubmit(os)})("reset",function(){return Xt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ta]),i.Vt3,i.OA$]})}}return xe})();const Hr={provide:Se,useExisting:(0,i.Rfq)(()=>Bo)};let Bo=(()=>{class xe extends jt{constructor(Oe,dt,Xt){super(),this.name=null,this._parent=Oe,this._setValidators(dt),this._setAsyncValidators(Xt)}_checkParentType(){Ca(this._parent)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,13),i.rXU(T,10),i.rXU(w,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[i.Jv_([Hr]),i.Vt3]})}}return xe})();const na={provide:Se,useExisting:(0,i.Rfq)(()=>_o)};let _o=(()=>{class xe extends Se{constructor(Oe,dt,Xt){super(),this.name=null,this._parent=Oe,this._setValidators(dt),this._setAsyncValidators(Xt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ts(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ca(this._parent)}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,13),i.rXU(T,10),i.rXU(w,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[i.Jv_([na]),i.Vt3]})}}return xe})();function Ca(xe){return!(xe instanceof Bo||xe instanceof ur||xe instanceof _o)}const yi={provide:et,useExisting:(0,i.Rfq)(()=>Ar)};let Ar=(()=>{class xe extends et{set isDisabled(Oe){}static{this._ngModelWarningSentOnce=!1}constructor(Oe,dt,Xt,mi,os){super(),this._ngModelWarningConfig=os,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=Oe,this._setValidators(dt),this._setAsyncValidators(Xt),this.valueAccessor=Ln(0,mi)}ngOnChanges(Oe){this._added||this._setUpControl(),Qt(Oe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}get path(){return ts(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(Se,13),i.rXU(T,10),i.rXU(w,10),i.rXU(E,10),i.rXU(er,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([yi]),i.Vt3,i.OA$]})}}return xe})();const ia={provide:E,useExisting:(0,i.Rfq)(()=>ba),multi:!0};function Tr(xe,Ve){return null==xe?`${Ve}`:(Ve&&"object"==typeof Ve&&(Ve="Object"),`${xe}: ${Ve}`.slice(0,50))}let ba=(()=>{class xe extends y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Oe){this._compareWith=Oe}writeValue(Oe){this.value=Oe;const Xt=Tr(this._getOptionId(Oe),Oe);this.setProperty("value",Xt)}registerOnChange(Oe){this.onChange=dt=>{this.value=this._getOptionValue(dt),Oe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Oe){for(const dt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(dt),Oe))return dt;return null}_getOptionValue(Oe){const dt=function Fa(xe){return xe.split(":")[0]}(Oe);return this._optionMap.has(dt)?this._optionMap.get(dt):Oe}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("change",function(os){return Xt.onChange(os.target.value)})("blur",function(){return Xt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([ia]),i.Vt3]})}}return xe})(),Da=(()=>{class xe{constructor(Oe,dt,Xt){this._element=Oe,this._renderer=dt,this._select=Xt,this._select&&(this.id=this._select._registerOption())}set ngValue(Oe){null!=this._select&&(this._select._optionMap.set(this.id,Oe),this._setElementValue(Tr(this.id,Oe)),this._select.writeValue(this._select.value))}set value(Oe){this._setElementValue(Oe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Oe){this._renderer.setProperty(this._element.nativeElement,"value",Oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ba,9))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return xe})();const Ba={provide:E,useExisting:(0,i.Rfq)(()=>at),multi:!0};function sa(xe,Ve){return null==xe?`${Ve}`:("string"==typeof Ve&&(Ve=`'${Ve}'`),Ve&&"object"==typeof Ve&&(Ve="Object"),`${xe}: ${Ve}`.slice(0,50))}let at=(()=>{class xe extends y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Oe){this._compareWith=Oe}writeValue(Oe){let dt;if(this.value=Oe,Array.isArray(Oe)){const Xt=Oe.map(mi=>this._getOptionId(mi));dt=(mi,os)=>{mi._setSelected(Xt.indexOf(os.toString())>-1)}}else dt=(Xt,mi)=>{Xt._setSelected(!1)};this._optionMap.forEach(dt)}registerOnChange(Oe){this.onChange=dt=>{const Xt=[],mi=dt.selectedOptions;if(void 0!==mi){const os=mi;for(let Mr=0;Mr<os.length;Mr++){const _l=this._getOptionValue(os[Mr].value);Xt.push(_l)}}else{const os=dt.options;for(let Mr=0;Mr<os.length;Mr++){const zo=os[Mr];if(zo.selected){const _l=this._getOptionValue(zo.value);Xt.push(_l)}}}this.value=Xt,Oe(Xt)}}_registerOption(Oe){const dt=(this._idCounter++).toString();return this._optionMap.set(dt,Oe),dt}_getOptionId(Oe){for(const dt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(dt)._value,Oe))return dt;return null}_getOptionValue(Oe){const dt=function Ta(xe){return xe.split(":")[0]}(Oe);return this._optionMap.has(dt)?this._optionMap.get(dt)._value:Oe}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(dt,Xt){1&dt&&i.bIt("change",function(os){return Xt.onChange(os.target)})("blur",function(){return Xt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Ba]),i.Vt3]})}}return xe})(),pt=(()=>{class xe{constructor(Oe,dt,Xt){this._element=Oe,this._renderer=dt,this._select=Xt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Oe){null!=this._select&&(this._value=Oe,this._setElementValue(sa(this.id,Oe)),this._select.writeValue(this._select.value))}set value(Oe){this._select?(this._value=Oe,this._setElementValue(sa(this.id,Oe)),this._select.writeValue(this._select.value)):this._setElementValue(Oe)}_setElementValue(Oe){this._renderer.setProperty(this._element.nativeElement,"value",Oe)}_setSelected(Oe){this._renderer.setProperty(this._element.nativeElement,"selected",Oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(dt){return new(dt||xe)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(at,9))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return xe})();function Vt(xe){return"number"==typeof xe?xe:parseInt(xe,10)}function Bt(xe){return"number"==typeof xe?xe:parseFloat(xe)}let wn=(()=>{class xe{constructor(){this._validator=X}ngOnChanges(Oe){if(this.inputName in Oe){const dt=this.normalizeInput(Oe[this.inputName].currentValue);this._enabled=this.enabled(dt),this._validator=this._enabled?this.createValidator(dt):X,this._onChange&&this._onChange()}}validate(Oe){return this._validator(Oe)}registerOnValidatorChange(Oe){this._onChange=Oe}enabled(Oe){return null!=Oe}static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275dir=i.FsC({type:xe,features:[i.OA$]})}}return xe})();const hi={provide:T,useExisting:(0,i.Rfq)(()=>wi),multi:!0};let wi=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Oe=>Bt(Oe),this.createValidator=Oe=>j(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("max",Xt._enabled?Xt.max:null)},inputs:{max:"max"},features:[i.Jv_([hi]),i.Vt3]})}}return xe})();const $i={provide:T,useExisting:(0,i.Rfq)(()=>Ei),multi:!0};let Ei=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Oe=>Bt(Oe),this.createValidator=Oe=>N(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("min",Xt._enabled?Xt.min:null)},inputs:{min:"min"},features:[i.Jv_([$i]),i.Vt3]})}}return xe})();const Ls={provide:T,useExisting:(0,i.Rfq)(()=>Do),multi:!0},Qs={provide:T,useExisting:(0,i.Rfq)(()=>Yi),multi:!0};let Do=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=Oe=>$}enabled(Oe){return Oe}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("required",Xt._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Ls]),i.Vt3]})}}return xe})(),Yi=(()=>{class xe extends Do{constructor(){super(...arguments),this.createValidator=Oe=>k}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("required",Xt._enabled?"":null)},features:[i.Jv_([Qs]),i.Vt3]})}}return xe})();const Uo={provide:T,useExisting:(0,i.Rfq)(()=>oa),multi:!0};let oa=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=Oe=>Vt(Oe),this.createValidator=Oe=>z(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("minlength",Xt._enabled?Xt.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Uo]),i.Vt3]})}}return xe})();const Mo={provide:T,useExisting:(0,i.Rfq)(()=>ss),multi:!0};let ss=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Oe=>Vt(Oe),this.createValidator=Oe=>V(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("maxlength",Xt._enabled?Xt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Mo]),i.Vt3]})}}return xe})();const Oo={provide:T,useExisting:(0,i.Rfq)(()=>pr),multi:!0};let pr=(()=>{class xe extends wn{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=Oe=>Oe,this.createValidator=Oe=>G(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&i.BMQ("pattern",Xt._enabled?Xt.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([Oo]),i.Vt3]})}}return xe})(),xr=(()=>{class xe{static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({})}}return xe})();class sr extends Vn{constructor(Ve,Oe,dt){super(fn(Oe),nn(dt,Oe)),this.controls=Ve,this._initObservables(),this._setUpdateStrategy(Oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ve){return this.controls[this._adjustIndex(Ve)]}push(Ve,Oe={}){this.controls.push(Ve),this._registerControl(Ve),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}insert(Ve,Oe,dt={}){this.controls.splice(Ve,0,Oe),this._registerControl(Oe),this.updateValueAndValidity({emitEvent:dt.emitEvent})}removeAt(Ve,Oe={}){let dt=this._adjustIndex(Ve);dt<0&&(dt=0),this.controls[dt]&&this.controls[dt]._registerOnCollectionChange(()=>{}),this.controls.splice(dt,1),this.updateValueAndValidity({emitEvent:Oe.emitEvent})}setControl(Ve,Oe,dt={}){let Xt=this._adjustIndex(Ve);Xt<0&&(Xt=0),this.controls[Xt]&&this.controls[Xt]._registerOnCollectionChange(()=>{}),this.controls.splice(Xt,1),Oe&&(this.controls.splice(Xt,0,Oe),this._registerControl(Oe)),this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ve,Oe={}){On(this,0,Ve),Ve.forEach((dt,Xt)=>{At(this,!1,Xt),this.at(Xt).setValue(dt,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){null!=Ve&&(Ve.forEach((dt,Xt)=>{this.at(Xt)&&this.at(Xt).patchValue(dt,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe))}reset(Ve=[],Oe={}){this._forEachChild((dt,Xt)=>{dt.reset(Ve[Xt],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this._updatePristine(Oe,this),this._updateTouched(Oe,this),this.updateValueAndValidity(Oe)}getRawValue(){return this.controls.map(Ve=>Ve.getRawValue())}clear(Ve={}){this.controls.length<1||(this._forEachChild(Oe=>Oe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ve.emitEvent}))}_adjustIndex(Ve){return Ve<0?Ve+this.length:Ve}_syncPendingControls(){let Ve=this.controls.reduce((Oe,dt)=>!!dt._syncPendingControls()||Oe,!1);return Ve&&this.updateValueAndValidity({onlySelf:!0}),Ve}_forEachChild(Ve){this.controls.forEach((Oe,dt)=>{Ve(Oe,dt)})}_updateValue(){this.value=this.controls.filter(Ve=>Ve.enabled||this.disabled).map(Ve=>Ve.value)}_anyControls(Ve){return this.controls.some(Oe=>Oe.enabled&&Ve(Oe))}_setUpControls(){this._forEachChild(Ve=>this._registerControl(Ve))}_allControlsDisabled(){for(const Ve of this.controls)if(Ve.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ve){Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange)}_find(Ve){return this.at(Ve)??null}}const el=sr;function It(xe){return!!xe&&(void 0!==xe.asyncValidators||void 0!==xe.validators||void 0!==xe.updateOn)}let en=(()=>{class xe{constructor(){this.useNonNullable=!1}get nonNullable(){const Oe=new xe;return Oe.useNonNullable=!0,Oe}group(Oe,dt=null){const Xt=this._reduceControls(Oe);let mi={};return It(dt)?mi=dt:null!==dt&&(mi.validators=dt.validator,mi.asyncValidators=dt.asyncValidator),new bi(Xt,mi)}record(Oe,dt=null){const Xt=this._reduceControls(Oe);return new Dn(Xt,dt)}control(Oe,dt,Xt){let mi={};return this.useNonNullable?(It(dt)?mi=dt:(mi.validators=dt,mi.asyncValidators=Xt),new Ms(Oe,{...mi,nonNullable:!0})):new Ms(Oe,dt,Xt)}array(Oe,dt,Xt){const mi=Oe.map(os=>this._createControl(os));return new sr(mi,dt,Xt)}_reduceControls(Oe){const dt={};return Object.keys(Oe).forEach(Xt=>{dt[Xt]=this._createControl(Oe[Xt])}),dt}_createControl(Oe){return Oe instanceof Ms||Oe instanceof Vn?Oe:Array.isArray(Oe)?this.control(Oe[0],Oe.length>1?Oe[1]:null,Oe.length>2?Oe[2]:null):this.control(Oe)}static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),Je=(()=>{class xe extends en{group(Oe,dt=null){return super.group(Oe,dt)}control(Oe,dt,Xt){return super.control(Oe,dt,Xt)}array(Oe,dt,Xt){return super.array(Oe,dt,Xt)}static{this.\u0275fac=(()=>{let Oe;return function(Xt){return(Oe||(Oe=i.xGo(xe)))(Xt||xe)}})()}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),sn=(()=>{class xe{static withConfig(Oe){return{ngModule:xe,providers:[{provide:oi,useValue:Oe.callSetDisabledState??ai}]}}static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({imports:[xr]})}}return xe})(),Bn=(()=>{class xe{static withConfig(Oe){return{ngModule:xe,providers:[{provide:er,useValue:Oe.warnOnNgModelWithFormControl??"always"},{provide:oi,useValue:Oe.callSetDisabledState??ai}]}}static{this.\u0275fac=function(dt){return new(dt||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({imports:[xr]})}}return xe})()},345:(U,b,n)=>{"use strict";n.d(b,{$x:()=>Ht,B7:()=>K,B8:()=>te,EZ:()=>bt,W8:()=>st,hE:()=>De,kQ:()=>hn,up:()=>gt});var i=n(60177),t=n(54438),c=n(21626);class e extends i.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends e{static makeCurrent(){(0,i.ZD)(new f)}onAndCancel(Le,Xe,ct){return Le.addEventListener(Xe,ct),()=>{Le.removeEventListener(Xe,ct)}}dispatchEvent(Le,Xe){Le.dispatchEvent(Xe)}remove(Le){Le.remove()}createElement(Le,Xe){return(Xe=Xe||this.getDefaultDocument()).createElement(Le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Le){return Le.nodeType===Node.ELEMENT_NODE}isShadowRoot(Le){return Le instanceof DocumentFragment}getGlobalEventTarget(Le,Xe){return"window"===Xe?window:"document"===Xe?Le:"body"===Xe?Le.body:null}getBaseHref(Le){const Xe=function p(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==Xe?null:function y(ke){return new URL(ke,document.baseURI).pathname}(Xe)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(Le){return(0,i._b)(document.cookie,Le)}}let m=null,v=(()=>{class ke{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ct){return new(ct||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const O=new t.nKC("");let C=(()=>{class ke{constructor(Xe,ct){this._zone=ct,this._eventNameToPlugin=new Map,Xe.forEach(Wt=>{Wt.manager=this}),this._plugins=Xe.slice().reverse()}addEventListener(Xe,ct,Wt){return this._findPluginFor(ct).addEventListener(Xe,ct,Wt)}getZone(){return this._zone}_findPluginFor(Xe){let ct=this._eventNameToPlugin.get(Xe);if(ct)return ct;if(ct=this._plugins.find(fn=>fn.supports(Xe)),!ct)throw new t.wOt(5101,!1);return this._eventNameToPlugin.set(Xe,ct),ct}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(O),t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class I{constructor(Le){this._doc=Le}}const D="ng-app-id";let R=(()=>{class ke{constructor(Xe,ct,Wt,fn={}){this.doc=Xe,this.appId=ct,this.nonce=Wt,this.platformId=fn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,i.Vy)(fn),this.resetHostNodes()}addStyles(Xe){for(const ct of Xe)1===this.changeUsageCount(ct,1)&&this.onStyleAdded(ct)}removeStyles(Xe){for(const ct of Xe)this.changeUsageCount(ct,-1)<=0&&this.onStyleRemoved(ct)}ngOnDestroy(){const Xe=this.styleNodesInDOM;Xe&&(Xe.forEach(ct=>ct.remove()),Xe.clear());for(const ct of this.getAllStyles())this.onStyleRemoved(ct);this.resetHostNodes()}addHost(Xe){this.hostNodes.add(Xe);for(const ct of this.getAllStyles())this.addStyleToHost(Xe,ct)}removeHost(Xe){this.hostNodes.delete(Xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Xe){for(const ct of this.hostNodes)this.addStyleToHost(ct,Xe)}onStyleRemoved(Xe){const ct=this.styleRef;ct.get(Xe)?.elements?.forEach(Wt=>Wt.remove()),ct.delete(Xe)}collectServerRenderedStyles(){const Xe=this.doc.head?.querySelectorAll(`style[${D}="${this.appId}"]`);if(Xe?.length){const ct=new Map;return Xe.forEach(Wt=>{null!=Wt.textContent&&ct.set(Wt.textContent,Wt)}),ct}return null}changeUsageCount(Xe,ct){const Wt=this.styleRef;if(Wt.has(Xe)){const fn=Wt.get(Xe);return fn.usage+=ct,fn.usage}return Wt.set(Xe,{usage:ct,elements:[]}),ct}getStyleElement(Xe,ct){const Wt=this.styleNodesInDOM,fn=Wt?.get(ct);if(fn?.parentNode===Xe)return Wt.delete(ct),fn.removeAttribute(D),fn;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=ct,this.platformIsServer&&xt.setAttribute(D,this.appId),Xe.appendChild(xt),xt}}addStyleToHost(Xe,ct){const Wt=this.getStyleElement(Xe,ct),fn=this.styleRef,xt=fn.get(ct)?.elements;xt?xt.push(Wt):fn.set(ct,{elements:[Wt],usage:1})}resetHostNodes(){const Xe=this.hostNodes;Xe.clear(),Xe.add(this.doc.head)}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ),t.KVO(t.sZ2),t.KVO(t.BIS,8),t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},S=/%COMP%/g,T="%COMP%",w=`_nghost-${T}`,M=`_ngcontent-${T}`,N=new t.nKC("",{providedIn:"root",factory:()=>!0});function k(ke,Le){return Le.map(Xe=>Xe.replace(S,ke))}let K=(()=>{class ke{constructor(Xe,ct,Wt,fn,xt,nn,ht,Ft=null){this.eventManager=Xe,this.sharedStylesHost=ct,this.appId=Wt,this.removeStylesOnCompDestroy=fn,this.doc=xt,this.platformId=nn,this.ngZone=ht,this.nonce=Ft,this.rendererByCompId=new Map,this.platformIsServer=(0,i.Vy)(nn),this.defaultRenderer=new z(Xe,xt,ht,this.platformIsServer)}createRenderer(Xe,ct){if(!Xe||!ct)return this.defaultRenderer;this.platformIsServer&&ct.encapsulation===t.gXe.ShadowDom&&(ct={...ct,encapsulation:t.gXe.Emulated});const Wt=this.getOrCreateRenderer(Xe,ct);return Wt instanceof ne?Wt.applyToHost(Xe):Wt instanceof q&&Wt.applyStyles(),Wt}getOrCreateRenderer(Xe,ct){const Wt=this.rendererByCompId;let fn=Wt.get(ct.id);if(!fn){const xt=this.doc,nn=this.ngZone,ht=this.eventManager,Ft=this.sharedStylesHost,At=this.removeStylesOnCompDestroy,On=this.platformIsServer;switch(ct.encapsulation){case t.gXe.Emulated:fn=new ne(ht,Ft,ct,this.appId,At,xt,nn,On);break;case t.gXe.ShadowDom:return new J(ht,Ft,Xe,ct,xt,nn,this.nonce,On);default:fn=new q(ht,Ft,ct,At,xt,nn,On)}Wt.set(ct.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(C),t.KVO(R),t.KVO(t.sZ2),t.KVO(N),t.KVO(i.qQ),t.KVO(t.Agw),t.KVO(t.SKi),t.KVO(t.BIS))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class z{constructor(Le,Xe,ct,Wt){this.eventManager=Le,this.doc=Xe,this.ngZone=ct,this.platformIsServer=Wt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Le,Xe){return Xe?this.doc.createElementNS(h[Xe]||Xe,Le):this.doc.createElement(Le)}createComment(Le){return this.doc.createComment(Le)}createText(Le){return this.doc.createTextNode(Le)}appendChild(Le,Xe){(X(Le)?Le.content:Le).appendChild(Xe)}insertBefore(Le,Xe,ct){Le&&(X(Le)?Le.content:Le).insertBefore(Xe,ct)}removeChild(Le,Xe){Xe.remove()}selectRootElement(Le,Xe){let ct="string"==typeof Le?this.doc.querySelector(Le):Le;if(!ct)throw new t.wOt(-5104,!1);return Xe||(ct.textContent=""),ct}parentNode(Le){return Le.parentNode}nextSibling(Le){return Le.nextSibling}setAttribute(Le,Xe,ct,Wt){if(Wt){Xe=Wt+":"+Xe;const fn=h[Wt];fn?Le.setAttributeNS(fn,Xe,ct):Le.setAttribute(Xe,ct)}else Le.setAttribute(Xe,ct)}removeAttribute(Le,Xe,ct){if(ct){const Wt=h[ct];Wt?Le.removeAttributeNS(Wt,Xe):Le.removeAttribute(`${ct}:${Xe}`)}else Le.removeAttribute(Xe)}addClass(Le,Xe){Le.classList.add(Xe)}removeClass(Le,Xe){Le.classList.remove(Xe)}setStyle(Le,Xe,ct,Wt){Wt&(t.czy.DashCase|t.czy.Important)?Le.style.setProperty(Xe,ct,Wt&t.czy.Important?"important":""):Le.style[Xe]=ct}removeStyle(Le,Xe,ct){ct&t.czy.DashCase?Le.style.removeProperty(Xe):Le.style[Xe]=""}setProperty(Le,Xe,ct){null!=Le&&(Le[Xe]=ct)}setValue(Le,Xe){Le.nodeValue=Xe}listen(Le,Xe,ct){if("string"==typeof Le&&!(Le=(0,i.QT)().getGlobalEventTarget(this.doc,Le)))throw new Error(`Unsupported event target ${Le} for event ${Xe}`);return this.eventManager.addEventListener(Le,Xe,this.decoratePreventDefault(ct))}decoratePreventDefault(Le){return Xe=>{if("__ngUnwrap__"===Xe)return Le;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Le(Xe)):Le(Xe))&&Xe.preventDefault()}}}function X(ke){return"TEMPLATE"===ke.tagName&&void 0!==ke.content}class J extends z{constructor(Le,Xe,ct,Wt,fn,xt,nn,ht){super(Le,fn,xt,ht),this.sharedStylesHost=Xe,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=k(Wt.id,Wt.styles);for(const At of Ft){const On=document.createElement("style");nn&&On.setAttribute("nonce",nn),On.textContent=At,this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(Le){return Le===this.hostEl?this.shadowRoot:Le}appendChild(Le,Xe){return super.appendChild(this.nodeOrShadowRoot(Le),Xe)}insertBefore(Le,Xe,ct){return super.insertBefore(this.nodeOrShadowRoot(Le),Xe,ct)}removeChild(Le,Xe){return super.removeChild(null,Xe)}parentNode(Le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class q extends z{constructor(Le,Xe,ct,Wt,fn,xt,nn,ht){super(Le,fn,xt,nn),this.sharedStylesHost=Xe,this.removeStylesOnCompDestroy=Wt,this.styles=ht?k(ht,ct.styles):ct.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ne extends q{constructor(Le,Xe,ct,Wt,fn,xt,nn,ht){const Ft=Wt+"-"+ct.id;super(Le,Xe,ct,fn,xt,nn,ht,Ft),this.contentAttr=function j(ke){return M.replace(S,ke)}(Ft),this.hostAttr=function $(ke){return w.replace(S,ke)}(Ft)}applyToHost(Le){this.applyStyles(),this.setAttribute(Le,this.hostAttr,"")}createElement(Le,Xe){const ct=super.createElement(Le,Xe);return super.setAttribute(ct,this.contentAttr,""),ct}}let ee=(()=>{class ke extends I{constructor(Xe){super(Xe)}supports(Xe){return!0}addEventListener(Xe,ct,Wt){return Xe.addEventListener(ct,Wt,!1),()=>this.removeEventListener(Xe,ct,Wt)}removeEventListener(Xe,ct,Wt){return Xe.removeEventListener(ct,Wt)}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const fe=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:ke=>ke.altKey,control:ke=>ke.ctrlKey,meta:ke=>ke.metaKey,shift:ke=>ke.shiftKey};let ue=(()=>{class ke extends I{constructor(Xe){super(Xe)}supports(Xe){return null!=ke.parseEventName(Xe)}addEventListener(Xe,ct,Wt){const fn=ke.parseEventName(ct),xt=ke.eventCallback(fn.fullKey,Wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.QT)().onAndCancel(Xe,fn.domEventName,xt))}static parseEventName(Xe){const ct=Xe.toLowerCase().split("."),Wt=ct.shift();if(0===ct.length||"keydown"!==Wt&&"keyup"!==Wt)return null;const fn=ke._normalizeKey(ct.pop());let xt="",nn=ct.indexOf("code");if(nn>-1&&(ct.splice(nn,1),xt="code."),fe.forEach(Ft=>{const At=ct.indexOf(Ft);At>-1&&(ct.splice(At,1),xt+=Ft+".")}),xt+=fn,0!=ct.length||0===fn.length)return null;const ht={};return ht.domEventName=Wt,ht.fullKey=xt,ht}static matchEventFullKeyCode(Xe,ct){let Wt=ye[Xe.key]||Xe.key,fn="";return ct.indexOf("code.")>-1&&(Wt=Xe.code,fn="code."),!(null==Wt||!Wt)&&(Wt=Wt.toLowerCase()," "===Wt?Wt="space":"."===Wt&&(Wt="dot"),fe.forEach(xt=>{xt!==Wt&&(0,oe[xt])(Xe)&&(fn+=xt+".")}),fn+=Wt,fn===ct)}static eventCallback(Xe,ct,Wt){return fn=>{ke.matchEventFullKeyCode(fn,Xe)&&Wt.runGuarded(()=>ct(fn))}}static _normalizeKey(Xe){return"esc"===Xe?"escape":Xe}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();function te(ke,Le){return(0,t.TL3)({rootComponent:ke,...be(Le)})}function be(ke){return{appProviders:[...et,...ke?.providers??[]],platformProviders:ce}}const ce=[{provide:t.Agw,useValue:i.AJ},{provide:t.PLl,useValue:function re(){f.makeCurrent()},multi:!0},{provide:i.qQ,useFactory:function le(){return(0,t.TL$)(document),document},deps:[]}],et=[{provide:t.H8p,useValue:"root"},{provide:t.zcH,useFactory:function Z(){return new t.zcH},deps:[]},{provide:O,useClass:ee,multi:!0,deps:[i.qQ,t.SKi,t.Agw]},{provide:O,useClass:ue,multi:!0,deps:[i.qQ]},K,R,C,{provide:t._9s,useExisting:K},{provide:i.N0,useClass:v,deps:[]},[]];let st=(()=>{class ke{constructor(Xe){this._doc=Xe,this._dom=(0,i.QT)()}addTag(Xe,ct=!1){return Xe?this._getOrCreateElement(Xe,ct):null}addTags(Xe,ct=!1){return Xe?Xe.reduce((Wt,fn)=>(fn&&Wt.push(this._getOrCreateElement(fn,ct)),Wt),[]):[]}getTag(Xe){return Xe&&this._doc.querySelector(`meta[${Xe}]`)||null}getTags(Xe){if(!Xe)return[];const ct=this._doc.querySelectorAll(`meta[${Xe}]`);return ct?[].slice.call(ct):[]}updateTag(Xe,ct){if(!Xe)return null;ct=ct||this._parseSelector(Xe);const Wt=this.getTag(ct);return Wt?this._setMetaElementAttributes(Xe,Wt):this._getOrCreateElement(Xe,!0)}removeTag(Xe){this.removeTagElement(this.getTag(Xe))}removeTagElement(Xe){Xe&&this._dom.remove(Xe)}_getOrCreateElement(Xe,ct=!1){if(!ct){const xt=this._parseSelector(Xe),nn=this.getTags(xt).filter(ht=>this._containsAttributes(Xe,ht))[0];if(void 0!==nn)return nn}const Wt=this._dom.createElement("meta");return this._setMetaElementAttributes(Xe,Wt),this._doc.getElementsByTagName("head")[0].appendChild(Wt),Wt}_setMetaElementAttributes(Xe,ct){return Object.keys(Xe).forEach(Wt=>ct.setAttribute(this._getMetaKeyMap(Wt),Xe[Wt])),ct}_parseSelector(Xe){const ct=Xe.name?"name":"property";return`${ct}="${Xe[ct]}"`}_containsAttributes(Xe,ct){return Object.keys(Xe).every(Wt=>ct.getAttribute(this._getMetaKeyMap(Wt))===Xe[Wt])}_getMetaKeyMap(Xe){return We[Xe]||Xe}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const We={httpEquiv:"http-equiv"};let De=(()=>{class ke{constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const hn=new t.nKC("HammerGestureConfig");let bt=(()=>{class ke{constructor(){this.events=[],this.overrides={}}buildHammer(Xe){const ct=new Hammer(Xe,this.options);ct.get("pinch").set({enable:!0}),ct.get("rotate").set({enable:!0});for(const Wt in this.overrides)ct.get(Wt).set(this.overrides[Wt]);return ct}static{this.\u0275fac=function(ct){return new(ct||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})(),gt=(()=>{class ke{static{this.\u0275fac=function(ct){return new(ct||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:function(ct){let Wt=null;return Wt=ct?new(ct||ke):t.KVO(an),Wt},providedIn:"root"})}}return ke})(),an=(()=>{class ke extends gt{constructor(Xe){super(),this._doc=Xe}sanitize(Xe,ct){if(null==ct)return null;switch(Xe){case t.WPN.NONE:return ct;case t.WPN.HTML:return(0,t.ZF7)(ct,"HTML")?(0,t.rcV)(ct):(0,t.h9k)(this._doc,String(ct)).toString();case t.WPN.STYLE:return(0,t.ZF7)(ct,"Style")?(0,t.rcV)(ct):ct;case t.WPN.SCRIPT:if((0,t.ZF7)(ct,"Script"))return(0,t.rcV)(ct);throw new t.wOt(5200,!1);case t.WPN.URL:return(0,t.ZF7)(ct,"URL")?(0,t.rcV)(ct):(0,t.$MX)(String(ct));case t.WPN.RESOURCE_URL:if((0,t.ZF7)(ct,"ResourceURL"))return(0,t.rcV)(ct);throw new t.wOt(5201,!1);default:throw new t.wOt(5202,!1)}}bypassSecurityTrustHtml(Xe){return(0,t.Kcf)(Xe)}bypassSecurityTrustStyle(Xe){return(0,t.cWb)(Xe)}bypassSecurityTrustScript(Xe){return(0,t.UyX)(Xe)}bypassSecurityTrustUrl(Xe){return(0,t.osQ)(Xe)}bypassSecurityTrustResourceUrl(Xe){return(0,t.e5t)(Xe)}static{this.\u0275fac=function(ct){return new(ct||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();var we=function(ke){return ke[ke.NoHttpTransferCache=0]="NoHttpTransferCache",ke[ke.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",ke[ke.I18nSupport=2]="I18nSupport",ke[ke.EventReplay=3]="EventReplay",ke}(we||{});function Ht(...ke){const Le=[],Xe=new Set,ct=Xe.has(we.HttpTransferCacheOptions);for(const{\u0275providers:Wt,\u0275kind:fn}of ke)Xe.add(fn),Wt.length&&Le.push(Wt);return(0,t.EmA)([[],(0,t.M8M)(),Xe.has(we.NoHttpTransferCache)||ct?[]:(0,c.$m)({}),Le])}},7901:(U,b,n)=>{"use strict";n.d(b,{Bx:()=>Ai,D7:()=>ii,Ii:()=>Va,Ix:()=>fi,L6:()=>Qt,OY:()=>Ji,Sn:()=>Or,Wk:()=>Ks,Xk:()=>oe,Xw:()=>Tt,Z:()=>Si,Zy:()=>wo,gx:()=>Jn,iI:()=>bl,j5:()=>Ye,lG:()=>la,ld:()=>En,lh:()=>qs,n3:()=>Fa,nU:()=>hn,nX:()=>Hr,oH:()=>ls,wF:()=>Jt,wQ:()=>Us});var i=n(54438),t=n(74402),c=n(22806),e=n(7673),f=n(84412),m=n(84572),p=n(9350),y=n(92688),E=n(59030),v=n(71203),O=n(18810),C=n(983),I=n(30017),D=n(21413),R=n(18359),h=n(60177),S=n(96354),T=n(25558),w=n(96697),M=n(99172),L=n(5964),N=n(73028),j=n(61594),$=n(70274),k=n(88141),K=n(99437),z=n(31943),V=n(39901),G=n(67018),X=n(55109),J=n(73703),q=n(70980),ne=n(99898),ee=n(56977),fe=n(26365),ye=n(345);const oe="primary",ue=Symbol("RouteTitle");class te{constructor(Ie){this.params=Ie||{}}has(Ie){return Object.prototype.hasOwnProperty.call(this.params,Ie)}get(Ie){if(this.has(Ie)){const de=this.params[Ie];return Array.isArray(de)?de[0]:de}return null}getAll(Ie){if(this.has(Ie)){const de=this.params[Ie];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function se(ae){return new te(ae)}function be(ae,Ie,de){const Re=de.path.split("/");if(Re.length>ae.length||"full"===de.pathMatch&&(Ie.hasChildren()||Re.length<ae.length))return null;const qe={};for(let Et=0;Et<Re.length;Et++){const zt=Re[Et],An=ae[Et];if(":"===zt[0])qe[zt.substring(1)]=An;else if(zt!==An.path)return null}return{consumed:ae.slice(0,Re.length),posParams:qe}}function re(ae,Ie){const de=ae?Z(ae):void 0,Re=Ie?Z(Ie):void 0;if(!de||!Re||de.length!=Re.length)return!1;let qe;for(let Et=0;Et<de.length;Et++)if(qe=de[Et],!le(ae[qe],Ie[qe]))return!1;return!0}function Z(ae){return[...Object.keys(ae),...Object.getOwnPropertySymbols(ae)]}function le(ae,Ie){if(Array.isArray(ae)&&Array.isArray(Ie)){if(ae.length!==Ie.length)return!1;const de=[...ae].sort(),Re=[...Ie].sort();return de.every((qe,Et)=>Re[Et]===qe)}return ae===Ie}function ce(ae){return ae.length>0?ae[ae.length-1]:null}function ve(ae){return(0,t.A)(ae)?ae:(0,i.jNT)(ae)?(0,c.H)(Promise.resolve(ae)):(0,e.of)(ae)}const ze={exact:function st(ae,Ie,de){if(!je(ae.segments,Ie.segments)||!Ge(ae.segments,Ie.segments,de)||ae.numberOfChildren!==Ie.numberOfChildren)return!1;for(const Re in Ie.children)if(!ae.children[Re]||!st(ae.children[Re],Ie.children[Re],de))return!1;return!0},subset:De},Se={exact:function $e(ae,Ie){return re(ae,Ie)},subset:function We(ae,Ie){return Object.keys(Ie).length<=Object.keys(ae).length&&Object.keys(Ie).every(de=>le(ae[de],Ie[de]))},ignored:()=>!0};function et(ae,Ie,de){return ze[de.paths](ae.root,Ie.root,de.matrixParams)&&Se[de.queryParams](ae.queryParams,Ie.queryParams)&&!("exact"===de.fragment&&ae.fragment!==Ie.fragment)}function De(ae,Ie,de){return ut(ae,Ie,Ie.segments,de)}function ut(ae,Ie,de,Re){if(ae.segments.length>de.length){const qe=ae.segments.slice(0,de.length);return!(!je(qe,de)||Ie.hasChildren()||!Ge(qe,de,Re))}if(ae.segments.length===de.length){if(!je(ae.segments,de)||!Ge(ae.segments,de,Re))return!1;for(const qe in Ie.children)if(!ae.children[qe]||!De(ae.children[qe],Ie.children[qe],Re))return!1;return!0}{const qe=de.slice(0,ae.segments.length),Et=de.slice(ae.segments.length);return!!(je(ae.segments,qe)&&Ge(ae.segments,qe,Re)&&ae.children[oe])&&ut(ae.children[oe],Ie,Et,Re)}}function Ge(ae,Ie,de){return Ie.every((Re,qe)=>Se[de](ae[qe].parameters,Re.parameters))}class wt{constructor(Ie=new ot([],{}),de={},Re=null){this.root=Ie,this.queryParams=de,this.fragment=Re}get queryParamMap(){return this._queryParamMap??=se(this.queryParams),this._queryParamMap}toString(){return jn.serialize(this)}}class ot{constructor(Ie,de){this.segments=Ie,this.children=de,this.parent=null,Object.values(de).forEach(Re=>Re.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bt(this)}}class Tt{constructor(Ie,de){this.path=Ie,this.parameters=de}get parameterMap(){return this._parameterMap??=se(this.parameters),this._parameterMap}toString(){return yt(this)}}function je(ae,Ie){return ae.length===Ie.length&&ae.every((de,Re)=>de.path===Ie[Re].path)}let vn=(()=>{class ae{static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:()=>new hn,providedIn:"root"})}}return ae})();class hn{parse(Ie){const de=new fn(Ie);return new wt(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(Ie){const de=`/${St(Ie.root,!0)}`,Re=function on(ae){const Ie=Object.entries(ae).map(([de,Re])=>Array.isArray(Re)?Re.map(qe=>`${gt(de)}=${gt(qe)}`).join("&"):`${gt(de)}=${gt(Re)}`).filter(de=>de);return Ie.length?`?${Ie.join("&")}`:""}(Ie.queryParams);return`${de}${Re}${"string"==typeof Ie.fragment?`#${function an(ae){return encodeURI(ae)}(Ie.fragment)}`:""}`}}const jn=new hn;function bt(ae){return ae.segments.map(Ie=>yt(Ie)).join("/")}function St(ae,Ie){if(!ae.hasChildren())return bt(ae);if(Ie){const de=ae.children[oe]?St(ae.children[oe],!1):"",Re=[];return Object.entries(ae.children).forEach(([qe,Et])=>{qe!==oe&&Re.push(`${qe}:${St(Et,!1)}`)}),Re.length>0?`${de}(${Re.join("//")})`:de}{const de=function mt(ae,Ie){let de=[];return Object.entries(ae.children).forEach(([Re,qe])=>{Re===oe&&(de=de.concat(Ie(qe,Re)))}),Object.entries(ae.children).forEach(([Re,qe])=>{Re!==oe&&(de=de.concat(Ie(qe,Re)))}),de}(ae,(Re,qe)=>qe===oe?[St(ae.children[oe],!1)]:[`${qe}:${St(Re,!1)}`]);return 1===Object.keys(ae.children).length&&null!=ae.children[oe]?`${bt(ae)}/${de[0]}`:`${bt(ae)}/(${de.join("//")})`}}function Nt(ae){return encodeURIComponent(ae).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gt(ae){return Nt(ae).replace(/%3B/gi,";")}function we(ae){return Nt(ae).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ct(ae){return decodeURIComponent(ae)}function $t(ae){return Ct(ae.replace(/\+/g,"%20"))}function yt(ae){return`${we(ae.path)}${function Zt(ae){return Object.entries(ae).map(([Ie,de])=>`;${we(Ie)}=${we(de)}`).join("")}(ae.parameters)}`}const Yt=/^[^\/()?;#]+/;function Ht(ae){const Ie=ae.match(Yt);return Ie?Ie[0]:""}const Qe=/^[^\/()?;=#]+/,Le=/^[^=?&#]+/,ct=/^[^&#]+/;class fn{constructor(Ie){this.url=Ie,this.remaining=Ie}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const Ie={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ie)}while(this.consumeOptional("&"));return Ie}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ie=[];for(this.peekStartsWith("(")||Ie.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ie.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let Re={};return this.peekStartsWith("(")&&(Re=this.parseParens(!1)),(Ie.length>0||Object.keys(de).length>0)&&(Re[oe]=new ot(Ie,de)),Re}parseSegment(){const Ie=Ht(this.remaining);if(""===Ie&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(Ie),new Tt(Ct(Ie),this.parseMatrixParams())}parseMatrixParams(){const Ie={};for(;this.consumeOptional(";");)this.parseParam(Ie);return Ie}parseParam(Ie){const de=function ke(ae){const Ie=ae.match(Qe);return Ie?Ie[0]:""}(this.remaining);if(!de)return;this.capture(de);let Re="";if(this.consumeOptional("=")){const qe=Ht(this.remaining);qe&&(Re=qe,this.capture(Re))}Ie[Ct(de)]=Ct(Re)}parseQueryParam(Ie){const de=function Xe(ae){const Ie=ae.match(Le);return Ie?Ie[0]:""}(this.remaining);if(!de)return;this.capture(de);let Re="";if(this.consumeOptional("=")){const zt=function Wt(ae){const Ie=ae.match(ct);return Ie?Ie[0]:""}(this.remaining);zt&&(Re=zt,this.capture(Re))}const qe=$t(de),Et=$t(Re);if(Ie.hasOwnProperty(qe)){let zt=Ie[qe];Array.isArray(zt)||(zt=[zt],Ie[qe]=zt),zt.push(Et)}else Ie[qe]=Et}parseParens(Ie){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Re=Ht(this.remaining),qe=this.remaining[Re.length];if("/"!==qe&&")"!==qe&&";"!==qe)throw new i.wOt(4010,!1);let Et;Re.indexOf(":")>-1?(Et=Re.slice(0,Re.indexOf(":")),this.capture(Et),this.capture(":")):Ie&&(Et=oe);const zt=this.parseChildren();de[Et]=1===Object.keys(zt).length?zt[oe]:new ot([],zt),this.consumeOptional("//")}return de}peekStartsWith(Ie){return this.remaining.startsWith(Ie)}consumeOptional(Ie){return!!this.peekStartsWith(Ie)&&(this.remaining=this.remaining.substring(Ie.length),!0)}capture(Ie){if(!this.consumeOptional(Ie))throw new i.wOt(4011,!1)}}function xt(ae){return ae.segments.length>0?new ot([],{[oe]:ae}):ae}function nn(ae){const Ie={};for(const[Re,qe]of Object.entries(ae.children)){const Et=nn(qe);if(Re===oe&&0===Et.segments.length&&Et.hasChildren())for(const[zt,An]of Object.entries(Et.children))Ie[zt]=An;else(Et.segments.length>0||Et.hasChildren())&&(Ie[Re]=Et)}return function ht(ae){if(1===ae.numberOfChildren&&ae.children[oe]){const Ie=ae.children[oe];return new ot(ae.segments.concat(Ie.segments),Ie.children)}return ae}(new ot(ae.segments,Ie))}function Ft(ae){return ae instanceof wt}function On(ae){let Ie;const qe=xt(function de(Et){const zt={};for(const Tn of Et.children){const gi=de(Tn);zt[Tn.outlet]=gi}const An=new ot(Et.url,zt);return Et===ae&&(Ie=An),An}(ae.root));return Ie??qe}function Vn(ae,Ie,de,Re){let qe=ae;for(;qe.parent;)qe=qe.parent;if(0===Ie.length)return vt(qe,qe,qe,de,Re);const Et=function ni(ae){if("string"==typeof ae[0]&&1===ae.length&&"/"===ae[0])return new Dn(!0,0,ae);let Ie=0,de=!1;const Re=ae.reduce((qe,Et,zt)=>{if("object"==typeof Et&&null!=Et){if(Et.outlets){const An={};return Object.entries(Et.outlets).forEach(([Tn,gi])=>{An[Tn]="string"==typeof gi?gi.split("/"):gi}),[...qe,{outlets:An}]}if(Et.segmentPath)return[...qe,Et.segmentPath]}return"string"!=typeof Et?[...qe,Et]:0===zt?(Et.split("/").forEach((An,Tn)=>{0==Tn&&"."===An||(0==Tn&&""===An?de=!0:".."===An?Ie++:""!=An&&qe.push(An))}),qe):[...qe,Et]},[]);return new Dn(de,Ie,Re)}(Ie);if(Et.toRoot())return vt(qe,qe,new ot([],{}),de,Re);const zt=function ai(ae,Ie,de){if(ae.isAbsolute)return new oi(Ie,!0,0);if(!de)return new oi(Ie,!1,NaN);if(null===de.parent)return new oi(de,!0,0);const Re=bi(ae.commands[0])?0:1;return function ts(ae,Ie,de){let Re=ae,qe=Ie,Et=de;for(;Et>qe;){if(Et-=qe,Re=Re.parent,!Re)throw new i.wOt(4005,!1);qe=Re.segments.length}return new oi(Re,!1,qe-Et)}(de,de.segments.length-1+Re,ae.numberOfDoubleDots)}(Et,qe,ae),An=zt.processChildren?ci(zt.segmentGroup,zt.index,Et.commands):si(zt.segmentGroup,zt.index,Et.commands);return vt(qe,zt.segmentGroup,An,de,Re)}function bi(ae){return"object"==typeof ae&&null!=ae&&!ae.outlets&&!ae.segmentPath}function Dt(ae){return"object"==typeof ae&&null!=ae&&ae.outlets}function vt(ae,Ie,de,Re,qe){let zt,Et={};Re&&Object.entries(Re).forEach(([Tn,gi])=>{Et[Tn]=Array.isArray(gi)?gi.map(cs=>`${cs}`):`${gi}`}),zt=ae===Ie?de:yn(ae,Ie,de);const An=xt(nn(zt));return new wt(An,Et,qe)}function yn(ae,Ie,de){const Re={};return Object.entries(ae.children).forEach(([qe,Et])=>{Re[qe]=Et===Ie?de:yn(Et,Ie,de)}),new ot(ae.segments,Re)}class Dn{constructor(Ie,de,Re){if(this.isAbsolute=Ie,this.numberOfDoubleDots=de,this.commands=Re,Ie&&Re.length>0&&bi(Re[0]))throw new i.wOt(4003,!1);const qe=Re.find(Dt);if(qe&&qe!==ce(Re))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oi{constructor(Ie,de,Re){this.segmentGroup=Ie,this.processChildren=de,this.index=Re}}function si(ae,Ie,de){if(ae??=new ot([],{}),0===ae.segments.length&&ae.hasChildren())return ci(ae,Ie,de);const Re=function cn(ae,Ie,de){let Re=0,qe=Ie;const Et={match:!1,pathIndex:0,commandIndex:0};for(;qe<ae.segments.length;){if(Re>=de.length)return Et;const zt=ae.segments[qe],An=de[Re];if(Dt(An))break;const Tn=`${An}`,gi=Re<de.length-1?de[Re+1]:null;if(qe>0&&void 0===Tn)break;if(Tn&&gi&&"object"==typeof gi&&void 0===gi.outlets){if(!ps(Tn,gi,zt))return Et;Re+=2}else{if(!ps(Tn,{},zt))return Et;Re++}qe++}return{match:!0,pathIndex:qe,commandIndex:Re}}(ae,Ie,de),qe=de.slice(Re.commandIndex);if(Re.match&&Re.pathIndex<ae.segments.length){const Et=new ot(ae.segments.slice(0,Re.pathIndex),{});return Et.children[oe]=new ot(ae.segments.slice(Re.pathIndex),ae.children),ci(Et,0,qe)}return Re.match&&0===qe.length?new ot(ae.segments,{}):Re.match&&!ae.hasChildren()?gn(ae,Ie,de):Re.match?ci(ae,0,qe):gn(ae,Ie,de)}function ci(ae,Ie,de){if(0===de.length)return new ot(ae.segments,{});{const Re=function ns(ae){return Dt(ae[0])?ae[0].outlets:{[oe]:ae}}(de),qe={};if(Object.keys(Re).some(Et=>Et!==oe)&&ae.children[oe]&&1===ae.numberOfChildren&&0===ae.children[oe].segments.length){const Et=ci(ae.children[oe],Ie,de);return new ot(ae.segments,Et.children)}return Object.entries(Re).forEach(([Et,zt])=>{"string"==typeof zt&&(zt=[zt]),null!==zt&&(qe[Et]=si(ae.children[Et],Ie,zt))}),Object.entries(ae.children).forEach(([Et,zt])=>{void 0===Re[Et]&&(qe[Et]=zt)}),new ot(ae.segments,qe)}}function gn(ae,Ie,de){const Re=ae.segments.slice(0,Ie);let qe=0;for(;qe<de.length;){const Et=de[qe];if(Dt(Et)){const Tn=pi(Et.outlets);return new ot(Re,Tn)}if(0===qe&&bi(de[0])){Re.push(new Tt(ae.segments[Ie].path,Oi(de[0]))),qe++;continue}const zt=Dt(Et)?Et.outlets[oe]:`${Et}`,An=qe<de.length-1?de[qe+1]:null;zt&&An&&bi(An)?(Re.push(new Tt(zt,Oi(An))),qe+=2):(Re.push(new Tt(zt,{})),qe++)}return new ot(Re,{})}function pi(ae){const Ie={};return Object.entries(ae).forEach(([de,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(Ie[de]=gn(new ot([],{}),0,Re))}),Ie}function Oi(ae){const Ie={};return Object.entries(ae).forEach(([de,Re])=>Ie[de]=`${Re}`),Ie}function ps(ae,Ie,de){return ae==de.path&&re(Ie,de.parameters)}const Ri="imperative";var Ai=function(ae){return ae[ae.NavigationStart=0]="NavigationStart",ae[ae.NavigationEnd=1]="NavigationEnd",ae[ae.NavigationCancel=2]="NavigationCancel",ae[ae.NavigationError=3]="NavigationError",ae[ae.RoutesRecognized=4]="RoutesRecognized",ae[ae.ResolveStart=5]="ResolveStart",ae[ae.ResolveEnd=6]="ResolveEnd",ae[ae.GuardsCheckStart=7]="GuardsCheckStart",ae[ae.GuardsCheckEnd=8]="GuardsCheckEnd",ae[ae.RouteConfigLoadStart=9]="RouteConfigLoadStart",ae[ae.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ae[ae.ChildActivationStart=11]="ChildActivationStart",ae[ae.ChildActivationEnd=12]="ChildActivationEnd",ae[ae.ActivationStart=13]="ActivationStart",ae[ae.ActivationEnd=14]="ActivationEnd",ae[ae.Scroll=15]="Scroll",ae[ae.NavigationSkipped=16]="NavigationSkipped",ae}(Ai||{});class qt{constructor(Ie,de){this.id=Ie,this.url=de}}class Si extends qt{constructor(Ie,de,Re="imperative",qe=null){super(Ie,de),this.type=Ai.NavigationStart,this.navigationTrigger=Re,this.restoredState=qe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jt extends qt{constructor(Ie,de,Re){super(Ie,de),this.urlAfterRedirects=Re,this.type=Ai.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Pt=function(ae){return ae[ae.Redirect=0]="Redirect",ae[ae.SupersededByNewNavigation=1]="SupersededByNewNavigation",ae[ae.NoDataFromResolver=2]="NoDataFromResolver",ae[ae.GuardRejected=3]="GuardRejected",ae}(Pt||{}),Fe=function(ae){return ae[ae.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ae[ae.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ae}(Fe||{});class Ye extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.reason=Re,this.code=qe,this.type=Ai.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _t extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.reason=Re,this.code=qe,this.type=Ai.NavigationSkipped}}class Qt extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.error=Re,this.target=qe,this.type=Ai.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class En extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.urlAfterRedirects=Re,this.state=qe,this.type=Ai.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.urlAfterRedirects=Re,this.state=qe,this.type=Ai.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends qt{constructor(Ie,de,Re,qe,Et){super(Ie,de),this.urlAfterRedirects=Re,this.state=qe,this.shouldActivate=Et,this.type=Ai.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yn extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.urlAfterRedirects=Re,this.state=qe,this.type=Ai.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends qt{constructor(Ie,de,Re,qe){super(Ie,de),this.urlAfterRedirects=Re,this.state=qe,this.type=Ai.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki{constructor(Ie){this.route=Ie,this.type=Ai.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bi{constructor(Ie){this.route=Ie,this.type=Ai.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{constructor(Ie){this.snapshot=Ie,this.type=Ai.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(Ie){this.snapshot=Ie,this.type=Ai.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(Ie){this.snapshot=Ie,this.type=Ai.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(Ie){this.snapshot=Ie,this.type=Ai.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(Ie,de,Re){this.routerEvent=Ie,this.position=de,this.anchor=Re,this.type=Ai.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hs{}class jt{constructor(Ie,de){this.url=Ie,this.navigationBehaviorOptions=de}}function Qn(ae){return ae.outlet||oe}function ms(ae){if(!ae)return null;if(ae.routeConfig?._injector)return ae.routeConfig._injector;for(let Ie=ae.parent;Ie;Ie=Ie.parent){const de=Ie.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class No{get injector(){return ms(this.route?.snapshot)??this.rootInjector}set injector(Ie){}constructor(Ie){this.rootInjector=Ie,this.outlet=null,this.route=null,this.children=new dr(this.rootInjector),this.attachRef=null}}let dr=(()=>{class ae{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Re){const qe=this.getOrCreateContext(de);qe.outlet=Re,this.contexts.set(de,qe)}onChildOutletDestroyed(de){const Re=this.getContext(de);Re&&(Re.outlet=null,Re.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Re=this.getContext(de);return Re||(Re=new No(this.rootInjector),this.contexts.set(de,Re)),Re}getContext(de){return this.contexts.get(de)||null}static{this.\u0275fac=function(Re){return new(Re||ae)(i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();class Fo{constructor(Ie){this._root=Ie}get root(){return this._root.value}parent(Ie){const de=this.pathFromRoot(Ie);return de.length>1?de[de.length-2]:null}children(Ie){const de=qo(Ie,this._root);return de?de.children.map(Re=>Re.value):[]}firstChild(Ie){const de=qo(Ie,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(Ie){const de=Js(Ie,this._root);return de.length<2?[]:de[de.length-2].children.map(qe=>qe.value).filter(qe=>qe!==Ie)}pathFromRoot(Ie){return Js(Ie,this._root).map(de=>de.value)}}function qo(ae,Ie){if(ae===Ie.value)return Ie;for(const de of Ie.children){const Re=qo(ae,de);if(Re)return Re}return null}function Js(ae,Ie){if(ae===Ie.value)return[Ie];for(const de of Ie.children){const Re=Js(ae,de);if(Re.length)return Re.unshift(Ie),Re}return[]}class er{constructor(Ie,de){this.value=Ie,this.children=de}toString(){return`TreeNode(${this.value})`}}function mr(ae){const Ie={};return ae&&ae.children.forEach(de=>Ie[de.value.outlet]=de),Ie}class Dr extends Fo{constructor(Ie,de){super(Ie),this.snapshot=de,Ca(this,Ie)}toString(){return this.snapshot.toString()}}function ta(ae){const Ie=function ur(ae){const Et=new na([],{},{},"",{},oe,ae,null,{});return new _o("",new er(Et,[]))}(ae),de=new f.t([new Tt("",{})]),Re=new f.t({}),qe=new f.t({}),Et=new f.t({}),zt=new f.t(""),An=new Hr(de,Re,Et,zt,qe,oe,ae,Ie.root);return An.snapshot=Ie.root,new Dr(new er(An,[]),Ie)}class Hr{constructor(Ie,de,Re,qe,Et,zt,An,Tn){this.urlSubject=Ie,this.paramsSubject=de,this.queryParamsSubject=Re,this.fragmentSubject=qe,this.dataSubject=Et,this.outlet=zt,this.component=An,this._futureSnapshot=Tn,this.title=this.dataSubject?.pipe((0,S.T)(gi=>gi[ue]))??(0,e.of)(void 0),this.url=Ie,this.params=de,this.queryParams=Re,this.fragment=qe,this.data=Et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,S.T)(Ie=>se(Ie))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,S.T)(Ie=>se(Ie))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bo(ae,Ie,de="emptyOnly"){let Re;const{routeConfig:qe}=ae;return Re=null===Ie||"always"!==de&&""!==qe?.path&&(Ie.component||Ie.routeConfig?.loadComponent)?{params:{...ae.params},data:{...ae.data},resolve:{...ae.data,...ae._resolvedData??{}}}:{params:{...Ie.params,...ae.params},data:{...Ie.data,...ae.data},resolve:{...ae.data,...Ie.data,...qe?.data,...ae._resolvedData}},qe&&Tr(qe)&&(Re.resolve[ue]=qe.title),Re}class na{get title(){return this.data?.[ue]}constructor(Ie,de,Re,qe,Et,zt,An,Tn,gi){this.url=Ie,this.params=de,this.queryParams=Re,this.fragment=qe,this.data=Et,this.outlet=zt,this.component=An,this.routeConfig=Tn,this._resolve=gi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=se(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=se(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Re=>Re.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _o extends Fo{constructor(Ie,de){super(de),this.url=Ie,Ca(this,de)}toString(){return yi(this._root)}}function Ca(ae,Ie){Ie.value._routerState=ae,Ie.children.forEach(de=>Ca(ae,de))}function yi(ae){const Ie=ae.children.length>0?` { ${ae.children.map(yi).join(", ")} } `:"";return`${ae.value}${Ie}`}function Ar(ae){if(ae.snapshot){const Ie=ae.snapshot,de=ae._futureSnapshot;ae.snapshot=de,re(Ie.queryParams,de.queryParams)||ae.queryParamsSubject.next(de.queryParams),Ie.fragment!==de.fragment&&ae.fragmentSubject.next(de.fragment),re(Ie.params,de.params)||ae.paramsSubject.next(de.params),function me(ae,Ie){if(ae.length!==Ie.length)return!1;for(let de=0;de<ae.length;++de)if(!re(ae[de],Ie[de]))return!1;return!0}(Ie.url,de.url)||ae.urlSubject.next(de.url),re(Ie.data,de.data)||ae.dataSubject.next(de.data)}else ae.snapshot=ae._futureSnapshot,ae.dataSubject.next(ae._futureSnapshot.data)}function ia(ae,Ie){const de=re(ae.params,Ie.params)&&function Ee(ae,Ie){return je(ae,Ie)&&ae.every((de,Re)=>re(de.parameters,Ie[Re].parameters))}(ae.url,Ie.url);return de&&!(!ae.parent!=!Ie.parent)&&(!ae.parent||ia(ae.parent,Ie.parent))}function Tr(ae){return"string"==typeof ae.title||null===ae.title}let Fa=(()=>{class ae{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(dr),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.inputBinder=(0,i.WQX)(Da,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Re,previousValue:qe}=de.name;if(Re)return;this.isTrackedInParentContexts(qe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(qe)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Re){this.activated=de,this._activatedRoute=Re,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Re){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=de;const qe=this.location,zt=de.snapshot.component,An=this.parentContexts.getOrCreateContext(this.name).children,Tn=new ba(de,An,qe.injector);this.activated=qe.createComponent(zt,{index:qe.length,injector:Tn,environmentInjector:Re}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275dir=i.FsC({type:ae,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return ae})();class ba{__ngOutletInjector(Ie){return new ba(this.route,this.childContexts,Ie)}constructor(Ie,de,Re){this.route=Ie,this.childContexts=de,this.parent=Re}get(Ie,de){return Ie===Hr?this.route:Ie===dr?this.childContexts:this.parent.get(Ie,de)}}const Da=new i.nKC("");let Ba=(()=>{class ae{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Re}=de,qe=(0,m.z)([Re.queryParams,Re.params,Re.data]).pipe((0,T.n)(([Et,zt,An],Tn)=>(An={...Et,...zt,...An},0===Tn?(0,e.of)(An):Promise.resolve(An)))).subscribe(Et=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Re||null===Re.component)return void this.unsubscribeFromRouteData(de);const zt=(0,i.HJs)(Re.component);if(zt)for(const{templateName:An}of zt.inputs)de.activatedComponentRef.setInput(An,Et[An]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,qe)}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();function Ta(ae,Ie,de){if(de&&ae.shouldReuseRoute(Ie.value,de.value.snapshot)){const Re=de.value;Re._futureSnapshot=Ie.value;const qe=function lt(ae,Ie,de){return Ie.children.map(Re=>{for(const qe of de.children)if(ae.shouldReuseRoute(Re.value,qe.value.snapshot))return Ta(ae,Re,qe);return Ta(ae,Re)})}(ae,Ie,de);return new er(Re,qe)}{if(ae.shouldAttach(Ie.value)){const Et=ae.retrieve(Ie.value);if(null!==Et){const zt=Et.route;return zt.value._futureSnapshot=Ie.value,zt.children=Ie.children.map(An=>Ta(ae,An)),zt}}const Re=function at(ae){return new Hr(new f.t(ae.url),new f.t(ae.params),new f.t(ae.queryParams),new f.t(ae.fragment),new f.t(ae.data),ae.outlet,ae.component,ae)}(Ie.value),qe=Ie.children.map(Et=>Ta(ae,Et));return new er(Re,qe)}}class pt{constructor(Ie,de){this.redirectTo=Ie,this.navigationBehaviorOptions=de}}const Vt="ngNavigationCancelingError";function Bt(ae,Ie){const{redirectTo:de,navigationBehaviorOptions:Re}=Ft(Ie)?{redirectTo:Ie,navigationBehaviorOptions:void 0}:Ie,qe=wn(!1,Pt.Redirect);return qe.url=de,qe.navigationBehaviorOptions=Re,qe}function wn(ae,Ie){const de=new Error(`NavigationCancelingError: ${ae||""}`);return de[Vt]=!0,de.cancellationCode=Ie,de}function wi(ae){return!!ae&&ae[Vt]}class Ls{constructor(Ie,de,Re,qe,Et){this.routeReuseStrategy=Ie,this.futureState=de,this.currState=Re,this.forwardEvent=qe,this.inputBindingEnabled=Et}activate(Ie){const de=this.futureState._root,Re=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,Re,Ie),Ar(this.futureState.root),this.activateChildRoutes(de,Re,Ie)}deactivateChildRoutes(Ie,de,Re){const qe=mr(de);Ie.children.forEach(Et=>{const zt=Et.value.outlet;this.deactivateRoutes(Et,qe[zt],Re),delete qe[zt]}),Object.values(qe).forEach(Et=>{this.deactivateRouteAndItsChildren(Et,Re)})}deactivateRoutes(Ie,de,Re){const qe=Ie.value,Et=de?de.value:null;if(qe===Et)if(qe.component){const zt=Re.getContext(qe.outlet);zt&&this.deactivateChildRoutes(Ie,de,zt.children)}else this.deactivateChildRoutes(Ie,de,Re);else Et&&this.deactivateRouteAndItsChildren(de,Re)}deactivateRouteAndItsChildren(Ie,de){Ie.value.component&&this.routeReuseStrategy.shouldDetach(Ie.value.snapshot)?this.detachAndStoreRouteSubtree(Ie,de):this.deactivateRouteAndOutlet(Ie,de)}detachAndStoreRouteSubtree(Ie,de){const Re=de.getContext(Ie.value.outlet),qe=Re&&Ie.value.component?Re.children:de,Et=mr(Ie);for(const zt of Object.values(Et))this.deactivateRouteAndItsChildren(zt,qe);if(Re&&Re.outlet){const zt=Re.outlet.detach(),An=Re.children.onOutletDeactivated();this.routeReuseStrategy.store(Ie.value.snapshot,{componentRef:zt,route:Ie,contexts:An})}}deactivateRouteAndOutlet(Ie,de){const Re=de.getContext(Ie.value.outlet),qe=Re&&Ie.value.component?Re.children:de,Et=mr(Ie);for(const zt of Object.values(Et))this.deactivateRouteAndItsChildren(zt,qe);Re&&(Re.outlet&&(Re.outlet.deactivate(),Re.children.onOutletDeactivated()),Re.attachRef=null,Re.route=null)}activateChildRoutes(Ie,de,Re){const qe=mr(de);Ie.children.forEach(Et=>{this.activateRoutes(Et,qe[Et.value.outlet],Re),this.forwardEvent(new Ms(Et.value.snapshot))}),Ie.children.length&&this.forwardEvent(new us(Ie.value.snapshot))}activateRoutes(Ie,de,Re){const qe=Ie.value,Et=de?de.value:null;if(Ar(qe),qe===Et)if(qe.component){const zt=Re.getOrCreateContext(qe.outlet);this.activateChildRoutes(Ie,de,zt.children)}else this.activateChildRoutes(Ie,de,Re);else if(qe.component){const zt=Re.getOrCreateContext(qe.outlet);if(this.routeReuseStrategy.shouldAttach(qe.snapshot)){const An=this.routeReuseStrategy.retrieve(qe.snapshot);this.routeReuseStrategy.store(qe.snapshot,null),zt.children.onOutletReAttached(An.contexts),zt.attachRef=An.componentRef,zt.route=An.route.value,zt.outlet&&zt.outlet.attach(An.componentRef,An.route.value),Ar(An.route.value),this.activateChildRoutes(Ie,null,zt.children)}else zt.attachRef=null,zt.route=qe,zt.outlet&&zt.outlet.activateWith(qe,zt.injector),this.activateChildRoutes(Ie,null,zt.children)}else this.activateChildRoutes(Ie,null,Re)}}class Qs{constructor(Ie){this.path=Ie,this.route=this.path[this.path.length-1]}}class Do{constructor(Ie,de){this.component=Ie,this.route=de}}function Yi(ae,Ie,de){const Re=ae._root;return Uo(Re,Ie?Ie._root:null,de,[Re.value])}function Os(ae,Ie){const de=Symbol(),Re=Ie.get(ae,de);return Re===de?"function"!=typeof ae||(0,i.LfX)(ae)?Ie.get(ae):ae:Re}function Uo(ae,Ie,de,Re,qe={canDeactivateChecks:[],canActivateChecks:[]}){const Et=mr(Ie);return ae.children.forEach(zt=>{(function oa(ae,Ie,de,Re,qe={canDeactivateChecks:[],canActivateChecks:[]}){const Et=ae.value,zt=Ie?Ie.value:null,An=de?de.getContext(ae.value.outlet):null;if(zt&&Et.routeConfig===zt.routeConfig){const Tn=function Mo(ae,Ie,de){if("function"==typeof de)return de(ae,Ie);switch(de){case"pathParamsChange":return!je(ae.url,Ie.url);case"pathParamsOrQueryParamsChange":return!je(ae.url,Ie.url)||!re(ae.queryParams,Ie.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ia(ae,Ie)||!re(ae.queryParams,Ie.queryParams);default:return!ia(ae,Ie)}}(zt,Et,Et.routeConfig.runGuardsAndResolvers);Tn?qe.canActivateChecks.push(new Qs(Re)):(Et.data=zt.data,Et._resolvedData=zt._resolvedData),Uo(ae,Ie,Et.component?An?An.children:null:de,Re,qe),Tn&&An&&An.outlet&&An.outlet.isActivated&&qe.canDeactivateChecks.push(new Do(An.outlet.component,zt))}else zt&&ss(Ie,An,qe),qe.canActivateChecks.push(new Qs(Re)),Uo(ae,null,Et.component?An?An.children:null:de,Re,qe)})(zt,Et[zt.value.outlet],de,Re.concat([zt.value]),qe),delete Et[zt.value.outlet]}),Object.entries(Et).forEach(([zt,An])=>ss(An,de.getContext(zt),qe)),qe}function ss(ae,Ie,de){const Re=mr(ae),qe=ae.value;Object.entries(Re).forEach(([Et,zt])=>{ss(zt,qe.component?Ie?Ie.children.getContext(Et):null:Ie,de)}),de.canDeactivateChecks.push(new Do(qe.component&&Ie&&Ie.outlet&&Ie.outlet.isActivated?Ie.outlet.component:null,qe))}function Oo(ae){return"function"==typeof ae}function el(ae){return ae instanceof p.G||"EmptyError"===ae?.name}const Xr=Symbol("INITIAL_VALUE");function It(){return(0,T.n)(ae=>(0,m.z)(ae.map(Ie=>Ie.pipe((0,w.s)(1),(0,M.Z)(Xr)))).pipe((0,S.T)(Ie=>{for(const de of Ie)if(!0!==de){if(de===Xr)return Xr;if(!1===de||en(de))return de}return!0}),(0,L.p)(Ie=>Ie!==Xr),(0,w.s)(1)))}function en(ae){return Ft(ae)||ae instanceof pt}function Xt(ae){return(0,v.F)((0,k.M)(Ie=>{if("boolean"!=typeof Ie)throw Bt(0,Ie)}),(0,S.T)(Ie=>!0===Ie))}class os{constructor(Ie){this.segmentGroup=Ie||null}}class Mr extends Error{constructor(Ie){super(),this.urlTree=Ie}}function zo(ae){return(0,O.$)(new os(ae))}class Rl{constructor(Ie,de){this.urlSerializer=Ie,this.urlTree=de}lineralizeSegments(Ie,de){let Re=[],qe=de.root;for(;;){if(Re=Re.concat(qe.segments),0===qe.numberOfChildren)return(0,e.of)(Re);if(qe.numberOfChildren>1||!qe.children[oe])return(0,O.$)(new i.wOt(4e3,!1));qe=qe.children[oe]}}applyRedirectCommands(Ie,de,Re,qe,Et){if("string"!=typeof de){const An=de,{queryParams:Tn,fragment:gi,routeConfig:cs,url:qi,outlet:ao,params:Dl,data:_r,title:Gn}=qe,ca=(0,i.N4e)(Et,()=>An({params:Dl,data:_r,queryParams:Tn,fragment:gi,routeConfig:cs,url:qi,outlet:ao,title:Gn}));if(ca instanceof wt)throw new Mr(ca);de=ca}const zt=this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),Ie,Re);if("/"===de[0])throw new Mr(zt);return zt}applyRedirectCreateUrlTree(Ie,de,Re,qe){const Et=this.createSegmentGroup(Ie,de.root,Re,qe);return new wt(Et,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(Ie,de){const Re={};return Object.entries(Ie).forEach(([qe,Et])=>{if("string"==typeof Et&&":"===Et[0]){const An=Et.substring(1);Re[qe]=de[An]}else Re[qe]=Et}),Re}createSegmentGroup(Ie,de,Re,qe){const Et=this.createSegments(Ie,de.segments,Re,qe);let zt={};return Object.entries(de.children).forEach(([An,Tn])=>{zt[An]=this.createSegmentGroup(Ie,Tn,Re,qe)}),new ot(Et,zt)}createSegments(Ie,de,Re,qe){return de.map(Et=>":"===Et.path[0]?this.findPosParam(Ie,Et,qe):this.findOrReturn(Et,Re))}findPosParam(Ie,de,Re){const qe=Re[de.path.substring(1)];if(!qe)throw new i.wOt(4001,!1);return qe}findOrReturn(Ie,de){let Re=0;for(const qe of de){if(qe.path===Ie.path)return de.splice(Re),qe;Re++}return Ie}}const gc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _c(ae,Ie,de,Re,qe){const Et=tl(ae,Ie,de);return Et.matched?(Re=function Ke(ae,Ie){return ae.providers&&!ae._injector&&(ae._injector=(0,i.Ol2)(ae.providers,Ie,`Route: ${ae.path}`)),ae._injector??Ie}(Ie,Re),function mi(ae,Ie,de,Re){const qe=Ie.canMatch;if(!qe||0===qe.length)return(0,e.of)(!0);const Et=qe.map(zt=>{const An=Os(zt,ae);return ve(function sr(ae){return ae&&Oo(ae.canMatch)}(An)?An.canMatch(Ie,de):(0,i.N4e)(ae,()=>An(Ie,de)))});return(0,e.of)(Et).pipe(It(),Xt())}(Re,Ie,de).pipe((0,S.T)(zt=>!0===zt?Et:{...gc}))):(0,e.of)(Et)}function tl(ae,Ie,de){if("**"===Ie.path)return function Xo(ae){return{matched:!0,parameters:ae.length>0?ce(ae).parameters:{},consumedSegments:ae,remainingSegments:[],positionalParamSegments:{}}}(de);if(""===Ie.path)return"full"===Ie.pathMatch&&(ae.hasChildren()||de.length>0)?{...gc}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const qe=(Ie.matcher||be)(de,ae,Ie);if(!qe)return{...gc};const Et={};Object.entries(qe.posParams??{}).forEach(([An,Tn])=>{Et[An]=Tn.path});const zt=qe.consumed.length>0?{...Et,...qe.consumed[qe.consumed.length-1].parameters}:Et;return{matched:!0,consumedSegments:qe.consumed,remainingSegments:de.slice(qe.consumed.length),parameters:zt,positionalParamSegments:qe.posParams??{}}}function Al(ae,Ie,de,Re){return de.length>0&&function vs(ae,Ie,de){return de.some(Re=>So(ae,Ie,Re)&&Qn(Re)!==oe)}(ae,de,Re)?{segmentGroup:new ot(Ie,yl(Re,new ot(de,ae.children))),slicedSegments:[]}:0===de.length&&function or(ae,Ie,de){return de.some(Re=>So(ae,Ie,Re))}(ae,de,Re)?{segmentGroup:new ot(ae.segments,Jc(ae,de,Re,ae.children)),slicedSegments:de}:{segmentGroup:new ot(ae.segments,ae.children),slicedSegments:de}}function Jc(ae,Ie,de,Re){const qe={};for(const Et of de)if(So(ae,Ie,Et)&&!Re[Qn(Et)]){const zt=new ot([],{});qe[Qn(Et)]=zt}return{...Re,...qe}}function yl(ae,Ie){const de={};de[oe]=Ie;for(const Re of ae)if(""===Re.path&&Qn(Re)!==oe){const qe=new ot([],{});de[Qn(Re)]=qe}return de}function So(ae,Ie,de){return(!(ae.hasChildren()||Ie.length>0)||"full"!==de.pathMatch)&&""===de.path}class jo{}class El{constructor(Ie,de,Re,qe,Et,zt,An){this.injector=Ie,this.configLoader=de,this.rootComponentType=Re,this.config=qe,this.urlTree=Et,this.paramsInheritanceStrategy=zt,this.urlSerializer=An,this.applyRedirects=new Rl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ie){return new i.wOt(4002,`'${Ie.segmentGroup}'`)}recognize(){const Ie=Al(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ie).pipe((0,S.T)(({children:de,rootSnapshot:Re})=>{const qe=new er(Re,de),Et=new _o("",qe),zt=function At(ae,Ie,de=null,Re=null){return Vn(On(ae),Ie,de,Re)}(Re,[],this.urlTree.queryParams,this.urlTree.fragment);return zt.queryParams=this.urlTree.queryParams,Et.url=this.urlSerializer.serialize(zt),{state:Et,tree:zt}}))}match(Ie){const de=new na([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ie,oe,de).pipe((0,S.T)(Re=>({children:Re,rootSnapshot:de})),(0,K.W)(Re=>{if(Re instanceof Mr)return this.urlTree=Re.urlTree,this.match(Re.urlTree.root);throw Re instanceof os?this.noMatchError(Re):Re}))}processSegmentGroup(Ie,de,Re,qe,Et){return 0===Re.segments.length&&Re.hasChildren()?this.processChildren(Ie,de,Re,Et):this.processSegment(Ie,de,Re,Re.segments,qe,!0,Et).pipe((0,S.T)(zt=>zt instanceof er?[zt]:[]))}processChildren(Ie,de,Re,qe){const Et=[];for(const zt of Object.keys(Re.children))"primary"===zt?Et.unshift(zt):Et.push(zt);return(0,c.H)(Et).pipe((0,$.H)(zt=>{const An=Re.children[zt],Tn=function xi(ae,Ie){const de=ae.filter(Re=>Qn(Re)===Ie);return de.push(...ae.filter(Re=>Qn(Re)!==Ie)),de}(de,zt);return this.processSegmentGroup(Ie,Tn,An,zt,qe)}),(0,z.S)((zt,An)=>(zt.push(...An),zt)),(0,V.U)(null),(0,G.H)(),(0,N.Z)(zt=>{if(null===zt)return zo(Re);const An=wr(zt);return function vc(ae){ae.sort((Ie,de)=>Ie.value.outlet===oe?-1:de.value.outlet===oe?1:Ie.value.outlet.localeCompare(de.value.outlet))}(An),(0,e.of)(An)}))}processSegment(Ie,de,Re,qe,Et,zt,An){return(0,c.H)(de).pipe((0,$.H)(Tn=>this.processSegmentAgainstRoute(Tn._injector??Ie,de,Tn,Re,qe,Et,zt,An).pipe((0,K.W)(gi=>{if(gi instanceof os)return(0,e.of)(null);throw gi}))),(0,j.$)(Tn=>!!Tn),(0,K.W)(Tn=>{if(el(Tn))return function so(ae,Ie,de){return 0===Ie.length&&!ae.children[de]}(Re,qe,Et)?(0,e.of)(new jo):zo(Re);throw Tn}))}processSegmentAgainstRoute(Ie,de,Re,qe,Et,zt,An,Tn){return Qn(Re)===zt||zt!==oe&&So(qe,Et,Re)?void 0===Re.redirectTo?this.matchSegmentAgainstRoute(Ie,qe,Re,Et,zt,Tn):this.allowRedirects&&An?this.expandSegmentAgainstRouteUsingRedirect(Ie,qe,de,Re,Et,zt,Tn):zo(qe):zo(qe)}expandSegmentAgainstRouteUsingRedirect(Ie,de,Re,qe,Et,zt,An){const{matched:Tn,parameters:gi,consumedSegments:cs,positionalParamSegments:qi,remainingSegments:ao}=tl(de,qe,Et);if(!Tn)return zo(de);"string"==typeof qe.redirectTo&&"/"===qe.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Dl=new na(Et,gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wl(qe),Qn(qe),qe.component??qe._loadedComponent??null,qe,nl(qe)),_r=Bo(Dl,An,this.paramsInheritanceStrategy);Dl.params=Object.freeze(_r.params),Dl.data=Object.freeze(_r.data);const Gn=this.applyRedirects.applyRedirectCommands(cs,qe.redirectTo,qi,Dl,Ie);return this.applyRedirects.lineralizeSegments(qe,Gn).pipe((0,N.Z)(ca=>this.processSegment(Ie,Re,de,ca.concat(ao),zt,!1,An)))}matchSegmentAgainstRoute(Ie,de,Re,qe,Et,zt){const An=_c(de,Re,qe,Ie);return"**"===Re.path&&(de.children={}),An.pipe((0,T.n)(Tn=>Tn.matched?this.getChildConfig(Ie=Re._injector??Ie,Re,qe).pipe((0,T.n)(({routes:gi})=>{const cs=Re._loadedInjector??Ie,{parameters:qi,consumedSegments:ao,remainingSegments:Dl}=Tn,_r=new na(ao,qi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wl(Re),Qn(Re),Re.component??Re._loadedComponent??null,Re,nl(Re)),Gn=Bo(_r,zt,this.paramsInheritanceStrategy);_r.params=Object.freeze(Gn.params),_r.data=Object.freeze(Gn.data);const{segmentGroup:ca,slicedSegments:Ld}=Al(de,ao,Dl,gi);if(0===Ld.length&&ca.hasChildren())return this.processChildren(cs,gi,ca,_r).pipe((0,S.T)(Wa=>new er(_r,Wa)));if(0===gi.length&&0===Ld.length)return(0,e.of)(new er(_r,[]));const wh=Qn(Re)===Et;return this.processSegment(cs,gi,ca,Ld,wh?oe:Et,!0,_r).pipe((0,S.T)(Wa=>new er(_r,Wa instanceof er?[Wa]:[])))})):zo(de)))}getChildConfig(Ie,de,Re){return de.children?(0,e.of)({routes:de.children,injector:Ie}):de.loadChildren?void 0!==de._loadedRoutes?(0,e.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function dt(ae,Ie,de,Re){const qe=Ie.canLoad;if(void 0===qe||0===qe.length)return(0,e.of)(!0);const Et=qe.map(zt=>{const An=Os(zt,ae);return ve(function zr(ae){return ae&&Oo(ae.canLoad)}(An)?An.canLoad(Ie,de):(0,i.N4e)(ae,()=>An(Ie,de)))});return(0,e.of)(Et).pipe(It(),Xt())}(Ie,de,Re).pipe((0,N.Z)(qe=>qe?this.configLoader.loadChildren(Ie,de).pipe((0,k.M)(Et=>{de._loadedRoutes=Et.routes,de._loadedInjector=Et.injector})):function Pd(){return(0,O.$)(wn(!1,Pt.GuardRejected))}())):(0,e.of)({routes:[],injector:Ie})}}function Sa(ae){const Ie=ae.value.routeConfig;return Ie&&""===Ie.path}function wr(ae){const Ie=[],de=new Set;for(const Re of ae){if(!Sa(Re)){Ie.push(Re);continue}const qe=Ie.find(Et=>Re.value.routeConfig===Et.value.routeConfig);void 0!==qe?(qe.children.push(...Re.children),de.add(qe)):Ie.push(Re)}for(const Re of de){const qe=wr(Re.children);Ie.push(new er(Re.value,qe))}return Ie.filter(Re=>!de.has(Re))}function wl(ae){return ae.data||{}}function nl(ae){return ae.resolve||{}}function Cl(ae){const Ie=ae.children.map(de=>Cl(de)).flat();return[ae,...Ie]}function ko(ae){return(0,T.n)(Ie=>{const de=ae(Ie);return de?(0,c.H)(de).pipe((0,S.T)(()=>Ie)):(0,e.of)(Ie)})}let Vr=(()=>{class ae{buildTitle(de){let Re,qe=de.root;for(;void 0!==qe;)Re=this.getResolvedTitleForRoute(qe)??Re,qe=qe.children.find(Et=>Et.outlet===oe);return Re}getResolvedTitleForRoute(de){return de.data[ue]}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:()=>(0,i.WQX)(Ql),providedIn:"root"})}}return ae})(),Ql=(()=>{class ae extends Vr{constructor(de){super(),this.title=de}updateTitle(de){const Re=this.buildTitle(de);void 0!==Re&&this.title.setTitle(Re)}static{this.\u0275fac=function(Re){return new(Re||ae)(i.KVO(ye.hE))}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();const rr=new i.nKC("",{providedIn:"root",factory:()=>({})});let Gs=(()=>{class ae{static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(Re,qe){1&Re&&i.nrm(0,"router-outlet")},dependencies:[Fa],encapsulation:2})}}return ae})();function Gt(ae){const Ie=ae.children&&ae.children.map(Gt),de=Ie?{...ae,children:Ie}:{...ae};return!de.component&&!de.loadComponent&&(Ie||de.loadChildren)&&de.outlet&&de.outlet!==oe&&(de.component=Gs),de}const mn=new i.nKC("");let In=(()=>{class ae{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,e.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Re=ve(de.loadComponent()).pipe((0,S.T)(ui),(0,k.M)(Et=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=Et}),(0,q.j)(()=>{this.componentLoaders.delete(de)})),qe=new I.G(Re,()=>new D.B).pipe((0,ne.B)());return this.componentLoaders.set(de,qe),qe}loadChildren(de,Re){if(this.childrenLoaders.get(Re))return this.childrenLoaders.get(Re);if(Re._loadedRoutes)return(0,e.of)({routes:Re._loadedRoutes,injector:Re._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Re);const Et=function Hn(ae,Ie,de,Re){return ve(ae.loadChildren()).pipe((0,S.T)(ui),(0,N.Z)(qe=>qe instanceof i.Co$||Array.isArray(qe)?(0,e.of)(qe):(0,c.H)(Ie.compileModuleAsync(qe))),(0,S.T)(qe=>{Re&&Re(ae);let Et,zt,An=!1;return Array.isArray(qe)?(zt=qe,!0):(Et=qe.create(de).injector,zt=Et.get(mn,[],{optional:!0,self:!0}).flat()),{routes:zt.map(Gt),injector:Et}}))}(Re,this.compiler,de,this.onLoadEndListener).pipe((0,q.j)(()=>{this.childrenLoaders.delete(Re)})),zt=new I.G(Et,()=>new D.B).pipe((0,ne.B)());return this.childrenLoaders.set(Re,zt),zt}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();function ui(ae){return function di(ae){return ae&&"object"==typeof ae&&"default"in ae}(ae)?ae.default:ae}let Qi=(()=>{class ae{static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:()=>(0,i.WQX)(vi),providedIn:"root"})}}return ae})(),vi=(()=>{class ae{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Re){return de}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();const Zs=new i.nKC(""),As=new i.nKC("");function vo(ae,Ie,de){const Re=ae.get(As),qe=ae.get(h.qQ);return ae.get(i.SKi).runOutsideAngular(()=>{if(!qe.startViewTransition||Re.skipNextTransition)return Re.skipNextTransition=!1,new Promise(gi=>setTimeout(gi));let Et;const zt=new Promise(gi=>{Et=gi}),An=qe.startViewTransition(()=>(Et(),function oo(ae){return new Promise(Ie=>{(0,i.mal)({read:()=>setTimeout(Ie)},{injector:ae})})}(ae))),{onViewTransitionCreated:Tn}=Re;return Tn&&(0,i.N4e)(ae,()=>Tn({transition:An,from:Ie,to:de})),zt})}const Bs=new i.nKC("");let uo=(()=>{class ae{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new D.B,this.transitionAbortSubject=new D.B,this.configLoader=(0,i.WQX)(In),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(vn),this.rootContexts=(0,i.WQX)(dr),this.location=(0,i.WQX)(h.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(Da,{optional:!0}),this.titleStrategy=(0,i.WQX)(Vr),this.options=(0,i.WQX)(rr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(Qi),this.createViewTransition=(0,i.WQX)(Zs,{optional:!0}),this.navigationErrorHandler=(0,i.WQX)(Bs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=qe=>this.events.next(new Bi(qe)),this.configLoader.onLoadStartListener=qe=>this.events.next(new ki(qe))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const Re=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:Re})}setupNavigations(de,Re,qe){return this.transitions=new f.t({id:0,currentUrlTree:Re,currentRawUrl:Re,extractedUrl:this.urlHandlingStrategy.extract(Re),urlAfterRedirects:this.urlHandlingStrategy.extract(Re),rawUrl:Re,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ri,restoredState:null,currentSnapshot:qe.snapshot,targetSnapshot:null,currentRouterState:qe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,L.p)(Et=>0!==Et.id),(0,S.T)(Et=>({...Et,extractedUrl:this.urlHandlingStrategy.extract(Et.rawUrl)})),(0,T.n)(Et=>{let zt=!1,An=!1;return(0,e.of)(Et).pipe((0,T.n)(Tn=>{if(this.navigationId>Et.id)return this.cancelNavigationTransition(Et,"",Pt.SupersededByNewNavigation),C.w;this.currentTransition=Et,this.currentNavigation={id:Tn.id,initialUrl:Tn.rawUrl,extractedUrl:Tn.extractedUrl,targetBrowserUrl:"string"==typeof Tn.extras.browserUrl?this.urlSerializer.parse(Tn.extras.browserUrl):Tn.extras.browserUrl,trigger:Tn.source,extras:Tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const gi=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!gi&&"reload"!==(Tn.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const qi="";return this.events.next(new _t(Tn.id,this.urlSerializer.serialize(Tn.rawUrl),qi,Fe.IgnoredSameUrlNavigation)),Tn.resolve(!1),C.w}if(this.urlHandlingStrategy.shouldProcessUrl(Tn.rawUrl))return(0,e.of)(Tn).pipe((0,T.n)(qi=>{const ao=this.transitions?.getValue();return this.events.next(new Si(qi.id,this.urlSerializer.serialize(qi.extractedUrl),qi.source,qi.restoredState)),ao!==this.transitions?.getValue()?C.w:Promise.resolve(qi)}),function Jl(ae,Ie,de,Re,qe,Et){return(0,N.Z)(zt=>function xl(ae,Ie,de,Re,qe,Et,zt="emptyOnly"){return new El(ae,Ie,de,Re,qe,zt,Et).recognize()}(ae,Ie,de,Re,zt.extractedUrl,qe,Et).pipe((0,S.T)(({state:An,tree:Tn})=>({...zt,targetSnapshot:An,urlAfterRedirects:Tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,k.M)(qi=>{Et.targetSnapshot=qi.targetSnapshot,Et.urlAfterRedirects=qi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qi.urlAfterRedirects};const ao=new En(qi.id,this.urlSerializer.serialize(qi.extractedUrl),this.urlSerializer.serialize(qi.urlAfterRedirects),qi.targetSnapshot);this.events.next(ao)}));if(gi&&this.urlHandlingStrategy.shouldProcessUrl(Tn.currentRawUrl)){const{id:qi,extractedUrl:ao,source:Dl,restoredState:_r,extras:Gn}=Tn,ca=new Si(qi,this.urlSerializer.serialize(ao),Dl,_r);this.events.next(ca);const Ld=ta(this.rootComponentType).snapshot;return this.currentTransition=Et={...Tn,targetSnapshot:Ld,urlAfterRedirects:ao,extras:{...Gn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ao,(0,e.of)(Et)}{const qi="";return this.events.next(new _t(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),qi,Fe.IgnoredByUrlHandlingStrategy)),Tn.resolve(!1),C.w}}),(0,k.M)(Tn=>{const gi=new Mn(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(gi)}),(0,S.T)(Tn=>(this.currentTransition=Et={...Tn,guards:Yi(Tn.targetSnapshot,Tn.currentSnapshot,this.rootContexts)},Et)),function he(ae,Ie){return(0,N.Z)(de=>{const{targetSnapshot:Re,currentSnapshot:qe,guards:{canActivateChecks:Et,canDeactivateChecks:zt}}=de;return 0===zt.length&&0===Et.length?(0,e.of)({...de,guardsResult:!0}):function Je(ae,Ie,de,Re){return(0,c.H)(ae).pipe((0,N.Z)(qe=>function Oe(ae,Ie,de,Re,qe){const Et=Ie&&Ie.routeConfig?Ie.routeConfig.canDeactivate:null;if(!Et||0===Et.length)return(0,e.of)(!0);const zt=Et.map(An=>{const Tn=ms(Ie)??qe,gi=Os(An,Tn);return ve(function xr(ae){return ae&&Oo(ae.canDeactivate)}(gi)?gi.canDeactivate(ae,Ie,de,Re):(0,i.N4e)(Tn,()=>gi(ae,Ie,de,Re))).pipe((0,j.$)())});return(0,e.of)(zt).pipe(It())}(qe.component,qe.route,de,Ie,Re)),(0,j.$)(qe=>!0!==qe,!0))}(zt,Re,qe,ae).pipe((0,N.Z)(An=>An&&function pr(ae){return"boolean"==typeof ae}(An)?function Mt(ae,Ie,de,Re){return(0,c.H)(Ie).pipe((0,$.H)(qe=>(0,y.x)(function Bn(ae,Ie){return null!==ae&&Ie&&Ie(new is(ae)),(0,e.of)(!0)}(qe.route.parent,Re),function sn(ae,Ie){return null!==ae&&Ie&&Ie(new fs(ae)),(0,e.of)(!0)}(qe.route,Re),function Ve(ae,Ie,de){const Re=Ie[Ie.length-1],Et=Ie.slice(0,Ie.length-1).reverse().map(zt=>function hr(ae){const Ie=ae.routeConfig?ae.routeConfig.canActivateChild:null;return Ie&&0!==Ie.length?{node:ae,guards:Ie}:null}(zt)).filter(zt=>null!==zt).map(zt=>(0,E.v)(()=>{const An=zt.guards.map(Tn=>{const gi=ms(zt.node)??de,cs=Os(Tn,gi);return ve(function gr(ae){return ae&&Oo(ae.canActivateChild)}(cs)?cs.canActivateChild(Re,ae):(0,i.N4e)(gi,()=>cs(Re,ae))).pipe((0,j.$)())});return(0,e.of)(An).pipe(It())}));return(0,e.of)(Et).pipe(It())}(ae,qe.path,de),function xe(ae,Ie,de){const Re=Ie.routeConfig?Ie.routeConfig.canActivate:null;if(!Re||0===Re.length)return(0,e.of)(!0);const qe=Re.map(Et=>(0,E.v)(()=>{const zt=ms(Ie)??de,An=Os(Et,zt);return ve(function ra(ae){return ae&&Oo(ae.canActivate)}(An)?An.canActivate(Ie,ae):(0,i.N4e)(zt,()=>An(Ie,ae))).pipe((0,j.$)())}));return(0,e.of)(qe).pipe(It())}(ae,qe.route,de))),(0,j.$)(qe=>!0!==qe,!0))}(Re,Et,ae,Ie):(0,e.of)(An)),(0,S.T)(An=>({...de,guardsResult:An})))})}(this.environmentInjector,Tn=>this.events.next(Tn)),(0,k.M)(Tn=>{if(Et.guardsResult=Tn.guardsResult,Tn.guardsResult&&"boolean"!=typeof Tn.guardsResult)throw Bt(0,Tn.guardsResult);const gi=new Ln(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot,!!Tn.guardsResult);this.events.next(gi)}),(0,L.p)(Tn=>!!Tn.guardsResult||(this.cancelNavigationTransition(Tn,"",Pt.GuardRejected),!1)),ko(Tn=>{if(Tn.guards.canActivateChecks.length)return(0,e.of)(Tn).pipe((0,k.M)(gi=>{const cs=new Yn(gi.id,this.urlSerializer.serialize(gi.extractedUrl),this.urlSerializer.serialize(gi.urlAfterRedirects),gi.targetSnapshot);this.events.next(cs)}),(0,T.n)(gi=>{let cs=!1;return(0,e.of)(gi).pipe(function Qc(ae,Ie){return(0,N.Z)(de=>{const{targetSnapshot:Re,guards:{canActivateChecks:qe}}=de;if(!qe.length)return(0,e.of)(de);const Et=new Set(qe.map(Tn=>Tn.route)),zt=new Set;for(const Tn of Et)if(!zt.has(Tn))for(const gi of Cl(Tn))zt.add(gi);let An=0;return(0,c.H)(zt).pipe((0,$.H)(Tn=>Et.has(Tn)?function Rd(ae,Ie,de,Re){const qe=ae.routeConfig,Et=ae._resolve;return void 0!==qe?.title&&!Tr(qe)&&(Et[ue]=qe.title),function Ll(ae,Ie,de,Re){const qe=Z(ae);if(0===qe.length)return(0,e.of)({});const Et={};return(0,c.H)(qe).pipe((0,N.Z)(zt=>function yc(ae,Ie,de,Re){const qe=ms(Ie)??Re,Et=Os(ae,qe);return ve(Et.resolve?Et.resolve(Ie,de):(0,i.N4e)(qe,()=>Et(Ie,de)))}(ae[zt],Ie,de,Re).pipe((0,j.$)(),(0,k.M)(An=>{if(An instanceof pt)throw Bt(new hn,An);Et[zt]=An}))),(0,X.o)(1),(0,J.u)(Et),(0,K.W)(zt=>el(zt)?C.w:(0,O.$)(zt)))}(Et,ae,Ie,Re).pipe((0,S.T)(zt=>(ae._resolvedData=zt,ae.data=Bo(ae,ae.parent,de).resolve,null)))}(Tn,Re,ae,Ie):(Tn.data=Bo(Tn,Tn.parent,ae).resolve,(0,e.of)(void 0))),(0,k.M)(()=>An++),(0,X.o)(1),(0,N.Z)(Tn=>An===zt.size?(0,e.of)(de):C.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,k.M)({next:()=>cs=!0,complete:()=>{cs||this.cancelNavigationTransition(gi,"",Pt.NoDataFromResolver)}}))}),(0,k.M)(gi=>{const cs=new Jn(gi.id,this.urlSerializer.serialize(gi.extractedUrl),this.urlSerializer.serialize(gi.urlAfterRedirects),gi.targetSnapshot);this.events.next(cs)}))}),ko(Tn=>{const gi=cs=>{const qi=[];cs.routeConfig?.loadComponent&&!cs.routeConfig._loadedComponent&&qi.push(this.configLoader.loadComponent(cs.routeConfig).pipe((0,k.M)(ao=>{cs.component=ao}),(0,S.T)(()=>{})));for(const ao of cs.children)qi.push(...gi(ao));return qi};return(0,m.z)(gi(Tn.targetSnapshot.root)).pipe((0,V.U)(null),(0,w.s)(1))}),ko(()=>this.afterPreactivation()),(0,T.n)(()=>{const{currentSnapshot:Tn,targetSnapshot:gi}=Et,cs=this.createViewTransition?.(this.environmentInjector,Tn.root,gi.root);return cs?(0,c.H)(cs).pipe((0,S.T)(()=>Et)):(0,e.of)(Et)}),(0,S.T)(Tn=>{const gi=function sa(ae,Ie,de){const Re=Ta(ae,Ie._root,de?de._root:void 0);return new Dr(Re,Ie)}(de.routeReuseStrategy,Tn.targetSnapshot,Tn.currentRouterState);return this.currentTransition=Et={...Tn,targetRouterState:gi},this.currentNavigation.targetRouterState=gi,Et}),(0,k.M)(()=>{this.events.next(new hs)}),((ae,Ie,de,Re)=>(0,S.T)(qe=>(new Ls(Ie,qe.targetRouterState,qe.currentRouterState,de,Re).activate(ae),qe)))(this.rootContexts,de.routeReuseStrategy,Tn=>this.events.next(Tn),this.inputBindingEnabled),(0,w.s)(1),(0,k.M)({next:Tn=>{zt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Tn.targetRouterState.snapshot),Tn.resolve(!0)},complete:()=>{zt=!0}}),(0,ee.Q)(this.transitionAbortSubject.pipe((0,k.M)(Tn=>{throw Tn}))),(0,q.j)(()=>{!zt&&!An&&this.cancelNavigationTransition(Et,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===Et.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,K.W)(Tn=>{if(An=!0,wi(Tn))this.events.next(new Ye(Et.id,this.urlSerializer.serialize(Et.extractedUrl),Tn.message,Tn.cancellationCode)),function hi(ae){return wi(ae)&&Ft(ae.url)}(Tn)?this.events.next(new jt(Tn.url,Tn.navigationBehaviorOptions)):Et.resolve(!1);else{const gi=new Qt(Et.id,this.urlSerializer.serialize(Et.extractedUrl),Tn,Et.targetSnapshot??void 0);try{const cs=(0,i.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(gi));if(cs instanceof pt){const{message:qi,cancellationCode:ao}=Bt(0,cs);this.events.next(new Ye(Et.id,this.urlSerializer.serialize(Et.extractedUrl),qi,ao)),this.events.next(new jt(cs.redirectTo,cs.navigationBehaviorOptions))}else{this.events.next(gi);const qi=de.errorHandler(Tn);Et.resolve(!!qi)}}catch(cs){this.options.resolveNavigationPromiseOnError?Et.resolve(!1):Et.reject(cs)}}return C.w}))}))}cancelNavigationTransition(de,Re,qe){const Et=new Ye(de.id,this.urlSerializer.serialize(de.extractedUrl),Re,qe);this.events.next(Et),de.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const de=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Re=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return de.toString()!==Re?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();function Ro(ae){return ae!==Ri}let Ss=(()=>{class ae{static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:()=>(0,i.WQX)(Ia),providedIn:"root"})}}return ae})();class Ao{shouldDetach(Ie){return!1}store(Ie,de){}shouldAttach(Ie){return!1}retrieve(Ie){return null}shouldReuseRoute(Ie,de){return Ie.routeConfig===de.routeConfig}}let Ia=(()=>{class ae extends Ao{static{this.\u0275fac=(()=>{let de;return function(qe){return(de||(de=i.xGo(ae)))(qe||ae)}})()}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})(),ge=(()=>{class ae{static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:()=>(0,i.WQX)(rt),providedIn:"root"})}}return ae})(),rt=(()=>{class ae extends ge{constructor(){super(...arguments),this.location=(0,i.WQX)(h.aZ),this.urlSerializer=(0,i.WQX)(vn),this.options=(0,i.WQX)(rr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ta(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Re=>{"popstate"===Re.type&&de(Re.url,Re.state)})}handleRouterEvent(de,Re){if(de instanceof Si)this.stateMemento=this.createStateMemento();else if(de instanceof _t)this.rawUrlTree=Re.initialUrl;else if(de instanceof En){if("eager"===this.urlUpdateStrategy&&!Re.extras.skipLocationChange){const qe=this.urlHandlingStrategy.merge(Re.finalUrl,Re.initialUrl);this.setBrowserUrl(Re.targetBrowserUrl??qe,Re)}}else de instanceof hs?(this.currentUrlTree=Re.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Re.finalUrl,Re.initialUrl),this.routerState=Re.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Re.extras.skipLocationChange&&this.setBrowserUrl(Re.targetBrowserUrl??this.rawUrlTree,Re)):de instanceof Ye&&(de.code===Pt.GuardRejected||de.code===Pt.NoDataFromResolver)?this.restoreHistory(Re):de instanceof Qt?this.restoreHistory(Re,!0):de instanceof Jt&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Re){const qe=de instanceof wt?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(qe)||Re.extras.replaceUrl){const zt={...Re.extras.state,...this.generateNgRouterState(Re.id,this.browserPageId)};this.location.replaceState(qe,"",zt)}else{const Et={...Re.extras.state,...this.generateNgRouterState(Re.id,this.browserPageId+1)};this.location.go(qe,"",Et)}}restoreHistory(de,Re=!1){if("computed"===this.canceledNavigationResolution){const Et=this.currentPageId-this.browserPageId;0!==Et?this.location.historyGo(Et):this.currentUrlTree===de.finalUrl&&0===Et&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Re&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Re){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Re}:{navigationId:de}}static{this.\u0275fac=(()=>{let de;return function(qe){return(de||(de=i.xGo(ae)))(qe||ae)}})()}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();var Ae=function(ae){return ae[ae.COMPLETE=0]="COMPLETE",ae[ae.FAILED=1]="FAILED",ae[ae.REDIRECTING=2]="REDIRECTING",ae}(Ae||{});function tt(ae,Ie){ae.events.pipe((0,L.p)(de=>de instanceof Jt||de instanceof Ye||de instanceof Qt||de instanceof _t),(0,S.T)(de=>de instanceof Jt||de instanceof _t?Ae.COMPLETE:de instanceof Ye&&(de.code===Pt.Redirect||de.code===Pt.SupersededByNewNavigation)?Ae.REDIRECTING:Ae.FAILED),(0,L.p)(de=>de!==Ae.REDIRECTING),(0,w.s)(1)).subscribe(()=>{Ie()})}function Kt(ae){throw ae}const Pn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class ae{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(ge),this.options=(0,i.WQX)(rr,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(uo),this.urlSerializer=(0,i.WQX)(vn),this.location=(0,i.WQX)(h.aZ),this.urlHandlingStrategy=(0,i.WQX)(Qi),this._events=new D.B,this.errorHandler=this.options.errorHandler||Kt,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Ss),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,i.WQX)(mn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,i.WQX)(Da,{optional:!0}),this.eventsSubscription=new R.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Re=>{try{const qe=this.navigationTransitions.currentTransition,Et=this.navigationTransitions.currentNavigation;if(null!==qe&&null!==Et)if(this.stateManager.handleRouterEvent(Re,Et),Re instanceof Ye&&Re.code!==Pt.Redirect&&Re.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(Re instanceof Jt)this.navigated=!0;else if(Re instanceof jt){const zt=Re.navigationBehaviorOptions,An=this.urlHandlingStrategy.merge(Re.url,qe.currentRawUrl),Tn={browserUrl:qe.extras.browserUrl,info:qe.extras.info,skipLocationChange:qe.extras.skipLocationChange,replaceUrl:qe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ro(qe.source),...zt};this.scheduleNavigation(An,Ri,null,Tn,{resolve:qe.resolve,reject:qe.reject,promise:qe.promise})}(function ho(ae){return!(ae instanceof hs||ae instanceof jt)})(Re)&&this._events.next(Re)}catch(qe){this.navigationTransitions.transitionAbortSubject.next(qe)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ri,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((de,Re)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(de,"popstate",Re)},0)})}navigateToSyncWithBrowser(de,Re,qe){const Et={replaceUrl:!0},zt=qe?.navigationId?qe:null;if(qe){const Tn={...qe};delete Tn.navigationId,delete Tn.\u0275routerPageId,0!==Object.keys(Tn).length&&(Et.state=Tn)}const An=this.parseUrl(de);this.scheduleNavigation(An,Re,zt,Et)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Gt),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Re={}){const{relativeTo:qe,queryParams:Et,fragment:zt,queryParamsHandling:An,preserveFragment:Tn}=Re,gi=Tn?this.currentUrlTree.fragment:zt;let qi,cs=null;switch(An??this.options.defaultQueryParamsHandling){case"merge":cs={...this.currentUrlTree.queryParams,...Et};break;case"preserve":cs=this.currentUrlTree.queryParams;break;default:cs=Et||null}null!==cs&&(cs=this.removeEmptyProps(cs));try{qi=On(qe?qe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),qi=this.currentUrlTree.root}return Vn(qi,de,cs,gi??null)}navigateByUrl(de,Re={skipLocationChange:!1}){const qe=Ft(de)?de:this.parseUrl(de),Et=this.urlHandlingStrategy.merge(qe,this.rawUrlTree);return this.scheduleNavigation(Et,Ri,null,Re)}navigate(de,Re={skipLocationChange:!1}){return function Xs(ae){for(let Ie=0;Ie<ae.length;Ie++)if(null==ae[Ie])throw new i.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Re),Re)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Re){let qe;if(qe=!0===Re?{...Pn}:!1===Re?{...Wn}:Re,Ft(de))return et(this.currentUrlTree,de,qe);const Et=this.parseUrl(de);return et(this.currentUrlTree,Et,qe)}removeEmptyProps(de){return Object.entries(de).reduce((Re,[qe,Et])=>(null!=Et&&(Re[qe]=Et),Re),{})}scheduleNavigation(de,Re,qe,Et,zt){if(this.disposed)return Promise.resolve(!1);let An,Tn,gi;zt?(An=zt.resolve,Tn=zt.reject,gi=zt.promise):gi=new Promise((qi,ao)=>{An=qi,Tn=ao});const cs=this.pendingTasks.add();return tt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(cs))}),this.navigationTransitions.handleNavigationRequest({source:Re,restoredState:qe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:Et,resolve:An,reject:Tn,promise:gi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gi.catch(qi=>Promise.reject(qi))}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})(),Ks=(()=>{class ae{constructor(de,Re,qe,Et,zt,An){this.router=de,this.route=Re,this.tabIndexAttribute=qe,this.renderer=Et,this.el=zt,this.locationStrategy=An,this.href=null,this.onChanges=new D.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Tn=zt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tn||"area"===Tn,this.isAnchorElement?this.subscription=de.events.subscribe(gi=>{gi instanceof Jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ft(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Re,qe,Et,zt){const An=this.urlTree;return!!(null===An||this.isAnchorElement&&(0!==de||Re||qe||Et||zt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(An,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const de=this.urlTree;this.href=null!==de&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(de)):null;const Re=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Re)}applyAttributeValue(de,Re){const qe=this.renderer,Et=this.el.nativeElement;null!==Re?qe.setAttribute(Et,de,Re):qe.removeAttribute(Et,de)}get urlTree(){return null===this.routerLinkInput?null:Ft(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Re){return new(Re||ae)(i.rXU(fi),i.rXU(Hr),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(h.hb))}}static{this.\u0275dir=i.FsC({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Re,qe){1&Re&&i.bIt("click",function(zt){return qe.onClick(zt.button,zt.ctrlKey,zt.shiftKey,zt.altKey,zt.metaKey)}),2&Re&&i.BMQ("target",qe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[2,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return ae})(),Us=(()=>{class ae{get isActive(){return this._isActive}constructor(de,Re,qe,Et,zt){this.router=de,this.element=Re,this.renderer=qe,this.cdr=Et,this.link=zt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=de.events.subscribe(An=>{An instanceof Jt&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,fe.U)()).subscribe(de=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const de=[...this.links.toArray(),this.link].filter(Re=>!!Re).map(Re=>Re.onChanges);this.linkInputChangesSubscription=(0,c.H)(de).pipe((0,fe.U)()).subscribe(Re=>{this._isActive!==this.isLinkActive(this.router)(Re)&&this.update()})}set routerLinkActive(de){const Re=Array.isArray(de)?de:de.split(" ");this.classes=Re.filter(qe=>!!qe)}ngOnChanges(de){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const de=this.hasActiveLinks();this.classes.forEach(Re=>{de?this.renderer.addClass(this.element.nativeElement,Re):this.renderer.removeClass(this.element.nativeElement,Re)}),de&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==de&&(this._isActive=de,this.cdr.markForCheck(),this.isActiveChange.emit(de))})}isLinkActive(de){const Re=function ro(ae){return!!ae.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return qe=>{const Et=qe.urlTree;return!!Et&&de.isActive(Et,Re)}}hasActiveLinks(){const de=this.isLinkActive(this.router);return this.link&&de(this.link)||this.links.some(de)}static{this.\u0275fac=function(Re){return new(Re||ae)(i.rXU(fi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(Ks,8))}}static{this.\u0275dir=i.FsC({type:ae,selectors:[["","routerLinkActive",""]],contentQueries:function(Re,qe,Et){if(1&Re&&i.wni(Et,Ks,5),2&Re){let zt;i.mGM(zt=i.lsd())&&(qe.links=zt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return ae})();class Hs{}let ii=(()=>{class ae{preload(de,Re){return(0,e.of)(null)}static{this.\u0275fac=function(Re){return new(Re||ae)}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})(),Ui=(()=>{class ae{constructor(de,Re,qe,Et,zt){this.router=de,this.injector=qe,this.preloadingStrategy=Et,this.loader=zt}setUpPreloading(){this.subscription=this.router.events.pipe((0,L.p)(de=>de instanceof Jt),(0,$.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Re){const qe=[];for(const Et of Re){Et.providers&&!Et._injector&&(Et._injector=(0,i.Ol2)(Et.providers,de,`Route: ${Et.path}`));const zt=Et._injector??de,An=Et._loadedInjector??zt;(Et.loadChildren&&!Et._loadedRoutes&&void 0===Et.canLoad||Et.loadComponent&&!Et._loadedComponent)&&qe.push(this.preloadConfig(zt,Et)),(Et.children||Et._loadedRoutes)&&qe.push(this.processRoutes(An,Et.children??Et._loadedRoutes))}return(0,c.H)(qe).pipe((0,fe.U)())}preloadConfig(de,Re){return this.preloadingStrategy.preload(Re,()=>{let qe;qe=Re.loadChildren&&void 0===Re.canLoad?this.loader.loadChildren(de,Re):(0,e.of)(null);const Et=qe.pipe((0,N.Z)(zt=>null===zt?(0,e.of)(void 0):(Re._loadedRoutes=zt.routes,Re._loadedInjector=zt.injector,this.processRoutes(zt.injector??de,zt.routes))));if(Re.loadComponent&&!Re._loadedComponent){const zt=this.loader.loadComponent(Re);return(0,c.H)([Et,zt]).pipe((0,fe.U)())}return Et})}static{this.\u0275fac=function(Re){return new(Re||ae)(i.KVO(fi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(Hs),i.KVO(In))}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();const zs=new i.nKC("");let tr=(()=>{class ae{constructor(de,Re,qe,Et,zt={}){this.urlSerializer=de,this.transitions=Re,this.viewportScroller=qe,this.zone=Et,this.options=zt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},zt.scrollPositionRestoration||="disabled",zt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Jt?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof _t&&de.code===Fe.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Ji&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Re){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ji(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Re))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Re){i.QTQ()}}static{this.\u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();function qs(ae,...Ie){return(0,i.EmA)([{provide:mn,multi:!0,useValue:ae},[],{provide:Hr,useFactory:po,deps:[fi]},{provide:i.iLQ,multi:!0,useFactory:il},Ie.map(de=>de.\u0275providers)])}function po(ae){return ae.routerState.root}function yo(ae,Ie){return{\u0275kind:ae,\u0275providers:Ie}}function ls(ae={}){return yo(4,[{provide:zs,useFactory:()=>{const de=(0,i.WQX)(h.Xr),Re=(0,i.WQX)(i.SKi),qe=(0,i.WQX)(uo),Et=(0,i.WQX)(vn);return new tr(Et,qe,de,Re,ae)}}])}function il(){const ae=(0,i.WQX)(i.zZn);return Ie=>{const de=ae.get(i.o8S);if(Ie!==de.components[0])return;const Re=ae.get(fi),qe=ae.get(Ec);1===ae.get(ka)&&Re.initialNavigation(),ae.get(Pa,null,i.$GK.Optional)?.setUpPreloading(),ae.get(zs,null,i.$GK.Optional)?.init(),Re.resetRootComponentType(de.componentTypes[0]),qe.closed||(qe.next(),qe.complete(),qe.unsubscribe())}}const Ec=new i.nKC("",{factory:()=>new D.B}),ka=new i.nKC("",{providedIn:"root",factory:()=>1});function wo(){return yo(2,[{provide:ka,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:Ie=>{const de=Ie.get(h.hj,Promise.resolve());return()=>de.then(()=>new Promise(Re=>{const qe=Ie.get(fi),Et=Ie.get(Ec);tt(qe,()=>{Re(!0)}),Ie.get(uo).afterPreactivation=()=>(Re(!0),Et.closed?(0,e.of)(void 0):Et),qe.initialNavigation()}))}}])}const Pa=new i.nKC("");function Or(ae){return yo(0,[{provide:Pa,useExisting:Ui},{provide:Hs,useExisting:ae}])}function Va(ae){return yo(5,[{provide:rr,useValue:ae}])}function la(){return yo(8,[Ba,{provide:Da,useExisting:Ba}])}function zi(ae){return yo(9,[{provide:Zs,useValue:vo},{provide:As,useValue:{skipNextTransition:!!ae?.skipInitialTransition,...ae}}])}const Eo=new i.nKC("ROUTER_FORROOT_GUARD"),Yr=[h.aZ,{provide:vn,useClass:hn},fi,dr,{provide:Hr,useFactory:po,deps:[fi]},In,[]];let bl=(()=>{class ae{constructor(de){}static forRoot(de,Re){return{ngModule:ae,providers:[Yr,[],{provide:mn,multi:!0,useValue:de},{provide:Eo,useFactory:nr,deps:[[fi,new i.Xx1,new i.kdw]]},{provide:rr,useValue:Re||{}},Re?.useHash?{provide:h.hb,useClass:h.fw}:{provide:h.hb,useClass:h.Sm},{provide:zs,useFactory:()=>{const ae=(0,i.WQX)(h.Xr),Ie=(0,i.WQX)(i.SKi),de=(0,i.WQX)(rr),Re=(0,i.WQX)(uo),qe=(0,i.WQX)(vn);return de.scrollOffset&&ae.setOffset(de.scrollOffset),new tr(qe,Re,ae,Ie,de)}},Re?.preloadingStrategy?Or(Re.preloadingStrategy).\u0275providers:[],Re?.initialNavigation?Jr(Re):[],Re?.bindToComponentInputs?la().\u0275providers:[],Re?.enableViewTransitions?zi().\u0275providers:[],[{provide:Ou,useFactory:il},{provide:i.iLQ,multi:!0,useExisting:Ou}]]}}static forChild(de){return{ngModule:ae,providers:[{provide:mn,multi:!0,useValue:de}]}}static{this.\u0275fac=function(Re){return new(Re||ae)(i.KVO(Eo,8))}}static{this.\u0275mod=i.$C({type:ae})}static{this.\u0275inj=i.G2t({})}}return ae})();function nr(ae){return"guarded"}function Jr(ae){return["disabled"===ae.initialNavigation?yo(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const Ie=(0,i.WQX)(fi);return()=>{Ie.setUpLocationChangeListener()}}},{provide:ka,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?wo().\u0275providers:[]]}const Ou=new i.nKC("")},23632:(U,b,n)=>{"use strict";n.d(b,{Fv:()=>De,O7:()=>le,cz:()=>Ge});var i=n(54438),t=n(345),c=n(60177),e=n(49969);const f=ot=>({"ngx-gallery-active":ot});function m(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",1),i.bIt("click",function(mt){const vn=i.eBV(Ee).index,hn=i.XpG();return i.Njj(hn.handleChange(mt,vn))}),i.k0s()}if(2&ot){const Ee=Tt.index,je=i.XpG();i.Y8G("ngClass",i.eq3(1,f,Ee===je.active))}}const p=["previewImage"];function y(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.showPrev())})("nextClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.showNext())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("prevDisabled",!Ee.canShowPrev())("nextDisabled",!Ee.canShowNext())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}function E(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(mt){const vn=i.eBV(Ee).$implicit,hn=i.XpG();return i.Njj(vn.onClick(mt,hn.index))}),i.k0s()}if(2&ot){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function v(ot,Tt){if(1&ot&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&ot){const Ee=i.XpG();i.Y8G("href",Ee.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ee.downloadIcon,"")}}function O(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.zoomOut())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("icon",Ee.zoomOutIcon)("disabled",!Ee.canZoomOut())}}function C(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.zoomIn())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("icon",Ee.zoomInIcon)("disabled",!Ee.canZoomIn())}}function I(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.rotateLeft())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("icon",Ee.rotateLeftIcon)}}function D(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.rotateRight())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("icon",Ee.rotateRightIcon)}}function R(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.manageFullscreen())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+Ee.fullscreenIcon)}}function h(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(mt){return i.eBV(Ee),i.Njj(mt.stopPropagation())})("mouseenter",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.imageMouseEnter())})("mouseleave",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.imageMouseLeave())})("mousedown",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(mt))})("touchstart",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(mt))}),i.k0s()}if(2&ot){const Ee=i.XpG();i.xc7("transform",Ee.getTransform())("left",Ee.positionLeft+"px")("top",Ee.positionTop+"px"),i.AVh("ngx-gallery-active",!Ee.loading)("animation",Ee.animation)("ngx-gallery-grab",Ee.canDragOnZoom()),i.Y8G("src",Ee.src,i.B4B)}}function S(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(mt){return i.eBV(Ee),i.Njj(mt.stopPropagation())})("mouseenter",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.imageMouseEnter())})("mouseleave",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.imageMouseLeave())})("mousedown",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(mt))})("touchstart",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(mt))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&ot){const Ee=i.XpG();i.xc7("transform",Ee.getTransform())("left",Ee.positionLeft+"px")("top",Ee.positionTop+"px"),i.AVh("ngx-gallery-active",!Ee.loading)("animation",Ee.animation)("ngx-gallery-grab",Ee.canDragOnZoom()),i.R7$(2),i.Y8G("src",Ee.src,i.B4B)}}function T(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.showAtIndex(mt))}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("count",Ee.images.length)("active",Ee.index)}}function w(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",25),i.bIt("click",function(mt){return i.eBV(Ee),i.Njj(mt.stopPropagation())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("innerHTML",Ee.description,i.npT)}}const M=ot=>({"ngx-gallery-clickable":ot});function L(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(mt){const vn=i.eBV(Ee).$implicit,hn=i.XpG(2).$implicit;return i.Njj(vn.onClick(mt,hn.index))}),i.k0s()}if(2&ot){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function N(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",9),i.bIt("click",function(mt){return i.eBV(Ee),i.Njj(mt.stopPropagation())}),i.k0s()}if(2&ot){const Ee=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ee.index],i.npT)}}function j(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",4),i.bIt("click",function(mt){i.eBV(Ee);const vn=i.XpG().$implicit,hn=i.XpG();return i.Njj(hn.handleClick(mt,vn.index))})("@animation.start",function(mt){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onStart(mt))})("@animation.done",function(mt){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onDone(mt))}),i.j41(1,"div",5),i.DNE(2,L,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,N,1,1,"div",7),i.k0s()}if(2&ot){const Ee=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ee.src)),i.Y8G("ngClass",i.eq3(6,M,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ee.index])}}function $(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(mt){const vn=i.eBV(Ee).$implicit,hn=i.XpG(2).$implicit;return i.Njj(vn.onClick(mt,hn.index))}),i.k0s()}if(2&ot){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function k(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",9),i.bIt("click",function(mt){return i.eBV(Ee),i.Njj(mt.stopPropagation())}),i.k0s()}if(2&ot){const Ee=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ee.index],i.npT)}}function K(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"div",4),i.bIt("click",function(mt){i.eBV(Ee);const vn=i.XpG().$implicit,hn=i.XpG();return i.Njj(hn.handleClick(mt,vn.index))})("@animation.start",function(mt){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onStart(mt))})("@animation.done",function(mt){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onDone(mt))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,$,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,k,1,1,"div",7),i.k0s()}if(2&ot){const Ee=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ee.src)),i.Y8G("ngClass",i.eq3(7,M,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("src",Ee.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ee.index])}}function z(ot,Tt){if(1&ot&&(i.qex(0),i.DNE(1,j,4,8,"div",3)(2,K,7,9,"div",3),i.bVm()),2&ot){const Ee=Tt.$implicit,je=i.XpG();i.R7$(),i.Y8G("ngIf","image"===Ee.type&&Ee.index===je._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===Ee.type&&Ee.index===je._selectedIndex)}}function V(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.show(mt))}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("count",Ee.images.length)("active",Ee._selectedIndex)}}function G(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.showPrev())})("nextClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.showNext())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.ZvI("ngx-gallery-image-size-",Ee.size,""),i.Y8G("prevDisabled",!Ee.canShowPrev())("nextDisabled",!Ee.canShowNext())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}const X=(ot,Tt)=>({"ngx-gallery-active":ot,"ngx-gallery-clickable":Tt});function J(ot,Tt){if(1&ot&&i.nrm(0,"div",9),2&ot){const Ee=i.XpG(),je=Ee.$implicit,mt=Ee.index,vn=i.XpG();i.xc7("background-image",vn.getSafeUrl(je)),i.Y8G("ngClass",i.l_i(3,X,mt===vn.selectedIndex,vn.clickable))}}function q(ot,Tt){if(1&ot&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&ot){const Ee=i.XpG(),je=Ee.$implicit,mt=Ee.index,vn=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,X,mt===vn.selectedIndex,vn.clickable)),i.R7$(),i.Y8G("src",je,i.B4B)}}function ne(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(mt){const vn=i.eBV(Ee).$implicit,hn=i.XpG().index;return i.Njj(vn.onClick(mt,hn))}),i.k0s()}if(2&ot){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function ee(ot,Tt){if(1&ot&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&ot){const Ee=i.XpG(2);i.R7$(2),i.SpI("+",Ee.remainingCountValue,"")}}function fe(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"a",3),i.bIt("click",function(mt){const vn=i.eBV(Ee).index,hn=i.XpG();return i.Njj(hn.handleClick(mt,vn))}),i.DNE(1,J,1,6,"div",4)(2,q,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,ne,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,ee,3,1,"div",8),i.k0s()}if(2&ot){const Ee=Tt.$implicit,je=Tt.index,mt=i.XpG();i.xc7("width",mt.getThumbnailWidth())("height",mt.getThumbnailHeight())("left",mt.getThumbnailLeft(je))("top",mt.getThumbnailTop(je)),i.Y8G("href",mt.hasLink(je)?mt.links[je]:"#",i.B4B)("target",mt.linkTarget)("ngClass",i.l_i(16,X,je===mt.selectedIndex,mt.clickable)),i.BMQ("aria-label",mt.labels[je]),i.R7$(),i.Y8G("ngIf","image"===mt.getFileType(Ee)),i.R7$(),i.Y8G("ngIf","video"===mt.getFileType(Ee)),i.R7$(2),i.Y8G("ngForOf",mt.actions),i.R7$(),i.Y8G("ngIf",mt.remainingCount&&mt.remainingCountValue&&je===mt.rows*mt.columns-1)}}function ye(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.moveLeft())})("nextClick",function(){i.eBV(Ee);const mt=i.XpG();return i.Njj(mt.moveRight())}),i.k0s()}if(2&ot){const Ee=i.XpG();i.Y8G("prevDisabled",!Ee.canMoveLeft())("nextDisabled",!Ee.canMoveRight())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}const oe=()=>[];function ue(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.openPreview(mt))})("activeChange",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.selectFromImage(mt))})("animating",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.setAnimating(mt))}),i.k0s()}if(2&ot){const Ee=i.XpG();i.xc7("height",Ee.getImageHeight()),i.Y8G("images",Ee.mediumImages)("clickable",null==Ee.currentOptions?null:Ee.currentOptions.preview)("selectedIndex",Ee.selectedIndex)("arrows",null==Ee.currentOptions?null:Ee.currentOptions.imageArrows)("arrowsAutoHide",null==Ee.currentOptions?null:Ee.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowNextIcon)("swipe",null==Ee.currentOptions?null:Ee.currentOptions.imageSwipe)("animation",null==Ee.currentOptions?null:Ee.currentOptions.imageAnimation)("size",null==Ee.currentOptions?null:Ee.currentOptions.imageSize)("autoPlay",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlay)("autoPlayInterval",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==Ee.currentOptions?null:Ee.currentOptions.imageInfinityMove)("lazyLoading",null==Ee.currentOptions?null:Ee.currentOptions.lazyLoading)("actions",null==Ee.currentOptions?null:Ee.currentOptions.imageActions)("descriptions",Ee.descriptions)("showDescription",null==Ee.currentOptions?null:Ee.currentOptions.imageDescription)("bullets",null==Ee.currentOptions?null:Ee.currentOptions.imageBullets)}}function te(ot,Tt){if(1&ot){const Ee=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(mt){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.selectFromThumbnails(mt))}),i.k0s()}if(2&ot){const Ee=i.XpG();i.xc7("margin-top",Ee.getThumbnailsMarginTop())("margin-bottom",Ee.getThumbnailsMarginBottom())("height",Ee.getThumbnailsHeight()),i.Y8G("images",Ee.smallImages)("isAnimating",Ee.isAnimating)("links",null!=Ee.currentOptions&&Ee.currentOptions.thumbnailsAsLinks?Ee.links:i.lJ4(28,oe))("labels",Ee.labels)("linkTarget",null==Ee.currentOptions?null:Ee.currentOptions.linkTarget)("selectedIndex",Ee.selectedIndex)("columns",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsColumns)("rows",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsRows)("margin",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailMargin)("arrows",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowNextIcon)("clickable",(null==Ee.currentOptions?null:Ee.currentOptions.image)||(null==Ee.currentOptions?null:Ee.currentOptions.preview))("swipe",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsSwipe)("size",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailSize)("moveSize",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsMoveSize)("order",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsOrder)("remainingCount",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==Ee.currentOptions?null:Ee.currentOptions.lazyLoading)("actions",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailActions)("ngClass",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailClasses)}}let se=(()=>{class ot{constructor(Ee){this.renderer=Ee,this.swipeHandlers=new Map}manageSwipe(Ee,je,mt,vn,hn){const jn=this.getSwipeHandlers(mt);try{Ee&&!jn?this.swipeHandlers.set(mt,[this.renderer.listen(je.nativeElement,"swipeleft",()=>vn()),this.renderer.listen(je.nativeElement,"swiperight",()=>hn())]):!Ee&&jn&&(jn.map(bt=>bt()),this.removeSwipeHandlers(mt))}catch{}}validateUrl(Ee){return Ee.replace?Ee.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):Ee}getBackgroundUrl(Ee){return"url('"+this.validateUrl(Ee)+"')"}getFileType(Ee){const je=Ee.split(".").pop().toLowerCase();return"avi"===je||"flv"===je||"wmv"===je||"mov"===je||"mp4"===je?"video":"image"}getSwipeHandlers(Ee){return this.swipeHandlers.get(Ee)}removeSwipeHandlers(Ee){this.swipeHandlers.delete(Ee)}}return ot.\u0275fac=function(Ee){return new(Ee||ot)(i.KVO(i.sFG))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),be=(()=>{class ot{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return ot.\u0275fac=function(Ee){return new(Ee||ot)},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return je.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return je.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&Ee&&(i.R7$(),i.AVh("ngx-gallery-disabled",je.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",je.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),ot})(),me=(()=>{class ot{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(Ee){this.disabled||this.closeClick.emit(Ee),Ee.stopPropagation(),Ee.preventDefault()}}return ot.\u0275fac=function(Ee){return new(Ee||ot)},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div",0),i.bIt("click",function(vn){return je.handleClick(vn)}),i.nrm(1,"i"),i.k0s()),2&Ee&&(i.AVh("ngx-gallery-icon-disabled",je.disabled),i.FS9("title",je.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),ot})(),re=(()=>{class ot{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(Ee,je){this.bulletChange.emit(je)}}return ot.\u0275fac=function(Ee){return new(Ee||ot)},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(Ee,je){1&Ee&&i.DNE(0,m,1,3,"div",0),2&Ee&&i.Y8G("ngForOf",je.getBullets())},dependencies:[c.Sq,c.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),ot})(),Z=(()=>{class ot{constructor(Ee,je,mt,vn,hn){this.sanitization=Ee,this.elementRef=je,this.helperService=mt,this.renderer=vn,this.changeDetectorRef=hn,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(Ee){Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(Ee){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(Ee)?this.showPrev():this.isKeyboardNext(Ee)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(Ee)&&this.close())}open(Ee){this.previewOpen.emit(),this.index=Ee,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",je=>this.onKeyDown(je))}close(){this.isOpen=!1;const Ee=this.previewImage.nativeElement;Ee.currentTime>0&&!Ee.paused&&!Ee.ended&&Ee.readyState>2&&Ee.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(Ee){this.index=Ee,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const Ee=document;Ee.fullscreenElement||Ee.mozFullScreenElement||Ee.webkitFullscreenElement||Ee.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustUrl(Ee)}getFileType(Ee){return this.helperService.getFileType(Ee)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(Ee){this.canDragOnZoom()&&(this.initialX=this.getClientX(Ee),this.initialY=this.getClientY(Ee),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,Ee.preventDefault())}mouseUpHandler(Ee){this.isMove=!1}mouseMoveHandler(Ee){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(Ee)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(Ee)-this.initialY))}getClientX(Ee){return Ee.touches&&Ee.touches.length?Ee.touches[0].clientX:Ee.clientX}getClientY(Ee){return Ee.touches&&Ee.touches.length?Ee.touches[0].clientY:Ee.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(Ee){return 39===Ee.keyCode}isKeyboardPrev(Ee){return 37===Ee.keyCode}isKeyboardEsc(Ee){return 27===Ee.keyCode}openFullscreen(){const Ee=document.documentElement;Ee.requestFullscreen?Ee.requestFullscreen():Ee.msRequestFullscreen?Ee.msRequestFullscreen():Ee.mozRequestFullScreen?Ee.mozRequestFullScreen():Ee.webkitRequestFullscreen&&Ee.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const Ee=document;Ee.exitFullscreen?Ee.exitFullscreen():Ee.msExitFullscreen?Ee.msExitFullscreen():Ee.mozCancelFullScreen?Ee.mozCancelFullScreen():Ee.webkitExitFullscreen&&Ee.webkitExitFullscreen()}}isFullscreen(){const Ee=document;return Ee.fullscreenElement||Ee.webkitFullscreenElement||Ee.mozFullScreenElement||Ee.msFullscreenElement}show(Ee=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),Ee||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(Ee){return!(!Ee.complete||typeof Ee.naturalWidth<"u"&&0===Ee.naturalWidth)}}return ot.\u0275fac=function(Ee){return new(Ee||ot)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(se),i.rXU(i.sFG),i.rXU(i.gRc))},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-preview"]],viewQuery:function(Ee,je){if(1&Ee&&i.GBs(p,5),2&Ee){let mt;i.mGM(mt=i.lsd())&&(je.previewImage=mt.first)}},hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(Ee,je){1&Ee&&(i.DNE(0,y,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,E,1,3,"ngx-gallery-action",4)(4,v,2,4,"a",5)(5,O,1,2,"ngx-gallery-action",6)(6,C,1,2,"ngx-gallery-action",6)(7,I,1,1,"ngx-gallery-action",7)(8,D,1,1,"ngx-gallery-action",7)(9,R,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return je.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return je.closeOnClick&&je.close()})("mouseup",function(vn){return je.mouseUpHandler(vn)})("mousemove",function(vn){return je.mouseMoveHandler(vn)})("touchend",function(vn){return je.mouseUpHandler(vn)})("touchmove",function(vn){return je.mouseMoveHandler(vn)}),i.j41(14,"div",12),i.DNE(15,h,2,13,"img",13)(16,S,4,13,"video",14)(17,T,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,w,1,1,"div",16),i.k0s()),2&Ee&&(i.Y8G("ngIf",je.arrows),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.download&&je.src),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+je.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",je.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",je.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",je.src&&"image"===je.type),i.R7$(),i.Y8G("ngIf",je.src&&"video"===je.type),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.description))},dependencies:[be,me,re,c.bT,c.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),ot})(),le=(()=>{class ot{}return ot.Fade="fade",ot.Slide="slide",ot.Rotate="rotate",ot.Zoom="zoom",ot})(),ce=(()=>{class ot{constructor(Ee,je,mt,vn){this.sanitization=Ee,this.changeDetectorRef=je,this.elementRef=mt,this.helperService=vn,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=je,this.action="none"}set selectedIndex(Ee){if(Ee>this._selectedIndex){let je;this.animation===le.Slide?je="slideRight":this.animation===le.Fade?je="fade":this.animation===le.Rotate?je="rotateRight":this.animation===le.Zoom&&(je="zoom"),this.setAction(je)}else if(Ee<this._selectedIndex){let je;this.animation===le.Slide?je="slideLeft":this.animation===le.Fade?je="fade":this.animation===le.Rotate?je="rotateLeft":this.animation===le.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ee}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(Ee){Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(Ee){this._selectedIndex=Ee,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const Ee=[this._selectedIndex],je=this._selectedIndex-1;-1===je&&this.infinityMove?Ee.push(this.images.length-1):je>=0&&Ee.push(je);const mt=this._selectedIndex+1;return mt===this.images.length&&this.infinityMove?Ee.push(0):mt<this.images.length&&Ee.push(mt),this.images.filter((vn,hn)=>-1!==Ee.indexOf(hn))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(Ee,je){this.clickable&&(this.imageClick.emit(je),Ee.stopPropagation(),Ee.preventDefault())}show(Ee){if(!this.isAnimating){if(Ee>this._selectedIndex){let je;this.animation===le.Slide?je="slideRight":this.animation===le.Fade?je="fade":this.animation===le.Rotate?je="rotateRight":this.animation===le.Zoom&&(je="zoom"),this.setAction(je)}else{let je;this.animation===le.Slide?je="slideLeft":this.animation===le.Fade?je="fade":this.animation===le.Rotate?je="rotateLeft":this.animation===le.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ee,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(Ee){this.action=Ee,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let Ee;return this.animation===le.Slide?Ee="slideRight":this.animation===le.Fade?Ee="fade":this.animation===le.Rotate?Ee="rotateRight":this.animation===le.Zoom&&(Ee="zoom"),this.setAction(Ee),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let Ee;this.animation===le.Slide?Ee="slideLeft":this.animation===le.Fade?Ee="fade":this.animation===le.Rotate?Ee="rotateLeft":this.animation===le.Zoom&&(Ee="zoom"),this.setAction(Ee),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let Ee=1e3;(this.animation===le.Slide||this.animation===le.Fade)&&(Ee=500),setTimeout(()=>{this.canChangeImage=!0},Ee)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ee.toString()))}getFileType(Ee){return this.helperService.getFileType(Ee)}onStart(Ee){this.isAnimating=!0,this.animating.emit(!0)}onDone(Ee){this.isAnimating=!1,this.animating.emit(!1)}}return ot.\u0275fac=function(Ee){return new(Ee||ot)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(se))},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-image"]],hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div"),i.DNE(1,z,3,2,"ng-container",0)(2,V,1,2,"ngx-gallery-bullets",1)(3,G,1,7,"ngx-gallery-arrows",2),i.k0s()),2&Ee&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",je.animation," ngx-gallery-image-size-",je.size,""),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.arrows))},dependencies:[me,re,be,c.Sq,c.bT,c.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),ot})(),ve=(()=>{class ot{}return ot.Column=1,ot.Row=2,ot.Page=3,ot})(),ze=(()=>{class ot{constructor(Ee,je,mt){this.sanitization=Ee,this.elementRef=je,this.helperService=mt,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(Ee){Ee.selectedIndex&&this.validateIndex(),Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(Ee){this.selectedIndex=Ee,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==ve.Row){let Ee=0;return this.order===ve.Column?Ee=(this.index+this.columns+this.moveSize)*this.rows:this.order===ve.Page&&(Ee=this.index+this.columns*this.rows*2),Ee<=this.minStopIndex?Ee=this.minStopIndex:this.minStopIndex=Ee,this.images.slice(0,Ee)}return this.images}handleClick(Ee,je){!this.hasLink(je)&&!this.isAnimating&&(this.selectedIndex=je,this.activeChange.emit(je)),Ee.stopPropagation(),Ee.preventDefault()}hasLink(Ee){return!!(this.links&&this.links.length&&this.links[Ee])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const Ee=this.getMaxIndex()-this.columns;this.index>Ee&&(this.index=Ee),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(Ee){let je;return je=this.order===ve.Column?Math.floor(Ee/this.rows):this.order===ve.Page?Ee%this.columns+Math.floor(Ee/(this.rows*this.columns))*this.columns:this.order===ve.Row&&this.remainingCount?Ee%this.columns:Ee%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(je,this.columns)}getThumbnailTop(Ee){let je;return je=this.order===ve.Column?Ee%this.rows:this.order===ve.Page?Math.floor(Ee/this.columns)-Math.floor(Ee/(this.rows*this.columns))*this.rows:this.order===ve.Row&&this.remainingCount?Math.floor(Ee/this.columns):Math.floor(Ee/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(je,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let Ee;if(Ee=this.order===ve.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(Ee=0),Ee<this.index||Ee>=this.index+this.columns){const je=this.getMaxIndex()-this.columns;this.index=Ee>je?je:Ee,this.setThumbnailsPosition()}}}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ee.toString()))}getFileType(Ee){return this.helperService.getFileType(Ee.toString())}getThumbnailPosition(Ee,je){return this.getSafeStyle("calc("+100/je*Ee+"% + "+(this.margin-(je-1)*this.margin/je)*Ee+"px)")}getThumbnailDimension(Ee){return this.getSafeStyle(0!==this.margin?"calc("+100/Ee+"% - "+(Ee-1)*this.margin/Ee+"px)":"calc("+100/Ee+"% + 1px)")}getMaxIndex(){if(this.order===ve.Page){let Ee=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?Ee+=this.columns:Ee+=this.images.length%this.getVisibleCount(),Ee}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(Ee){return this.sanitization.bypassSecurityTrustStyle(Ee)}}return ot.\u0275fac=function(Ee){return new(Ee||ot)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(se))},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div")(1,"div",0),i.DNE(2,fe,6,19,"a",1),i.k0s()(),i.DNE(3,ye,1,4,"ngx-gallery-arrows",2)),2&Ee&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",je.size,""),i.R7$(),i.xc7("transform","translateX("+je.thumbnailsLeft+")")("margin-left",je.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.canShowArrows()))},dependencies:[me,be,c.Sq,c.YU,c.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),ot})();class Se{constructor(Tt){this.icon=Tt.icon,this.disabled=!!Tt.disabled&&Tt.disabled,this.titleText=Tt.titleText?Tt.titleText:"",this.onClick=Tt.onClick}}let et=(()=>{class ot{}return ot.ThumbnailsTop="thumbnails-top",ot.ThumbnailsBottom="thumbnails-bottom",ot})(),$e=(()=>{class ot{}return ot.Cover="cover",ot.Contain="contain",ot})();class st{constructor(Tt){const Ee=void 0!==Tt.breakpoint;function je(mt,vn){return Tt&&(void 0!==mt||Ee)?mt:vn}this.breakpoint=je(Tt.breakpoint,void 0),this.width=je(Tt.width,"500px"),this.height=je(Tt.height,"400px"),this.fullWidth=je(Tt.fullWidth,!1),this.layout=je(Tt.layout,et.ThumbnailsBottom),this.startIndex=je(Tt.startIndex,0),this.linkTarget=je(Tt.linkTarget,"_blank"),this.lazyLoading=je(Tt.lazyLoading,!0),this.image=je(Tt.image,!0),this.imagePercent=je(Tt.imagePercent,75),this.imageArrows=je(Tt.imageArrows,!0),this.imageArrowsAutoHide=je(Tt.imageArrowsAutoHide,!1),this.imageSwipe=je(Tt.imageSwipe,!1),this.imageAnimation=je(Tt.imageAnimation,le.Fade),this.imageSize=je(Tt.imageSize,$e.Cover),this.imageAutoPlay=je(Tt.imageAutoPlay,!1),this.imageAutoPlayInterval=je(Tt.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=je(Tt.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=je(Tt.imageInfinityMove,!1),Tt&&Tt.imageActions&&Tt.imageActions.length&&(Tt.imageActions=Tt.imageActions.map(mt=>new Se(mt))),this.imageActions=je(Tt.imageActions,[]),this.imageDescription=je(Tt.imageDescription,!1),this.imageBullets=je(Tt.imageBullets,!1),this.thumbnails=je(Tt.thumbnails,!0),this.thumbnailsColumns=je(Tt.thumbnailsColumns,4),this.thumbnailsRows=je(Tt.thumbnailsRows,1),this.thumbnailsPercent=je(Tt.thumbnailsPercent,25),this.thumbnailsMargin=je(Tt.thumbnailsMargin,10),this.thumbnailsArrows=je(Tt.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=je(Tt.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=je(Tt.thumbnailsSwipe,!1),this.thumbnailsMoveSize=je(Tt.thumbnailsMoveSize,1),this.thumbnailsOrder=je(Tt.thumbnailsOrder,ve.Column),this.thumbnailsRemainingCount=je(Tt.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=je(Tt.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=je(Tt.thumbnailsAutoHide,!1),this.thumbnailMargin=je(Tt.thumbnailMargin,10),this.thumbnailSize=je(Tt.thumbnailSize,$e.Cover),Tt&&Tt.thumbnailActions&&Tt.thumbnailActions.length&&(Tt.thumbnailActions=Tt.thumbnailActions.map(mt=>new Se(mt))),this.thumbnailActions=je(Tt.thumbnailActions,[]),this.thumbnailClasses=je(Tt.thumbnailClasses,[]),this.preview=je(Tt.preview,!0),this.previewDescription=je(Tt.previewDescription,!0),this.previewArrows=je(Tt.previewArrows,!0),this.previewArrowsAutoHide=je(Tt.previewArrowsAutoHide,!1),this.previewSwipe=je(Tt.previewSwipe,!1),this.previewFullscreen=je(Tt.previewFullscreen,!1),this.previewForceFullscreen=je(Tt.previewForceFullscreen,!1),this.previewCloseOnClick=je(Tt.previewCloseOnClick,!1),this.previewCloseOnEsc=je(Tt.previewCloseOnEsc,!1),this.previewKeyboardNavigation=je(Tt.previewKeyboardNavigation,!1),this.previewAnimation=je(Tt.previewAnimation,!0),this.previewAutoPlay=je(Tt.previewAutoPlay,!1),this.previewAutoPlayInterval=je(Tt.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=je(Tt.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=je(Tt.previewInfinityMove,!1),this.previewZoom=je(Tt.previewZoom,!1),this.previewZoomStep=je(Tt.previewZoomStep,.1),this.previewZoomMax=je(Tt.previewZoomMax,2),this.previewZoomMin=je(Tt.previewZoomMin,.5),this.previewRotate=je(Tt.previewRotate,!1),this.previewDownload=je(Tt.previewDownload,!1),this.previewCustom=je(Tt.previewCustom,void 0),this.previewBullets=je(Tt.previewBullets,!1),this.arrowPrevIcon=je(Tt.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=je(Tt.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=je(Tt.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=je(Tt.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=je(Tt.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=je(Tt.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=je(Tt.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=je(Tt.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=je(Tt.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=je(Tt.downloadIcon,"fa fa-arrow-circle-down"),Tt&&Tt.actions&&Tt.actions.length&&(Tt.actions=Tt.actions.map(mt=>new Se(mt))),this.actions=je(Tt.actions,[])}}class We{constructor(Tt){this.src=Tt.src,this.type=Tt.type,this.index=Tt.index}}let De=(()=>{class ot{constructor(Ee,je){this.myElement=Ee,this.helperService=je,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(Ee=>new st(Ee)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===et.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===et.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(Ee){this.currentOptions.previewCustom?this.currentOptions.previewCustom(Ee):(this.previewEnabled=!0,this.preview.open(Ee))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(Ee){this.select(Ee)}selectFromThumbnails(Ee){this.select(Ee),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(Ee){this.select(Ee)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(Ee){this.previewChange.emit({index:Ee,image:this.images[Ee]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(Ee){this.selectedIndex=Ee,this.change.emit({index:Ee,image:this.images[Ee]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(Ee=>Ee.type=this.helperService.getFileType(Ee.url||Ee.big||Ee.medium||Ee.small||"")),this.smallImages=this.images.map(Ee=>Ee.small),this.mediumImages=this.images.map((Ee,je)=>new We({src:Ee.medium,type:Ee.type,index:je})),this.bigImages=this.images.map(Ee=>Ee.big),this.descriptions=this.images.map(Ee=>Ee.description),this.links=this.images.map(Ee=>Ee.url),this.labels=this.images.map(Ee=>Ee.label)}setBreakpoint(){let Ee;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(Ee=this.options.filter(je=>je.breakpoint>=window.innerWidth).map(je=>je.breakpoint)),this.breakpoint=Ee&&Ee.length?Ee.pop():void 0}sortOptions(){this.options=[...this.options.filter(Ee=>void 0===Ee.breakpoint),...this.options.filter(Ee=>void 0!==Ee.breakpoint).sort((Ee,je)=>je.breakpoint-Ee.breakpoint)]}setOptions(){this.currentOptions=new st({}),this.options.filter(Ee=>void 0===Ee.breakpoint||Ee.breakpoint>=this.breakpoint).map(Ee=>this.combineOptions(this.currentOptions,Ee)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(Ee,je){Object.keys(je).map(mt=>Ee[mt]=void 0!==je[mt]?je[mt]:Ee[mt])}setAnimating(Ee){this.isAnimating=Ee}}return ot.\u0275fac=function(Ee){return new(Ee||ot)(i.rXU(i.aKT),i.rXU(se))},ot.\u0275cmp=i.VBU({type:ot,selectors:[["ngx-gallery"]],viewQuery:function(Ee,je){if(1&Ee&&(i.GBs(Z,5),i.GBs(ce,5),i.GBs(ze,5)),2&Ee){let mt;i.mGM(mt=i.lsd())&&(je.preview=mt.first),i.mGM(mt=i.lsd())&&(je.image=mt.first),i.mGM(mt=i.lsd())&&(je.thumbnails=mt.first)}},hostVars:6,hostBindings:function(Ee,je){1&Ee&&i.bIt("resize",function(){return je.onResize()},!1,i.tSv),2&Ee&&i.xc7("width",je.width)("height",je.height)("transform",je.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([se])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div"),i.DNE(1,ue,1,21,"ngx-gallery-image",0)(2,te,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return je.onPreviewClose()})("previewOpen",function(){return je.onPreviewOpen()})("activeChange",function(vn){return je.previewSelect(vn)}),i.k0s()()),2&Ee&&(i.ZvI("ngx-gallery-layout ",null==je.currentOptions?null:je.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",je.previewEnabled),i.Y8G("images",je.bigImages)("descriptions",je.descriptions)("showDescription",null==je.currentOptions?null:je.currentOptions.previewDescription)("arrowPrevIcon",null==je.currentOptions?null:je.currentOptions.arrowPrevIcon)("arrowNextIcon",null==je.currentOptions?null:je.currentOptions.arrowNextIcon)("closeIcon",null==je.currentOptions?null:je.currentOptions.closeIcon)("fullscreenIcon",null==je.currentOptions?null:je.currentOptions.fullscreenIcon)("spinnerIcon",null==je.currentOptions?null:je.currentOptions.spinnerIcon)("arrows",null==je.currentOptions?null:je.currentOptions.previewArrows)("arrowsAutoHide",null==je.currentOptions?null:je.currentOptions.previewArrowsAutoHide)("swipe",null==je.currentOptions?null:je.currentOptions.previewSwipe)("fullscreen",null==je.currentOptions?null:je.currentOptions.previewFullscreen)("forceFullscreen",null==je.currentOptions?null:je.currentOptions.previewForceFullscreen)("closeOnClick",null==je.currentOptions?null:je.currentOptions.previewCloseOnClick)("closeOnEsc",null==je.currentOptions?null:je.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==je.currentOptions?null:je.currentOptions.previewKeyboardNavigation)("animation",null==je.currentOptions?null:je.currentOptions.previewAnimation)("autoPlay",null==je.currentOptions?null:je.currentOptions.previewAutoPlay)("autoPlayInterval",null==je.currentOptions?null:je.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==je.currentOptions?null:je.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==je.currentOptions?null:je.currentOptions.previewInfinityMove)("zoom",null==je.currentOptions?null:je.currentOptions.previewZoom)("zoomStep",null==je.currentOptions?null:je.currentOptions.previewZoomStep)("zoomMax",null==je.currentOptions?null:je.currentOptions.previewZoomMax)("zoomMin",null==je.currentOptions?null:je.currentOptions.previewZoomMin)("zoomInIcon",null==je.currentOptions?null:je.currentOptions.zoomInIcon)("zoomOutIcon",null==je.currentOptions?null:je.currentOptions.zoomOutIcon)("actions",null==je.currentOptions?null:je.currentOptions.actions)("rotate",null==je.currentOptions?null:je.currentOptions.previewRotate)("rotateLeftIcon",null==je.currentOptions?null:je.currentOptions.rotateLeftIcon)("rotateRightIcon",null==je.currentOptions?null:je.currentOptions.rotateRightIcon)("download",null==je.currentOptions?null:je.currentOptions.previewDownload)("downloadIcon",null==je.currentOptions?null:je.currentOptions.downloadIcon)("bullets",null==je.currentOptions?null:je.currentOptions.previewBullets))},dependencies:[ce,ze,Z,c.bT,c.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),ot})(),ut=(()=>{class ot extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return ot.\u0275fac=(()=>{let Tt;return function(je){return(Tt||(Tt=i.xGo(ot)))(je||ot)}})(),ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})(),Ge=(()=>{class ot{}return ot.\u0275fac=function(Ee){return new(Ee||ot)},ot.\u0275mod=i.$C({type:ot}),ot.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:ut}],imports:[[c.MD]]}),ot})()},58003:(U,b,n)=>{"use strict";n.d(b,{W1:()=>ho,_f:()=>ro,Lw:()=>Fu,so:()=>zs,Ll:()=>xo,b7:()=>tr,$G:()=>zi,HC:()=>Zc,yB:()=>wh,I5:()=>Tn,IQ:()=>Zl,tg:()=>kd,E5:()=>Lu,_H:()=>vf,U0:()=>yf,zH:()=>rl,do:()=>Wh,cw:()=>hf,Bq:()=>Cf,LY:()=>$d,UN:()=>Pi,X9:()=>zh,Um:()=>Kh,sy:()=>Hh,Ri:()=>Wd,Pv:()=>Xh,m_:()=>Mf,QE:()=>$h,s5:()=>ku,MI:()=>ju,c9:()=>Vu,CT:()=>fi,t3:()=>Wn,sb:()=>Pn,px:()=>yo,M0:()=>po,hC:()=>Qv,Ny:()=>ep,Pe:()=>Zv,Ng:()=>Hd,tJ:()=>Ka,md:()=>Sr,n8:()=>Bg,$n:()=>cl,h_:()=>ec});var i=n(54438),t=n(60177),c=n(71985),e=n(983),f=n(7673),m=n(21413),p=n(33726),y=n(41584),E=n(1033),v=n(84412),C=(n(84572),n(85343));new c.c(C.l);var R=n(44437),h=n(57786),S=n(92688),w=n(56977),M=n(5964),L=n(96697),N=n(96354),j=n(99172),$=n(23294),k=n(25558),K=n(88141),z=n(53993),V=n(35335),G=n(73028),X=n(65245),J=n(97647),q=n(89417),ne={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(F){return F.replace(/left|right|bottom|top/g,function(Q){return ne[Q]})}function fe(F){return F.split("-")[0]}var ye={start:"end",end:"start"};function oe(F){return F.replace(/start|end/g,function(Q){return ye[Q]})}var ue="top",te="bottom",se="right",be="left",me="auto",re=[ue,te,se,be],Z="start",le="end",ve="viewport",ze="popper",et=re.reduce(function(F,Q){return F.concat([Q+"-"+Z,Q+"-"+le])},[]),$e=[].concat(re,[me]).reduce(function(F,Q){return F.concat([Q,Q+"-"+Z,Q+"-"+le])},[]),je=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function mt(F){if(null==F)return window;if("[object Window]"!==F.toString()){var Q=F.ownerDocument;return Q&&Q.defaultView||window}return F}function vn(F){return F instanceof mt(F).Element||F instanceof Element}function hn(F){return F instanceof mt(F).HTMLElement||F instanceof HTMLElement}function jn(F){return!(typeof ShadowRoot>"u")&&(F instanceof mt(F).ShadowRoot||F instanceof ShadowRoot)}function bt(F){return((vn(F)?F.ownerDocument:F.document)||window.document).documentElement}var St=Math.max,Nt=Math.min,gt=Math.round;function an(){var F=navigator.userAgentData;return null!=F&&F.brands&&Array.isArray(F.brands)?F.brands.map(function(Q){return Q.brand+"/"+Q.version}).join(" "):navigator.userAgent}function we(){return!/^((?!chrome|android).)*safari/i.test(an())}function Ct(F,Q,P){void 0===Q&&(Q=!1),void 0===P&&(P=!1);var W=F.getBoundingClientRect(),pe=1,Ne=1;Q&&hn(F)&&(pe=F.offsetWidth>0&&gt(W.width)/F.offsetWidth||1,Ne=F.offsetHeight>0&&gt(W.height)/F.offsetHeight||1);var rn=(vn(F)?mt(F):window).visualViewport,dn=!we()&&P,xn=(W.left+(dn&&rn?rn.offsetLeft:0))/pe,Rn=(W.top+(dn&&rn?rn.offsetTop:0))/Ne,Ci=W.width/pe,qn=W.height/Ne;return{width:Ci,height:qn,top:Rn,right:xn+Ci,bottom:Rn+qn,left:xn,x:xn,y:Rn}}function $t(F){var Q=mt(F);return{scrollLeft:Q.pageXOffset,scrollTop:Q.pageYOffset}}function yt(F){return Ct(bt(F)).left+$t(F).scrollLeft}function on(F){return mt(F).getComputedStyle(F)}function Ht(F){return F?(F.nodeName||"").toLowerCase():null}function Qe(F){return"html"===Ht(F)?F:F.assignedSlot||F.parentNode||(jn(F)?F.host:null)||bt(F)}function ke(F){var Q=on(F);return/auto|scroll|overlay|hidden/.test(Q.overflow+Q.overflowY+Q.overflowX)}function Le(F){return["html","body","#document"].indexOf(Ht(F))>=0?F.ownerDocument.body:hn(F)&&ke(F)?F:Le(Qe(F))}function Xe(F,Q){var P;void 0===Q&&(Q=[]);var W=Le(F),pe=W===(null==(P=F.ownerDocument)?void 0:P.body),Ne=mt(W),Lt=pe?[Ne].concat(Ne.visualViewport||[],ke(W)?W:[]):W,rn=Q.concat(Lt);return pe?rn:rn.concat(Xe(Qe(Lt)))}function ct(F){return["table","td","th"].indexOf(Ht(F))>=0}function Wt(F){return hn(F)&&"fixed"!==on(F).position?F.offsetParent:null}function xt(F){for(var Q=mt(F),P=Wt(F);P&&ct(P)&&"static"===on(P).position;)P=Wt(P);return P&&("html"===Ht(P)||"body"===Ht(P)&&"static"===on(P).position)?Q:P||function fn(F){var Q=/firefox/i.test(an());if(/Trident/i.test(an())&&hn(F)&&"fixed"===on(F).position)return null;var pe=Qe(F);for(jn(pe)&&(pe=pe.host);hn(pe)&&["html","body"].indexOf(Ht(pe))<0;){var Ne=on(pe);if("none"!==Ne.transform||"none"!==Ne.perspective||"paint"===Ne.contain||-1!==["transform","perspective"].indexOf(Ne.willChange)||Q&&"filter"===Ne.willChange||Q&&Ne.filter&&"none"!==Ne.filter)return pe;pe=pe.parentNode}return null}(F)||Q}function nn(F,Q){var P=Q.getRootNode&&Q.getRootNode();if(F.contains(Q))return!0;if(P&&jn(P)){var W=Q;do{if(W&&F.isSameNode(W))return!0;W=W.parentNode||W.host}while(W)}return!1}function ht(F){return Object.assign({},F,{left:F.x,top:F.y,right:F.x+F.width,bottom:F.y+F.height})}function At(F,Q,P){return Q===ve?ht(function Zt(F,Q){var P=mt(F),W=bt(F),pe=P.visualViewport,Ne=W.clientWidth,Lt=W.clientHeight,rn=0,dn=0;if(pe){Ne=pe.width,Lt=pe.height;var xn=we();(xn||!xn&&"fixed"===Q)&&(rn=pe.offsetLeft,dn=pe.offsetTop)}return{width:Ne,height:Lt,x:rn+yt(F),y:dn}}(F,P)):vn(Q)?function Ft(F,Q){var P=Ct(F,!1,"fixed"===Q);return P.top=P.top+F.clientTop,P.left=P.left+F.clientLeft,P.bottom=P.top+F.clientHeight,P.right=P.left+F.clientWidth,P.width=F.clientWidth,P.height=F.clientHeight,P.x=P.left,P.y=P.top,P}(Q,P):ht(function Yt(F){var Q,P=bt(F),W=$t(F),pe=null==(Q=F.ownerDocument)?void 0:Q.body,Ne=St(P.scrollWidth,P.clientWidth,pe?pe.scrollWidth:0,pe?pe.clientWidth:0),Lt=St(P.scrollHeight,P.clientHeight,pe?pe.scrollHeight:0,pe?pe.clientHeight:0),rn=-W.scrollLeft+yt(F),dn=-W.scrollTop;return"rtl"===on(pe||P).direction&&(rn+=St(P.clientWidth,pe?pe.clientWidth:0)-Ne),{width:Ne,height:Lt,x:rn,y:dn}}(bt(F)))}function bi(F){return F.split("-")[1]}function Dt(F){return["top","bottom"].indexOf(F)>=0?"x":"y"}function vt(F){var dn,Q=F.reference,P=F.element,W=F.placement,pe=W?fe(W):null,Ne=W?bi(W):null,Lt=Q.x+Q.width/2-P.width/2,rn=Q.y+Q.height/2-P.height/2;switch(pe){case ue:dn={x:Lt,y:Q.y-P.height};break;case te:dn={x:Lt,y:Q.y+Q.height};break;case se:dn={x:Q.x+Q.width,y:rn};break;case be:dn={x:Q.x-P.width,y:rn};break;default:dn={x:Q.x,y:Q.y}}var xn=pe?Dt(pe):null;if(null!=xn){var Rn="y"===xn?"height":"width";switch(Ne){case Z:dn[xn]=dn[xn]-(Q[Rn]/2-P[Rn]/2);break;case le:dn[xn]=dn[xn]+(Q[Rn]/2-P[Rn]/2)}}return dn}function Dn(F){return Object.assign({},{top:0,right:0,bottom:0,left:0},F)}function ni(F,Q){return Q.reduce(function(P,W){return P[W]=F,P},{})}function oi(F,Q){void 0===Q&&(Q={});var W=Q.placement,pe=void 0===W?F.placement:W,Ne=Q.strategy,Lt=void 0===Ne?F.strategy:Ne,rn=Q.boundary,dn=void 0===rn?"clippingParents":rn,xn=Q.rootBoundary,Rn=void 0===xn?ve:xn,Ci=Q.elementContext,qn=void 0===Ci?ze:Ci,_i=Q.altBoundary,js=void 0!==_i&&_i,ds=Q.padding,Wi=void 0===ds?0:ds,gs=Dn("number"!=typeof Wi?Wi:ni(Wi,re)),Yo=F.rects.popper,ks=F.elements[js?qn===ze?"reference":ze:qn],Vs=function Vn(F,Q,P,W){var pe="clippingParents"===Q?function On(F){var Q=Xe(Qe(F)),W=["absolute","fixed"].indexOf(on(F).position)>=0&&hn(F)?xt(F):F;return vn(W)?Q.filter(function(pe){return vn(pe)&&nn(pe,W)&&"body"!==Ht(pe)}):[]}(F):[].concat(Q),Ne=[].concat(pe,[P]),rn=Ne.reduce(function(dn,xn){var Rn=At(F,xn,W);return dn.top=St(Rn.top,dn.top),dn.right=Nt(Rn.right,dn.right),dn.bottom=Nt(Rn.bottom,dn.bottom),dn.left=St(Rn.left,dn.left),dn},At(F,Ne[0],W));return rn.width=rn.right-rn.left,rn.height=rn.bottom-rn.top,rn.x=rn.left,rn.y=rn.top,rn}(vn(ks)?ks:ks.contextElement||bt(F.elements.popper),dn,Rn,Lt),Ys=Ct(F.elements.reference),$o=vt({reference:Ys,element:Yo,strategy:"absolute",placement:pe}),Jo=ht(Object.assign({},Yo,$o)),yr=qn===ze?Jo:Ys,lr={top:Vs.top-yr.top+gs.top,bottom:yr.bottom-Vs.bottom+gs.bottom,left:Vs.left-yr.left+gs.left,right:yr.right-Vs.right+gs.right},fa=F.modifiersData.offset;if(qn===ze&&fa){var dl=fa[pe];Object.keys(lr).forEach(function(ma){var Tl=[se,te].indexOf(ma)>=0?1:-1,Ml=[ue,te].indexOf(ma)>=0?"y":"x";lr[ma]+=dl[Ml]*Tl})}return lr}const si={name:"flip",enabled:!0,phase:"main",fn:function ns(F){var Q=F.state,P=F.options,W=F.name;if(!Q.modifiersData[W]._skip){for(var pe=P.mainAxis,Ne=void 0===pe||pe,Lt=P.altAxis,rn=void 0===Lt||Lt,dn=P.fallbackPlacements,xn=P.padding,Rn=P.boundary,Ci=P.rootBoundary,qn=P.altBoundary,_i=P.flipVariations,js=void 0===_i||_i,ds=P.allowedAutoPlacements,Wi=Q.options.placement,gs=fe(Wi),Yo=dn||(gs!==Wi&&js?function ts(F){if(fe(F)===me)return[];var Q=ee(F);return[oe(F),Q,oe(Q)]}(Wi):[ee(Wi)]),ks=[Wi].concat(Yo).reduce(function(Ir,Ha){return Ir.concat(fe(Ha)===me?function ai(F,Q){void 0===Q&&(Q={});var pe=Q.boundary,Ne=Q.rootBoundary,Lt=Q.padding,rn=Q.flipVariations,dn=Q.allowedAutoPlacements,xn=void 0===dn?$e:dn,Rn=bi(Q.placement),Ci=Rn?rn?et:et.filter(function(js){return bi(js)===Rn}):re,qn=Ci.filter(function(js){return xn.indexOf(js)>=0});0===qn.length&&(qn=Ci);var _i=qn.reduce(function(js,ds){return js[ds]=oi(F,{placement:ds,boundary:pe,rootBoundary:Ne,padding:Lt})[fe(ds)],js},{});return Object.keys(_i).sort(function(js,ds){return _i[js]-_i[ds]})}(Q,{placement:Ha,boundary:Rn,rootBoundary:Ci,padding:xn,flipVariations:js,allowedAutoPlacements:ds}):Ha)},[]),Vs=Q.rects.reference,Ys=Q.rects.popper,$o=new Map,Jo=!0,yr=ks[0],lr=0;lr<ks.length;lr++){var fa=ks[lr],dl=fe(fa),ma=bi(fa)===Z,Tl=[ue,te].indexOf(dl)>=0,Ml=Tl?"width":"height",Aa=oi(Q,{placement:fa,boundary:Rn,rootBoundary:Ci,altBoundary:qn,padding:xn}),Mi=Tl?ma?se:be:ma?te:ue;Vs[Ml]>Ys[Ml]&&(Mi=ee(Mi));var Sc=ee(Mi),Ol=[];if(Ne&&Ol.push(Aa[dl]<=0),rn&&Ol.push(Aa[Mi]<=0,Aa[Sc]<=0),Ol.every(function(Ir){return Ir})){yr=fa,Jo=!1;break}$o.set(fa,Ol)}if(Jo)for(var od=function(Ha){var Zd=ks.find(function(rd){var nc=$o.get(rd);if(nc)return nc.slice(0,Ha).every(function(kg){return kg})});if(Zd)return yr=Zd,"break"},tc=js?3:1;tc>0&&"break"!==od(tc);tc--);Q.placement!==yr&&(Q.modifiersData[W]._skip=!0,Q.placement=yr,Q.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cn(F,Q,P){return St(F,Nt(Q,P))}function pi(F){var Q=Ct(F),P=F.offsetWidth,W=F.offsetHeight;return Math.abs(Q.width-P)<=1&&(P=Q.width),Math.abs(Q.height-W)<=1&&(W=Q.height),{x:F.offsetLeft,y:F.offsetTop,width:P,height:W}}const ps={name:"preventOverflow",enabled:!0,phase:"main",fn:function Oi(F){var Q=F.state,P=F.options,W=F.name,pe=P.mainAxis,Ne=void 0===pe||pe,Lt=P.altAxis,rn=void 0!==Lt&&Lt,qn=P.tether,_i=void 0===qn||qn,js=P.tetherOffset,ds=void 0===js?0:js,Wi=oi(Q,{boundary:P.boundary,rootBoundary:P.rootBoundary,padding:P.padding,altBoundary:P.altBoundary}),gs=fe(Q.placement),$s=bi(Q.placement),Yo=!$s,ks=Dt(gs),Vs=function ci(F){return"x"===F?"y":"x"}(ks),Ys=Q.modifiersData.popperOffsets,$o=Q.rects.reference,Jo=Q.rects.popper,yr="function"==typeof ds?ds(Object.assign({},Q.rects,{placement:Q.placement})):ds,lr="number"==typeof yr?{mainAxis:yr,altAxis:yr}:Object.assign({mainAxis:0,altAxis:0},yr),fa=Q.modifiersData.offset?Q.modifiersData.offset[Q.placement]:null,dl={x:0,y:0};if(Ys){if(Ne){var ma,Tl="y"===ks?ue:be,Ml="y"===ks?te:se,Aa="y"===ks?"height":"width",Mi=Ys[ks],Sc=Mi+Wi[Tl],Ol=Mi-Wi[Ml],Qd=_i?-Jo[Aa]/2:0,od=$s===Z?$o[Aa]:Jo[Aa],tc=$s===Z?-Jo[Aa]:-$o[Aa],Gu=Q.elements.arrow,Ir=_i&&Gu?pi(Gu):{width:0,height:0},Ha=Q.modifiersData["arrow#persistent"]?Q.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Zd=Ha[Tl],rd=Ha[Ml],nc=cn(0,$o[Aa],Ir[Aa]),kg=Yo?$o[Aa]/2-Qd-nc-Zd-lr.mainAxis:od-nc-Zd-lr.mainAxis,_a=Yo?-$o[Aa]/2+Qd+nc+rd+lr.mainAxis:tc+nc+rd+lr.mainAxis,Ic=Q.elements.arrow&&xt(Q.elements.arrow),Vg=Ic?"y"===ks?Ic.clientTop||0:Ic.clientLeft||0:0,wf=null!=(ma=fa?.[ks])?ma:0,za=Mi+_a-wf,$g=cn(_i?Nt(Sc,Mi+kg-wf-Vg):Sc,Mi,_i?St(Ol,za):Ol);Ys[ks]=$g,dl[ks]=$g-Mi}if(rn){var Lf,ad=Ys[Vs],Hu="y"===Vs?"height":"width",Gg=ad+Wi["x"===ks?ue:be],Kg=ad-Wi["x"===ks?te:se],ip=-1!==[ue,be].indexOf(gs),Nf=null!=(Lf=fa?.[Vs])?Lf:0,Hg=ip?Gg:ad-$o[Hu]-Jo[Hu]-Nf+lr.altAxis,zu=ip?ad+$o[Hu]+Jo[Hu]-Nf-lr.altAxis:Kg,Ff=_i&&ip?function gn(F,Q,P){var W=cn(F,Q,P);return W>P?P:W}(Hg,ad,zu):cn(_i?Hg:Gg,ad,_i?zu:Kg);Ys[Vs]=Ff,dl[Vs]=Ff-ad}Q.modifiersData[W]=dl}},requiresIfExists:["offset"]},Si={name:"arrow",enabled:!0,phase:"main",fn:function Ai(F){var Q,P=F.state,W=F.name,pe=F.options,Ne=P.elements.arrow,Lt=P.modifiersData.popperOffsets,rn=fe(P.placement),dn=Dt(rn),Rn=[be,se].indexOf(rn)>=0?"height":"width";if(Ne&&Lt){var Ci=function(Q,P){return Dn("number"!=typeof(Q="function"==typeof Q?Q(Object.assign({},P.rects,{placement:P.placement})):Q)?Q:ni(Q,re))}(pe.padding,P),qn=pi(Ne),_i="y"===dn?ue:be,js="y"===dn?te:se,ds=P.rects.reference[Rn]+P.rects.reference[dn]-Lt[dn]-P.rects.popper[Rn],Wi=Lt[dn]-P.rects.reference[dn],gs=xt(Ne),$s=gs?"y"===dn?gs.clientHeight||0:gs.clientWidth||0:0,Ys=$s/2-qn[Rn]/2+(ds/2-Wi/2),$o=cn(Ci[_i],Ys,$s-qn[Rn]-Ci[js]);P.modifiersData[W]=((Q={})[dn]=$o,Q.centerOffset=$o-Ys,Q)}},effect:function qt(F){var Q=F.state,W=F.options.element,pe=void 0===W?"[data-popper-arrow]":W;null!=pe&&("string"==typeof pe&&!(pe=Q.elements.popper.querySelector(pe))||nn(Q.elements.popper,pe)&&(Q.elements.arrow=pe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ye(F,Q,P){void 0===P&&(P=!1);var W=hn(Q),pe=hn(Q)&&function Fe(F){var Q=F.getBoundingClientRect(),P=gt(Q.width)/F.offsetWidth||1,W=gt(Q.height)/F.offsetHeight||1;return 1!==P||1!==W}(Q),Ne=bt(Q),Lt=Ct(F,pe,P),rn={scrollLeft:0,scrollTop:0},dn={x:0,y:0};return(W||!W&&!P)&&(("body"!==Ht(Q)||ke(Ne))&&(rn=function Pt(F){return F!==mt(F)&&hn(F)?function Jt(F){return{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}}(F):$t(F)}(Q)),hn(Q)?((dn=Ct(Q,!0)).x+=Q.clientLeft,dn.y+=Q.clientTop):Ne&&(dn.x=yt(Ne))),{x:Lt.left+rn.scrollLeft-dn.x,y:Lt.top+rn.scrollTop-dn.y,width:Lt.width,height:Lt.height}}function _t(F){var Q=new Map,P=new Set,W=[];function pe(Ne){P.add(Ne.name),[].concat(Ne.requires||[],Ne.requiresIfExists||[]).forEach(function(rn){if(!P.has(rn)){var dn=Q.get(rn);dn&&pe(dn)}}),W.push(Ne)}return F.forEach(function(Ne){Q.set(Ne.name,Ne)}),F.forEach(function(Ne){P.has(Ne.name)||pe(Ne)}),W}function En(F){var Q;return function(){return Q||(Q=new Promise(function(P){Promise.resolve().then(function(){Q=void 0,P(F())})})),Q}}var Ln={placement:"bottom",modifiers:[],strategy:"absolute"};function Yn(){for(var F=arguments.length,Q=new Array(F),P=0;P<F;P++)Q[P]=arguments[P];return!Q.some(function(W){return!(W&&"function"==typeof W.getBoundingClientRect)})}function Jn(F){void 0===F&&(F={});var P=F.defaultModifiers,W=void 0===P?[]:P,pe=F.defaultOptions,Ne=void 0===pe?Ln:pe;return function(rn,dn,xn){void 0===xn&&(xn=Ne);var Rn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ln,Ne),modifiersData:{},elements:{reference:rn,popper:dn},attributes:{},styles:{}},Ci=[],qn=!1,_i={state:Rn,setOptions:function(gs){var $s="function"==typeof gs?gs(Rn.options):gs;ds(),Rn.options=Object.assign({},Ne,Rn.options,$s),Rn.scrollParents={reference:vn(rn)?Xe(rn):rn.contextElement?Xe(rn.contextElement):[],popper:Xe(dn)};var Yo=function Qt(F){var Q=_t(F);return je.reduce(function(P,W){return P.concat(Q.filter(function(pe){return pe.phase===W}))},[])}(function Mn(F){var Q=F.reduce(function(P,W){var pe=P[W.name];return P[W.name]=pe?Object.assign({},pe,W,{options:Object.assign({},pe.options,W.options),data:Object.assign({},pe.data,W.data)}):W,P},{});return Object.keys(Q).map(function(P){return Q[P]})}([].concat(W,Rn.options.modifiers)));return Rn.orderedModifiers=Yo.filter(function(ks){return ks.enabled}),function js(){Rn.orderedModifiers.forEach(function(Wi){var $s=Wi.options,ks=Wi.effect;if("function"==typeof ks){var Vs=ks({state:Rn,name:Wi.name,instance:_i,options:void 0===$s?{}:$s});Ci.push(Vs||function(){})}})}(),_i.update()},forceUpdate:function(){if(!qn){var gs=Rn.elements,$s=gs.reference,Yo=gs.popper;if(Yn($s,Yo)){Rn.rects={reference:Ye($s,xt(Yo),"fixed"===Rn.options.strategy),popper:pi(Yo)},Rn.reset=!1,Rn.placement=Rn.options.placement,Rn.orderedModifiers.forEach(function(lr){return Rn.modifiersData[lr.name]=Object.assign({},lr.data)});for(var ks=0;ks<Rn.orderedModifiers.length;ks++)if(!0!==Rn.reset){var Vs=Rn.orderedModifiers[ks],Ys=Vs.fn,$o=Vs.options;"function"==typeof Ys&&(Rn=Ys({state:Rn,options:void 0===$o?{}:$o,name:Vs.name,instance:_i})||Rn)}else Rn.reset=!1,ks=-1}}},update:En(function(){return new Promise(function(Wi){_i.forceUpdate(),Wi(Rn)})}),destroy:function(){ds(),qn=!0}};if(!Yn(rn,dn))return _i;function ds(){Ci.forEach(function(Wi){return Wi()}),Ci=[]}return _i.setOptions(xn).then(function(Wi){!qn&&xn.onFirstUpdate&&xn.onFirstUpdate(Wi)}),_i}}var Bi={passive:!0},Ji={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jt(F){var Q,P=F.popper,W=F.popperRect,pe=F.placement,Ne=F.variation,Lt=F.offsets,rn=F.position,dn=F.gpuAcceleration,xn=F.adaptive,Rn=F.roundOffsets,Ci=F.isFixed,qn=Lt.x,_i=void 0===qn?0:qn,js=Lt.y,ds=void 0===js?0:js,Wi="function"==typeof Rn?Rn({x:_i,y:ds}):{x:_i,y:ds};_i=Wi.x,ds=Wi.y;var gs=Lt.hasOwnProperty("x"),$s=Lt.hasOwnProperty("y"),Yo=be,ks=ue,Vs=window;if(xn){var Ys=xt(P),$o="clientHeight",Jo="clientWidth";Ys===mt(P)&&"static"!==on(Ys=bt(P)).position&&"absolute"===rn&&($o="scrollHeight",Jo="scrollWidth"),(pe===ue||(pe===be||pe===se)&&Ne===le)&&(ks=te,ds-=(Ci&&Ys===Vs&&Vs.visualViewport?Vs.visualViewport.height:Ys[$o])-W.height,ds*=dn?1:-1),pe!==be&&(pe!==ue&&pe!==te||Ne!==le)||(Yo=se,_i-=(Ci&&Ys===Vs&&Vs.visualViewport?Vs.visualViewport.width:Ys[Jo])-W.width,_i*=dn?1:-1)}var ma,fa=Object.assign({position:rn},xn&&Ji),dl=!0===Rn?function hs(F,Q){var W=F.y,pe=Q.devicePixelRatio||1;return{x:gt(F.x*pe)/pe||0,y:gt(W*pe)/pe||0}}({x:_i,y:ds},mt(P)):{x:_i,y:ds};return _i=dl.x,ds=dl.y,Object.assign({},fa,dn?((ma={})[ks]=$s?"0":"",ma[Yo]=gs?"0":"",ma.transform=(Vs.devicePixelRatio||1)<=1?"translate("+_i+"px, "+ds+"px)":"translate3d("+_i+"px, "+ds+"px, 0)",ma):((Q={})[ks]=$s?ds+"px":"",Q[Yo]=gs?_i+"px":"",Q.transform="",Q))}var kt=Jn({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function is(F){var Q=F.state,P=F.instance,W=F.options,pe=W.scroll,Ne=void 0===pe||pe,Lt=W.resize,rn=void 0===Lt||Lt,dn=mt(Q.elements.popper),xn=[].concat(Q.scrollParents.reference,Q.scrollParents.popper);return Ne&&xn.forEach(function(Rn){Rn.addEventListener("scroll",P.update,Bi)}),rn&&dn.addEventListener("resize",P.update,Bi),function(){Ne&&xn.forEach(function(Rn){Rn.removeEventListener("scroll",P.update,Bi)}),rn&&dn.removeEventListener("resize",P.update,Bi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function fs(F){var Q=F.state;Q.modifiersData[F.name]=vt({reference:Q.rects.reference,element:Q.rects.popper,strategy:"absolute",placement:Q.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function _n(F){var Q=F.state,P=F.options,W=P.gpuAcceleration,pe=void 0===W||W,Ne=P.adaptive,Lt=void 0===Ne||Ne,rn=P.roundOffsets,dn=void 0===rn||rn,xn={placement:fe(Q.placement),variation:bi(Q.placement),popper:Q.elements.popper,popperRect:Q.rects.popper,gpuAcceleration:pe,isFixed:"fixed"===Q.options.strategy};null!=Q.modifiersData.popperOffsets&&(Q.styles.popper=Object.assign({},Q.styles.popper,jt(Object.assign({},xn,{offsets:Q.modifiersData.popperOffsets,position:Q.options.strategy,adaptive:Lt,roundOffsets:dn})))),null!=Q.modifiersData.arrow&&(Q.styles.arrow=Object.assign({},Q.styles.arrow,jt(Object.assign({},xn,{offsets:Q.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dn})))),Q.attributes.popper=Object.assign({},Q.attributes.popper,{"data-popper-placement":Q.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Ce(F){var Q=F.state;Object.keys(Q.elements).forEach(function(P){var W=Q.styles[P]||{},pe=Q.attributes[P]||{},Ne=Q.elements[P];!hn(Ne)||!Ht(Ne)||(Object.assign(Ne.style,W),Object.keys(pe).forEach(function(Lt){var rn=pe[Lt];!1===rn?Ne.removeAttribute(Lt):Ne.setAttribute(Lt,!0===rn?"":rn)}))})},effect:function Me(F){var Q=F.state,P={popper:{position:Q.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Q.elements.popper.style,P.popper),Q.styles=P,Q.elements.arrow&&Object.assign(Q.elements.arrow.style,P.arrow),function(){Object.keys(Q.elements).forEach(function(W){var pe=Q.elements[W],Ne=Q.attributes[W]||{},rn=Object.keys(Q.styles.hasOwnProperty(W)?Q.styles[W]:P[W]).reduce(function(dn,xn){return dn[xn]="",dn},{});!hn(pe)||!Ht(pe)||(Object.assign(pe.style,rn),Object.keys(Ne).forEach(function(dn){pe.removeAttribute(dn)}))})}},requires:["computeStyles"]}]});const kn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function un(F){var Q=F.state,W=F.name,pe=F.options.offset,Ne=void 0===pe?[0,0]:pe,Lt=$e.reduce(function(Rn,Ci){return Rn[Ci]=function pn(F,Q,P){var W=fe(F),pe=[be,ue].indexOf(W)>=0?-1:1,Ne="function"==typeof P?P(Object.assign({},Q,{placement:F})):P,Lt=Ne[0],rn=Ne[1];return Lt=Lt||0,rn=(rn||0)*pe,[be,se].indexOf(W)>=0?{x:rn,y:Lt}:{x:Lt,y:rn}}(Ci,Q.rects,Ne),Rn},{}),rn=Lt[Q.placement],xn=rn.y;null!=Q.modifiersData.popperOffsets&&(Q.modifiersData.popperOffsets.x+=rn.x,Q.modifiersData.popperOffsets.y+=xn),Q.modifiersData[W]=Lt}},Qn=(F,Q)=>({$implicit:F,opened:Q});function xi(F,Q){}function ms(F,Q){if(1&F&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,xi,0,0,"ng-template",4),i.k0s()),2&F){const P=Q.$implicit;i.Y8G("ngbPanelToggle",P),i.R7$(),i.SpI(" ",P.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==P.titleTpl?null:P.titleTpl.templateRef)}}function No(F,Q){}function dr(F,Q){}function Fo(F,Q){if(1&F){const P=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(pe){i.eBV(P);const Ne=i.XpG().$implicit;return i.Njj(Ne.panelDiv=pe)}),i.j41(1,"div",9),i.DNE(2,dr,0,0,"ng-template",4),i.k0s()()}if(2&F){const P=i.XpG().$implicit;i.FS9("id",P.id),i.BMQ("aria-labelledby",P.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==P.contentTpl?null:P.contentTpl.templateRef)||null)}}function qo(F,Q){if(1&F&&(i.j41(0,"div")(1,"div",5),i.DNE(2,No,0,0,"ng-template",6),i.k0s(),i.DNE(3,Fo,3,3,"div",7),i.k0s()),2&F){const P=Q.$implicit,W=i.XpG(),pe=i.sdS(1);i.HbH("accordion-item "+(P.cardClass||"")),i.R7$(),i.HbH("accordion-header "+(P.type?"bg-"+P.type:W.type?"bg-"+W.type:"")),i.Mz_("id","",P.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.headerTpl?null:P.headerTpl.templateRef)||pe)("ngTemplateOutletContext",i.l_i(9,Qn,P,P.isOpen)),i.R7$(),i.Y8G("ngIf",!W.destroyOnHide||P.isOpen||P.transitionRunning)}}const Js=["*"],Bo=["ngbDatepickerDayView",""],na=["month"],_o=["year"];function Ca(F,Q){if(1&F&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&F){const P=Q.$implicit,W=i.XpG();i.Y8G("value",P),i.BMQ("aria-label",W.i18n.getMonthFullName(P,null==W.date?null:W.date.year)),i.R7$(),i.JRh(W.i18n.getMonthShortName(P,null==W.date?null:W.date.year))}}function yi(F,Q){if(1&F&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&F){const P=Q.$implicit,W=i.XpG();i.Y8G("value",P),i.R7$(),i.JRh(W.i18n.getYearNumerals(P))}}function Ar(F,Q){if(1&F){const P=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(pe){i.eBV(P);const Ne=i.XpG();return i.Njj(Ne.select.emit(pe))}),i.k0s()}if(2&F){const P=i.XpG();i.Y8G("date",P.date)("disabled",P.disabled)("months",P.selectBoxes.months)("years",P.selectBoxes.years)}}function ia(F,Q){1&F&&i.nrm(0,"div",0)}function Tr(F,Q){1&F&&i.nrm(0,"div",0)}function Fa(F,Q){if(1&F&&(i.DNE(0,ia,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,Tr,1,0,"div",9)),2&F){const P=Q.$implicit,W=Q.index,pe=i.XpG(2);i.Y8G("ngIf",W>0),i.R7$(2),i.SpI(" ",pe.i18n.getMonthLabel(P.firstDate)," "),i.R7$(),i.Y8G("ngIf",W!==pe.months.length-1)}}function ba(F,Q){if(1&F&&i.DNE(0,Fa,4,3,"ng-template",8),2&F){const P=i.XpG();i.Y8G("ngForOf",P.months)}}const Da=["defaultDayTemplate"],Ba=["content"];function sa(F,Q){if(1&F&&i.nrm(0,"div",7),2&F){const W=Q.currentMonth,pe=Q.selected,Ne=Q.disabled,Lt=Q.focused;i.Y8G("date",Q.date)("currentMonth",W)("selected",pe)("disabled",Ne)("focused",Lt)}}function Ta(F,Q){if(1&F&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&F){const P=i.XpG().$implicit,W=i.XpG(2);i.R7$(),i.SpI(" ",W.i18n.getMonthLabel(P.firstDate)," ")}}function lt(F,Q){if(1&F&&(i.j41(0,"div",9),i.DNE(1,Ta,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&F){const P=Q.$implicit,W=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===W.navigation||W.displayMonths>1&&"select"===W.navigation),i.R7$(),i.Y8G("month",P.firstDate)}}function at(F,Q){if(1&F&&i.DNE(0,lt,3,2,"div",8),2&F){const P=i.XpG();i.Y8G("ngForOf",P.model.months)}}function pt(F,Q){if(1&F){const P=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(pe){i.eBV(P);const Ne=i.XpG();return i.Njj(Ne.onNavigateEvent(pe))})("select",function(pe){i.eBV(P);const Ne=i.XpG();return i.Njj(Ne.onNavigateDateSelect(pe))}),i.k0s()}if(2&F){const P=i.XpG();i.Y8G("date",P.model.firstDate)("months",P.model.months)("disabled",P.model.disabled)("showSelect","select"===P.model.navigation)("prevDisabled",P.model.prevDisabled)("nextDisabled",P.model.nextDisabled)("selectBoxes",P.model.selectBoxes)}}function Vt(F,Q){}function Bt(F,Q){}function wn(F,Q){if(1&F&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&F){const P=i.XpG(2);i.R7$(),i.JRh(P.i18n.getWeekLabel())}}function hi(F,Q){if(1&F&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&F){const P=Q.$implicit;i.R7$(),i.JRh(P)}}function wi(F,Q){if(1&F&&(i.j41(0,"div",2),i.DNE(1,wn,2,1,"div",3)(2,hi,2,1,"div",4),i.k0s()),2&F){const P=i.XpG();i.R7$(),i.Y8G("ngIf",P.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",P.viewModel.weekdays)}}function $i(F,Q){if(1&F&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&F){const P=i.XpG(2).$implicit,W=i.XpG();i.R7$(),i.JRh(W.i18n.getWeekNumerals(P.number))}}function Ei(F,Q){}function Ls(F,Q){if(1&F&&i.DNE(0,Ei,0,0,"ng-template",14),2&F){const P=i.XpG().$implicit,W=i.XpG(3);i.Y8G("ngTemplateOutlet",W.datepicker.dayTemplate)("ngTemplateOutletContext",P.context)}}function Qs(F,Q){if(1&F){const P=i.RV6();i.j41(0,"div",12),i.bIt("click",function(pe){const Ne=i.eBV(P).$implicit;return i.XpG(3).doSelect(Ne),i.Njj(pe.preventDefault())}),i.DNE(1,Ls,1,2,"ng-template",13),i.k0s()}if(2&F){const P=Q.$implicit;i.AVh("disabled",P.context.disabled)("hidden",P.hidden)("ngb-dp-today",P.context.today),i.Y8G("tabindex",P.tabindex),i.BMQ("aria-label",P.ariaLabel),i.R7$(),i.Y8G("ngIf",!P.hidden)}}function Do(F,Q){if(1&F&&(i.j41(0,"div",8),i.DNE(1,$i,2,1,"div",9)(2,Qs,2,9,"div",10),i.k0s()),2&F){const P=i.XpG().$implicit,W=i.XpG();i.R7$(),i.Y8G("ngIf",W.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",P.days)}}function Yi(F,Q){1&F&&i.DNE(0,Do,3,2,"div",7),2&F&&i.Y8G("ngIf",!Q.$implicit.collapsed)}const hr=["dialog"],Os=["ngbNavOutlet",""],Uo=F=>({$implicit:F});function oa(F,Q){}function Mo(F,Q){if(1&F&&(i.j41(0,"div",2),i.DNE(1,oa,0,0,"ng-template",3),i.k0s()),2&F){const P=i.XpG().$implicit,W=i.XpG();i.Y8G("item",P)("nav",W.nav)("role",W.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.contentTpl?null:P.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Uo,P.active||W.isPanelTransitioning(P)))}}function ss(F,Q){if(1&F&&i.DNE(0,Mo,2,7,"div",1),2&F){const P=Q.$implicit,W=i.XpG();i.Y8G("ngIf",P.isPanelInDom()||W.isPanelTransitioning(P))}}const Oo=(F,Q,P)=>({$implicit:F,pages:Q,disabled:P}),pr=F=>({disabled:!0,currentPage:F}),zr=(F,Q,P)=>({disabled:F,$implicit:Q,currentPage:P}),ra=(F,Q)=>({disabled:F,currentPage:Q}),gr=F=>({disabled:F});function xr(F,Q){1&F&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function sr(F,Q){1&F&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function el(F,Q){1&F&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function Xr(F,Q){1&F&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function It(F,Q){1&F&&i.EFF(0,"...")}function en(F,Q){1&F&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function he(F,Q){if(1&F&&(i.EFF(0),i.DNE(1,en,2,0,"span",14)),2&F){const P=Q.$implicit,W=Q.currentPage;i.SpI(" ",P," "),i.R7$(),i.Y8G("ngIf",P===W)}}function Je(F,Q){}function Mt(F,Q){if(1&F&&(i.j41(0,"a",20),i.DNE(1,Je,0,0,"ng-template",12),i.k0s()),2&F){const P=i.XpG(2).$implicit,W=i.XpG(),pe=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplEllipsis?null:W.tplEllipsis.templateRef)||pe)("ngTemplateOutletContext",i.eq3(2,pr,P))}}function sn(F,Q){}function Bn(F,Q){if(1&F){const P=i.RV6();i.j41(0,"a",21),i.bIt("click",function(pe){i.eBV(P);const Ne=i.XpG().$implicit;return i.XpG(2).selectPage(Ne),i.Njj(pe.preventDefault())}),i.DNE(1,sn,0,0,"ng-template",12),i.k0s()}if(2&F){const P=i.XpG().$implicit,W=i.XpG(),pe=W.$implicit,Ne=W.disabled,Lt=i.XpG(),rn=i.sdS(11);i.BMQ("tabindex",Ne?"-1":null)("aria-disabled",Ne?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Lt.tplNumber?null:Lt.tplNumber.templateRef)||rn)("ngTemplateOutletContext",i.sMw(4,zr,Ne,P,pe))}}function xe(F,Q){if(1&F&&(i.j41(0,"li",17),i.DNE(1,Mt,2,4,"a",18)(2,Bn,2,8,"a",19),i.k0s()),2&F){const P=Q.$implicit,W=i.XpG(),pe=W.$implicit,Ne=W.disabled,Lt=i.XpG();i.AVh("active",P===pe)("disabled",Lt.isEllipsis(P)||Ne),i.BMQ("aria-current",P===pe?"page":null),i.R7$(),i.Y8G("ngIf",Lt.isEllipsis(P)),i.R7$(),i.Y8G("ngIf",!Lt.isEllipsis(P))}}function Ve(F,Q){1&F&&i.DNE(0,xe,3,7,"li",16),2&F&&i.Y8G("ngForOf",Q.pages)}function Oe(F,Q){}function dt(F,Q){if(1&F){const P=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(pe){return i.eBV(P),i.XpG().selectPage(1),i.Njj(pe.preventDefault())}),i.DNE(2,Oe,0,0,"ng-template",12),i.k0s()()}if(2&F){const P=i.XpG(),W=i.sdS(1);i.AVh("disabled",P.previousDisabled()),i.R7$(),i.BMQ("tabindex",P.previousDisabled()?"-1":null)("aria-disabled",P.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.tplFirst?null:P.tplFirst.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,ra,P.previousDisabled(),P.page))}}function Xt(F,Q){}function mi(F,Q){if(1&F){const P=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(pe){i.eBV(P);const Ne=i.XpG();return Ne.selectPage(Ne.page-1),i.Njj(pe.preventDefault())}),i.DNE(2,Xt,0,0,"ng-template",12),i.k0s()()}if(2&F){const P=i.XpG(),W=i.sdS(3);i.AVh("disabled",P.previousDisabled()),i.R7$(),i.BMQ("tabindex",P.previousDisabled()?"-1":null)("aria-disabled",P.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.tplPrevious?null:P.tplPrevious.templateRef)||W)("ngTemplateOutletContext",i.eq3(6,gr,P.previousDisabled()))}}function os(F,Q){}function Mr(F,Q){}function zo(F,Q){if(1&F){const P=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(pe){i.eBV(P);const Ne=i.XpG();return Ne.selectPage(Ne.page+1),i.Njj(pe.preventDefault())}),i.DNE(2,Mr,0,0,"ng-template",12),i.k0s()()}if(2&F){const P=i.XpG(),W=i.sdS(5);i.AVh("disabled",P.nextDisabled()),i.R7$(),i.BMQ("tabindex",P.nextDisabled()?"-1":null)("aria-disabled",P.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.tplNext?null:P.tplNext.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,ra,P.nextDisabled(),P.page))}}function _l(F,Q){}function vl(F,Q){if(1&F){const P=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(pe){i.eBV(P);const Ne=i.XpG();return Ne.selectPage(Ne.pageCount),i.Njj(pe.preventDefault())}),i.DNE(2,_l,0,0,"ng-template",12),i.k0s()()}if(2&F){const P=i.XpG(),W=i.sdS(7);i.AVh("disabled",P.nextDisabled()),i.R7$(),i.BMQ("tabindex",P.nextDisabled()?"-1":null)("aria-disabled",P.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==P.tplLast?null:P.tplLast.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,ra,P.nextDisabled(),P.page))}}function tl(F,Q){1&F&&i.EFF(0),2&F&&i.JRh(100===Q.fill?"\u2605":"\u2606")}function Xo(F,Q){}function Al(F,Q){if(1&F){const P=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const pe=i.eBV(P).index,Ne=i.XpG();return i.Njj(Ne.enter(pe+1))})("click",function(){const pe=i.eBV(P).index,Ne=i.XpG();return i.Njj(Ne.handleClick(pe+1))}),i.DNE(3,Xo,0,0,"ng-template",4),i.k0s()}if(2&F){const P=Q.index,W=i.XpG(),pe=i.sdS(1);i.R7$(),i.SpI("(",P<W.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",W.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",W.starTemplate||W.starTemplateFromContent||pe)("ngTemplateOutletContext",W.contexts[P])}}function Jc(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.changeHour(pe.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&F){const P=i.XpG();i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function yl(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.changeHour(-pe.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&F){const P=i.XpG();i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function vs(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.changeMinute(pe.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&F){const P=i.XpG();i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function or(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.changeMinute(-pe.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&F){const P=i.XpG();i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function So(F,Q){1&F&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function so(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG(2);return i.Njj(pe.changeSecond(pe.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&F){const P=i.XpG(2);i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function jo(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(P);const pe=i.XpG(2);return i.Njj(pe.changeSecond(-pe.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&F){const P=i.XpG(2);i.AVh("btn-sm",P.isSmallSize)("btn-lg",P.isLargeSize)("disabled",P.disabled),i.Y8G("disabled",P.disabled)}}function xl(F,Q){if(1&F){const P=i.RV6();i.j41(0,"div",24),i.DNE(1,so,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(pe){i.eBV(P);const Ne=i.XpG();return i.Njj(Ne.updateSecond(pe.target.value))})("blur",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.handleBlur())})("input",function(pe){i.eBV(P);const Ne=i.XpG();return i.Njj(Ne.formatInput(pe.target))})("keydown.ArrowUp",function(pe){i.eBV(P);const Ne=i.XpG();return Ne.changeSecond(Ne.secondStep),i.Njj(pe.preventDefault())})("keydown.ArrowDown",function(pe){i.eBV(P);const Ne=i.XpG();return Ne.changeSecond(-Ne.secondStep),i.Njj(pe.preventDefault())}),i.k0s(),i.DNE(3,jo,4,7,"button",12),i.k0s()}if(2&F){const P=i.XpG();i.R7$(),i.Y8G("ngIf",P.spinners),i.R7$(),i.AVh("form-control-sm",P.isSmallSize)("form-control-lg",P.isLargeSize),i.Y8G("value",P.formatMinSec(null==P.model?null:P.model.second))("readOnly",P.readonlyInputs)("disabled",P.disabled),i.R7$(),i.Y8G("ngIf",P.spinners)}}function Ua(F,Q){1&F&&i.nrm(0,"div",14)}function El(F,Q){if(1&F&&(i.qex(0),i.pXf(1,7),i.bVm()),2&F){const P=i.XpG(2);i.R7$(),i.uP7(P.i18n.getAfternoonPeriod()),i.nnv(1)}}function vc(F,Q){if(1&F&&i.pXf(0,8),2&F){const P=i.XpG(2);i.uP7(P.i18n.getMorningPeriod()),i.nnv(0)}}function Sa(F,Q){if(1&F){const P=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(P);const pe=i.XpG();return i.Njj(pe.toggleMeridian())}),i.DNE(2,El,2,1,"ng-container",28)(3,vc,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&F){const P=i.sdS(4),W=i.XpG();i.R7$(),i.AVh("btn-sm",W.isSmallSize)("btn-lg",W.isLargeSize)("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.model&&W.model.hour>=12)("ngIfElse",P)}}function nl(F,Q){if(1&F&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&F){const P=i.XpG().$implicit,W=i.XpG();i.HbH(W.highlightClass),i.R7$(),i.JRh(P)}}function Jl(F,Q){if(1&F&&i.EFF(0),2&F){const P=i.XpG().$implicit;i.JRh(P)}}function Qc(F,Q){if(1&F&&i.DNE(0,nl,2,3,"span",2)(1,Jl,1,1,"ng-template",null,0,i.C5r),2&F){const P=Q.odd,W=i.sdS(2);i.Y8G("ngIf",P)("ngIfElse",W)}}const Cl=(F,Q,P)=>({result:F,term:Q,formatter:P});function Rd(F,Q){if(1&F&&i.nrm(0,"ngb-highlight",2),2&F){const W=Q.term;i.Y8G("result",(0,Q.formatter)(Q.result))("term",W)}}function Ll(F,Q){}function yc(F,Q){if(1&F){const P=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const pe=i.eBV(P).index,Ne=i.XpG();return i.Njj(Ne.markActive(pe))})("click",function(){const pe=i.eBV(P).$implicit,Ne=i.XpG();return i.Njj(Ne.select(pe))}),i.DNE(1,Ll,0,0,"ng-template",4),i.k0s()}if(2&F){const P=Q.$implicit,W=Q.index,pe=i.XpG(),Ne=i.sdS(1);i.AVh("active",W===pe.activeIdx),i.Y8G("id",pe.id+"-"+W),i.R7$(),i.Y8G("ngTemplateOutlet",pe.resultTemplate||Ne)("ngTemplateOutletContext",i.sMw(5,Cl,P,pe.term,pe.formatter))}}function ko(F){return parseInt(`${F}`,10)}function Vr(F){return null!=F?`${F}`:""}function Ql(F,Q,P=0){return Math.max(Math.min(F,Q),P)}function rr(F){return"string"==typeof F}function Gs(F){return!isNaN(ko(F))}function Gt(F){return"number"==typeof F&&isFinite(F)&&Math.floor(F)===F}function mn(F){return null!=F}function Hn(F){return Gs(F)?`0${F}`.slice(-2):""}function ui(F,Q){return F&&F.className&&F.className.split&&F.className.split(/\s+/).indexOf(Q)>=0}function vi(F){return(F||document.body).getBoundingClientRect()}function As(F){return F.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const oo={animation:!0,transitionTimerDelayMs:5},Bs=()=>{},{transitionTimerDelayMs:uo}=oo,Ro=new Map,Ss=(F,Q,P,W)=>{let pe=W.context||{};const Ne=Ro.get(Q);if(Ne)switch(W.runningTransition){case"continue":return e.w;case"stop":F.run(()=>Ne.transition$.complete()),pe=Object.assign(Ne.context,pe),Ro.delete(Q)}const Lt=P(Q,W.animation,pe)||Bs;if(!W.animation||"none"===window.getComputedStyle(Q).transitionProperty)return F.run(()=>Lt()),(0,f.of)(void 0).pipe(function Zs(F){return Q=>new c.c(P=>Q.subscribe({next:Lt=>F.run(()=>P.next(Lt)),error:Lt=>F.run(()=>P.error(Lt)),complete:()=>F.run(()=>P.complete())}))}(F));const rn=new m.B,dn=new m.B,xn=rn.pipe(function T(...F){return Q=>(0,S.x)(Q,(0,f.of)(...F))}(!0));Ro.set(Q,{transition$:rn,complete:()=>{dn.next(),dn.complete()},context:pe});const Rn=function vo(F){const{transitionDelay:Q,transitionDuration:P}=window.getComputedStyle(F);return 1e3*(parseFloat(Q)+parseFloat(P))}(Q);return F.runOutsideAngular(()=>{const Ci=(0,p.R)(Q,"transitionend").pipe((0,w.Q)(xn),(0,M.p)(({target:_i})=>_i===Q)),qn=(0,y.O)(Rn+uo).pipe((0,w.Q)(xn));(0,E.O)(qn,Ci,dn).pipe((0,w.Q)(xn)).subscribe(()=>{Ro.delete(Q),F.run(()=>{Lt(),rn.next(),rn.complete()})})}),rn.asObservable()},ge=(F,Q,P)=>{let{direction:W,maxHeight:pe}=P;const{classList:Ne}=F;function Lt(){Ne.add("collapse"),"show"===W?Ne.add("show"):Ne.remove("show")}if(Q)return pe||(pe=function Ia(F){if(typeof navigator>"u")return"0px";const{classList:Q}=F,P=Q.contains("show");P||Q.add("show"),F.style.height="";const W=F.getBoundingClientRect().height+"px";return P||Q.remove("show"),W}(F),P.maxHeight=pe,F.style.height="show"!==W?pe:"0px",Ne.remove("collapse"),Ne.remove("collapsing"),Ne.remove("show"),vi(F),Ne.add("collapsing")),F.style.height="show"===W?pe:"0px",()=>{Lt(),Ne.remove("collapsing"),F.style.height=""};Lt()};let rt=(()=>{class F{constructor(){this.animation=oo.animation}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ae=(()=>{class F{constructor(P){this._ngbConfig=P,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(P){this._animation=P}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(rt))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),tt=0,Kt=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelHeader",""]]}),F})(),Pn=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelTitle",""]]}),F})(),Wn=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelContent",""]]}),F})(),fi=(()=>{class F{constructor(){this.disabled=!1,this.id="ngb-panel-"+tt++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275dir=i.FsC({type:F,selectors:[["ngb-panel"]],contentQueries:function(P,W,pe){if(1&P&&(i.wni(pe,Pn,4),i.wni(pe,Kt,4),i.wni(pe,Wn,4)),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.titleTpls=Ne),i.mGM(Ne=i.lsd())&&(W.headerTpls=Ne),i.mGM(Ne=i.lsd())&&(W.contentTpls=Ne)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),F})(),Xs=(()=>{class F{constructor(P){this._El=P,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),F})(),ho=(()=>{class F{constructor(P,W,pe){this._ngZone=W,this._changeDetector=pe,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=P.animation,this.type=P.type,this.closeOtherPanels=P.closeOthers}isExpanded(P){return this.activeIds.indexOf(P)>-1}expand(P){this._changeOpenState(this._findPanelById(P),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(P=>this._changeOpenState(P,!0))}collapse(P){this._changeOpenState(this._findPanelById(P),!1)}collapseAll(){this.panels.forEach(P=>{this._changeOpenState(P,!1)})}toggle(P){const W=this._findPanelById(P);W&&this._changeOpenState(W,!W.isOpen)}ngAfterContentChecked(){rr(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(P=>{P.isOpen=!P.disabled&&this.activeIds.indexOf(P.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this.panels.forEach(P=>{const W=P.panelDiv;W?P.initClassDone||(P.initClassDone=!0,Ss(this._ngZone,W,ge,{animation:!1,runningTransition:"continue",context:{direction:P.isOpen?"show":"hide"}})):P.initClassDone=!1})})}_changeOpenState(P,W){if(null!=P&&!P.disabled&&P.isOpen!==W){let pe=!1;this.panelChange.emit({panelId:P.id,nextState:W,preventDefault:()=>{pe=!0}}),pe||(P.isOpen=W,P.transitionRunning=!0,W&&this.closeOtherPanels&&this._closeOthers(P.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(P,W=!0){this.panels.forEach(pe=>{pe.id!==P&&pe.isOpen&&(pe.isOpen=!1,pe.transitionRunning=W)})}_findPanelById(P){return this.panels.find(W=>W.id===P)||null}_updateActiveIds(){this.activeIds=this.panels.filter(P=>P.isOpen&&!P.disabled).map(P=>P.id)}_runTransitions(P){this._changeDetector.detectChanges(),this.panels.forEach(W=>{W.transitionRunning&&Ss(this._ngZone,W.panelDiv,ge,{animation:P,runningTransition:"stop",context:{direction:W.isOpen?"show":"hide"}}).subscribe(()=>{W.transitionRunning=!1;const{id:Ne}=W;W.isOpen?(W.shown.emit(),this.shown.emit(Ne)):(W.hidden.emit(),this.hidden.emit(Ne))})})}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(Ae),i.rXU(i.SKi),i.rXU(i.gRc))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-accordion"]],contentQueries:function(P,W,pe){if(1&P&&i.wni(pe,fi,4),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.panels=Ne)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(P,W){2&P&&i.BMQ("aria-multiselectable",!W.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[0,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"accordion-body"]],template:function(P,W){1&P&&i.DNE(0,ms,3,3,"ng-template",1,0,i.C5r)(2,qo,4,12,"ng-template",2),2&P&&(i.R7$(2),i.Y8G("ngForOf",W.panels))},dependencies:()=>[Kt,Ks,t.T3,t.Sq,t.bT,Xs],encapsulation:2}),F})(),Ks=(()=>{class F{constructor(P,W){this.accordion=P,this.panel=W}set ngbPanelToggle(P){P&&(this.panel=P)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(ho),i.rXU(fi,9))},F.\u0275dir=i.FsC({type:F,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(P,W){1&P&&i.bIt("click",function(){return W.accordion.toggle(W.panel.id)}),2&P&&(i.Mr5("disabled",W.panel.disabled),i.BMQ("aria-expanded",W.panel.isOpen)("aria-controls",W.panel.id),i.AVh("collapsed",!W.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),F})(),ro=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Ui=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),zs=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(P,W){2&P&&i.AVh("btn",!0)("active",W.active)("disabled",W.disabled)("focus",W.focused)}}),F})(),tr=(()=>{class F{constructor(P,W){this._label=P,this._cd=W,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=pe=>{},this.onTouched=()=>{}}set focused(P){this._label.focused=P,P||this.onTouched()}onInputChange(P){const W=P.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(W),this.onTouched(),this.writeValue(W)}registerOnChange(P){this.onChange=P}registerOnTouched(P){this.onTouched=P}setDisabledState(P){this.disabled=P,this._label.disabled=P}writeValue(P){this.checked=P===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(zs),i.rXU(i.gRc))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(P,W){1&P&&i.bIt("change",function(Ne){return W.onInputChange(Ne)})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&P&&i.Mr5("checked",W.checked)("disabled",W.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}])]}),F})(),qs=0,po=(()=>{class F{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+qs++,this.onChange=P=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(P){this.setDisabledState(P)}onRadioChange(P){this.writeValue(P.value),this.onChange(P.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(P){this._radios.add(P)}registerOnChange(P){this.onChange=P}registerOnTouched(P){this.onTouched=P}setDisabledState(P){this._disabled=P,this._updateRadiosDisabled()}unregister(P){this._radios.delete(P)}writeValue(P){this._value=P,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(P=>P.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(P=>P.updateDisabled())}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}])]}),F})(),yo=(()=>{class F{constructor(P,W,pe,Ne,Lt){this._group=P,this._label=W,this._renderer=pe,this._element=Ne,this._cd=Lt,this._value=null,this._group.register(this),this.updateDisabled()}set value(P){this._value=P;const W=P?P.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",W),this._group.onRadioValueUpdate()}set disabled(P){this._disabled=!1!==P,this.updateDisabled()}set focused(P){this._label&&(this._label.focused=P),P||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(P){this.value!==P&&this._cd.markForCheck(),this._checked=this.value===P,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(po),i.rXU(zs),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(P,W){1&P&&i.bIt("change",function(){return W.onChange()})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&P&&i.Mr5("checked",W.checked)("disabled",W.disabled)("name",W.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),F})(),xo=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})(),Ad=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),la=(()=>{class F{constructor(P){this._ngbConfig=P}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(P){this._animation=P}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(rt))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),zi=(()=>{class F{constructor(P,W,pe){this._element=P,this._zone=pe,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=W.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:P}){P.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(P=this.collapsed){this.collapsed=!P,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(P,W){return Ss(this._zone,this._element.nativeElement,ge,{animation:W,runningTransition:"stop",context:{direction:P?"hide":"show"}})}_runTransitionWithEvents(P,W){this._runTransition(P,W).subscribe(()=>{P?this.hidden.emit():this.shown.emit()})}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT),i.rXU(la),i.rXU(i.SKi))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),F})(),Zc=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();class Eo{constructor(Q,P,W){this.year=Gt(Q)?Q:null,this.month=Gt(P)?P:null,this.day=Gt(W)?W:null}static from(Q){return Q instanceof Eo?Q:Q?new Eo(Q.year,Q.month,Q.day):null}equals(Q){return null!=Q&&this.year===Q.year&&this.month===Q.month&&this.day===Q.day}before(Q){return!!Q&&(this.year===Q.year?this.month===Q.month?this.day!==Q.day&&this.day<Q.day:this.month<Q.month:this.year<Q.year)}after(Q){return!!Q&&(this.year===Q.year?this.month===Q.month?this.day!==Q.day&&this.day>Q.day:this.month>Q.month:this.year>Q.year)}}function Yr(F,Q){return!function Fl(F,Q){return!F&&!Q||!!F&&!!Q&&F.equals(Q)}(F,Q)}function bl(F,Q){return!(!F&&!Q||F&&Q&&F.year===Q.year&&F.month===Q.month)}function Bl(F,Q,P){return F&&Q&&F.before(Q)?Q:F&&P&&F.after(P)?P:F||null}function nr(F,Q){const{minDate:P,maxDate:W,disabled:pe,markDisabled:Ne}=Q;return!(null==F||pe||Ne&&Ne(F,{year:F.year,month:F.month})||P&&F.before(P)||W&&F.after(W))}function cf(F){return new Eo(F.getFullYear(),F.getMonth()+1,F.getDate())}function qc(F){const Q=new Date(F.year,F.month-1,F.day,12);return isNaN(Q.getTime())||Q.setFullYear(F.year),Q}let Ie=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function ae(){return new de}(),providedIn:"root"}),F})(),de=(()=>{class F extends Ie{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(P,W="d",pe=1){let Ne=qc(P),Lt=!0,rn=Ne.getMonth();switch(W){case"y":Ne.setFullYear(Ne.getFullYear()+pe);break;case"m":rn+=pe,Ne.setMonth(rn),rn%=12,rn<0&&(rn+=12);break;case"d":Ne.setDate(Ne.getDate()+pe),Lt=!1;break;default:return P}return Lt&&Ne.getMonth()!==rn&&Ne.setDate(0),cf(Ne)}getPrev(P,W="d",pe=1){return this.getNext(P,W,-pe)}getWeekday(P){let pe=qc(P).getDay();return 0===pe?7:pe}getWeekNumber(P,W){7===W&&(W=0);const Lt=qc(P[(11-W)%7]);Lt.setDate(Lt.getDate()+4-(Lt.getDay()||7));const rn=Lt.getTime();return Lt.setMonth(0),Lt.setDate(1),Math.floor(Math.round((rn-Lt.getTime())/864e5)/7)+1}getToday(){return cf(new Date)}isValid(P){if(!(P&&Gt(P.year)&&Gt(P.month)&&Gt(P.day)&&0!==P.year))return!1;const W=qc(P);return!isNaN(W.getTime())&&W.getFullYear()===P.year&&W.getMonth()+1===P.month&&W.getDate()===P.day}}return F.\u0275fac=(()=>{let Q;return function(W){return(Q||(Q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),qe=(()=>{class F{getMonthLabel(P){return`${this.getMonthFullName(P.month,P.year)} ${this.getYearNumerals(P.year)}`}getDayNumerals(P){return`${P.day}`}getWeekNumerals(P){return`${P}`}getYearNumerals(P){return`${P}`}getWeekLabel(){return""}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:function(P){let W=null;return W=P?new P:function Re(F){return new Et(F)}(i.KVO(i.xe9)),W},providedIn:"root"}),F})(),Et=(()=>{class F extends qe{constructor(P){super(),this._locale=P,this._monthsShort=(0,t.tL)(P,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(P,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(P,W){const pe=(0,t.XO)(this._locale,t.oV.Standalone,void 0===W?t.cH.Short:W);return pe.map((Lt,rn)=>pe[(rn+1)%7])[P-1]||""}getMonthShortName(P){return this._monthsShort[P-1]||""}getMonthFullName(P){return this._monthsFull[P-1]||""}getDayAriaLabel(P){const W=new Date(P.year,P.month-1,P.day);return(0,t.Yq)(W,"fullDate",this._locale)}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(i.xe9))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),zt=(()=>{class F{constructor(P,W){this._calendar=P,this._i18n=W,this._VALIDATORS={dayTemplateData:pe=>{if(this._state.dayTemplateData!==pe)return{dayTemplateData:pe}},displayMonths:pe=>{if(Gt(pe=ko(pe))&&pe>0&&this._state.displayMonths!==pe)return{displayMonths:pe}},disabled:pe=>{if(this._state.disabled!==pe)return{disabled:pe}},firstDayOfWeek:pe=>{if(Gt(pe=ko(pe))&&pe>=0&&this._state.firstDayOfWeek!==pe)return{firstDayOfWeek:pe}},focusVisible:pe=>{if(this._state.focusVisible!==pe&&!this._state.disabled)return{focusVisible:pe}},markDisabled:pe=>{if(this._state.markDisabled!==pe)return{markDisabled:pe}},maxDate:pe=>{const Ne=this.toValidDate(pe,null);if(Yr(this._state.maxDate,Ne))return{maxDate:Ne}},minDate:pe=>{const Ne=this.toValidDate(pe,null);if(Yr(this._state.minDate,Ne))return{minDate:Ne}},navigation:pe=>{if(this._state.navigation!==pe)return{navigation:pe}},outsideDays:pe=>{if(this._state.outsideDays!==pe)return{outsideDays:pe}},weekdays:pe=>{const Ne=!0===pe||!1===pe?t.cH.Short:pe,Lt=!0!==pe&&!1!==pe||pe;if(this._state.weekdayWidth!==Ne||this._state.weekdaysVisible!==Lt)return{weekdayWidth:Ne,weekdaysVisible:Lt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,M.p)(P=>P.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,M.p)(P=>null!==P))}set(P){let W=Object.keys(P).map(pe=>this._VALIDATORS[pe](P[pe])).reduce((pe,Ne)=>({...pe,...Ne}),{});Object.keys(W).length>0&&this._nextState(W)}focus(P){const W=this.toValidDate(P,null);null!=W&&!this._state.disabled&&Yr(this._state.focusDate,W)&&this._nextState({focusDate:P})}focusSelect(){nr(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(P){const W=this.toValidDate(P,this._calendar.getToday());null!=W&&!this._state.disabled&&(!this._state.firstDate||bl(this._state.firstDate,W))&&this._nextState({firstDate:W})}select(P,W={}){const pe=this.toValidDate(P,null);null!=pe&&!this._state.disabled&&(Yr(this._state.selectedDate,pe)&&this._nextState({selectedDate:pe}),W.emitEvent&&nr(pe,this._state)&&this._dateSelect$.next(pe))}toValidDate(P,W){const pe=Eo.from(P);return void 0===W&&(W=this._calendar.getToday()),this._calendar.isValid(pe)?pe:W}getMonth(P){for(let W of this._state.months)if(P.month===W.number&&P.year===W.year)return W;throw new Error(`month ${P.month} of year ${P.year} not found`)}_nextState(P){const W=this._updateState(P);this._patchContexts(W),this._state=W,this._model$.next(this._state)}_patchContexts(P){const{months:W,displayMonths:pe,selectedDate:Ne,focusDate:Lt,focusVisible:rn,disabled:dn,outsideDays:xn}=P;P.months.forEach(Rn=>{Rn.weeks.forEach(Ci=>{Ci.days.forEach(qn=>{Lt&&(qn.context.focused=Lt.equals(qn.date)&&rn),qn.tabindex=!dn&&Lt&&qn.date.equals(Lt)&&Lt.month===Rn.number?0:-1,!0===dn&&(qn.context.disabled=!0),void 0!==Ne&&(qn.context.selected=null!==Ne&&Ne.equals(qn.date)),Rn.number!==qn.date.month&&(qn.hidden="hidden"===xn||"collapsed"===xn||pe>1&&qn.date.after(W[0].firstDate)&&qn.date.before(W[pe-1].lastDate))})})})}_updateState(P){const W=Object.assign({},this._state,P);let pe=W.firstDate;if(("minDate"in P||"maxDate"in P)&&(function ar(F,Q){if(Q&&F&&Q.before(F))throw new Error(`'maxDate' ${Q} should be greater than 'minDate' ${F}`)}(W.minDate,W.maxDate),W.focusDate=Bl(W.focusDate,W.minDate,W.maxDate),W.firstDate=Bl(W.firstDate,W.minDate,W.maxDate),pe=W.focusDate),"disabled"in P&&(W.focusVisible=!1),"selectedDate"in P&&0===this._state.months.length&&(pe=W.selectedDate),"focusVisible"in P||"focusDate"in P&&(W.focusDate=Bl(W.focusDate,W.minDate,W.maxDate),pe=W.focusDate,0!==W.months.length&&W.focusDate&&!W.focusDate.before(W.firstDate)&&!W.focusDate.after(W.lastDate)))return W;if("firstDate"in P&&(W.firstDate=Bl(W.firstDate,W.minDate,W.maxDate),pe=W.firstDate),pe){const Lt=function $a(F,Q,P,W,pe){const{displayMonths:Ne,months:Lt}=P,rn=Lt.splice(0,Lt.length);return Array.from({length:Ne},(xn,Rn)=>{const Ci=Object.assign(F.getNext(Q,"m",Rn),{day:1});if(Lt[Rn]=null,!pe){const qn=rn.findIndex(_i=>_i.firstDate.equals(Ci));-1!==qn&&(Lt[Rn]=rn.splice(qn,1)[0])}return Ci}).forEach((xn,Rn)=>{null===Lt[Rn]&&(Lt[Rn]=function wd(F,Q,P,W,pe={}){const{dayTemplateData:Ne,minDate:Lt,maxDate:rn,firstDayOfWeek:dn,markDisabled:xn,outsideDays:Rn,weekdayWidth:Ci,weekdaysVisible:qn}=P,_i=F.getToday();pe.firstDate=null,pe.lastDate=null,pe.number=Q.month,pe.year=Q.year,pe.weeks=pe.weeks||[],pe.weekdays=pe.weekdays||[],Q=function lf(F,Q,P){const W=F.getDaysPerWeek(),pe=new Eo(Q.year,Q.month,1),Ne=F.getWeekday(pe)%W;return F.getPrev(pe,"d",(W+Ne-P)%W)}(F,Q,dn),qn||(pe.weekdays.length=0);for(let js=0;js<F.getWeeksPerMonth();js++){let ds=pe.weeks[js];ds||(ds=pe.weeks[js]={number:0,days:[],collapsed:!0});const Wi=ds.days;for(let gs=0;gs<F.getDaysPerWeek();gs++){0===js&&qn&&(pe.weekdays[gs]=W.getWeekdayLabel(F.getWeekday(Q),Ci));const $s=new Eo(Q.year,Q.month,Q.day),Yo=F.getNext($s),ks=W.getDayAriaLabel($s);let Vs=!!(Lt&&$s.before(Lt)||rn&&$s.after(rn));!Vs&&xn&&(Vs=xn($s,{month:pe.number,year:pe.year}));let Ys=$s.equals(_i),$o=Ne?Ne($s,{month:pe.number,year:pe.year}):void 0;null===pe.firstDate&&$s.month===pe.number&&(pe.firstDate=$s),$s.month===pe.number&&Yo.month!==pe.number&&(pe.lastDate=$s);let Jo=Wi[gs];Jo||(Jo=Wi[gs]={}),Jo.date=$s,Jo.context=Object.assign(Jo.context||{},{$implicit:$s,date:$s,data:$o,currentMonth:pe.number,currentYear:pe.year,disabled:Vs,focused:!1,selected:!1,today:Ys}),Jo.tabindex=-1,Jo.ariaLabel=ks,Jo.hidden=!1,Q=Yo}ds.number=F.getWeekNumber(Wi.map(gs=>gs.date),dn),ds.collapsed="collapsed"===Rn&&Wi[0].date.month!==pe.number&&Wi[Wi.length-1].date.month!==pe.number}return pe}(F,xn,P,W,rn.shift()||{}))}),Lt}(this._calendar,pe,W,this._i18n,"dayTemplateData"in P||"firstDayOfWeek"in P||"markDisabled"in P||"minDate"in P||"maxDate"in P||"disabled"in P||"outsideDays"in P||"weekdaysVisible"in P);W.months=Lt,W.firstDate=Lt[0].firstDate,W.lastDate=Lt[Lt.length-1].lastDate,"selectedDate"in P&&!nr(W.selectedDate,W)&&(W.selectedDate=null),"firstDate"in P&&(!W.focusDate||W.focusDate.before(W.firstDate)||W.focusDate.after(W.lastDate))&&(W.focusDate=pe);const rn=!this._state.firstDate||this._state.firstDate.year!==W.firstDate.year,dn=!this._state.firstDate||this._state.firstDate.month!==W.firstDate.month;"select"===W.navigation?(("minDate"in P||"maxDate"in P||0===W.selectBoxes.years.length||rn)&&(W.selectBoxes.years=function Ou(F,Q,P){if(!F)return[];const W=Q?Math.max(Q.year,F.year-500):F.year-10,Ne=(P?Math.min(P.year,F.year+500):F.year+10)-W+1,Lt=Array(Ne);for(let rn=0;rn<Ne;rn++)Lt[rn]=W+rn;return Lt}(W.firstDate,W.minDate,W.maxDate)),("minDate"in P||"maxDate"in P||0===W.selectBoxes.months.length||rn)&&(W.selectBoxes.months=function Jr(F,Q,P,W){if(!Q)return[];let pe=F.getMonths(Q.year);if(P&&Q.year===P.year){const Ne=pe.findIndex(Lt=>Lt===P.month);pe=pe.slice(Ne)}if(W&&Q.year===W.year){const Ne=pe.findIndex(Lt=>Lt===W.month);pe=pe.slice(0,Ne+1)}return pe}(this._calendar,W.firstDate,W.minDate,W.maxDate))):W.selectBoxes={years:[],months:[]},("arrows"===W.navigation||"select"===W.navigation)&&(dn||rn||"minDate"in P||"maxDate"in P||"disabled"in P)&&(W.prevDisabled=W.disabled||function xd(F,Q,P){const W=Object.assign(F.getPrev(Q,"m"),{day:1});return null!=P&&(W.year===P.year&&W.month<P.month||W.year<P.year&&1===P.month)}(this._calendar,W.firstDate,W.minDate),W.nextDisabled=W.disabled||function sl(F,Q,P){const W=Object.assign(F.getNext(Q,"m"),{day:1});return null!=P&&W.after(P)}(this._calendar,W.lastDate,W.maxDate))}return W}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(Ie),i.KVO(qe))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})();var An=function(F){return F[F.PREV=0]="PREV",F[F.NEXT=1]="NEXT",F}(An||{});let Tn=(()=>{class F{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),cs=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function gi(){return new qi}(),providedIn:"root"}),F})(),qi=(()=>{class F extends cs{fromModel(P){return P&&Gt(P.year)&&Gt(P.month)&&Gt(P.day)?{year:P.year,month:P.month,day:P.day}:null}toModel(P){return P&&Gt(P.year)&&Gt(P.month)&&Gt(P.day)?{year:P.year,month:P.month,day:P.day}:null}}return F.\u0275fac=(()=>{let Q;return function(W){return(Q||(Q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),ao=(()=>{class F{constructor(P){this.i18n=P}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(qe))},F.\u0275cmp=i.VBU({type:F,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(P,W){2&P&&i.AVh("bg-primary",W.selected)("text-white",W.selected)("text-muted",W.isMuted())("outside",W.isMuted())("active",W.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Bo,decls:1,vars:1,template:function(P,W){1&P&&i.EFF(0),2&P&&i.JRh(W.i18n.getDayNumerals(W.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),F})(),Dl=(()=>{class F{constructor(P,W){this.i18n=P,this._renderer=W,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(P){this.select.emit(new Eo(this.date.year,ko(P),1))}changeYear(P){this.select.emit(new Eo(ko(P),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(qe),i.rXU(i.sFG))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(P,W){if(1&P&&(i.GBs(na,7,i.aKT),i.GBs(_o,7,i.aKT)),2&P){let pe;i.mGM(pe=i.lsd())&&(W.monthSelect=pe.first),i.mGM(pe=i.lsd())&&(W.yearSelect=pe.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let Q,P,W,pe;return Q=$localize`:@@ngb.datepicker.select-month:Select month`,P=$localize`:@@ngb.datepicker.select-month:Select month`,W=$localize`:@@ngb.datepicker.select-year:Select year`,pe=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",Q,"title",P,1,"form-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",W,"title",pe,1,"form-select",3,"change","disabled"],[3,"value"]]},template:function(P,W){if(1&P){const pe=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Lt){return i.eBV(pe),i.Njj(W.changeMonth(Lt.target.value))}),i.DNE(2,Ca,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Lt){return i.eBV(pe),i.Njj(W.changeYear(Lt.target.value))}),i.DNE(5,yi,2,2,"option",3),i.k0s()}2&P&&(i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.months),i.R7$(),i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.years))},dependencies:[t.Sq,q.xH,q.y7],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),F})(),_r=(()=>{class F{constructor(P){this.i18n=P,this.navigation=An,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(P){P.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(P){P.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(qe))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let Q,P,W,pe;return Q=$localize`:@@ngb.datepicker.previous-month:Previous month`,P=$localize`:@@ngb.datepicker.previous-month:Previous month`,W=$localize`:@@ngb.datepicker.next-month:Next month`,pe=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",Q,"title",P,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",W,"title",pe,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(P,W){1&P&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Ne){return W.onClickPrev(Ne)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Ar,1,4,"ngb-datepicker-navigation-select",3)(4,ba,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Ne){return W.onClickNext(Ne)}),i.nrm(7,"span",2),i.k0s()()),2&P&&(i.R7$(),i.Y8G("disabled",W.prevDisabled),i.R7$(2),i.Y8G("ngIf",W.showSelect),i.R7$(),i.Y8G("ngIf",!W.showSelect),i.R7$(2),i.Y8G("disabled",W.nextDisabled))},dependencies:[Dl,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),F})();var Gn=function(F){return F[F.Tab=9]="Tab",F[F.Enter=13]="Enter",F[F.Escape=27]="Escape",F[F.Space=32]="Space",F[F.PageUp=33]="PageUp",F[F.PageDown=34]="PageDown",F[F.End=35]="End",F[F.Home=36]="Home",F[F.ArrowLeft=37]="ArrowLeft",F[F.ArrowUp=38]="ArrowUp",F[F.ArrowRight=39]="ArrowRight",F[F.ArrowDown=40]="ArrowDown",F}(Gn||{});let ca=(()=>{class F{processKey(P,W){const{state:pe,calendar:Ne}=W;switch(P.which){case Gn.PageUp:W.focusDate(Ne.getPrev(pe.focusedDate,P.shiftKey?"y":"m",1));break;case Gn.PageDown:W.focusDate(Ne.getNext(pe.focusedDate,P.shiftKey?"y":"m",1));break;case Gn.End:W.focusDate(P.shiftKey?pe.maxDate:pe.lastDate);break;case Gn.Home:W.focusDate(P.shiftKey?pe.minDate:pe.firstDate);break;case Gn.ArrowLeft:W.focusDate(Ne.getPrev(pe.focusedDate,"d",1));break;case Gn.ArrowUp:W.focusDate(Ne.getPrev(pe.focusedDate,"d",Ne.getDaysPerWeek()));break;case Gn.ArrowRight:W.focusDate(Ne.getNext(pe.focusedDate,"d",1));break;case Gn.ArrowDown:W.focusDate(Ne.getNext(pe.focusedDate,"d",Ne.getDaysPerWeek()));break;case Gn.Enter:case Gn.Space:W.focusSelect();break;default:return}P.preventDefault(),P.stopPropagation()}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ld=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbDatepickerContent",""]]}),F})(),wh=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn,dn,xn){this._service=P,this._calendar=W,this.i18n=pe,this._elementRef=rn,this._ngbDateAdapter=dn,this._ngZone=xn,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=Rn=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Rn=>this[Rn]=Ne[Rn]),P.dateSelect$.pipe((0,w.Q)(this._destroyed$)).subscribe(Rn=>{this.dateSelect.emit(Rn)}),P.model$.pipe((0,w.Q)(this._destroyed$)).subscribe(Rn=>{const Ci=Rn.firstDate,qn=this.model?this.model.firstDate:null;this._publicState={maxDate:Rn.maxDate,minDate:Rn.minDate,firstDate:Rn.firstDate,lastDate:Rn.lastDate,focusedDate:Rn.focusDate,months:Rn.months.map(gs=>gs.firstDate)};let _i=!1;if(!Ci.equals(qn)&&(this.navigate.emit({current:qn?{year:qn.year,month:qn.month}:null,next:{year:Ci.year,month:Ci.month},preventDefault:()=>_i=!0}),_i&&null!==qn))return void this._service.open(qn);const js=Rn.selectedDate,ds=Rn.focusDate,Wi=this.model?this.model.focusDate:null;this.model=Rn,Yr(js,this._controlValue)&&(this._controlValue=js,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(js))),Yr(ds,Wi)&&Wi&&Rn.focusVisible&&this.focus(),Lt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(P){this._service.focus(Eo.from(P))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{const P=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');P&&P.focus()})}navigateTo(P){this._service.open(Eo.from(P?P.day?P:{...P,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const P=(0,p.R)(this._contentEl.nativeElement,"focusin"),W=(0,p.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:pe}=this._elementRef;(0,h.h)(P,W).pipe((0,M.p)(({target:Ne,relatedTarget:Lt})=>!(ui(Ne,"ngb-dp-day")&&ui(Lt,"ngb-dp-day")&&pe.contains(Ne)&&pe.contains(Lt))),(0,w.Q)(this._destroyed$)).subscribe(({type:Ne})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Ne})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const P={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(W=>P[W]=this[W]),this._service.set(P),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(P){const W={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(pe=>pe in P).forEach(pe=>W[pe]=this[pe]),this._service.set(W),"startDate"in P){const{currentValue:pe,previousValue:Ne}=P.startDate;bl(Ne,pe)&&this.navigateTo(this.startDate)}}onDateSelect(P){this._service.focus(P),this._service.select(P,{emitEvent:!0})}onNavigateDateSelect(P){this._service.open(P)}onNavigateEvent(P){switch(P){case An.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case An.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(P){this.onChange=P}registerOnTouched(P){this.onTouched=P}setDisabledState(P){this._service.set({disabled:P})}writeValue(P){this._controlValue=Eo.from(this._ngbDateAdapter.fromModel(P)),this._service.select(this._controlValue)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(zt),i.rXU(Ie),i.rXU(qe),i.rXU(Tn),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(cs),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker"]],contentQueries:function(P,W,pe){if(1&P&&i.wni(pe,Ld,7),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.contentTemplate=Ne.first)}},viewQuery:function(P,W){if(1&P&&(i.GBs(Da,7),i.GBs(Ba,7)),2&P){let pe;i.mGM(pe=i.lsd())&&(W._defaultDayTemplate=pe.first),i.mGM(pe=i.lsd())&&(W._contentEl=pe.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0},zt]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(P,W){if(1&P&&(i.DNE(0,sa,1,5,"ng-template",null,0,i.C5r)(2,at,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,pt,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,Vt,0,0,"ng-template",6),i.k0s(),i.DNE(9,Bt,0,0,"ng-template",6)),2&P){const pe=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==W.navigation),i.R7$(),i.AVh("ngb-dp-months",!W.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==W.contentTemplate?null:W.contentTemplate.templateRef)||pe),i.R7$(),i.Y8G("ngTemplateOutlet",W.footerTemplate)}},dependencies:()=>[ao,Wa,_r,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),F})(),Wa=(()=>{class F{constructor(P,W,pe,Ne){this.i18n=P,this.datepicker=W,this._keyboardService=pe,this._service=Ne}set month(P){this.viewModel=this._service.getMonth(P)}onKeyDown(P){this._keyboardService.processKey(P,this.datepicker)}doSelect(P){!P.context.disabled&&!P.hidden&&this.datepicker.onDateSelect(P.date)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(qe),i.rXU(wh),i.rXU(ca),i.rXU(zt))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(P,W){1&P&&i.bIt("keydown",function(Ne){return W.onKeyDown(Ne)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,W){1&P&&i.DNE(0,wi,3,2,"div",0)(1,Yi,1,1,"ng-template",1),2&P&&(i.Y8G("ngIf",W.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",W.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),F})();const Lh=(F,Q)=>!!Q&&Q.some(P=>P.contains(F)),Nd=(F,Q)=>!Q||null!=function Qi(F,Q){return!Q||typeof F.closest>"u"?null:F.closest(Q)}(F,Q),Dc=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Sn(F,Q,P,W,pe,Ne,Lt,rn){P&&F.runOutsideAngular((F=>Dc?()=>setTimeout(()=>F(),100):F)(()=>{const xn=(0,p.R)(Q,"keydown").pipe((0,w.Q)(pe),(0,M.p)(qn=>qn.which===Gn.Escape),(0,K.M)(qn=>qn.preventDefault())),Rn=(0,p.R)(Q,"mousedown").pipe((0,N.T)(qn=>{const _i=qn.target;return 2!==qn.button&&!Lh(_i,Lt)&&("inside"===P?Lh(_i,Ne)&&Nd(_i,rn):"outside"===P?!Lh(_i,Ne):Nd(_i,rn)||!Lh(_i,Ne))}),(0,w.Q)(pe)),Ci=(0,p.R)(Q,"mouseup").pipe((0,z.E)(Rn),(0,M.p)(([qn,_i])=>_i),(0,V.c)(0),(0,w.Q)(pe));(0,E.O)([xn.pipe((0,N.T)(qn=>0)),Ci.pipe((0,N.T)(qn=>1))]).subscribe(qn=>F.run(()=>W(qn)))}))}const Io=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fo(F){const Q=Array.from(F.querySelectorAll(Io)).filter(P=>-1!==P.tabIndex);return[Q[0],Q[Q.length-1]]}const Su=(F,Q,P,W=!1)=>{F.runOutsideAngular(()=>{const pe=(0,p.R)(Q,"focusin").pipe((0,w.Q)(P),(0,N.T)(Ne=>Ne.target));(0,p.R)(Q,"keydown").pipe((0,w.Q)(P),(0,M.p)(Ne=>Ne.which===Gn.Tab),(0,z.E)(pe)).subscribe(([Ne,Lt])=>{const[rn,dn]=fo(Q);(Lt===rn||Lt===Q)&&Ne.shiftKey&&(dn.focus(),Ne.preventDefault()),Lt===dn&&!Ne.shiftKey&&(rn.focus(),Ne.preventDefault())}),W&&(0,p.R)(Q,"click").pipe((0,w.Q)(P),(0,z.E)(pe),(0,N.T)(Ne=>Ne[1])).subscribe(Ne=>Ne.focus())})},uf=/\s+/,vr=/  +/gi,Iu=/^start/,Uv=/^end/,Ul=/-(top|left)$/,Pu=/-(bottom|right)$/,no=/^left/,pg=/^right/,Fd=/^start/,da=/^end/;function Tc({placement:F,baseClass:Q}){let P=Array.isArray(F)?F:F.split(uf),pe=P.findIndex(dn=>"auto"===dn);pe>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(dn){null==P.find(xn=>-1!==xn.search("^"+dn))&&P.splice(pe++,1,dn)});const Ne=P.map(dn=>function Di(F){return F.replace(Iu,"left").replace(Uv,"right").replace(Ul,"-start").replace(Pu,"-end")}(dn));return{placement:Ne.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!Q,phase:"write",fn({state:dn}){const xn=new RegExp(Q+"(-[a-z]+)*","gi"),Rn=dn.elements.popper,Ci=dn.placement;let qn=Rn.className;qn=qn.replace(xn,""),qn+=` ${function jv(F,Q){let[P,W]=Q.split("-");const pe=P.replace(no,"start").replace(pg,"end");let Ne=[pe];if(W){let Lt=W;("left"===P||"right"===P)&&(Lt=Lt.replace(Fd,"top").replace(da,"bottom")),Ne.push(`${pe}-${Lt}`)}return F&&(Ne=Ne.map(Lt=>`${F}-${Lt}`)),Ne.join(" ")}(Q,Ci)}`,qn=qn.trim().replace(vr," "),Rn.className=qn}},si,ps,Si,{enabled:!0,name:"flip",options:{fallbackPlacements:Ne}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function jl(F){return F}function ua(){let F=null;return{createPopper(Q){if(!F){let W=(Q.updatePopperOptions||jl)(Tc(Q));F=kt(Q.hostElement,Q.targetElement,W)}},update(){F&&F.update()},setOptions(Q){if(F){let W=(Q.updatePopperOptions||jl)(Tc(Q));F.setOptions(W)}},destroy(){F&&(F.destroy(),F=null)}}}let fg=(()=>{class F extends Tn{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return F.\u0275fac=(()=>{let Q;return function(W){return(Q||(Q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Ru(F){return Q=>(Q.modifiers.push(kn,{name:"offset",options:{offset:()=>F}}),Q)}let lo=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function mg(){return new Ii}(),providedIn:"root"}),F})(),Ii=(()=>{class F extends lo{parse(P){if(null!=P){const W=P.trim().split("-");if(1===W.length&&Gs(W[0]))return{year:ko(W[0]),month:null,day:null};if(2===W.length&&Gs(W[0])&&Gs(W[1]))return{year:ko(W[0]),month:ko(W[1]),day:null};if(3===W.length&&Gs(W[0])&&Gs(W[1])&&Gs(W[2]))return{year:ko(W[0]),month:ko(W[1]),day:ko(W[2])}}return null}format(P){return P?`${P.year}-${Gs(P.month)?Hn(P.month):""}-${Gs(P.day)?Hn(P.day):""}`:""}}return F.\u0275fac=(()=>{let Q;return function(W){return(Q||(Q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),hf=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn,dn,xn,Rn,Ci){this._parserFormatter=P,this._elRef=W,this._vcRef=pe,this._renderer=Ne,this._ngZone=Lt,this._calendar=rn,this._dateAdapter=dn,this._document=xn,this._changeDetector=Rn,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=ua(),this._destroyCloseHandlers$=new m.B,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=qn=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(qn=>this[qn]=Ci[qn])}get disabled(){return this._disabled}set disabled(P){this._disabled=""===P||P&&"false"!==P,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(P){this._onChange=P}registerOnTouched(P){this._onTouched=P}registerOnValidatorChange(P){this._validatorChange=P}setDisabledState(P){this.disabled=P}validate(P){const{value:W}=P;if(null!=W){const pe=this._fromDateStruct(this._dateAdapter.fromModel(W));if(!pe)return{ngbDate:{invalid:W}};if(this.minDate&&pe.before(Eo.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:W}}};if(this.maxDate&&pe.after(Eo.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:W}}}}return null}writeValue(P){this._model=this._fromDateStruct(this._dateAdapter.fromModel(P)),this._writeModelValue(this._model)}manualDateChange(P,W=!1){const pe=P!==this._inputValue;pe&&(this._inputValue=P,this._model=this._fromDateStruct(this._parserFormatter.parse(P))),(pe||!W)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===P?null:P),W&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let P;if(this._cRef=this._vcRef.createComponent(wh),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(W=>{this.writeValue(W),this._onChange(W),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Su(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),P=rr(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:P,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Ru([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!P)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let P=this._elWithFocus;rr(this.restoreFocus)?P=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(P=this.restoreFocus),P&&P.focus?P.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(P){this.isOpen()&&this._cRef.instance.navigateTo(P)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(P){if((P.minDate||P.maxDate)&&(this._validatorChange(),this.isOpen()&&(P.minDate&&(this._cRef.instance.minDate=this.minDate),P.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(P))),P.datepickerClass){const{currentValue:W,previousValue:pe}=P.datepickerClass;this._applyPopupClass(W,pe)}P.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(P){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(W=>{void 0!==this[W]&&(P[W]=this[W])}),P.startDate=this.startDate||this._model}_applyPopupClass(P,W){const pe=this._cRef?.location.nativeElement;pe&&(P&&this._renderer.addClass(pe,P),W&&this._renderer.removeClass(pe,W))}_applyPopupStyling(P){this._renderer.addClass(P,"dropdown-menu"),this._renderer.addClass(P,"show"),"body"===this.container&&this._renderer.addClass(P,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(P){P.navigate.subscribe(W=>this.navigate.emit(W)),P.dateSelect.subscribe(W=>{this.dateSelect.emit(W),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(P){const W=this._parserFormatter.format(P);this._inputValue=W,this._renderer.setProperty(this._elRef.nativeElement,"value",W),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(P)),this._onTouched())}_fromDateStruct(P){const W=P?new Eo(P.year,P.month,P.day):null;return this._calendar.isValid(W)?W:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Sn(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(lo),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(Ie),i.rXU(cs),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(fg))},F.\u0275dir=i.FsC({type:F,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(P,W){1&P&&i.bIt("input",function(Ne){return W.manualDateChange(Ne.target.value)})("change",function(Ne){return W.manualDateChange(Ne.target.value,!0)})("focus",function(){return W.onFocus()})("blur",function(){return W.onBlur()}),2&P&&i.Mr5("disabled",W.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0},{provide:q.cz,useExisting:(0,i.Rfq)(()=>F),multi:!0},{provide:Tn,useExisting:fg}]),i.OA$]}),F})();new Date(1882,10,12),new Date(2174,10,25);let Zl=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD,q.YN]]}),F})(),Vo=(()=>{class F{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),$h=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275dir=i.FsC({type:F,selectors:[["",8,"navbar"]]}),F})(),vf=(()=>{class F{constructor(P,W){this.elementRef=P,this._renderer=W,this._disabled=!1}set disabled(P){this._disabled=""===P||!0===P,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT),i.rXU(i.sFG))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(P,W){2&P&&(i.Mr5("tabIndex",W.disabled?-1:0),i.AVh("disabled",W.disabled))},inputs:{disabled:"disabled"}}),F})(),yf=(()=>{class F{constructor(P,W){this.dropdown=P,this.placement="bottom",this.isOpen=!1,this.nativeElement=W.nativeElement}}return F.\u0275fac=function(P){return new(P||F)(i.rXU((0,i.Rfq)(()=>kd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(P,W,pe){if(1&P&&i.wni(pe,vf,4),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.menuItems=Ne)}},hostVars:4,hostBindings:function(P,W){1&P&&i.bIt("keydown.ArrowUp",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.ArrowDown",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.End",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Enter",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Space",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Shift.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)}),2&P&&i.AVh("dropdown-menu",!0)("show",W.dropdown.isOpen())}}),F})(),Lu=(()=>{class F{constructor(P,W){this.dropdown=P,this.nativeElement=W.nativeElement}}return F.\u0275fac=function(P){return new(P||F)(i.rXU((0,i.Rfq)(()=>kd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(P,W){2&P&&i.BMQ("aria-expanded",W.dropdown.isOpen())}}),F})(),Wh=(()=>{class F extends Lu{constructor(P,W){super(P,W)}}return F.\u0275fac=function(P){return new(P||F)(i.rXU((0,i.Rfq)(()=>kd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(P,W){1&P&&i.bIt("click",function(){return W.dropdown.toggle()})("keydown.ArrowUp",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.ArrowDown",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.End",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Shift.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)}),2&P&&i.BMQ("aria-expanded",W.dropdown.isOpen())},features:[i.Jv_([{provide:Lu,useExisting:(0,i.Rfq)(()=>F)}]),i.Vt3]}),F})(),kd=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn,dn){this._changeDetector=P,this._document=pe,this._ngZone=Ne,this._elementRef=Lt,this._renderer=rn,this._destroyCloseHandlers$=new m.B,this._bodyContainer=null,this._positioning=ua(),this._open=!1,this.openChange=new i.bkB,this.placement=W.placement,this.container=W.container,this.autoClose=W.autoClose,this.display=dn?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(P){if(P.container&&this._open&&this._applyContainer(this.container),P.placement&&!P.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),P.dropdownClass){const{currentValue:W,previousValue:pe}=P.dropdownClass;this._applyCustomDropdownClass(W,pe)}P.autoClose&&this._open&&(this.autoClose=P.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Ru([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Sn(this._ngZone,this._document,this.autoClose,P=>{this.close(),0===P&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(P){const W=P.which,pe=this._getMenuElements();let Ne=-1,Lt=null;const rn=this._isEventFromToggle(P);if(!rn&&pe.length&&pe.forEach((dn,xn)=>{dn.contains(P.target)&&(Lt=dn),dn===this._document.activeElement&&(Ne=xn)}),W!==Gn.Space&&W!==Gn.Enter){if(W!==Gn.Tab){if(rn||Lt){if(this.open(),pe.length){switch(W){case Gn.ArrowDown:Ne=Math.min(Ne+1,pe.length-1);break;case Gn.ArrowUp:if(this._isDropup()&&-1===Ne){Ne=pe.length-1;break}Ne=Math.max(Ne-1,0);break;case Gn.Home:Ne=0;break;case Gn.End:Ne=pe.length-1}pe[Ne].focus()}P.preventDefault()}}else if(P.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===P.target)return void("body"!==this.container||P.shiftKey?P.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const dn=this._menu.nativeElement.querySelectorAll(Io);P.shiftKey&&P.target===dn[0]?(this._anchor.nativeElement.focus(),P.preventDefault()):!P.shiftKey&&P.target===dn[dn.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,p.R)(P.target,"focusout").pipe((0,L.s)(1)).subscribe(({relatedTarget:dn})=>{this._elementRef.nativeElement.contains(dn)||this.close()})}}else Lt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,p.R)(Lt,"click").pipe((0,L.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(P){return this._anchor.nativeElement.contains(P.target)}_getMenuElements(){const P=this._menu;return null==P?[]:P.menuItems.filter(W=>!W.disabled).map(W=>W.elementRef.nativeElement)}_positionMenu(){const P=this._menu;this.isOpen()&&P&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(P){return Array.isArray(P)?P[0]:P.split(" ")[0]}_resetContainer(){const P=this._renderer;this._menu&&P.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(P.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(P=null){if(this._resetContainer(),"body"===P){const W=this._renderer,pe=this._menu.nativeElement,Ne=this._bodyContainer=this._bodyContainer||W.createElement("div");W.setStyle(Ne,"position","absolute"),W.setStyle(pe,"position","static"),W.setStyle(Ne,"z-index","1055"),W.appendChild(Ne,pe),W.appendChild(this._document.body,Ne)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(P,W){const pe="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;pe&&(W&&this._renderer.removeClass(pe,W),P&&this._renderer.addClass(pe,P))}_applyPlacementClasses(P){const W=this._menu;if(W){P||(P=this._getFirstPlacement(this.placement));const pe=this._renderer,Ne=this._elementRef.nativeElement;pe.removeClass(Ne,"dropup"),pe.removeClass(Ne,"dropdown");const{nativeElement:Lt}=W;"static"===this.display?(W.placement=null,pe.setAttribute(Lt,"data-bs-popper","static")):(W.placement=P,pe.removeAttribute(Lt,"data-bs-popper"));const rn=-1!==P.search("^top")?"dropup":"dropdown";pe.addClass(Ne,rn);const dn=this._bodyContainer;dn&&(pe.removeClass(dn,"dropup"),pe.removeClass(dn,"dropdown"),pe.addClass(dn,rn))}}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.gRc),i.rXU(Vo),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU($h,8))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdown",""]],contentQueries:function(P,W,pe){if(1&P&&(i.wni(pe,yf,5),i.wni(pe,Lu,5)),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W._menu=Ne.first),i.mGM(Ne=i.lsd())&&(W._anchor=Ne.first)}},hostVars:2,hostBindings:function(P,W){2&P&&i.AVh("show",W.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),F})(),rl=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();class Vd{constructor(Q,P,W){this.nodes=Q,this.viewRef=P,this.componentRef=W}}class Nu{constructor(Q,P,W,pe,Ne,Lt){this._type=Q,this._injector=P,this._viewContainerRef=W,this._renderer=pe,this._ngZone=Ne,this._applicationRef=Lt,this._windowRef=null,this._contentRef=null}open(Q,P,W=!1){this._windowRef||(this._contentRef=this._getContentRef(Q,P),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:pe}=this._windowRef.location,Ne=this._ngZone.onStable.pipe((0,L.s)(1),(0,G.Z)(()=>Ss(this._ngZone,pe,({classList:Lt})=>Lt.add("show"),{animation:W,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Ne}}close(Q=!1){return this._windowRef?Ss(this._ngZone,this._windowRef.location.nativeElement,({classList:P})=>P.remove("show"),{animation:Q,runningTransition:"stop"}).pipe((0,K.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,f.of)(void 0)}_getContentRef(Q,P){if(Q){if(Q instanceof i.C4Q){const W=Q.createEmbeddedView(P);return this._applicationRef.attachView(W),new Vd([W.rootNodes],W)}return new Vd([[this._renderer.createText(`${Q}`)]])}return new Vd([])}}let Ef=(()=>{class F{constructor(P,W){this._el=P,this._zone=W}ngOnInit(){this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{Ss(this._zone,this._el.nativeElement,(P,W)=>{W&&vi(P),P.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ss(this._zone,this._el.nativeElement,({classList:P})=>P.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(P,W){2&P&&(i.HbH("modal-backdrop"+(W.backdropClass?" "+W.backdropClass:"")),i.AVh("show",!W.animation)("fade",W.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(P,W){},encapsulation:2}),F})();class Fu{close(Q){}dismiss(Q){}}class Hi{constructor(Q,P,W,pe){this._windowCmptRef=Q,this._contentRef=P,this._backdropCmptRef=W,this._beforeDismiss=pe,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,Q.instance.dismissEvent.subscribe(Ne=>{this.dismiss(Ne)}),this.result=new Promise((Ne,Lt)=>{this._resolve=Ne,this._reject=Lt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,w.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,w.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(Q){this._windowCmptRef&&(this._closed.next(Q),this._resolve(Q),this._removeModalElements())}_dismiss(Q){this._dismissed.next(Q),this._reject(Q),this._removeModalElements()}dismiss(Q){if(this._windowCmptRef)if(this._beforeDismiss){const P=this._beforeDismiss();!function In(F){return F&&F.then}(P)?!1!==P&&this._dismiss(Q):P.then(W=>{!1!==W&&this._dismiss(Q)},()=>{})}else this._dismiss(Q)}_removeModalElements(){const Q=this._windowCmptRef.instance.hide(),P=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,f.of)(void 0);Q.subscribe(()=>{const{nativeElement:W}=this._windowCmptRef.location;W.parentNode.removeChild(W),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),P.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:W}=this._backdropCmptRef.location;W.parentNode.removeChild(W),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,R.y)(Q,P).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Mc=function(F){return F[F.BACKDROP_CLICK=0]="BACKDROP_CLICK",F[F.ESC=1]="ESC",F}(Mc||{});let Og=(()=>{class F{constructor(P,W,pe){this._document=P,this._elRef=W,this._zone=pe,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":rr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(P){this.dismissEvent.emit(P)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:P}=this._elRef,W={animation:this.animation,runningTransition:"stop"},pe=Ss(this._zone,P,()=>P.classList.remove("show"),W),Ne=Ss(this._zone,this._dialogEl.nativeElement,()=>{},W),Lt=(0,R.y)(pe,Ne);return Lt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Lt}_show(){const P={animation:this.animation,runningTransition:"continue"},W=Ss(this._zone,this._elRef.nativeElement,(Ne,Lt)=>{Lt&&vi(Ne),Ne.classList.add("show")},P),pe=Ss(this._zone,this._dialogEl.nativeElement,()=>{},P);(0,R.y)(W,pe).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:P}=this._elRef;this._zone.runOutsideAngular(()=>{(0,p.R)(P,"keydown").pipe((0,w.Q)(this._closed$),(0,M.p)(pe=>pe.which===Gn.Escape)).subscribe(pe=>{this.keyboard?requestAnimationFrame(()=>{pe.defaultPrevented||this._zone.run(()=>this.dismiss(Mc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let W=!1;(0,p.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,w.Q)(this._closed$),(0,K.M)(()=>W=!1),(0,k.n)(()=>(0,p.R)(P,"mouseup").pipe((0,w.Q)(this._closed$),(0,L.s)(1))),(0,M.p)(({target:pe})=>P===pe)).subscribe(()=>{W=!0}),(0,p.R)(P,"click").pipe((0,w.Q)(this._closed$)).subscribe(({target:pe})=>{P===pe&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!W&&this._zone.run(()=>this.dismiss(Mc.BACKDROP_CLICK))),W=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:P}=this._elRef;if(!P.contains(document.activeElement)){const W=P.querySelector("[ngbAutofocus]"),pe=fo(P)[0];(W||pe||P).focus()}}_restoreFocus(){const P=this._document.body,W=this._elWithFocus;let pe;pe=W&&W.focus&&P.contains(W)?W:P,this._zone.runOutsideAngular(()=>{setTimeout(()=>pe.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ss(this._zone,this._elRef.nativeElement,({classList:P})=>(P.add("modal-static"),()=>P.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-modal-window"]],viewQuery:function(P,W){if(1&P&&i.GBs(hr,7),2&P){let pe;i.mGM(pe=i.lsd())&&(W._dialogEl=pe.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(P,W){2&P&&(i.BMQ("aria-modal",!0)("aria-labelledby",W.ariaLabelledBy)("aria-describedby",W.ariaDescribedBy),i.HbH("modal d-block"+(W.windowClass?" "+W.windowClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Js,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(P,W){1&P&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&P&&i.HbH("modal-dialog"+(W.size?" modal-"+W.size:"")+(W.centered?" modal-dialog-centered":"")+W.fullscreenClass+(W.scrollable?" modal-dialog-scrollable":"")+(W.modalDialogClass?" "+W.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),F})(),Sg=(()=>{class F{constructor(P){this._document=P}hide(){const P=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),W=this._document.body,pe=W.style,{overflow:Ne,paddingRight:Lt}=pe;if(P>0){const rn=parseFloat(window.getComputedStyle(W).paddingRight);pe.paddingRight=`${rn+P}px`}return pe.overflow="hidden",()=>{P>0&&(pe.paddingRight=Lt),pe.overflow=Ne}}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(t.qQ))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),mo=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn){this._applicationRef=P,this._injector=W,this._document=pe,this._scrollBar=Ne,this._rendererFactory=Lt,this._ngZone=rn,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const dn=this._windowCmpts[this._windowCmpts.length-1];Su(this._ngZone,dn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(dn.location.nativeElement)}})}_restoreScrollBar(){const P=this._scrollBarRestoreFn;P&&(this._scrollBarRestoreFn=null,P())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(P,W,pe,Ne){const Lt=Ne.container instanceof HTMLElement?Ne.container:mn(Ne.container)?this._document.querySelector(Ne.container):this._document.body,rn=this._rendererFactory.createRenderer(null,null);if(!Lt)throw new Error(`The specified modal container "${Ne.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const dn=new Fu,xn=this._getContentRef(P,Ne.injector||W,pe,dn,Ne);let Rn=!1!==Ne.backdrop?this._attachBackdrop(P,Lt):void 0,Ci=this._attachWindowComponent(P,Lt,xn),qn=new Hi(Ci,xn,Rn,Ne.beforeDismiss);return this._registerModalRef(qn),this._registerWindowCmpt(Ci),qn.hidden.pipe((0,L.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(rn.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),dn.close=_i=>{qn.close(_i)},dn.dismiss=_i=>{qn.dismiss(_i)},this._applyWindowOptions(Ci.instance,Ne),1===this._modalRefs.length&&rn.addClass(this._document.body,"modal-open"),Rn&&Rn.instance&&(this._applyBackdropOptions(Rn.instance,Ne),Rn.changeDetectorRef.detectChanges()),Ci.changeDetectorRef.detectChanges(),qn}get activeInstances(){return this._activeInstances}dismissAll(P){this._modalRefs.forEach(W=>W.dismiss(P))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(P,W){let Ne=P.resolveComponentFactory(Ef).create(this._injector);return this._applicationRef.attachView(Ne.hostView),W.appendChild(Ne.location.nativeElement),Ne}_attachWindowComponent(P,W,pe){let Lt=P.resolveComponentFactory(Og).create(this._injector,pe.nodes);return this._applicationRef.attachView(Lt.hostView),W.appendChild(Lt.location.nativeElement),Lt}_applyWindowOptions(P,W){this._windowAttributes.forEach(pe=>{mn(W[pe])&&(P[pe]=W[pe])})}_applyBackdropOptions(P,W){this._backdropAttributes.forEach(pe=>{mn(W[pe])&&(P[pe]=W[pe])})}_getContentRef(P,W,pe,Ne,Lt){return pe?pe instanceof i.C4Q?this._createFromTemplateRef(pe,Ne):rr(pe)?this._createFromString(pe):this._createFromComponent(P,W,pe,Ne,Lt):new Vd([])}_createFromTemplateRef(P,W){const Ne=P.createEmbeddedView({$implicit:W,close(Lt){W.close(Lt)},dismiss(Lt){W.dismiss(Lt)}});return this._applicationRef.attachView(Ne),new Vd([Ne.rootNodes],Ne)}_createFromString(P){const W=this._document.createTextNode(`${P}`);return new Vd([[W]])}_createFromComponent(P,W,pe,Ne,Lt){const rn=P.resolveComponentFactory(pe),dn=i.zZn.create({providers:[{provide:Fu,useValue:Ne}],parent:W}),xn=rn.create(dn),Rn=xn.location.nativeElement;return Lt.scrollable&&Rn.classList.add("component-host-scrollable"),this._applicationRef.attachView(xn.hostView),new Vd([[Rn]],xn.hostView,xn)}_setAriaHidden(P){const W=P.parentElement;W&&P!==this._document.body&&(Array.from(W.children).forEach(pe=>{pe!==P&&"SCRIPT"!==pe.nodeName&&(this._ariaHiddenValues.set(pe,pe.getAttribute("aria-hidden")),pe.setAttribute("aria-hidden","true"))}),this._setAriaHidden(W))}_revertAriaHidden(){this._ariaHiddenValues.forEach((P,W)=>{P?W.setAttribute("aria-hidden",P):W.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(P){const W=()=>{const pe=this._modalRefs.indexOf(P);pe>-1&&(this._modalRefs.splice(pe,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(P),this._activeInstances.emit(this._modalRefs),P.result.then(W,W)}_registerWindowCmpt(P){this._windowCmpts.push(P),this._activeWindowCmptHasChanged.next(),P.onDestroy(()=>{const W=this._windowCmpts.indexOf(P);W>-1&&(this._windowCmpts.splice(W,1),this._activeWindowCmptHasChanged.next())})}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(Sg),i.KVO(i._9s),i.KVO(i.SKi))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),$d=(()=>{class F{constructor(P){this._ngbConfig=P,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(P){this._animation=P}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(rt))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Cf=(()=>{class F{constructor(P,W,pe,Ne){this._moduleCFR=P,this._injector=W,this._modalStack=pe,this._config=Ne}open(P,W={}){const pe={...this._config,animation:this._config.animation,...W};return this._modalStack.open(this._moduleCFR,this._injector,P,pe)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(P){this._modalStack.dismissAll(P)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(mo),i.KVO($d))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Bu=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({providers:[Cf]}),F})(),bf=(()=>{class F{constructor(P){this._ngbConfig=P,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(P){this._animation=P}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(rt))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Df=F=>mn(F)&&""!==F;let Ig=0,Kh=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbNavContent",""]]}),F})(),Hh=(()=>{class F{constructor(P,W){this.elementRef=W,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=P}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){mn(this.domId)||(this.domId="ngb-nav-"+Ig++)}get active(){return this._nav.activeId===this.id}get id(){return Df(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(mn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return F.\u0275fac=function(P){return new(P||F)(i.rXU((0,i.Rfq)(()=>zh)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNavItem",""]],contentQueries:function(P,W,pe){if(1&P&&i.wni(pe,Kh,4),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.contentTpls=Ne)}},hostVars:2,hostBindings:function(P,W){2&P&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),F})(),zh=(()=>{class F{constructor(P,W,pe,Ne){this.role=P,this._cd=pe,this._document=Ne,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=W.animation,this.destroyOnHide=W.destroyOnHide,this.orientation=W.orientation,this.roles=W.roles,this.keyboard=W.keyboard}click(P){P.disabled||this._updateActiveId(P.id)}onKeyDown(P){if("tablist"!==this.roles||!this.keyboard)return;const W=P.which,pe=this.links.filter(rn=>!rn.navItem.disabled),{length:Ne}=pe;let Lt=-1;if(pe.forEach((rn,dn)=>{rn.elRef.nativeElement===this._document.activeElement&&(Lt=dn)}),Ne){switch(W){case Gn.ArrowLeft:if("vertical"===this.orientation)return;Lt=(Lt-1+Ne)%Ne;break;case Gn.ArrowRight:if("vertical"===this.orientation)return;Lt=(Lt+1)%Ne;break;case Gn.ArrowDown:if("horizontal"===this.orientation)return;Lt=(Lt+1)%Ne;break;case Gn.ArrowUp:if("horizontal"===this.orientation)return;Lt=(Lt-1+Ne)%Ne;break;case Gn.Home:Lt=0;break;case Gn.End:Lt=Ne-1}"changeWithArrows"===this.keyboard&&this.select(pe[Lt].navItem.id),pe[Lt].elRef.nativeElement.focus(),P.preventDefault()}}select(P){this._updateActiveId(P,!1)}ngAfterContentInit(){if(!mn(this.activeId)){const P=this.items.first?this.items.first.id:null;Df(P)&&(this._updateActiveId(P,!1),this._cd.detectChanges())}this.items.changes.pipe((0,w.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:P}){P&&!P.firstChange&&this._notifyItemChanged(P.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(P,W=!0){if(this.activeId!==P){let pe=!1;W&&this.navChange.emit({activeId:this.activeId,nextId:P,preventDefault:()=>{pe=!0}}),pe||(this.activeId=P,this.activeIdChange.emit(P),this._notifyItemChanged(P))}}_notifyItemChanged(P){this.navItemChange$.next(this._getItemById(P))}_getItemById(P){return this.items&&this.items.find(W=>W.id===P)||null}}return F.\u0275fac=function(P){return new(P||F)(i.kS0("role"),i.rXU(bf),i.rXU(i.gRc),i.rXU(t.qQ))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNav",""]],contentQueries:function(P,W,pe){if(1&P&&(i.wni(pe,Hh,4),i.wni(pe,Wd,5)),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.items=Ne),i.mGM(Ne=i.lsd())&&(W.links=Ne)}},hostVars:6,hostBindings:function(P,W){1&P&&i.bIt("keydown.arrowLeft",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowRight",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowDown",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowUp",function(Ne){return W.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.onKeyDown(Ne)})("keydown.End",function(Ne){return W.onKeyDown(Ne)}),2&P&&(i.BMQ("aria-orientation","vertical"===W.orientation&&"tablist"===W.roles?"vertical":void 0)("role",W.role?W.role:W.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===W.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),F})(),Wd=(()=>{class F{constructor(P,W,pe,Ne){this.role=P,this.navItem=W,this.nav=pe,this.elRef=Ne}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return F.\u0275fac=function(P){return new(P||F)(i.kS0("role"),i.rXU(Hh),i.rXU(zh),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(P,W){1&P&&i.bIt("click",function(Ne){return W.nav.click(W.navItem),Ne.preventDefault()}),2&P&&(i.Mr5("id",W.navItem.domId),i.BMQ("role",W.role?W.role:W.nav.roles?"tab":void 0)("tabindex",W.navItem.disabled?-1:void 0)("aria-controls",W.navItem.isPanelInDom()?W.navItem.panelDomId:null)("aria-selected",W.navItem.active)("aria-disabled",W.navItem.disabled),i.AVh("nav-link",!0)("nav-item",W.hasNavItemClass())("active",W.navItem.active)("disabled",W.navItem.disabled))}}),F})();const td=({classList:F})=>(F.remove("show"),()=>F.remove("active")),Tf=(F,Q)=>{Q&&vi(F),F.classList.add("show")};let ql=(()=>{class F{constructor(P){this.elRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(P,W){2&P&&(i.Mr5("id",W.item.panelDomId),i.BMQ("role",W.role?W.role:W.nav.roles?"tabpanel":void 0)("aria-labelledby",W.item.domId),i.AVh("fade",W.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),F})(),Mf=(()=>{class F{constructor(P,W){this._cd=P,this._ngZone=W,this._activePane=null}isPanelTransitioning(P){return this._activePane?.item===P}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,w.Q)(this.nav.destroy$),(0,j.Z)(this._activePane?.item||null),(0,$.F)(),(0,X.i)(1)).subscribe(P=>{const W={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ss(this._ngZone,this._activePane.elRef.nativeElement,td,W).subscribe(()=>{const pe=this._activePane?.item;this._activePane=this._getPaneForItem(P),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Ss(this._ngZone,this._activePane.elRef.nativeElement,Tf,W).subscribe(()=>{P&&(P.shown.emit(),this.nav.shown.emit(P.id))})),pe&&(pe.hidden.emit(),this.nav.hidden.emit(pe.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(P){return this._panes&&this._panes.find(W=>W.item===P)||null}_getActivePane(){return this._panes&&this._panes.find(P=>P.item.active)||null}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.gRc),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["","ngbNavOutlet",""]],viewQuery:function(P,W){if(1&P&&i.GBs(ql,5),2&P){let pe;i.mGM(pe=i.lsd())&&(W._panes=pe)}},hostVars:2,hostBindings:function(P,W){2&P&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:Os,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,W){1&P&&i.DNE(0,ss,1,1,"ng-template",0),2&P&&i.Y8G("ngForOf",W.nav.items)},dependencies:[t.Sq,t.bT,ql,t.T3],encapsulation:2,changeDetection:0}),F})(),Xh=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),ju=(()=>{class F{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Gd=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),F})(),Pg=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationFirst",""]]}),F})(),Of=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationLast",""]]}),F})(),Sf=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationNext",""]]}),F})(),Yh=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationNumber",""]]}),F})(),al=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationPrevious",""]]}),F})(),Rg=(()=>{class F{constructor(P){this.templateRef=P}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationPages",""]]}),F})(),ku=(()=>{class F{constructor(P){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=P.disabled,this.boundaryLinks=P.boundaryLinks,this.directionLinks=P.directionLinks,this.ellipses=P.ellipses,this.maxSize=P.maxSize,this.pageSize=P.pageSize,this.rotate=P.rotate,this.size=P.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(P){this._updatePages(P)}ngOnChanges(P){this._updatePages(this.page)}isEllipsis(P){return-1===P}_applyEllipses(P,W){this.ellipses&&(P>0&&(P>2?this.pages.unshift(-1):2===P&&this.pages.unshift(2),this.pages.unshift(1)),W<this.pageCount&&(W<this.pageCount-2?this.pages.push(-1):W===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let P=0,W=this.pageCount,pe=Math.floor(this.maxSize/2);return this.page<=pe?W=this.maxSize:this.pageCount-this.page<pe?P=this.pageCount-this.maxSize:(P=this.page-pe-1,W=this.page+(this.maxSize%2==0?pe-1:pe)),[P,W]}_applyPagination(){let W=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[W,W+this.maxSize]}_setPageInRange(P){const W=this.page;this.page=Ql(P,this.pageCount,1),this.page!==W&&Gs(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(P){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Gs(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let W=1;W<=this.pageCount;W++)this.pages.push(W);if(this._setPageInRange(P),this.maxSize>0&&this.pageCount>this.maxSize){let W=0,pe=this.pageCount;[W,pe]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(W,pe),this._applyEllipses(W,pe)}}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(ju))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-pagination"]],contentQueries:function(P,W,pe){if(1&P&&(i.wni(pe,Gd,5),i.wni(pe,Pg,5),i.wni(pe,Of,5),i.wni(pe,Sf,5),i.wni(pe,Yh,5),i.wni(pe,al,5),i.wni(pe,Rg,5)),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.tplEllipsis=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplFirst=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplLast=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplNext=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplNumber=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplPrevious=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplPages=Ne.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let Q,P,W,pe,Ne,Lt,rn,dn;return Q=$localize`:@@ngb.pagination.first:««`,P=$localize`:@@ngb.pagination.previous:«`,W=$localize`:@@ngb.pagination.next:»`,pe=$localize`:@@ngb.pagination.last:»»`,Ne=$localize`:@@ngb.pagination.first-aria:First`,Lt=$localize`:@@ngb.pagination.previous-aria:Previous`,rn=$localize`:@@ngb.pagination.next-aria:Next`,dn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],Q,P,W,pe,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Ne,"href","",1,"page-link",3,"click"],["aria-label",Lt,"href","",1,"page-link",3,"click"],["aria-label",rn,"href","",1,"page-link",3,"click"],["aria-label",dn,"href","",1,"page-link",3,"click"]]},template:function(P,W){if(1&P&&(i.DNE(0,xr,2,0,"ng-template",null,0,i.C5r)(2,sr,2,0,"ng-template",null,1,i.C5r)(4,el,2,0,"ng-template",null,2,i.C5r)(6,Xr,2,0,"ng-template",null,3,i.C5r)(8,It,1,0,"ng-template",null,4,i.C5r)(10,he,2,2,"ng-template",null,5,i.C5r)(12,Ve,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,dt,3,9,"li",11)(16,mi,3,8,"li",11)(17,os,0,0,"ng-template",12)(18,zo,3,9,"li",11)(19,vl,3,9,"li",11),i.k0s()),2&P){const pe=i.sdS(13);i.R7$(14),i.HbH("pagination"+(W.size?" pagination-"+W.size:"")),i.R7$(),i.Y8G("ngIf",W.boundaryLinks),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplPages?null:W.tplPages.templateRef)||pe)("ngTemplateOutletContext",i.sMw(8,Oo,W.page,W.pages,W.disabled)),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngIf",W.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),F})(),Vu=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})();class Qh{constructor(Q,P){this.open=Q,this.close=P,P||(this.close=Q)}isManual(){return"manual"===this.open||"manual"===this.close}}const If={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Pf=F=>F>0?(0,V.c)(F):Q=>Q;let qh=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Oc=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),$r=(()=>{class F{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Qv=(()=>{class F{constructor(P,W){this._changeDetectorRef=W,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=pe=>{},this.onTouched=()=>{},this.max=P.max,this.readonly=P.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(P){this.isInteractive()&&this._updateState(P),this.hover.emit(P)}handleBlur(){this.onTouched()}handleClick(P){this.isInteractive()&&this.update(this.resettable&&this.rate===P?0:P)}handleKeyDown(P){switch(P.which){case Gn.ArrowDown:case Gn.ArrowLeft:this.update(this.rate-1);break;case Gn.ArrowUp:case Gn.ArrowRight:this.update(this.rate+1);break;case Gn.Home:this.update(0);break;case Gn.End:this.update(this.max);break;default:return}P.preventDefault()}ngOnChanges(P){P.rate&&this.update(this.rate),P.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(P){this.onChange=P}registerOnTouched(P){this.onTouched=P}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(P){this.disabled=P}update(P,W=!0){const pe=Ql(P,this.max,0);this.isInteractive()&&this.rate!==pe&&(this.rate=pe,this.rateChange.emit(this.rate)),W&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(P){this.update(P,!1),this._changeDetectorRef.markForCheck()}_updateState(P){this.nextRate=P,this.contexts.forEach((W,pe)=>W.fill=Math.round(100*Ql(P-pe,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(P,W)=>({fill:0,index:W}))}}return F.\u0275fac=function(P){return new(P||F)(i.rXU($r),i.rXU(i.gRc))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-rating"]],contentQueries:function(P,W,pe){if(1&P&&i.wni(pe,i.C4Q,5),2&P){let Ne;i.mGM(Ne=i.lsd())&&(W.starTemplateFromContent=Ne.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(P,W){1&P&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Ne){return W.handleKeyDown(Ne)})("mouseleave",function(){return W.reset()}),2&P&&(i.Mr5("tabindex",W.disabled?-1:0),i.BMQ("aria-valuemax",W.max)("aria-valuenow",W.nextRate)("aria-valuetext",W.ariaValueText())("aria-disabled",!!W.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,W){1&P&&i.DNE(0,tl,1,1,"ng-template",null,0,i.C5r)(2,Al,4,5,"ng-template",1),2&P&&(i.R7$(2),i.Y8G("ngForOf",W.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),F})(),ep=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})();class $u{constructor(Q,P,W){this.hour=ko(Q),this.minute=ko(P),this.second=ko(W)}changeHour(Q=1){this.updateHour((isNaN(this.hour)?0:this.hour)+Q)}updateHour(Q){this.hour=Gs(Q)?(Q<0?24+Q:Q)%24:NaN}changeMinute(Q=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+Q)}updateMinute(Q){Gs(Q)?(this.minute=Q%60<0?60+Q%60:Q%60,this.changeHour(Math.floor(Q/60))):this.minute=NaN}changeSecond(Q=1){this.updateSecond((isNaN(this.second)?0:this.second)+Q)}updateSecond(Q){Gs(Q)?(this.second=Q<0?60+Q%60:Q%60,this.changeMinute(Math.floor(Q/60))):this.second=NaN}isValid(Q=!0){return Gs(this.hour)&&Gs(this.minute)&&(!Q||Gs(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Hd=(()=>{class F{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),ll=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function zd(){return new tp}(),providedIn:"root"}),F})(),tp=(()=>{class F extends ll{fromModel(P){return P&&Gt(P.hour)&&Gt(P.minute)?{hour:P.hour,minute:P.minute,second:Gt(P.second)?P.second:null}:null}toModel(P){return P&&Gt(P.hour)&&Gt(P.minute)?{hour:P.hour,minute:P.minute,second:Gt(P.second)?P.second:null}:null}}return F.\u0275fac=(()=>{let Q;return function(W){return(Q||(Q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),Ga=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:function(P){let W=null;return W=P?new P:function Ng(F){return new Wl(F)}(i.KVO(i.xe9)),W},providedIn:"root"}),F})(),Wl=(()=>{class F extends Ga{constructor(P){super(),this._periods=(0,t.rd)(P,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(i.xe9))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})();const id=/[^0-9]/g;let Zv=(()=>{class F{constructor(P,W,pe,Ne){this._config=P,this._ngbTimeAdapter=W,this._cd=pe,this.i18n=Ne,this.onChange=Lt=>{},this.onTouched=()=>{},this.meridian=P.meridian,this.spinners=P.spinners,this.seconds=P.seconds,this.hourStep=P.hourStep,this.minuteStep=P.minuteStep,this.secondStep=P.secondStep,this.disabled=P.disabled,this.readonlyInputs=P.readonlyInputs,this.size=P.size}set hourStep(P){this._hourStep=Gt(P)?P:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(P){this._minuteStep=Gt(P)?P:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(P){this._secondStep=Gt(P)?P:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(P){const W=this._ngbTimeAdapter.fromModel(P);this.model=W?new $u(W.hour,W.minute,W.second):new $u,!this.seconds&&(!W||!Gs(W.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(P){this.onChange=P}registerOnTouched(P){this.onTouched=P}setDisabledState(P){this.disabled=P}changeHour(P){this.model.changeHour(P),this.propagateModelChange()}changeMinute(P){this.model.changeMinute(P),this.propagateModelChange()}changeSecond(P){this.model.changeSecond(P),this.propagateModelChange()}updateHour(P){const W=this.model.hour>=12,pe=ko(P);this.model.updateHour(this.meridian&&(W&&pe<12||!W&&12===pe)?pe+12:pe),this.propagateModelChange()}updateMinute(P){this.model.updateMinute(ko(P)),this.propagateModelChange()}updateSecond(P){this.model.updateSecond(ko(P)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(P){P.value=P.value.replace(id,"")}formatHour(P){return Gs(P)?Hn(this.meridian?P%12==0?12:P%12:P%24):Hn(NaN)}formatMinSec(P){return Hn(Gs(P)?P:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(P){P.seconds&&!this.seconds&&this.model&&!Gs(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(P=!0){P&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(Hd),i.rXU(ll),i.rXU(i.gRc),i.rXU(Ga))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let Q,P,W,pe,Ne,Lt,rn,dn,xn,Rn,Ci,qn,_i,js;return Q=$localize`:@@ngb.timepicker.HH:HH`,P=$localize`:@@ngb.timepicker.hours:Hours`,W=$localize`:@@ngb.timepicker.MM:MM`,pe=$localize`:@@ngb.timepicker.minutes:Minutes`,Ne=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Lt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,rn=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,dn=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,xn=$localize`:@@ngb.timepicker.SS:SS`,Rn=$localize`:@@ngb.timepicker.seconds:Seconds`,Ci=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,qn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,_i=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,js=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Ne,Lt,rn,dn,Ci,qn,_i,js,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",Q,"aria-label",P,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",W,"aria-label",pe,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",xn,"aria-label",Rn,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(P,W){1&P&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,Jc,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Ne){return W.updateHour(Ne.target.value)})("blur",function(){return W.handleBlur()})("input",function(Ne){return W.formatInput(Ne.target)})("keydown.ArrowUp",function(Ne){return W.changeHour(W.hourStep),Ne.preventDefault()})("keydown.ArrowDown",function(Ne){return W.changeHour(-W.hourStep),Ne.preventDefault()}),i.k0s(),i.DNE(5,yl,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,vs,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Ne){return W.updateMinute(Ne.target.value)})("blur",function(){return W.handleBlur()})("input",function(Ne){return W.formatInput(Ne.target)})("keydown.ArrowUp",function(Ne){return W.changeMinute(W.minuteStep),Ne.preventDefault()})("keydown.ArrowDown",function(Ne){return W.changeMinute(-W.minuteStep),Ne.preventDefault()}),i.k0s(),i.DNE(11,or,4,7,"button",12),i.k0s(),i.DNE(12,So,2,0,"div",17)(13,xl,4,9,"div",18)(14,Ua,1,0,"div",17)(15,Sa,5,9,"div",19),i.k0s()()),2&P&&(i.AVh("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(3),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatHour(null==W.model?null:W.model.hour))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(4),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatMinSec(null==W.model?null:W.model.minute))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.meridian),i.R7$(),i.Y8G("ngIf",W.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),F})(),Ka=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Xd=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),rs=(()=>{class F{constructor(P){this._ngbConfig=P,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(P){this._animation=P}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(rt))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Yd=0,Fg=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(P,W){2&P&&(i.Mr5("id",W.id),i.HbH("tooltip"+(W.tooltipClass?" "+W.tooltipClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Js,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(P,W){1&P&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},encapsulation:2,changeDetection:0}),F})(),Sr=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn,dn,xn,Rn){this._elementRef=P,this._renderer=W,this._ngZone=rn,this._document=dn,this._changeDetector=xn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+Yd++,this._windowRef=null,this._positioning=ua(),this.animation=Lt.animation,this.autoClose=Lt.autoClose,this.placement=Lt.placement,this.triggers=Lt.triggers,this.container=Lt.container,this.disableTooltip=Lt.disableTooltip,this.tooltipClass=Lt.tooltipClass,this.openDelay=Lt.openDelay,this.closeDelay=Lt.closeDelay,this._popupService=new Nu(Fg,pe,Ne,W,this._ngZone,Rn)}set ngbTooltip(P){this._ngbTooltip=P,!P&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(P){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:W,transition$:pe}=this._popupService.open(this._ngbTooltip,P,this.animation);this._windowRef=W,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Sn(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),pe.subscribe(()=>this.shown.emit())}}close(P=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(P).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function wg(F,Q,P,W,pe,Ne,Lt=0,rn=0){const dn=function Zh(F,Q=If){const P=(F||"").trim();if(0===P.length)return[];const W=P.split(/\s+/).map(Ne=>Ne.split(":")).map(Ne=>{let Lt=Q[Ne[0]]||Ne;return new Qh(Lt[0],Lt[1])}),pe=W.filter(Ne=>Ne.isManual());if(pe.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===pe.length&&W.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return W}(P);if(1===dn.length&&dn[0].isManual())return()=>{};const xn=function Ag(F,Q,P,W){return new c.c(pe=>{const Ne=[],Lt=()=>pe.next(!0),rn=()=>pe.next(!1),dn=()=>pe.next(!W());return P.forEach(xn=>{xn.open===xn.close?Ne.push(F.listen(Q,xn.open,dn)):Ne.push(F.listen(Q,xn.open,Lt),F.listen(Q,xn.close,rn))}),()=>{Ne.forEach(xn=>xn())}})}(F,Q,dn,W).pipe(function xg(F,Q,P){return W=>{let pe=null;const Ne=W.pipe((0,N.T)(dn=>({open:dn})),(0,M.p)(dn=>{const xn=P();return xn===dn.open||pe&&pe.open!==xn?(pe&&pe.open!==dn.open&&(pe=null),!1):(pe=dn,!0)}),(0,J.u)()),Lt=Ne.pipe((0,M.p)(dn=>dn.open),Pf(F)),rn=Ne.pipe((0,M.p)(dn=>!dn.open),Pf(Q));return(0,h.h)(Lt,rn).pipe((0,M.p)(dn=>dn===pe&&(pe=null,dn.open!==P())),(0,N.T)(dn=>dn.open))}}(Lt,rn,W)).subscribe(Rn=>Rn?pe():Ne());return()=>xn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:P}){P&&this.isOpen()&&(this._windowRef.instance.tooltipClass=P.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(rs),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),F})(),Bg=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})(),e0=(()=>{class F{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(P){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const W=Vr(this.result),pe=Array.isArray(this.term)?this.term:[this.term],Ne=xn=>this.accentSensitive?xn:As(xn),Lt=pe.map(xn=>function di(F){return F.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Ne(Vr(xn)))).filter(xn=>xn),rn=this.accentSensitive?W:As(W),dn=Lt.length?rn.split(new RegExp(`(${Lt.join("|")})`,"gmi")):[W];if(this.accentSensitive)this.parts=dn;else{let xn=0;this.parts=dn.map(Rn=>W.substring(xn,xn+=Rn.length))}}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(P,W){1&P&&i.DNE(0,Qc,3,2,"ng-template",1),2&P&&i.Y8G("ngForOf",W.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),F})(),f1=(()=>{class F{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Vr,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(P){this.activeIdx=P,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(P){this.selectEvent.emit(P)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(P,W){1&P&&i.bIt("mousedown",function(Ne){return Ne.preventDefault()}),2&P&&(i.Mr5("id",W.id),i.HbH("dropdown-menu show"+(W.popupClass?" "+W.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,W){1&P&&i.DNE(0,Rd,1,2,"ng-template",null,0,i.C5r)(2,yc,2,9,"ng-template",1),2&P&&(i.R7$(2),i.Y8G("ngForOf",W.results))},dependencies:[e0,t.Sq,t.T3],encapsulation:2}),F})(),Ug=(()=>{class F{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return F.\u0275fac=function(P){return new(P||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const m1=new i.nKC("live announcer delay",{providedIn:"root",factory:function np(){return 100}});function Rf(F,Q=!1){let P=F.body.querySelector("#ngb-live");return null==P&&Q&&(P=F.createElement("div"),P.setAttribute("id","ngb-live"),P.setAttribute("aria-live","polite"),P.setAttribute("aria-atomic","true"),P.classList.add("visually-hidden"),F.body.appendChild(P)),P}let Jd=(()=>{class F{constructor(P,W){this._document=P,this._delay=W}ngOnDestroy(){const P=Rf(this._document);P&&P.parentElement.removeChild(P)}say(P){const W=Rf(this._document,!0),pe=this._delay;if(null!=W){W.textContent="";const Ne=()=>W.textContent=P;null===pe?Ne():setTimeout(Ne,pe)}}}return F.\u0275fac=function(P){return new(P||F)(i.KVO(t.qQ),i.KVO(m1))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Wu=0,cl=(()=>{class F{constructor(P,W,pe,Ne,Lt,rn,dn,xn,Rn,Ci,qn){this._elementRef=P,this._renderer=pe,this._live=dn,this._document=xn,this._ngZone=Rn,this._changeDetector=Ci,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this._positioning=ua(),this.autocomplete="off",this.placement="bottom-start",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Wu++,this._onTouched=()=>{},this._onChange=_i=>{},this.container=Lt.container,this.editable=Lt.editable,this.focusFirst=Lt.focusFirst,this.showHint=Lt.showHint,this.placement=Lt.placement,this._valueChanges=(0,p.R)(P.nativeElement,"input").pipe((0,N.T)(_i=>_i.target.value)),this._resubscribeTypeahead=new v.t(null),this._popupService=new Nu(f1,Ne,W,pe,this._ngZone,qn)}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:P}){P&&!P.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(P){this._onChange=P}registerOnTouched(P){this._onTouched=P}writeValue(P){this._writeInputValue(this._formatItemForInput(P)),this.showHint&&(this._inputValueBackup=P)}setDisabledState(P){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",P)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(P){if(this.isPopupOpen())switch(P.which){case Gn.ArrowDown:P.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Gn.ArrowUp:P.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Gn.Enter:case Gn.Tab:{const W=this._windowRef.instance.getActive();mn(W)&&(P.preventDefault(),P.stopPropagation(),this._selectResult(W)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:P}=this._popupService.open();this._windowRef=P,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(W=>this._selectResultClosePopup(W)),this._windowRef.instance.activeChangeEvent.subscribe(W=>this.activeDescendant=W),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&(this._renderer.setStyle(this._windowRef.location.nativeElement,"z-index","1055"),this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Ru([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),Sn(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(P){let W=!1;this.selectItem.emit({item:P,preventDefault:()=>{W=!0}}),this._resubscribeTypeahead.next(null),W||(this.writeValue(P),this._onChange(P))}_selectResultClosePopup(P){this._selectResult(P),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const P=this._inputValueBackup.toLowerCase(),W=this._formatItemForInput(this._windowRef.instance.getActive());P===W.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+W.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,W.length])):this._writeInputValue(W)}}_formatItemForInput(P){return null!=P&&this.inputFormatter?this.inputFormatter(P):Vr(P)}_writeInputValue(P){this._renderer.setProperty(this._elementRef.nativeElement,"value",Vr(P))}_subscribeToUserInput(){const P=this._valueChanges.pipe((0,K.M)(W=>{this._inputValueBackup=this.showHint?W:null,this._onChange(this.editable?W:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,f.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,k.n)(()=>P)).subscribe(W=>{W&&0!==W.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=W,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const pe=W?W.length:0;this._live.say(0===pe?"No results available":`${pe} result${1===pe?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return F.\u0275fac=function(P){return new(P||F)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(Ug),i.rXU(i.SKi),i.rXU(Jd),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},F.\u0275dir=i.FsC({type:F,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(P,W){1&P&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Ne){return W.handleKeyDown(Ne)}),2&P&&(i.Mr5("autocomplete",W.autocomplete),i.BMQ("aria-autocomplete",W.showHint?"both":"list")("aria-activedescendant",W.activeDescendant)("aria-owns",W.isPopupOpen()?W.popupId:null)("aria-expanded",W.isPopupOpen()),i.AVh("open",W.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:q.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$]}),F})(),ec=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Ds=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();const Kl=[ro,Ui,xo,Ad,Zc,Zl,rl,Bu,Xh,Ds,Vu,qh,Oc,ep,Ka,Xd,Bg,ec];let Pi=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[Kl,ro,Ui,xo,Ad,Zc,Zl,rl,Bu,Xh,Ds,Vu,qh,Oc,ep,Ka,Xd,Bg,ec]}),F})()},1473:(U,b,n)=>{"use strict";n.d(b,{fcY:()=>Jt,DAG:()=>us,P3:()=>an,Fdw:()=>V,WlY:()=>se,eU4:()=>re,W25:()=>yt,fQD:()=>Qe,wnr:()=>Ct,FlA:()=>ce,KMD:()=>ht,PTN:()=>Vn,TwG:()=>ni,CTm:()=>ns,_sU:()=>Fe,A0q:()=>Yn,JVJ:()=>Zt,M7d:()=>Z,eGm:()=>Ht,dku:()=>ke,mEL:()=>K,fHx:()=>te,UqU:()=>be,f4U:()=>X,cYz:()=>G,S6A:()=>k,R7k:()=>ki,HkG:()=>J,iO5:()=>$t,fpj:()=>jn,$eO:()=>Jn,J9r:()=>pi,STK:()=>we,EET:()=>Xr,rA_:()=>mt,Vne:()=>is,X7I:()=>nn,tK_:()=>Ft,z4z:()=>bi,vJF:()=>hn,Zex:()=>ts,AjF:()=>ps,zUr:()=>Si,fXj:()=>Pt,hDs:()=>q,zno:()=>gn,sU3:()=>ee});var i=n(54438),t=n(31635),c=n(84412),e=n(74402),f=n(7673),m=n(57786),y=(n(52165),n(88141)),E=n(96354),v=n(99172),O=n(23294),C=n(39974),I=n(54360),D=n(57908),h=n(5964),S=n(85188),T=n(89417),w=n(60177);function M(It){return"boolean"==typeof It}function L(It){return"function"==typeof It}function N(It){return"number"==typeof It}function j(It){return"object"==typeof It&&null!==It}function $(It){return"string"==typeof It}class k{constructor(en,he){this.layoutService=en,this.validationService=he,this._hasFocus=!1}get control(){const en=this.group.get(this.model.id);if(null===en)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return en}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass(en,he,Je=this.model){const Mt=Je===this.model?this.layout:this.layoutService.findByModel(Je,this.formLayout)??Je.layout;return this.layoutService.getClass(Mt,en,he)}onBlur(en){en instanceof Event&&en.stopPropagation(),this._hasFocus=!1,this.blur.emit(en)}onChange(en){en instanceof Event&&en.stopPropagation(),this.change.emit(en)}onCustomEvent(en,he=null,Je=!1){Je?this.customEvent?.emit(en):$(he)&&this.customEvent?.emit({customEvent:en,customEventType:he})}onFocus(en){en instanceof Event&&en.stopPropagation(),this._hasFocus=!0,this.focus.emit(en)}}class K extends k{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach(en=>en.markForCheck())}}class z extends k{markForCheck(){this.components instanceof i.rOR&&this.components.forEach(en=>en.markForCheck())}}const V=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let G=(()=>{class It{constructor(he){this.DYNAMIC_FORM_CONTROL_MAP_FN=he,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=he}getForms(){return this.forms.values()}registerForm(he){this.forms.push(he)}unregisterForm(he){const Je=this.forms.indexOf(he);-1!==Je&&this.forms.splice(Je,1)}getFormControlRef(he,Je){const Mt=this.formControls[he];return N(Je)?Array.isArray(Mt)?Mt[Je]:void 0:Mt}registerFormControl(he,Je,Mt){if(N(Mt)){const sn=this.formControls[he.id]||[];Array.isArray(sn)?(sn.splice(Mt,0,Je),this.formControls[he.id]=sn):console.warn(`registerFormControlRef is called with index for a non-array form control: ${he.id}`)}else this.formControls[he.id]=Je}unregisterFormControl(he,Je){const Mt=this.formControls[he];N(Je)?Array.isArray(Mt)&&void 0!==Mt[Je]&&Mt.splice(Je,1):void 0!==Mt&&delete this.formControls[he]}getCustomComponentType(he){return L(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(he):null}}return It.\u0275fac=function(he){return new(he||It)(i.KVO(V,8))},It.\u0275prov=i.jDH({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),X=(()=>{class It{constructor(he,Je){this.changeDetectorRef=he,this.componentService=Je}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(he,Je){return Je.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(he=>he.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(he){this.blur?.emit(he)}onChange(he){this.change?.emit(he)}onFocus(he){this.focus?.emit(he)}onCustomEvent(he,Je){Je.emit(he)}}return It.\u0275fac=function(he){return new(he||It)(i.rXU(i.gRc),i.rXU(G))},It.\u0275dir=i.FsC({type:It}),It})();var J=function(It){return It.Blur="blur",It.Change="change",It.Focus="focus",It}(J||{});function q(It){return j(It)&&It.hasOwnProperty("$event")}const ne="SERIALIZABLE";function ee(It){return(en,he)=>{Reflect.defineMetadata(ne,{key:he,name:It||he},en,he)}}function ye(It,en){return function fe(It){const en=[];for(const he in It){const Je=Reflect.getMetadata(ne,It,he);Je&&en.push(Je)}return en}(en||It).reduce((he,Je)=>(he[Je.name]=It[Je.key],he),{})}let oe=(()=>{class It{constructor(he,Je=null){this.parent=null,this.asyncValidators=he.asyncValidators??null,this.errorMessages=he.errorMessages??null,this.hidden=!!M(he.hidden)&&he.hidden,this.id=he.id,this.label=he.label??null,this.labelTooltip=he.labelTooltip??null,this.controlTooltip=he.controlTooltip??null,this.layout=Je,this.name=he.name??he.id,this.relations=Array.isArray(he.relations)?he.relations:[],this.updateOn=$(he.updateOn)?he.updateOn:null,this.validators=he.validators??null,this._disabled=!!M(he.disabled)&&he.disabled,this.disabled$=new c.t(this._disabled),this.disabled$.subscribe(Mt=>this._disabled=Mt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(he){this.disabled$.next(he)}get hasErrorMessages(){return j(this.errorMessages)}toJSON(){return ye(this)}}return(0,t.Cg)([ee()],It.prototype,"asyncValidators",void 0),(0,t.Cg)([ee("disabled")],It.prototype,"_disabled",void 0),(0,t.Cg)([ee()],It.prototype,"errorMessages",void 0),(0,t.Cg)([ee()],It.prototype,"hidden",void 0),(0,t.Cg)([ee()],It.prototype,"id",void 0),(0,t.Cg)([ee()],It.prototype,"label",void 0),(0,t.Cg)([ee()],It.prototype,"labelTooltip",void 0),(0,t.Cg)([ee()],It.prototype,"controlTooltip",void 0),(0,t.Cg)([ee()],It.prototype,"layout",void 0),(0,t.Cg)([ee()],It.prototype,"name",void 0),(0,t.Cg)([ee()],It.prototype,"relations",void 0),(0,t.Cg)([ee()],It.prototype,"updateOn",void 0),(0,t.Cg)([ee()],It.prototype,"validators",void 0),It})(),ue=(()=>{class It extends oe{constructor(he,Je){super(he,Je),this.additional=j(he.additional)?he.additional:null,this.hint=he.hint??null,this.required=!!M(he.required)&&he.required,this.tabIndex=he.tabIndex??null,this._value=he.value??null,this.value$=new c.t(this._value),this.value$.subscribe(Mt=>this._value=Mt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(he){this.value$.next(he)}getAdditional(he,Je){return null!==this.additional&&this.additional.hasOwnProperty(he)?this.additional[he]:Je}}return(0,t.Cg)([ee()],It.prototype,"additional",void 0),(0,t.Cg)([ee()],It.prototype,"hint",void 0),(0,t.Cg)([ee()],It.prototype,"required",void 0),(0,t.Cg)([ee()],It.prototype,"tabIndex",void 0),(0,t.Cg)([ee("value")],It.prototype,"_value",void 0),It})(),te=(()=>{class It{constructor(he,Je=[],Mt=-1){this.$implicit=this,this.context=he,this.group=Je,this.index=Mt}get parent(){return this.context}get(he){return this.group[he]}toJSON(){return ye(this)}}return(0,t.Cg)([ee()],It.prototype,"group",void 0),(0,t.Cg)([ee()],It.prototype,"index",void 0),It})();const se="ARRAY";let be=(()=>{class It extends oe{constructor(he,Je){if(super(he,Je),this.groups=[],this.type=se,!L(he.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=he.groupFactory,this.groupAsyncValidators=he.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=he.groupValidators??null,this.initialCount=N(he.initialCount)?he.initialCount:1,Array.isArray(he.groups))he.groups.forEach((Mt,sn)=>{this.groups.push(new te(this,Mt.group,Mt.index??sn))});else for(let Mt=0;Mt<this.initialCount;Mt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((he,Je)=>he.index=Je)}get size(){return this.groups.length}get(he){return this.groups[he]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(he){const Je=new te(this,this.groupFactory());return this.groups.splice(he,0,Je),this.updateGroupIndex(),Je}moveGroup(he,Je){this.groups.splice(he+Je,0,...this.groups.splice(he,1)),this.updateGroupIndex()}removeGroup(he){this.groups.splice(he,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([ee()],It.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([ee()],It.prototype,"groupValidators",void 0),(0,t.Cg)([ee()],It.prototype,"groups",void 0),(0,t.Cg)([ee()],It.prototype,"initialCount",void 0),(0,t.Cg)([ee()],It.prototype,"groupPrototype",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),me=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.labelPosition=he.labelPosition??null,this.checked=!!M(this.value)&&this.value}get checked(){return this.value??!1}set checked(he){this.value=he}toggle(){this.checked=!this.checked}}return(0,t.Cg)([ee()],It.prototype,"labelPosition",void 0),It})();const re="CHECKBOX";let Z=(()=>{class It extends me{constructor(he,Je){super(he,Je),this.type=re,this.indeterminate=!!M(he.indeterminate)&&he.indeterminate}}return(0,t.Cg)([ee()],It.prototype,"indeterminate",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),le=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.autoComplete=he.autoComplete??"on",this.autoFocus=!!M(he.autoFocus)&&he.autoFocus,this.maxLength=N(he.maxLength)?he.maxLength:null,this.minLength=N(he.minLength)?he.minLength:null,this.placeholder=he.placeholder??"",this.prefix=he.prefix??null,this.readOnly=!!M(he.readOnly)&&he.readOnly,this.spellCheck=!!M(he.spellCheck)&&he.spellCheck,this.suffix=he.suffix??null}}return(0,t.Cg)([ee()],It.prototype,"autoComplete",void 0),(0,t.Cg)([ee()],It.prototype,"autoFocus",void 0),(0,t.Cg)([ee()],It.prototype,"maxLength",void 0),(0,t.Cg)([ee()],It.prototype,"minLength",void 0),(0,t.Cg)([ee()],It.prototype,"placeholder",void 0),(0,t.Cg)([ee()],It.prototype,"prefix",void 0),(0,t.Cg)([ee()],It.prototype,"readOnly",void 0),(0,t.Cg)([ee()],It.prototype,"spellCheck",void 0),(0,t.Cg)([ee()],It.prototype,"suffix",void 0),It})();const ce="INPUT";let mt=(()=>{class It extends le{constructor(he,Je){super(he,Je),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=ce,this.accept=he.accept??null,this.inputType=he.inputType??"text",this.mask=he.mask??"",this.maskConfig=he.maskConfig?{...S.Dz,...he.maskConfig}:S.Dz,this.max=void 0!==he.max?he.max:null,this.min=void 0!==he.min?he.min:null,this.multiple=M(he.multiple)?he.multiple:null,this.pattern=he.pattern??null,this.step=N(he.step)?he.step:null,void 0!==he.list&&(this.list=he.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(he){Array.isArray(he)?(this._list=he,this.list$=(0,f.of)(this._list)):(0,e.A)(he)?this.list$=he.pipe((0,y.M)(Je=>this._list=Je)):(this._list=null,this.list$=null)}}return(0,t.Cg)([ee()],It.prototype,"accept",void 0),(0,t.Cg)([ee()],It.prototype,"inputType",void 0),(0,t.Cg)([ee()],It.prototype,"mask",void 0),(0,t.Cg)([ee()],It.prototype,"maskConfig",void 0),(0,t.Cg)([ee()],It.prototype,"max",void 0),(0,t.Cg)([ee()],It.prototype,"min",void 0),(0,t.Cg)([ee()],It.prototype,"multiple",void 0),(0,t.Cg)([ee()],It.prototype,"pattern",void 0),(0,t.Cg)([ee()],It.prototype,"step",void 0),(0,t.Cg)([ee("list")],It.prototype,"_list",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();var vn=function(It){return It.Start="START",It.End="END",It}(vn||{});let hn=(()=>{class It{constructor(he){this.templateRef=he,this.align=vn.End,this.as=null}}return It.\u0275fac=function(he){return new(he||It)(i.rXU(i.C4Q))},It.\u0275dir=i.FsC({type:It,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),It})(),jn=(()=>{class It{findById(he,Je){if(j(Je))for(const Mt of Object.keys(Je))if(Mt===he)return Je[Mt];return null}findByModel(he,Je){let Mt=null;if(j(Je))for(const sn of Object.keys(Je))sn.split(",").forEach(Bn=>{const xe=Bn.trim();(xe===he.id||xe===he.type)&&(Mt=Je[sn])});return Mt}filterTemplatesByModel(he,Je){return Je instanceof i.rOR||Array.isArray(Je)?Je.filter(sn=>sn.modelId===he.id||sn.modelType===he.type):[]}getAlignedTemplate(he,Je,Mt){return this.filterTemplatesByModel(he,Je).find(sn=>null===sn.as&&sn.align===Mt)}getStartTemplate(he,Je){return this.getAlignedTemplate(he,Je,vn.Start)}getEndTemplate(he,Je){return this.getAlignedTemplate(he,Je,vn.End)}getClass(he,Je,Mt){if(j(he)&&he.hasOwnProperty(Je)){const sn=he[Je];if(sn.hasOwnProperty(Mt))return sn[Mt]}return""}getHostClass(he){let Mt="";return j(he)&&["element","grid"].forEach(sn=>{j(he[sn])&&$(he[sn]?.host)&&(Mt+=` ${he[sn]?.host}`)}),Mt}getElementId(he){let Je=he.id,Mt=he.parent;for(;null!==Mt;){if(Mt instanceof te){Je=`${Mt.context.id}-${Mt.index}-${he.id}`;break}Mt=Mt.parent}return Je}}return It.\u0275fac=function(he){return new(he||It)},It.\u0275prov=i.jDH({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();var bt=function(It){return It.Blur="blur",It.Change="change",It.Submit="submit",It}(bt||{});const St=new i.nKC("DYNAMIC_VALIDATORS"),an=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let we=(()=>{class It{constructor(he,Je,Mt,sn){this._NG_VALIDATORS=he,this._NG_ASYNC_VALIDATORS=Je,this._DYNAMIC_VALIDATORS=Mt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=sn}getValidatorFn(he,Je=null,Mt=this._NG_VALIDATORS){let sn;if(T.k0.hasOwnProperty(he)?sn=T.k0[he]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(he)?sn=this._DYNAMIC_VALIDATORS.get(he):Mt&&(sn=Mt.find(Bn=>Bn.name===he)),void 0===sn)throw new Error(`validator "${he}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==Je?sn(Je):sn}getValidatorFns(he,Je=this._NG_VALIDATORS){let Mt=[];return j(he)&&(Mt=Object.keys(he).map(sn=>{const Bn=he[sn];return this.isValidatorDescriptor(Bn)?this.getValidatorFn(Bn.name,Bn.args,Je):this.getValidatorFn(sn,Bn,Je)})),Mt}getValidator(he,Je=null){return this.getValidatorFn(he,Je)}getAsyncValidator(he,Je=null){return this.getValidatorFn(he,Je,this._NG_ASYNC_VALIDATORS)}getValidators(he){return this.getValidatorFns(he)}getAsyncValidators(he){return this.getValidatorFns(he,this._NG_ASYNC_VALIDATORS)}updateValidators(he,Je,Mt){Mt.validators=he,null===he?Je.clearValidators():Je.setValidators(this.getValidators(he)),Je.updateValueAndValidity()}updateAsyncValidators(he,Je,Mt){Mt.asyncValidators=he,null===he?Je.clearAsyncValidators():Je.setAsyncValidators(this.getAsyncValidators(he)),Je.updateValueAndValidity()}showErrorMessages(he,Je,Mt){const sn=he.invalid&&Je.hasErrorMessages,Bn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(he,Je,Mt):((It,en,he)=>It.touched&&!he)(he,0,Mt);return sn&&Bn}parseErrorMessageConfig(he,Je,Mt=null){return he.replace(/{{\s*(.+?)\s*}}/gm,(sn,Bn)=>{let xe=Je,Ve=Bn;return Bn.indexOf("validator.")>=0&&Mt&&(xe=Mt,Ve=Bn.replace("validator.","")),null!=xe[Ve]?xe[Ve]:null})}createErrorMessages(he,Je){const Mt=[];if(Je.hasErrorMessages){const sn=Je.errorMessages;Object.keys(he.errors||{}).forEach(Bn=>{let xe=Bn;if(("minlength"===Bn||"maxlength"===Bn)&&(xe=xe.replace("length","Length")),sn.hasOwnProperty(xe)){const Ve=he.getError(Bn);Mt.push(this.parseErrorMessageConfig(sn[xe],Je,Ve))}})}return Mt}isFormHook(he){return $(he)&&Object.values(bt).includes(he)}isValidatorDescriptor(he){return!!j(he)&&he.hasOwnProperty("name")&&he.hasOwnProperty("args")}}return It.\u0275fac=function(he){return new(he||It)(i.KVO(T.cz,8),i.KVO(T.pg,8),i.KVO(St,8),i.KVO(an,8))},It.\u0275prov=i.jDH({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();const Ct="GROUP";let $t=(()=>{class It extends oe{constructor(he,Je){super(he,Je),this.type=Ct,this.group=Array.isArray(he.group)?he.group:[],this.legend=he.legend??null}get(he){return this.group[he]}set(he,Je){this.group[he]=Je}add(he){this.group.push(he)}insert(he,Je){this.group.splice(he,0,Je)}move(he,Je){this.group.splice(he+Je,0,...this.group.splice(he,1))}remove(he){this.group.splice(he,1)}size(){return this.group.length}}return(0,t.Cg)([ee()],It.prototype,"group",void 0),(0,t.Cg)([ee()],It.prototype,"legend",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();const yt="CHECKBOX_GROUP";let Zt=(()=>{class It extends $t{constructor(he,Je){super(he,Je),this.type=yt}check(...he){he.forEach(Je=>this.group[Je].checked=!0)}uncheck(...he){he.forEach(Je=>this.group[Je].checked=!1)}checkAll(){this.group.forEach(he=>he.checked=!0)}uncheckAll(){this.group.forEach(he=>he.checked=!1)}}return(0,t.Cg)([ee()],It.prototype,"group",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();const on="COLORPICKER";let Yt=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.type=on,this.format=$(he.format)?he.format:null,this.inline=!!M(he.inline)&&he.inline}}return(0,t.Cg)([ee()],It.prototype,"format",void 0),(0,t.Cg)([ee()],It.prototype,"inline",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),Ht=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.format=he.format??null,this.max=he.max??null,this.min=he.min??null,this.placeholder=he.placeholder??null}}return(0,t.Cg)([ee()],It.prototype,"format",void 0),(0,t.Cg)([ee()],It.prototype,"max",void 0),(0,t.Cg)([ee()],It.prototype,"min",void 0),(0,t.Cg)([ee()],It.prototype,"placeholder",void 0),It})();const Qe="DATEPICKER";let ke=(()=>{class It extends Ht{constructor(he,Je){super(he,Je),this.type=Qe,this.autoFocus=!!M(he.autoFocus)&&he.autoFocus,this.focusedDate=he.focusedDate??null,this.inline=!!M(he.inline)&&he.inline,this.prefix=he.prefix??null,this.readOnly=!!M(he.readOnly)&&he.readOnly,this.toggleIcon=$(he.toggleIcon)?he.toggleIcon:null,this.toggleLabel=$(he.toggleLabel)?he.toggleLabel:null,this.suffix=he.suffix??null}}return(0,t.Cg)([ee()],It.prototype,"autoFocus",void 0),(0,t.Cg)([ee()],It.prototype,"focusedDate",void 0),(0,t.Cg)([ee()],It.prototype,"inline",void 0),(0,t.Cg)([ee()],It.prototype,"prefix",void 0),(0,t.Cg)([ee()],It.prototype,"readOnly",void 0),(0,t.Cg)([ee()],It.prototype,"suffix",void 0),(0,t.Cg)([ee()],It.prototype,"toggleIcon",void 0),(0,t.Cg)([ee()],It.prototype,"toggleLabel",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),Xe=(()=>{class It extends le{constructor(he,Je){super(he,Je),this.type="EDITOR"}}return(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),ct=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.multiple=!!M(he.multiple)&&he.multiple}}return(0,t.Cg)([ee()],It.prototype,"multiple",void 0),It})();const Wt="FILE_UPLOAD";let fn=(()=>{class It extends ct{constructor(he,Je){super(he,Je),this.type=Wt,this.accept=Array.isArray(he.accept)?he.accept:null,this.autoUpload=!M(he.autoUpload)||he.autoUpload,this.maxSize=N(he.maxSize)?he.maxSize:null,this.minSize=N(he.minSize)?he.minSize:null,this.removeUrl=he.removeUrl??null,this.showFileList=!M(he.showFileList)||he.showFileList,this.url=he.url??null}}return(0,t.Cg)([ee()],It.prototype,"accept",void 0),(0,t.Cg)([ee()],It.prototype,"autoUpload",void 0),(0,t.Cg)([ee()],It.prototype,"maxSize",void 0),(0,t.Cg)([ee()],It.prototype,"minSize",void 0),(0,t.Cg)([ee()],It.prototype,"removeUrl",void 0),(0,t.Cg)([ee()],It.prototype,"showFileList",void 0),(0,t.Cg)([ee()],It.prototype,"url",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),xt=(()=>{class It{constructor(he){this.disabled=!!M(he.disabled)&&he.disabled,this.label=he.label??null,this.value=he.value}get text(){return this.label}set text(he){this.label=he}toJSON(){return ye(this)}}return(0,t.Cg)([ee()],It.prototype,"disabled",void 0),(0,t.Cg)([ee()],It.prototype,"label",void 0),(0,t.Cg)([ee()],It.prototype,"value",void 0),It})(),nn=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this._options=[],this.options=he.options}updateOptions$(){this.options$=(0,f.of)(this.options)}set options(he){Array.isArray(he)?(this._options=he.map(Je=>new xt(Je)),this.updateOptions$()):(0,e.A)(he)?this.options$=he.pipe((0,E.T)(Je=>(this._options=Je.map(Mt=>new xt(Mt)),this._options))):this.updateOptions$()}get options(){return this._options}add(he){return this.insert(this.options.length,he)}get(he){return this.options[he]}insert(he,Je){const Mt=new xt(Je);return this.options.splice(he,0,Mt),this.updateOptions$(),Mt}remove(...he){he.forEach(Je=>this.options.splice(Je,1)),this.updateOptions$()}}return(0,t.Cg)([ee("options")],It.prototype,"_options",void 0),It})();const ht="RADIO_GROUP";let Ft=(()=>{class It extends nn{constructor(he,Je){super(he,Je),this.type=ht,this.legend=he.legend??null}select(he){this.value=this.get(he).value}}return(0,t.Cg)([ee()],It.prototype,"legend",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),On=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.type="RATING",this.max=N(he.max)?he.max:10}}return(0,t.Cg)([ee()],It.prototype,"max",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();const Vn="SELECT";let bi=(()=>{class It extends nn{constructor(he,Je){super(he,Je),this.type=Vn,this.compareWithFn=L(he.compareWithFn)?he.compareWithFn:Object.is,this.filterable=!!M(he.filterable)&&he.filterable,this.multiple=!!M(he.multiple)&&he.multiple,this.placeholder=he.placeholder??"",this.prefix=he.prefix??null,this.suffix=he.suffix??null}select(...he){this.value=this.multiple?he.map(Je=>this.get(Je).value):this.get(he[0]).value}}return(0,t.Cg)([ee()],It.prototype,"filterable",void 0),(0,t.Cg)([ee()],It.prototype,"multiple",void 0),(0,t.Cg)([ee()],It.prototype,"placeholder",void 0),(0,t.Cg)([ee()],It.prototype,"prefix",void 0),(0,t.Cg)([ee()],It.prototype,"suffix",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),vt=(()=>{class It extends ue{constructor(he,Je){super(he,Je),this.type="SLIDER",this.max=N(he.max)?he.max:10,this.min=N(he.min)?he.min:0,this.step=N(he.step)?he.step:1,this.vertical=!!M(he.vertical)&&he.vertical}}return(0,t.Cg)([ee()],It.prototype,"max",void 0),(0,t.Cg)([ee()],It.prototype,"min",void 0),(0,t.Cg)([ee()],It.prototype,"step",void 0),(0,t.Cg)([ee()],It.prototype,"vertical",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})(),Dn=(()=>{class It extends me{constructor(he,Je){super(he,Je),this.type="SWITCH",this.offLabel=he.offLabel??null,this.onLabel=he.onLabel??null}}return(0,t.Cg)([ee()],It.prototype,"offLabel",void 0),(0,t.Cg)([ee()],It.prototype,"onLabel",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();const ni="TEXTAREA";let ts=(()=>{class It extends le{constructor(he,Je){super(he,Je),this.type=ni,this.cols=N(he.cols)?he.cols:20,this.rows=N(he.rows)?he.rows:2,this.wrap=he.wrap??"soft"}}return(0,t.Cg)([ee()],It.prototype,"cols",void 0),(0,t.Cg)([ee()],It.prototype,"rows",void 0),(0,t.Cg)([ee()],It.prototype,"wrap",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();const ns="TIMEPICKER";let si=(()=>{class It extends Ht{constructor(he,Je){super(he,Je),this.type=ns,this.meridian=!!M(he.meridian)&&he.meridian,this.showSeconds=!!M(he.showSeconds)&&he.showSeconds}}return(0,t.Cg)([ee()],It.prototype,"meridian",void 0),(0,t.Cg)([ee()],It.prototype,"showSeconds",void 0),(0,t.Cg)([ee()],It.prototype,"type",void 0),It})();function gn(It,en){return $(en)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(en)?new Date(en):en}let pi=(()=>{class It{constructor(he,Je){this.componentService=he,this.validationService=Je}createAbstractControlOptions(he=null,Je=null,Mt=null){return{asyncValidators:null!==Je?this.validationService.getAsyncValidators(Je):null,validators:null!==he?this.validationService.getValidators(he):null,updateOn:null!==Mt&&this.validationService.isFormHook(Mt)?Mt:bt.Change}}createFormArray(he){const Je=[],Mt=this.createAbstractControlOptions(he.validators,he.asyncValidators,he.updateOn);for(let sn=0;sn<he.size;sn++){const Bn=he.get(sn),xe=this.createAbstractControlOptions(he.groupValidators,he.groupAsyncValidators,he.updateOn);Je.push(this.createFormGroup(Bn.group,xe,Bn))}return new T.Bm(Je,Mt)}createFormGroup(he,Je=null,Mt=null){const sn={};return he.forEach(Bn=>{switch(Bn.parent=Mt,Bn.type){case se:sn[Bn.id]=this.createFormArray(Bn);break;case Ct:case yt:const xe=Bn,Ve=this.createAbstractControlOptions(xe.validators,xe.asyncValidators,xe.updateOn);sn[Bn.id]=this.createFormGroup(xe.group,Ve,xe);break;default:const dt={value:Bn.value,disabled:Bn.disabled},Xt=this.createAbstractControlOptions(Bn.validators,Bn.asyncValidators,Bn.updateOn);sn[Bn.id]=new T.hs(dt,Xt)}}),new T.J3(sn,Je)}getPathSegment(he){return he instanceof te?he.index.toString():he.id}getPath(he,Je=!1){const Mt=[this.getPathSegment(he)];let sn=he.parent;for(;sn;)Mt.unshift(this.getPathSegment(sn)),sn=sn.parent;return Je?Mt.join("."):Mt}addFormGroupControl(he,Je,...Mt){Je instanceof $t?this.insertFormGroupControl(Je.size(),he,Je,...Mt):this.insertFormGroupControl(Je.length,he,Je,...Mt)}moveFormGroupControl(he,Je,Mt){Mt instanceof $t?Mt.move(he,Je):Mt.splice(he+Je,0,...Mt.splice(he,1))}insertFormGroupControl(he,Je,Mt,...sn){const xe=this.createFormGroup(sn,null,Mt instanceof $t?Mt:null).controls;Object.keys(xe).forEach((Ve,Oe)=>{const dt=sn[Oe];Mt instanceof $t?Mt.insert(he,dt):Mt.splice(he,0,dt),Je.addControl(Ve,xe[Ve])})}removeFormGroupControl(he,Je,Mt){Mt instanceof $t?(Je.removeControl(Mt.get(he).id),Mt.remove(he)):(Je.removeControl(Mt[he].id),Mt.splice(he,1))}addFormArrayGroup(he,Je){const Mt=Je.addGroup();he.push(this.createFormGroup(Mt.group,null,Mt))}insertFormArrayGroup(he,Je,Mt){const sn=Mt.insertGroup(he);Je.insert(he,this.createFormGroup(sn.group,null,sn))}moveFormArrayGroup(he,Je,Mt,sn){const Bn=he+Je,xe=Je>=0;if(!(he>=0&&he<sn.size&&Bn>=0&&Bn<sn.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const Ve=[];for(let Oe=xe?he:Bn;Oe<=(xe?Bn:he);Oe++)Ve.push(Mt.at(Oe));Ve.forEach((Oe,dt)=>{let Xt;Xt=xe?0===dt?Bn:he+dt-1:dt===Ve.length-1?Bn:Bn+dt+1,Mt.setControl(Xt,Oe)}),sn.moveGroup(he,Je)}}removeFormArrayGroup(he,Je,Mt){Je.removeAt(he),Mt.removeGroup(he)}clearFormArray(he,Je){he.clear(),Je.clear()}findById(he,Je){const Mt=(Bn,xe)=>{for(const Ve of xe){if(Ve.id===Bn){sn=Ve;break}Ve instanceof $t&&Mt(Bn,Ve.group)}};let sn=null;return Mt(he,Je),sn}findModelById(he,Je){return this.findById(he,Je)}findControlByModel(he,Je){return Je.root.get(this.getPath(he,!0))}detectChanges(he){if(he instanceof X)he.markForCheck(),he.detectChanges();else for(const Je of this.componentService.getForms())Je.markForCheck(),Je.detectChanges()}fromJSON(he){const Je=$(he)?JSON.parse(he,gn):he,Mt=[];return Je.forEach(sn=>{const Bn=sn.layout??null;switch(sn.type){case se:const xe=sn;Array.isArray(xe.groups)&&xe.groups.forEach(Ve=>{Ve.group=this.fromJSON(Ve.group)}),xe.groupFactory=()=>this.fromJSON(xe.groupPrototype),Mt.push(new be(sn,Bn));break;case re:Mt.push(new Z(sn,Bn));break;case yt:sn.group=this.fromJSON(sn.group),Mt.push(new Zt(sn,Bn));break;case on:Mt.push(new Yt(sn,Bn));break;case Qe:Mt.push(new ke(sn,Bn));break;case"EDITOR":Mt.push(new Xe(sn,Bn));break;case Wt:sn.value=null,Mt.push(new fn(sn,Bn));break;case Ct:sn.group=this.fromJSON(sn.group),Mt.push(new $t(sn,Bn));break;case ce:Mt.push(new mt(sn,Bn));break;case ht:Mt.push(new Ft(sn,Bn));break;case"RATING":Mt.push(new On(sn,Bn));break;case Vn:Mt.push(new bi(sn,Bn));break;case"SLIDER":Mt.push(new vt(sn,Bn));break;case"SWITCH":Mt.push(new Dn(sn,Bn));break;case ni:Mt.push(new ts(sn,Bn));break;case ns:Mt.push(new si(sn,Bn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${sn.id}"`)}}),Mt}}return It.\u0275fac=function(he){return new(he||It)(i.KVO(G),i.KVO(we))},It.\u0275prov=i.jDH({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();const ps="ENABLED",Si="VISIBLE",Jt="AND",Pt="OR",Fe=new i.nKC("DYNAMIC_MATCHERS"),Yn=[{provide:Fe,useValue:{match:"DISABLED",opposingMatch:ps,onChange(It,en){en.disabled=It}},multi:!0},{provide:Fe,useValue:{match:"HIDDEN",opposingMatch:Si,onChange(It,en){en.hidden=It}},multi:!0},{provide:Fe,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(It,en,he,Je){let Mt=null;It?Mt=j(en.validators)?{...en.validators,required:null}:{required:null}:j(en.validators)&&(delete en.validators.required,Mt={...en.validators}),Je.get(we).updateValidators(Mt,he,en),Je.get(pi).detectChanges()}},multi:!0}];let Jn=(()=>{class It{constructor(he,Je){this.MATCHERS=he,this.injector=Je}getRelatedFormControls(he,Je){const Mt=(Bn,xe)=>{const Ve=xe.rootPath??xe.id;if($(Ve)&&!Bn.hasOwnProperty(Ve)){const Oe=xe.rootPath?Je.root.get(xe.rootPath):Je.get(xe.id);Oe instanceof T.hs?Bn[Ve]=Oe:console.warn(`No related form control with id ${xe.id} could be found`)}return Bn};return he.relations.reduce((Bn,xe)=>xe.when.reduce(Mt,Bn),{})}findRelationByMatcher(he,Je){return he.find(Mt=>[Je.match,Je.opposingMatch].includes(Mt.match))}matchesCondition(he,Je,Mt){const sn=he.operator??Pt;return he.when.reduce((Bn,xe,Ve)=>{const Oe=xe.rootPath??xe.id;let dt;for(const[Xt,mi]of Object.entries(Je))if(Xt===Oe){dt=mi;break}return dt&&he.match===Mt.match?!(Ve>0&&sn===Jt&&!Bn||!(Ve>0&&sn===Pt&&Bn)&&xe.value!==dt.value&&xe.status!==dt.status):!(!dt||he.match!==Mt.opposingMatch||!(Ve>0&&sn===Jt&&Bn)&&(Ve>0&&sn===Pt&&!Bn||xe.value===dt.value||xe.status===dt.status))},!1)}subscribeRelations(he,Je,Mt){const sn=this.getRelatedFormControls(he,Je),Bn=[];return Object.values(sn).forEach(xe=>{const Ve=xe.valueChanges.pipe((0,v.Z)(xe.value),(0,O.F)()),Oe=xe.statusChanges.pipe((0,v.Z)(xe.status),(0,O.F)());Bn.push((0,m.h)(Ve,Oe).subscribe(()=>{this.MATCHERS.forEach(dt=>{const Xt=this.findRelationByMatcher(he.relations,dt);if(void 0!==Xt){const mi=this.matchesCondition(Xt,sn,dt);dt.onChange(mi,he,Mt,this.injector)}})}))}),Bn}}return It.\u0275fac=function(he){return new(he||It)(i.KVO(Fe,8),i.KVO(i.zZn))},It.\u0275prov=i.jDH({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),ki=(()=>{class It{constructor(he,Je,Mt,sn,Bn,xe){this.changeDetectorRef=he,this.componentFactoryResolver=Je,this.layoutService=Mt,this.validationService=sn,this.componentService=Bn,this.relationService=xe,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(he){const Je=he.group,sn=he.model;(he.layout||sn)&&this.onLayoutOrModelChange(),sn&&this.onModelChange(),(Je||sn)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function R(It,en=null){return en=en??It,(0,C.N)((he,Je)=>{let Mt=[],sn=0;he.subscribe((0,I._)(Je,Bn=>{let xe=null;sn++%en==0&&Mt.push([]);for(const Ve of Mt)Ve.push(Bn),It<=Ve.length&&(xe=xe??[],xe.push(Ve));if(xe)for(const Ve of xe)(0,D.o)(Mt,Ve),Je.next(Ve)},()=>{for(const Bn of Mt)Je.next(Bn);Je.complete()},void 0,()=>{Mt=null}))})}(2,1),(0,E.T)(he=>he[0]),(0,h.p)(he=>"PENDING"===he)).subscribe(he=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return $(this.model.label)}get hasHint(){return $(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===re}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==se?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==se?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(he,Je){return this.layoutService.getClass(this.controlLayout,he,Je)}markForCheck(){this.changeDetectorRef.markForCheck();const he=this.componentRef&&this.componentRef.instance;he&&(he instanceof z||he instanceof K)&&he.markForCheck()}createFormControlComponent(){const he=this.componentType;if(null!==he){const Je=this.componentFactoryResolver.resolveComponentFactory(he);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(Je);const Mt=this.componentRef.instance;Mt.formLayout=this.layout,Mt.group=this.group,Mt.layout=this.controlLayout,Mt.model=this.model,this.templates&&(Mt.templates=this.templates),this.componentSubscriptions.push(Mt.blur.subscribe(sn=>this.onBlur(sn))),this.componentSubscriptions.push(Mt.change.subscribe(sn=>this.onChange(sn))),this.componentSubscriptions.push(Mt.focus.subscribe(sn=>this.onFocus(sn))),void 0!==Mt.customEvent&&this.componentSubscriptions.push(Mt.customEvent.subscribe(sn=>this.onCustomEvent(sn))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(he=>he.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(he,Je){return{$event:he,context:this.context,control:this.control,group:this.group,model:this.model,type:Je}}unsubscribe(){this.subscriptions.forEach(he=>he.unsubscribe()),this.subscriptions=[]}onControlValueChanges(he){this.model instanceof ue&&this.model.value!==he&&(this.model.value=he)}onModelValueUpdates(he){this.control.value!==he&&this.control.setValue(he)}onModelDisabledUpdates(he){he?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(he=>this.onControlValueChanges(he)))),this.subscriptions.push(this.model.disabledChanges.subscribe(he=>this.onModelDisabledUpdates(he))),this.model instanceof ue&&this.subscriptions.push(this.model.valueChanges.subscribe(Je=>this.onModelValueUpdates(Je))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(he){if(he instanceof Event){if(this.model.type===ce){const Je=this.model;"file"===Je.inputType&&(Je.files=he.target.files)}this.change.emit(this.createDynamicFormControlEvent(he,J.Change))}else q(he)?this.change.emit(he):this.change.emit(this.createDynamicFormControlEvent(he,J.Change))}onBlur(he){q(he)?this.blur.emit(he):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(he,J.Blur)))}onFocus(he){q(he)?this.focus.emit(he):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(he,J.Focus)))}onCustomEvent(he){const Je=this.customEvent;q(he)?Je.emit(he):Je.emit(this.createDynamicFormControlEvent(he.customEvent,he.customEventType))}registerFormControlComponentRef(he){this.context instanceof te?this.componentService.registerFormControl(this.model,he,this.context.index):this.componentService.registerFormControl(this.model,he)}unregisterFormControlComponentRef(){this.context instanceof te?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return It.\u0275fac=function(he){return new(he||It)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(jn),i.rXU(we),i.rXU(G),i.rXU(Jn))},It.\u0275dir=i.FsC({type:It,features:[i.OA$]}),It})(),is=(()=>{class It{constructor(he,Je){this.elementRef=he,this.renderer=Je}ngAfterViewInit(){$(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return It.\u0275fac=function(he){return new(he||It)(i.rXU(i.aKT),i.rXU(i.sFG))},It.\u0275dir=i.FsC({type:It,selectors:[["","dynamicList",""]],inputs:{listId:[0,"dynamicList","listId"]}}),It})();const us="off";let Xr=(()=>{class It{static forRoot(){return{ngModule:It,providers:[pi,jn,we,G,Jn]}}}return It.\u0275fac=function(he){return new(he||It)},It.\u0275mod=i.$C({type:It}),It.\u0275inj=i.G2t({imports:[w.MD,T.X1]}),It})()},20766:(U,b,n)=>{"use strict";n.d(b,{C_:()=>R,hO:()=>X,hr:()=>p,jr:()=>$});var i=n(59640),t=n(54438),c=n(7901),e=n(53993);const f="@ngrx/router-store/request",p=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/navigation"),E=((0,i.VP)(p,(0,i.xk)()),"@ngrx/router-store/cancel"),O=((0,i.VP)(E,(0,i.xk)()),"@ngrx/router-store/error"),I=((0,i.VP)(O,(0,i.xk)()),"@ngrx/router-store/navigated");function R(ne,ee){const fe=ee;switch(fe.type){case p:case O:case E:return{state:fe.payload.routerState,navigationId:fe.payload.event.id};default:return ne}}(0,i.VP)(I,(0,i.xk)());class h{serialize(ee){return{root:this.serializeRoute(ee.root),url:ee.url}}serializeRoute(ee){const fe=ee.children.map(ye=>this.serializeRoute(ye));return{params:ee.params,data:ee.data,url:ee.url,outlet:ee.outlet,title:ee.title,routeConfig:ee.routeConfig?{path:ee.routeConfig.path,pathMatch:ee.routeConfig.pathMatch,redirectTo:ee.routeConfig.redirectTo,outlet:ee.routeConfig.outlet,title:"string"==typeof ee.routeConfig.title?ee.routeConfig.title:void 0}:null,queryParams:ee.queryParams,fragment:ee.fragment,firstChild:fe[0],children:fe}}}var S=function(ne){return ne[ne.PreActivation=1]="PreActivation",ne[ne.PostActivation=2]="PostActivation",ne}(S||{});const T="router",w=new t.nKC("@ngrx/router-store Internal Configuration"),M=new t.nKC("@ngrx/router-store Configuration");var L=function(ne){return ne[ne.Full=0]="Full",ne[ne.Minimal=1]="Minimal",ne}(L||{});function N(ne){return{stateKey:T,serializer:h,navigationActionTiming:S.PreActivation,...ne}}class j{serialize(ee){return{root:this.serializeRoute(ee.root),url:ee.url}}serializeRoute(ee){const fe=ee.children.map(ye=>this.serializeRoute(ye));return{params:ee.params,paramMap:ee.paramMap,data:ee.data,url:ee.url,outlet:ee.outlet,title:ee.title,routeConfig:ee.routeConfig?{component:ee.routeConfig.component,path:ee.routeConfig.path,pathMatch:ee.routeConfig.pathMatch,redirectTo:ee.routeConfig.redirectTo,outlet:ee.routeConfig.outlet,title:ee.routeConfig.title}:null,queryParams:ee.queryParams,queryParamMap:ee.queryParamMap,fragment:ee.fragment,component:ee.routeConfig?ee.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:fe[0],pathFromRoot:void 0,children:fe}}}class ${}var k=function(ne){return ne[ne.NONE=1]="NONE",ne[ne.ROUTER=2]="ROUTER",ne[ne.STORE=3]="STORE",ne}(k||{});let K=(()=>{class ne{constructor(fe,ye,oe,ue,te,se){this.store=fe,this.router=ye,this.serializer=oe,this.errorHandler=ue,this.config=te,this.activeRuntimeChecks=se,this.lastEvent=null,this.routerState=null,this.trigger=k.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(se?.strictActionSerializability||se?.strictStateSerializability)&&this.serializer instanceof j&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([fe,ye])=>{this.navigateIfNeeded(fe,ye)})}navigateIfNeeded(fe,ye){if(!fe||!fe.state||this.trigger===k.ROUTER||this.lastEvent instanceof c.Z)return;const oe=fe.state.url;(function z(ne,ee){return V(ne)===V(ee)})(this.router.url,oe)||(this.storeState=ye,this.trigger=k.STORE,this.router.navigateByUrl(oe).catch(ue=>{this.errorHandler.handleError(ue)}))}setUpRouterEventsListener(){const fe=this.config.navigationActionTiming===S.PostActivation;let ye;this.router.events.pipe((0,e.E)(this.store)).subscribe(([oe,ue])=>{this.lastEvent=oe,oe instanceof c.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==k.STORE&&(this.storeState=ue,this.dispatchRouterRequest(oe))):oe instanceof c.ld?(ye=oe,!fe&&this.trigger!==k.STORE&&this.dispatchRouterNavigation(oe)):oe instanceof c.j5?(this.dispatchRouterCancel(oe),this.reset()):oe instanceof c.L6?(this.dispatchRouterError(oe),this.reset()):oe instanceof c.wF&&(this.trigger!==k.STORE&&(fe&&this.dispatchRouterNavigation(ye),this.dispatchRouterNavigated(oe)),this.reset())})}dispatchRouterRequest(fe){this.dispatchRouterAction(f,{event:fe})}dispatchRouterNavigation(fe){const ye=this.serializer.serialize(fe.state);this.dispatchRouterAction(p,{routerState:ye,event:new c.ld(fe.id,fe.url,fe.urlAfterRedirects,ye)})}dispatchRouterCancel(fe){this.dispatchRouterAction(E,{storeState:this.storeState,event:fe})}dispatchRouterError(fe){this.dispatchRouterAction(O,{storeState:this.storeState,event:new c.L6(fe.id,fe.url,`${fe}`)})}dispatchRouterNavigated(fe){const ye=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(I,{event:fe,routerState:ye})}dispatchRouterAction(fe,ye){this.trigger=k.ROUTER;try{this.store.dispatch({type:fe,payload:{routerState:this.routerState,...ye,event:this.config.routerState===L.Full?ye.event:{id:ye.event.id,url:ye.event.url,urlAfterRedirects:ye.event.urlAfterRedirects}}})}finally{this.trigger=k.NONE}}reset(){this.trigger=k.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(ye){return new(ye||ne)(t.KVO(i.il),t.KVO(c.Ix),t.KVO($),t.KVO(t.zcH),t.KVO(M),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();function V(ne){return ne?.length>0&&"/"===ne[ne.length-1]?ne.substring(0,ne.length-1):ne}function G(ne={}){return(0,t.EmA)([{provide:w,useValue:ne},{provide:M,useFactory:N,deps:[w]},{provide:$,useClass:ne.serializer?ne.serializer:ne.routerState===L.Full?j:h},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(K)},K])}let X=(()=>{class ne{static forRoot(fe={}){return{ngModule:ne,providers:[G(fe)]}}static{this.\u0275fac=function(ye){return new(ye||ne)}}static{this.\u0275mod=t.$C({type:ne})}static{this.\u0275inj=t.G2t({})}}return ne})()},59640:(U,b,n)=>{"use strict";n.d(b,{A5:()=>ve,sA:()=>je,il:()=>St,ae:()=>fs,md:()=>Ms,wc:()=>us,iK:()=>me,VP:()=>R,UX:()=>bi,Mz:()=>At,Lg:()=>fn,xk:()=>h,Lt:()=>gt});var i=n(54438),t=n(84412),c=n(71985),e=n(21413),f=n(47242),m=n(40941),p=n(53993),y=n(31943),E=n(96354),O=n(23294),C=n(89079);const I={};function R(jt,_n){if(I[jt]=(I[jt]||0)+1,"function"==typeof _n)return T(jt,(...Ce)=>({..._n(...Ce),type:jt}));switch(_n?_n._as:"empty"){case"empty":return T(jt,()=>({type:jt}));case"props":return T(jt,Ce=>({...Ce,type:jt}));default:throw new Error("Unexpected config.")}}function h(){return{_as:"props",_p:void 0}}function T(jt,_n){return Object.defineProperty(_n,"type",{value:jt,writable:!1})}const k="@ngrx/store/init";let K=(()=>{class jt extends t.t{constructor(){super({type:k})}next(Ke){if("function"==typeof Ke)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ke>"u")throw new TypeError("Actions must be objects");if(typeof Ke.type>"u")throw new TypeError("Actions must have a type property");super.next(Ke)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(Ce){return new(Ce||jt)}}static{this.\u0275prov=i.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const z=[K],V=new i.nKC("@ngrx/store Internal Root Guard"),G=new i.nKC("@ngrx/store Internal Initial State"),X=new i.nKC("@ngrx/store Initial State"),J=new i.nKC("@ngrx/store Reducer Factory"),q=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),ne=new i.nKC("@ngrx/store Initial Reducers"),ee=new i.nKC("@ngrx/store Internal Initial Reducers"),fe=new i.nKC("@ngrx/store Store Features"),ye=new i.nKC("@ngrx/store Internal Store Reducers"),oe=new i.nKC("@ngrx/store Internal Feature Reducers"),ue=new i.nKC("@ngrx/store Internal Feature Configs"),te=new i.nKC("@ngrx/store Internal Store Features"),se=new i.nKC("@ngrx/store Internal Feature Reducers Token"),be=new i.nKC("@ngrx/store Feature Reducers"),me=new i.nKC("@ngrx/store User Provided Meta Reducers"),re=new i.nKC("@ngrx/store Meta Reducers"),Z=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),le=new i.nKC("@ngrx/store User Runtime Checks Config"),ce=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),ve=new i.nKC("@ngrx/store Internal Runtime Checks"),ze=new i.nKC("@ngrx/store Check if Action types are unique");function $e(jt,_n={}){const Ke=Object.keys(jt),Ce={};for(let Ue=0;Ue<Ke.length;Ue++){const ft=Ke[Ue];"function"==typeof jt[ft]&&(Ce[ft]=jt[ft])}const Me=Object.keys(Ce);return function(ft,kt){ft=void 0===ft?_n:ft;let pn=!1;const un={};for(let kn=0;kn<Me.length;kn++){const Qn=Me[kn],ms=ft[Qn],No=(0,Ce[Qn])(ms,kt);un[Qn]=No,pn=pn||No!==ms}return pn?un:ft}}function We(...jt){return function(_n){if(0===jt.length)return _n;const Ke=jt[jt.length-1];return jt.slice(0,-1).reduceRight((Me,Ue)=>Ue(Me),Ke(_n))}}function De(jt,_n){return Array.isArray(_n)&&_n.length>0&&(jt=We.apply(null,[..._n,jt])),(Ke,Ce)=>{const Me=jt(Ke);return(Ue,ft)=>Me(Ue=void 0===Ue?Ce:Ue,ft)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class Ge extends c.c{}class wt extends K{}let Tt=(()=>{class jt extends t.t{get currentReducers(){return this.reducers}constructor(Ke,Ce,Me,Ue){super(Ue(Me,Ce)),this.dispatcher=Ke,this.initialState=Ce,this.reducers=Me,this.reducerFactory=Ue}addFeature(Ke){this.addFeatures([Ke])}addFeatures(Ke){const Ce=Ke.reduce((Me,{reducers:Ue,reducerFactory:ft,metaReducers:kt,initialState:pn,key:un})=>{const kn="function"==typeof Ue?function ut(jt){const _n=Array.isArray(jt)&&jt.length>0?We(...jt):Ke=>Ke;return(Ke,Ce)=>(Ke=_n(Ke),(Me,Ue)=>Ke(Me=void 0===Me?Ce:Me,Ue))}(kt)(Ue,pn):De(ft,kt)(Ue,pn);return Me[un]=kn,Me},{});this.addReducers(Ce)}removeFeature(Ke){this.removeFeatures([Ke])}removeFeatures(Ke){this.removeReducers(Ke.map(Ce=>Ce.key))}addReducer(Ke,Ce){this.addReducers({[Ke]:Ce})}addReducers(Ke){this.reducers={...this.reducers,...Ke},this.updateReducers(Object.keys(Ke))}removeReducer(Ke){this.removeReducers([Ke])}removeReducers(Ke){Ke.forEach(Ce=>{this.reducers=function st(jt,_n){return Object.keys(jt).filter(Ke=>Ke!==_n).reduce((Ke,Ce)=>Object.assign(Ke,{[Ce]:jt[Ce]}),{})}(this.reducers,Ce)}),this.updateReducers(Ke)}updateReducers(Ke){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:Ke})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(Ce){return new(Ce||jt)(i.KVO(wt),i.KVO(X),i.KVO(ne),i.KVO(J))}}static{this.\u0275prov=i.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const Ee=[Tt,{provide:Ge,useExisting:Tt},{provide:wt,useExisting:K}];let je=(()=>{class jt extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let Ke;return function(Me){return(Ke||(Ke=i.xGo(jt)))(Me||jt)}})()}static{this.\u0275prov=i.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const mt=[je];class vn extends c.c{}let hn=(()=>{class jt extends t.t{static{this.INIT=k}constructor(Ke,Ce,Me,Ue){super(Ue);const un=Ke.pipe((0,m.Q)(f.T)).pipe((0,p.E)(Ce)).pipe((0,y.S)(jn,{state:Ue}));this.stateSubscription=un.subscribe(({state:kn,action:Qn})=>{this.next(kn),Me.next(Qn)}),this.state=(0,C.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(Ce){return new(Ce||jt)(i.KVO(K),i.KVO(Ge),i.KVO(je),i.KVO(X))}}static{this.\u0275prov=i.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();function jn(jt={state:void 0},[_n,Ke]){const{state:Ce}=jt;return{state:Ke(Ce,_n),action:_n}}const bt=[hn,{provide:vn,useExisting:hn}];let St=(()=>{class jt extends c.c{constructor(Ke,Ce,Me){super(),this.actionsObserver=Ce,this.reducerManager=Me,this.source=Ke,this.state=Ke.state}select(Ke,...Ce){return gt.call(null,Ke,...Ce)(this)}selectSignal(Ke,Ce){return(0,i.EWP)(()=>Ke(this.state()),Ce)}lift(Ke){const Ce=new jt(this,this.actionsObserver,this.reducerManager);return Ce.operator=Ke,Ce}dispatch(Ke){this.actionsObserver.next(Ke)}next(Ke){this.actionsObserver.next(Ke)}error(Ke){this.actionsObserver.error(Ke)}complete(){this.actionsObserver.complete()}addReducer(Ke,Ce){this.reducerManager.addReducer(Ke,Ce)}removeReducer(Ke){this.reducerManager.removeReducer(Ke)}static{this.\u0275fac=function(Ce){return new(Ce||jt)(i.KVO(vn),i.KVO(K),i.KVO(Tt))}}static{this.\u0275prov=i.jDH({token:jt,factory:jt.\u0275fac})}}return jt})();const Nt=[St];function gt(jt,_n,...Ke){return function(Me){let Ue;if("string"==typeof jt){const ft=[_n,...Ke].filter(Boolean);Ue=Me.pipe(function v(...jt){const _n=jt.length;if(0===_n)throw new Error("list of properties cannot be empty.");return(0,E.T)(Ke=>{let Ce=Ke;for(let Me=0;Me<_n;Me++){const Ue=Ce?.[jt[Me]];if(!(typeof Ue<"u"))return;Ce=Ue}return Ce})}(jt,...ft))}else{if("function"!=typeof jt)throw new TypeError(`Unexpected type '${typeof jt}' in select operator, expected 'string' or 'function'`);Ue=Me.pipe((0,E.T)(ft=>jt(ft,_n)))}return Ue.pipe((0,O.F)())}}const an="https://ngrx.io/guide/store/configuration/runtime-checks";function we(jt){return void 0===jt}function Ct(jt){return null===jt}function $t(jt){return Array.isArray(jt)}function Yt(jt){return"object"==typeof jt&&null!==jt}function ke(jt){return"function"==typeof jt}let ct=!1;function fn(){return ct}function xt(jt,_n){return jt===_n}function Ft(jt,_n=xt,Ke=xt){let Ue,Ce=null,Me=null;return{memoized:function un(){if(void 0!==Ue)return Ue.result;if(!Ce)return Me=jt.apply(null,arguments),Ce=arguments,Me;if(!function nn(jt,_n,Ke){for(let Ce=0;Ce<jt.length;Ce++)if(!Ke(jt[Ce],_n[Ce]))return!0;return!1}(arguments,Ce,_n))return Me;const kn=jt.apply(null,arguments);return Ce=arguments,Ke(Me,kn)?Me:(Me=kn,kn)},reset:function ft(){Ce=null,Me=null},setResult:function kt(kn=void 0){Ue={result:kn}},clearResult:function pn(){Ue=void 0}}}function At(...jt){return function Vn(jt,_n={stateFn:On}){return function(...Ke){let Ce=Ke;if(Array.isArray(Ce[0])){const[kn,...Qn]=Ce;Ce=[...kn,...Qn]}else 1===Ce.length&&function Dt(jt){return!!jt&&"object"==typeof jt&&Object.values(jt).every(_n=>"function"==typeof _n)}(Ce[0])&&(Ce=function vt(jt){const _n=Object.values(jt),Ke=Object.keys(jt);return[..._n,(...Me)=>Ke.reduce((Ue,ft,kt)=>({...Ue,[ft]:Me[kt]}),{})]}(Ce[0]));const Me=Ce.slice(0,Ce.length-1),Ue=Ce[Ce.length-1],ft=Me.filter(kn=>kn.release&&"function"==typeof kn.release),kt=jt(function(...kn){return Ue.apply(null,kn)}),pn=Ft(function(kn,Qn){return _n.stateFn.apply(null,[kn,Me,Qn,kt])});return Object.assign(pn.memoized,{release:function un(){pn.reset(),kt.reset(),ft.forEach(kn=>kn.release())},projector:kt.memoized,setResult:pn.setResult,clearResult:pn.clearResult})}}(Ft)(...jt)}function On(jt,_n,Ke,Ce){if(void 0===Ke){const Ue=_n.map(ft=>ft(jt));return Ce.memoized.apply(null,Ue)}const Me=_n.map(Ue=>Ue(jt,Ke));return Ce.memoized.apply(null,[...Me,Ke])}function bi(jt){return At(_n=>{const Ke=_n[jt];return!fn()&&(0,i.naY)()&&!(jt in _n)&&console.warn(`@ngrx/store: The feature name "${jt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${jt}', ...) or StoreModule.forFeature('${jt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ke},_n=>_n)}function oi(jt){return jt instanceof i.nKC?(0,i.WQX)(jt):jt}function ai(jt,_n){return _n.map((Ke,Ce)=>{if(jt[Ce]instanceof i.nKC){const Me=(0,i.WQX)(jt[Ce]);return{key:Ke.key,reducerFactory:Me.reducerFactory?Me.reducerFactory:$e,metaReducers:Me.metaReducers?Me.metaReducers:[],initialState:Me.initialState}}return Ke})}function ts(jt){return jt.map(_n=>_n instanceof i.nKC?(0,i.WQX)(_n):_n)}function ns(jt){return"function"==typeof jt?jt():jt}function si(jt,_n){return jt.concat(_n)}function ci(){if((0,i.WQX)(St,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function gn(jt){Object.freeze(jt);const _n=ke(jt);return Object.getOwnPropertyNames(jt).forEach(Ke=>{if(!Ke.startsWith("\u0275")&&function Xe(jt,_n){return Object.prototype.hasOwnProperty.call(jt,_n)}(jt,Ke)&&(!_n||"caller"!==Ke&&"callee"!==Ke&&"arguments"!==Ke)){const Ce=jt[Ke];(Yt(Ce)||ke(Ce))&&!Object.isFrozen(Ce)&&gn(Ce)}}),jt}function Oi(jt,_n=[]){return(we(jt)||Ct(jt))&&0===_n.length?{path:["root"],value:jt}:Object.keys(jt).reduce((Ce,Me)=>{if(Ce)return Ce;const Ue=jt[Me];return function Le(jt){return ke(jt)&&jt.hasOwnProperty("\u0275cmp")}(Ue)?Ce:!(we(Ue)||Ct(Ue)||function on(jt){return"number"==typeof jt}(Ue)||function Zt(jt){return"boolean"==typeof jt}(Ue)||function yt(jt){return"string"==typeof jt}(Ue)||$t(Ue))&&(function Qe(jt){if(!function Ht(jt){return Yt(jt)&&!$t(jt)}(jt))return!1;const _n=Object.getPrototypeOf(jt);return _n===Object.prototype||null===_n}(Ue)?Oi(Ue,[..._n,Me]):{path:[..._n,Me],value:Ue})},!1)}function ps(jt,_n){if(!1===jt)return;const Ke=jt.path.join("."),Ce=new Error(`Detected unserializable ${_n} at "${Ke}". ${an}#strict${_n}serializability`);throw Ce.value=jt.value,Ce.unserializablePath=Ke,Ce}function Ai(jt){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...jt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function qt({strictActionSerializability:jt,strictStateSerializability:_n}){return Ke=>jt||_n?function pi(jt,_n){return function(Ke,Ce){_n.action(Ce)&&ps(Oi(Ce),"action");const Me=jt(Ke,Ce);return _n.state()&&ps(Oi(Me),"state"),Me}}(Ke,{action:Ce=>jt&&!Jt(Ce),state:()=>_n}):Ke}function Si({strictActionImmutability:jt,strictStateImmutability:_n}){return Ke=>jt||_n?function cn(jt,_n){return function(Ke,Ce){const Me=_n.action(Ce)?gn(Ce):Ce,Ue=jt(Ke,Me);return _n.state()?gn(Ue):Ue}}(Ke,{action:Ce=>jt&&!Jt(Ce),state:()=>_n}):Ke}function Jt(jt){return jt.type.startsWith("@ngrx")}function Pt({strictActionWithinNgZone:jt}){return _n=>jt?function Ri(jt,_n){return function(Ke,Ce){if(_n.action(Ce)&&!i.SKi.isInAngularZone())throw new Error(`Action '${Ce.type}' running outside NgZone. ${an}#strictactionwithinngzone`);return jt(Ke,Ce)}}(_n,{action:Ke=>jt&&!Jt(Ke)}):_n}function Fe(jt){return[{provide:ce,useValue:jt},{provide:le,useFactory:_t,deps:[ce]},{provide:ve,deps:[le],useFactory:Ai},{provide:re,multi:!0,deps:[ve],useFactory:Si},{provide:re,multi:!0,deps:[ve],useFactory:qt},{provide:re,multi:!0,deps:[ve],useFactory:Pt}]}function Ye(){return[{provide:ze,multi:!0,deps:[ve],useFactory:Qt}]}function _t(jt){return jt}function Qt(jt){if(!jt.strictActionTypeUniqueness)return;const _n=Object.entries(I).filter(([,Ke])=>Ke>1).map(([Ke])=>Ke);if(_n.length)throw new Error(`Action types are registered more than once, ${_n.map(Ke=>`"${Ke}"`).join(", ")}. ${an}#strictactiontypeuniqueness`)}function Mn(jt={},_n={}){return[{provide:V,useFactory:ci},{provide:G,useValue:_n.initialState},{provide:X,useFactory:ns,deps:[G]},{provide:ee,useValue:jt},{provide:ye,useExisting:jt instanceof i.nKC?jt:ee},{provide:ne,deps:[ee,[new i.y_5(ye)]],useFactory:oi},{provide:me,useValue:_n.metaReducers?_n.metaReducers:[]},{provide:Z,deps:[re,me],useFactory:si},{provide:q,useValue:_n.reducerFactory?_n.reducerFactory:$e},{provide:J,deps:[q,Z],useFactory:De},z,Ee,mt,bt,Nt,Fe(_n.runtimeChecks),Ye()]}function is(jt,_n,Ke={}){return[{provide:ue,multi:!0,useValue:jt instanceof Object?{}:Ke},{provide:fe,multi:!0,useValue:{key:jt instanceof Object?jt.name:jt,reducerFactory:Ke instanceof i.nKC||!Ke.reducerFactory?$e:Ke.reducerFactory,metaReducers:Ke instanceof i.nKC||!Ke.metaReducers?[]:Ke.metaReducers,initialState:Ke instanceof i.nKC||!Ke.initialState?void 0:Ke.initialState}},{provide:te,deps:[ue,fe],useFactory:ai},{provide:oe,multi:!0,useValue:jt instanceof Object?jt.reducer:_n},{provide:se,multi:!0,useExisting:_n instanceof i.nKC?_n:oe},{provide:be,multi:!0,deps:[oe,[new i.y_5(se)]],useFactory:ts},Ye()]}let us=(()=>{class jt{constructor(Ke,Ce,Me,Ue,ft,kt){}static{this.\u0275fac=function(Ce){return new(Ce||jt)(i.KVO(K),i.KVO(Ge),i.KVO(je),i.KVO(St),i.KVO(V,8),i.KVO(ze,8))}}static{this.\u0275mod=i.$C({type:jt})}static{this.\u0275inj=i.G2t({})}}return jt})(),fs=(()=>{class jt{constructor(Ke,Ce,Me,Ue,ft){this.features=Ke,this.featureReducers=Ce,this.reducerManager=Me;const kt=Ke.map((pn,un)=>{const Qn=Ce.shift()[un];return{...pn,reducers:Qn,initialState:ns(pn.initialState)}});Me.addFeatures(kt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(Ce){return new(Ce||jt)(i.KVO(te),i.KVO(be),i.KVO(Tt),i.KVO(us),i.KVO(ze,8))}}static{this.\u0275mod=i.$C({type:jt})}static{this.\u0275inj=i.G2t({})}}return jt})(),Ms=(()=>{class jt{static forRoot(Ke,Ce){return{ngModule:us,providers:[...Mn(Ke,Ce)]}}static forFeature(Ke,Ce,Me={}){return{ngModule:fs,providers:[...is(Ke,Ce,Me)]}}static{this.\u0275fac=function(Ce){return new(Ce||jt)}}static{this.\u0275mod=i.$C({type:jt})}static{this.\u0275inj=i.G2t({})}}return jt})()},68018:(U,b,n)=>{"use strict";n.d(b,{D9:()=>ue,Wr:()=>C,c$:()=>ye,er:()=>D,h:()=>be});var i=n(54438),t=n(7673),c=n(74402),e=n(27468),f=n(92688),m=n(59030),p=n(96697),y=n(44668),E=n(96354),v=n(70274),O=n(25558);class C{}let I=(()=>{class me extends C{getTranslation(Z){return(0,t.of)({})}static \u0275fac=(()=>{let Z;return function(ce){return(Z||(Z=i.xGo(me)))(ce||me)}})();static \u0275prov=i.jDH({token:me,factory:me.\u0275fac})}return me})();class D{}let R=(()=>{class me{handle(Z){return Z.key}static \u0275fac=function(le){return new(le||me)};static \u0275prov=i.jDH({token:me,factory:me.\u0275fac})}return me})();function h(me,re){if(me===re)return!0;if(null===me||null===re)return!1;if(me!=me&&re!=re)return!0;const Z=typeof me;let ce,ve,ze;if(Z==typeof re&&"object"==Z){if(!Array.isArray(me)){if(Array.isArray(re))return!1;for(ve in ze=Object.create(null),me){if(!h(me[ve],re[ve]))return!1;ze[ve]=!0}for(ve in re)if(!(ve in ze)&&typeof re[ve]<"u")return!1;return!0}if(!Array.isArray(re))return!1;if((ce=me.length)==re.length){for(ve=0;ve<ce;ve++)if(!h(me[ve],re[ve]))return!1;return!0}}return!1}function S(me){return typeof me<"u"&&null!==me}function T(me){return w(me)&&!M(me)&&null!==me}function w(me){return"object"==typeof me}function M(me){return Array.isArray(me)}function L(me){return"string"==typeof me}function j(me,re){const Z=Object.assign({},me);return w(me)?(w(me)&&w(re)&&Object.keys(re).forEach(le=>{T(re[le])?le in me?Z[le]=j(me[le],re[le]):Object.assign(Z,{[le]:re[le]}):Object.assign(Z,{[le]:re[le]})}),Z):j({},re)}function $(me,re){const Z=re.split(".");re="";do{re+=Z.shift(),S(me)&&S(me[re])&&(T(me[re])||M(me[re])||!Z.length)?(me=me[re],re=""):Z.length?re+=".":me=void 0}while(Z.length);return me}class K{}let z=(()=>{class me extends K{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(Z,le){return L(Z)?this.interpolateString(Z,le):function N(me){return"function"==typeof me}(Z)?this.interpolateFunction(Z,le):void 0}interpolateFunction(Z,le){return Z(le)}interpolateString(Z,le){return le?Z.replace(this.templateMatcher,(ce,ve)=>{const ze=$(le,ve);return S(ze)?ze:ce}):Z}static \u0275fac=(()=>{let Z;return function(ce){return(Z||(Z=i.xGo(me)))(ce||me)}})();static \u0275prov=i.jDH({token:me,factory:me.\u0275fac})}return me})();class V{}let G=(()=>{class me extends V{compile(Z,le){return Z}compileTranslations(Z,le){return Z}static \u0275fac=(()=>{let Z;return function(ce){return(Z||(Z=i.xGo(me)))(ce||me)}})();static \u0275prov=i.jDH({token:me,factory:me.\u0275fac})}return me})();class X{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new i.bkB;onLangChange=new i.bkB;onDefaultLangChange=new i.bkB}const J=new i.nKC("ISOLATE_TRANSLATE_SERVICE"),q=new i.nKC("USE_DEFAULT_LANG"),ne=new i.nKC("DEFAULT_LANGUAGE"),ee=new i.nKC("USE_EXTEND"),fe=me=>(0,c.A)(me)?me:(0,t.of)(me);let ye=(()=>{class me{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(Z){this.store.defaultLang=Z}get currentLang(){return this.store.currentLang}set currentLang(Z){this.store.currentLang=Z}get langs(){return this.store.langs}set langs(Z){this.store.langs=Z}get translations(){return this.store.translations}set translations(Z){this.store.translations=Z}constructor(Z,le,ce,ve,ze,Se=!0,et=!1,$e=!1,st){this.store=Z,this.currentLoader=le,this.compiler=ce,this.parser=ve,this.missingTranslationHandler=ze,this.useDefaultLang=Se,this.extend=$e,et&&(this.store=new X),st&&this.setDefaultLang(st)}setDefaultLang(Z){if(Z===this.defaultLang)return;const le=this.retrieveTranslations(Z);typeof le<"u"?(null==this.defaultLang&&(this.defaultLang=Z),le.pipe((0,p.s)(1)).subscribe(()=>{this.changeDefaultLang(Z)})):this.changeDefaultLang(Z)}getDefaultLang(){return this.defaultLang}use(Z){if(this.lastUseLanguage=Z,Z===this.currentLang)return(0,t.of)(this.translations[Z]);this.currentLang||(this.currentLang=Z);const le=this.retrieveTranslations(Z);return(0,c.A)(le)?(le.pipe((0,p.s)(1)).subscribe(()=>{this.changeLang(Z)}),le):(this.changeLang(Z),(0,t.of)(this.translations[Z]))}changeLang(Z){Z===this.lastUseLanguage&&(this.currentLang=Z,this.onLangChange.emit({lang:Z,translations:this.translations[Z]}),null==this.defaultLang&&this.changeDefaultLang(Z))}retrieveTranslations(Z){if(typeof this.translations[Z]>"u"||this.extend)return this._translationRequests[Z]=this._translationRequests[Z]||this.loadAndCompileTranslations(Z),this._translationRequests[Z]}getTranslation(Z){return this.loadAndCompileTranslations(Z)}loadAndCompileTranslations(Z){this.pending=!0;const le=this.currentLoader.getTranslation(Z).pipe((0,y.t)(1),(0,p.s)(1));return this.loadingTranslations=le.pipe((0,E.T)(ce=>this.compiler.compileTranslations(ce,Z)),(0,y.t)(1),(0,p.s)(1)),this.loadingTranslations.subscribe({next:ce=>{this.translations[Z]=this.extend&&this.translations[Z]?{...ce,...this.translations[Z]}:ce,this.updateLangs(),this.pending=!1},error:ce=>{this.pending=!1}}),le}setTranslation(Z,le,ce=!1){const ve=this.compiler.compileTranslations(le,Z);this.translations[Z]=(ce||this.extend)&&this.translations[Z]?j(this.translations[Z],ve):ve,this.updateLangs(),this.onTranslationChange.emit({lang:Z,translations:this.translations[Z]})}getLangs(){return this.langs}addLangs(Z){const le=Z.filter(ce=>!this.langs.includes(ce));le.length>0&&(this.langs=[...this.langs,...le])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(Z,le,ce){let ve;if(Z&&(ve=this.runInterpolation($(Z,le),ce)),void 0===ve&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(ve=this.runInterpolation($(this.translations[this.defaultLang],le),ce)),void 0===ve){const ze={key:le,translateService:this};typeof ce<"u"&&(ze.interpolateParams=ce),ve=this.missingTranslationHandler.handle(ze)}return void 0!==ve?ve:le}runInterpolation(Z,le){if(M(Z))return Z.map(ce=>this.runInterpolation(ce,le));if(T(Z)){const ce={};for(const ve in Z){const ze=this.runInterpolation(Z[ve],le);void 0!==ze&&(ce[ve]=ze)}return ce}return this.parser.interpolate(Z,le)}getParsedResult(Z,le,ce){if(le instanceof Array){const ve={};let ze=!1;for(const et of le)ve[et]=this.getParsedResultForKey(Z,et,ce),ze=ze||(0,c.A)(ve[et]);if(!ze)return ve;const Se=le.map(et=>fe(ve[et]));return(0,e.p)(Se).pipe((0,E.T)(et=>{const $e={};return et.forEach((st,We)=>{$e[le[We]]=st}),$e}))}return this.getParsedResultForKey(Z,le,ce)}get(Z,le){if(!S(Z)||!Z.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,v.H)(ce=>fe(this.getParsedResult(ce,Z,le)))):fe(this.getParsedResult(this.translations[this.currentLang],Z,le))}getStreamOnTranslationChange(Z,le){if(!S(Z)||!Z.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,f.x)((0,m.v)(()=>this.get(Z,le)),this.onTranslationChange.pipe((0,O.n)(ce=>{const ve=this.getParsedResult(ce.translations,Z,le);return fe(ve)})))}stream(Z,le){if(!S(Z)||!Z.length)throw new Error('Parameter "key" required');return(0,f.x)((0,m.v)(()=>this.get(Z,le)),this.onLangChange.pipe((0,O.n)(ce=>{const ve=this.getParsedResult(ce.translations,Z,le);return fe(ve)})))}instant(Z,le){if(!S(Z)||0===Z.length)throw new Error('Parameter "key" is required and cannot be empty');const ce=this.getParsedResult(this.translations[this.currentLang],Z,le);return(0,c.A)(ce)?Array.isArray(Z)?Z.reduce((ve,ze)=>(ve[ze]=ze,ve),{}):Z:ce}set(Z,le,ce=this.currentLang){(function k(me,re,Z){const le=re.split(".");let ce=me;for(let ve=0;ve<le.length;ve++){const ze=le[ve];ve===le.length-1?ce[ze]=Z:((!ce[ze]||!T(ce[ze]))&&(ce[ze]={}),ce=ce[ze])}})(this.translations[ce],Z,L(le)?this.compiler.compile(le,ce):this.compiler.compileTranslations(le,ce)),this.updateLangs(),this.onTranslationChange.emit({lang:ce,translations:this.translations[ce]})}changeDefaultLang(Z){this.defaultLang=Z,this.onDefaultLangChange.emit({lang:Z,translations:this.translations[Z]})}reloadLang(Z){return this.resetLang(Z),this.loadAndCompileTranslations(Z)}resetLang(Z){delete this._translationRequests[Z],delete this.translations[Z]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const Z=this.getBrowserCultureLang();return Z?Z.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(le){return new(le||me)(i.KVO(X),i.KVO(C),i.KVO(V),i.KVO(K),i.KVO(D),i.KVO(q),i.KVO(J),i.KVO(ee),i.KVO(ne))};static \u0275prov=i.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),ue=(()=>{class me{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(Z,le){this.translate=Z,this._ref=le}updateValue(Z,le,ce){const ve=ze=>{this.value=void 0!==ze?ze:Z,this.lastKey=Z,this._ref.markForCheck()};if(ce){const ze=this.translate.getParsedResult(ce,Z,le);(0,c.A)(ze)?ze.subscribe(ve):ve(ze)}this.translate.get(Z,le).subscribe(ve)}transform(Z,...le){if(!Z||!Z.length)return Z;if(h(Z,this.lastKey)&&h(le,this.lastParams))return this.value;let ce;if(S(le[0])&&le.length)if(L(le[0])&&le[0].length){const ve=le[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{ce=JSON.parse(ve)}catch(ze){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${le[0]}`)}}else T(le[0])&&(ce=le[0]);return this.lastKey=Z,this.lastParams=le,this.updateValue(Z,ce),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(ve=>{this.lastKey&&ve.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Z,ce,ve.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(ve=>{this.lastKey&&(this.lastKey=null,this.updateValue(Z,ce,ve.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Z,ce))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(le){return new(le||me)(i.rXU(ye,16),i.rXU(i.gRc,16))};static \u0275pipe=i.EJ8({name:"translate",type:me,pure:!1,standalone:!0});static \u0275prov=i.jDH({token:me,factory:me.\u0275fac})}return me})(),be=(()=>{class me{static forRoot(Z={}){return{ngModule:me,providers:[Z.loader||{provide:C,useClass:I},Z.compiler||{provide:V,useClass:G},Z.parser||{provide:K,useClass:z},Z.missingTranslationHandler||{provide:D,useClass:R},X,{provide:J,useValue:Z.isolate},{provide:q,useValue:Z.useDefaultLang},{provide:ee,useValue:Z.extend},{provide:ne,useValue:Z.defaultLanguage},ye]}}static forChild(Z={}){return{ngModule:me,providers:[Z.loader||{provide:C,useClass:I},Z.compiler||{provide:V,useClass:G},Z.parser||{provide:K,useClass:z},Z.missingTranslationHandler||{provide:D,useClass:R},{provide:J,useValue:Z.isolate},{provide:q,useValue:Z.useDefaultLang},{provide:ee,useValue:Z.extend},{provide:ne,useValue:Z.defaultLanguage},ye]}}static \u0275fac=function(le){return new(le||me)};static \u0275mod=i.$C({type:me});static \u0275inj=i.G2t({})}return me})()},53588:(U,b,n)=>{"use strict";n.d(b,{WY:()=>R,xG:()=>S});var i=n(54438),t=n(60177),c=n(92771),e=n(18810);const f={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:T=>T*T,easeOutQuad:T=>T*(2-T),easeInOutQuad:T=>T<.5?2*T*T:(4-2*T)*T-1,easeInCubic:T=>T*T*T,easeOutCubic:T=>--T*T*T+1,easeInOutCubic:T=>T<.5?4*T*T*T:(T-1)*(2*T-2)*(2*T-2)+1,easeInQuart:T=>T*T*T*T,easeOutQuart:T=>1- --T*T*T*T,easeInOutQuart:T=>T<.5?8*T*T*T*T:1-8*--T*T*T*T,easeInQuint:T=>T*T*T*T*T,easeOutQuint:T=>1+--T*T*T*T*T,easeInOutQuint:T=>T<.5?16*T*T*T*T*T:1+16*--T*T*T*T*T,easeOutElastic:T=>Math.pow(2,-10*T)*Math.sin((T-1/4)*(2*Math.PI)/1)+1};function v(T){return T===window}class D{constructor(w,M,L,N,j,$){this.container=w,this.listenerTarget=M,this.isWindow=L,this.to=N,this.options=j,this.isBrowser=$,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const k=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((K,z)=>this.mappedOffset=window.innerWidth>z?K:this.mappedOffset),this.distance+=this.mappedOffset*(k<=0?1:-1),this.source$=new c.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let R=(()=>{class T{constructor(M,L){this.document=M,this.platformId=L,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(M){return(0,t.UE)(this.platformId)?this.start(M):(new c.m).asObservable()}start(M){const L={...f,...M};this.animation&&this.animation.stop();const N=this.getNode(L.target);if(L.target&&!N)return(0,e.$)(()=>new Error("Unable to find Target Element"));const j=this.getContainer(L,N);if(L.container&&!j)return(0,e.$)(()=>new Error("Unable to find Container Element"));const $=this.getListenerTarget(j)||window;let k=j?j.getBoundingClientRect().top:0;N&&(k=v($)?window.scrollY+N.getBoundingClientRect().top:N.getBoundingClientRect().top),this.animation=new D(j,$,v($),k,L,(0,t.UE)(this.platformId));const K=()=>this.animation.stop();this.addInterruptiveEventListeners($,K);const z=this.animation.start();return this.subscribeToAnimation(z,$,K),z}subscribeToAnimation(M,L,N){const j=M.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,L,N),j.unsubscribe()}})}getContainer(M,L){let N=null;return M.container?N=this.getNode(M.container,!0):L&&(N=this.getFirstScrollableParent(L)),N}addInterruptiveEventListeners(M,L){M||(M=window),this.interruptiveEvents.forEach(N=>M.addEventListener(N,L,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let M=!1;try{const L=Object.defineProperty({},"passive",{get:()=>{M=!0}});window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}catch{}return M}removeInterruptiveEventListeners(M,L,N){L||(L=window),M.forEach(j=>L.removeEventListener(j,N))}getFirstScrollableParent(M){let L=window.getComputedStyle(M);const N=/(auto|scroll|overlay)/;if("fixed"===L.position)return null;let j=M;for(;j.parentElement;)if(j=j.parentElement,L=window.getComputedStyle(j),"absolute"!==L.position&&"hidden"!==L.overflow&&"hidden"!==L.overflowY&&(N.test(L.overflow+L.overflowY)||"BODY"===j.tagName))return j;return null}getNode(M,L=!1){let N;return function E(T){return"string"==typeof T||T instanceof String}(M)?N=!L||"body"!==M&&"BODY"!==M?this.document.getElementById(function y(T){return"#"===T.substring(0,1)?T.substring(1):T}(M)):this.document.body:function I(T){return!isNaN(parseFloat(T))&&isFinite(T)}(M)?N=this.document.getElementById(String(M)):function O(T){return T instanceof i.aKT}(M)?N=M.nativeElement:function C(T){return T instanceof HTMLElement}(M)&&(N=M),N}getListenerTarget(M){return M?this.isDocumentBody(M)?window:M:null}isDocumentBody(M){return"BODY"===M.tagName.toUpperCase()}}return T.\u0275fac=function(M){return new(M||T)(i.KVO(t.qQ),i.KVO(i.Agw))},T.\u0275prov=i.jDH({token:T,factory:T.\u0275fac}),T})(),S=(()=>{class T{static forRoot(){return{ngModule:T,providers:[R]}}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=i.$C({type:T}),T.\u0275inj=i.G2t({}),T})()},97324:(U,b,n)=>{"use strict";n.d(b,{RH:()=>K,Z1:()=>L,eB:()=>$,il:()=>y,ok:()=>I});var i=n(54438),t=n(84412),c=n(92771),e=n(5964);class f{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class p{trackLocation(me){return new t.t({url:"/"})}prepareExternalUrl(me){return me}}let y=(()=>{class be{constructor(re,Z){this.tracker=re,this.pageTrack=new c.m(10),this.eventTrack=new c.m(10),this.exceptionTrack=new c.m(10),this.setAlias=new c.m(10),this.setUsername=new c.m(10),this.setUserProperties=new c.m(10),this.setUserPropertiesOnce=new c.m(10),this.setSuperProperties=new c.m(10),this.setSuperPropertiesOnce=new c.m(10),this.userTimings=new c.m(10);const le=new f;this.settings={...le,...Z.settings},this.settings.pageTracking={...le.pageTracking,...Z.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(ce=>this.trackUrlChange(ce.url))}filterDeveloperMode(){return(0,e.p)((re,Z)=>!this.settings.developerMode)}trackUrlChange(re){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(re)){const Z=this.clearUrl(re);let le;le=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+Z:this.tracker.prepareExternalUrl(Z),this.pageTrack.next({path:le})}}matchesExcludedRoute(re){for(const Z of this.settings.pageTracking.excludedRoutes)if(Z instanceof RegExp&&Z.test(re)||-1!==re.indexOf(Z))return!0;return!1}clearUrl(re){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?re.split("/").map(Z=>this.settings.pageTracking.clearQueryParams?Z.split("?")[0]:Z).map(Z=>this.settings.pageTracking.clearHash?Z.split("#")[0]:Z).filter(Z=>!this.settings.pageTracking.clearIds||!Z.match(this.settings.pageTracking.idsRegExp)).join("/"):re}}return be.\u0275fac=function(re){return new(re||be)(i.KVO(p),i.KVO(m))},be.\u0275prov=i.jDH({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),O=(()=>{class be{}return be.\u0275fac=function(re){return new(re||be)},be.\u0275mod=i.$C({type:be}),be.\u0275inj=i.G2t({}),be})(),I=(()=>{class be{static forRoot(re={}){return{ngModule:be,providers:[{provide:m,useValue:{settings:re}},p,y]}}}return be.\u0275fac=function(re){return new(re||be)},be.\u0275mod=i.$C({type:be}),be.\u0275inj=i.G2t({imports:[[O]]}),be})();class M{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let L=(()=>{class be{constructor(re){this.angulartics2=re,this.dimensionsAndMetrics=[];const Z=new M;this.angulartics2.settings.ga={...Z,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(le=>this.setUsername(le)),this.angulartics2.setUserProperties.subscribe(le=>this.setUserProperties(le))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.userTimings(re))}pageTrack(re){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",re]);for(const Z of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([Z+"._trackPageview",re])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const Z of this.angulartics2.settings.ga.additionalAccountNames)ga(Z+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const Z of this.angulartics2.settings.ga.additionalAccountNames)ga(Z+".set","anonymizeIp",!0)}ga("send","pageview",re);for(const Z of this.angulartics2.settings.ga.additionalAccountNames)ga(Z+".send","pageview",re)}}eventTrack(re,Z){if((!Z||!Z.category)&&((Z=Z||{}).category="Event"),Z.value){const le=parseInt(Z.value,10);Z.value=isNaN(le)?0:le}if(typeof ga<"u"){const le={eventCategory:Z.category,eventAction:re,eventLabel:Z.label,eventValue:Z.value,nonInteraction:Z.noninteraction,page:Z.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:Z.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(Z),ga("send","event",le);for(const ce of this.angulartics2.settings.ga.additionalAccountNames)ga(ce+".send","event",le)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",Z.category,re,Z.label,Z.value,Z.noninteraction])}exceptionTrack(re){void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.fatal=!0),re.exDescription=re.description;const Z={exFatal:re.fatal,exDescription:re.description};ga("send","exception",Z);for(const le of this.angulartics2.settings.ga.additionalAccountNames)ga(le+".send","exception",Z)}userTimings(re){if(re&&re.timingCategory&&re.timingVar&&re.timingValue){if(typeof ga<"u"){ga("send","timing",re);for(const Z of this.angulartics2.settings.ga.additionalAccountNames)ga(Z+".send","timing",re)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(re){this.angulartics2.settings.ga.userId=re,!(typeof ga>"u")&&ga("set","userId",re)}setUserProperties(re){this.setDimensionsAndMetrics(re)}setDimensionsAndMetrics(re){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(Z=>{re.hasOwnProperty(Z)||(ga("set",Z,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(le=>{ga(`${le}.set`,Z,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(re).forEach(Z=>{(0===Z.lastIndexOf("dimension",0)||0===Z.lastIndexOf("metric",0))&&(ga("set",Z,re[Z]),this.angulartics2.settings.ga.additionalAccountNames.forEach(le=>{ga(`${le}.set`,Z,re[Z])}),this.dimensionsAndMetrics.push(Z))}))}}return be.\u0275fac=function(re){return new(re||be)(i.KVO(y))},be.\u0275prov=i.jDH({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class j{constructor(){this.userId=null}}let $=(()=>{class be{constructor(re){this.angulartics2=re,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const Z=new j;this.angulartics2.settings.gtm={...Z,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(le=>this.setUsername(le))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re))}pageTrack(re){this.pushLayer({event:"Page View","content-name":re,userId:this.angulartics2.settings.gtm.userId})}pushLayer(re){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(re)}eventTrack(re,Z){this.pushLayer({event:(Z=Z||{}).event||"interaction",target:Z.category||"Event",action:re,label:Z.label,value:Z.value,interactionType:Z.noninteraction,userId:this.angulartics2.settings.gtm.userId,...Z.gtmCustom})}exceptionTrack(re){re&&re.appId&&re.appName&&re.appVersion?(void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.exFatal=!0),re.exDescription=re.event?re.event.stack:re.description,this.eventTrack(`Exception thrown for ${re.appName} <${re.appId}@${re.appVersion}>`,{category:"Exception",label:re.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(re){this.angulartics2.settings.gtm.userId=re}}return be.\u0275fac=function(re){return new(re||be)(i.KVO(y))},be.\u0275prov=i.jDH({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class k{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(me=>{const re=me.get("trackingId");void 0!==re&&-1===this.trackingIds.indexOf(re)&&this.trackingIds.push(re)})})}}let K=(()=>{class be{constructor(re){this.angulartics2=re,this.dimensionsAndMetrics={};const Z=new k;this.angulartics2.settings.gst={...Z,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.userTimings(this.convertTimings(re))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.setUsername(re)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.setUserProperties(re))}pageTrack(re){if(typeof gtag<"u"&&gtag){const Z={page_path:re,page_location:window.location.protocol+"//"+window.location.host+re,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(Z.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(Z.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(Z.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const le of this.angulartics2.settings.gst.trackingIds)gtag("config",le,Z)}}eventTrack(re,Z={}){this.eventTrackInternal(re,{event_category:Z.category||"interaction",event_label:Z.label,value:Z.value,non_interaction:Z.noninteraction,...Z.gstCustom})}exceptionTrack(re){void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.fatal=!0),re.exDescription=re.event?re.event.stack:re.description,this.eventTrack("exception",{gstCustom:{description:re.exDescription,fatal:re.fatal,...re.gstCustom}})}userTimings(re){re?this.eventTrackInternal("timing_complete",{name:re.name,value:re.value,event_category:re.category,event_label:re.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(re){return{name:re.timingVar,value:re.timingValue,category:re.timingCategory,label:re.timingLabel}}setUsername(re){this.angulartics2.settings.gst.userId=re,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof re&&re?re.userId:re})}setUserProperties(re){this.setDimensionsAndMetrics(re)}setDimensionsAndMetrics(re){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...re},Object.keys(this.dimensionsAndMetrics).forEach(Z=>{null==this.dimensionsAndMetrics[Z]&&delete this.dimensionsAndMetrics[Z]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(re,Z={}){this.cleanProperties(Z),typeof gtag<"u"&&gtag&&gtag("event",re,Z)}cleanProperties(re){if(re.value){const Z=parseInt(re.value,10);re.value=isNaN(Z)?0:Z}}}return be.\u0275fac=function(re){return new(re||be)(i.KVO(y))},be.\u0275prov=i.jDH({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},93583:(U,b,n)=>{"use strict";n.d(b,{X6:()=>N,UD:()=>oe,Go:()=>p});var i={};n.r(i),n.d(i,{JsonPatchError:()=>h,_areEquals:()=>K,applyOperation:()=>L,applyPatch:()=>N,applyReducer:()=>j,deepClone:()=>S,getValueByPointer:()=>M,validate:()=>k,validator:()=>$});var t={};n.r(t),n.d(t,{compare:()=>oe,generate:()=>fe,observe:()=>ee,unobserve:()=>ne});var c=function(){var te=function(se,be){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,re){me.__proto__=re}||function(me,re){for(var Z in re)re.hasOwnProperty(Z)&&(me[Z]=re[Z])})(se,be)};return function(se,be){function me(){this.constructor=se}te(se,be),se.prototype=null===be?Object.create(be):(me.prototype=be.prototype,new me)}}(),e=Object.prototype.hasOwnProperty;function f(te,se){return e.call(te,se)}function m(te){if(Array.isArray(te)){for(var se=new Array(te.length),be=0;be<se.length;be++)se[be]=""+be;return se}if(Object.keys)return Object.keys(te);var me=[];for(var re in te)f(te,re)&&me.push(re);return me}function p(te){switch(typeof te){case"object":return JSON.parse(JSON.stringify(te));case"undefined":return null;default:return te}}function y(te){for(var me,se=0,be=te.length;se<be;){if(!((me=te.charCodeAt(se))>=48&&me<=57))return!1;se++}return!0}function E(te){return-1===te.indexOf("/")&&-1===te.indexOf("~")?te:te.replace(/~/g,"~0").replace(/\//g,"~1")}function v(te){return te.replace(/~1/g,"/").replace(/~0/g,"~")}function I(te){if(void 0===te)return!0;if(te)if(Array.isArray(te)){for(var se=0,be=te.length;se<be;se++)if(I(te[se]))return!0}else if("object"==typeof te)for(var me=m(te),re=me.length,Z=0;Z<re;Z++)if(I(te[me[Z]]))return!0;return!1}function D(te,se){var be=[te];for(var me in se){var re="object"==typeof se[me]?JSON.stringify(se[me],null,2):se[me];typeof re<"u"&&be.push(me+": "+re)}return be.join("\n")}var R=function(te){function se(be,me,re,Z,le){var ce=this.constructor,ve=te.call(this,D(be,{name:me,index:re,operation:Z,tree:le}))||this;return ve.name=me,ve.index=re,ve.operation=Z,ve.tree=le,Object.setPrototypeOf(ve,ce.prototype),ve.message=D(be,{name:me,index:re,operation:Z,tree:le}),ve}return c(se,te),se}(Error),h=R,S=p,T={add:function(te,se,be){return te[se]=this.value,{newDocument:be}},remove:function(te,se,be){var me=te[se];return delete te[se],{newDocument:be,removed:me}},replace:function(te,se,be){var me=te[se];return te[se]=this.value,{newDocument:be,removed:me}},move:function(te,se,be){var me=M(be,this.path);me&&(me=p(me));var re=L(be,{op:"remove",path:this.from}).removed;return L(be,{op:"add",path:this.path,value:re}),{newDocument:be,removed:me}},copy:function(te,se,be){var me=M(be,this.from);return L(be,{op:"add",path:this.path,value:p(me)}),{newDocument:be}},test:function(te,se,be){return{newDocument:be,test:K(te[se],this.value)}},_get:function(te,se,be){return this.value=te[se],{newDocument:be}}},w={add:function(te,se,be){return y(se)?te.splice(se,0,this.value):te[se]=this.value,{newDocument:be,index:se}},remove:function(te,se,be){return{newDocument:be,removed:te.splice(se,1)[0]}},replace:function(te,se,be){var me=te[se];return te[se]=this.value,{newDocument:be,removed:me}},move:T.move,copy:T.copy,test:T.test,_get:T._get};function M(te,se){if(""==se)return te;var be={op:"_get",path:se};return L(te,be),be.value}function L(te,se,be,me,re,Z){if(void 0===be&&(be=!1),void 0===me&&(me=!0),void 0===re&&(re=!0),void 0===Z&&(Z=0),be&&("function"==typeof be?be(se,0,te,se.path):$(se,0)),""===se.path){var le={newDocument:te};if("add"===se.op)return le.newDocument=se.value,le;if("replace"===se.op)return le.newDocument=se.value,le.removed=te,le;if("move"===se.op||"copy"===se.op)return le.newDocument=M(te,se.from),"move"===se.op&&(le.removed=te),le;if("test"===se.op){if(le.test=K(te,se.value),!1===le.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Z,se,te);return le.newDocument=te,le}if("remove"===se.op)return le.removed=te,le.newDocument=null,le;if("_get"===se.op)return se.value=te,le;if(be)throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Z,se,te);return le}me||(te=p(te));var ve=(se.path||"").split("/"),ze=te,Se=1,et=ve.length,$e=void 0,st=void 0,We=void 0;for(We="function"==typeof be?be:$;;){if((st=ve[Se])&&-1!=st.indexOf("~")&&(st=v(st)),re&&("__proto__"==st||"prototype"==st&&Se>0&&"constructor"==ve[Se-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(be&&void 0===$e&&(void 0===ze[st]?$e=ve.slice(0,Se).join("/"):Se==et-1&&($e=se.path),void 0!==$e&&We(se,0,te,$e)),Se++,Array.isArray(ze)){if("-"===st)st=ze.length;else{if(be&&!y(st))throw new h("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Z,se,te);y(st)&&(st=~~st)}if(Se>=et){if(be&&"add"===se.op&&st>ze.length)throw new h("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Z,se,te);if(!1===(le=w[se.op].call(se,ze,st,te)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Z,se,te);return le}}else if(Se>=et){if(!1===(le=T[se.op].call(se,ze,st,te)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Z,se,te);return le}if(ze=ze[st],be&&Se<et&&(!ze||"object"!=typeof ze))throw new h("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Z,se,te)}}function N(te,se,be,me,re){if(void 0===me&&(me=!0),void 0===re&&(re=!0),be&&!Array.isArray(se))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");me||(te=p(te));for(var Z=new Array(se.length),le=0,ce=se.length;le<ce;le++)Z[le]=L(te,se[le],be,!0,re,le),te=Z[le].newDocument;return Z.newDocument=te,Z}function j(te,se,be){var me=L(te,se);if(!1===me.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",be,se,te);return me.newDocument}function $(te,se,be,me){if("object"!=typeof te||null===te||Array.isArray(te))throw new h("Operation is not an object","OPERATION_NOT_AN_OBJECT",se,te,be);if(!T[te.op])throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",se,te,be);if("string"!=typeof te.path)throw new h("Operation `path` property is not a string","OPERATION_PATH_INVALID",se,te,be);if(0!==te.path.indexOf("/")&&te.path.length>0)throw new h('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",se,te,be);if(("move"===te.op||"copy"===te.op)&&"string"!=typeof te.from)throw new h("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",se,te,be);if(("add"===te.op||"replace"===te.op||"test"===te.op)&&void 0===te.value)throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",se,te,be);if(("add"===te.op||"replace"===te.op||"test"===te.op)&&I(te.value))throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",se,te,be);if(be)if("add"==te.op){var re=te.path.split("/").length,Z=me.split("/").length;if(re!==Z+1&&re!==Z)throw new h("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",se,te,be)}else if("replace"===te.op||"remove"===te.op||"_get"===te.op){if(te.path!==me)throw new h("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",se,te,be)}else if("move"===te.op||"copy"===te.op){var ce=k([{op:"_get",path:te.from,value:void 0}],be);if(ce&&"OPERATION_PATH_UNRESOLVABLE"===ce.name)throw new h("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",se,te,be)}}function k(te,se,be){try{if(!Array.isArray(te))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(se)N(p(se),p(te),be||!0);else{be=be||$;for(var me=0;me<te.length;me++)be(te[me],me,se,void 0)}}catch(re){if(re instanceof h)return re;throw re}}function K(te,se){if(te===se)return!0;if(te&&se&&"object"==typeof te&&"object"==typeof se){var re,Z,le,be=Array.isArray(te),me=Array.isArray(se);if(be&&me){if((Z=te.length)!=se.length)return!1;for(re=Z;0!=re--;)if(!K(te[re],se[re]))return!1;return!0}if(be!=me)return!1;var ce=Object.keys(te);if((Z=ce.length)!==Object.keys(se).length)return!1;for(re=Z;0!=re--;)if(!se.hasOwnProperty(ce[re]))return!1;for(re=Z;0!=re--;)if(!K(te[le=ce[re]],se[le]))return!1;return!0}return te!=te&&se!=se}var z=new WeakMap,V=function(){return function te(se){this.observers=new Map,this.obj=se}}(),G=function(){return function te(se,be){this.callback=se,this.observer=be}}();function ne(te,se){se.unobserve()}function ee(te,se){var me,re=function X(te){return z.get(te)}(te);if(re){var Z=function J(te,se){return te.observers.get(se)}(re,se);me=Z&&Z.observer}else re=new V(te),z.set(te,re);if(me)return me;if(me={},re.value=p(te),se){me.callback=se,me.next=null;var le=function(){fe(me)},ce=function(){clearTimeout(me.next),me.next=setTimeout(le)};typeof window<"u"&&(window.addEventListener("mouseup",ce),window.addEventListener("keyup",ce),window.addEventListener("mousedown",ce),window.addEventListener("keydown",ce),window.addEventListener("change",ce))}return me.patches=[],me.object=te,me.unobserve=function(){fe(me),clearTimeout(me.next),function q(te,se){te.observers.delete(se.callback)}(re,me),typeof window<"u"&&(window.removeEventListener("mouseup",ce),window.removeEventListener("keyup",ce),window.removeEventListener("mousedown",ce),window.removeEventListener("keydown",ce),window.removeEventListener("change",ce))},re.observers.set(se,new G(se,me)),me}function fe(te,se){void 0===se&&(se=!1);var be=z.get(te.object);ye(be.value,te.object,te.patches,"",se),te.patches.length&&N(be.value,te.patches);var me=te.patches;return me.length>0&&(te.patches=[],te.callback&&te.callback(me)),me}function ye(te,se,be,me,re){if(se!==te){"function"==typeof se.toJSON&&(se=se.toJSON());for(var Z=m(se),le=m(te),ve=!1,ze=le.length-1;ze>=0;ze--){var et=te[Se=le[ze]];if(!f(se,Se)||void 0===se[Se]&&void 0!==et&&!1===Array.isArray(se))Array.isArray(te)===Array.isArray(se)?(re&&be.push({op:"test",path:me+"/"+E(Se),value:p(et)}),be.push({op:"remove",path:me+"/"+E(Se)}),ve=!0):(re&&be.push({op:"test",path:me,value:te}),be.push({op:"replace",path:me,value:se}));else{var $e=se[Se];"object"==typeof et&&null!=et&&"object"==typeof $e&&null!=$e&&Array.isArray(et)===Array.isArray($e)?ye(et,$e,be,me+"/"+E(Se),re):et!==$e&&(re&&be.push({op:"test",path:me+"/"+E(Se),value:p(et)}),be.push({op:"replace",path:me+"/"+E(Se),value:p($e)}))}}if(ve||Z.length!=le.length)for(ze=0;ze<Z.length;ze++){var Se;!f(te,Se=Z[ze])&&void 0!==se[Se]&&be.push({op:"add",path:me+"/"+E(Se),value:p(se[Se])})}}}function oe(te,se,be){void 0===be&&(be=!1);var me=[];return ye(te,se,me,"",be),me}Object.assign({},i,t,{JsonPatchError:R,deepClone:p,escapePathComponent:E,unescapePathComponent:v})},27200:(U,b,n)=>{"use strict";n.d(b,{Ff:()=>y,UJ:()=>E,eB:()=>v,l0:()=>p});var i=n(54438),t=n(60177);class c{constructor(C){this.rawFile=C;const I=C instanceof HTMLInputElement?C.value:C;this["_createFrom"+("string"==typeof I?"FakePath":"Object")](I)}_createFromFakePath(C){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${C.slice(C.lastIndexOf(".")+1).toLowerCase()}`,this.name=C.slice(C.lastIndexOf("/")+C.lastIndexOf("\\")+2)}_createFromObject(C){this.size=C.size,this.type=C.type,this.name=C.name}}class e{constructor(C,I,D){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=C,this.some=I,this.options=D,this.file=new c(I),this._file=I,C.options&&(this.method=C.options.method||"POST",this.alias=C.options.itemAlias||"file"),this.url=C.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(C){return{form:C}}onProgress(C){return{progress:C}}onSuccess(C,I,D){return{response:C,status:I,headers:D}}onError(C,I,D){return{response:C,status:I,headers:D}}onCancel(C,I,D){return{response:C,status:I,headers:D}}onComplete(C,I,D){return{response:C,status:I,headers:D}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(C){this.onBuildForm(C)}_onProgress(C){this.progress=C,this.onProgress(C)}_onSuccess(C,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(C,I,D)}_onError(C,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(C,I,D)}_onCancel(C,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(C,I,D)}_onComplete(C,I,D){this.onComplete(C,I,D),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let f=(()=>{class O{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(I){let D="application";return I?.type&&-1!==this.mime_psd.indexOf(I.type)||I?.type?.match("image.*")?D="image":I?.type?.match("video.*")?D="video":I?.type?.match("audio.*")?D="audio":"application/pdf"===I?.type?D="pdf":I?.type&&-1!==this.mime_compress.indexOf(I.type)?D="compress":I?.type&&-1!==this.mime_doc.indexOf(I.type)?D="doc":I?.type&&-1!==this.mime_xsl.indexOf(I.type)?D="xls":I?.type&&-1!==this.mime_ppt.indexOf(I.type)&&(D="ppt"),"application"===D&&I?.name&&(D=this.fileTypeDetection(I.name)),D}static fileTypeDetection(I){const D={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},R=I.split(".");if(R.length<2)return"application";const h=R[R.length-1].toLowerCase();return void 0===D[h]?"application":D[h]}}return O})();class p{constructor(C){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:I=>I._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(C),this.response=new i.bkB}setOptions(C){this.options=Object.assign(this.options,C),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let I=0;I<this.queue.length;I++)this.queue[I].url=this.options.url}addToQueue(C,I,D){let R=I;const h=[];for(const M of C)h.push(M);const S=this._getFilters(D),T=this.queue.length,w=[];h.map(M=>{R||(R=this.options);const L=new c(M);if(this._isValidFile(L,S,R)){const N=new e(this,M,R);w.push(N),this.queue.push(N),this._onAfterAddingFile(N)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(L,S[this._failFilterIndex],R)}),this.queue.length!==T&&(this._onAfterAddingAll(w),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(C){const I=this.getIndexOfItem(C),D=this.queue[I];D.isUploading&&D.cancel(),this.queue.splice(I,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(C){const I=this.getIndexOfItem(C),D=this.queue[I],R=this.options.isHTML5?"_xhrTransport":"_iframeTransport";D._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[R](D))}cancelItem(C){const I=this.getIndexOfItem(C),D=this.queue[I];D&&D.isUploading&&(this.options.isHTML5?D._xhr:D._form).abort()}uploadAll(){const C=this.getNotUploadedItems().filter(I=>!I.isUploading);C.length&&(C.map(I=>I._prepareToUploading()),C[0].upload())}cancelAll(){this.getNotUploadedItems().map(I=>I.cancel())}isFile(C){return function m(O){return File&&O instanceof File}(C)}isFileLikeObject(C){return C instanceof c}getIndexOfItem(C){return"number"==typeof C?C:this.queue.indexOf(C)}getNotUploadedItems(){return this.queue.filter(C=>!C.isUploaded)}getReadyItems(){return this.queue.filter(C=>C.isReady&&!C.isUploading).sort((C,I)=>C.index-I.index)}onAfterAddingAll(C){return{fileItems:C}}onBuildItemForm(C,I){return{fileItem:C,form:I}}onAfterAddingFile(C){return{fileItem:C}}onWhenAddingFileFailed(C,I,D){return{item:C,filter:I,options:D}}onBeforeUploadItem(C){return{fileItem:C}}onProgressItem(C,I){return{fileItem:C,progress:I}}onProgressAll(C){return{progress:C}}onSuccessItem(C,I,D,R){return{item:C,response:I,status:D,headers:R}}onErrorItem(C,I,D,R){return{item:C,response:I,status:D,headers:R}}onCancelItem(C,I,D,R){return{item:C,response:I,status:D,headers:R}}onCompleteItem(C,I,D,R){return{item:C,response:I,status:D,headers:R}}onCompleteAll(){}_mimeTypeFilter(C){return!(C?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(C.type))}_fileSizeFilter(C){return!(this.options.maxFileSize&&C.size>this.options.maxFileSize)}_fileTypeFilter(C){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(f.getMimeClass(C)))}_onErrorItem(C,I,D,R){C._onError(I,D,R),this.onErrorItem(C,I,D,R)}_onCompleteItem(C,I,D,R){C._onComplete(I,D,R),this.onCompleteItem(C,I,D,R);const h=this.getReadyItems()[0];this.isUploading=!1,h?h.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(C){return I=>I?C[I.toLowerCase()]||void 0:C}_xhrTransport(C){const I=this,D=C._xhr=new XMLHttpRequest;let R;if(this._onBeforeUploadItem(C),"number"!=typeof C._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(R=this.options.formatDataFunction(C));else{R=new FormData,this._onBuildItemForm(C,R);const h=()=>R.append(C.alias,C._file,C.file.name);this.options.parametersBeforeFiles||h(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(S=>{let T=this.options.additionalParameter?.[S];"string"==typeof T&&T.indexOf("{{file_name}}")>=0&&C.file?.name&&(T=T.replace("{{file_name}}",C.file.name)),R.append(S,T)}),h&&this.options.parametersBeforeFiles&&h()}if(D.upload.onprogress=h=>{const S=Math.round(h.lengthComputable?100*h.loaded/h.total:0);this._onProgressItem(C,S)},D.onload=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this[`_on${this._isSuccessCode(D.status)?"Success":"Error"}Item`](C,S,D.status,h),this._onCompleteItem(C,S,D.status,h)},D.onerror=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this._onErrorItem(C,S,D.status,h),this._onCompleteItem(C,S,D.status,h)},D.onabort=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this._onCancelItem(C,S,D.status,h),this._onCompleteItem(C,S,D.status,h)},C.method&&C.url&&D.open(C.method,C.url,!0),D.withCredentials=C.withCredentials,this.options.headers)for(const h of this.options.headers)D.setRequestHeader(h.name,h.value);if(C.headers.length)for(const h of C.headers)D.setRequestHeader(h.name,h.value);this.authToken&&this.authTokenHeader&&D.setRequestHeader(this.authTokenHeader,this.authToken),D.onreadystatechange=function(){D.readyState==XMLHttpRequest.DONE&&I.response.emit(D.responseText)},this.options.formatDataFunctionIsAsync?R.then(h=>D.send(JSON.stringify(h))):D.send(R),this._render()}_getTotalProgress(C=0){if(this.options.removeAfterUpload)return C;const I=this.getNotUploadedItems().length,R=100/this.queue.length;return Math.round((I?this.queue.length-I:this.queue.length)*R+C*R/100)}_getFilters(C){if(!C)return this.options?.filters||[];if(Array.isArray(C))return C;if("string"==typeof C){const I=C.match(/[^\s,]+/g);return this.options?.filters||[].filter(D=>-1!==I?.indexOf(D.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(C,I,D){return this._failFilterIndex=-1,!I.length||I.every(R=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,R.fn.call(this,C,D)))}_isSuccessCode(C){return C>=200&&C<300||304===C}_transformResponse(C){return C}_parseHeaders(C){const I={};let D,R,h;return C&&C.split("\n").map(S=>{h=S.indexOf(":"),D=S.slice(0,h).trim().toLowerCase(),R=S.slice(h+1).trim(),D&&(I[D]=I[D]?I[D]+", "+R:R)}),I}_onWhenAddingFileFailed(C,I,D){this.onWhenAddingFileFailed(C,I,D)}_onAfterAddingFile(C){this.onAfterAddingFile(C)}_onAfterAddingAll(C){this.onAfterAddingAll(C)}_onBeforeUploadItem(C){C._onBeforeUpload(),this.onBeforeUploadItem(C)}_onBuildItemForm(C,I){C._onBuildForm(I),this.onBuildItemForm(C,I)}_onProgressItem(C,I){const D=this._getTotalProgress(I);this.progress=D,C._onProgress(I),this.onProgressItem(C,I),this.onProgressAll(D),this._render()}_onSuccessItem(C,I,D,R){C._onSuccess(I,D,R),this.onSuccessItem(C,I,D,R)}_onCancelItem(C,I,D,R){C._onCancel(I,D,R),this.onCancelItem(C,I,D,R)}}let y=(()=>{class O{constructor(I){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(I){const D=this._getTransfer(I);if(!D)return;const R=this.getOptions(),h=this.getFilters();this._preventAndStop(I),R&&this.uploader?.addToQueue(D.files,R,h),this.fileOver.emit(!1),this.onFileDrop.emit(D.files)}onDragOver(I){const D=this._getTransfer(I);this._haveFiles(D.types)&&(D.dropEffect="copy",this._preventAndStop(I),this.fileOver.emit(!0))}onDragLeave(I){this.element&&I.currentTarget===this.element[0]||(this._preventAndStop(I),this.fileOver.emit(!1))}_getTransfer(I){return I.dataTransfer?I.dataTransfer:I.originalEvent.dataTransfer}_preventAndStop(I){I.preventDefault(),I.stopPropagation()}_haveFiles(I){return!!I&&(I.indexOf?-1!==I.indexOf("Files"):!!I.contains&&I.contains("Files"))}static{this.\u0275fac=function(D){return new(D||O)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:O,selectors:[["","ng2FileDrop",""]],hostBindings:function(D,R){1&D&&i.bIt("drop",function(S){return R.onDrop(S)})("dragover",function(S){return R.onDragOver(S)})("dragleave",function(S){return R.onDragLeave(S)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return O})(),E=(()=>{class O{constructor(I){this.onFileSelected=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const I=this.element.nativeElement.files,D=this.getOptions(),R=this.getFilters();this.uploader?.addToQueue(I,D,R),this.onFileSelected.emit(I),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(D){return new(D||O)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:O,selectors:[["","ng2FileSelect",""]],hostBindings:function(D,R){1&D&&i.bIt("change",function(){return R.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return O})(),v=(()=>{class O{static{this.\u0275fac=function(D){return new(D||O)}}static{this.\u0275mod=i.$C({type:O})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return O})()},86820:(U,b,n)=>{"use strict";n.d(b,{D:()=>et,e:()=>st});var i=n(54438),t=n(7673),c=n(33726),e=n(73028),f=n(96354),m=n(88141),p=n(5964),y=n(43236),E=n(39974),v=n(54360),O=n(58750),I=n(41584);function R(We,De,ut,Ge){const wt=window&&!!window.document&&window.document.documentElement;let ot=wt&&De?window:ut;if(We&&(ot=We&&wt&&"string"==typeof We?function h(We,De,ut){return(ut?window.document:De).querySelector(We)}(We,ut.nativeElement,Ge):We,!ot))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return ot}function S(We){return We&&!We.firstChange}const w={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},M={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class L{constructor(De=!0){this.vertical=De,this.propsMap=De?w:M}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function k(We){return["Window","global"].some(ut=>Object.prototype.toString.call(We).includes(ut))}function K(We,De){return We?De.document.documentElement:null}function z(We,De){const ut=function J({container:We,isWindow:De,axis:ut}){const{offsetHeightKey:Ge,clientHeightKey:wt}=X(ut);return q(We,De,Ge,wt)}(De);return De.isWindow?function V(We,De,ut){const{axis:Ge,container:wt,isWindow:ot}=ut,{offsetHeightKey:Tt,clientHeightKey:Ee}=X(Ge),je=We+ee(K(ot,wt),Ge,ot),mt=q(De.nativeElement,ot,Tt,Ee),vn=function ne(We,De,ut){const Ge=De.topKey();if(We.getBoundingClientRect)return We.getBoundingClientRect()[Ge]+ee(We,De,ut)}(De.nativeElement,Ge,ot)+mt;return{height:We,scrolled:je,totalToScroll:vn,isWindow:ot}}(ut,We,De):function G(We,De,ut){const{axis:Ge,container:wt}=ut;return{height:We,scrolled:wt[Ge.scrollTopKey()],totalToScroll:wt[Ge.scrollHeightKey()],isWindow:!1}}(ut,0,De)}function X(We){return{offsetHeightKey:We.offsetHeightKey(),clientHeightKey:We.clientHeightKey()}}function q(We,De,ut,Ge){if(isNaN(We[ut])){const wt=K(De,We);return wt?wt[Ge]:0}return We[ut]}function ee(We,De,ut){const Ge=De.pageYOffsetKey(),wt=De.scrollTopKey(),ot=De.offsetTopKey();return isNaN(window.pageYOffset)?K(ut,We)[wt]:We.ownerDocument?We.ownerDocument.defaultView[Ge]:We[ot]}function fe(We,De={down:0,up:0},ut){let Ge,wt;if(We.totalToScroll<=0)return!1;const ot=We.isWindow?We.scrolled:We.height+We.scrolled;return ut?(Ge=(We.totalToScroll-ot)/We.totalToScroll,wt=(De?.down?De.down:0)/10):(Ge=We.scrolled/(We.scrolled+(We.totalToScroll-ot)),wt=(De?.up?De.up:0)/10),Ge<=wt}class Z{constructor(De){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,De)}updateScrollPosition(De){return this.lastScrollPosition=De}updateTotalToScroll(De){this.lastTotalToScroll!==De&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=De)}updateScroll(De,ut){this.updateScrollPosition(De),this.updateTotalToScroll(ut)}updateTriggeredFlag(De,ut){ut?this.triggered.down=De:this.triggered.up=De}isTriggeredScroll(De,ut){return ut?this.triggered.down===De:this.triggered.up===De}}function le(We){const{scrollContainer:De,scrollWindow:ut,element:Ge,fromRoot:wt}=We,ot=function j({windowElement:We,axis:De}){return function $(We,De){const ut=We.isWindow||De&&!De.nativeElement?De:De.nativeElement;return{...We,container:ut}}({axis:De,isWindow:k(We)},We)}({axis:new L(!We.horizontal),windowElement:R(De,ut,Ge,wt)}),Tt=new Z({totalToScroll:z(Ge,ot).totalToScroll}),je={up:We.upDistance,down:We.downDistance};return function ce(We){let De=(0,c.R)(We.container,"scroll");return We.throttle&&(De=De.pipe(function D(We,De=y.E,ut){const Ge=(0,I.O)(We,De);return function C(We,De){return(0,E.N)((ut,Ge)=>{const{leading:wt=!0,trailing:ot=!1}=De??{};let Tt=!1,Ee=null,je=null,mt=!1;const vn=()=>{je?.unsubscribe(),je=null,ot&&(bt(),mt&&Ge.complete())},hn=()=>{je=null,mt&&Ge.complete()},jn=St=>je=(0,O.Tg)(We(St)).subscribe((0,v._)(Ge,vn,hn)),bt=()=>{if(Tt){Tt=!1;const St=Ee;Ee=null,Ge.next(St),!mt&&jn(St)}};ut.subscribe((0,v._)(Ge,St=>{Tt=!0,Ee=St,(!je||je.closed)&&(wt?bt():jn(St))},()=>{mt=!0,(!(ot&&Tt&&je)||je.closed)&&Ge.complete()}))})}(()=>Ge,ut)}(We.throttle,void 0,{leading:!0,trailing:!0}))),De}({container:ot.container,throttle:We.throttle}).pipe((0,e.Z)(()=>(0,t.of)(z(Ge,ot))),(0,f.T)(mt=>function ve(We,De,ut){const{scrollDown:Ge,fire:wt}=function oe(We,De,ut){const Ge=function ye(We,De){return We<De.scrolled}(We,De);return{fire:fe(De,ut,Ge),scrollDown:Ge}}(We,De,ut);return{scrollDown:Ge,fire:wt,stats:De}}(Tt.lastScrollPosition,mt,je)),(0,m.M)(({stats:mt})=>Tt.updateScroll(mt.scrolled,mt.totalToScroll)),(0,p.p)(({fire:mt,scrollDown:vn,stats:{totalToScroll:hn}})=>function N(We,De,ut){return!!(We&&De||!ut&&De)}(We.alwaysCallback,mt,Tt.isTriggeredScroll(hn,vn))),(0,m.M)(({scrollDown:mt,stats:{totalToScroll:vn}})=>{Tt.updateTriggeredFlag(vn,mt)}),(0,f.T)(Se))}const ze={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Se(We){const{scrollDown:De,stats:{scrolled:ut}}=We;return{type:De?ze.DOWN:ze.UP,payload:{currentScrollPosition:ut}}}let et=(()=>{class We{constructor(ut,Ge){this.element=ut,this.zone=Ge,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:ut,infiniteScrollDisabled:Ge,infiniteScrollDistance:wt}){const ot=S(ut),Tt=S(Ge),Ee=S(wt),je=!Tt&&!this.infiniteScrollDisabled||Tt&&!Ge.currentValue||Ee;(ot||Tt||Ee)&&(this.destroyScroller(),je&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){(function T(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=le({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(ut=>this.handleOnScroll(ut))})}handleOnScroll({type:ut,payload:Ge}){const wt=ut===ze.DOWN?this.scrolled:this.scrolledUp;(function $e(We){return We.observed??We.observers.length>0})(wt)&&this.zone.run(()=>wt.emit(Ge))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(Ge){return new(Ge||We)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:We,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},standalone:!0,features:[i.OA$]})}}return We})(),st=(()=>{class We{static{this.\u0275fac=function(Ge){return new(Ge||We)}}static{this.\u0275mod=i.$C({type:We})}static{this.\u0275inj=i.G2t({})}}return We})()},85188:(U,b,n)=>{"use strict";n.d(b,{Dz:()=>y,I0:()=>I,mB:()=>h});var i=n(74523),t=n(54438),c=n(89417),e=n(60177);const f=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),p=new t.nKC("initial ngx-mask config"),y={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},E=["Hh:m0:s0","Hh:m0","m0:s0"],v=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let O=(()=>{class T{constructor(M){this._config=M,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(L,N,j,$)=>{let k=[],K="";if(Array.isArray(j)){const J=new RegExp(j.map(q=>"[\\^$.|?*+()".indexOf(q)>=0?`\\${q}`:q).join("|"));k=L.split(J),K=L.match(J)?.[0]??""}else k=L.split(j),K=j;const z=k.length>1?`${K}${k[1]}`:"";let V=k[0]??"";const G=this.separatorLimit.replace(/\s/g,"");G&&+G&&(V="-"===V[0]?`-${V.slice(1,V.length).slice(0,G.length)}`:V.slice(0,G.length));const X=/(\d+)(\d{3})/;for(;N&&X.test(V);)V=V.replace(X,"$1"+N+"$2");return void 0===$?V+z:0===$?V:V+z.substring(0,$+1)},this.percentage=L=>Number(L)>=0&&Number(L)<=100,this.getPrecision=L=>{const N=L.split(".");return N.length>1?Number(N[N.length-1]):1/0},this.checkAndRemoveSuffix=L=>{for(let N=this.suffix?.length-1;N>=0;N--){const j=this.suffix.substring(N,this.suffix?.length);if(L.includes(j)&&N!==this.suffix?.length-1&&(N-1<0||!L.includes(this.suffix.substring(N-1,this.suffix?.length))))return L.replace(j,"")}return L},this.checkInputPrecision=(L,N,j)=>{if(N<1/0){if(Array.isArray(j)){const z=j.find(V=>V!==this.thousandSeparator);j=z||j[0]}const $=new RegExp(this._charToRegExpExpression(j)+`\\d{${N}}.*$`),K=(L.match($)??[])[0]?.length??0;K-1>N&&(L=L.substring(0,L.length-(K-1-N))),0===N&&this._compareOrIncludes(L[L.length-1],j,this.thousandSeparator)&&(L=L.substring(0,L.length-1))}return L},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(M,L){const[N,j]=L;return this.customPattern=j,this.applyMask(M,N)}applyMask(M,L,N=0,j=!1,$=!1,k=()=>{}){if(!L||"string"!=typeof M)return"";let K=0,z="",V=!1,G=!1,X=1,J=!1;M.slice(0,this.prefix.length)===this.prefix&&(M=M.slice(this.prefix.length,M.length)),this.suffix&&M?.length>0&&(M=this.checkAndRemoveSuffix(M));const q=M.toString().split("");if("IP"===L){const ue=M.split(".");this.ipError=this._validIP(ue),L="099.099.099.099"}const ne=[];for(let ue=0;ue<M.length;ue++)M[ue]?.match("\\d")&&ne.push(M[ue]??"");if("CPF_CNPJ"===L&&(this.cpfCnpjError=11!==ne.length&&14!==ne.length,L=ne.length>11?"00.000.000/0000-00":"000.000.000-00"),L.startsWith("percent")){if(M.match("[a-z]|[A-Z]")||M.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){M=this._stripToDecimal(M);const ue=this.getPrecision(L);M=this.checkInputPrecision(M,ue,this.decimalMarker)}M.indexOf(".")>0&&!this.percentage(M.substring(0,M.indexOf(".")))&&(M=`${M.substring(0,M.indexOf(".")-1)}${M.substring(M.indexOf("."),M.length)}`),z=this.percentage(M)?M:M.substring(0,M.length-1)}else if(L.startsWith("separator")){(M.match("[w\u0430-\u044f\u0410-\u042f]")||M.match("[\u0401\u0451\u0410-\u044f]")||M.match("[a-z]|[A-Z]")||M.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||M.match("[^A-Za-z0-9,]"))&&(M=this._stripToDecimal(M)),M=M.length>1&&"0"===M[0]&&M[1]!==this.thousandSeparator&&!this._compareOrIncludes(M[1],this.decimalMarker,this.thousandSeparator)&&!$?M.slice(0,M.length-1):M,$&&(M=this._compareOrIncludes(M[M.length-1],this.decimalMarker,this.thousandSeparator)?M.slice(0,M.length-1):M);const ue=this._charToRegExpExpression(this.thousandSeparator);let te='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(ue,"");if(Array.isArray(this.decimalMarker))for(const le of this.decimalMarker)te=te.replace(this._charToRegExpExpression(le),"");else te=te.replace(this._charToRegExpExpression(this.decimalMarker),"");const se=new RegExp("["+te+"]");(M.match(se)||1===M.length&&this._compareOrIncludes(M,this.decimalMarker,this.thousandSeparator))&&(M=M.substring(0,M.length-1));const be=this.getPrecision(L),me=(M=this.checkInputPrecision(M,be,this.decimalMarker)).replace(new RegExp(ue,"g"),"");z=this._formatWithSeparators(me,this.thousandSeparator,this.decimalMarker,be);const re=z.indexOf(",")-M.indexOf(","),Z=z.length-M.length;if(Z>0&&","!==z[N]){G=!0;let le=0;do{this._shift.add(N+le),le++}while(le<Z)}else 0!==re&&N>0&&!(z.indexOf(",")>=N&&N>3)||!(z.indexOf(".")>=N&&N>3)&&Z<=0?(this._shift.clear(),G=!0,X=Z,this._shift.add(N+=Z)):this._shift.clear()}else for(let ue=0,te=q[0];ue<q.length&&K!==L.length;ue++,te=q[ue]??"")if(this._checkSymbolMask(te,L[K]??"")&&"?"===L[K+1])z+=te,K+=2;else if("*"===L[K+1]&&V&&this._checkSymbolMask(te,L[K+2]??""))z+=te,K+=3,V=!1;else if(this._checkSymbolMask(te,L[K]??"")&&"*"===L[K+1])z+=te,V=!0;else if("?"===L[K+1]&&this._checkSymbolMask(te,L[K+2]??""))z+=te,K+=3;else if(this._checkSymbolMask(te,L[K]??"")){if("H"===L[K]&&Number(te)>2){K+=1,this._shiftStep(L,K,q.length),ue--,this.leadZeroDateTime&&(z+="0");continue}if("h"===L[K]&&"2"===z&&Number(te)>3){K+=1,ue--;continue}if("m"===L[K]&&Number(te)>5){K+=1,this._shiftStep(L,K,q.length),ue--,this.leadZeroDateTime&&(z+="0");continue}if("s"===L[K]&&Number(te)>5){K+=1,this._shiftStep(L,K,q.length),ue--,this.leadZeroDateTime&&(z+="0");continue}const se=31;if("d"===L[K]&&(Number(te)>3&&this.leadZeroDateTime||Number(M.slice(K,K+2))>se||"/"===M[K+1])){K+=1,this._shiftStep(L,K,q.length),ue--,this.leadZeroDateTime&&(z+="0");continue}if("M"===L[K]){const me=0===K&&(Number(te)>2||Number(M.slice(K,K+2))>12||"/"===M[K+1]),re=M.slice(K-3,K-1).includes("/")&&("/"===M[K-2]&&Number(M.slice(K-1,K+1))>12&&"/"!==M[K]||"/"===M[K]||"/"===M[K-3]&&Number(M.slice(K-2,K))>12&&"/"!==M[K-1]||"/"===M[K-1]),Z=Number(M.slice(K-3,K-1))<=se&&!M.slice(K-3,K-1).includes("/")&&"/"===M[K-1]&&(Number(M.slice(K,K+2))>12||"/"===M[K+1]),le=Number(M.slice(K-3,K-1))>se&&!M.slice(K-3,K-1).includes("/")&&!M.slice(K-2,K).includes("/")&&Number(M.slice(K-2,K))>12,ce=Number(M.slice(K-3,K-1))<=se&&!M.slice(K-3,K-1).includes("/")&&"/"!==M[K-1]&&Number(M.slice(K-1,K+1))>12;if(Number(te)>1&&this.leadZeroDateTime||me||re||Z||le||ce){K+=1,this._shiftStep(L,K,q.length),ue--,this.leadZeroDateTime&&(z+="0");continue}}z+=te,K++}else" "===te&&" "===L[K]?(z+=te,K++):-1!==this.maskSpecialCharacters.indexOf(L[K]??"")?(z+=L[K],K++,this._shiftStep(L,K,q.length),ue--):this.maskSpecialCharacters.indexOf(te)>-1&&this.maskAvailablePatterns[L[K]??""]&&this.maskAvailablePatterns[L[K]??""]?.optional?(q[K]&&"099.099.099.099"!==L&&"000.000.000-00"!==L&&"00.000.000/0000-00"!==L&&!L.match(/^9+\.0+$/)&&(z+=q[K]),K++,ue--):"*"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(te)===this.maskExpression[K+2]&&V||"?"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(te)===this.maskExpression[K+2]&&V?(K+=3,z+=te):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(te)<0&&te!==this.placeHolderCharacter&&(J=!0);z.length+1===L.length&&-1!==this.maskSpecialCharacters.indexOf(L[L.length-1]??"")&&(z+=L[L.length-1]);let ee=N+1;for(;this._shift.has(ee);)X++,ee++;let fe=j&&!L.startsWith("separator")?K:this._shift.has(N)?X:0;J&&fe--,k(fe,G),X<0&&this._shift.clear();let ye=!1;$&&(ye=q.every(ue=>this.maskSpecialCharacters.includes(ue)));let oe=`${this.prefix}${ye?"":z}${this.suffix}`;return 0===z.length&&(oe=`${this.prefix}${z}`),oe}_findSpecialChar(M){return this.maskSpecialCharacters.find(L=>L===M)}_checkSymbolMask(M,L){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[L]?.pattern&&this.maskAvailablePatterns[L]?.pattern.test(M))??!1}_stripToDecimal(M){return M.split("").filter((L,N)=>{const j="string"==typeof this.decimalMarker?L===this.decimalMarker:this.decimalMarker.includes(L);return L.match("^-?\\d")||L===this.thousandSeparator||j||"-"===L&&0===N&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(M){return M&&(" "===M?"\\s":"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M)}_shiftStep(M,L,N){const j=/[*?]/g.test(M.slice(0,L))?N:L;this._shift.add(j+this.prefix.length||0)}_compareOrIncludes(M,L,N){return Array.isArray(L)?L.filter(j=>j!==N).includes(M):M===L}_validIP(M){return!(4===M.length&&!M.some((L,N)=>M.length!==N+1?""===L||Number(L)>255:""===L||Number(L.substring(0,3))>255))}}return T.\u0275fac=function(M){return new(M||T)(t.KVO(f))},T.\u0275prov=t.jDH({token:T,factory:T.\u0275fac}),T})(),C=(()=>{class T extends O{constructor(M,L,N,j){super(L),this.document=M,this._config=L,this._elementRef=N,this._renderer=j,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=$=>{}}applyMask(M,L,N=0,j=!1,$=!1,k=()=>{}){if(!L)return M!==this.actualValue?this.actualValue:M;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),!M&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const K=M&&"number"==typeof this.selStart?M[this.selStart]??"":"";let z="";if(void 0!==this.hiddenInput&&!this.writingValue){let J=this.actualValue.split("");""!==M&&J.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(M.length>J.length?J.splice(this.selStart,0,K):M.length<J.length&&(J.length-M.length==1?J.splice(this.selStart-1,1):J.splice(this.selStart,this.selEnd-this.selStart))):J=[],this.showMaskTyped&&(M=this.removeMask(M)),z=this.actualValue.length&&J.length<=M.length?this.shiftTypedSymbols(J.join("")):M}this.showMaskTyped&&(M=this.removeMask(M)),z=z&&z.length?z:M;const V=super.applyMask(z,L,N,j,$,k);if(this.actualValue=this.getActualValue(V),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(J=>!this._compareOrIncludes(J,this.decimalMarker,this.thousandSeparator))),this.formControlResult(V),!this.showMaskTyped)return this.hiddenInput&&V&&V.length?this.hideInput(V,this.maskExpression):V;const G=V.length,X=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const J=this._numberSkipedSymbols(V);return V+X.slice(G+J)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?V+X:V+X.slice(G)}_numberSkipedSymbols(M){const L=/(^|\D)(\d\D)/g;let N=L.exec(M),j=0;for(;null!=N;)j+=1,N=L.exec(M);return j}applyValueChanges(M,L,N,j=()=>{}){const $=this._elementRef.nativeElement;$.value=this.applyMask($.value,this.maskExpression,M,L,N,j),$!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(M,L){return M.split("").map((N,j)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[L[j]??""]&&this.maskAvailablePatterns[L[j]??""]?.symbol?this.maskAvailablePatterns[L[j]??""]?.symbol:N).join("")}getActualValue(M){const L=M.split("").filter((N,j)=>{const $=this.maskExpression[j]??"";return this._checkSymbolMask(N,$)||this.maskSpecialCharacters.includes($)&&N===$});return L.join("")===M?L.join(""):M}shiftTypedSymbols(M){let L="";return(M&&M.split("").map((j,$)=>{if(this.maskSpecialCharacters.includes(M[$+1]??"")&&M[$+1]!==this.maskExpression[$+1])return L=j,M[$+1];if(L.length){const k=L;return L="",k}return j})||[]).join("")}numberToString(M){return M||0===M?Number(M).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(M)}showMaskInInput(M){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(M){if("IP"===this.maskExpression)return this._checkForIp(M);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(M)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const M=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==M.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(M.value,this.maskExpression))}set formElementProperty([M,L]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,M,L))}checkSpecialCharAmount(M){return M.split("").filter(N=>this._findSpecialChar(N)).length}removeMask(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(M){if("#"===M)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const L=[];for(let N=0;N<M.length;N++){const j=M[N]??"";j&&j.match("\\d")&&L.push(j)}return L.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>3&&L.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>6&&L.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(M){const L=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,N=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===M)return L;const j=[];for(let $=0;$<M.length;$++){const k=M[$]??"";k&&k.match("\\d")&&j.push(k)}return j.length<=3?L.slice(j.length,L.length):j.length>3&&j.length<=6?L.slice(j.length+1,L.length):j.length>6&&j.length<=9?L.slice(j.length+2,L.length):j.length>9&&j.length<11?L.slice(j.length+3,L.length):11===j.length?"":12===j.length?N.slice(17===M.length?16:15,N.length):j.length>12&&j.length<=14?N.slice(j.length+4,N.length):""}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}formControlResult(M){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(M)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(M)):this._removeSuffix(M))}_toNumber(M){if(!this.isNumberValue||""===M)return M;const L=Number(M);return Number.isNaN(L)?M:L}_removeMask(M,L){return M&&M.replace(this._regExpForRemove(L),"")}_removePrefix(M){return this.prefix?M&&M.replace(this.prefix,""):M}_removeSuffix(M){return this.suffix?M&&M.replace(this.suffix,""):M}_retrieveSeparatorValue(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters)}_regExpForRemove(M){return new RegExp(M.map(L=>`\\${L}`).join("|"),"gi")}_replaceDecimalMarkerToDot(M){const L=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return M.replace(this._regExpForRemove(L),".")}_checkSymbols(M){if(""===M)return M;const L=this._retrieveSeparatorPrecision(this.maskExpression),N=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(M));return this.isNumberValue?L?M===this.decimalMarker?null:this._checkPrecision(this.maskExpression,N):Number(N):N}_retrieveSeparatorPrecision(M){const L=M.match(new RegExp("^separator\\.([^d]*)"));return L?Number(L[1]):null}_checkPrecision(M,L){return M.indexOf("2")>0?Number(L).toFixed(2):Number(L)}}return T.\u0275fac=function(M){return new(M||T)(t.KVO(e.qQ),t.KVO(f),t.KVO(t.aKT),t.KVO(t.sFG))},T.\u0275prov=t.jDH({token:T,factory:T.\u0275fac}),T})(),I=(()=>{class T{constructor(M,L,N){this.document=M,this._maskService=L,this._config=N,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=j=>{},this.onTouch=()=>{}}ngOnChanges(M){const{maskExpression:L,specialCharacters:N,patterns:j,prefix:$,suffix:k,thousandSeparator:K,decimalMarker:z,dropSpecialCharacters:V,hiddenInput:G,showMaskTyped:X,placeHolderCharacter:J,shownMaskExpression:q,showTemplate:ne,clearIfNotMatch:ee,validation:fe,separatorLimit:ye,allowNegativeNumbers:oe,leadZeroDateTime:ue,triggerOnMaskChange:te}=M;if(L&&(L.currentValue!==L.previousValue&&!L.firstChange&&(this._maskService.maskChanged=!0),L.currentValue&&L.currentValue.split("||").length>1?(this._maskExpressionArray=L.currentValue.split("||").sort((se,be)=>se.length-be.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=L.currentValue||"",this._maskService.maskExpression=this._maskValue)),N){if(!N.currentValue||!Array.isArray(N.currentValue))return;this._maskService.maskSpecialCharacters=N.currentValue||[]}j&&j.currentValue&&(this._maskService.maskAvailablePatterns=j.currentValue),$&&(this._maskService.prefix=$.currentValue),k&&(this._maskService.suffix=k.currentValue),K&&(this._maskService.thousandSeparator=K.currentValue),z&&(this._maskService.decimalMarker=z.currentValue),V&&(this._maskService.dropSpecialCharacters=V.currentValue),G&&(this._maskService.hiddenInput=G.currentValue),X&&(this._maskService.showMaskTyped=X.currentValue),J&&(this._maskService.placeHolderCharacter=J.currentValue),q&&(this._maskService.shownMaskExpression=q.currentValue),ne&&(this._maskService.showTemplate=ne.currentValue),ee&&(this._maskService.clearIfNotMatch=ee.currentValue),fe&&(this._maskService.validation=fe.currentValue),ye&&(this._maskService.separatorLimit=ye.currentValue),oe&&(this._maskService.allowNegativeNumbers=oe.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(se=>"-"!==se))),ue&&(this._maskService.leadZeroDateTime=ue.currentValue),te&&(this._maskService.triggerOnMaskChange=te.currentValue),this._applyMask()}validate({value:M}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(M);if(this._maskService.cpfCnpjError)return this._createValidationError(M);if(this._maskValue.startsWith("separator")||v.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(E.includes(this._maskValue))return this._validateTime(M);if(M&&M.toString().length>=1){let L=0;for(const N in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[N]?.optional&&(this._maskValue.indexOf(N)!==this._maskValue.lastIndexOf(N)?L+=this._maskValue.split("").filter($=>$===N).join("").length:-1!==this._maskValue.indexOf(N)&&L++,-1!==this._maskValue.indexOf(N)&&M.toString().length>=this._maskValue.indexOf(N)||L===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&M.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&M.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&M.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(M);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const N=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-L:this._maskValue.length-L;if(M.toString().length<N)return this._createValidationError(M)}}return M&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(M){(""===M||null==M)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(M){const L=M.target;if(this._inputValue=L.value,this._setMask(),!this._maskValue)return void this.onChange(L.value);const N=1===L.selectionStart?L.selectionStart+this._maskService.prefix.length:L.selectionStart;let j=0,$=!1;if(this._maskService.applyValueChanges(N,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(K,z)=>{this._justPasted=!1,j=K,$=z}),this._getActiveElement()!==L)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let k=this._position?this._inputValue.length+N+j:N+("Backspace"!==this._code||$?j:0);k>this._getActualInputLength()&&(k=this._getActualInputLength()),k<0&&(k=0),L.setSelectionRange(k,k),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(M){if(!this._maskValue)return;const L=M.target;null!==L&&null!==L.selectionStart&&L.selectionStart===L.selectionEnd&&L.selectionStart>this._maskService.prefix.length&&38!==M.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),L.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===L.value?(L.focus(),L.setSelectionRange(0,0)):L.selectionStart>this._maskService.actualValue.length&&L.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const $=L&&(L.value&&L.value!==this._maskService.prefix?L.value:this._maskService.prefix+this._maskService.maskIsShown);L&&L.value!==$&&(L.value=$),L&&(L.selectionStart||L.selectionEnd)<=this._maskService.prefix.length?L.selectionStart=this._maskService.prefix.length:L&&L.selectionEnd>this._getActualInputLength()&&(L.selectionEnd=this._getActualInputLength())}onKeyDown(M){if(!this._maskValue)return;this._code=M.code?M.code:M.key;const L=M.target;if(this._inputValue=L.value,this._setMask(),38===M.keyCode&&M.preventDefault(),37===M.keyCode||8===M.keyCode||46===M.keyCode){if(8===M.keyCode&&0===L.value.length&&(L.selectionStart=L.selectionEnd),8===M.keyCode&&0!==L.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&L.selectionStart<=this.prefix.length)L.setSelectionRange(this.prefix.length,L.selectionEnd);else if(this._inputValue.length!==L.selectionStart&&1!==L.selectionStart)for(;this.specialCharacters.includes((this._inputValue[L.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&L.selectionStart>this.prefix.length||0===this.prefix.length);)L.setSelectionRange(L.selectionStart-1,L.selectionEnd);this.checkSelectionOnDeletion(L),this._maskService.prefix.length&&L.selectionStart<=this._maskService.prefix.length&&L.selectionEnd<=this._maskService.prefix.length&&M.preventDefault(),8===M.keyCode&&!L.readOnly&&0===L.selectionStart&&L.selectionEnd===L.value.length&&0!==L.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<L.selectionStart?L.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===M.keyCode&&M.ctrlKey||65===M.keyCode&&M.metaKey)&&(L.setSelectionRange(0,this._getActualInputLength()),M.preventDefault()),this._maskService.selStart=L.selectionStart,this._maskService.selEnd=L.selectionEnd}writeValue(M){var L=this;return(0,i.A)(function*(){"object"==typeof M&&null!==M&&"value"in M&&("disable"in M&&L.setDisabledState(!!M.disable),M=M.value),("number"==typeof M||L._maskValue.startsWith("separator"))&&(M=L._maskService.numberToString(M),Array.isArray(L.decimalMarker)||(M="."!==L.decimalMarker?M.replace(".",L.decimalMarker):M),L._maskService.isNumberValue=!0),"string"!=typeof M&&(M=""),L._inputValue=M,L._setMask(),M&&L._maskService.maskExpression||L._maskService.maskExpression&&(L._maskService.prefix||L._maskService.showMaskTyped)?(L._maskService.writingValue=!0,L._maskService.formElementProperty=["value",L._maskService.applyMask(M,L._maskService.maskExpression)],L._maskService.writingValue=!1):L._maskService.formElementProperty=["value",M],L._inputValue=M})()}registerOnChange(M){this._maskService.onChange=this.onChange=M}registerOnTouched(M){this.onTouch=M}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}checkSelectionOnDeletion(M){M.selectionStart=Math.min(Math.max(this.prefix.length,M.selectionStart),this._inputValue.length-this.suffix.length),M.selectionEnd=Math.min(Math.max(this.prefix.length,M.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(M){this._maskService.formElementProperty=["disabled",M]}_repeatPatternSymbols(M){return M.match(/{[0-9]+}/)&&M.split("").reduce((L,N,j)=>{if(this._start="{"===N?j:this._start,"}"!==N)return this._maskService._findSpecialChar(N)?L+N:L;this._end=j;const $=Number(M.slice(this._start+1,this._end));return L+new Array($+1).join(M[this._start-1])},"")||M}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(M){const L=this._maskValue.split("").filter(N=>":"!==N).length;return M&&(0==+(M[M.length-1]??-1)&&M.length<L||M.length<=L-2)?this._createValidationError(M):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(M){return{mask:{requiredMask:this._maskValue,actualValue:M}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(M=>{const L=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(M)?.length;if(this._inputValue&&L)return this._maskValue=M,this.maskExpression=M,this._maskService.maskExpression=M,L;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return T.\u0275fac=function(M){return new(M||T)(t.rXU(e.qQ),t.rXU(C),t.rXU(f))},T.\u0275dir=t.FsC({type:T,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(M,L){1&M&&t.bIt("paste",function(){return L.onPaste()})("ngModelChange",function(j){return L.onModelChange(j)})("input",function(j){return L.onInput(j)})("blur",function(){return L.onBlur()})("click",function(j){return L.onClick(j)})("keydown",function(j){return L.onKeyDown(j)})},inputs:{maskExpression:[0,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:c.kq,useExisting:(0,t.Rfq)(()=>T),multi:!0},{provide:c.cz,useExisting:(0,t.Rfq)(()=>T),multi:!0},C]),t.OA$]}),T})();function R(T,w){return w instanceof Function?{...T,...w()}:{...T,...w}}let h=(()=>{class T{static forRoot(M){return{ngModule:T,providers:[{provide:m,useValue:M},{provide:p,useValue:y},{provide:f,useFactory:R,deps:[p,m]},O]}}static forChild(){return{ngModule:T}}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=t.$C({type:T}),T.\u0275inj=t.G2t({}),T})();const S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};S.KeyboardEvent||(S.KeyboardEvent=function(T,w){})},37542:(U,b,n)=>{"use strict";n.d(b,{$z:()=>st,Gc:()=>w,HU:()=>S,MH:()=>E,TV:()=>ze,kA:()=>be,rm:()=>$e});var i=n(74523),t=n(60177),c=n(54438),e=n(21413);function E(gt,an){const we=an?function y(gt){return"string"==typeof gt?()=>{throw new Error(gt)}:gt}(an):()=>{};let Ct=!1;return(...$t)=>Ct?we(...$t):(Ct=!0,gt(...$t))}function v(gt){return gt.endsWith("/")?gt:`${gt}/`}n(33726),n(57786),n(345);const O=(gt,an)=>{const we=an.createElement("script");return we.type="text/javascript",we.defer=!0,we.async=!0,we.src=gt,we},C=new c.nKC("MATOMO_SCRIPT_FACTORY",{providedIn:"root",factory:()=>O});function I(gt,an){if(null==gt)throw new Error("Unexpected "+gt+" value: "+an);return gt}let R=(()=>{class gt{constructor(){this.scriptFactory=(0,c.WQX)(C),this.injector=(0,c.WQX)(c.duS),this.document=(0,c.WQX)(t.qQ)}injectDOMScript(we){const Ct=(0,c.N4e)(this.injector,()=>this.scriptFactory(we,this.document)),$t=I(this.document.getElementsByTagName("script")[0],"no existing script found");I($t.parentNode,"no script's parent node found").insertBefore(Ct,$t)}static{this.\u0275fac=function(Ct){return new(Ct||gt)}}static{this.\u0275prov=c.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}}return gt})();const S=new c.nKC("MATOMO_ROUTER_ENABLED",{factory:()=>!1}),T=new c.nKC("MATOMO_CONFIGURATION"),w=new c.nKC("INTERNAL_MATOMO_CONFIGURATION",{factory(){const{mode:gt,requireConsent:an,...we}=I((0,c.WQX)(T,{optional:!0}),"No Matomo configuration found! Have you included Matomo module using MatomoModule.forRoot() or provideMatomo()?");return{mode:gt?j(gt):void 0,disabled:!1,enableLinkTracking:!0,trackAppInitialLoad:!(0,c.WQX)(S),requireConsent:an?k(an):"none",enableJSErrorTracking:!1,runOutsideAngularZone:!1,disableCampaignParameters:!1,acceptDoNotTrack:!1,...we}}}),M=new c.nKC("DEFERRED_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>{const gt=(0,c.WQX)(w);let an;return{configuration:new Promise(Ct=>an=Ct),markReady(Ct){I(an,"resolveFn")({...gt,...Ct})}}}});new c.nKC("ASYNC_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>(0,c.WQX)(M).configuration});var N=function(gt){return gt[gt.AUTO=0]="AUTO",gt[gt.MANUAL=1]="MANUAL",gt[gt.AUTO_DEFERRED=2]="AUTO_DEFERRED",gt}(N||{});function j(gt){switch(gt){case N.AUTO:return"auto";case N.MANUAL:return"manual";case N.AUTO_DEFERRED:return"deferred";default:return gt}}var $=function(gt){return gt[gt.NONE=0]="NONE",gt[gt.COOKIE=1]="COOKIE",gt[gt.TRACKING=2]="TRACKING",gt}($||{});function k(gt){switch(gt){case $.NONE:return"none";case $.COOKIE:return"cookie";case $.TRACKING:return"tracking";default:return gt}}function z(gt){return null!=gt.siteId&&null!=gt.trackerUrl}function X(gt){return Array.isArray(gt.trackers)}function q(){window._paq=window._paq||[]}function ne(gt){const an=[...gt];for(;an.length>0&&void 0===an[an.length-1];)an.pop();return an}let fe=(()=>{class gt{constructor(){this.ngZone=(0,c.WQX)(c.SKi),this.config=(0,c.WQX)(w),q()}get(we){return this.pushFn(Ct=>Ct[we]())}pushFn(we){return new Promise(Ct=>{this.push([function(){Ct(we(this))}])})}push(we){this.config.runOutsideAngularZone?this.ngZone.runOutsideAngular(()=>{window._paq.push(ne(we))}):window._paq.push(ne(we))}static{this.\u0275fac=function(Ct){return new(Ct||gt)}}static{this.\u0275prov=c.jDH({token:gt,factory:()=>function ee(){const gt=(0,c.WQX)(w).disabled,an=(0,t.UE)((0,c.WQX)(c.Agw));return gt||!an?new ye:new fe}(),providedIn:"root"})}}return gt})();class ye{get(an){return(0,i.A)(function*(){return Promise.reject("MatomoTracker is disabled")})()}push(an){}pushFn(an){return(0,i.A)(function*(){return Promise.reject("MatomoTracker is disabled")})()}}let be=(()=>{class gt{constructor(){this.delegate=(0,c.WQX)(fe),this._pageViewTracked=new e.B,this.pageViewTracked=this._pageViewTracked.asObservable(),(0,c.WQX)(c.abz).onDestroy(()=>this._pageViewTracked.complete())}trackPageView(we){this.delegate.push(["trackPageView",we]),this._pageViewTracked.next()}trackEvent(we,Ct,$t,yt,Zt){this.delegate.push(["trackEvent",we,Ct,$t,yt,Zt])}trackSiteSearch(we,Ct,$t,yt){this.delegate.push(["trackSiteSearch",we,Ct,$t,yt])}trackGoal(we,Ct,$t){this.delegate.push(["trackGoal",we,Ct,$t])}trackLink(we,Ct,$t){this.delegate.push(["trackLink",we,Ct,$t])}trackAllContentImpressions(){this.delegate.push(["trackAllContentImpressions"])}trackVisibleContentImpressions(we,Ct){this.delegate.push(["trackVisibleContentImpressions",we,Ct])}trackContentImpressionsWithinNode(we){this.delegate.push(["trackContentImpressionsWithinNode",we])}trackContentInteractionNode(we,Ct){this.delegate.push(["trackContentInteractionNode",we,Ct])}trackContentImpression(we,Ct,$t){this.delegate.push(["trackContentImpression",we,Ct,$t])}trackContentInteraction(we,Ct,$t,yt){this.delegate.push(["trackContentInteraction",we,Ct,$t,yt])}logAllContentBlocksOnPage(){this.delegate.push(["logAllContentBlocksOnPage"])}ping(){this.delegate.push(["ping"])}enableHeartBeatTimer(we){this.delegate.push(["enableHeartBeatTimer",we])}enableLinkTracking(we=!1){this.delegate.push(["enableLinkTracking",we])}disablePerformanceTracking(){this.delegate.push(["disablePerformanceTracking"])}enableCrossDomainLinking(){this.delegate.push(["enableCrossDomainLinking"])}setCrossDomainLinkingTimeout(we){this.delegate.push(["setCrossDomainLinkingTimeout",we])}getCrossDomainLinkingUrlParameter(){return this.delegate.get("getCrossDomainLinkingUrlParameter")}setDocumentTitle(we){this.delegate.push(["setDocumentTitle",we])}setDomains(we){this.delegate.push(["setDomains",we])}setCustomUrl(we){this.delegate.push(["setCustomUrl",we])}setReferrerUrl(we){this.delegate.push(["setReferrerUrl",we])}setSiteId(we){this.delegate.push(["setSiteId",we])}setApiUrl(we){this.delegate.push(["setApiUrl",we])}setTrackerUrl(we){this.delegate.push(["setTrackerUrl",we])}addTracker(we,Ct){this.delegate.push(["addTracker",we,Ct])}getMatomoUrl(){return this.delegate.get("getMatomoUrl")}getPiwikUrl(){return this.delegate.get("getPiwikUrl")}getCurrentUrl(){return this.delegate.get("getCurrentUrl")}setDownloadClasses(we){this.delegate.push(["setDownloadClasses",we])}setDownloadExtensions(we){this.delegate.push(["setDownloadExtensions",we])}addDownloadExtensions(we){this.delegate.push(["addDownloadExtensions",we])}removeDownloadExtensions(we){this.delegate.push(["removeDownloadExtensions",we])}setIgnoreClasses(we){this.delegate.push(["setIgnoreClasses",we])}setLinkClasses(we){this.delegate.push(["setLinkClasses",we])}setLinkTrackingTimer(we){this.delegate.push(["setLinkTrackingTimer",we])}getLinkTrackingTimer(){return this.delegate.get("getLinkTrackingTimer")}discardHashTag(we){this.delegate.push(["discardHashTag",we])}setGenerationTimeMs(we){this.delegate.push(["setGenerationTimeMs",we])}setPagePerformanceTiming(we,Ct,$t,yt,Zt,on){let Yt;"object"==typeof we&&we?(Yt=we.networkTimeInMs,Ct=we.serverTimeInMs,$t=we.transferTimeInMs,yt=we.domProcessingTimeInMs,Zt=we.domCompletionTimeInMs,on=we.onloadTimeInMs):Yt=we,this.delegate.push(["setPagePerformanceTiming",Yt,Ct,$t,yt,Zt,on])}getCustomPagePerformanceTiming(){return this.delegate.get("getCustomPagePerformanceTiming")}appendToTrackingUrl(we){this.delegate.push(["appendToTrackingUrl",we])}setDoNotTrack(we){this.delegate.push(["setDoNotTrack",we])}killFrame(){this.delegate.push(["killFrame"])}redirectFile(we){this.delegate.push(["redirectFile",we])}setHeartBeatTimer(we,Ct){this.delegate.push(["setHeartBeatTimer",we,Ct])}getVisitorId(){return this.delegate.get("getVisitorId")}setVisitorId(we){this.delegate.push(["setVisitorId",we])}getVisitorInfo(){return this.delegate.get("getVisitorInfo")}getAttributionInfo(){return this.delegate.get("getAttributionInfo")}getAttributionCampaignName(){return this.delegate.get("getAttributionCampaignName")}getAttributionCampaignKeyword(){return this.delegate.get("getAttributionCampaignKeyword")}getAttributionReferrerTimestamp(){return this.delegate.get("getAttributionReferrerTimestamp")}getAttributionReferrerUrl(){return this.delegate.get("getAttributionReferrerUrl")}getUserId(){return this.delegate.get("getUserId")}setUserId(we){this.delegate.push(["setUserId",we])}resetUserId(){this.delegate.push(["resetUserId"])}setPageViewId(we){this.delegate.push(["setPageViewId",we])}getPageViewId(){return this.delegate.get("getPageViewId")}setCustomData(...we){this.delegate.push(["setCustomData",...we])}getCustomData(){return this.delegate.get("getCustomData")}setCustomVariable(we,Ct,$t,yt){this.delegate.push(["setCustomVariable",we,Ct,$t,yt])}deleteCustomVariable(we,Ct){this.delegate.push(["deleteCustomVariable",we,Ct])}deleteCustomVariables(we){this.delegate.push(["deleteCustomVariables",we])}getCustomVariable(we,Ct){return this.delegate.pushFn($t=>$t.getCustomVariable(we,Ct))}storeCustomVariablesInCookie(){this.delegate.push(["storeCustomVariablesInCookie"])}setCustomDimension(we,Ct){this.delegate.push(["setCustomDimension",we,Ct])}deleteCustomDimension(we){this.delegate.push(["deleteCustomDimension",we])}getCustomDimension(we){return this.delegate.pushFn(Ct=>Ct.getCustomDimension(we))}setCampaignNameKey(we){this.delegate.push(["setCampaignNameKey",we])}setCampaignKeywordKey(we){this.delegate.push(["setCampaignKeywordKey",we])}setConversionAttributionFirstReferrer(we){this.delegate.push(["setConversionAttributionFirstReferrer",we])}setEcommerceView(we,Ct,$t,yt){!function te(gt){return"object"==typeof gt&&1===Object.keys(gt).length&&null!=gt.productCategory}(we)?function se(gt){return"object"==typeof gt&&"productSKU"in gt}(we)?this.delegate.push(["setEcommerceView",we.productSKU,we.productName,we.productCategory,we.price]):this.delegate.push(["setEcommerceView",we,Ct,$t,yt]):this.delegate.push(["setEcommerceView",!1,!1,we.productCategory])}addEcommerceItem(we,Ct,$t,yt,Zt){this.delegate.push("string"==typeof we?["addEcommerceItem",we,Ct,$t,yt,Zt]:["addEcommerceItem",we.productSKU,we.productName,we.productCategory,we.price,we.quantity])}removeEcommerceItem(we){this.delegate.push(["removeEcommerceItem",we])}clearEcommerceCart(){this.delegate.push(["clearEcommerceCart"])}getEcommerceItems(){return this.delegate.get("getEcommerceItems")}trackEcommerceCartUpdate(we){this.delegate.push(["trackEcommerceCartUpdate",we])}trackEcommerceOrder(we,Ct,$t,yt,Zt,on){this.delegate.push(["trackEcommerceOrder",we,Ct,$t,yt,Zt,on])}requireConsent(){this.delegate.push(["requireConsent"])}setConsentGiven(){this.delegate.push(["setConsentGiven"])}rememberConsentGiven(we){this.delegate.push(["rememberConsentGiven",we])}forgetConsentGiven(){this.delegate.push(["forgetConsentGiven"])}hasRememberedConsent(){return this.delegate.get("hasRememberedConsent")}getRememberedConsent(){return this.delegate.get("getRememberedConsent")}isConsentRequired(){return this.delegate.get("isConsentRequired")}requireCookieConsent(){this.delegate.push(["requireCookieConsent"])}setCookieConsentGiven(){this.delegate.push(["setCookieConsentGiven"])}rememberCookieConsentGiven(we){this.delegate.push(["rememberCookieConsentGiven",we])}forgetCookieConsentGiven(){this.delegate.push(["forgetCookieConsentGiven"])}getRememberedCookieConsent(){return this.delegate.get("getRememberedCookieConsent")}areCookiesEnabled(){return this.delegate.get("areCookiesEnabled")}optUserOut(){this.delegate.push(["optUserOut"])}forgetUserOptOut(){this.delegate.push(["forgetUserOptOut"])}isUserOptedOut(){return this.delegate.get("isUserOptedOut")}disableCookies(){this.delegate.push(["disableCookies"])}deleteCookies(){this.delegate.push(["deleteCookies"])}hasCookies(){return this.delegate.get("hasCookies")}setCookieNamePrefix(we){this.delegate.push(["setCookieNamePrefix",we])}setCookieDomain(we){this.delegate.push(["setCookieDomain",we])}setCookiePath(we){this.delegate.push(["setCookiePath",we])}setSecureCookie(we){this.delegate.push(["setSecureCookie",we])}setCookieSameSite(we){this.delegate.push(["setCookieSameSite",we])}setVisitorCookieTimeout(we){this.delegate.push(["setVisitorCookieTimeout",we])}setReferralCookieTimeout(we){this.delegate.push(["setReferralCookieTimeout",we])}setSessionCookieTimeout(we){this.delegate.push(["setSessionCookieTimeout",we])}addListener(we){this.delegate.push(["addListener",we])}setRequestMethod(we){this.delegate.push(["setRequestMethod",we])}setCustomRequestProcessing(we){this.delegate.push(["setCustomRequestProcessing",we])}setRequestContentType(we){this.delegate.push(["setRequestContentType",we])}disableQueueRequest(){this.delegate.push(["disableQueueRequest"])}setRequestQueueInterval(we){this.delegate.push(["setRequestQueueInterval",we])}disableAlwaysUseSendBeacon(){this.delegate.push(["disableAlwaysUseSendBeacon"])}alwaysUseSendBeacon(){this.delegate.push(["alwaysUseSendBeacon"])}enableJSErrorTracking(){this.delegate.push(["enableJSErrorTracking"])}enableFileTracking(){this.delegate.push(["enableFileTracking"])}setExcludedReferrers(...we){const Ct=we.flat();this.delegate.push(["setExcludedReferrers",Ct])}getExcludedReferrers(){return this.delegate.get("getExcludedReferrers")}disableBrowserFeatureDetection(){this.delegate.push(["disableBrowserFeatureDetection"])}enableBrowserFeatureDetection(){this.delegate.push(["enableBrowserFeatureDetection"])}disableCampaignParameters(){this.delegate.push(["disableCampaignParameters"])}static{this.\u0275fac=function(Ct){return new(Ct||gt)}}static{this.\u0275prov=c.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}}return gt})();function me(gt){return`${gt}`}function re(gt,an){return null==an?v(gt)+Z:gt+an}const Z="matomo.php";class ve{initialize(){}init(){}initializeTracker(an){}}let ze=(()=>{class gt{constructor(){this.config=(0,c.WQX)(w),this.deferredConfig=(0,c.WQX)(M),this.tracker=(0,c.WQX)(be),this.scriptInjector=(0,c.WQX)(R),this.initialize=E(()=>{this.runPreInitTasks(),function K(gt){return null==gt.mode||"auto"===gt.mode||gt.mode===N.AUTO}(this.config)&&this.injectMatomoScript(this.config)},"Matomo has already been initialized"),this.injectMatomoScript=E(we=>{if(function G(gt){return z(gt)||X(gt)}(we)){const{scriptUrl:Ct}=we,[$t,...yt]=function J(gt){return X(gt)?gt.trackers:[{trackerUrl:gt.trackerUrl,siteId:gt.siteId,trackerUrlSuffix:gt.trackerUrlSuffix}]}(we),Zt=Ct??v($t.trackerUrl)+"matomo.js";this.registerMainTracker($t),this.registerAdditionalTrackers(yt),this.scriptInjector.injectDOMScript(Zt)}else if(function V(gt){return null!=gt.scriptUrl&&!z(gt)}(we)){const{scriptUrl:Ct,trackers:$t}={trackers:[],...we};this.registerAdditionalTrackers($t),this.scriptInjector.injectDOMScript(Ct)}this.deferredConfig.markReady(we)},"Matomo trackers have already been initialized"),q()}init(){this.initialize()}initializeTracker(we){this.injectMatomoScript(we)}registerMainTracker(we){const Ct=re(we.trackerUrl,we.trackerUrlSuffix),$t=me(we.siteId);this.tracker.setTrackerUrl(Ct),this.tracker.setSiteId($t)}registerAdditionalTrackers(we){we.forEach(({trackerUrl:Ct,siteId:$t,trackerUrlSuffix:yt})=>{const Zt=re(Ct,yt),on=me($t);this.tracker.addTracker(Zt,on)})}runPreInitTasks(){this.config.acceptDoNotTrack&&this.tracker.setDoNotTrack(!0),"cookie"===this.config.requireConsent?this.tracker.requireCookieConsent():"tracking"===this.config.requireConsent&&this.tracker.requireConsent(),this.config.enableJSErrorTracking&&this.tracker.enableJSErrorTracking(),this.config.disableCampaignParameters&&this.tracker.disableCampaignParameters(),this.config.trackAppInitialLoad&&this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking("enable-pseudo"===this.config.enableLinkTracking)}static{this.\u0275fac=function(Ct){return new(Ct||gt)}}static{this.\u0275prov=c.jDH({token:gt,factory:()=>function ce(){const gt=(0,c.WQX)(w).disabled,an=(0,t.UE)((0,c.WQX)(c.Agw));return gt||!an?new ve:new ze}(),providedIn:"root"})}}return gt})();const Se=Symbol("MATOMO_PROVIDERS"),et=Symbol("MATOMO_CHECKS");function $e(gt,an,we){return{kind:gt,[Se]:an,[et]:we}}function st(gt,...an){const we=[{provide:c.Z63,multi:!0,useValue(){(0,c.WQX)(ze).initialize()}}],Ct=[];we.push("function"==typeof gt?{provide:T,useFactory:gt}:{provide:T,useValue:gt});for(const $t of an)we.push(...$t[Se]),Ct.push($t.kind);for(const $t of an)$t[et]?.(Ct);return(0,c.EmA)(we)}},72234:(U,b,n)=>{"use strict";n.d(b,{Yq:()=>E,Zm:()=>y});var i=n(54438),t=n(60177);const c=["*"],e=(v,O,C,I,D)=>({"custom-content":v,circle:O,progress:C,"progress-dark":I,pulse:D});function f(v,O){1&v&&i.SdG(0)}function m(v,O){if(1&v&&(i.j41(0,"div",0),i.DNE(1,f,1,0),i.k0s()),2&v){const C=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===C.appearance,"circle"===C.appearance,"progress"===C.animation,"progress-dark"===C.animation,"pulse"===C.animation))("ngStyle",C.theme),i.BMQ("aria-label",C.ariaLabel)("aria-valuetext",C.loadingText),i.R7$(),i.vxM("custom-content"===C.appearance?1:-1)}}const p=new i.nKC("ngx-skeleton-loader.config");let y=(()=>{class v{constructor(C){this.config=C;const{appearance:I="line",animation:D="progress",theme:R=null,loadingText:h="Loading...",count:S=1,ariaLabel:T="loading"}=C||{};this.appearance=I,this.animation=D,this.theme=R,this.loadingText=h,this.count=S,this.items=[],this.ariaLabel=T}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const C=["progress","progress-dark","pulse","false"];-1===C.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${C.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:I}=this.config||{};I&&I.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(C){["count","animation","appearance"].find(I=>C[I]&&(C[I].isFirstChange()||C[I].previousValue===C[I].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(I){return new(I||v)(i.rXU(p,8))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:c,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(I,D){1&I&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&I&&i.Dyx(D.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return v})(),E=(()=>{class v{static forRoot(C){return{ngModule:v,providers:[{provide:p,useValue:C}]}}static{this.\u0275fac=function(I){return new(I||v)}}static{this.\u0275mod=i.$C({type:v})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return v})()},31635:(U,b,n)=>{"use strict";function f(ye,oe,ue,te){var me,se=arguments.length,be=se<3?oe:null===te?te=Object.getOwnPropertyDescriptor(oe,ue):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(ye,oe,ue,te);else for(var re=ye.length-1;re>=0;re--)(me=ye[re])&&(be=(se<3?me(be):se>3?me(oe,ue,be):me(oe,ue))||be);return se>3&&be&&Object.defineProperty(oe,ue,be),be}function m(ye,oe){return function(ue,te){oe(ue,te,ye)}}function O(ye,oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ye,oe)}function C(ye,oe,ue,te){return new(ue||(ue=Promise))(function(be,me){function re(ce){try{le(te.next(ce))}catch(ve){me(ve)}}function Z(ce){try{le(te.throw(ce))}catch(ve){me(ve)}}function le(ce){ce.done?be(ce.value):function se(be){return be instanceof ue?be:new ue(function(me){me(be)})}(ce.value).then(re,Z)}le((te=te.apply(ye,oe||[])).next())})}function L(ye){return this instanceof L?(this.v=ye,this):new L(ye)}function N(ye,oe,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,te=ue.apply(ye,oe||[]),be=[];return se={},re("next"),re("throw"),re("return",function me(Se){return function(et){return Promise.resolve(et).then(Se,ve)}}),se[Symbol.asyncIterator]=function(){return this},se;function re(Se,et){te[Se]&&(se[Se]=function($e){return new Promise(function(st,We){be.push([Se,$e,st,We])>1||Z(Se,$e)})},et&&(se[Se]=et(se[Se])))}function Z(Se,et){try{!function le(Se){Se.value instanceof L?Promise.resolve(Se.value.v).then(ce,ve):ze(be[0][2],Se)}(te[Se](et))}catch($e){ze(be[0][3],$e)}}function ce(Se){Z("next",Se)}function ve(Se){Z("throw",Se)}function ze(Se,et){Se(et),be.shift(),be.length&&Z(be[0][0],be[0][1])}}function $(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,oe=ye[Symbol.asyncIterator];return oe?oe.call(ye):(ye=function h(ye){var oe="function"==typeof Symbol&&Symbol.iterator,ue=oe&&ye[oe],te=0;if(ue)return ue.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&te>=ye.length&&(ye=void 0),{value:ye&&ye[te++],done:!ye}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ue={},te("next"),te("throw"),te("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function te(be){ue[be]=ye[be]&&function(me){return new Promise(function(re,Z){!function se(be,me,re,Z){Promise.resolve(Z).then(function(le){be({value:le,done:re})},me)}(re,Z,(me=ye[be](me)).done,me.value)})}}}n.d(b,{AQ:()=>N,Cg:()=>f,N3:()=>L,Qj:()=>m,Sn:()=>O,sH:()=>C,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}},U=>{U(U.s=87480)}]);