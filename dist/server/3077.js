"use strict";exports.id=3077,exports.ids=[3077,1242],exports.modules={48020:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}},12213:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>i18nBreadcrumbResolver});var core=__webpack_require__(25376),empty_util=__webpack_require__(2794),route_utils=__webpack_require__(93359),cjs=__webpack_require__(9238),breadcrumb_model=__webpack_require__(48020);let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService2{getBreadcrumbs(key,url){return(0,cjs.of)([new breadcrumb_model.Q(key+".breadcrumbs",url)])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||I18nBreadcrumbsService2)}}static{this.\u0275prov=core.jDH({token:I18nBreadcrumbsService2,factory:I18nBreadcrumbsService2.\u0275fac,providedIn:"root"})}}return I18nBreadcrumbsService2})();const i18nBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(I18nBreadcrumbsService))=>{const key=route.data.breadcrumbKey;if((0,empty_util.Tn)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");return{provider:breadcrumbService,key,url:(0,route_utils.F)(route)}}},87389:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>sourcesBreadcrumbResolver});var core=__webpack_require__(25376),cjs=__webpack_require__(9238),breadcrumb_model=__webpack_require__(48020),ngx_translate_core=__webpack_require__(2385);let SourcesBreadcrumbService=(()=>{class SourcesBreadcrumbService2{constructor(translationService){this.translationService=translationService,this.BREADCRUMB_SUFFIX=".breadcrumbs"}getBreadcrumbs(key,url){const args=key.split(":"),breadcrumbKey=args[0]+this.BREADCRUMB_SUFFIX,sourceId=args[1],topicId=args.length>3?args[args.length-1]:args[2];return(0,cjs.of)(topicId?[new breadcrumb_model.Q(this.translationService.instant(breadcrumbKey),url),new breadcrumb_model.Q(sourceId,`${url}${sourceId}`),new breadcrumb_model.Q(topicId,void 0)]:[new breadcrumb_model.Q(this.translationService.instant(breadcrumbKey),url),new breadcrumb_model.Q(sourceId,`${url}${sourceId}`)])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SourcesBreadcrumbService2)(core.KVO(ngx_translate_core.c$))}}static{this.\u0275prov=core.jDH({token:SourcesBreadcrumbService2,factory:SourcesBreadcrumbService2.\u0275fac,providedIn:"root"})}}return SourcesBreadcrumbService2})();const sourcesBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(SourcesBreadcrumbService))=>{const breadcrumbKey=route.data.breadcrumbKey,sourceId=route.paramMap.get("sourceId"),topicId=route.paramMap.get("topicId");let key=`${breadcrumbKey}:${sourceId}`;topicId&&(key+=`:${topicId}`);const fullPath=state.url;return{provider:breadcrumbService,key,url:fullPath.substring(0,fullPath.indexOf(sourceId))}}},41242:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SuggestionSourceDataService:()=>SuggestionSourceDataService});var _shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76623),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80996),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63311),_data_base_find_all_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27554),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(61640),_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59041),_data_request_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64806),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26139),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25376),_ngrx_store__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22609),_angular_common_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(98465);let SuggestionSourceDataService=(()=>{class SuggestionSourceDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(requestService,rdbService,store,objectCache,halService,notificationsService,http,comparator){super("suggestionsources",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.store=store,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.http=http,this.comparator=comparator,this.linkPath="suggestionsources",this.findAllData=new _data_base_find_all_data__WEBPACK_IMPORTED_MODULE_3__.H(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getSources(options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}getSource(id,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.findById(id,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}findAll(options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.findAllData.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SuggestionSourceDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_6__.B),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_9__.il),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_7__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Qq),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_5__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:SuggestionSourceDataService2,factory:SuggestionSourceDataService2.\u0275fac,providedIn:"root"})}}return SuggestionSourceDataService2})()},92988:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>NotificationsStateService});var ngrx_store=__webpack_require__(22609),operators=__webpack_require__(60444),quality_assurance_source_actions=__webpack_require__(33439),quality_assurance_topics_actions=__webpack_require__(47921),empty_util=__webpack_require__(2794);function subStateSelector(parentSelector,subState){return(0,ngrx_store.Mz)(parentSelector,state=>{if((0,empty_util.a4)(state)&&(0,empty_util.a4)(state[subState]))return state[subState]})}var notifications_reducer=__webpack_require__(81804);const _getNotificationsState=(0,ngrx_store.UX)("suggestionNotifications");const isQualityAssuranceTopicsLoadedSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.loaded),isQualityAssuranceTopicsProcessingSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.processing),getQualityAssuranceTopicsTotalPagesSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.totalPages),getQualityAssuranceTopicsCurrentPageSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.currentPage),getQualityAssuranceTopicsTotalsSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.totalElements);const isQualityAssuranceSourceLoadedSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.loaded),isQualityAssuranceSourceProcessingSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.processing),getQualityAssuranceSourceTotalPagesSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.totalPages),getQualityAssuranceSourceCurrentPageSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.currentPage),getQualityAssuranceSourceTotalsSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.totalElements);var core=__webpack_require__(25376);let NotificationsStateService=(()=>{class NotificationsStateService2{constructor(store){this.store=store}getQualityAssuranceTopics(){return this.store.pipe((0,ngrx_store.Lt)(function qualityAssuranceTopicsObjectSelector(){return subStateSelector(function qualityAssuranceTopicsStateSelector(){return subStateSelector(notifications_reducer.I,"qaTopic")}(),"topics")}()))}isQualityAssuranceTopicsLoading(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsLoadedSelector),(0,operators.Tj)(loaded=>!loaded))}isQualityAssuranceTopicsLoaded(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsLoadedSelector))}isQualityAssuranceTopicsProcessing(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsProcessingSelector))}getQualityAssuranceTopicsTotalPages(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsTotalPagesSelector))}getQualityAssuranceTopicsCurrentPage(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsCurrentPageSelector))}getQualityAssuranceTopicsTotals(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsTotalsSelector))}dispatchRetrieveQualityAssuranceTopics(elementsPerPage,currentPage,sourceId,targteId){this.store.dispatch(new quality_assurance_topics_actions._v(elementsPerPage,currentPage,sourceId,targteId))}getQualityAssuranceSource(){return this.store.pipe((0,ngrx_store.Lt)(function qualityAssuranceSourceObjectSelector(){return subStateSelector(function qualityAssuranceSourceStateSelector(){return subStateSelector(notifications_reducer.I,"qaSource")}(),"source")}()))}isQualityAssuranceSourceLoading(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceLoadedSelector),(0,operators.Tj)(loaded=>!loaded))}isQualityAssuranceSourceLoaded(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceLoadedSelector))}isQualityAssuranceSourceProcessing(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceProcessingSelector))}getQualityAssuranceSourceTotalPages(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceTotalPagesSelector))}getQualityAssuranceSourceCurrentPage(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceCurrentPageSelector))}getQualityAssuranceSourceTotals(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceTotalsSelector))}dispatchRetrieveQualityAssuranceSource(elementsPerPage,currentPage){this.store.dispatch(new quality_assurance_source_actions.lZ(elementsPerPage,currentPage))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||NotificationsStateService2)(core.KVO(ngrx_store.il))}}static{this.\u0275prov=core.jDH({token:NotificationsStateService2,factory:NotificationsStateService2.\u0275fac,providedIn:"root"})}}return NotificationsStateService2})()},46143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>SourceListComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(87514),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25376),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2385),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18869),_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42191);const _c0=a0=>({param:a0});function SourceListComponent_Conditional_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.nrm(0,"ds-loading",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,1,"quality-assurance.loading"))}function SourceListComponent_Conditional_5_Conditional_1_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,1,"quality-assurance.noSource")," "))}function SourceListComponent_Conditional_5_Conditional_2_Conditional_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"th",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,1,"quality-assurance.table.last-event")))}function SourceListComponent_Conditional_5_Conditional_2_For_13_Conditional_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"date"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf){const sourceElement_r4=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.i5U(2,1,sourceElement_r4.lastEvent,"dd/MM/yyyy hh:mm"))}}function SourceListComponent_Conditional_5_Conditional_2_For_13_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_2__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"tr")(1,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(3,SourceListComponent_Conditional_5_Conditional_2_For_13_Conditional_3_Template,3,4,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(4,"td")(5,"div",9)(6,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.bIt("click",function(){const sourceElement_r4=_angular_core__WEBPACK_IMPORTED_MODULE_2__.eBV(_r3).$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.Njj(ctx_r1.sourceSelected.emit(sourceElement_r4.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(8,"span",11),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nrm(10,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()()()()}if(2&rf){const sourceElement_r4=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(sourceElement_r4.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.vxM(ctx_r1.showLastEvent()?3:-1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_2__.i5U(7,4,"quality-assurance.source-list.button.detail",_angular_core__WEBPACK_IMPORTED_MODULE_2__.eq3(7,_c0,sourceElement_r4.id))),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(sourceElement_r4.total)}}function SourceListComponent_Conditional_5_Conditional_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"div",6)(1,"table",7)(2,"thead")(3,"tr")(4,"th",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(7,SourceListComponent_Conditional_5_Conditional_2_Conditional_7_Template,3,3,"th",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(8,"th",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(11,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Z7z(12,SourceListComponent_Conditional_5_Conditional_2_For_13_Template,11,9,"tr",null,_angular_core__WEBPACK_IMPORTED_MODULE_2__.fX1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(6,3,"quality-assurance.table.source")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.vxM(ctx_r1.showLastEvent()?7:-1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(10,5,"quality-assurance.table.actions")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Dyx(ctx_r1.sources())}}function SourceListComponent_Conditional_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.bIt("paginationChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_2__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.Njj(ctx_r1.paginationChange.emit($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(1,SourceListComponent_Conditional_5_Conditional_1_Template,3,3,"div",5)(2,SourceListComponent_Conditional_5_Conditional_2_Template,14,7,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()}if(2&rf){let tmp_5_0,tmp_6_0;const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("paginationOptions",ctx_r1.paginationConfig())("collectionSize",ctx_r1.totalElements())("hideGear",!1)("hideSortOptions",!0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.vxM(0===(null==(tmp_5_0=ctx_r1.sources())?null:tmp_5_0.length)?1:-1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.vxM(0!==(null==(tmp_6_0=ctx_r1.sources())?null:tmp_6_0.length)?2:-1)}}let SourceListComponent=(()=>{class SourceListComponent2{constructor(){this.loading=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.hFB)(!1),this.paginationConfig=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.hFB)(),this.showLastEvent=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.hFB)(),this.sources=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.hFB)(),this.totalElements=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.hFB)(),this.sourceSelected=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.CGW)(),this.paginationChange=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.CGW)()}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SourceListComponent2)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:SourceListComponent2,selectors:[["ds-source-list"]],inputs:{loading:[1,"loading"],paginationConfig:[1,"paginationConfig"],showLastEvent:[1,"showLastEvent"],sources:[1,"sources"],totalElements:[1,"totalElements"]},outputs:{sourceSelected:"sourceSelected",paginationChange:"paginationChange"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:6,vars:4,consts:[[1,"col-12"],[1,"h4","border-bottom","pb-2"],[1,"container",3,"message"],[3,"paginationOptions","collectionSize","hideGear","hideSortOptions"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","hideSortOptions"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"click","title"],[1,"badge","bg-info"],[1,"fas","fa-info","fa-fw"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"div",0)(1,"h2",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(4,SourceListComponent_Conditional_4_Template,2,3,"ds-loading",2)(5,SourceListComponent_Conditional_5_Template,3,6,"ds-pagination",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(3,2,"quality-assurance.source")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.vxM(ctx.loading()?4:5))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.vh,_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_1__.e,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.D9]})}}return SourceListComponent2})()},84671:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>SuggestionSourcesComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87514),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(89428),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60444),_core_notifications_suggestions_source_suggestion_source_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41242),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31903),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39022),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6213),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54396),_shared_source_list_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46143),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18134);let SuggestionSourcesComponent=(()=>{class SuggestionSourcesComponent2{constructor(paginationService,router,route,suggestionSourceDataService){this.paginationService=paginationService,this.router=router,this.route=route,this.suggestionSourceDataService=suggestionSourceDataService,this.paginationConfig=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_5__.W,{id:"sl",pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.loading$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(!0),this.sources$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject([]),this.totalElements$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(0),this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(options=>this.retrieveSuggestionsSources(options.currentPage,options.pageSize)),(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_8__.pQ)()).subscribe(results=>{console.log(results),this.sources$.next(results.page),this.totalElements$.next(results.pageInfo?.totalElements??0),this.loading$.next(!1)})}onSelect(sourceId){this.router.navigate([sourceId],{relativeTo:this.route})}retrieveSuggestionsSources(page,pageSize){return this.loading$.next(!0),this.suggestionSourceDataService.getSources({elementsPerPage:pageSize,currentPage:page}).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(console.log),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(result=>result.hasSucceeded?result.payload:{page:[],pageInfo:null}))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||SuggestionSourcesComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__.m),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_10__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_10__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_notifications_suggestions_source_suggestion_source_data_service__WEBPACK_IMPORTED_MODULE_0__.SuggestionSourceDataService))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.VBU({type:SuggestionSourcesComponent2,selectors:[["ds-suggestion-sources"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.aNF],decls:11,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[3,"type","content"],[3,"sourceSelected","loading","paginationConfig","showLastEvent","sources","totalElements"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nrm(6,"ds-alert",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.j41(7,"ds-source-list",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.bIt("sourceSelected",function($event){return ctx.onSelect($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(5,8,"publication-claim.title")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y8G("type","alert-info")("content","publication-claim.source.description"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y8G("loading",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(8,10,ctx.loading$))("paginationConfig",ctx.paginationConfig)("showLastEvent",!1)("sources",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(9,12,ctx.sources$))("totalElements",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(10,14,ctx.totalElements$)))},dependencies:[_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__.C,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Jj,_shared_source_list_component__WEBPACK_IMPORTED_MODULE_4__.j,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.D9]})}}return SuggestionSourcesComponent2})()},13077:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var authenticated_guard=__webpack_require__(38056),i18n_breadcrumb_resolver=__webpack_require__(12213),sources_breadcrumb_resolver=__webpack_require__(87389),suggestion_sources_component=__webpack_require__(84671),core=__webpack_require__(25376);let NotificationsSuggestionTargetsPageComponent=(()=>{class NotificationsSuggestionTargetsPageComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||NotificationsSuggestionTargetsPageComponent2)}}static{this.\u0275cmp=core.VBU({type:NotificationsSuggestionTargetsPageComponent2,selectors:[["ds-notifications-reciter-page"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-suggestion-sources")},dependencies:[suggestion_sources_component._]})}}return NotificationsSuggestionTargetsPageComponent2})();var notifications_suggestion_targets_page_resolver_service=__webpack_require__(82090),quality_assurance_events_page_component=__webpack_require__(38458),quality_assurance_events_page_resolver=__webpack_require__(63214),quality_assurance_source_data_resolver=__webpack_require__(85129),quality_assurance_source_page_component=__webpack_require__(59953),quality_assurance_source_page_resolver_service=__webpack_require__(68608),quality_assurance_topics_page_component=__webpack_require__(96510),quality_assurance_topics_page_resolver_service=__webpack_require__(68678);const ROUTES=[{canActivate:[authenticated_guard.t],path:"suggestion-targets",component:NotificationsSuggestionTargetsPageComponent,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,reciterSuggestionTargetParams:notifications_suggestion_targets_page_resolver_service.B},data:{title:"admin.notifications.recitersuggestion.page.title",breadcrumbKey:"admin.notifications.recitersuggestion",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:"quality-assurance/:sourceId",component:quality_assurance_topics_page_component.V,pathMatch:"full",resolve:{breadcrumb:sources_breadcrumb_resolver.o,openaireQualityAssuranceTopicsParams:quality_assurance_topics_page_resolver_service.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:"quality-assurance/:sourceId/target/:targetId",component:quality_assurance_topics_page_component.V,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,openaireQualityAssuranceTopicsParams:quality_assurance_topics_page_resolver_service.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:"quality-assurance",component:quality_assurance_source_page_component.E,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,openaireQualityAssuranceSourceParams:quality_assurance_source_page_resolver_service.t,sourceData:quality_assurance_source_data_resolver.c},data:{title:"admin.notifications.source.breadcrumbs",breadcrumbKey:"admin.notifications.source",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:"quality-assurance/:sourceId/:topicId",component:quality_assurance_events_page_component.k,pathMatch:"full",resolve:{breadcrumb:sources_breadcrumb_resolver.o,openaireQualityAssuranceEventsParams:quality_assurance_events_page_resolver.h},data:{title:"admin.notifications.event.page.title",breadcrumbKey:"admin.notifications.event",showBreadcrumbsFluid:!1}}]},82090:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>AdminNotificationsPublicationClaimPageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);let AdminNotificationsPublicationClaimPageResolver=(()=>{class AdminNotificationsPublicationClaimPageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||AdminNotificationsPublicationClaimPageResolver2)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:AdminNotificationsPublicationClaimPageResolver2,factory:AdminNotificationsPublicationClaimPageResolver2.\u0275fac,providedIn:"root"})}}return AdminNotificationsPublicationClaimPageResolver2})()},38458:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>QualityAssuranceEventsPageComponent});var common=__webpack_require__(87514),router=__webpack_require__(18134),ng_bootstrap=__webpack_require__(87969),ngx_translate_core=__webpack_require__(2385),cjs=__webpack_require__(9238),operators=__webpack_require__(60444),environment=__webpack_require__(64369),sort_options_model=__webpack_require__(60795),authorization_data_service=__webpack_require__(76509),feature_id=__webpack_require__(86583),find_list_options_model=__webpack_require__(72248),item_data_service=__webpack_require__(94149),quality_assurance_event_data_service=__webpack_require__(96865),pagination_service=__webpack_require__(31903),metadata_utils=__webpack_require__(28121),shared_operators=__webpack_require__(39022),item_page_routing_paths=__webpack_require__(88292),alert_component=__webpack_require__(6213),btn_disabled_directive=__webpack_require__(69919),empty_util=__webpack_require__(2794),themed_loading_component=__webpack_require__(18869),notifications_service=__webpack_require__(76623),pagination_component=__webpack_require__(42191),pagination_component_options_model=__webpack_require__(54396),follow_link_config_model=__webpack_require__(76715),core=__webpack_require__(25376),fesm2022_forms=__webpack_require__(13054),context_model=__webpack_require__(21571),search_service=__webpack_require__(58807),collection_element_link_type=__webpack_require__(59398),selectable_list_service=__webpack_require__(85984),paginated_search_options_model=__webpack_require__(86577),themed_search_results_component=__webpack_require__(63666);const _c0=a0=>({repeatable:!1,listId:a0});function ProjectEntryImportModalComponent_Conditional_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"small"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"div",4)(5,"div",5)(6,"a",6),core.EFF(7),core.k0s()()()()),2&rf){const ctx_r0=core.XpG();core.R7$(2),core.JRh(core.bMT(3,3,ctx_r0.labelPrefix+ctx_r0.label+".bountToLocal")),core.R7$(4),core.Y8G("routerLink","/items/{{externalSourceEntry.projectId}}"),core.R7$(),core.SpI(" ",ctx_r0.externalSourceEntry.projectTitle," ")}}function ProjectEntryImportModalComponent_Conditional_28_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",13),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"loading.search-results"))}function ProjectEntryImportModalComponent_Conditional_30_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-search-results",17),core.nI1(1,"async"),core.bIt("deselectObject",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.deselectEntity())})("selectObject",function($event){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.selectEntity($event))}),core.k0s()}if(2&rf){const ctx_r0=core.XpG();core.Y8G("searchResults",core.bMT(1,10,ctx_r0.localEntitiesRD$))("sortConfig",null==ctx_r0.searchOptions?null:ctx_r0.searchOptions.sort)("searchConfig",ctx_r0.searchOptions)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!1)("selectionConfig",core.eq3(12,_c0,ctx_r0.entityListId))("showCsvExport",!1)("linkType",ctx_r0.linkTypes.ExternalLink)("context",ctx_r0.context)}}function ProjectEntryImportModalComponent_Conditional_33_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"ds-alert",18)(2,"p",19),core.EFF(3),core.nI1(4,"translate"),core.k0s()()()),2&rf){const ctx_r0=core.XpG();core.R7$(),core.Y8G("type","alert-info"),core.R7$(2),core.JRh(core.bMT(4,2,ctx_r0.labelPrefix+ctx_r0.label+".notFound"))}}var ImportType=function(ImportType2){return ImportType2.None="None",ImportType2.LocalEntity="LocalEntity",ImportType2.LocalAuthority="LocalAuthority",ImportType2.NewEntity="NewEntity",ImportType2.NewAuthority="NewAuthority",ImportType2}(ImportType||{});let ProjectEntryImportModalComponent=(()=>{class ProjectEntryImportModalComponent2{constructor(modal,searchService,selectService){this.modal=modal,this.searchService=searchService,this.selectService=selectService,this.pageSize=3,this.labelPrefix="quality-assurance.event.modal.",this.configuration="funding",this.isLoading$=(0,cjs.of)(!0),this.context=context_model.o.EntitySearchModalWithNameVariants,this.entityListId="notifications-project-bound",this.authorityListId="notifications-project-bound-authority",this.importType=ImportType,this.linkTypes=collection_element_link_type.n,this.selectedImportType=ImportType.None,this.importedObject=new core.bkB,this.subs=[]}ngOnInit(){this.pagination=Object.assign(new pagination_component_options_model.W,{id:"notifications-project-bound",pageSize:this.pageSize}),this.projectTitle=null!==this.externalSourceEntry.projectTitle?this.externalSourceEntry.projectTitle:this.externalSourceEntry.event.message.title,this.searchOptions=Object.assign(new paginated_search_options_model.C({configuration:this.configuration,query:this.projectTitle,pagination:this.pagination})),this.localEntitiesRD$=this.searchService.search(this.searchOptions),this.subs.push(this.localEntitiesRD$.subscribe(()=>this.isLoading$=(0,cjs.of)(!1)))}close(){this.deselectAllLists(),this.modal.close()}search(searchTitle){if((0,empty_util.hj)(searchTitle)){const filterRegEx=/[:]/g;this.isLoading$=(0,cjs.of)(!0),this.searchOptions=Object.assign(new paginated_search_options_model.C({configuration:this.configuration,query:searchTitle&&searchTitle.replace(filterRegEx,""),pagination:this.pagination})),this.localEntitiesRD$=this.searchService.search(this.searchOptions),this.subs.push(this.localEntitiesRD$.subscribe(()=>this.isLoading$=(0,cjs.of)(!1)))}}bound(){void 0!==this.selectedEntity&&this.importedObject.emit(this.selectedEntity),this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}ngOnDestroy(){this.deselectAllLists(),this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ProjectEntryImportModalComponent2)(core.rXU(ng_bootstrap.Lw),core.rXU(search_service.S),core.rXU(selectable_list_service.K))}}static{this.\u0275cmp=core.VBU({type:ProjectEntryImportModalComponent2,selectors:[["ds-project-entry-import-modal"]],inputs:{externalSourceEntry:"externalSourceEntry"},standalone:!0,features:[core.aNF],decls:45,vars:44,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"text-truncate"],["target","_blank",3,"routerLink"],["id","project-entities",1,"mb-3"],["id","project-search",1,"input-group","mb-3"],["type","text","aria-label","","aria-describedby","",1,"form-control",3,"keyup.enter","ngModelChange","ngModel","placeholder"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"message"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","showCsvExport","linkType","context"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","showCsvExport","linkType","context"],[3,"type"],[1,"lead","mb-0"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"h4",1),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"button",2),core.bIt("click",function(){return ctx.close()}),core.k0s()(),core.j41(5,"div",3)(6,"small"),core.EFF(7),core.nI1(8,"translate"),core.k0s(),core.j41(9,"div",4)(10,"div",5)(11,"a",6),core.EFF(12),core.k0s()()(),core.DNE(13,ProjectEntryImportModalComponent_Conditional_13_Template,8,5,"div"),core.j41(14,"h4"),core.EFF(15),core.nI1(16,"translate"),core.k0s(),core.j41(17,"div",7)(18,"div",8)(19,"input",9),core.nI1(20,"translate"),core.bIt("keyup.enter",function(){return ctx.search(ctx.projectTitle)}),core.mxI("ngModelChange",function($event){return core.DH7(ctx.projectTitle,$event)||(ctx.projectTitle=$event),$event}),core.k0s(),core.j41(21,"div",10)(22,"button",11),core.bIt("click",function(){return ctx.projectTitle=""}),core.EFF(23),core.nI1(24,"translate"),core.k0s(),core.j41(25,"button",12),core.bIt("click",function(){return ctx.search(ctx.projectTitle)}),core.EFF(26),core.nI1(27,"translate"),core.k0s()()(),core.DNE(28,ProjectEntryImportModalComponent_Conditional_28_Template,2,3,"ds-loading",13),core.nI1(29,"async"),core.DNE(30,ProjectEntryImportModalComponent_Conditional_30_Template,2,14,"ds-search-results",14),core.nI1(31,"async"),core.nI1(32,"async"),core.DNE(33,ProjectEntryImportModalComponent_Conditional_33_Template,5,4,"div"),core.nI1(34,"async"),core.nI1(35,"async"),core.k0s()(),core.j41(36,"div",15)(37,"div")(38,"button",16),core.bIt("click",function(){return ctx.close()}),core.EFF(39),core.nI1(40,"translate"),core.k0s()(),core.j41(41,"div")(42,"button",12),core.bIt("click",function(){return ctx.bound()}),core.EFF(43),core.nI1(44,"translate"),core.k0s()()()),2&rf){let tmp_13_0,tmp_14_0;core.R7$(2),core.JRh(core.bMT(3,18,ctx.labelPrefix+ctx.label+".title")),core.R7$(5),core.JRh(core.bMT(8,20,ctx.labelPrefix+ctx.label+".publication")),core.R7$(4),core.Y8G("routerLink","/items/{{(externalSourceEntry.event.target|async)?.payload?.id}}"),core.R7$(),core.SpI(" ",ctx.externalSourceEntry.title," "),core.R7$(),core.vxM(ctx.externalSourceEntry.projectTitle?13:-1),core.R7$(2),core.JRh(core.bMT(16,22,ctx.labelPrefix+ctx.label+".select")),core.R7$(4),core.FS9("placeholder",core.bMT(20,24,ctx.labelPrefix+ctx.label+".placeholder")),core.R50("ngModel",ctx.projectTitle),core.R7$(3),core.Y8G("dsBtnDisabled",""===ctx.projectTitle),core.R7$(),core.JRh(core.bMT(24,26,ctx.labelPrefix+ctx.label+".clear")),core.R7$(2),core.Y8G("dsBtnDisabled",""===ctx.projectTitle),core.R7$(),core.JRh(core.bMT(27,28,ctx.labelPrefix+ctx.label+".search")),core.R7$(2),core.vxM(core.bMT(29,30,ctx.isLoading$)?28:-1),core.R7$(2),core.vxM((null==(tmp_13_0=core.bMT(31,32,ctx.localEntitiesRD$))||null==tmp_13_0.payload||null==tmp_13_0.payload.page?null:tmp_13_0.payload.page.length)>0&&!0!==core.bMT(32,34,ctx.isLoading$)?30:-1),core.R7$(3),core.vxM((null==(tmp_14_0=core.bMT(34,36,ctx.localEntitiesRD$))||null==tmp_14_0.payload||null==tmp_14_0.payload.page?null:tmp_14_0.payload.page.length)<1&&!0!==core.bMT(35,38,ctx.isLoading$)?33:-1),core.R7$(6),core.JRh(core.bMT(40,40,ctx.labelPrefix+ctx.label+".cancel")),core.R7$(3),core.Y8G("dsBtnDisabled",ctx.selectedImportType===ctx.importType.None),core.R7$(),core.JRh(core.bMT(44,42,ctx.labelPrefix+ctx.label+".bound"))}},dependencies:[alert_component.C,common.Jj,btn_disabled_directive.A,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,router.Wk,themed_loading_component.v,themed_search_results_component.N,ngx_translate_core.h,ngx_translate_core.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return ProjectEntryImportModalComponent2})();var eperson_data_service=__webpack_require__(15318);function EPersonDataComponent_Conditional_0_Conditional_0_For_1_Conditional_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const property_r1=core.XpG().$implicit,ePersonData_r2=core.XpG();core.R7$(),core.SpI(" ",ePersonData_r2[property_r1]," ")}}function EPersonDataComponent_Conditional_0_Conditional_0_For_1_Template(rf,ctx){if(1&rf&&(core.DNE(0,EPersonDataComponent_Conditional_0_Conditional_0_For_1_Conditional_0_Template,2,1,"span"),core.nrm(1,"br")),2&rf){const property_r1=ctx.$implicit,ePersonData_r2=core.XpG();core.vxM(ePersonData_r2[property_r1]?0:-1)}}function EPersonDataComponent_Conditional_0_Conditional_0_Template(rf,ctx){if(1&rf&&core.Z7z(0,EPersonDataComponent_Conditional_0_Conditional_0_For_1_Template,2,1,"br",null,core.fX1),2&rf){const ctx_r2=core.XpG(2);core.Dyx(ctx_r2.properties)}}function EPersonDataComponent_Conditional_0_Template(rf,ctx){if(1&rf&&(core.DNE(0,EPersonDataComponent_Conditional_0_Conditional_0_Template,2,0),core.nI1(1,"async")),2&rf){let tmp_1_0;const ctx_r2=core.XpG();core.vxM((tmp_1_0=core.bMT(1,1,ctx_r2.getEPersonData$()))?0:-1,tmp_1_0)}}let EPersonDataComponent=(()=>{class EPersonDataComponent2{constructor(ePersonDataService){this.ePersonDataService=ePersonDataService}getEPersonData$(){if(this.ePersonId)return this.ePersonDataService.findById(this.ePersonId,!0).pipe((0,shared_operators.qD)(),(0,shared_operators.Bo)())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||EPersonDataComponent2)(core.rXU(eperson_data_service.EPersonDataService))}}static{this.\u0275cmp=core.VBU({type:EPersonDataComponent2,selectors:[["ds-eperson-data"]],inputs:{ePersonId:"ePersonId",properties:"properties"},standalone:!0,features:[core.aNF],decls:1,vars:1,template:function(rf,ctx){1&rf&&core.DNE(0,EPersonDataComponent_Conditional_0_Template,2,3),2&rf&&core.vxM(ctx.ePersonId?0:-1)},dependencies:[common.Jj]})}}return EPersonDataComponent2})();const quality_assurance_events_component_c0=(a0,a1)=>({topic:a0,source:a1}),_c1=a0=>["/items",a0],_c2=()=>["email"];function QualityAssuranceEventsComponent_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",9),core.nrm(1,"span",12),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.Y8G("innerHTML",core.i5U(2,2,"quality-assurance.events.description",core.l_i(5,quality_assurance_events_component_c0,ctx_r0.selectedTopicName,ctx_r0.sourceId)),core.npT)}}function QualityAssuranceEventsComponent_Conditional_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",9),core.nrm(1,"span",12),core.nI1(2,"translate"),core.j41(3,"a",13),core.EFF(4),core.nI1(5,"async"),core.k0s()()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.Y8G("innerHTML",core.i5U(2,4,"quality-assurance.events.description-with-topic-and-target",core.l_i(9,quality_assurance_events_component_c0,ctx_r0.selectedTopicName,ctx_r0.sourceId)),core.npT),core.R7$(2),core.Y8G("routerLink",ctx_r0.itemPageUrl),core.R7$(),core.JRh(core.bMT(5,7,ctx_r0.getTargetItemTitle()))}}function QualityAssuranceEventsComponent_Conditional_14_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",10),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"quality-assurance.loading"))}function QualityAssuranceEventsComponent_Conditional_16_Conditional_3_Template(rf,ctx){1&rf&&(core.j41(0,"div",15),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.noEvents")," "))}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Conditional_10_Template(rf,ctx){1&rf&&(core.j41(0,"th",20),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.event.table.project-details")," "))}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Conditional_11_Template(rf,ctx){1&rf&&(core.j41(0,"th",20),core.EFF(1),core.nI1(2,"translate"),core.k0s(),core.j41(3,"th",20),core.EFF(4),core.nI1(5,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,2,"quality-assurance.event.table.reasons")," "),core.R7$(3),core.SpI(" ",core.bMT(5,4,"quality-assurance.event.table.person-who-requested")," "))}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",22),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG().$implicit;core.Y8G("routerLink",core.eq3(2,_c1,null==eventElement_r3||null==eventElement_r3.target?null:eventElement_r3.target.id)),core.R7$(),core.JRh(eventElement_r3.title)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(),core.JRh(eventElement_r3.title)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"span",25),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"span",26)(5,"a",27),core.EFF(6),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.table.event.message.serviceUrl")),core.R7$(2),core.Y8G("title",eventElement_r3.event.message.serviceId),core.R7$(),core.Y8G("href",eventElement_r3.event.message.serviceId,core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.serviceId)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",23)(1,"span",25),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"span",28)(5,"a",27),core.EFF(6),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.table.event.message.link")),core.R7$(2),core.Y8G("title",eventElement_r3.event.message.href),core.R7$(),core.Y8G("href",eventElement_r3.event.message.href,core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.href)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Conditional_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",31),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);core.FS9("href",ctx_r0.getPIDHref(eventElement_r3.event.message),core.B4B),core.R7$(),core.SpI(" ",eventElement_r3.event.message.value," ")}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Conditional_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"span",30),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(),core.JRh(eventElement_r3.event.message.value)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p")(2,"span",29),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.EFF(5,"\xa0"),core.j41(6,"span",30),core.EFF(7),core.k0s()(),core.j41(8,"p")(9,"span",29),core.EFF(10),core.nI1(11,"translate"),core.k0s(),core.nrm(12,"br"),core.DNE(13,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Conditional_13_Template,2,2,"a",31)(14,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Conditional_14_Template,2,1,"span",30),core.k0s()()),2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(3),core.JRh(core.bMT(4,4,"quality-assurance.event.table.pidtype")),core.R7$(4),core.JRh(eventElement_r3.event.message.type),core.R7$(3),core.JRh(core.bMT(11,6,"quality-assurance.event.table.pidvalue")),core.R7$(3),core.vxM(ctx_r0.hasPIDHref(eventElement_r3.event.message)?13:14)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_9_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p")(2,"span",29),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.nrm(5,"br"),core.j41(6,"span",30),core.EFF(7),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(3),core.SpI("",core.bMT(4,2,"quality-assurance.event.table.subjectValue")," "),core.R7$(4),core.JRh(eventElement_r3.event.message.value)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Conditional_9_Template(rf,ctx){1&rf&&core.nrm(0,"i",35)}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Conditional_10_Template(rf,ctx){1&rf&&core.nrm(0,"i",36)}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"td")(1,"p",32)(2,"span",29),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.nrm(5,"br"),core.j41(6,"span",33),core.EFF(7),core.k0s()(),core.j41(8,"button",34),core.bIt("click",function(){core.eBV(_r4);const ctx_r0=core.XpG(4);return core.Njj(ctx_r0.showMore=!ctx_r0.showMore)}),core.DNE(9,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Conditional_9_Template,1,0,"i",35)(10,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Conditional_10_Template,1,0,"i",36),core.EFF(11),core.nI1(12,"translate"),core.k0s()()}if(2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(),core.AVh("show",ctx_r0.showMore),core.R7$(2),core.JRh(core.bMT(4,7,"quality-assurance.event.table.abstract")),core.R7$(4),core.JRh(eventElement_r3.event.message.abstract),core.R7$(2),core.vxM(ctx_r0.showMore?-1:9),core.R7$(),core.vxM(ctx_r0.showMore?10:-1),core.R7$(),core.SpI(" ",core.bMT(12,9,ctx_r0.showMore?"quality-assurance.event.table.less":"quality-assurance.event.table.more")," ")}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span"),core.EFF(2),core.k0s(),core.nrm(3,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(eventElement_r3.event.message.reason)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.nrm(1,"ds-eperson-data",37),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(),core.Y8G("ePersonId",eventElement_r3.event.originalId)("properties",core.lJ4(2,_c2))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p"),core.DNE(2,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Conditional_2_Template,4,1,"span"),core.k0s()(),core.j41(3,"td")(4,"p"),core.DNE(5,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Conditional_5_Template,2,3,"span"),core.k0s()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(2),core.vxM(eventElement_r3.event.message?2:-1),core.R7$(3),core.vxM(eventElement_r3.event.originalId?5:-1)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",30),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.acronym")),core.R7$(4),core.JRh(eventElement_r3.event.message.acronym)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",30),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.code")),core.R7$(4),core.JRh(eventElement_r3.event.message.code)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",30),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.funder")),core.R7$(4),core.JRh(eventElement_r3.event.message.funder)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_15_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",30),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.fundingProgram")),core.R7$(4),core.JRh(eventElement_r3.event.message.fundingProgram)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_16_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",30),core.EFF(6),core.k0s()()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.jurisdiction")),core.R7$(4),core.JRh(eventElement_r3.event.message.jurisdiction)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_21_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",38),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("title",eventElement_r3.projectTitle),core.Y8G("routerLink",core.eq3(3,_c1,eventElement_r3.projectId)),core.R7$(),core.SpI("",eventElement_r3.handle," ")}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_23_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"button",42),core.nI1(1,"translate"),core.bIt("click",function($event){core.eBV(_r5);const eventElement_r3=core.XpG(2).$implicit;return core.XpG(3).openModalLookup(eventElement_r3),core.Njj($event.stopPropagation())}),core.nrm(2,"i",43),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(1,2,"quality-assurance.event.modal.project.select"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_24_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"button",44),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r6);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);return core.Njj(ctx_r0.removeProject(eventElement_r3))}),core.nrm(2,"i",45),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(1,2,"quality-assurance.event.modal.project.remove"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"p")(5,"span",29),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.nrm(8,"br"),core.j41(9,"a",31),core.EFF(10),core.k0s()(),core.j41(11,"p"),core.DNE(12,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_12_Template,8,4,"span")(13,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_13_Template,8,4,"span")(14,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_14_Template,8,4,"span")(15,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_15_Template,8,4,"span")(16,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_16_Template,7,4,"span"),core.k0s(),core.nrm(17,"hr"),core.j41(18,"div"),core.EFF(19),core.nI1(20,"translate"),core.DNE(21,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_21_Template,2,5,"a",38),core.j41(22,"div",39),core.DNE(23,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_23_Template,3,4,"button",40)(24,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Conditional_24_Template,3,4,"button",41),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(2),core.SpI(" ",core.bMT(3,15,"quality-assurance.event.table.suggestedProject")," "),core.R7$(4),core.JRh(core.bMT(7,17,"quality-assurance.event.table.project")),core.R7$(3),core.FCK("href","",ctx_r0.sourceUrlForProjectSearch,"",eventElement_r3.event.message.sourceId,"",core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.title),core.R7$(2),core.vxM(eventElement_r3.event.message.acronym?12:-1),core.R7$(),core.vxM(eventElement_r3.event.message.code?13:-1),core.R7$(),core.vxM(eventElement_r3.event.message.funder?14:-1),core.R7$(),core.vxM(eventElement_r3.event.message.fundingProgram?15:-1),core.R7$(),core.vxM(eventElement_r3.event.message.jurisdiction?16:-1),core.R7$(3),core.SpI(" ",core.bMT(20,19,eventElement_r3.hasProject?"quality-assurance.event.project.found":"quality-assurance.event.project.notFound")," "),core.R7$(2),core.vxM(eventElement_r3.hasProject?21:-1),core.R7$(2),core.vxM(eventElement_r3.hasProject?-1:23),core.R7$(),core.vxM(eventElement_r3.hasProject?24:-1)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_1_Template(rf,ctx){if(1&rf){const _r8=core.RV6();core.j41(0,"button",50),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r8);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),acceptModal_r9=core.sdS(19);return core.Njj(ctx_r0.modalChoice("ACCEPTED",eventElement_r3,acceptModal_r9))}),core.nrm(3,"i",51),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.import")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.import"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_2_Template(rf,ctx){if(1&rf){const _r10=core.RV6();core.j41(0,"button",50),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r10);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);return core.Njj(ctx_r0.executeAction("ACCEPTED",eventElement_r3))}),core.nrm(3,"i",51),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.accept")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.accept"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_7_Template(rf,ctx){if(1&rf){const _r12=core.RV6();core.j41(0,"button",52),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r12);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),rejectModal_r13=core.sdS(23);return core.Njj(ctx_r0.openModal("REJECTED",eventElement_r3,rejectModal_r13))}),core.nrm(3,"i",45),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.reject")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.reject"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_9_Template(rf,ctx){if(1&rf){const _r14=core.RV6();core.j41(0,"button",52),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r14);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),undoModal_r15=core.sdS(25);return core.Njj(ctx_r0.openModal("UNDO",eventElement_r3,undoModal_r15))}),core.nrm(3,"i",45),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.undo")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.undo"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"div",24),core.DNE(1,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_1_Template,4,7,"button",46)(2,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_2_Template,4,7,"button",46),core.j41(3,"button",47),core.nI1(4,"translate"),core.nI1(5,"translate"),core.bIt("click",function(){core.eBV(_r7);const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3),ignoreModal_r11=core.sdS(21);return core.Njj(ctx_r0.openModal("DISCARDED",eventElement_r3,ignoreModal_r11))}),core.nrm(6,"i",48),core.k0s(),core.DNE(7,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_7_Template,4,7,"button",49),core.nI1(8,"async"),core.DNE(9,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Conditional_9_Template,4,7,"button",49),core.nI1(10,"async"),core.k0s()}if(2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/PROJECT")?1:-1),core.R7$(),core.vxM(-1===ctx_r0.showTopic.indexOf("/PROJECT")?2:-1),core.R7$(),core.FS9("ngbTooltip",core.bMT(4,7,"quality-assurance.event.action.ignore")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(5,9,"quality-assurance.event.action.ignore")),core.R7$(4),core.vxM(core.bMT(8,11,ctx_r0.isAdmin$)?7:-1),core.R7$(2),core.vxM(!1===core.bMT(10,13,ctx_r0.isAdmin$)?9:-1)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_16_Template(rf,ctx){if(1&rf){const _r16=core.RV6();core.j41(0,"div",24)(1,"button",52),core.nI1(2,"translate"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r16);const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3),undoModal_r15=core.sdS(25);return core.Njj(ctx_r0.openModal("UNDO",eventElement_r3,undoModal_r15))}),core.nrm(4,"i",45),core.k0s()()}if(2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(),core.FS9("ngbTooltip",core.bMT(2,3,"quality-assurance.event.action.undo")),core.Y8G("dsBtnDisabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(3,5,"quality-assurance.event.action.undo"))}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.DNE(4,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_4_Template,2,4,"a",22)(5,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_5_Template,2,1,"span")(6,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_6_Template,7,6,"div")(7,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_7_Template,7,6,"div",23),core.k0s(),core.DNE(8,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_8_Template,15,8,"td")(9,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_9_Template,8,4,"td")(10,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_10_Template,13,11,"td")(11,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_11_Template,6,2)(12,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_12_Template,25,21,"td"),core.j41(13,"td"),core.DNE(14,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_14_Template,11,15,"div",24),core.nI1(15,"async"),core.DNE(16,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Conditional_16_Template,5,7,"div",24),core.nI1(17,"async"),core.k0s()()),2&rf){const eventElement_r3=ctx.$implicit,ctx_r0=core.XpG(3);core.R7$(2),core.SpI("",null==eventElement_r3||null==eventElement_r3.event?null:eventElement_r3.event.trust," "),core.R7$(2),core.vxM(null!=eventElement_r3&&eventElement_r3.target?4:-1),core.R7$(),core.vxM(null!=eventElement_r3&&eventElement_r3.target?-1:5),core.R7$(),core.vxM(null!=eventElement_r3&&null!=eventElement_r3.event&&null!=eventElement_r3.event.message&&eventElement_r3.event.message.serviceId?6:-1),core.R7$(),core.vxM(null!=eventElement_r3&&null!=eventElement_r3.event&&null!=eventElement_r3.event.message&&eventElement_r3.event.message.href?7:-1),core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/PID")?8:-1),core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/SUBJECT")?9:-1),core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/ABSTRACT")?10:-1),core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/REINSTATE")||-1!==ctx_r0.showTopic.indexOf("/WITHDRAWN")?11:-1),core.R7$(),core.vxM(-1!==ctx_r0.showTopic.indexOf("/PROJECT")?12:-1),core.R7$(2),core.vxM(core.bMT(15,12,ctx_r0.isAdmin$)||!ctx_r0.isReinstateWithdrawnRequest?14:-1),core.R7$(2),core.vxM(!0!==core.bMT(17,14,ctx_r0.isAdmin$)&&ctx_r0.isReinstateWithdrawnRequest?16:-1)}}function QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th",18),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"th",19),core.EFF(8),core.nI1(9,"translate"),core.k0s(),core.DNE(10,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Conditional_10_Template,3,3,"th",20)(11,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Conditional_11_Template,6,6),core.j41(12,"th",21),core.EFF(13),core.nI1(14,"translate"),core.k0s()()(),core.j41(15,"tbody"),core.Z7z(16,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_For_17_Template,18,16,"tr",null,core.fX1),core.nI1(18,"async"),core.k0s()()()),2&rf){const ctx_r0=core.XpG(2);core.R7$(5),core.JRh(core.bMT(6,5,"quality-assurance.event.table.trust")),core.R7$(3),core.JRh(core.bMT(9,7,"quality-assurance.event.table.publication")),core.R7$(2),core.vxM(ctx_r0.hasDetailColumn()&&-1!==ctx_r0.showTopic.indexOf("/PROJECT")?10:-1),core.R7$(),core.vxM(!ctx_r0.hasDetailColumn()||-1===ctx_r0.showTopic.indexOf("/REINSTATE")&&-1===ctx_r0.showTopic.indexOf("/WITHDRAWN")?-1:11),core.R7$(2),core.JRh(core.bMT(14,9,"quality-assurance.event.table.actions")),core.R7$(3),core.Dyx(core.bMT(18,11,ctx_r0.eventsUpdated$))}}function QualityAssuranceEventsComponent_Conditional_16_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-pagination",14),core.nI1(1,"async"),core.bIt("paginationChange",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.getQualityAssuranceEvents())}),core.qex(2),core.DNE(3,QualityAssuranceEventsComponent_Conditional_16_Conditional_3_Template,3,3,"div",15),core.nI1(4,"async"),core.DNE(5,QualityAssuranceEventsComponent_Conditional_16_Conditional_5_Template,19,13,"div",16),core.nI1(6,"async"),core.bVm(),core.k0s()}if(2&rf){let tmp_8_0,tmp_9_0;const ctx_r0=core.XpG();core.Y8G("paginationOptions",ctx_r0.paginationConfig)("collectionSize",core.bMT(1,5,ctx_r0.totalElements$))("sortOptions",ctx_r0.paginationSortConfig),core.R7$(3),core.vxM(0===(null==(tmp_8_0=core.bMT(4,7,ctx_r0.eventsUpdated$))?null:tmp_8_0.length)?3:-1),core.R7$(2),core.vxM(0!==(null==(tmp_9_0=core.bMT(6,9,ctx_r0.eventsUpdated$))?null:tmp_9_0.length)?5:-1)}}function QualityAssuranceEventsComponent_ng_template_18_Template(rf,ctx){if(1&rf){const _r17=core.RV6();core.j41(0,"div",53)(1,"h4",54),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",55)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",56),core.bIt("click",function(){const modal_r18=core.eBV(_r17).$implicit;return core.Njj(modal_r18.close("do"))}),core.nrm(9,"i",51),core.j41(10,"span",57),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",58),core.bIt("click",function(){const modal_r18=core.eBV(_r17).$implicit;return core.Njj(modal_r18.close("cancel"))}),core.nrm(14,"i",59),core.j41(15,"span",57),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.accept.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.import"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_20_Template(rf,ctx){if(1&rf){const _r19=core.RV6();core.j41(0,"div",53)(1,"h1",60),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",55)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",61),core.bIt("click",function(){const modal_r20=core.eBV(_r19).$implicit;return core.Njj(modal_r20.close("do"))}),core.nrm(9,"i",45),core.j41(10,"span",57),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",58),core.bIt("click",function(){const modal_r20=core.eBV(_r19).$implicit;return core.Njj(modal_r20.close("cancel"))}),core.nrm(14,"i",59),core.j41(15,"span",57),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.ignore.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.ignore"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_22_Template(rf,ctx){if(1&rf){const _r21=core.RV6();core.j41(0,"div",53)(1,"h1",62),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",55)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",61),core.bIt("click",function(){const modal_r22=core.eBV(_r21).$implicit;return core.Njj(modal_r22.close("do"))}),core.nrm(9,"i",45),core.j41(10,"span",57),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",58),core.bIt("click",function(){const modal_r22=core.eBV(_r21).$implicit;return core.Njj(modal_r22.close("cancel"))}),core.nrm(14,"i",59),core.j41(15,"span",57),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.reject.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.reject"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_24_Template(rf,ctx){if(1&rf){const _r23=core.RV6();core.j41(0,"div",53)(1,"h1",63),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",55)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",61),core.bIt("click",function(){const modal_r24=core.eBV(_r23).$implicit;return core.Njj(modal_r24.close("do"))}),core.nrm(9,"i",45),core.j41(10,"span",57),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",58),core.bIt("click",function(){const modal_r24=core.eBV(_r23).$implicit;return core.Njj(modal_r24.close("cancel"))}),core.nrm(14,"i",59),core.j41(15,"span",57),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.undo.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.undo"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}let QualityAssuranceEventsComponent=(()=>{class QualityAssuranceEventsComponent2{constructor(activatedRoute,modalService,notificationsService,qualityAssuranceEventRestService,paginationService,translateService,authorizationService,itemService){this.activatedRoute=activatedRoute,this.modalService=modalService,this.notificationsService=notificationsService,this.qualityAssuranceEventRestService=qualityAssuranceEventRestService,this.paginationService=paginationService,this.translateService=translateService,this.authorizationService=authorizationService,this.itemService=itemService,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"bep",currentPage:1,pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.paginationSortConfig=new sort_options_model.z("trust",sort_options_model.U.DESC),this.eventsUpdated$=new cjs.BehaviorSubject([]),this.totalElements$=new cjs.BehaviorSubject(null),this.isEventPageLoading=new cjs.BehaviorSubject(!1),this.showMore=!1,this.defaultConfig=Object.assign(new find_list_options_model._,{sort:this.paginationSortConfig}),this.subs=[]}ngOnInit(){this.isEventPageLoading.next(!0),this.isAdmin$=this.authorizationService.isAuthorized(feature_id._.AdministratorOf),this.activatedRoute.paramMap.pipe((0,operators.Mi)(params=>{this.sourceUrlForProjectSearch=environment.c.qualityAssuranceConfig.sourceUrlMapForProjectSearch[params.get("sourceId")],this.sourceId=params.get("sourceId")}),(0,operators.Tj)(params=>params.get("topicId")),(0,operators.s)(1),(0,operators.nx)(id=>{this.showTopic=id.replace(/!/g,"/"),this.topic=id;const splitList=this.showTopic?.split(":");return this.targetId=splitList.length>2?splitList.pop():null,this.selectedTopicName=splitList[1],this.sourceId=splitList[0],this.getQualityAssuranceEvents()})).subscribe({next:events=>{this.eventsUpdated$.next(events),this.isEventPageLoading.next(!1)},error:error=>{this.isEventPageLoading.next(!1)}})}hasDetailColumn(){return-1!==this.showTopic.indexOf("/PROJECT")||-1!==this.showTopic.indexOf("/PID")||-1!==this.showTopic.indexOf("/SUBJECT")||-1!==this.showTopic.indexOf("/WITHDRAWN")||-1!==this.showTopic.indexOf("/REINSTATE")||-1!==this.showTopic.indexOf("/ABSTRACT")}get isReinstateWithdrawnRequest(){return-1!==this.showTopic.indexOf("/WITHDRAWN")||-1!==this.showTopic.indexOf("/REINSTATE")}modalChoice(action,eventData,content){eventData.hasProject?this.executeAction(action,eventData):this.openModal(action,eventData,content)}openModal(action,eventData,content){this.modalService.open(content,{ariaLabelledBy:"modal-basic-title"}).result.then(result=>{"do"===result&&(eventData.reason=this.selectedReason,this.executeAction(action,eventData)),this.selectedReason=null},_reason=>{this.selectedReason=null})}openModalLookup(eventData){this.modalRef=this.modalService.open(ProjectEntryImportModalComponent,{size:"lg"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=eventData,modalComp.label="project",this.subs.push(modalComp.importedObject.pipe((0,operators.s)(1)).subscribe(object=>{const projectTitle=metadata_utils.O.first(object.indexableObject.metadata,"dc.title");this.boundProject(eventData,object.indexableObject.id,projectTitle.value,object.indexableObject.handle)}))}executeAction(action,eventData){let operation;eventData.isRunning=!0,operation="UNDO"===action?this.delete(eventData):this.qualityAssuranceEventRestService.patchEvent(action,eventData.event,eventData.reason),this.subs.push(operation.pipe((0,shared_operators.qD)(),(0,operators.nx)(rd=>rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.action.saved")),this.getQualityAssuranceEvents()):(this.notificationsService.error(this.translateService.instant("quality-assurance.event.action.error")),(0,cjs.of)(this.eventsUpdated$.value)))).subscribe(events=>{this.eventsUpdated$.next(events),eventData.isRunning=!1}))}boundProject(eventData,projectId,projectTitle,projectHandle){eventData.isRunning=!0,this.subs.push(this.qualityAssuranceEventRestService.boundProject(eventData.id,projectId).pipe((0,shared_operators.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.project.bounded")),eventData.hasProject=!0,eventData.projectTitle=projectTitle,eventData.handle=projectHandle,eventData.projectId=projectId):this.notificationsService.error(this.translateService.instant("quality-assurance.event.project.error")),eventData.isRunning=!1}))}removeProject(eventData){eventData.isRunning=!0,this.subs.push(this.qualityAssuranceEventRestService.removeProject(eventData.id).pipe((0,shared_operators.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.project.removed")),eventData.hasProject=!1,eventData.projectTitle=null,eventData.handle=null,eventData.projectId=null):this.notificationsService.error(this.translateService.instant("quality-assurance.event.project.error")),eventData.isRunning=!1}))}hasPIDHref(event){return null!==this.getPIDHref(event)}getPIDHref(event){return event.pidHref}getQualityAssuranceEvents(){return this.paginationService.getFindListOptions(this.paginationConfig.id,this.defaultConfig).pipe((0,operators.F)(),(0,operators.nx)(options=>this.qualityAssuranceEventRestService.getEventsByTopic(this.topic,options,(0,follow_link_config_model.s)("target"),(0,follow_link_config_model.s)("related"))),(0,shared_operators.qD)(),(0,operators.nx)(rd=>{if(rd.hasSucceeded)return this.totalElements$.next(rd.payload.totalElements),rd.payload?.page?.length>0?this.fetchEvents(rd.payload.page):(0,cjs.of)([]);throw new Error("Can't retrieve Quality Assurance events from the Broker events REST service")}),(0,operators.s)(1),(0,operators.Mi)(()=>{this.qualityAssuranceEventRestService.clearFindByTopicRequests()}))}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}fetchEvents(events){return(0,cjs.from)(events).pipe((0,operators.ZZ)(event=>{const related$=event.related.pipe((0,shared_operators.qD)()),target$=event.target.pipe((0,shared_operators.qD)());return(0,cjs.combineLatest)([related$,target$]).pipe((0,operators.Tj)(([relatedItemRD,targetItemRD])=>{const data={event,id:event.id,title:event.title,hasProject:!1,projectTitle:null,projectId:null,handle:null,reason:null,isRunning:!1,target:targetItemRD?.hasSucceeded?targetItemRD.payload:null};return relatedItemRD?.hasSucceeded&&relatedItemRD?.payload?.id&&(data.hasProject=!0,data.projectTitle=event.message.title,data.projectId=relatedItemRD?.payload?.id,data.handle=relatedItemRD?.payload?.handle),data}))}),(0,operators.SQ)((acc,value)=>[...acc,value],[]),(0,operators.HV)())}delete(qaEvent){return this.qualityAssuranceEventRestService.deleteQAEvent(qaEvent)}getTargetItemTitle(){return this.itemService.findById(this.targetId).pipe((0,operators.s)(1),(0,shared_operators.qD)(),(0,shared_operators.Bo)(),(0,operators.Mi)(item=>this.itemPageUrl=(0,item_page_routing_paths._o)(item)),(0,operators.Tj)(item=>item.firstMetadataValue("dc.title")))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceEventsComponent2)(core.rXU(router.nX),core.rXU(ng_bootstrap.Bq),core.rXU(notifications_service.I),core.rXU(quality_assurance_event_data_service.QualityAssuranceEventDataService),core.rXU(pagination_service.m),core.rXU(ngx_translate_core.c$),core.rXU(authorization_data_service.AuthorizationDataService),core.rXU(item_data_service.ItemDataService))}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceEventsComponent2,selectors:[["ds-quality-assurance-events"]],standalone:!0,features:[core.aNF],decls:26,vars:15,consts:[["acceptModal",""],["ignoreModal",""],["rejectModal",""],["undoModal",""],[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between"],[3,"type"],[1,"container",3,"message"],[3,"paginationOptions","collectionSize","sortOptions"],[3,"innerHTML"],["target","_blank",3,"routerLink"],[3,"paginationChange","paginationOptions","collectionSize","sortOptions"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","events",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"trust-col"],["scope","col",1,"title-col"],["scope","col",1,"content-col"],["scope","col",1,"button-col"],["target","_blank","rel","noopener noreferrer",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"btn-group","button-width"],[1,"small","pe-1"],[3,"title"],["target","_blank",3,"href"],[1,"text-truncate","d-inline-block","w-75",3,"title"],[1,"small"],[1,"badge","bg-info"],["rel","noopener noreferrer","target","_blank",3,"href"],[1,"abstract-container"],[1,"text-ellipsis"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-angle-down"],[1,"fas","fa-angle-up"],[3,"ePersonId","properties"],["target","_blank","rel","noopener noreferrer",3,"title","routerLink"],[1,"btn-group"],[1,"btn","btn-outline-primary","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-outline-danger","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-outline-primary","btn-sm",3,"click","dsBtnDisabled"],[1,"fas","fa-search"],[1,"btn","btn-outline-danger","btn-sm",3,"click","dsBtnDisabled"],[1,"fas","fa-trash-alt"],["container","body",1,"btn","btn-outline-success","btn-sm","button-width",3,"ngbTooltip","dsBtnDisabled"],["container","body",1,"btn","btn-outline-dark","btn-sm","button-width",3,"click","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-ban"],["container","body",1,"btn","btn-outline-danger","btn-sm","button-width",3,"ngbTooltip","dsBtnDisabled"],["container","body",1,"btn","btn-outline-success","btn-sm","button-width",3,"click","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-check"],["container","body",1,"btn","btn-outline-danger","btn-sm","button-width",3,"click","ngbTooltip","dsBtnDisabled"],[1,"modal-header"],["id","acceptModal",1,"modal-title"],[1,"modal-body"],[1,"btn","btn-outline-success","float-end",3,"click"],[1,"d-none","d-sm-inline"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-close"],["id","ignoreModal",1,"modal-title","h4"],[1,"btn","btn-outline-danger","float-end",3,"click"],["id","rejectModal",1,"modal-title","h4"],["id","undoModal",1,"modal-title","h4"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1",7)(4,"div",8),core.EFF(5),core.nI1(6,"translate"),core.k0s()(),core.DNE(7,QualityAssuranceEventsComponent_Conditional_7_Template,3,8,"ds-alert",9)(8,QualityAssuranceEventsComponent_Conditional_8_Template,6,12,"ds-alert",9),core.k0s()(),core.j41(9,"div",5)(10,"div",6)(11,"h2",7),core.EFF(12),core.nI1(13,"translate"),core.k0s(),core.DNE(14,QualityAssuranceEventsComponent_Conditional_14_Template,2,3,"ds-loading",10),core.nI1(15,"async"),core.DNE(16,QualityAssuranceEventsComponent_Conditional_16_Template,7,11,"ds-pagination",11),core.nI1(17,"async"),core.k0s()()(),core.DNE(18,QualityAssuranceEventsComponent_ng_template_18_Template,18,12,"ng-template",null,0,core.C5r)(20,QualityAssuranceEventsComponent_ng_template_20_Template,18,12,"ng-template",null,1,core.C5r)(22,QualityAssuranceEventsComponent_ng_template_22_Template,18,12,"ng-template",null,2,core.C5r)(24,QualityAssuranceEventsComponent_ng_template_24_Template,18,12,"ng-template",null,3,core.C5r)),2&rf&&(core.R7$(5),core.SpI(" ",core.bMT(6,7,"notifications.events.title")," "),core.R7$(2),core.vxM(ctx.targetId?-1:7),core.R7$(),core.vxM(ctx.targetId?8:-1),core.R7$(4),core.Lme(" ",core.bMT(13,9,"quality-assurance.events.topic")," ",ctx.showTopic," "),core.R7$(2),core.vxM(core.bMT(15,11,ctx.isEventPageLoading)?14:-1),core.R7$(2),core.vxM(!0!==core.bMT(17,13,ctx.isEventPageLoading)?16:-1))},dependencies:[alert_component.C,common.Jj,btn_disabled_directive.A,EPersonDataComponent,ng_bootstrap.n8,ng_bootstrap.md,pagination_component.e,router.Wk,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9],styles:[".button-col[_ngcontent-%COMP%], .trust-col[_ngcontent-%COMP%]{width:15%}.title-col[_ngcontent-%COMP%]{width:30%}.content-col[_ngcontent-%COMP%]{width:40%}.button-width[_ngcontent-%COMP%]{width:100%}.abstract-container[_ngcontent-%COMP%]{height:76px;overflow:hidden}.text-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}"]})}}return QualityAssuranceEventsComponent2})(),QualityAssuranceEventsPageComponent=(()=>{class QualityAssuranceEventsPageComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceEventsPageComponent2)}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceEventsPageComponent2,selectors:[["ds-quality-assurance-events-page"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-events")},dependencies:[QualityAssuranceEventsComponent],encapsulation:2})}}return QualityAssuranceEventsPageComponent2})()},63214:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>qualityAssuranceEventsPageResolver});const qualityAssuranceEventsPageResolver=(route,state)=>({pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)})},85129:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>qualityAssuranceSourceDataResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18134),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60444),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3339),_notifications_qa_source_quality_assurance_source_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29823);const qualityAssuranceSourceDataResolver=(route,state,router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_angular_router__WEBPACK_IMPORTED_MODULE_3__.Ix),qualityAssuranceSourceService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_notifications_qa_source_quality_assurance_source_service__WEBPACK_IMPORTED_MODULE_1__.p),appConfig=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ))=>qualityAssuranceSourceService.getSources(appConfig.qualityAssuranceConfig.pageSize,1).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(sources=>(1===sources.page.length&&router.navigate([getResolvedUrl(route)+"/"+sources.page[0].id]),sources.page)));function getResolvedUrl(route){return route.pathFromRoot.map(v=>v.url.map(segment=>segment.toString()).join("/")).join("/")}},68608:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>QualityAssuranceSourcePageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);let QualityAssuranceSourcePageResolver=(()=>{class QualityAssuranceSourcePageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceSourcePageResolver2)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:QualityAssuranceSourcePageResolver2,factory:QualityAssuranceSourcePageResolver2.\u0275fac,providedIn:"root"})}}return QualityAssuranceSourcePageResolver2})()},59953:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>QualityAssuranceSourcePageComponent});var common=__webpack_require__(87514),ngx_translate_core=__webpack_require__(2385),operators=__webpack_require__(60444),pagination_service=__webpack_require__(31903),alert_component=__webpack_require__(6213),empty_util=__webpack_require__(2794),pagination_component_options_model=__webpack_require__(54396),notifications_state_service=__webpack_require__(92988),source_list_component=__webpack_require__(46143),core=__webpack_require__(25376),router=__webpack_require__(18134);let QualityAssuranceSourceComponent=(()=>{class QualityAssuranceSourceComponent2{constructor(paginationService,notificationsStateService,router2,route){this.paginationService=paginationService,this.notificationsStateService=notificationsStateService,this.router=router2,this.route=route,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"btp",pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.subs=[]}ngOnInit(){this.sources$=this.notificationsStateService.getQualityAssuranceSource().pipe((0,operators.Tj)(sources=>sources.map(source=>({id:source.id,lastEvent:source.lastEvent,total:source.totalEvents})))),this.totalElements$=this.notificationsStateService.getQualityAssuranceSourceTotals()}ngAfterViewInit(){this.subs.push(this.notificationsStateService.isQualityAssuranceSourceLoaded().pipe((0,operators.s)(1)).subscribe(()=>{this.getQualityAssuranceSource()}))}onSelect(sourceId){this.router.navigate([sourceId],{relativeTo:this.route})}isSourceLoading(){return this.notificationsStateService.isQualityAssuranceSourceLoading()}isSourceProcessing(){return this.notificationsStateService.isQualityAssuranceSourceProcessing()}getQualityAssuranceSource(){this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,operators.F)()).subscribe(options=>{this.notificationsStateService.dispatchRetrieveQualityAssuranceSource(options.pageSize,options.currentPage)})}updatePaginationFromRouteParams(eventsRouteParams){eventsRouteParams.currentPage&&(this.paginationConfig.currentPage=eventsRouteParams.currentPage),eventsRouteParams.pageSize&&(this.paginationConfig.pageSize=this.paginationConfig.pageSizeOptions.includes(eventsRouteParams.pageSize)?eventsRouteParams.pageSize:this.paginationConfig.pageSizeOptions[0])}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceSourceComponent2)(core.rXU(pagination_service.m),core.rXU(notifications_state_service.p),core.rXU(router.Ix),core.rXU(router.nX))}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceSourceComponent2,selectors:[["ds-quality-assurance-source"]],standalone:!0,features:[core.aNF],decls:12,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[3,"type","content"],[3,"paginationChange","sourceSelected","loading","paginationConfig","showLastEvent","sources","totalElements"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.nrm(6,"ds-alert",4),core.k0s()(),core.j41(7,"ds-source-list",5),core.nI1(8,"async"),core.nI1(9,"async"),core.nI1(10,"async"),core.nI1(11,"async"),core.bIt("paginationChange",function(){return ctx.getQualityAssuranceSource()})("sourceSelected",function($event){return ctx.onSelect($event)}),core.k0s()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,8,"quality-assurance.title")),core.R7$(2),core.Y8G("type","alert-info")("content","quality-assurance.source.description"),core.R7$(),core.Y8G("loading",!0===core.bMT(8,10,ctx.isSourceLoading())||!0===core.bMT(9,12,ctx.isSourceProcessing()))("paginationConfig",ctx.paginationConfig)("showLastEvent",!0)("sources",core.bMT(10,14,ctx.sources$))("totalElements",core.bMT(11,16,ctx.totalElements$)))},dependencies:[alert_component.C,common.Jj,source_list_component.j,ngx_translate_core.h,ngx_translate_core.D9]})}}return QualityAssuranceSourceComponent2})(),QualityAssuranceSourcePageComponent=(()=>{class QualityAssuranceSourcePageComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceSourcePageComponent2)}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceSourcePageComponent2,selectors:[["ds-quality-assurance-source-page-component"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-source")},dependencies:[QualityAssuranceSourceComponent],encapsulation:2})}}return QualityAssuranceSourcePageComponent2})()},68678:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>QualityAssuranceTopicsPageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25376);let QualityAssuranceTopicsPageResolver=(()=>{class QualityAssuranceTopicsPageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceTopicsPageResolver2)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:QualityAssuranceTopicsPageResolver2,factory:QualityAssuranceTopicsPageResolver2.\u0275fac,providedIn:"root"})}}return QualityAssuranceTopicsPageResolver2})()},96510:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>QualityAssuranceTopicsPageComponent});var common=__webpack_require__(87514),router=__webpack_require__(18134),ngx_translate_core=__webpack_require__(2385),operators=__webpack_require__(60444),admin_routing_paths=__webpack_require__(82352),item_data_service=__webpack_require__(94149),pagination_service=__webpack_require__(31903),shared_operators=__webpack_require__(39022),item_page_routing_paths=__webpack_require__(88292),alert_component=__webpack_require__(6213),empty_util=__webpack_require__(2794),themed_loading_component=__webpack_require__(18869),pagination_component=__webpack_require__(42191),pagination_component_options_model=__webpack_require__(54396),notifications_state_service=__webpack_require__(92988),core=__webpack_require__(25376);const _c0=a0=>({source:a0}),_c1=a0=>({param:a0}),_c2=(a0,a1,a2)=>[a0,a1,a2];function QualityAssuranceTopicsComponent_Conditional_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",4),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.JRh(core.i5U(2,2,"quality-assurance.topics.description",core.eq3(5,_c0,ctx_r0.sourceId)))}}function QualityAssuranceTopicsComponent_Conditional_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",4),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"a",7),core.EFF(4),core.nI1(5,"async"),core.k0s()()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.SpI(" ",core.i5U(2,4,"quality-assurance.topics.description-with-target",core.eq3(9,_c0,ctx_r0.sourceId))," "),core.R7$(2),core.Y8G("routerLink",ctx_r0.itemPageUrl),core.R7$(),core.JRh(core.bMT(5,7,ctx_r0.getTargetItemTitle()))}}function QualityAssuranceTopicsComponent_Conditional_13_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",5),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"quality-assurance.loading"))}function QualityAssuranceTopicsComponent_Conditional_15_Conditional_2_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading",9)}function QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_0_Template(rf,ctx){1&rf&&(core.j41(0,"div",10),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.noTopics")," "))}function QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_2_For_15_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.EFF(4),core.nI1(5,"date"),core.k0s(),core.j41(6,"td")(7,"div",14)(8,"button",15),core.nI1(9,"translate"),core.j41(10,"span",16),core.EFF(11),core.k0s(),core.nrm(12,"i",17),core.k0s()()()()),2&rf){const topicElement_r3=ctx.$implicit,ctx_r0=core.XpG(4);core.R7$(2),core.JRh(topicElement_r3.name),core.R7$(2),core.JRh(core.i5U(5,5,topicElement_r3.lastEvent,"dd/MM/yyyy hh:mm")),core.R7$(4),core.FS9("title",core.i5U(9,8,"quality-assurance.topics-list.button.detail",core.eq3(11,_c1,topicElement_r3.name))),core.Y8G("routerLink",core.sMw(13,_c2,ctx_r0.getQualityAssuranceRoute(),ctx_r0.sourceId,topicElement_r3.id)),core.R7$(3),core.JRh(topicElement_r3.totalEvents)}}function QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th",13),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"th",13),core.EFF(8),core.nI1(9,"translate"),core.k0s(),core.j41(10,"th",13),core.EFF(11),core.nI1(12,"translate"),core.k0s()()(),core.j41(13,"tbody"),core.Z7z(14,QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_2_For_15_Template,13,17,"tr",null,core.fX1),core.nI1(16,"async"),core.k0s()()()),2&rf){const ctx_r0=core.XpG(3);core.R7$(5),core.JRh(core.bMT(6,3,"quality-assurance.table.topic")),core.R7$(3),core.JRh(core.bMT(9,5,"quality-assurance.table.last-event")),core.R7$(3),core.JRh(core.bMT(12,7,"quality-assurance.table.actions")),core.R7$(3),core.Dyx(core.bMT(16,9,ctx_r0.topics$))}}function QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Template(rf,ctx){if(1&rf&&(core.DNE(0,QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_0_Template,3,3,"div",10),core.nI1(1,"async"),core.DNE(2,QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Conditional_2_Template,17,11,"div",11),core.nI1(3,"async")),2&rf){let tmp_2_0,tmp_3_0;const ctx_r0=core.XpG(2);core.vxM(0===(null==(tmp_2_0=core.bMT(1,2,ctx_r0.topics$))?null:tmp_2_0.length)?0:-1),core.R7$(2),core.vxM(0!==(null==(tmp_3_0=core.bMT(3,4,ctx_r0.topics$))?null:tmp_3_0.length)?2:-1)}}function QualityAssuranceTopicsComponent_Conditional_15_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-pagination",8),core.nI1(1,"async"),core.bIt("paginationChange",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.getQualityAssuranceTopics(ctx_r0.sourceId,ctx_r0.targetId))}),core.DNE(2,QualityAssuranceTopicsComponent_Conditional_15_Conditional_2_Template,1,0,"ds-loading",9),core.nI1(3,"async"),core.DNE(4,QualityAssuranceTopicsComponent_Conditional_15_Conditional_4_Template,4,6),core.nI1(5,"async"),core.k0s()}if(2&rf){const ctx_r0=core.XpG();core.Y8G("paginationOptions",ctx_r0.paginationConfig)("collectionSize",core.bMT(1,6,ctx_r0.totalElements$))("hideGear",!1)("hideSortOptions",!0),core.R7$(2),core.vxM(core.bMT(3,8,ctx_r0.isTopicsProcessing())?2:-1),core.R7$(2),core.vxM(!0!==core.bMT(5,10,ctx_r0.isTopicsProcessing())?4:-1)}}let QualityAssuranceTopicsComponent=(()=>{class QualityAssuranceTopicsComponent2{constructor(paginationService,activatedRoute,itemService,notificationsStateService,router2){this.paginationService=paginationService,this.activatedRoute=activatedRoute,this.itemService=itemService,this.notificationsStateService=notificationsStateService,this.router=router2,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"btp",pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.subs=[],this.sourceId=this.activatedRoute.snapshot.params.sourceId,this.targetId=this.activatedRoute.snapshot.params.targetId}ngOnInit(){this.topics$=this.notificationsStateService.getQualityAssuranceTopics().pipe((0,operators.Mi)(topics=>{1===topics.length&&"true"===this.activatedRoute.snapshot.queryParams?.forward&&this.router.navigate([this.getQualityAssuranceRoute(),this.sourceId,topics[0].id])})),this.totalElements$=this.notificationsStateService.getQualityAssuranceTopicsTotals()}ngAfterViewInit(){this.subs.push(this.notificationsStateService.isQualityAssuranceTopicsLoaded().pipe((0,operators.s)(1)).subscribe(()=>{this.getQualityAssuranceTopics(this.sourceId,this.targetId)}))}isTopicsLoading(){return this.notificationsStateService.isQualityAssuranceTopicsLoading()}isTopicsProcessing(){return this.notificationsStateService.isQualityAssuranceTopicsProcessing()}getQualityAssuranceTopics(source,target){this.subs.push(this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,operators.F)()).subscribe(options=>{this.notificationsStateService.dispatchRetrieveQualityAssuranceTopics(options.pageSize,options.currentPage,source,target)}))}updatePaginationFromRouteParams(eventsRouteParams){eventsRouteParams.currentPage&&(this.paginationConfig.currentPage=eventsRouteParams.currentPage),eventsRouteParams.pageSize&&(this.paginationConfig.pageSize=this.paginationConfig.pageSizeOptions.includes(eventsRouteParams.pageSize)?eventsRouteParams.pageSize:this.paginationConfig.pageSizeOptions[0])}getTargetItemTitle(){return this.itemService.findById(this.targetId).pipe((0,operators.s)(1),(0,shared_operators.qD)(),(0,shared_operators.Bo)(),(0,operators.Mi)(item=>this.itemPageUrl=(0,item_page_routing_paths._o)(item)),(0,operators.Tj)(item=>item.firstMetadataValue("dc.title")))}getItemPageRoute(item){return(0,item_page_routing_paths._o)(item)}getQualityAssuranceRoute(){return(0,admin_routing_paths.b7)()}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceTopicsComponent2)(core.rXU(pagination_service.m),core.rXU(router.nX),core.rXU(item_data_service.ItemDataService),core.rXU(notifications_state_service.p),core.rXU(router.Ix))}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceTopicsComponent2,selectors:[["ds-quality-assurance-topic"]],standalone:!0,features:[core.aNF],decls:17,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[3,"type"],[1,"container",3,"message"],[3,"paginationOptions","collectionSize","hideGear","hideSortOptions"],[3,"routerLink"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","hideSortOptions"],["message","'quality-assurance.loading' | translate",1,"container"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","routerLink"],[1,"badge","bg-info"],[1,"fas","fa-info","fa-fw"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.DNE(6,QualityAssuranceTopicsComponent_Conditional_6_Template,3,7,"ds-alert",4)(7,QualityAssuranceTopicsComponent_Conditional_7_Template,6,11,"ds-alert",4),core.k0s()(),core.j41(8,"div",1)(9,"div",2)(10,"h2",3),core.EFF(11),core.nI1(12,"translate"),core.k0s(),core.DNE(13,QualityAssuranceTopicsComponent_Conditional_13_Template,2,3,"ds-loading",5),core.nI1(14,"async"),core.DNE(15,QualityAssuranceTopicsComponent_Conditional_15_Template,6,12,"ds-pagination",6),core.nI1(16,"async"),core.k0s()()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,6,"quality-assurance.title")),core.R7$(2),core.vxM(ctx.targetId?-1:6),core.R7$(),core.vxM(ctx.targetId?7:-1),core.R7$(4),core.JRh(core.bMT(12,8,"quality-assurance.topics")),core.R7$(2),core.vxM(core.bMT(14,10,ctx.isTopicsLoading())?13:-1),core.R7$(2),core.vxM(!0!==core.bMT(16,12,ctx.isTopicsLoading())?15:-1))},dependencies:[alert_component.C,common.Jj,common.vh,pagination_component.e,router.Wk,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9]})}}return QualityAssuranceTopicsComponent2})(),QualityAssuranceTopicsPageComponent=(()=>{class QualityAssuranceTopicsPageComponent2{static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||QualityAssuranceTopicsPageComponent2)}}static{this.\u0275cmp=core.VBU({type:QualityAssuranceTopicsPageComponent2,selectors:[["ds-notification-qa-page"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-topic")},dependencies:[QualityAssuranceTopicsComponent],encapsulation:2})}}return QualityAssuranceTopicsPageComponent2})()}};