"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[620],{80495:(R,f,o)=>{o.d(f,{Q:()=>b});class b{constructor(C,h){this.text=C,this.url=h}}},50620:(R,f,o)=>{o.r(f),o.d(f,{ROUTES:()=>xe});var b=o(85643),e=o(54438),C=o(84572),h=o(96354),I=o(80495),k=o(11873),x=o(6170),M=o(61206),m=o(4093),$=o(43446),d=o(68018);let B=(()=>{class n{constructor(t,i,s,a){this.dataService=t,this.dsoNameService=i,this.tranlsateService=s,this.authorizationService=a,this.ADMIN_PUBLICATION_CLAIMS_PATH="admin/notifications/publication-claim",this.ADMIN_PUBLICATION_CLAIMS_BREADCRUMB_KEY="admin.notifications.publicationclaim.page.title"}getBreadcrumbs(t){return(0,C.z)([this.dataService.findById(t).pipe((0,m.qD)()),this.authorizationService.isAuthorized(x._.AdministratorOf)]).pipe((0,h.T)(([i,s])=>{const a=this.dsoNameService.getName(i.payload);return s?[new I.Q(this.tranlsateService.instant(this.ADMIN_PUBLICATION_CLAIMS_BREADCRUMB_KEY),this.ADMIN_PUBLICATION_CLAIMS_PATH),new I.Q(this.tranlsateService.instant("suggestion.suggestionFor.breadcrumb",{name:a}),void 0)]:[new I.Q(this.tranlsateService.instant("suggestion.suggestionFor.breadcrumb",{name:a}),void 0)]}))}static{this.\u0275fac=function(i){return new(i||n)(e.KVO(M.ItemDataService),e.KVO($.f),e.KVO(d.c$),e.KVO(k.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var D=o(60177),_=o(7901),j=o(84412),p=o(88141),v=o(25558),O=o(23294),G=o(94196),E=o(70998),N=o(36343),X=o(31),U=o(19548),V=o(25645),S=o(58003),L=o(96697),r=o(31635),u=o(74850),z=o(72153),A=o(54095),Y=o(44043),T=o(94152),K=o(90762);let g=class{static{this.type=K.P}};(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",String)],g.prototype,"id",void 0),(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",String)],g.prototype,"display",void 0),(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",String)],g.prototype,"source",void 0),(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",String)],g.prototype,"externalSourceUri",void 0),(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",String)],g.prototype,"score",void 0),(0,r.Cg)([u.autoserialize,(0,r.Sn)("design:type",Object)],g.prototype,"evidences",void 0),(0,r.Cg)([T.aK,(0,u.autoserializeAs)(A.Of),(0,r.Sn)("design:type",A.Cr)],g.prototype,"metadata",void 0),(0,r.Cg)([T.aK,u.autoserialize,(0,r.Sn)("design:type",Y.v)],g.prototype,"type",void 0),(0,r.Cg)([u.deserialize,(0,r.Sn)("design:type",Object)],g.prototype,"_links",void 0),g=(0,r.Cg)([z.gV],g);var J=o(79104),Q=o(39334),W=o(11588);function H(n,c){if(1&n){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.approveAndImportCollectionFixed())}),e.nrm(1,"i",7),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,t.approveAndImportLabel())," ")}}function Z(n,c){if(1&n){const t=e.RV6();e.j41(0,"button",8),e.nrm(1,"i",7),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"span",9),e.k0s(),e.j41(5,"div",10)(6,"ds-entity-dropdown",11),e.bIt("selectionChange",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.openDialog(s))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,t.approveAndImportLabel())," ")}}function w(n,c){1&n&&(e.EFF(0),e.nI1(1,"translate")),2&n&&e.SpI(" ",e.bMT(1,1,"suggestion.seeEvidence")," ")}function q(n,c){1&n&&(e.EFF(0),e.nI1(1,"translate")),2&n&&e.SpI(" ",e.bMT(1,1,"suggestion.hideEvidence")," ")}function ee(n,c){if(1&n){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleSeeEvidences())}),e.nrm(1,"i",13),e.DNE(2,w,2,3)(3,q,2,3),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("dsBtnDisabled",!t.hasEvidence),e.R7$(2),e.vxM(t.seeEvidence?-1:2),e.R7$(),e.vxM(t.seeEvidence?3:-1)}}let y=(()=>{class n{constructor(t){this.modalService=t,this.isBulk=!1,this.hasEvidence=!1,this.seeEvidence=!1,this.isCollectionFixed=!1,this.ignoreSuggestionClicked=new e.bkB,this.approveAndImport=new e.bkB,this.seeEvidences=new e.bkB}openDialog(t){const i=this.modalService.open(Q.L);i.componentInstance.emitOnly=!0,i.componentInstance.entityType=t.label,i.componentInstance.select.pipe((0,L.s)(1)).subscribe(s=>{this.approveAndImport.emit({suggestion:this.isBulk?void 0:this.object,collectionId:s.id})})}approveAndImportCollectionFixed(){this.approveAndImport.emit({suggestion:this.isBulk?void 0:this.object,collectionId:null})}ignoreSuggestion(){this.ignoreSuggestionClicked.emit(this.isBulk?void 0:this.object.id)}toggleSeeEvidences(){this.seeEvidences.emit(!this.seeEvidence)}ignoreSuggestionLabel(){return this.isBulk?"suggestion.ignoreSuggestion.bulk":"suggestion.ignoreSuggestion"}approveAndImportLabel(){return this.isBulk?"suggestion.approveAndImport.bulk":"suggestion.approveAndImport"}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(S.Bq))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-actions"]],inputs:{object:"object",isBulk:"isBulk",hasEvidence:"hasEvidence",seeEvidence:"seeEvidence",isCollectionFixed:"isCollectionFixed"},outputs:{ignoreSuggestionClicked:"ignoreSuggestionClicked",approveAndImport:"approveAndImport",seeEvidences:"seeEvidences"},standalone:!0,features:[e.aNF],decls:9,vars:5,consts:[[1,"d-inline"],["ngbDropdown","",1,"d-inline"],["type","button",1,"btn","btn-success"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"fa","fa-ban"],[1,"btn","btn-info","ms-2",3,"dsBtnDisabled"],["type","button",1,"btn","btn-success",3,"click"],["aria-hidden","true",1,"fa","fa-check"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-success"],[1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu"],[3,"selectionChange"],[1,"btn","btn-info","ms-2",3,"click","dsBtnDisabled"],[1,"fa","fa-eye"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,H,4,3,"button",2)(3,Z,7,3),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return s.ignoreSuggestion()}),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,ee,4,3,"button",5),e.k0s()),2&i&&(e.R7$(2),e.vxM(s.isCollectionFixed?2:3),e.R7$(4),e.SpI("\n",e.bMT(7,3,s.ignoreSuggestionLabel()),""),e.R7$(2),e.vxM(s.isBulk?-1:8))},dependencies:[J.A,W.Y,S.zH,S.tg,S.do,S.U0,d.h,d.D9]})}}return n})();var te=o(15862),F=o(2180),ne=o(89777),ie=o(15610);let se=(()=>{class n{transform(t){const i=[];return Object.keys(t).forEach(s=>i.push(s)),i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=e.EJ8({name:"dsObjectKeys",type:n,pure:!0,standalone:!0})}}return n})();function oe(n,c){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()),2&n){const t=c.$implicit,i=e.XpG(2);e.R7$(2),e.JRh(i.evidences[t].score),e.R7$(2),e.JRh(e.bMT(5,3,t)),e.R7$(3),e.JRh(i.evidences[t].notes)}}function ae(n,c){if(1&n&&(e.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"tbody"),e.Z7z(14,oe,8,5,"tr",null,e.fX1),e.nI1(16,"dsObjectKeys"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,3,"suggestion.evidence.score")),e.R7$(3),e.JRh(e.bMT(9,5,"suggestion.evidence.type")),e.R7$(3),e.JRh(e.bMT(12,7,"suggestion.evidence.notes")),e.R7$(3),e.Dyx(e.bMT(16,9,t.evidences))}}let ce=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-evidences"]],inputs:{evidences:"evidences"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"table-responsive"],[1,"table"]],template:function(i,s){1&i&&(e.j41(0,"div"),e.DNE(1,ae,17,11,"div",0),e.k0s()),2&i&&(e.R7$(),e.vxM(s.evidences?1:-1))},dependencies:[se,d.h,d.D9],data:{animation:[F.qG]}})}}return n})();function re(n,c){if(1&n&&(e.j41(0,"div",10)(1,"div",11),e.nrm(2,"ds-suggestion-evidences",12),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("evidences",t.object.evidences)}}let ge=(()=>{class n{constructor(){this.isSelected=!1,this.isCollectionFixed=!1,this.seeEvidence=!1,this.ignoreSuggestionClicked=new e.bkB,this.approveAndImport=new e.bkB,this.selected=new e.bkB}ngOnInit(){this.listableObject={indexableObject:Object.assign(new te.q,{id:this.object.id,metadata:this.object.metadata}),hitHighlights:{}}}onApproveAndImport(t){this.approveAndImport.emit(t)}onIgnoreSuggestion(t){this.ignoreSuggestionClicked.emit(t)}changeSelected(t){this.isSelected=t.target.checked,this.selected.next(this.isSelected)}hasEvidences(){return(0,ne.hj)(this.object.evidences)}onSeeEvidences(t){this.seeEvidence=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-list-item"]],inputs:{object:"object",isSelected:"isSelected",isCollectionFixed:"isCollectionFixed"},outputs:{ignoreSuggestionClicked:"ignoreSuggestionClicked",approveAndImport:"approveAndImport",selected:"selected"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-1","text-center","align-self-center"],[1,""],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"col-2","text-center","align-self-center"],[1,"suggestion-score"],[1,"col"],[3,"showLabel","showThumbnails","object","linkType"],[1,"parent","mt-2",3,"approveAndImport","seeEvidences","ignoreSuggestionClicked","hasEvidence","seeEvidence","object","isCollectionFixed"],[1,"mt-2","row"],[1,"col","offset-3"],[3,"evidences"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),e.bIt("change",function(l){return s.changeSelected(l)}),e.k0s()()(),e.j41(5,"div",5)(6,"div",3)(7,"div")(8,"strong"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"span",6),e.EFF(12),e.k0s()()(),e.j41(13,"div",7),e.nrm(14,"ds-item-search-result-list-element",8),e.j41(15,"ds-suggestion-actions",9),e.bIt("approveAndImport",function(l){return s.onApproveAndImport(l)})("seeEvidences",function(l){return s.onSeeEvidences(l)})("ignoreSuggestionClicked",function(l){return s.onIgnoreSuggestion(l)}),e.k0s()()(),e.DNE(16,re,3,1,"div",10),e.k0s(),e.nrm(17,"hr")),2&i&&(e.R7$(4),e.Y8G("checked",s.isSelected),e.BMQ("aria-label",s.object.display),e.R7$(5),e.SpI(" ",e.bMT(10,13,"suggestion.totalScore"),""),e.R7$(3),e.JRh(s.object.score),e.R7$(2),e.Y8G("showLabel",!1)("showThumbnails",!1)("object",s.listableObject)("linkType",0),e.R7$(),e.Y8G("hasEvidence",s.hasEvidences())("seeEvidence",s.seeEvidence)("object",s.object)("isCollectionFixed",s.isCollectionFixed),e.R7$(),e.vxM(s.seeEvidence?16:-1))},dependencies:[ie.k,y,ce,d.h,d.D9],styles:[".issue-date[_ngcontent-%COMP%]{color:#c8c8c8}.parent[_ngcontent-%COMP%]{display:flex;gap:10px}.import[_ngcontent-%COMP%]{flex:initial}.suggestion-score[_ngcontent-%COMP%]{font-size:1.5rem}"],data:{animation:[F.qG]}})}}return n})();var le=o(85955),de=o(6207),ue=o(64972),pe=o(15202),ve=o(9847),he=o(2175),me=o(8417),Se=o(50186),fe=o(33063);const Ce=n=>["/entities/person/",n],be=n=>[n];function Ie(n,c){1&n&&e.nrm(0,"ds-loading")}function _e(n,c){if(1&n){const t=e.RV6();e.j41(0,"ds-suggestion-actions",11),e.bIt("approveAndImport",function(s){e.eBV(t);const a=e.XpG(3);return e.Njj(a.approveAndImportAllSelected(s))})("ignoreSuggestionClicked",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.ignoreSuggestionAllSelected())}),e.k0s()}if(2&n){const t=e.XpG(2).ngVar,i=e.XpG();e.Y8G("isBulk",!0)("isCollectionFixed",i.isCollectionFixed(t.page))}}function je(n,c){1&n&&e.nrm(0,"i",9)}function Ee(n,c){if(1&n){const t=e.RV6();e.j41(0,"li",14)(1,"ds-suggestion-list-item",15),e.bIt("ignoreSuggestionClicked",function(s){e.eBV(t);const a=e.XpG(4);return e.Njj(a.ignoreSuggestion(s))})("selected",function(s){const a=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.onSelected(a,s))})("approveAndImport",function(s){e.eBV(t);const a=e.XpG(4);return e.Njj(a.approveAndImport(s))}),e.k0s()()}if(2&n){const t=c.$implicit,i=e.XpG(4);e.R7$(),e.Y8G("object",t)("isSelected",!!i.selectedSuggestions[t.id])("isCollectionFixed",i.isCollectionFixed(e.eq3(3,be,t)))}}function Ae(n,c){if(1&n){const t=e.RV6();e.j41(0,"ds-pagination",12),e.bIt("paginationChange",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onPaginationChange())}),e.j41(1,"ul",13),e.Z7z(2,Ee,2,5,"li",14,e.fX1),e.k0s()()}if(2&n){const t=e.XpG(2).ngVar,i=e.XpG();e.Y8G("paginationOptions",i.paginationOptions)("sortOptions",i.paginationSortConfig)("collectionSize",null==t||null==t.pageInfo?null:t.pageInfo.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!1)("hidePaginationDetail",!1),e.R7$(2),e.Dyx(null==t?null:t.page)}}function Te(n,c){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"h1"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"a",5),e.EFF(5),e.k0s(),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",6)(10,"button",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG().ngVar,a=e.XpG();return e.Njj(a.onToggleSelectAll(s.page))}),e.EFF(11,"Select / Deselect All"),e.k0s(),e.j41(12,"em"),e.EFF(13),e.k0s(),e.DNE(14,_e,1,2,"ds-suggestion-actions",8)(15,je,1,0,"i",9),e.k0s(),e.DNE(16,Ae,4,6,"ds-pagination",10),e.nI1(17,"async"),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,9,"suggestion.suggestionFor")," "),e.R7$(2),e.Y8G("routerLink",e.eq3(17,Ce,t.researcherUuid)),e.R7$(),e.JRh(t.researcherName),e.R7$(),e.Lme(" ",e.bMT(7,11,"suggestion.from.source")," ",e.bMT(8,13,t.translateSuggestionSource())," "),e.R7$(7),e.SpI("(",t.getSelectedSuggestionsCount(),")"),e.R7$(),e.vxM(t.getSelectedSuggestionsCount()>0?14:-1),e.R7$(),e.vxM(t.isBulkOperationPending?15:-1),e.R7$(),e.vxM(!0!==e.bMT(17,15,t.processing$)?16:-1)}}function ye(n,c){1&n&&(e.j41(0,"ds-alert",4),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.Y8G("type","alert-info"),e.R7$(),e.SpI(" ",e.bMT(2,2,"suggestion.count.missing")," "))}function Fe(n,c){if(1&n&&(e.qex(0),e.DNE(1,Ie,1,0,"ds-loading"),e.nI1(2,"async"),e.DNE(3,Te,18,19,"div"),e.nI1(4,"async"),e.DNE(5,ye,3,4,"ds-alert",4),e.nI1(6,"async"),e.bVm()),2&n){const t=c.ngVar,i=e.XpG();e.R7$(),e.vxM(e.bMT(2,3,i.processing$)?1:-1),e.R7$(2),e.vxM(!0!==e.bMT(4,5,i.processing$)&&(null==t||null==t.pageInfo?null:t.pageInfo.totalElements)>0?3:-1),e.R7$(2),e.vxM(!0===e.bMT(6,7,i.processing$)||0!==(null==t||null==t.pageInfo?null:t.pageInfo.totalElements)&&t?-1:5)}}let Re=(()=>{class n{constructor(t,i,s,a,l,Me,$e,Be,Pe){this.authService=t,this.notificationService=i,this.paginationService=s,this.route=a,this.router=l,this.suggestionService=Me,this.suggestionTargetsStateService=$e,this.translateService=Be,this.workspaceItemService=Pe,this.paginationOptions=Object.assign(new me.W,{id:"sp",pageSizeOptions:[5,10,20,40,60]}),this.paginationSortConfig=new E.z("trust",E.U.DESC),this.defaultConfig=Object.assign(new N._,{sort:this.paginationSortConfig}),this.processing$=new j.t(!1),this.suggestionsRD$=new j.t({}),this.selectedSuggestions={},this.isBulkOperationPending=!1}ngOnInit(){this.targetRD$=this.route.data.pipe((0,h.T)(t=>t.suggestionTargets),(0,U.QD)(this.router,this.authService)),this.targetId$=this.targetRD$.pipe((0,m.ak)(),(0,h.T)(t=>t.id)),this.targetRD$.pipe((0,m.ak)(),(0,p.M)(t=>{this.suggestionTarget=t,this.suggestionId=t.id,this.researcherName=t.display,this.suggestionSource=t.source,this.researcherUuid=this.suggestionService.getTargetUuid(t)}),(0,v.n)(()=>this.updatePage())).subscribe(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}onPaginationChange(){this.updatePage().subscribe()}updatePage(){this.processing$.next(!0);const t=this.paginationService.getFindListOptions(this.paginationOptions.id,this.defaultConfig).pipe((0,O.F)());return(0,C.z)([this.targetId$,t]).pipe((0,v.n)(([i,s])=>this.suggestionService.getSuggestions(i,s.elementsPerPage,s.currentPage,s.sort)),(0,m.qD)(),(0,p.M)(i=>{this.processing$.next(!1),this.suggestionsRD$.next(i.hasSucceeded?i.payload:null),this.suggestionService.clearSuggestionRequests()}))}ignoreSuggestion(t){this.suggestionService.ignoreSuggestion(t).pipe((0,p.M)(()=>this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction()),(0,v.n)(()=>this.updatePage())).subscribe()}ignoreSuggestionAllSelected(){this.isBulkOperationPending=!0,this.suggestionService.ignoreSuggestionMultiple(Object.values(this.selectedSuggestions)).pipe((0,p.M)(t=>{this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction(),this.isBulkOperationPending=!1,this.selectedSuggestions={},t.success>0&&this.notificationService.success(this.translateService.get("suggestion.ignoreSuggestion.bulk.success",{count:t.success})),t.fails>0&&this.notificationService.error(this.translateService.get("suggestion.ignoreSuggestion.bulk.error",{count:t.fails}))}),(0,v.n)(()=>this.updatePage())).subscribe()}approveAndImport(t){this.suggestionService.approveAndImport(this.workspaceItemService,t.suggestion,t.collectionId).pipe((0,p.M)(i=>{const s=this.translateService.instant("suggestion.approveAndImport.success",{url:(0,fe.Uf)(i.id)});this.notificationService.success("",s,{timeOut:0},!0),this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction()}),(0,v.n)(()=>this.updatePage())).subscribe()}approveAndImportAllSelected(t){this.isBulkOperationPending=!0,this.suggestionService.approveAndImportMultiple(this.workspaceItemService,Object.values(this.selectedSuggestions),t.collectionId).pipe((0,p.M)(i=>{this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction(),this.isBulkOperationPending=!1,this.selectedSuggestions={},i.success>0&&this.notificationService.success(this.translateService.get("suggestion.approveAndImport.bulk.success",{count:i.success})),i.fails>0&&this.notificationService.error(this.translateService.get("suggestion.approveAndImport.bulk.error",{count:i.fails}))}),(0,v.n)(()=>this.updatePage())).subscribe()}onSelected(t,i){i?this.selectedSuggestions[t.id]=t:delete this.selectedSuggestions[t.id]}onToggleSelectAll(t){this.getSelectedSuggestionsCount()>0?this.selectedSuggestions={}:t.forEach(i=>{this.selectedSuggestions[i.id]=i})}getSelectedSuggestionsCount(){return Object.keys(this.selectedSuggestions).length}isCollectionFixed(t){return this.suggestionService.isCollectionFixed(t)}translateSuggestionSource(){return this.suggestionService.translateSuggestionSource(this.suggestionSource)}translateSuggestionType(){return this.suggestionService.translateSuggestionType(this.suggestionSource)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(G.uR),e.rXU(ve.I),e.rXU(X.m),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(le.F),e.rXU(de.x),e.rXU(d.c$),e.rXU(V.WorkspaceitemDataService))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-page"]],standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12"],[4,"ngVar"],[3,"type"],["target","_blank",3,"routerLink"],[1,"mb-3","mt-3"],[1,"btn","me-2","btn-light",3,"click"],[1,"m-2",3,"isBulk","isCollectionFixed"],[1,"fas","fa-circle-notch","fa-spin"],[3,"paginationOptions","sortOptions","collectionSize","hideGear","hidePagerWhenSinglePage","hidePaginationDetail"],[1,"m-2",3,"approveAndImport","ignoreSuggestionClicked","isBulk","isCollectionFixed"],[3,"paginationChange","paginationOptions","sortOptions","collectionSize","hideGear","hidePagerWhenSinglePage","hidePaginationDetail"],[1,"list-unstyled"],[1,"mt-4","mb-4"],[3,"ignoreSuggestionClicked","selected","approveAndImport","object","isSelected","isCollectionFixed"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,Fe,7,9,"ng-container",3),e.nI1(4,"async"),e.k0s()()()),2&i&&(e.R7$(3),e.Y8G("ngVar",e.bMT(4,1,s.suggestionsRD$)))},dependencies:[ue.C,D.Jj,he.e,_.Wk,y,ge,pe.v,d.h,d.D9,Se.r]})}}return n})();var ke=o(64959);const xe=[{path:":targetId",resolve:{suggestionTargets:(n,c,t=(0,e.WQX)(ke.SuggestionTargetDataService))=>t.getTargetById(n.params.targetId).pipe((0,m.qD)()),breadcrumb:(n,c,t=(0,e.WQX)(B))=>({provider:t,key:n.paramMap.get("targetId").split(":")[1]})},data:{title:"admin.notifications.publicationclaim.page.title",breadcrumbKey:"admin.notifications.publicationclaim",showBreadcrumbsFluid:!1},canActivate:[b.t],runGuardsAndResolvers:"always",component:Re}]}}]);