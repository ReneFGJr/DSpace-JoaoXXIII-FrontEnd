"use strict";exports.id=2325,exports.ids=[2325],exports.modules={2325:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var i18n_breadcrumb_resolver=__webpack_require__(12213),ngx_translate_core=__webpack_require__(2385),bitstream_format_data_service=__webpack_require__(63639),operators=__webpack_require__(39022),notifications_service=__webpack_require__(76623),admin_registries_routing_paths=__webpack_require__(63876),core=__webpack_require__(25376),fesm2020_core=__webpack_require__(19519),environment=__webpack_require__(64369),bitstream_format_model=__webpack_require__(14665),bitstream_format_support_level=__webpack_require__(27407),empty_util=__webpack_require__(2794),form_component=__webpack_require__(27790),router=__webpack_require__(18134);function FormatFormComponent_Conditional_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-form",1),core.bIt("submitForm",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onSubmit())})("cancel",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onCancel())}),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)}}let FormatFormComponent=(()=>{class FormatFormComponent2{constructor(router2){this.router=router2,this.bitstreamFormat=new bitstream_format_model.v,this.updatedFormat=new core.bkB,this.supportLevelOptions=[{label:bitstream_format_support_level.c.Known,value:bitstream_format_support_level.c.Known},{label:bitstream_format_support_level.c.Unknown,value:bitstream_format_support_level.c.Unknown},{label:bitstream_format_support_level.c.Supported,value:bitstream_format_support_level.c.Supported}],this.arrayElementLayout={grid:{group:"row"}},this.arrayInputElementLayout={grid:{host:"col"}},this.formModel=[new fesm2020_core.rA_({id:"shortDescription",name:"shortDescription",label:"admin.registries.bitstream-formats.edit.shortDescription.label",hint:"admin.registries.bitstream-formats.edit.shortDescription.hint",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this bitstream format"}}),new fesm2020_core.rA_({id:"mimetype",name:"mimetype",label:"admin.registries.bitstream-formats.edit.mimetype.label",hint:"admin.registries.bitstream-formats.edit.mimetype.hint"}),new fesm2020_core.Zex({id:"description",name:"description",label:"admin.registries.bitstream-formats.edit.description.label",hint:"admin.registries.bitstream-formats.edit.description.hint",spellCheck:environment.c.form.spellCheck}),new fesm2020_core.z4z({id:"supportLevel",name:"supportLevel",options:this.supportLevelOptions,label:"admin.registries.bitstream-formats.edit.supportLevel.label",hint:"admin.registries.bitstream-formats.edit.supportLevel.hint",value:this.supportLevelOptions[0].value}),new fesm2020_core.M7d({id:"internal",name:"internal",label:"Internal",hint:"admin.registries.bitstream-formats.edit.internal.hint"}),new fesm2020_core.UqU({id:"extensions",name:"extensions",label:"admin.registries.bitstream-formats.edit.extensions.label",groupFactory:()=>[new fesm2020_core.rA_({id:"extension",placeholder:"admin.registries.bitstream-formats.edit.extensions.placeholder"},this.arrayInputElementLayout)]},this.arrayElementLayout)]}ngOnInit(){this.initValues()}initValues(){this.formModel.forEach(fieldModel=>{if("extensions"===fieldModel.name){if((0,empty_util.a4)(this.bitstreamFormat.extensions)){const extensions=this.bitstreamFormat.extensions,formArray=fieldModel;for(let i=0;i<extensions.length;i++)formArray.insertGroup(i).group[0]=new fesm2020_core.rA_({id:`extension-${i}`,value:extensions[i]},this.arrayInputElementLayout)}}else(0,empty_util.a4)(this.bitstreamFormat[fieldModel.name])&&(fieldModel.value=this.bitstreamFormat[fieldModel.name])})}onSubmit(){const updatedBitstreamFormat=Object.assign(new bitstream_format_model.v,{id:this.bitstreamFormat.id});this.formModel.forEach(fieldModel=>{if("extensions"===fieldModel.name){const formArray=fieldModel,extensions=[];for(let i=0;i<formArray.groups.length;i++){const value=formArray.get(i).get(0).value;(0,empty_util.Im)(value)||extensions.push(formArray.get(i).get(0).value)}updatedBitstreamFormat.extensions=extensions}else updatedBitstreamFormat[fieldModel.name]=fieldModel.value}),this.updatedFormat.emit(updatedBitstreamFormat)}onCancel(){this.router.navigate([(0,admin_registries_routing_paths.J)()])}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||FormatFormComponent2)(core.rXU(router.Ix))}}static{this.\u0275cmp=core.VBU({type:FormatFormComponent2,selectors:[["ds-bitstream-format-form"]],inputs:{bitstreamFormat:"bitstreamFormat"},outputs:{updatedFormat:"updatedFormat"},standalone:!0,features:[core.aNF],decls:1,vars:1,consts:[[3,"formId","formModel"],[3,"submitForm","cancel","formId","formModel"]],template:function(rf,ctx){1&rf&&core.DNE(0,FormatFormComponent_Conditional_0_Template,1,2,"ds-form",0),2&rf&&core.vxM(ctx.formModel?0:-1)},dependencies:[form_component.s],encapsulation:2})}}return FormatFormComponent2})(),AddBitstreamFormatComponent=(()=>{class AddBitstreamFormatComponent2{constructor(router2,notificationService,translateService,bitstreamFormatDataService){this.router=router2,this.notificationService=notificationService,this.translateService=translateService,this.bitstreamFormatDataService=bitstreamFormatDataService}createBitstreamFormat(bitstreamFormat){this.bitstreamFormatDataService.createBitstreamFormat(bitstreamFormat).pipe((0,operators.qD)()).subscribe(response=>{response.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.create.success.head"),this.translateService.get("admin.registries.bitstream-formats.create.success.content")),this.router.navigate([(0,admin_registries_routing_paths.J)()]),this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe()):this.notificationService.error(this.translateService.get("admin.registries.bitstream-formats.create.failure.head"),this.translateService.get("admin.registries.bitstream-formats.create.failure.content"))})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||AddBitstreamFormatComponent2)(core.rXU(router.Ix),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(bitstream_format_data_service.BitstreamFormatDataService))}}static{this.\u0275cmp=core.VBU({type:AddBitstreamFormatComponent2,selectors:[["ds-add-bitstream-format"]],standalone:!0,features:[core.aNF],decls:7,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"updatedFormat"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.j41(6,"ds-bitstream-format-form",4),core.bIt("updatedFormat",function($event){return ctx.createBitstreamFormat($event)}),core.k0s()()()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,1,"admin.registries.bitstream-formats.create.new")))},dependencies:[FormatFormComponent,ngx_translate_core.h,ngx_translate_core.D9],encapsulation:2})}}return AddBitstreamFormatComponent2})();var common=__webpack_require__(87514),cjs_operators=__webpack_require__(60444),pagination_service=__webpack_require__(31903),pagination_component=__webpack_require__(42191),pagination_component_options_model=__webpack_require__(54396);const _c0=a0=>["/admin/registries/bitstream-formats",a0,"edit"];function BitstreamFormatsComponent_Conditional_13_For_24_Conditional_18_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI("(",core.bMT(2,1,"admin.registries.bitstream-formats.table.internal"),")"))}function BitstreamFormatsComponent_Conditional_13_For_24_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"tr")(1,"td")(2,"label",15)(3,"input",16),core.nI1(4,"async"),core.nI1(5,"translate"),core.bIt("change",function($event){const bitstreamFormat_r2=core.eBV(_r1).$implicit,ctx_r2=core.XpG(2);return core.Njj(ctx_r2.selectBitStreamFormat(bitstreamFormat_r2,$event))}),core.k0s(),core.j41(6,"span",14),core.EFF(7),core.nI1(8,"translate"),core.k0s()()(),core.j41(9,"td")(10,"a",17),core.EFF(11),core.k0s()(),core.j41(12,"td")(13,"a",17),core.EFF(14),core.k0s()(),core.j41(15,"td")(16,"a",17),core.EFF(17),core.DNE(18,BitstreamFormatsComponent_Conditional_13_For_24_Conditional_18_Template,3,3,"span"),core.k0s()(),core.j41(19,"td")(20,"a",17),core.EFF(21),core.nI1(22,"translate"),core.k0s()()()}if(2&rf){let tmp_11_0;const bitstreamFormat_r2=ctx.$implicit,ctx_r2=core.XpG(2);core.R7$(3),core.Y8G("checked",null==(tmp_11_0=core.bMT(4,12,ctx_r2.selectedBitstreamFormatIDs$))?null:tmp_11_0.includes(bitstreamFormat_r2.id)),core.BMQ("aria-label",core.bMT(5,14,"admin.registries.bitstream-formats.select")),core.R7$(4),core.SpI("",core.bMT(8,16,"admin.registries.bitstream-formats.select"),"}"),core.R7$(3),core.Y8G("routerLink",core.eq3(20,_c0,bitstreamFormat_r2.id)),core.R7$(),core.JRh(bitstreamFormat_r2.id),core.R7$(2),core.Y8G("routerLink",core.eq3(22,_c0,bitstreamFormat_r2.id)),core.R7$(),core.JRh(bitstreamFormat_r2.shortDescription),core.R7$(2),core.Y8G("routerLink",core.eq3(24,_c0,bitstreamFormat_r2.id)),core.R7$(),core.SpI("",bitstreamFormat_r2.mimetype," "),core.R7$(),core.vxM(bitstreamFormat_r2.internal?18:-1),core.R7$(2),core.Y8G("routerLink",core.eq3(26,_c0,bitstreamFormat_r2.id)),core.R7$(),core.JRh(core.bMT(22,18,"admin.registries.bitstream-formats.table.supportLevel."+bitstreamFormat_r2.supportLevel))}}function BitstreamFormatsComponent_Conditional_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-pagination",7),core.nI1(1,"async"),core.j41(2,"div",11)(3,"table",12)(4,"thead")(5,"tr")(6,"th",13)(7,"span",14),core.EFF(8),core.nI1(9,"translate"),core.k0s()(),core.j41(10,"th",13),core.EFF(11),core.nI1(12,"translate"),core.k0s(),core.j41(13,"th",13),core.EFF(14),core.nI1(15,"translate"),core.k0s(),core.j41(16,"th",13),core.EFF(17),core.nI1(18,"translate"),core.k0s(),core.j41(19,"th",13),core.EFF(20),core.nI1(21,"translate"),core.k0s()()(),core.j41(22,"tbody"),core.Z7z(23,BitstreamFormatsComponent_Conditional_13_For_24_Template,23,28,"tr",null,core.fX1),core.nI1(25,"async"),core.k0s()()()()),2&rf){let tmp_2_0,tmp_10_0;const ctx_r2=core.XpG();core.Y8G("paginationOptions",ctx_r2.pageConfig)("collectionSize",null==(tmp_2_0=core.bMT(1,9,ctx_r2.bitstreamFormats$))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),core.R7$(8),core.JRh(core.bMT(9,11,"admin.registries.bitstream-formats.table.selected")),core.R7$(3),core.JRh(core.bMT(12,13,"admin.registries.bitstream-formats.table.id")),core.R7$(3),core.JRh(core.bMT(15,15,"admin.registries.bitstream-formats.table.name")),core.R7$(3),core.JRh(core.bMT(18,17,"admin.registries.bitstream-formats.table.mimetype")),core.R7$(3),core.JRh(core.bMT(21,19,"admin.registries.bitstream-formats.table.supportLevel.head")),core.R7$(3),core.Dyx(null==(tmp_10_0=core.bMT(25,21,ctx_r2.bitstreamFormats$))||null==tmp_10_0.payload?null:tmp_10_0.payload.page)}}function BitstreamFormatsComponent_Conditional_15_Template(rf,ctx){1&rf&&(core.j41(0,"div",8),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"admin.registries.bitstream-formats.no-items")," "))}function BitstreamFormatsComponent_Conditional_18_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"button",18),core.bIt("click",function(){core.eBV(_r4);const ctx_r2=core.XpG();return core.Njj(ctx_r2.deselectAll())}),core.EFF(1),core.nI1(2,"translate"),core.k0s()}2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"admin.registries.bitstream-formats.table.deselect-all")))}function BitstreamFormatsComponent_Conditional_20_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"button",19),core.bIt("click",function(){core.eBV(_r5);const ctx_r2=core.XpG();return core.Njj(ctx_r2.deleteFormats())}),core.EFF(1),core.nI1(2,"translate"),core.k0s()}2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"admin.registries.bitstream-formats.table.delete")))}const edit_bitstream_format_component_c0=a0=>({format:a0}),providers=[],ROUTES=[{path:"",providers,component:(()=>{class BitstreamFormatsComponent2{constructor(notificationsService,translateService,bitstreamFormatService,paginationService){this.notificationsService=notificationsService,this.translateService=translateService,this.bitstreamFormatService=bitstreamFormatService,this.paginationService=paginationService,this.pageConfig=Object.assign(new pagination_component_options_model.W,{id:"rbp",pageSize:20,pageSizeOptions:[20,40,60,80,100]})}deleteFormats(){this.bitstreamFormatService.clearBitStreamFormatRequests(),this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,cjs_operators.s)(1),(0,cjs_operators.ZZ)(formats=>formats),(0,cjs_operators.ZZ)(format=>this.bitstreamFormatService.delete(format.id).pipe((0,operators.qD)(),(0,cjs_operators.Tj)(response=>response.hasSucceeded))),(0,cjs_operators.$r)()).subscribe(results=>{const successResponses=results.filter(result=>result),failedResponses=results.filter(result=>!result);successResponses.length>0&&this.showNotification(!0,successResponses.length),failedResponses.length>0&&this.showNotification(!1,failedResponses.length),this.deselectAll(),this.paginationService.resetPage(this.pageConfig.id)})}deselectAll(){this.bitstreamFormatService.deselectAllBitstreamFormats()}selectedBitstreamFormatIDs(){return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,cjs_operators.Tj)(bitstreamFormats=>bitstreamFormats.map(selectedFormat=>selectedFormat.id)))}selectBitStreamFormat(bitstreamFormat,event){event.target.checked?this.bitstreamFormatService.selectBitstreamFormat(bitstreamFormat):this.bitstreamFormatService.deselectBitstreamFormat(bitstreamFormat)}showNotification(success,amount){const prefix="admin.registries.bitstream-formats.delete",suffix=success?"success":"failure",head=this.translateService.instant(`${prefix}.${suffix}.head`),content=this.translateService.instant(`${prefix}.${suffix}.amount`,{amount});success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)}ngOnInit(){this.bitstreamFormats$=this.paginationService.getFindListOptions(this.pageConfig.id,this.pageConfig).pipe((0,cjs_operators.nx)(findListOptions=>this.bitstreamFormatService.findAll(findListOptions))),this.selectedBitstreamFormatIDs$=this.selectedBitstreamFormatIDs()}ngOnDestroy(){this.paginationService.clearPagination(this.pageConfig.id)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||BitstreamFormatsComponent2)(core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(bitstream_format_data_service.BitstreamFormatDataService),core.rXU(pagination_service.m))}}static{this.\u0275cmp=core.VBU({type:BitstreamFormatsComponent2,selectors:[["ds-bitstream-formats"]],standalone:!0,features:[core.aNF],decls:22,vars:22,consts:[[1,"container"],[1,"bitstream-formats","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description"],["id","create-new",1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],["role","alert",1,"alert","alert-info"],[1,"btn","btn-primary","deselect"],["type","submit",1,"btn","btn-danger","float-end"],[1,"table-responsive"],["id","formats",1,"table","table-striped","table-hover"],["scope","col"],[1,"sr-only"],[1,"form-label","mb-0"],["type","checkbox",3,"change","checked"],[3,"routerLink"],[1,"btn","btn-primary","deselect",3,"click"],["type","submit",1,"btn","btn-danger","float-end",3,"click"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.j41(6,"p",4),core.EFF(7),core.nI1(8,"translate"),core.k0s(),core.j41(9,"p",5)(10,"a",6),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.DNE(13,BitstreamFormatsComponent_Conditional_13_Template,26,23,"ds-pagination",7),core.nI1(14,"async"),core.DNE(15,BitstreamFormatsComponent_Conditional_15_Template,3,3,"div",8),core.nI1(16,"async"),core.j41(17,"div"),core.DNE(18,BitstreamFormatsComponent_Conditional_18_Template,3,3,"button",9),core.nI1(19,"async"),core.DNE(20,BitstreamFormatsComponent_Conditional_20_Template,3,3,"button",10),core.nI1(21,"async"),core.k0s()()()()),2&rf){let tmp_4_0,tmp_5_0,tmp_6_0,tmp_7_0;core.R7$(4),core.JRh(core.bMT(5,8,"admin.registries.bitstream-formats.head")),core.R7$(3),core.JRh(core.bMT(8,10,"admin.registries.bitstream-formats.description")),core.R7$(3),core.Y8G("routerLink","add"),core.R7$(),core.JRh(core.bMT(12,12,"admin.registries.bitstream-formats.create.new")),core.R7$(2),core.vxM((null==(tmp_4_0=core.bMT(14,14,ctx.bitstreamFormats$))||null==tmp_4_0.payload?null:tmp_4_0.payload.totalElements)>0?13:-1),core.R7$(2),core.vxM(0===(null==(tmp_5_0=core.bMT(16,16,ctx.bitstreamFormats$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)?15:-1),core.R7$(3),core.vxM((null==(tmp_6_0=core.bMT(19,18,ctx.bitstreamFormats$))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0?18:-1),core.R7$(2),core.vxM((null==(tmp_7_0=core.bMT(21,20,ctx.bitstreamFormats$))||null==tmp_7_0.payload||null==tmp_7_0.payload.page?null:tmp_7_0.payload.page.length)>0?20:-1)}},dependencies:[common.Jj,pagination_component.e,router.Wk,ngx_translate_core.h,ngx_translate_core.D9],encapsulation:2})}}return BitstreamFormatsComponent2})()},{path:"add",resolve:{breadcrumb:i18n_breadcrumb_resolver.S},providers,component:AddBitstreamFormatComponent,data:{breadcrumbKey:"admin.registries.bitstream-formats.create"}},{path:":id/edit",providers,component:(()=>{class EditBitstreamFormatComponent2{constructor(route,router2,notificationService,translateService,bitstreamFormatDataService){this.route=route,this.router=router2,this.notificationService=notificationService,this.translateService=translateService,this.bitstreamFormatDataService=bitstreamFormatDataService}ngOnInit(){this.bitstreamFormatRD$=this.route.data.pipe((0,cjs_operators.Tj)(data=>data.bitstreamFormat))}updateFormat(bitstreamFormat){this.bitstreamFormatDataService.updateBitstreamFormat(bitstreamFormat).pipe((0,operators.qD)()).subscribe(response=>{response.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.edit.success.head"),this.translateService.get("admin.registries.bitstream-formats.edit.success.content")),this.router.navigate([(0,admin_registries_routing_paths.J)()])):this.notificationService.error("admin.registries.bitstream-formats.edit.failure.head","admin.registries.bitstream-formats.create.edit.content")})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||EditBitstreamFormatComponent2)(core.rXU(router.nX),core.rXU(router.Ix),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(bitstream_format_data_service.BitstreamFormatDataService))}}static{this.\u0275cmp=core.VBU({type:EditBitstreamFormatComponent2,selectors:[["ds-edit-bitstream-format"]],standalone:!0,features:[core.aNF],decls:9,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"updatedFormat","bitstreamFormat"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),core.EFF(4),core.nI1(5,"async"),core.nI1(6,"translate"),core.k0s(),core.j41(7,"ds-bitstream-format-form",4),core.nI1(8,"async"),core.bIt("updatedFormat",function($event){return ctx.updateFormat($event)}),core.k0s()()()()),2&rf){let tmp_0_0,tmp_1_0;core.R7$(4),core.JRh(core.i5U(6,4,"admin.registries.bitstream-formats.edit.head",core.eq3(9,edit_bitstream_format_component_c0,null==(tmp_0_0=core.bMT(5,2,ctx.bitstreamFormatRD$))?null:tmp_0_0.payload.shortDescription))),core.R7$(3),core.Y8G("bitstreamFormat",null==(tmp_1_0=core.bMT(8,7,ctx.bitstreamFormatRD$))?null:tmp_1_0.payload)}},dependencies:[common.Jj,FormatFormComponent,ngx_translate_core.h,ngx_translate_core.D9],encapsulation:2})}}return EditBitstreamFormatComponent2})(),resolve:{bitstreamFormat:(route,state,bitstreamFormatDataService=(0,core.WQX)(bitstream_format_data_service.BitstreamFormatDataService))=>bitstreamFormatDataService.findById(route.params.id).pipe((0,operators.qD)()),breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"admin.registries.bitstream-formats.edit"}}]}};