exports.id=2205,exports.ids=[2205],exports.modules={43413:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ItemRequestDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(98465),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60444),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2794),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80996),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(99629),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63311),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26139),_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39022),_shared_request_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(40413),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(61640),_base_search_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(98861),_configuration_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93876),_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(76509),_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86583),_find_list_options_model__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(72248),_request_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(99381),_request_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64806),_angular_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(25376);let ItemRequestDataService=(()=>{class ItemRequestDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(requestService,rdbService,objectCache,halService,configService,authorizationService){super("itemrequests",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.configService=configService,this.authorizationService=authorizationService,this.searchData=new _base_search_data__WEBPACK_IMPORTED_MODULE_5__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getItemRequestEndpoint(){return this.halService.getEndpoint(this.linkPath)}getItemRequestEndpointByToken(token){return this.halService.getEndpoint(this.linkPath).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.pb)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.hj)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(href=>`${href}/${token}`))}requestACopy(itemRequest,captchaPayload){const requestId=this.requestService.generateRequestId(),href$=this.getItemRequestEndpoint(),options=Object.create({});if(captchaPayload){let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_13__.Lr;headers=headers.set("x-captcha-payload",captchaPayload),options.headers=headers}return href$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(href=>{const request=new _request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href,itemRequest,options);this.requestService.send(request,!1)})).subscribe(),this.rdbService.buildFromRequestUUID(requestId).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.qD)())}deny(token,email){return this.process(token,email,!1)}grant(token,email,suggestOpenAccess=!1,accessPeriod=null){return this.process(token,email,!0,suggestOpenAccess,accessPeriod)}process(token,email,grant,suggestOpenAccess=!1,accessPeriod=null){const requestId=this.requestService.generateRequestId();return this.getItemRequestEndpointByToken(token).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(endpointURL=>{const options=Object.create({});let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_13__.Lr;return headers=headers.append("Content-Type","application/json"),options.headers=headers,new _request_models__WEBPACK_IMPORTED_MODULE_9__.v_(requestId,endpointURL,JSON.stringify({acceptRequest:grant,responseMessage:email.message,subject:email.subject,suggestOpenAccess,accessPeriod}),options)}),(0,_shared_request_operators__WEBPACK_IMPORTED_MODULE_14__.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(requestId)}getSanitizedRequestByAccessToken(accessToken){const findListOptions=Object.assign({},new _find_list_options_model__WEBPACK_IMPORTED_MODULE_15__._,{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_16__.x("accessToken",accessToken)]}),hrefObs=this.getSearchByHref("byAccessToken",findListOptions);return this.searchData.findByHref(hrefObs)}searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.searchData.searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale)}getConfiguredAccessPeriods(){return this.configService.findByPropertyName("request.item.grant.link.period").pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(propertyRD=>propertyRD.hasSucceeded?propertyRD.payload.values:[]))}isProtectedByCaptcha(){return this.configService.findByPropertyName("request.item.create.captcha").pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Tj)(rd=>!!rd.hasSucceeded&&rd.payload.values.length>0&&"true"===rd.payload.values[0]))}getSearchByHref(searchMethod,options,...linksToFollow){return this.searchData.getSearchByHref(searchMethod,options,...linksToFollow)}canDownload(bitstream){return this.authorizationService.isAuthorized(_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_8__._.CanDownload,bitstream?.self)}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||ItemRequestDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_configuration_data_service__WEBPACK_IMPORTED_MODULE_6__.ConfigurationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_17__.KVO(_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_7__.AuthorizationDataService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_17__.jDH({token:ItemRequestDataService2,factory:ItemRequestDataService2.\u0275fac,providedIn:"root"})}}return ItemRequestDataService2})()},58605:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DenyRequestCopyComponent:()=>DenyRequestCopyComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(87514),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2385),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(60444),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54545),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11481),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94149),_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43413),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36113),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39022),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2794),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18869),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(76623),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(17543),_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19367),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(18134);function DenyRequestCopyComponent_div_0_Conditional_4_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_9__.j41(0,"div")(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.j41(4,"ds-email-request-copy",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.bIt("send",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_9__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_9__.Njj(ctx_r1.deny($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(3,3,"deny-request-copy.intro")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y8G("subject",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(5,5,ctx_r1.subject$))("message",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(6,7,ctx_r1.message$))}}function DenyRequestCopyComponent_div_0_Conditional_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_9__.nrm(0,"ds-loading")}function DenyRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.j41(0,"div",1)(1,"h3",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.DNE(4,DenyRequestCopyComponent_div_0_Conditional_4_Template,7,9,"div")(5,DenyRequestCopyComponent_div_0_Conditional_5_Template,1,0,"ds-loading"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.k0s()),2&rf){const itemRequestRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(3,3,"deny-request-copy.header")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.vxM(itemRequestRD_r3&&itemRequestRD_r3.hasSucceeded?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.vxM(!itemRequestRD_r3||null!=itemRequestRD_r3&&itemRequestRD_r3.isLoading?5:-1)}}let DenyRequestCopyComponent=(()=>{class DenyRequestCopyComponent2{constructor(router,route,authService,translateService,itemDataService,nameService,itemRequestService,notificationsService){this.router=router,this.route=route,this.authService=authService,this.translateService=translateService,this.itemDataService=itemDataService,this.nameService=nameService,this.itemRequestService=itemRequestService,this.notificationsService=notificationsService}ngOnInit(){this.itemRequestRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Tj)(data=>data.request),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.qD)(),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__.QD)(this.router,this.authService));const msgParams$=(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([this.itemRequestRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.ak)()),this.authService.getAuthenticatedUserFromStore()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.nx)(([itemRequest,user])=>this.itemDataService.findById(itemRequest.itemId).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Tj)(item=>{const uri=item.firstMetadataValue("dc.identifier.uri");return Object.assign({recipientName:itemRequest.requestName,itemUrl:(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.hj)(uri)?uri:item.handle,itemName:this.nameService.getName(item),authorName:this.nameService.getName(user),authorEmail:user.email})}))));this.subject$=this.translateService.get("deny-request-copy.email.subject"),this.message$=msgParams$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.nx)(params=>this.translateService.get("deny-request-copy.email.message",params)))}deny(email){this.itemRequestRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.nx)(itemRequest=>this.itemRequestService.deny(itemRequest.token,email)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get("deny-request-copy.success")),this.router.navigateByUrl("/")):this.notificationsService.error(this.translateService.get("deny-request-copy.error"),rd.errorMessage)})}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||DenyRequestCopyComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_2__.ItemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_3__.W),_angular_core__WEBPACK_IMPORTED_MODULE_9__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__.I))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.VBU({type:DenyRequestCopyComponent2,selectors:[["ds-base-deny-request-copy"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[3,"send","subject","message"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.DNE(0,DenyRequestCopyComponent_div_0_Template,6,5,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_9__.bMT(1,1,ctx.itemRequestRD$))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Jj,_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_8__.r,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__.r]})}}return DenyRequestCopyComponent2})()},19367:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>ThemedEmailRequestCopyComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25376),src_app_shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79241);const _c0=["*"];function ThemedEmailRequestCopyComponent_ng_template_0_Template(rf,ctx){}let ThemedEmailRequestCopyComponent=(()=>{class ThemedEmailRequestCopyComponent2 extends src_app_shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.send=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB,this.selectedAccessPeriod=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB,this.inAndOutputNames=["send","subject","message","selectedAccessPeriod","validAccessPeriods$"]}getComponentName(){return"EmailRequestCopyComponent"}importThemedComponent(themeName){return __webpack_require__(16292)(`./${themeName}/app/request-copy/email-request-copy/email-request-copy.component`)}importUnthemedComponent(){return __webpack_require__.e(1447).then(__webpack_require__.bind(__webpack_require__,31447))}static{this.\u0275fac=(()=>{let \u0275ThemedEmailRequestCopyComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedEmailRequestCopyComponent_BaseFactory||(\u0275ThemedEmailRequestCopyComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedEmailRequestCopyComponent2)))(__ngFactoryType__||ThemedEmailRequestCopyComponent2)}})()}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedEmailRequestCopyComponent2,selectors:[["ds-email-request-copy"]],inputs:{subject:"subject",message:"message",validAccessPeriods$:"validAccessPeriods$"},outputs:{send:"send",selectedAccessPeriod:"selectedAccessPeriod"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedEmailRequestCopyComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}}return ThemedEmailRequestCopyComponent2})()},69307:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GrantRequestCopyComponent:()=>GrantRequestCopyComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(87514),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(13054),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2385),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60444),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54545),_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43413),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36113),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39022),_core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(51202),_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88292),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2794),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18869),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76623),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(17543),_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(19367),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25376),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(18134),_core_services_hard_redirect_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(28403);function GrantRequestCopyComponent_div_0_Conditional_4_Conditional_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div")(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(4,"a",8),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(3,5,"grant-request-copy.intro.link.preview")," "),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("target","_blank"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.BMQ("routerLink",ctx_r1.previewLinkOptions.routerLink)("queryParams",ctx_r1.previewLinkOptions.queryParams),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.SpI(" ",ctx_r1.previewLink," ")}}function GrantRequestCopyComponent_div_0_Conditional_4_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div")(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(4,GrantRequestCopyComponent_div_0_Conditional_4_Conditional_4_Template,6,7,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(5,"ds-email-request-copy",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.bIt("send",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_7__.Njj(ctx_r1.grant($event))})("selectedAccessPeriod",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_7__.Njj(ctx_r1.selectAccessPeriod($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(8,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(11,"form",4)(12,"div",5)(13,"input",6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_7__.DH7(ctx_r1.suggestOpenAccess,$event)||(ctx_r1.suggestOpenAccess=$event),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(14,"label",7),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(15),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()()()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(3,8,"grant-request-copy.intro."+(ctx_r1.sendAsAttachment?"attachment":"link"))),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(!ctx_r1.sendAsAttachment&&ctx_r1.hasValue(ctx_r1.previewLink)?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("subject",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(6,10,ctx_r1.subject$))("message",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(7,12,ctx_r1.message$))("validAccessPeriods$",ctx_r1.validAccessPeriods$),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(10,14,"grant-deny-request-copy.email.permissions.info")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R50("ngModel",ctx_r1.suggestOpenAccess),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(16,16,"grant-deny-request-copy.email.permissions.label"))}}function GrantRequestCopyComponent_div_0_Conditional_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(0,"ds-loading")}function GrantRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div",1)(1,"h3",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(4,GrantRequestCopyComponent_div_0_Conditional_4_Template,17,18,"div")(5,GrantRequestCopyComponent_div_0_Conditional_5_Template,1,0,"ds-loading"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()),2&rf){const itemRequestRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(3,3,"grant-request-copy.header")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(itemRequestRD_r3&&itemRequestRD_r3.hasSucceeded?4:-1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.vxM(!itemRequestRD_r3||null!=itemRequestRD_r3&&itemRequestRD_r3.isLoading?5:-1)}}let GrantRequestCopyComponent=(()=>{class GrantRequestCopyComponent2{constructor(router,route,authService,translateService,itemRequestService,notificationsService,hardRedirectService){this.router=router,this.route=route,this.authService=authService,this.translateService=translateService,this.itemRequestService=itemRequestService,this.notificationsService=notificationsService,this.hardRedirectService=hardRedirectService,this.suggestOpenAccess=!1,this.accessPeriod=null,this.sendAsAttachment=!0,this.hasValue=_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.a4}ngOnInit(){this.itemRequestRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(data=>data.request),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Mi)(rd=>{rd.hasSucceeded&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.a4)(rd.payload.accessToken)&&(this.sendAsAttachment=!1,this.previewLinkOptions={routerLink:new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_10__.t((0,_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_11__.Fy)(),rd.payload.itemId).toString(),queryParams:{accessToken:rd.payload.accessToken}},this.previewLink=this.hardRedirectService.getCurrentOrigin()+this.previewLinkOptions.routerLink+"?accessToken="+rd.payload.accessToken)}),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_2__.QD)(this.router,this.authService)),this.validAccessPeriods$=this.itemRequestService.getConfiguredAccessPeriods(),this.subject$=this.translateService.get("grant-request-copy.email.subject")}grant(email){this.itemRequestRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(itemRequest=>this.itemRequestService.grant(itemRequest.token,email,this.suggestOpenAccess,this.accessPeriod)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get("grant-request-copy.success")),this.router.navigateByUrl("/")):this.notificationsService.error(this.translateService.get("grant-request-copy.error"),rd.errorMessage)})}selectAccessPeriod(accessPeriod){this.accessPeriod=accessPeriod}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||GrantRequestCopyComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_12__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_12__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_1__.W),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__.I),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_services_hard_redirect_service__WEBPACK_IMPORTED_MODULE_14__.$))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.VBU({type:GrantRequestCopyComponent2,selectors:[["ds-base-grant-request-copy"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[3,"send","selectedAccessPeriod","subject","message","validAccessPeriods$"],[1,"mb-3"],[1,"form-check"],["type","checkbox","value","","id","permissions","name","permissions",1,"form-check-input",3,"ngModelChange","ngModel"],["for","permissions",1,"form-check-label"],[1,"dont-break-out","d-block",3,"target"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(0,GrantRequestCopyComponent_div_0_Template,6,5,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,1,ctx.itemRequestRD$))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Jj,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.qT,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Zm,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.cb,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.vS,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.cV,_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_6__.r,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_4__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.D9,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_17__.r]})}}return GrantRequestCopyComponent2})()},52205:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var themed_component=__webpack_require__(79241),core=(__webpack_require__(58605),__webpack_require__(25376));const _c0=["*"];function ThemedDenyRequestCopyComponent_ng_template_0_Template(rf,ctx){}let ThemedDenyRequestCopyComponent=(()=>{class ThemedDenyRequestCopyComponent2 extends themed_component.J{getComponentName(){return"DenyRequestCopyComponent"}importThemedComponent(themeName){return __webpack_require__(67026)(`./${themeName}/app/request-copy/deny-request-copy/deny-request-copy.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,58605))}static{this.\u0275fac=(()=>{let \u0275ThemedDenyRequestCopyComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedDenyRequestCopyComponent_BaseFactory||(\u0275ThemedDenyRequestCopyComponent_BaseFactory=core.xGo(ThemedDenyRequestCopyComponent2)))(__ngFactoryType__||ThemedDenyRequestCopyComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedDenyRequestCopyComponent2,selectors:[["ds-deny-request-copy"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedDenyRequestCopyComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedDenyRequestCopyComponent2})();var common=__webpack_require__(87514),router=__webpack_require__(18134),ngx_translate_core=__webpack_require__(2385),operators=__webpack_require__(60444),auth_service=__webpack_require__(54545),dso_name_service=__webpack_require__(11481),item_data_service=__webpack_require__(94149),authorized_operators=__webpack_require__(36113),shared_operators=__webpack_require__(39022),item_page_routing_paths=__webpack_require__(88292),themed_loading_component=__webpack_require__(18869),var_directive=__webpack_require__(17543),app_routing_paths=__webpack_require__(31788),url_combiner=__webpack_require__(51202);function getRequestCopyRoute(token){return new url_combiner.t((0,app_routing_paths.EI)(),token).toString()}const grant_deny_request_copy_component_c0=(a0,a1)=>({url:a0,name:a1});function GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_8_Template(rf,ctx){1&rf&&(core.j41(0,"p"),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"grant-deny-request-copy.previous-decision")))}function GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_10_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",7),core.nI1(1,"translate"),core.nI1(2,"async"),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"a",6),core.nI1(6,"translate"),core.nI1(7,"async"),core.EFF(8),core.nI1(9,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG(4);core.FS9("title",core.bMT(1,6,"grant-deny-request-copy.grant")),core.Y8G("routerLink",core.bMT(2,8,ctx_r0.grantRoute$)),core.R7$(3),core.SpI(" ",core.bMT(4,10,"grant-deny-request-copy.grant")," "),core.R7$(2),core.FS9("title",core.bMT(6,12,"grant-deny-request-copy.deny")),core.Y8G("routerLink",core.bMT(7,14,ctx_r0.denyRoute$)),core.R7$(3),core.SpI(" ",core.bMT(9,16,"grant-deny-request-copy.deny")," ")}}function GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_11_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",6),core.nI1(1,"translate"),core.nI1(2,"async"),core.EFF(3),core.nI1(4,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG(4);core.FS9("title",core.bMT(1,3,"grant-deny-request-copy.revoke")),core.Y8G("routerLink",core.bMT(2,5,ctx_r0.denyRoute$)),core.R7$(3),core.SpI(" ",core.bMT(4,7,"grant-deny-request-copy.revoke")," ")}}function GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.nrm(1,"p",4),core.nI1(2,"async"),core.nI1(3,"async"),core.nI1(4,"translate"),core.j41(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.DNE(8,GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_8_Template,3,3,"p"),core.j41(9,"div",5),core.DNE(10,GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_10_Template,10,18)(11,GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Conditional_11_Template,5,9,"a",6),core.k0s()()),2&rf){const itemRequestRD_r2=core.XpG(2).ngVar,ctx_r0=core.XpG();core.R7$(),core.Y8G("innerHTML",core.i5U(4,9,"grant-deny-request-copy.intro1",core.l_i(14,grant_deny_request_copy_component_c0,core.bMT(2,5,ctx_r0.itemUrl$),core.bMT(3,7,ctx_r0.itemName$))),core.npT),core.R7$(5),core.JRh(core.bMT(7,12,"grant-deny-request-copy.intro2")),core.R7$(2),core.vxM(itemRequestRD_r2.payload.decisionDate?8:-1),core.R7$(2),core.vxM(itemRequestRD_r2.payload.decisionDate?-1:10),core.R7$(),core.vxM(itemRequestRD_r2.payload.decisionDate&&!0===itemRequestRD_r2.payload.acceptRequest&&itemRequestRD_r2.payload.accessToken?11:-1)}}function GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_2_Template(rf,ctx){1&rf&&(core.j41(0,"div",3)(1,"p"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"p",8)(5,"a",9),core.EFF(6),core.nI1(7,"translate"),core.k0s()()()),2&rf&&(core.R7$(2),core.JRh(core.bMT(3,2,"grant-deny-request-copy.processed")),core.R7$(4),core.JRh(core.bMT(7,4,"grant-deny-request-copy.home-page")))}function GrantDenyRequestCopyComponent_div_0_Conditional_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.DNE(1,GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_1_Template,12,17,"div")(2,GrantDenyRequestCopyComponent_div_0_Conditional_4_Conditional_2_Template,8,6,"div",3),core.k0s()),2&rf){const itemRequestRD_r2=core.XpG().ngVar;core.R7$(),core.vxM(!itemRequestRD_r2.payload.decisionDate||!0===itemRequestRD_r2.payload.acceptRequest&&itemRequestRD_r2.payload.accessToken?1:-1),core.R7$(),core.vxM(!itemRequestRD_r2.payload.decisionDate||itemRequestRD_r2.payload.acceptRequest&&itemRequestRD_r2.payload.accessToken?-1:2)}}function GrantDenyRequestCopyComponent_div_0_Conditional_5_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}function GrantDenyRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",1)(1,"h3",2),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.DNE(4,GrantDenyRequestCopyComponent_div_0_Conditional_4_Template,3,2,"div")(5,GrantDenyRequestCopyComponent_div_0_Conditional_5_Template,1,0,"ds-loading"),core.k0s()),2&rf){const itemRequestRD_r2=ctx.ngVar;core.R7$(2),core.JRh(core.bMT(3,3,"grant-deny-request-copy.header")),core.R7$(2),core.vxM(itemRequestRD_r2&&itemRequestRD_r2.hasSucceeded?4:-1),core.R7$(),core.vxM(!itemRequestRD_r2||null!=itemRequestRD_r2&&itemRequestRD_r2.isLoading?5:-1)}}let GrantDenyRequestCopyComponent=(()=>{class GrantDenyRequestCopyComponent2{constructor(router2,route,authService,itemDataService,nameService){this.router=router2,this.route=route,this.authService=authService,this.itemDataService=itemDataService,this.nameService=nameService}ngOnInit(){this.itemRequestRD$=this.route.data.pipe((0,operators.Tj)(data=>data.request),(0,shared_operators.qD)(),(0,authorized_operators.QD)(this.router,this.authService)),this.itemRD$=this.itemRequestRD$.pipe((0,shared_operators.ak)(),(0,operators.nx)(itemRequest=>this.itemDataService.findById(itemRequest.itemId))),this.itemName$=this.itemRD$.pipe((0,shared_operators.ak)(),(0,operators.Tj)(item=>this.nameService.getName(item))),this.itemUrl$=this.itemRD$.pipe((0,shared_operators.ak)(),(0,operators.Tj)(item=>(0,item_page_routing_paths._o)(item))),this.denyRoute$=this.itemRequestRD$.pipe((0,shared_operators.ak)(),(0,operators.Tj)(itemRequest=>function getRequestCopyDenyRoute(token){return new url_combiner.t(getRequestCopyRoute(token),"deny").toString()}(itemRequest.token))),this.grantRoute$=this.itemRequestRD$.pipe((0,shared_operators.ak)(),(0,operators.Tj)(itemRequest=>function getRequestCopyGrantRoute(token){return new url_combiner.t(getRequestCopyRoute(token),"grant").toString()}(itemRequest.token)))}static{this.\u0275fac=function(__ngFactoryType__){return new(__ngFactoryType__||GrantDenyRequestCopyComponent2)(core.rXU(router.Ix),core.rXU(router.nX),core.rXU(auth_service.uR),core.rXU(item_data_service.ItemDataService),core.rXU(dso_name_service.f))}}static{this.\u0275cmp=core.VBU({type:GrantDenyRequestCopyComponent2,selectors:[["ds-grant-deny-request-copy"]],standalone:!0,features:[core.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[1,"processed-message"],[3,"innerHTML"],[1,"btn-group"],[1,"btn","btn-outline-danger",3,"routerLink","title"],[1,"btn","btn-outline-primary",3,"routerLink","title"],[1,"text-center"],["routerLink","/home","role","button","tabindex","0",1,"btn","btn-primary"]],template:function(rf,ctx){1&rf&&(core.DNE(0,GrantDenyRequestCopyComponent_div_0_Template,6,5,"div",0),core.nI1(1,"async")),2&rf&&core.Y8G("ngVar",core.bMT(1,1,ctx.itemRequestRD$))},dependencies:[common.Jj,router.Wk,themed_loading_component.v,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r]})}}return GrantDenyRequestCopyComponent2})();__webpack_require__(69307);const themed_grant_request_copy_component_c0=["*"];function ThemedGrantRequestCopyComponent_ng_template_0_Template(rf,ctx){}let ThemedGrantRequestCopyComponent=(()=>{class ThemedGrantRequestCopyComponent2 extends themed_component.J{getComponentName(){return"GrantRequestCopyComponent"}importThemedComponent(themeName){return __webpack_require__(63572)(`./${themeName}/app/request-copy/grant-request-copy/grant-request-copy.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,69307))}static{this.\u0275fac=(()=>{let \u0275ThemedGrantRequestCopyComponent_BaseFactory;return function(__ngFactoryType__){return(\u0275ThemedGrantRequestCopyComponent_BaseFactory||(\u0275ThemedGrantRequestCopyComponent_BaseFactory=core.xGo(ThemedGrantRequestCopyComponent2)))(__ngFactoryType__||ThemedGrantRequestCopyComponent2)}})()}static{this.\u0275cmp=core.VBU({type:ThemedGrantRequestCopyComponent2,selectors:[["ds-grant-request-copy"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_grant_request_copy_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedGrantRequestCopyComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}}return ThemedGrantRequestCopyComponent2})();var item_request_data_service=__webpack_require__(43413);const ROUTES=[{path:":token",resolve:{request:(route,state,itemRequestDataService=(0,core.WQX)(item_request_data_service.W))=>itemRequestDataService.findById(route.params.token).pipe((0,shared_operators.qD)())},children:[{path:"",component:GrantDenyRequestCopyComponent},{path:"deny",component:ThemedDenyRequestCopyComponent},{path:"grant",component:ThemedGrantRequestCopyComponent}]}]},67026:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/request-copy/deny-request-copy/deny-request-copy.component":[55236,5236]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=67026,module.exports=webpackAsyncContext},16292:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/request-copy/email-request-copy/email-request-copy.component":[38254,8254]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=16292,module.exports=webpackAsyncContext},63572:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/request-copy/grant-request-copy/grant-request-copy.component":[19982,9982]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=63572,module.exports=webpackAsyncContext}};